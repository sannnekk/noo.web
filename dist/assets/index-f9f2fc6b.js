import{d as g,C as u,u as y,a as v,y as f,o as p,b as m,e as x,f as _,g as t,v as k,_ as S,j as h,m as U}from"./index-227761f5.js";import{_ as L}from"./entity-table-8e7157fb.js";import"./useDate-126c6fe0.js";const V=g("students-module:students",()=>{const c=u.Services.User,o=u.Services.UI,{pagination:e,results:a,resultsMeta:s,isListLoading:n}=y(i);async function i(l){try{return await c.getOwnStudents(l)}catch(r){o.openErrorModal("Произошла ошибка при получении списка студентов",r.message)}}return{pagination:e,results:a,resultsMeta:s,isListLoading:n}}),w={class:"index-students-view"},C={class:"index-students-view__search"},b={key:0,class:"index-students-view__pagination"},M=v({__name:"index",setup(c){var a;const o=[{title:"",keys:["avatar.url","name"],type:"avatar"},{title:"Имя",keys:["name"],type:"text"},{title:"Никнейм",keys:["username"],type:"text"},{title:"E-mail",keys:["email"],type:"text"},{title:"Telegram",keys:["telegramUsername"],type:"link",design:"telegram",linkTo:s=>`https://t.me/${s.telegramUsername}`},{title:"",value:((a=u.Context.User)==null?void 0:a.role)==="mentor"?"Перейти":"Редактировать",type:"link",design:"secondary",linkTo:s=>`/users/edit/${s.username}`}],e=V();return f("Мои ученики"),(s,n)=>{const i=S,l=L,r=h;return p(),m("div",w,[x("div",C,[_(i,{modelValue:t(e).pagination.search,"onUpdate:modelValue":n[0]||(n[0]=d=>t(e).pagination.search=d),"is-loading":t(e).isListLoading},null,8,["modelValue","is-loading"])]),_(l,{cols:o,data:t(e).results,"is-loading":t(e).isListLoading},null,8,["data","is-loading"]),t(e).resultsMeta.total?(p(),m("div",b,[_(r,{page:t(e).pagination.page,"onUpdate:page":n[1]||(n[1]=d=>t(e).pagination.page=d),total:t(e).resultsMeta.total,limit:t(e).pagination.limit},null,8,["page","total","limit"])])):k("",!0)])}}});const N=U(M,[["__scopeId","data-v-b36ff9d2"]]);export{N as default};
