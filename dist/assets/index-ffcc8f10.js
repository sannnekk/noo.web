var I7=Object.defineProperty;var O7=(t,e,n)=>e in t?I7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ee=(t,e,n)=>(O7(t,typeof e!="symbol"?e+"":e,n),n),dg=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var Fn=(t,e,n)=>(dg(t,e,"read from private field"),n?n.call(t):e.get(t)),qs=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},vo=(t,e,n,s)=>(dg(t,e,"write to private field"),s?s.call(t,n):e.set(t,n),n);var Lc=(t,e,n,s)=>({set _(i){vo(t,e,i,n)},get _(){return Fn(t,e,s)}}),yo=(t,e,n)=>(dg(t,e,"access private method"),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();/**
* @vue/shared v3.4.37
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Ep(t,e){const n=new Set(t.split(","));return e?s=>n.has(s.toLowerCase()):s=>n.has(s)}const Bt={},Il=[],gs=()=>{},D7=()=>!1,Id=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),X_=t=>t.startsWith("onUpdate:"),dn=Object.assign,J_=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},L7=Object.prototype.hasOwnProperty,Rt=(t,e)=>L7.call(t,e),Fe=Array.isArray,Ol=t=>_c(t)==="[object Map]",za=t=>_c(t)==="[object Set]",s2=t=>_c(t)==="[object Date]",P7=t=>_c(t)==="[object RegExp]",ct=t=>typeof t=="function",an=t=>typeof t=="string",no=t=>typeof t=="symbol",Yt=t=>t!==null&&typeof t=="object",Q_=t=>(Yt(t)||ct(t))&&ct(t.then)&&ct(t.catch),m8=Object.prototype.toString,_c=t=>m8.call(t),R7=t=>_c(t).slice(8,-1),g8=t=>_c(t)==="[object Object]",ev=t=>an(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Dl=Ep(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Tp=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},V7=/-(\w)/g,os=Tp(t=>t.replace(V7,(e,n)=>n?n.toUpperCase():"")),N7=/\B([A-Z])/g,Ts=Tp(t=>t.replace(N7,"-$1").toLowerCase()),Od=Tp(t=>t.charAt(0).toUpperCase()+t.slice(1)),du=Tp(t=>t?`on${Od(t)}`:""),ms=(t,e)=>!Object.is(t,e),Ll=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},_8=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},Nf=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Uf=t=>{const e=an(t)?Number(t):NaN;return isNaN(e)?t:e};let i2;const v8=()=>i2||(i2=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),U7="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error",B7=Ep(U7);function Qt(t){if(Fe(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],i=an(s)?W7(s):Qt(s);if(i)for(const o in i)e[o]=i[o]}return e}else if(an(t)||Yt(t))return t}const j7=/;(?![^(]*\))/g,z7=/:([^]+)/,F7=/\/\*[^]*?\*\//g;function W7(t){const e={};return t.replace(F7,"").split(j7).forEach(n=>{if(n){const s=n.split(z7);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function Se(t){let e="";if(an(t))e=t;else if(Fe(t))for(let n=0;n<t.length;n++){const s=Se(t[n]);s&&(e+=s+" ")}else if(Yt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function y8(t){if(!t)return null;let{class:e,style:n}=t;return e&&!an(e)&&(t.class=Se(e)),n&&(t.style=Qt(n)),t}const H7="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",q7=Ep(H7);function b8(t){return!!t||t===""}function G7(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=Pr(t[s],e[s]);return n}function Pr(t,e){if(t===e)return!0;let n=s2(t),s=s2(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=no(t),s=no(e),n||s)return t===e;if(n=Fe(t),s=Fe(e),n||s)return n&&s?G7(t,e):!1;if(n=Yt(t),s=Yt(e),n||s){if(!n||!s)return!1;const i=Object.keys(t).length,o=Object.keys(e).length;if(i!==o)return!1;for(const r in t){const a=t.hasOwnProperty(r),l=e.hasOwnProperty(r);if(a&&!l||!a&&l||!Pr(t[r],e[r]))return!1}}return String(t)===String(e)}function Ap(t,e){return t.findIndex(n=>Pr(n,e))}const w8=t=>!!(t&&t.__v_isRef===!0),H=t=>an(t)?t:t==null?"":Fe(t)||Yt(t)&&(t.toString===m8||!ct(t.toString))?w8(t)?H(t.value):JSON.stringify(t,x8,2):String(t),x8=(t,e)=>w8(e)?x8(t,e.value):Ol(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,i],o)=>(n[hg(s,o)+" =>"]=i,n),{})}:za(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>hg(n))}:no(e)?hg(e):Yt(e)&&!Fe(e)&&!g8(e)?String(e):e,hg=(t,e="")=>{var n;return no(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.4.37
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Vs;class tv{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Vs,!e&&Vs&&(this.index=(Vs.scopes||(Vs.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Vs;try{return Vs=this,e()}finally{Vs=n}}}on(){Vs=this}off(){Vs=this.parent}stop(e){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function nv(t){return new tv(t)}function S8(t,e=Vs){e&&e.active&&e.effects.push(t)}function sv(){return Vs}function k8(t){Vs&&Vs.cleanups.push(t)}let ya;class Yl{constructor(e,n,s,i){this.fn=e,this.trigger=n,this.scheduler=s,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,S8(this,i)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Gr();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(Y7(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Yr()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=Ir,n=ya;try{return Ir=!0,ya=this,this._runnings++,o2(this),this.fn()}finally{r2(this),this._runnings--,ya=n,Ir=e}}stop(){this.active&&(o2(this),r2(this),this.onStop&&this.onStop(),this.active=!1)}}function Y7(t){return t.value}function o2(t){t._trackId++,t._depsLength=0}function r2(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)$8(t.deps[e],t);t.deps.length=t._depsLength}}function $8(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}function K7(t,e){t.effect instanceof Yl&&(t=t.effect.fn);const n=new Yl(t,gs,()=>{n.dirty&&n.run()});e&&(dn(n,e),e.scope&&S8(n,e.scope)),(!e||!e.lazy)&&n.run();const s=n.run.bind(n);return s.effect=n,s}function Z7(t){t.effect.stop()}let Ir=!0,m1=0;const C8=[];function Gr(){C8.push(Ir),Ir=!1}function Yr(){const t=C8.pop();Ir=t===void 0?!0:t}function iv(){m1++}function ov(){for(m1--;!m1&&g1.length;)g1.shift()()}function E8(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const s=t.deps[t._depsLength];s!==e?(s&&$8(s,t),t.deps[t._depsLength++]=e):t._depsLength++}}const g1=[];function T8(t,e,n){iv();for(const s of t.keys()){let i;s._dirtyLevel<e&&(i??(i=t.get(s)===s._trackId))&&(s._shouldSchedule||(s._shouldSchedule=s._dirtyLevel===0),s._dirtyLevel=e),s._shouldSchedule&&(i??(i=t.get(s)===s._trackId))&&(s.trigger(),(!s._runnings||s.allowRecurse)&&s._dirtyLevel!==2&&(s._shouldSchedule=!1,s.scheduler&&g1.push(s.scheduler)))}ov()}const A8=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},Bf=new WeakMap,ba=Symbol(""),_1=Symbol("");function Os(t,e,n){if(Ir&&ya){let s=Bf.get(t);s||Bf.set(t,s=new Map);let i=s.get(n);i||s.set(n,i=A8(()=>s.delete(n))),E8(ya,i)}}function Bo(t,e,n,s,i,o){const r=Bf.get(t);if(!r)return;let a=[];if(e==="clear")a=[...r.values()];else if(n==="length"&&Fe(t)){const l=Number(s);r.forEach((c,u)=>{(u==="length"||!no(u)&&u>=l)&&a.push(c)})}else switch(n!==void 0&&a.push(r.get(n)),e){case"add":Fe(t)?ev(n)&&a.push(r.get("length")):(a.push(r.get(ba)),Ol(t)&&a.push(r.get(_1)));break;case"delete":Fe(t)||(a.push(r.get(ba)),Ol(t)&&a.push(r.get(_1)));break;case"set":Ol(t)&&a.push(r.get(ba));break}iv();for(const l of a)l&&T8(l,4);ov()}function X7(t,e){const n=Bf.get(t);return n&&n.get(e)}const J7=Ep("__proto__,__v_isRef,__isVue"),M8=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(no)),a2=Q7();function Q7(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const s=Dt(this);for(let o=0,r=this.length;o<r;o++)Os(s,"get",o+"");const i=s[e](...n);return i===-1||i===!1?s[e](...n.map(Dt)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Gr(),iv();const s=Dt(this)[e].apply(this,n);return ov(),Yr(),s}}),t}function ex(t){no(t)||(t=String(t));const e=Dt(this);return Os(e,"has",t),e.hasOwnProperty(t)}class I8{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){const i=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return o;if(n==="__v_raw")return s===(i?o?V8:R8:o?P8:L8).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const r=Fe(e);if(!i){if(r&&Rt(a2,n))return Reflect.get(a2,n,s);if(n==="hasOwnProperty")return ex}const a=Reflect.get(e,n,s);return(no(n)?M8.has(n):J7(n))||(i||Os(e,"get",n),o)?a:xn(a)?r&&ev(n)?a:a.value:Yt(a)?i?lv(a):Gt(a):a}}class O8 extends I8{constructor(e=!1){super(!1,e)}set(e,n,s,i){let o=e[n];if(!this._isShallow){const l=Rr(o);if(!Ta(s)&&!Rr(s)&&(o=Dt(o),s=Dt(s)),!Fe(e)&&xn(o)&&!xn(s))return l?!1:(o.value=s,!0)}const r=Fe(e)&&ev(n)?Number(n)<e.length:Rt(e,n),a=Reflect.set(e,n,s,i);return e===Dt(i)&&(r?ms(s,o)&&Bo(e,"set",n,s):Bo(e,"add",n,s)),a}deleteProperty(e,n){const s=Rt(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&s&&Bo(e,"delete",n,void 0),i}has(e,n){const s=Reflect.has(e,n);return(!no(n)||!M8.has(n))&&Os(e,"has",n),s}ownKeys(e){return Os(e,"iterate",Fe(e)?"length":ba),Reflect.ownKeys(e)}}class D8 extends I8{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const tx=new O8,nx=new D8,sx=new O8(!0),ix=new D8(!0),rv=t=>t,Mp=t=>Reflect.getPrototypeOf(t);function bh(t,e,n=!1,s=!1){t=t.__v_raw;const i=Dt(t),o=Dt(e);n||(ms(e,o)&&Os(i,"get",e),Os(i,"get",o));const{has:r}=Mp(i),a=s?rv:n?uv:Nu;if(r.call(i,e))return a(t.get(e));if(r.call(i,o))return a(t.get(o));t!==i&&t.get(e)}function wh(t,e=!1){const n=this.__v_raw,s=Dt(n),i=Dt(t);return e||(ms(t,i)&&Os(s,"has",t),Os(s,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function xh(t,e=!1){return t=t.__v_raw,!e&&Os(Dt(t),"iterate",ba),Reflect.get(t,"size",t)}function l2(t,e=!1){!e&&!Ta(t)&&!Rr(t)&&(t=Dt(t));const n=Dt(this);return Mp(n).has.call(n,t)||(n.add(t),Bo(n,"add",t,t)),this}function c2(t,e,n=!1){!n&&!Ta(e)&&!Rr(e)&&(e=Dt(e));const s=Dt(this),{has:i,get:o}=Mp(s);let r=i.call(s,t);r||(t=Dt(t),r=i.call(s,t));const a=o.call(s,t);return s.set(t,e),r?ms(e,a)&&Bo(s,"set",t,e):Bo(s,"add",t,e),this}function u2(t){const e=Dt(this),{has:n,get:s}=Mp(e);let i=n.call(e,t);i||(t=Dt(t),i=n.call(e,t)),s&&s.call(e,t);const o=e.delete(t);return i&&Bo(e,"delete",t,void 0),o}function d2(){const t=Dt(this),e=t.size!==0,n=t.clear();return e&&Bo(t,"clear",void 0,void 0),n}function Sh(t,e){return function(s,i){const o=this,r=o.__v_raw,a=Dt(r),l=e?rv:t?uv:Nu;return!t&&Os(a,"iterate",ba),r.forEach((c,u)=>s.call(i,l(c),l(u),o))}}function kh(t,e,n){return function(...s){const i=this.__v_raw,o=Dt(i),r=Ol(o),a=t==="entries"||t===Symbol.iterator&&r,l=t==="keys"&&r,c=i[t](...s),u=n?rv:e?uv:Nu;return!e&&Os(o,"iterate",l?_1:ba),{next(){const{value:d,done:h}=c.next();return h?{value:d,done:h}:{value:a?[u(d[0]),u(d[1])]:u(d),done:h}},[Symbol.iterator](){return this}}}}function lr(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function ox(){const t={get(o){return bh(this,o)},get size(){return xh(this)},has:wh,add:l2,set:c2,delete:u2,clear:d2,forEach:Sh(!1,!1)},e={get(o){return bh(this,o,!1,!0)},get size(){return xh(this)},has:wh,add(o){return l2.call(this,o,!0)},set(o,r){return c2.call(this,o,r,!0)},delete:u2,clear:d2,forEach:Sh(!1,!0)},n={get(o){return bh(this,o,!0)},get size(){return xh(this,!0)},has(o){return wh.call(this,o,!0)},add:lr("add"),set:lr("set"),delete:lr("delete"),clear:lr("clear"),forEach:Sh(!0,!1)},s={get(o){return bh(this,o,!0,!0)},get size(){return xh(this,!0)},has(o){return wh.call(this,o,!0)},add:lr("add"),set:lr("set"),delete:lr("delete"),clear:lr("clear"),forEach:Sh(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=kh(o,!1,!1),n[o]=kh(o,!0,!1),e[o]=kh(o,!1,!0),s[o]=kh(o,!0,!0)}),[t,n,e,s]}const[rx,ax,lx,cx]=ox();function Ip(t,e){const n=e?t?cx:lx:t?ax:rx;return(s,i,o)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?s:Reflect.get(Rt(n,i)&&i in s?n:s,i,o)}const ux={get:Ip(!1,!1)},dx={get:Ip(!1,!0)},hx={get:Ip(!0,!1)},fx={get:Ip(!0,!0)},L8=new WeakMap,P8=new WeakMap,R8=new WeakMap,V8=new WeakMap;function px(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function mx(t){return t.__v_skip||!Object.isExtensible(t)?0:px(R7(t))}function Gt(t){return Rr(t)?t:Op(t,!1,tx,ux,L8)}function av(t){return Op(t,!1,sx,dx,P8)}function lv(t){return Op(t,!0,nx,hx,R8)}function gx(t){return Op(t,!0,ix,fx,V8)}function Op(t,e,n,s,i){if(!Yt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=i.get(t);if(o)return o;const r=mx(t);if(r===0)return t;const a=new Proxy(t,r===2?s:n);return i.set(t,a),a}function jo(t){return Rr(t)?jo(t.__v_raw):!!(t&&t.__v_isReactive)}function Rr(t){return!!(t&&t.__v_isReadonly)}function Ta(t){return!!(t&&t.__v_isShallow)}function cv(t){return t?!!t.__v_raw:!1}function Dt(t){const e=t&&t.__v_raw;return e?Dt(e):t}function Dp(t){return Object.isExtensible(t)&&_8(t,"__v_skip",!0),t}const Nu=t=>Yt(t)?Gt(t):t,uv=t=>Yt(t)?lv(t):t;class N8{constructor(e,n,s,i){this.getter=e,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Yl(()=>e(this._value),()=>Pl(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=s}get value(){const e=Dt(this);return(!e._cacheable||e.effect.dirty)&&ms(e._value,e._value=e.effect.run())&&Pl(e,4),dv(e),e.effect._dirtyLevel>=2&&Pl(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function _x(t,e,n=!1){let s,i;const o=ct(t);return o?(s=t,i=gs):(s=t.get,i=t.set),new N8(s,i,o||!i,n)}function dv(t){var e;Ir&&ya&&(t=Dt(t),E8(ya,(e=t.dep)!=null?e:t.dep=A8(()=>t.dep=void 0,t instanceof N8?t:void 0)))}function Pl(t,e=4,n,s){t=Dt(t);const i=t.dep;i&&T8(i,e)}function xn(t){return!!(t&&t.__v_isRef===!0)}function Y(t){return U8(t,!1)}function so(t){return U8(t,!0)}function U8(t,e){return xn(t)?t:new vx(t,e)}class vx{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Dt(e),this._value=n?e:Nu(e)}get value(){return dv(this),this._value}set value(e){const n=this.__v_isShallow||Ta(e)||Rr(e);e=n?e:Dt(e),ms(e,this._rawValue)&&(this._rawValue,this._rawValue=e,this._value=n?e:Nu(e),Pl(this,4))}}function yx(t){Pl(t,4)}function g(t){return xn(t)?t.value:t}function bx(t){return ct(t)?t():g(t)}const wx={get:(t,e,n)=>g(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const i=t[e];return xn(i)&&!xn(n)?(i.value=n,!0):Reflect.set(t,e,n,s)}};function hv(t){return jo(t)?t:new Proxy(t,wx)}class xx{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:s}=e(()=>dv(this),()=>Pl(this));this._get=n,this._set=s}get value(){return this._get()}set value(e){this._set(e)}}function B8(t){return new xx(t)}function j8(t){const e=Fe(t)?new Array(t.length):{};for(const n in t)e[n]=z8(t,n);return e}class Sx{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return X7(Dt(this._object),this._key)}}class kx{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function $x(t,e,n){return xn(t)?t:ct(t)?new kx(t):Yt(t)&&arguments.length>1?z8(t,e,n):Y(t)}function z8(t,e,n){const s=t[e];return xn(s)?s:new Sx(t,e,n)}const Cx={GET:"get",HAS:"has",ITERATE:"iterate"},Ex={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"};/**
* @vue/runtime-core v3.4.37
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Tx(t,e){}const Ax={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",WATCH_GETTER:2,2:"WATCH_GETTER",WATCH_CALLBACK:3,3:"WATCH_CALLBACK",WATCH_CLEANUP:4,4:"WATCH_CLEANUP",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE"},Mx={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update"};function zo(t,e,n,s){try{return s?t(...s):t()}catch(i){Fa(i,e,n)}}function js(t,e,n,s){if(ct(t)){const i=zo(t,e,n,s);return i&&Q_(i)&&i.catch(o=>{Fa(o,e,n)}),i}if(Fe(t)){const i=[];for(let o=0;o<t.length;o++)i.push(js(t[o],e,n,s));return i}}function Fa(t,e,n,s=!0){const i=e?e.vnode:null;if(e){let o=e.parent;const r=e.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;o;){const c=o.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](t,r,a)===!1)return}o=o.parent}const l=e.appContext.config.errorHandler;if(l){Gr(),zo(l,null,10,[t,r,a]),Yr();return}}Ix(t,n,i,s)}function Ix(t,e,n,s=!0){console.error(t)}let Uu=!1,v1=!1;const es=[];let Yi=0;const Rl=[];let pr=null,ga=0;const F8=Promise.resolve();let fv=null;function vc(t){const e=fv||F8;return t?e.then(this?t.bind(this):t):e}function Ox(t){let e=Yi+1,n=es.length;for(;e<n;){const s=e+n>>>1,i=es[s],o=Bu(i);o<t||o===t&&i.pre?e=s+1:n=s}return e}function Lp(t){(!es.length||!es.includes(t,Uu&&t.allowRecurse?Yi+1:Yi))&&(t.id==null?es.push(t):es.splice(Ox(t.id),0,t),W8())}function W8(){!Uu&&!v1&&(v1=!0,fv=F8.then(H8))}function Dx(t){const e=es.indexOf(t);e>Yi&&es.splice(e,1)}function jf(t){Fe(t)?Rl.push(...t):(!pr||!pr.includes(t,t.allowRecurse?ga+1:ga))&&Rl.push(t),W8()}function h2(t,e,n=Uu?Yi+1:0){for(;n<es.length;n++){const s=es[n];if(s&&s.pre){if(t&&s.id!==t.uid)continue;es.splice(n,1),n--,s()}}}function zf(t){if(Rl.length){const e=[...new Set(Rl)].sort((n,s)=>Bu(n)-Bu(s));if(Rl.length=0,pr){pr.push(...e);return}for(pr=e,ga=0;ga<pr.length;ga++){const n=pr[ga];n.active!==!1&&n()}pr=null,ga=0}}const Bu=t=>t.id==null?1/0:t.id,Lx=(t,e)=>{const n=Bu(t)-Bu(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function H8(t){v1=!1,Uu=!0,es.sort(Lx);const e=gs;try{for(Yi=0;Yi<es.length;Yi++){const n=es[Yi];n&&n.active!==!1&&zo(n,n.i,n.i?15:14)}}finally{Yi=0,es.length=0,zf(),Uu=!1,fv=null,(es.length||Rl.length)&&H8()}}let gl,$h=[];function q8(t,e){var n,s;gl=t,gl?(gl.enabled=!0,$h.forEach(({event:i,args:o})=>gl.emit(i,...o)),$h=[]):typeof window<"u"&&window.HTMLElement&&!((s=(n=window.navigator)==null?void 0:n.userAgent)!=null&&s.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(o=>{q8(o,e)}),setTimeout(()=>{gl||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,$h=[])},3e3)):$h=[]}let Pn=null,Pp=null;function ju(t){const e=Pn;return Pn=t,Pp=t&&t.type.__scopeId||null,e}function Ie(t){Pp=t}function Oe(){Pp=null}const Px=t=>L;function L(t,e=Pn,n){if(!e||t._n)return t;const s=(...i)=>{s._d&&Wu(-1);const o=ju(e);let r;try{r=t(...i)}finally{ju(o),s._d&&Wu(1)}return r};return s._n=!0,s._c=!0,s._d=!0,s}function $e(t,e){if(Pn===null)return t;const n=Vd(Pn),s=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[o,r,a,l=Bt]=e[i];o&&(ct(o)&&(o={mounted:o,updated:o}),o.deep&&yr(r),s.push({dir:o,instance:n,value:r,oldValue:void 0,arg:a,modifiers:l}))}return t}function Wi(t,e,n,s){const i=t.dirs,o=e&&e.dirs;for(let r=0;r<i.length;r++){const a=i[r];o&&(a.oldValue=o[r].value);let l=a.dir[s];l&&(Gr(),js(l,n,8,[t.el,a,t,e]),Yr())}}const mr=Symbol("_leaveCb"),Ch=Symbol("_enterCb");function pv(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ri(()=>{t.isMounted=!0}),yc(()=>{t.isUnmounting=!0}),t}const Gs=[Function,Array],mv={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Gs,onEnter:Gs,onAfterEnter:Gs,onEnterCancelled:Gs,onBeforeLeave:Gs,onLeave:Gs,onAfterLeave:Gs,onLeaveCancelled:Gs,onBeforeAppear:Gs,onAppear:Gs,onAfterAppear:Gs,onAppearCancelled:Gs},G8=t=>{const e=t.subTree;return e.component?G8(e.component):e},Rx={name:"BaseTransition",props:mv,setup(t,{slots:e}){const n=Xo(),s=pv();return()=>{const i=e.default&&Rp(e.default(),!0);if(!i||!i.length)return;let o=i[0];if(i.length>1){for(const h of i)if(h.type!==Dn){o=h;break}}const r=Dt(t),{mode:a}=r;if(s.isLeaving)return fg(o);const l=f2(o);if(!l)return fg(o);let c=Kl(l,r,s,n,h=>c=h);Vr(l,c);const u=n.subTree,d=u&&f2(u);if(d&&d.type!==Dn&&!gi(l,d)&&G8(n).type!==Dn){const h=Kl(d,r,s,n);if(Vr(d,h),a==="out-in"&&l.type!==Dn)return s.isLeaving=!0,h.afterLeave=()=>{s.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},fg(o);a==="in-out"&&l.type!==Dn&&(h.delayLeave=(f,p,v)=>{const y=K8(s,d);y[String(d.key)]=d,f[mr]=()=>{p(),f[mr]=void 0,delete c.delayedLeave},c.delayedLeave=v})}return o}}},Y8=Rx;function K8(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function Kl(t,e,n,s,i){const{appear:o,mode:r,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:h,onLeave:f,onAfterLeave:p,onLeaveCancelled:v,onBeforeAppear:y,onAppear:_,onAfterAppear:w,onAppearCancelled:x}=e,k=String(t.key),C=K8(n,t),S=(M,V)=>{M&&js(M,s,9,V)},A=(M,V)=>{const R=V[1];S(M,V),Fe(M)?M.every(X=>X.length<=1)&&R():M.length<=1&&R()},O={mode:r,persisted:a,beforeEnter(M){let V=l;if(!n.isMounted)if(o)V=y||l;else return;M[mr]&&M[mr](!0);const R=C[k];R&&gi(t,R)&&R.el[mr]&&R.el[mr](),S(V,[M])},enter(M){let V=c,R=u,X=d;if(!n.isMounted)if(o)V=_||c,R=w||u,X=x||d;else return;let P=!1;const F=M[Ch]=Z=>{P||(P=!0,Z?S(X,[M]):S(R,[M]),O.delayedLeave&&O.delayedLeave(),M[Ch]=void 0)};V?A(V,[M,F]):F()},leave(M,V){const R=String(t.key);if(M[Ch]&&M[Ch](!0),n.isUnmounting)return V();S(h,[M]);let X=!1;const P=M[mr]=F=>{X||(X=!0,V(),F?S(v,[M]):S(p,[M]),M[mr]=void 0,C[R]===t&&delete C[R])};C[R]=t,f?A(f,[M,P]):P()},clone(M){const V=Kl(M,e,n,s,i);return i&&i(V),V}};return O}function fg(t){if(Dd(t))return t=io(t),t.children=null,t}function f2(t){if(!Dd(t))return t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&ct(n.default))return n.default()}}function Vr(t,e){t.shapeFlag&6&&t.component?Vr(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Rp(t,e=!1,n){let s=[],i=0;for(let o=0;o<t.length;o++){let r=t[o];const a=n==null?r.key:String(n)+String(r.key!=null?r.key:o);r.type===ue?(r.patchFlag&128&&i++,s=s.concat(Rp(r.children,e,a))):(e||r.type!==Dn)&&s.push(a!=null?io(r,{key:a}):r)}if(i>1)for(let o=0;o<s.length;o++)s[o].patchFlag=-2;return s}/*! #__NO_SIDE_EFFECTS__ */function j(t,e){return ct(t)?(()=>dn({name:t.name},e,{setup:t}))():t}const wa=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function Vx(t){ct(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:s,delay:i=200,timeout:o,suspensible:r=!0,onError:a}=t;let l=null,c,u=0;const d=()=>(u++,l=null,h()),h=()=>{let f;return l||(f=l=e().catch(p=>{if(p=p instanceof Error?p:new Error(String(p)),a)return new Promise((v,y)=>{a(p,()=>v(d()),()=>y(p),u+1)});throw p}).then(p=>f!==l&&l?l:(p&&(p.__esModule||p[Symbol.toStringTag]==="Module")&&(p=p.default),c=p,p)))};return j({name:"AsyncComponentWrapper",__asyncLoader:h,get __asyncResolved(){return c},setup(){const f=Ln;if(c)return()=>pg(c,f);const p=w=>{l=null,Fa(w,f,13,!s)};if(r&&f.suspense||Rd)return h().then(w=>()=>pg(w,f)).catch(w=>(p(w),()=>s?E(s,{error:w}):null));const v=Y(!1),y=Y(),_=Y(!!i);return i&&setTimeout(()=>{_.value=!1},i),o!=null&&setTimeout(()=>{if(!v.value&&!y.value){const w=new Error(`Async component timed out after ${o}ms.`);p(w),y.value=w}},o),h().then(()=>{v.value=!0,f.parent&&Dd(f.parent.vnode)&&(f.parent.effect.dirty=!0,Lp(f.parent.update))}).catch(w=>{p(w),y.value=w}),()=>{if(v.value&&c)return pg(c,f);if(y.value&&s)return E(s,{error:y.value});if(n&&!_.value)return E(n)}}})}function pg(t,e){const{ref:n,props:s,children:i,ce:o}=e.vnode,r=E(t,s,i);return r.ref=n,r.ce=o,delete e.vnode.ce,r}const Dd=t=>t.type.__isKeepAlive,Nx={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=Xo(),s=n.ctx;if(!s.renderer)return()=>{const w=e.default&&e.default();return w&&w.length===1?w[0]:w};const i=new Map,o=new Set;let r=null;const a=n.suspense,{renderer:{p:l,m:c,um:u,o:{createElement:d}}}=s,h=d("div");s.activate=(w,x,k,C,S)=>{const A=w.component;c(w,x,k,0,a),l(A.vnode,w,x,k,A,a,C,w.slotScopeIds,S),Un(()=>{A.isDeactivated=!1,A.a&&Ll(A.a);const O=w.props&&w.props.onVnodeMounted;O&&Cs(O,A.parent,w)},a)},s.deactivate=w=>{const x=w.component;Hf(x.m),Hf(x.a),c(w,h,null,1,a),Un(()=>{x.da&&Ll(x.da);const k=w.props&&w.props.onVnodeUnmounted;k&&Cs(k,x.parent,w),x.isDeactivated=!0},a)};function f(w){mg(w),u(w,n,a,!0)}function p(w){i.forEach((x,k)=>{const C=I1(x.type);C&&(!w||!w(C))&&v(k)})}function v(w){const x=i.get(w);x&&(!r||!gi(x,r))?f(x):r&&mg(r),i.delete(w),o.delete(w)}ke(()=>[t.include,t.exclude],([w,x])=>{w&&p(k=>Kc(w,k)),x&&p(k=>!Kc(x,k))},{flush:"post",deep:!0});let y=null;const _=()=>{y!=null&&($1(n.subTree.type)?Un(()=>{i.set(y,Eh(n.subTree))},n.subTree.suspense):i.set(y,Eh(n.subTree)))};return ri(_),Ld(_),yc(()=>{i.forEach(w=>{const{subTree:x,suspense:k}=n,C=Eh(x);if(w.type===C.type&&w.key===C.key){mg(C);const S=C.component.da;S&&Un(S,k);return}f(w)})}),()=>{if(y=null,!e.default)return null;const w=e.default(),x=w[0];if(w.length>1)return r=null,w;if(!Nr(x)||!(x.shapeFlag&4)&&!(x.shapeFlag&128))return r=null,x;let k=Eh(x);if(k.type===Dn)return r=null,k;const C=k.type,S=I1(wa(k)?k.type.__asyncResolved||{}:C),{include:A,exclude:O,max:M}=t;if(A&&(!S||!Kc(A,S))||O&&S&&Kc(O,S))return r=k,x;const V=k.key==null?C:k.key,R=i.get(V);return k.el&&(k=io(k),x.shapeFlag&128&&(x.ssContent=k)),y=V,R?(k.el=R.el,k.component=R.component,k.transition&&Vr(k,k.transition),k.shapeFlag|=512,o.delete(V),o.add(V)):(o.add(V),M&&o.size>parseInt(M,10)&&v(o.values().next().value)),k.shapeFlag|=256,r=k,$1(x.type)?x:k}}},Ux=Nx;function Kc(t,e){return Fe(t)?t.some(n=>Kc(n,e)):an(t)?t.split(",").includes(e):P7(t)?t.test(e):!1}function Z8(t,e){J8(t,"a",e)}function X8(t,e){J8(t,"da",e)}function J8(t,e,n=Ln){const s=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Vp(e,s,n),n){let i=n.parent;for(;i&&i.parent;)Dd(i.parent.vnode)&&Bx(s,e,n,i),i=i.parent}}function Bx(t,e,n,s){const i=Vp(e,t,s,!0);Zo(()=>{J_(s[e],i)},n)}function mg(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Eh(t){return t.shapeFlag&128?t.ssContent:t}function Vp(t,e,n=Ln,s=!1){if(n){const i=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...r)=>{Gr();const a=Ma(n),l=js(e,n,t,r);return a(),Yr(),l});return s?i.unshift(o):i.push(o),o}}const Ko=t=>(e,n=Ln)=>{(!Rd||t==="sp")&&Vp(t,(...s)=>e(...s),n)},Np=Ko("bm"),ri=Ko("m"),Q8=Ko("bu"),Ld=Ko("u"),yc=Ko("bum"),Zo=Ko("um"),e4=Ko("sp"),t4=Ko("rtg"),n4=Ko("rtc");function s4(t,e=Ln){Vp("ec",t,e)}const gv="components",jx="directives";function Xe(t,e){return _v(gv,t,!0,e)||t}const i4=Symbol.for("v-ndc");function Vn(t){return an(t)?_v(gv,t,!1)||t:t||i4}function it(t){return _v(jx,t)}function _v(t,e,n=!0,s=!1){const i=Pn||Ln;if(i){const o=i.type;if(t===gv){const a=I1(o,!1);if(a&&(a===e||a===os(e)||a===Od(os(e))))return o}const r=p2(i[t]||o[t],e)||p2(i.appContext[t],e);return!r&&s?o:r}}function p2(t,e){return t&&(t[e]||t[os(e)]||t[Od(os(e))])}function Be(t,e,n,s){let i;const o=n&&n[s];if(Fe(t)||an(t)){i=new Array(t.length);for(let r=0,a=t.length;r<a;r++)i[r]=e(t[r],r,void 0,o&&o[r])}else if(typeof t=="number"){i=new Array(t);for(let r=0;r<t;r++)i[r]=e(r+1,r,void 0,o&&o[r])}else if(Yt(t))if(t[Symbol.iterator])i=Array.from(t,(r,a)=>e(r,a,void 0,o&&o[a]));else{const r=Object.keys(t);i=new Array(r.length);for(let a=0,l=r.length;a<l;a++){const c=r[a];i[a]=e(t[c],c,a,o&&o[a])}}else i=[];return n&&(n[s]=i),i}function zx(t,e){for(let n=0;n<e.length;n++){const s=e[n];if(Fe(s))for(let i=0;i<s.length;i++)t[s[i].name]=s[i].fn;else s&&(t[s.name]=s.key?(...i)=>{const o=s.fn(...i);return o&&(o.key=s.key),o}:s.fn)}return t}function lt(t,e,n={},s,i){if(Pn.isCE||Pn.parent&&wa(Pn.parent)&&Pn.parent.isCE)return e!=="default"&&(n.name=e),E("slot",n,s&&s());let o=t[e];o&&o._c&&(o._d=!1),b();const r=o&&vv(o(n)),a=B(ue,{key:(n.key||r&&r.key||`_${e}`)+(!r&&s?"_fb":"")},r||(s?s():[]),r&&t._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function vv(t){return t.some(e=>Nr(e)?!(e.type===Dn||e.type===ue&&!vv(e.children)):!0)?t:null}function Fx(t,e){const n={};for(const s in t)n[e&&/[A-Z]/.test(s)?`on:${s}`:du(s)]=t[s];return n}const y1=t=>t?B4(t)?Vd(t):y1(t.parent):null,hu=dn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>y1(t.parent),$root:t=>y1(t.root),$emit:t=>t.emit,$options:t=>yv(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,Lp(t.update)}),$nextTick:t=>t.n||(t.n=vc.bind(t.proxy)),$watch:t=>kS.bind(t)}),gg=(t,e)=>t!==Bt&&!t.__isScriptSetup&&Rt(t,e),b1={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:i,props:o,accessCache:r,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const f=r[e];if(f!==void 0)switch(f){case 1:return s[e];case 2:return i[e];case 4:return n[e];case 3:return o[e]}else{if(gg(s,e))return r[e]=1,s[e];if(i!==Bt&&Rt(i,e))return r[e]=2,i[e];if((c=t.propsOptions[0])&&Rt(c,e))return r[e]=3,o[e];if(n!==Bt&&Rt(n,e))return r[e]=4,n[e];w1&&(r[e]=0)}}const u=hu[e];let d,h;if(u)return e==="$attrs"&&Os(t.attrs,"get",""),u(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==Bt&&Rt(n,e))return r[e]=4,n[e];if(h=l.config.globalProperties,Rt(h,e))return h[e]},set({_:t},e,n){const{data:s,setupState:i,ctx:o}=t;return gg(i,e)?(i[e]=n,!0):s!==Bt&&Rt(s,e)?(s[e]=n,!0):Rt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:i,propsOptions:o}},r){let a;return!!n[r]||t!==Bt&&Rt(t,r)||gg(e,r)||(a=o[0])&&Rt(a,r)||Rt(s,r)||Rt(hu,r)||Rt(i.config.globalProperties,r)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Rt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},Wx=dn({},b1,{get(t,e){if(e!==Symbol.unscopables)return b1.get(t,e,t)},has(t,e){return e[0]!=="_"&&!B7(e)}});function Hx(){return null}function qx(){return null}function Gx(t){}function Yx(t){}function Kx(){return null}function Zx(){}function Xx(t,e){return null}function Jx(){return o4().slots}function Qx(){return o4().attrs}function o4(){const t=Xo();return t.setupContext||(t.setupContext=F4(t))}function zu(t){return Fe(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function eS(t,e){const n=zu(t);for(const s in e){if(s.startsWith("__skip"))continue;let i=n[s];i?Fe(i)||ct(i)?i=n[s]={type:i,default:e[s]}:i.default=e[s]:i===null&&(i=n[s]={default:e[s]}),i&&e[`__skip_${s}`]&&(i.skipFactory=!0)}return n}function tS(t,e){return!t||!e?t||e:Fe(t)&&Fe(e)?t.concat(e):dn({},zu(t),zu(e))}function nS(t,e){const n={};for(const s in t)e.includes(s)||Object.defineProperty(n,s,{enumerable:!0,get:()=>t[s]});return n}function sS(t){const e=Xo();let n=t();return T1(),Q_(n)&&(n=n.catch(s=>{throw Ma(e),s})),[n,()=>Ma(e)]}let w1=!0;function iS(t){const e=yv(t),n=t.proxy,s=t.ctx;w1=!1,e.beforeCreate&&m2(e.beforeCreate,t,"bc");const{data:i,computed:o,methods:r,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:h,beforeUpdate:f,updated:p,activated:v,deactivated:y,beforeDestroy:_,beforeUnmount:w,destroyed:x,unmounted:k,render:C,renderTracked:S,renderTriggered:A,errorCaptured:O,serverPrefetch:M,expose:V,inheritAttrs:R,components:X,directives:P,filters:F}=e;if(c&&oS(c,s,null),r)for(const G in r){const ie=r[G];ct(ie)&&(s[G]=ie.bind(n))}if(i){const G=i.call(n,n);Yt(G)&&(t.data=Gt(G))}if(w1=!0,o)for(const G in o){const ie=o[G],ge=ct(ie)?ie.bind(n,n):ct(ie.get)?ie.get.bind(n,n):gs,ae=!ct(ie)&&ct(ie.set)?ie.set.bind(n):gs,Te=q({get:ge,set:ae});Object.defineProperty(s,G,{enumerable:!0,configurable:!0,get:()=>Te.value,set:We=>Te.value=We})}if(a)for(const G in a)r4(a[G],s,n,G);if(l){const G=ct(l)?l.call(n):l;Reflect.ownKeys(G).forEach(ie=>{fu(ie,G[ie])})}u&&m2(u,t,"c");function Q(G,ie){Fe(ie)?ie.forEach(ge=>G(ge.bind(n))):ie&&G(ie.bind(n))}if(Q(Np,d),Q(ri,h),Q(Q8,f),Q(Ld,p),Q(Z8,v),Q(X8,y),Q(s4,O),Q(n4,S),Q(t4,A),Q(yc,w),Q(Zo,k),Q(e4,M),Fe(V))if(V.length){const G=t.exposed||(t.exposed={});V.forEach(ie=>{Object.defineProperty(G,ie,{get:()=>n[ie],set:ge=>n[ie]=ge})})}else t.exposed||(t.exposed={});C&&t.render===gs&&(t.render=C),R!=null&&(t.inheritAttrs=R),X&&(t.components=X),P&&(t.directives=P)}function oS(t,e,n=gs){Fe(t)&&(t=x1(t));for(const s in t){const i=t[s];let o;Yt(i)?"default"in i?o=zs(i.from||s,i.default,!0):o=zs(i.from||s):o=zs(i),xn(o)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:r=>o.value=r}):e[s]=o}}function m2(t,e,n){js(Fe(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function r4(t,e,n,s){const i=s.includes(".")?M4(n,s):()=>n[s];if(an(t)){const o=e[t];ct(o)&&ke(i,o)}else if(ct(t))ke(i,t.bind(n));else if(Yt(t))if(Fe(t))t.forEach(o=>r4(o,e,n,s));else{const o=ct(t.handler)?t.handler.bind(n):e[t.handler];ct(o)&&ke(i,o,t)}}function yv(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:i,optionsCache:o,config:{optionMergeStrategies:r}}=t.appContext,a=o.get(e);let l;return a?l=a:!i.length&&!n&&!s?l=e:(l={},i.length&&i.forEach(c=>Ff(l,c,r,!0)),Ff(l,e,r)),Yt(e)&&o.set(e,l),l}function Ff(t,e,n,s=!1){const{mixins:i,extends:o}=e;o&&Ff(t,o,n,!0),i&&i.forEach(r=>Ff(t,r,n,!0));for(const r in e)if(!(s&&r==="expose")){const a=rS[r]||n&&n[r];t[r]=a?a(t[r],e[r]):e[r]}return t}const rS={data:g2,props:_2,emits:_2,methods:Zc,computed:Zc,beforeCreate:hs,created:hs,beforeMount:hs,mounted:hs,beforeUpdate:hs,updated:hs,beforeDestroy:hs,beforeUnmount:hs,destroyed:hs,unmounted:hs,activated:hs,deactivated:hs,errorCaptured:hs,serverPrefetch:hs,components:Zc,directives:Zc,watch:lS,provide:g2,inject:aS};function g2(t,e){return e?t?function(){return dn(ct(t)?t.call(this,this):t,ct(e)?e.call(this,this):e)}:e:t}function aS(t,e){return Zc(x1(t),x1(e))}function x1(t){if(Fe(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function hs(t,e){return t?[...new Set([].concat(t,e))]:e}function Zc(t,e){return t?dn(Object.create(null),t,e):e}function _2(t,e){return t?Fe(t)&&Fe(e)?[...new Set([...t,...e])]:dn(Object.create(null),zu(t),zu(e??{})):e}function lS(t,e){if(!t)return e;if(!e)return t;const n=dn(Object.create(null),t);for(const s in e)n[s]=hs(t[s],e[s]);return n}function a4(){return{app:null,config:{isNativeTag:D7,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let cS=0;function uS(t,e){return function(s,i=null){ct(s)||(s=dn({},s)),i!=null&&!Yt(i)&&(i=null);const o=a4(),r=new WeakSet;let a=!1;const l=o.app={_uid:cS++,_component:s,_props:i,_container:null,_context:o,_instance:null,version:H4,get config(){return o.config},set config(c){},use(c,...u){return r.has(c)||(c&&ct(c.install)?(r.add(c),c.install(l,...u)):ct(c)&&(r.add(c),c(l,...u))),l},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),l},component(c,u){return u?(o.components[c]=u,l):o.components[c]},directive(c,u){return u?(o.directives[c]=u,l):o.directives[c]},mount(c,u,d){if(!a){const h=E(s,i);return h.appContext=o,d===!0?d="svg":d===!1&&(d=void 0),u&&e?e(h,c):t(h,c,d),a=!0,l._container=c,c.__vue_app__=l,Vd(h.component)}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(c,u){return o.provides[c]=u,l},runWithContext(c){const u=xa;xa=l;try{return c()}finally{xa=u}}};return l}}let xa=null;function fu(t,e){if(Ln){let n=Ln.provides;const s=Ln.parent&&Ln.parent.provides;s===n&&(n=Ln.provides=Object.create(s)),n[t]=e}}function zs(t,e,n=!1){const s=Ln||Pn;if(s||xa){const i=xa?xa._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&ct(e)?e.call(s&&s.proxy):e}}function l4(){return!!(Ln||Pn||xa)}const c4={},u4=()=>Object.create(c4),d4=t=>Object.getPrototypeOf(t)===c4;function dS(t,e,n,s=!1){const i={},o=u4();t.propsDefaults=Object.create(null),h4(t,e,i,o);for(const r in t.propsOptions[0])r in i||(i[r]=void 0);n?t.props=s?i:av(i):t.type.props?t.props=i:t.props=o,t.attrs=o}function hS(t,e,n,s){const{props:i,attrs:o,vnode:{patchFlag:r}}=t,a=Dt(i),[l]=t.propsOptions;let c=!1;if((s||r>0)&&!(r&16)){if(r&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let h=u[d];if(Up(t.emitsOptions,h))continue;const f=e[h];if(l)if(Rt(o,h))f!==o[h]&&(o[h]=f,c=!0);else{const p=os(h);i[p]=S1(l,a,p,f,t,!1)}else f!==o[h]&&(o[h]=f,c=!0)}}}else{h4(t,e,i,o)&&(c=!0);let u;for(const d in a)(!e||!Rt(e,d)&&((u=Ts(d))===d||!Rt(e,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(i[d]=S1(l,a,d,void 0,t,!0)):delete i[d]);if(o!==a)for(const d in o)(!e||!Rt(e,d))&&(delete o[d],c=!0)}c&&Bo(t.attrs,"set","")}function h4(t,e,n,s){const[i,o]=t.propsOptions;let r=!1,a;if(e)for(let l in e){if(Dl(l))continue;const c=e[l];let u;i&&Rt(i,u=os(l))?!o||!o.includes(u)?n[u]=c:(a||(a={}))[u]=c:Up(t.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,r=!0)}if(o){const l=Dt(n),c=a||Bt;for(let u=0;u<o.length;u++){const d=o[u];n[d]=S1(i,l,d,c[d],t,!Rt(c,d))}}return r}function S1(t,e,n,s,i,o){const r=t[n];if(r!=null){const a=Rt(r,"default");if(a&&s===void 0){const l=r.default;if(r.type!==Function&&!r.skipFactory&&ct(l)){const{propsDefaults:c}=i;if(n in c)s=c[n];else{const u=Ma(i);s=c[n]=l.call(null,e),u()}}else s=l}r[0]&&(o&&!a?s=!1:r[1]&&(s===""||s===Ts(n))&&(s=!0))}return s}const fS=new WeakMap;function f4(t,e,n=!1){const s=n?fS:e.propsCache,i=s.get(t);if(i)return i;const o=t.props,r={},a=[];let l=!1;if(!ct(t)){const u=d=>{l=!0;const[h,f]=f4(d,e,!0);dn(r,h),f&&a.push(...f)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!o&&!l)return Yt(t)&&s.set(t,Il),Il;if(Fe(o))for(let u=0;u<o.length;u++){const d=os(o[u]);v2(d)&&(r[d]=Bt)}else if(o)for(const u in o){const d=os(u);if(v2(d)){const h=o[u],f=r[d]=Fe(h)||ct(h)?{type:h}:dn({},h),p=f.type;let v=!1,y=!0;if(Fe(p))for(let _=0;_<p.length;++_){const w=p[_],x=ct(w)&&w.name;if(x==="Boolean"){v=!0;break}else x==="String"&&(y=!1)}else v=ct(p)&&p.name==="Boolean";f[0]=v,f[1]=y,(v||Rt(f,"default"))&&a.push(d)}}const c=[r,a];return Yt(t)&&s.set(t,c),c}function v2(t){return t[0]!=="$"&&!Dl(t)}const p4=t=>t[0]==="_"||t==="$stable",bv=t=>Fe(t)?t.map(Es):[Es(t)],pS=(t,e,n)=>{if(e._n)return e;const s=L((...i)=>bv(e(...i)),n);return s._c=!1,s},m4=(t,e,n)=>{const s=t._ctx;for(const i in t){if(p4(i))continue;const o=t[i];if(ct(o))e[i]=pS(i,o,s);else if(o!=null){const r=bv(o);e[i]=()=>r}}},g4=(t,e)=>{const n=bv(e);t.slots.default=()=>n},_4=(t,e,n)=>{for(const s in e)(n||s!=="_")&&(t[s]=e[s])},mS=(t,e,n)=>{const s=t.slots=u4();if(t.vnode.shapeFlag&32){const i=e._;i?(_4(s,e,n),n&&_8(s,"_",i,!0)):m4(e,s)}else e&&g4(t,e)},gS=(t,e,n)=>{const{vnode:s,slots:i}=t;let o=!0,r=Bt;if(s.shapeFlag&32){const a=e._;a?n&&a===1?o=!1:_4(i,e,n):(o=!e.$stable,m4(e,i)),r=e}else e&&(g4(t,e),r={default:1});if(o)for(const a in i)!p4(a)&&r[a]==null&&delete i[a]};function Wf(t,e,n,s,i=!1){if(Fe(t)){t.forEach((h,f)=>Wf(h,e&&(Fe(e)?e[f]:e),n,s,i));return}if(wa(s)&&!i)return;const o=s.shapeFlag&4?Vd(s.component):s.el,r=i?null:o,{i:a,r:l}=t,c=e&&e.r,u=a.refs===Bt?a.refs={}:a.refs,d=a.setupState;if(c!=null&&c!==l&&(an(c)?(u[c]=null,Rt(d,c)&&(d[c]=null)):xn(c)&&(c.value=null)),ct(l))zo(l,a,12,[r,u]);else{const h=an(l),f=xn(l);if(h||f){const p=()=>{if(t.f){const v=h?Rt(d,l)?d[l]:u[l]:l.value;i?Fe(v)&&J_(v,o):Fe(v)?v.includes(o)||v.push(o):h?(u[l]=[o],Rt(d,l)&&(d[l]=u[l])):(l.value=[o],t.k&&(u[t.k]=l.value))}else h?(u[l]=r,Rt(d,l)&&(d[l]=r)):f&&(l.value=r,t.k&&(u[t.k]=r))};r?(p.id=-1,Un(p,n)):p()}}}const v4=Symbol("_vte"),_S=t=>t.__isTeleport,pu=t=>t&&(t.disabled||t.disabled===""),y2=t=>typeof SVGElement<"u"&&t instanceof SVGElement,b2=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,k1=(t,e)=>{const n=t&&t.to;return an(n)?e?e(n):null:n},vS={name:"Teleport",__isTeleport:!0,process(t,e,n,s,i,o,r,a,l,c){const{mc:u,pc:d,pbc:h,o:{insert:f,querySelector:p,createText:v,createComment:y}}=c,_=pu(e.props);let{shapeFlag:w,children:x,dynamicChildren:k}=e;if(t==null){const C=e.el=v(""),S=e.anchor=v("");f(C,n,s),f(S,n,s);const A=e.target=k1(e.props,p),O=b4(A,e,v,f);A&&(r==="svg"||y2(A)?r="svg":(r==="mathml"||b2(A))&&(r="mathml"));const M=(V,R)=>{w&16&&u(x,V,R,i,o,r,a,l)};_?M(n,S):A&&M(A,O)}else{e.el=t.el,e.targetStart=t.targetStart;const C=e.anchor=t.anchor,S=e.target=t.target,A=e.targetAnchor=t.targetAnchor,O=pu(t.props),M=O?n:S,V=O?C:A;if(r==="svg"||y2(S)?r="svg":(r==="mathml"||b2(S))&&(r="mathml"),k?(h(t.dynamicChildren,k,M,i,o,r,a),wv(t,e,!0)):l||d(t,e,M,V,i,o,r,a,!1),_)O?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Th(e,n,C,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const R=e.target=k1(e.props,p);R&&Th(e,R,null,c,0)}else O&&Th(e,S,A,c,1)}y4(e)},remove(t,e,n,{um:s,o:{remove:i}},o){const{shapeFlag:r,children:a,anchor:l,targetStart:c,targetAnchor:u,target:d,props:h}=t;if(d&&(i(c),i(u)),o&&i(l),r&16){const f=o||!pu(h);for(let p=0;p<a.length;p++){const v=a[p];s(v,e,n,f,!!v.dynamicChildren)}}},move:Th,hydrate:yS};function Th(t,e,n,{o:{insert:s},m:i},o=2){o===0&&s(t.targetAnchor,e,n);const{el:r,anchor:a,shapeFlag:l,children:c,props:u}=t,d=o===2;if(d&&s(r,e,n),(!d||pu(u))&&l&16)for(let h=0;h<c.length;h++)i(c[h],e,n,2);d&&s(a,e,n)}function yS(t,e,n,s,i,o,{o:{nextSibling:r,parentNode:a,querySelector:l,insert:c,createText:u}},d){const h=e.target=k1(e.props,l);if(h){const f=h._lpa||h.firstChild;if(e.shapeFlag&16)if(pu(e.props))e.anchor=d(r(t),e,a(t),n,s,i,o),e.targetStart=f,e.targetAnchor=f&&r(f);else{e.anchor=r(t);let p=f;for(;p;){if(p&&p.nodeType===8){if(p.data==="teleport start anchor")e.targetStart=p;else if(p.data==="teleport anchor"){e.targetAnchor=p,h._lpa=e.targetAnchor&&r(e.targetAnchor);break}}p=r(p)}e.targetAnchor||b4(h,e,u,c),d(f&&r(f),e,h,n,s,i,o)}y4(e)}return e.anchor&&r(e.anchor)}const Ti=vS;function y4(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}function b4(t,e,n,s){const i=e.targetStart=n(""),o=e.targetAnchor=n("");return i[v4]=o,t&&(s(i,t),s(o,t)),o}let w2=!1;const ll=()=>{w2||(console.error("Hydration completed but contains mismatches."),w2=!0)},bS=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",wS=t=>t.namespaceURI.includes("MathML"),Ah=t=>{if(bS(t))return"svg";if(wS(t))return"mathml"},Mh=t=>t.nodeType===8;function xS(t){const{mt:e,p:n,o:{patchProp:s,createText:i,nextSibling:o,parentNode:r,remove:a,insert:l,createComment:c}}=t,u=(x,k)=>{if(!k.hasChildNodes()){n(null,x,k),zf(),k._vnode=x;return}d(k.firstChild,x,null,null,null),zf(),k._vnode=x},d=(x,k,C,S,A,O=!1)=>{O=O||!!k.dynamicChildren;const M=Mh(x)&&x.data==="[",V=()=>v(x,k,C,S,A,M),{type:R,ref:X,shapeFlag:P,patchFlag:F}=k;let Z=x.nodeType;k.el=x,F===-2&&(O=!1,k.dynamicChildren=null);let Q=null;switch(R){case Or:Z!==3?k.children===""?(l(k.el=i(""),r(x),x),Q=x):Q=V():(x.data!==k.children&&(ll(),x.data=k.children),Q=o(x));break;case Dn:w(x)?(Q=o(x),_(k.el=x.content.firstChild,x,C)):Z!==8||M?Q=V():Q=o(x);break;case Sa:if(M&&(x=o(x),Z=x.nodeType),Z===1||Z===3){Q=x;const G=!k.children.length;for(let ie=0;ie<k.staticCount;ie++)G&&(k.children+=Q.nodeType===1?Q.outerHTML:Q.data),ie===k.staticCount-1&&(k.anchor=Q),Q=o(Q);return M?o(Q):Q}else V();break;case ue:M?Q=p(x,k,C,S,A,O):Q=V();break;default:if(P&1)(Z!==1||k.type.toLowerCase()!==x.tagName.toLowerCase())&&!w(x)?Q=V():Q=h(x,k,C,S,A,O);else if(P&6){k.slotScopeIds=A;const G=r(x);if(M?Q=y(x):Mh(x)&&x.data==="teleport start"?Q=y(x,x.data,"teleport end"):Q=o(x),e(k,G,null,C,S,Ah(G),O),wa(k)){let ie;M?(ie=E(ue),ie.anchor=Q?Q.previousSibling:G.lastChild):ie=x.nodeType===3?W(""):E("div"),ie.el=x,k.component.subTree=ie}}else P&64?Z!==8?Q=V():Q=k.type.hydrate(x,k,C,S,A,O,t,f):P&128&&(Q=k.type.hydrate(x,k,C,S,Ah(r(x)),A,O,t,d))}return X!=null&&Wf(X,null,S,k),Q},h=(x,k,C,S,A,O)=>{O=O||!!k.dynamicChildren;const{type:M,props:V,patchFlag:R,shapeFlag:X,dirs:P,transition:F}=k,Z=M==="input"||M==="option";if(Z||R!==-1){P&&Wi(k,null,C,"created");let Q=!1;if(w(x)){Q=k4(S,F)&&C&&C.vnode.props&&C.vnode.props.appear;const ie=x.content.firstChild;Q&&F.beforeEnter(ie),_(ie,x,C),k.el=x=ie}if(X&16&&!(V&&(V.innerHTML||V.textContent))){let ie=f(x.firstChild,k,x,C,S,A,O);for(;ie;){ll();const ge=ie;ie=ie.nextSibling,a(ge)}}else X&8&&x.textContent!==k.children&&(ll(),x.textContent=k.children);if(V){if(Z||!O||R&48){const ie=x.tagName.includes("-");for(const ge in V)(Z&&(ge.endsWith("value")||ge==="indeterminate")||Id(ge)&&!Dl(ge)||ge[0]==="."||ie)&&s(x,ge,null,V[ge],void 0,C)}else if(V.onClick)s(x,"onClick",null,V.onClick,void 0,C);else if(R&4&&jo(V.style))for(const ie in V.style)V.style[ie]}let G;(G=V&&V.onVnodeBeforeMount)&&Cs(G,C,k),P&&Wi(k,null,C,"beforeMount"),((G=V&&V.onVnodeMounted)||P||Q)&&L4(()=>{G&&Cs(G,C,k),Q&&F.enter(x),P&&Wi(k,null,C,"mounted")},S)}return x.nextSibling},f=(x,k,C,S,A,O,M)=>{M=M||!!k.dynamicChildren;const V=k.children,R=V.length;for(let X=0;X<R;X++){const P=M?V[X]:V[X]=Es(V[X]),F=P.type===Or;if(x){if(F&&!M){let Z=V[X+1];Z&&(Z=Es(Z)).type===Or&&(l(i(x.data.slice(P.children.length)),C,o(x)),x.data=P.children)}x=d(x,P,S,A,O,M)}else F&&!P.children?l(P.el=i(""),C):(ll(),n(null,P,C,null,S,A,Ah(C),O))}return x},p=(x,k,C,S,A,O)=>{const{slotScopeIds:M}=k;M&&(A=A?A.concat(M):M);const V=r(x),R=f(o(x),k,V,C,S,A,O);return R&&Mh(R)&&R.data==="]"?o(k.anchor=R):(ll(),l(k.anchor=c("]"),V,R),R)},v=(x,k,C,S,A,O)=>{if(ll(),k.el=null,O){const R=y(x);for(;;){const X=o(x);if(X&&X!==R)a(X);else break}}const M=o(x),V=r(x);return a(x),n(null,k,V,M,C,S,Ah(V),A),M},y=(x,k="[",C="]")=>{let S=0;for(;x;)if(x=o(x),x&&Mh(x)&&(x.data===k&&S++,x.data===C)){if(S===0)return o(x);S--}return x},_=(x,k,C)=>{const S=k.parentNode;S&&S.replaceChild(x,k);let A=C;for(;A;)A.vnode.el===k&&(A.vnode.el=A.subTree.el=x),A=A.parent},w=x=>x.nodeType===1&&x.tagName.toLowerCase()==="template";return[u,d]}const Un=L4;function w4(t){return S4(t)}function x4(t){return S4(t,xS)}function S4(t,e){const n=v8();n.__VUE__=!0;const{insert:s,remove:i,patchProp:o,createElement:r,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:h,setScopeId:f=gs,insertStaticContent:p}=t,v=(U,z,se,he=null,le=null,_e=null,Ce=void 0,ve=null,we=!!z.dynamicChildren)=>{if(U===z)return;U&&!gi(U,z)&&(he=re(U),We(U,le,_e,!0),U=null),z.patchFlag===-2&&(we=!1,z.dynamicChildren=null);const{type:pe,ref:Ae,shapeFlag:Le}=z;switch(pe){case Or:y(U,z,se,he);break;case Dn:_(U,z,se,he);break;case Sa:U==null&&w(z,se,he,Ce);break;case ue:X(U,z,se,he,le,_e,Ce,ve,we);break;default:Le&1?C(U,z,se,he,le,_e,Ce,ve,we):Le&6?P(U,z,se,he,le,_e,Ce,ve,we):(Le&64||Le&128)&&pe.process(U,z,se,he,le,_e,Ce,ve,we,Me)}Ae!=null&&le&&Wf(Ae,U&&U.ref,_e,z||U,!z)},y=(U,z,se,he)=>{if(U==null)s(z.el=a(z.children),se,he);else{const le=z.el=U.el;z.children!==U.children&&c(le,z.children)}},_=(U,z,se,he)=>{U==null?s(z.el=l(z.children||""),se,he):z.el=U.el},w=(U,z,se,he)=>{[U.el,U.anchor]=p(U.children,z,se,he,U.el,U.anchor)},x=({el:U,anchor:z},se,he)=>{let le;for(;U&&U!==z;)le=h(U),s(U,se,he),U=le;s(z,se,he)},k=({el:U,anchor:z})=>{let se;for(;U&&U!==z;)se=h(U),i(U),U=se;i(z)},C=(U,z,se,he,le,_e,Ce,ve,we)=>{z.type==="svg"?Ce="svg":z.type==="math"&&(Ce="mathml"),U==null?S(z,se,he,le,_e,Ce,ve,we):M(U,z,le,_e,Ce,ve,we)},S=(U,z,se,he,le,_e,Ce,ve)=>{let we,pe;const{props:Ae,shapeFlag:Le,transition:Re,dirs:st}=U;if(we=U.el=r(U.type,_e,Ae&&Ae.is,Ae),Le&8?u(we,U.children):Le&16&&O(U.children,we,null,he,le,_g(U,_e),Ce,ve),st&&Wi(U,null,he,"created"),A(we,U,U.scopeId,Ce,he),Ae){for(const Ct in Ae)Ct!=="value"&&!Dl(Ct)&&o(we,Ct,null,Ae[Ct],_e,he);"value"in Ae&&o(we,"value",null,Ae.value,_e),(pe=Ae.onVnodeBeforeMount)&&Cs(pe,he,U)}st&&Wi(U,null,he,"beforeMount");const ot=k4(le,Re);ot&&Re.beforeEnter(we),s(we,z,se),((pe=Ae&&Ae.onVnodeMounted)||ot||st)&&Un(()=>{pe&&Cs(pe,he,U),ot&&Re.enter(we),st&&Wi(U,null,he,"mounted")},le)},A=(U,z,se,he,le)=>{if(se&&f(U,se),he)for(let _e=0;_e<he.length;_e++)f(U,he[_e]);if(le){let _e=le.subTree;if(z===_e){const Ce=le.vnode;A(U,Ce,Ce.scopeId,Ce.slotScopeIds,le.parent)}}},O=(U,z,se,he,le,_e,Ce,ve,we=0)=>{for(let pe=we;pe<U.length;pe++){const Ae=U[pe]=ve?gr(U[pe]):Es(U[pe]);v(null,Ae,z,se,he,le,_e,Ce,ve)}},M=(U,z,se,he,le,_e,Ce)=>{const ve=z.el=U.el;let{patchFlag:we,dynamicChildren:pe,dirs:Ae}=z;we|=U.patchFlag&16;const Le=U.props||Bt,Re=z.props||Bt;let st;if(se&&na(se,!1),(st=Re.onVnodeBeforeUpdate)&&Cs(st,se,z,U),Ae&&Wi(z,U,se,"beforeUpdate"),se&&na(se,!0),(Le.innerHTML&&Re.innerHTML==null||Le.textContent&&Re.textContent==null)&&u(ve,""),pe?V(U.dynamicChildren,pe,ve,se,he,_g(z,le),_e):Ce||ie(U,z,ve,null,se,he,_g(z,le),_e,!1),we>0){if(we&16)R(ve,Le,Re,se,le);else if(we&2&&Le.class!==Re.class&&o(ve,"class",null,Re.class,le),we&4&&o(ve,"style",Le.style,Re.style,le),we&8){const ot=z.dynamicProps;for(let Ct=0;Ct<ot.length;Ct++){const te=ot[Ct],ne=Le[te],oe=Re[te];(oe!==ne||te==="value")&&o(ve,te,ne,oe,le,se)}}we&1&&U.children!==z.children&&u(ve,z.children)}else!Ce&&pe==null&&R(ve,Le,Re,se,le);((st=Re.onVnodeUpdated)||Ae)&&Un(()=>{st&&Cs(st,se,z,U),Ae&&Wi(z,U,se,"updated")},he)},V=(U,z,se,he,le,_e,Ce)=>{for(let ve=0;ve<z.length;ve++){const we=U[ve],pe=z[ve],Ae=we.el&&(we.type===ue||!gi(we,pe)||we.shapeFlag&70)?d(we.el):se;v(we,pe,Ae,null,he,le,_e,Ce,!0)}},R=(U,z,se,he,le)=>{if(z!==se){if(z!==Bt)for(const _e in z)!Dl(_e)&&!(_e in se)&&o(U,_e,z[_e],null,le,he);for(const _e in se){if(Dl(_e))continue;const Ce=se[_e],ve=z[_e];Ce!==ve&&_e!=="value"&&o(U,_e,ve,Ce,le,he)}"value"in se&&o(U,"value",z.value,se.value,le)}},X=(U,z,se,he,le,_e,Ce,ve,we)=>{const pe=z.el=U?U.el:a(""),Ae=z.anchor=U?U.anchor:a("");let{patchFlag:Le,dynamicChildren:Re,slotScopeIds:st}=z;st&&(ve=ve?ve.concat(st):st),U==null?(s(pe,se,he),s(Ae,se,he),O(z.children||[],se,Ae,le,_e,Ce,ve,we)):Le>0&&Le&64&&Re&&U.dynamicChildren?(V(U.dynamicChildren,Re,se,le,_e,Ce,ve),(z.key!=null||le&&z===le.subTree)&&wv(U,z,!0)):ie(U,z,se,Ae,le,_e,Ce,ve,we)},P=(U,z,se,he,le,_e,Ce,ve,we)=>{z.slotScopeIds=ve,U==null?z.shapeFlag&512?le.ctx.activate(z,se,he,Ce,we):F(z,se,he,le,_e,Ce,we):Z(U,z,we)},F=(U,z,se,he,le,_e,Ce)=>{const ve=U.component=U4(U,he,le);if(Dd(U)&&(ve.ctx.renderer=Me),j4(ve,!1,Ce),ve.asyncDep){if(le&&le.registerDep(ve,Q,Ce),!U.el){const we=ve.subTree=E(Dn);_(null,we,z,se)}}else Q(ve,U,z,se,le,_e,Ce)},Z=(U,z,se)=>{const he=z.component=U.component;if(MS(U,z,se))if(he.asyncDep&&!he.asyncResolved){G(he,z,se);return}else he.next=z,Dx(he.update),he.effect.dirty=!0,he.update();else z.el=U.el,he.vnode=z},Q=(U,z,se,he,le,_e,Ce)=>{const ve=()=>{if(U.isMounted){let{next:Ae,bu:Le,u:Re,parent:st,vnode:ot}=U;{const me=$4(U);if(me){Ae&&(Ae.el=ot.el,G(U,Ae,Ce)),me.asyncDep.then(()=>{U.isUnmounted||ve()});return}}let Ct=Ae,te;na(U,!1),Ae?(Ae.el=ot.el,G(U,Ae,Ce)):Ae=ot,Le&&Ll(Le),(te=Ae.props&&Ae.props.onVnodeBeforeUpdate)&&Cs(te,st,Ae,ot),na(U,!0);const ne=mf(U),oe=U.subTree;U.subTree=ne,v(oe,ne,d(oe.el),re(oe),U,le,_e),Ae.el=ne.el,Ct===null&&Sv(U,ne.el),Re&&Un(Re,le),(te=Ae.props&&Ae.props.onVnodeUpdated)&&Un(()=>Cs(te,st,Ae,ot),le)}else{let Ae;const{el:Le,props:Re}=z,{bm:st,m:ot,parent:Ct}=U,te=wa(z);if(na(U,!1),st&&Ll(st),!te&&(Ae=Re&&Re.onVnodeBeforeMount)&&Cs(Ae,Ct,z),na(U,!0),Le&&kt){const ne=()=>{U.subTree=mf(U),kt(Le,U.subTree,U,le,null)};te?z.type.__asyncLoader().then(()=>!U.isUnmounted&&ne()):ne()}else{const ne=U.subTree=mf(U);v(null,ne,se,he,U,le,_e),z.el=ne.el}if(ot&&Un(ot,le),!te&&(Ae=Re&&Re.onVnodeMounted)){const ne=z;Un(()=>Cs(Ae,Ct,ne),le)}(z.shapeFlag&256||Ct&&wa(Ct.vnode)&&Ct.vnode.shapeFlag&256)&&U.a&&Un(U.a,le),U.isMounted=!0,z=se=he=null}},we=U.effect=new Yl(ve,gs,()=>Lp(pe),U.scope),pe=U.update=()=>{we.dirty&&we.run()};pe.i=U,pe.id=U.uid,na(U,!0),pe()},G=(U,z,se)=>{z.component=U;const he=U.vnode.props;U.vnode=z,U.next=null,hS(U,z.props,he,se),gS(U,z.children,se),Gr(),h2(U),Yr()},ie=(U,z,se,he,le,_e,Ce,ve,we=!1)=>{const pe=U&&U.children,Ae=U?U.shapeFlag:0,Le=z.children,{patchFlag:Re,shapeFlag:st}=z;if(Re>0){if(Re&128){ae(pe,Le,se,he,le,_e,Ce,ve,we);return}else if(Re&256){ge(pe,Le,se,he,le,_e,Ce,ve,we);return}}st&8?(Ae&16&&qe(pe,le,_e),Le!==pe&&u(se,Le)):Ae&16?st&16?ae(pe,Le,se,he,le,_e,Ce,ve,we):qe(pe,le,_e,!0):(Ae&8&&u(se,""),st&16&&O(Le,se,he,le,_e,Ce,ve,we))},ge=(U,z,se,he,le,_e,Ce,ve,we)=>{U=U||Il,z=z||Il;const pe=U.length,Ae=z.length,Le=Math.min(pe,Ae);let Re;for(Re=0;Re<Le;Re++){const st=z[Re]=we?gr(z[Re]):Es(z[Re]);v(U[Re],st,se,null,le,_e,Ce,ve,we)}pe>Ae?qe(U,le,_e,!0,!1,Le):O(z,se,he,le,_e,Ce,ve,we,Le)},ae=(U,z,se,he,le,_e,Ce,ve,we)=>{let pe=0;const Ae=z.length;let Le=U.length-1,Re=Ae-1;for(;pe<=Le&&pe<=Re;){const st=U[pe],ot=z[pe]=we?gr(z[pe]):Es(z[pe]);if(gi(st,ot))v(st,ot,se,null,le,_e,Ce,ve,we);else break;pe++}for(;pe<=Le&&pe<=Re;){const st=U[Le],ot=z[Re]=we?gr(z[Re]):Es(z[Re]);if(gi(st,ot))v(st,ot,se,null,le,_e,Ce,ve,we);else break;Le--,Re--}if(pe>Le){if(pe<=Re){const st=Re+1,ot=st<Ae?z[st].el:he;for(;pe<=Re;)v(null,z[pe]=we?gr(z[pe]):Es(z[pe]),se,ot,le,_e,Ce,ve,we),pe++}}else if(pe>Re)for(;pe<=Le;)We(U[pe],le,_e,!0),pe++;else{const st=pe,ot=pe,Ct=new Map;for(pe=ot;pe<=Re;pe++){const at=z[pe]=we?gr(z[pe]):Es(z[pe]);at.key!=null&&Ct.set(at.key,pe)}let te,ne=0;const oe=Re-ot+1;let me=!1,Ve=0;const Ze=new Array(oe);for(pe=0;pe<oe;pe++)Ze[pe]=0;for(pe=st;pe<=Le;pe++){const at=U[pe];if(ne>=oe){We(at,le,_e,!0);continue}let $t;if(at.key!=null)$t=Ct.get(at.key);else for(te=ot;te<=Re;te++)if(Ze[te-ot]===0&&gi(at,z[te])){$t=te;break}$t===void 0?We(at,le,_e,!0):(Ze[$t-ot]=pe+1,$t>=Ve?Ve=$t:me=!0,v(at,z[$t],se,null,le,_e,Ce,ve,we),ne++)}const rt=me?SS(Ze):Il;for(te=rt.length-1,pe=oe-1;pe>=0;pe--){const at=ot+pe,$t=z[at],Je=at+1<Ae?z[at+1].el:he;Ze[pe]===0?v(null,$t,se,Je,le,_e,Ce,ve,we):me&&(te<0||pe!==rt[te]?Te($t,se,Je,2):te--)}}},Te=(U,z,se,he,le=null)=>{const{el:_e,type:Ce,transition:ve,children:we,shapeFlag:pe}=U;if(pe&6){Te(U.component.subTree,z,se,he);return}if(pe&128){U.suspense.move(z,se,he);return}if(pe&64){Ce.move(U,z,se,Me);return}if(Ce===ue){s(_e,z,se);for(let Le=0;Le<we.length;Le++)Te(we[Le],z,se,he);s(U.anchor,z,se);return}if(Ce===Sa){x(U,z,se);return}if(he!==2&&pe&1&&ve)if(he===0)ve.beforeEnter(_e),s(_e,z,se),Un(()=>ve.enter(_e),le);else{const{leave:Le,delayLeave:Re,afterLeave:st}=ve,ot=()=>s(_e,z,se),Ct=()=>{Le(_e,()=>{ot(),st&&st()})};Re?Re(_e,ot,Ct):Ct()}else s(_e,z,se)},We=(U,z,se,he=!1,le=!1)=>{const{type:_e,props:Ce,ref:ve,children:we,dynamicChildren:pe,shapeFlag:Ae,patchFlag:Le,dirs:Re,cacheIndex:st}=U;if(Le===-2&&(le=!1),ve!=null&&Wf(ve,null,se,U,!0),st!=null&&(z.renderCache[st]=void 0),Ae&256){z.ctx.deactivate(U);return}const ot=Ae&1&&Re,Ct=!wa(U);let te;if(Ct&&(te=Ce&&Ce.onVnodeBeforeUnmount)&&Cs(te,z,U),Ae&6)Ue(U.component,se,he);else{if(Ae&128){U.suspense.unmount(se,he);return}ot&&Wi(U,null,z,"beforeUnmount"),Ae&64?U.type.remove(U,z,se,Me,he):pe&&!pe.hasOnce&&(_e!==ue||Le>0&&Le&64)?qe(pe,z,se,!1,!0):(_e===ue&&Le&384||!le&&Ae&16)&&qe(we,z,se),he&&Ke(U)}(Ct&&(te=Ce&&Ce.onVnodeUnmounted)||ot)&&Un(()=>{te&&Cs(te,z,U),ot&&Wi(U,null,z,"unmounted")},se)},Ke=U=>{const{type:z,el:se,anchor:he,transition:le}=U;if(z===ue){He(se,he);return}if(z===Sa){k(U);return}const _e=()=>{i(se),le&&!le.persisted&&le.afterLeave&&le.afterLeave()};if(U.shapeFlag&1&&le&&!le.persisted){const{leave:Ce,delayLeave:ve}=le,we=()=>Ce(se,_e);ve?ve(U.el,_e,we):we()}else _e()},He=(U,z)=>{let se;for(;U!==z;)se=h(U),i(U),U=se;i(z)},Ue=(U,z,se)=>{const{bum:he,scope:le,update:_e,subTree:Ce,um:ve,m:we,a:pe}=U;Hf(we),Hf(pe),he&&Ll(he),le.stop(),_e&&(_e.active=!1,We(Ce,U,z,se)),ve&&Un(ve,z),Un(()=>{U.isUnmounted=!0},z),z&&z.pendingBranch&&!z.isUnmounted&&U.asyncDep&&!U.asyncResolved&&U.suspenseId===z.pendingId&&(z.deps--,z.deps===0&&z.resolve())},qe=(U,z,se,he=!1,le=!1,_e=0)=>{for(let Ce=_e;Ce<U.length;Ce++)We(U[Ce],z,se,he,le)},re=U=>{if(U.shapeFlag&6)return re(U.component.subTree);if(U.shapeFlag&128)return U.suspense.next();const z=h(U.anchor||U.el),se=z&&z[v4];return se?h(se):z};let be=!1;const ye=(U,z,se)=>{U==null?z._vnode&&We(z._vnode,null,null,!0):v(z._vnode||null,U,z,null,null,null,se),z._vnode=U,be||(be=!0,h2(),zf(),be=!1)},Me={p:v,um:We,m:Te,r:Ke,mt:F,mc:O,pc:ie,pbc:V,n:re,o:t};let ft,kt;return e&&([ft,kt]=e(Me)),{render:ye,hydrate:ft,createApp:uS(ye,ft)}}function _g({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function na({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function k4(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function wv(t,e,n=!1){const s=t.children,i=e.children;if(Fe(s)&&Fe(i))for(let o=0;o<s.length;o++){const r=s[o];let a=i[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[o]=gr(i[o]),a.el=r.el),!n&&a.patchFlag!==-2&&wv(r,a)),a.type===Or&&(a.el=r.el)}}function SS(t){const e=t.slice(),n=[0];let s,i,o,r,a;const l=t.length;for(s=0;s<l;s++){const c=t[s];if(c!==0){if(i=n[n.length-1],t[i]<c){e[s]=i,n.push(s);continue}for(o=0,r=n.length-1;o<r;)a=o+r>>1,t[n[a]]<c?o=a+1:r=a;c<t[n[o]]&&(o>0&&(e[s]=n[o-1]),n[o]=s)}}for(o=n.length,r=n[o-1];o-- >0;)n[o]=r,r=e[r];return n}function $4(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:$4(e)}function Hf(t){if(t)for(let e=0;e<t.length;e++)t[e].active=!1}const C4=Symbol.for("v-scx"),E4=()=>zs(C4);function xv(t,e){return Pd(t,null,e)}function T4(t,e){return Pd(t,null,{flush:"post"})}function A4(t,e){return Pd(t,null,{flush:"sync"})}const Ih={};function ke(t,e,n){return Pd(t,e,n)}function Pd(t,e,{immediate:n,deep:s,flush:i,once:o,onTrack:r,onTrigger:a}=Bt){if(e&&o){const S=e;e=(...A)=>{S(...A),C()}}const l=Ln,c=S=>s===!0?S:yr(S,s===!1?1:void 0);let u,d=!1,h=!1;if(xn(t)?(u=()=>t.value,d=Ta(t)):jo(t)?(u=()=>c(t),d=!0):Fe(t)?(h=!0,d=t.some(S=>jo(S)||Ta(S)),u=()=>t.map(S=>{if(xn(S))return S.value;if(jo(S))return c(S);if(ct(S))return zo(S,l,2)})):ct(t)?e?u=()=>zo(t,l,2):u=()=>(f&&f(),js(t,l,3,[p])):u=gs,e&&s){const S=u;u=()=>yr(S())}let f,p=S=>{f=x.onStop=()=>{zo(S,l,4),f=x.onStop=void 0}},v;if(Rd)if(p=gs,e?n&&js(e,l,3,[u(),h?[]:void 0,p]):u(),i==="sync"){const S=E4();v=S.__watcherHandles||(S.__watcherHandles=[])}else return gs;let y=h?new Array(t.length).fill(Ih):Ih;const _=()=>{if(!(!x.active||!x.dirty))if(e){const S=x.run();(s||d||(h?S.some((A,O)=>ms(A,y[O])):ms(S,y)))&&(f&&f(),js(e,l,3,[S,y===Ih?void 0:h&&y[0]===Ih?[]:y,p]),y=S)}else x.run()};_.allowRecurse=!!e;let w;i==="sync"?w=_:i==="post"?w=()=>Un(_,l&&l.suspense):(_.pre=!0,l&&(_.id=l.uid),w=()=>Lp(_));const x=new Yl(u,gs,w),k=sv(),C=()=>{x.stop(),k&&J_(k.effects,x)};return e?n?_():y=x.run():i==="post"?Un(x.run.bind(x),l&&l.suspense):x.run(),v&&v.push(C),C}function kS(t,e,n){const s=this.proxy,i=an(t)?t.includes(".")?M4(s,t):()=>s[t]:t.bind(s,s);let o;ct(e)?o=e:(o=e.handler,n=e);const r=Ma(this),a=Pd(i,o.bind(s),n);return r(),a}function M4(t,e){const n=e.split(".");return()=>{let s=t;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}function yr(t,e=1/0,n){if(e<=0||!Yt(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,xn(t))yr(t.value,e,n);else if(Fe(t))for(let s=0;s<t.length;s++)yr(t[s],e,n);else if(za(t)||Ol(t))t.forEach(s=>{yr(s,e,n)});else if(g8(t)){for(const s in t)yr(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&yr(t[s],e,n)}return t}function $S(t,e,n=Bt){const s=Xo(),i=os(e),o=Ts(e),r=I4(t,e),a=B8((l,c)=>{let u,d=Bt,h;return A4(()=>{const f=t[e];ms(u,f)&&(u=f,c())}),{get(){return l(),n.get?n.get(u):u},set(f){const p=n.set?n.set(f):f;if(!ms(p,u)&&!(d!==Bt&&ms(f,d)))return;const v=s.vnode.props;v&&(e in v||i in v||o in v)&&(`onUpdate:${e}`in v||`onUpdate:${i}`in v||`onUpdate:${o}`in v)||(u=f,c()),s.emit(`update:${e}`,p),ms(f,p)&&ms(f,d)&&!ms(p,h)&&c(),d=f,h=p}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?r||Bt:a,done:!1}:{done:!0}}}},a}const I4=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${os(e)}Modifiers`]||t[`${Ts(e)}Modifiers`];function CS(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||Bt;let i=n;const o=e.startsWith("update:"),r=o&&I4(s,e.slice(7));r&&(r.trim&&(i=n.map(u=>an(u)?u.trim():u)),r.number&&(i=n.map(Nf)));let a,l=s[a=du(e)]||s[a=du(os(e))];!l&&o&&(l=s[a=du(Ts(e))]),l&&js(l,t,6,i);const c=s[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,js(c,t,6,i)}}function O4(t,e,n=!1){const s=e.emitsCache,i=s.get(t);if(i!==void 0)return i;const o=t.emits;let r={},a=!1;if(!ct(t)){const l=c=>{const u=O4(c,e,!0);u&&(a=!0,dn(r,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!o&&!a?(Yt(t)&&s.set(t,null),null):(Fe(o)?o.forEach(l=>r[l]=null):dn(r,o),Yt(t)&&s.set(t,r),r)}function Up(t,e){return!t||!Id(e)?!1:(e=e.slice(2).replace(/Once$/,""),Rt(t,e[0].toLowerCase()+e.slice(1))||Rt(t,Ts(e))||Rt(t,e))}function mf(t){const{type:e,vnode:n,proxy:s,withProxy:i,propsOptions:[o],slots:r,attrs:a,emit:l,render:c,renderCache:u,props:d,data:h,setupState:f,ctx:p,inheritAttrs:v}=t,y=ju(t);let _,w;try{if(n.shapeFlag&4){const k=i||s,C=k;_=Es(c.call(C,k,u,d,f,h,p)),w=a}else{const k=e;_=Es(k.length>1?k(d,{attrs:a,slots:r,emit:l}):k(d,null)),w=e.props?a:TS(a)}}catch(k){mu.length=0,Fa(k,t,1),_=E(Dn)}let x=_;if(w&&v!==!1){const k=Object.keys(w),{shapeFlag:C}=x;k.length&&C&7&&(o&&k.some(X_)&&(w=AS(w,o)),x=io(x,w,!1,!0))}return n.dirs&&(x=io(x,null,!1,!0),x.dirs=x.dirs?x.dirs.concat(n.dirs):n.dirs),n.transition&&(x.transition=n.transition),_=x,ju(y),_}function ES(t,e=!0){let n;for(let s=0;s<t.length;s++){const i=t[s];if(Nr(i)){if(i.type!==Dn||i.children==="v-if"){if(n)return;n=i}}else return}return n}const TS=t=>{let e;for(const n in t)(n==="class"||n==="style"||Id(n))&&((e||(e={}))[n]=t[n]);return e},AS=(t,e)=>{const n={};for(const s in t)(!X_(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function MS(t,e,n){const{props:s,children:i,component:o}=t,{props:r,children:a,patchFlag:l}=e,c=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?x2(s,r,c):!!r;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const h=u[d];if(r[h]!==s[h]&&!Up(c,h))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:s===r?!1:s?r?x2(s,r,c):!0:!!r;return!1}function x2(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let i=0;i<s.length;i++){const o=s[i];if(e[o]!==t[o]&&!Up(n,o))return!0}return!1}function Sv({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const $1=t=>t.__isSuspense;let C1=0;const IS={name:"Suspense",__isSuspense:!0,process(t,e,n,s,i,o,r,a,l,c){if(t==null)DS(e,n,s,i,o,r,a,l,c);else{if(o&&o.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}LS(t,e,n,s,i,r,a,l,c)}},hydrate:PS,normalize:RS},OS=IS;function Fu(t,e){const n=t.props&&t.props[e];ct(n)&&n()}function DS(t,e,n,s,i,o,r,a,l){const{p:c,o:{createElement:u}}=l,d=u("div"),h=t.suspense=D4(t,i,s,e,d,n,o,r,a,l);c(null,h.pendingBranch=t.ssContent,d,null,s,h,o,r),h.deps>0?(Fu(t,"onPending"),Fu(t,"onFallback"),c(null,t.ssFallback,e,n,s,null,o,r),Vl(h,t.ssFallback)):h.resolve(!1,!0)}function LS(t,e,n,s,i,o,r,a,{p:l,um:c,o:{createElement:u}}){const d=e.suspense=t.suspense;d.vnode=e,e.el=t.el;const h=e.ssContent,f=e.ssFallback,{activeBranch:p,pendingBranch:v,isInFallback:y,isHydrating:_}=d;if(v)d.pendingBranch=h,gi(h,v)?(l(v,h,d.hiddenContainer,null,i,d,o,r,a),d.deps<=0?d.resolve():y&&(_||(l(p,f,n,s,i,null,o,r,a),Vl(d,f)))):(d.pendingId=C1++,_?(d.isHydrating=!1,d.activeBranch=v):c(v,i,d),d.deps=0,d.effects.length=0,d.hiddenContainer=u("div"),y?(l(null,h,d.hiddenContainer,null,i,d,o,r,a),d.deps<=0?d.resolve():(l(p,f,n,s,i,null,o,r,a),Vl(d,f))):p&&gi(h,p)?(l(p,h,n,s,i,d,o,r,a),d.resolve(!0)):(l(null,h,d.hiddenContainer,null,i,d,o,r,a),d.deps<=0&&d.resolve()));else if(p&&gi(h,p))l(p,h,n,s,i,d,o,r,a),Vl(d,h);else if(Fu(e,"onPending"),d.pendingBranch=h,h.shapeFlag&512?d.pendingId=h.component.suspenseId:d.pendingId=C1++,l(null,h,d.hiddenContainer,null,i,d,o,r,a),d.deps<=0)d.resolve();else{const{timeout:w,pendingId:x}=d;w>0?setTimeout(()=>{d.pendingId===x&&d.fallback(f)},w):w===0&&d.fallback(f)}}function D4(t,e,n,s,i,o,r,a,l,c,u=!1){const{p:d,m:h,um:f,n:p,o:{parentNode:v,remove:y}}=c;let _;const w=VS(t);w&&e&&e.pendingBranch&&(_=e.pendingId,e.deps++);const x=t.props?Uf(t.props.timeout):void 0,k=o,C={vnode:t,parent:e,parentComponent:n,namespace:r,container:s,hiddenContainer:i,deps:0,pendingId:C1++,timeout:typeof x=="number"?x:-1,activeBranch:null,pendingBranch:null,isInFallback:!u,isHydrating:u,isUnmounted:!1,effects:[],resolve(S=!1,A=!1){const{vnode:O,activeBranch:M,pendingBranch:V,pendingId:R,effects:X,parentComponent:P,container:F}=C;let Z=!1;C.isHydrating?C.isHydrating=!1:S||(Z=M&&V.transition&&V.transition.mode==="out-in",Z&&(M.transition.afterLeave=()=>{R===C.pendingId&&(h(V,F,o===k?p(M):o,0),jf(X))}),M&&(v(M.el)!==C.hiddenContainer&&(o=p(M)),f(M,P,C,!0)),Z||h(V,F,o,0)),Vl(C,V),C.pendingBranch=null,C.isInFallback=!1;let Q=C.parent,G=!1;for(;Q;){if(Q.pendingBranch){Q.effects.push(...X),G=!0;break}Q=Q.parent}!G&&!Z&&jf(X),C.effects=[],w&&e&&e.pendingBranch&&_===e.pendingId&&(e.deps--,e.deps===0&&!A&&e.resolve()),Fu(O,"onResolve")},fallback(S){if(!C.pendingBranch)return;const{vnode:A,activeBranch:O,parentComponent:M,container:V,namespace:R}=C;Fu(A,"onFallback");const X=p(O),P=()=>{C.isInFallback&&(d(null,S,V,X,M,null,R,a,l),Vl(C,S))},F=S.transition&&S.transition.mode==="out-in";F&&(O.transition.afterLeave=P),C.isInFallback=!0,f(O,M,null,!0),F||P()},move(S,A,O){C.activeBranch&&h(C.activeBranch,S,A,O),C.container=S},next(){return C.activeBranch&&p(C.activeBranch)},registerDep(S,A,O){const M=!!C.pendingBranch;M&&C.deps++;const V=S.vnode.el;S.asyncDep.catch(R=>{Fa(R,S,0)}).then(R=>{if(S.isUnmounted||C.isUnmounted||C.pendingId!==S.suspenseId)return;S.asyncResolved=!0;const{vnode:X}=S;A1(S,R,!1),V&&(X.el=V);const P=!V&&S.subTree.el;A(S,X,v(V||S.subTree.el),V?null:p(S.subTree),C,r,O),P&&y(P),Sv(S,X.el),M&&--C.deps===0&&C.resolve()})},unmount(S,A){C.isUnmounted=!0,C.activeBranch&&f(C.activeBranch,n,S,A),C.pendingBranch&&f(C.pendingBranch,n,S,A)}};return C}function PS(t,e,n,s,i,o,r,a,l){const c=e.suspense=D4(e,s,n,t.parentNode,document.createElement("div"),null,i,o,r,a,!0),u=l(t,c.pendingBranch=e.ssContent,n,c,o,r);return c.deps===0&&c.resolve(!1,!0),u}function RS(t){const{shapeFlag:e,children:n}=t,s=e&32;t.ssContent=S2(s?n.default:n),t.ssFallback=s?S2(n.fallback):E(Dn)}function S2(t){let e;if(ct(t)){const n=Aa&&t._c;n&&(t._d=!1,b()),t=t(),n&&(t._d=!0,e=ss,P4())}return Fe(t)&&(t=ES(t)),t=Es(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function L4(t,e){e&&e.pendingBranch?Fe(t)?e.effects.push(...t):e.effects.push(t):jf(t)}function Vl(t,e){t.activeBranch=e;const{vnode:n,parentComponent:s}=t;let i=e.el;for(;!i&&e.component;)e=e.component.subTree,i=e.el;n.el=i,s&&s.subTree===n&&(s.vnode.el=i,Sv(s,i))}function VS(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const ue=Symbol.for("v-fgt"),Or=Symbol.for("v-txt"),Dn=Symbol.for("v-cmt"),Sa=Symbol.for("v-stc"),mu=[];let ss=null;function b(t=!1){mu.push(ss=t?null:[])}function P4(){mu.pop(),ss=mu[mu.length-1]||null}let Aa=1;function Wu(t){Aa+=t,t<0&&ss&&(ss.hasOnce=!0)}function R4(t){return t.dynamicChildren=Aa>0?ss||Il:null,P4(),Aa>0&&ss&&ss.push(t),t}function $(t,e,n,s,i,o){return R4(m(t,e,n,s,i,o,!0))}function B(t,e,n,s,i){return R4(E(t,e,n,s,i,!0))}function Nr(t){return t?t.__v_isVNode===!0:!1}function gi(t,e){return t.type===e.type&&t.key===e.key}function NS(t){}const V4=({key:t})=>t??null,gf=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?an(t)||xn(t)||ct(t)?{i:Pn,r:t,k:e,f:!!n}:t:null);function m(t,e=null,n=null,s=0,i=null,o=t===ue?0:1,r=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&V4(e),ref:e&&gf(e),scopeId:Pp,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Pn};return a?($v(l,n),o&128&&t.normalize(l)):n&&(l.shapeFlag|=an(n)?8:16),Aa>0&&!r&&ss&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&ss.push(l),l}const E=US;function US(t,e=null,n=null,s=0,i=null,o=!1){if((!t||t===i4)&&(t=Dn),Nr(t)){const a=io(t,e,!0);return n&&$v(a,n),Aa>0&&!o&&ss&&(a.shapeFlag&6?ss[ss.indexOf(t)]=a:ss.push(a)),a.patchFlag=-2,a}if(qS(t)&&(t=t.__vccOpts),e){e=N4(e);let{class:a,style:l}=e;a&&!an(a)&&(e.class=Se(a)),Yt(l)&&(cv(l)&&!Fe(l)&&(l=dn({},l)),e.style=Qt(l))}const r=an(t)?1:$1(t)?128:_S(t)?64:Yt(t)?4:ct(t)?2:0;return m(t,e,n,s,i,r,o,!0)}function N4(t){return t?cv(t)||d4(t)?dn({},t):t:null}function io(t,e,n=!1,s=!1){const{props:i,ref:o,patchFlag:r,children:a,transition:l}=t,c=e?bc(i||{},e):i,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&V4(c),ref:e&&e.ref?n&&o?Fe(o)?o.concat(gf(e)):[o,gf(e)]:gf(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ue?r===-1?16:r|16:r,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&io(t.ssContent),ssFallback:t.ssFallback&&io(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&s&&Vr(u,l.clone(u)),u}function W(t=" ",e=0){return E(Or,null,t,e)}function kv(t,e){const n=E(Sa,null,t);return n.staticCount=e,n}function N(t="",e=!1){return e?(b(),B(Dn,null,t)):E(Dn,null,t)}function Es(t){return t==null||typeof t=="boolean"?E(Dn):Fe(t)?E(ue,null,t.slice()):typeof t=="object"?gr(t):E(Or,null,String(t))}function gr(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:io(t)}function $v(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(Fe(e))n=16;else if(typeof e=="object")if(s&65){const i=e.default;i&&(i._c&&(i._d=!1),$v(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!d4(e)?e._ctx=Pn:i===3&&Pn&&(Pn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ct(e)?(e={default:e,_ctx:Pn},n=32):(e=String(e),s&64?(n=16,e=[W(e)]):n=8);t.children=e,t.shapeFlag|=n}function bc(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const i in s)if(i==="class")e.class!==s.class&&(e.class=Se([e.class,s.class]));else if(i==="style")e.style=Qt([e.style,s.style]);else if(Id(i)){const o=e[i],r=s[i];r&&o!==r&&!(Fe(o)&&o.includes(r))&&(e[i]=o?[].concat(o,r):r)}else i!==""&&(e[i]=s[i])}return e}function Cs(t,e,n,s=null){js(t,e,7,[n,s])}const BS=a4();let jS=0;function U4(t,e,n){const s=t.type,i=(e?e.appContext:t.appContext)||BS,o={uid:jS++,vnode:t,type:s,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new tv(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:f4(s,i),emitsOptions:O4(s,i),emit:null,emitted:null,propsDefaults:Bt,inheritAttrs:s.inheritAttrs,ctx:Bt,data:Bt,props:Bt,attrs:Bt,slots:Bt,refs:Bt,setupState:Bt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=CS.bind(null,o),t.ce&&t.ce(o),o}let Ln=null;const Xo=()=>Ln||Pn;let qf,E1;{const t=v8(),e=(n,s)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(s),o=>{i.length>1?i.forEach(r=>r(o)):i[0](o)}};qf=e("__VUE_INSTANCE_SETTERS__",n=>Ln=n),E1=e("__VUE_SSR_SETTERS__",n=>Rd=n)}const Ma=t=>{const e=Ln;return qf(t),t.scope.on(),()=>{t.scope.off(),qf(e)}},T1=()=>{Ln&&Ln.scope.off(),qf(null)};function B4(t){return t.vnode.shapeFlag&4}let Rd=!1;function j4(t,e=!1,n=!1){e&&E1(e);const{props:s,children:i}=t.vnode,o=B4(t);dS(t,s,o,e),mS(t,i,n);const r=o?zS(t,e):void 0;return e&&E1(!1),r}function zS(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,b1);const{setup:s}=n;if(s){const i=t.setupContext=s.length>1?F4(t):null,o=Ma(t);Gr();const r=zo(s,t,0,[t.props,i]);if(Yr(),o(),Q_(r)){if(r.then(T1,T1),e)return r.then(a=>{A1(t,a,e)}).catch(a=>{Fa(a,t,0)});t.asyncDep=r}else A1(t,r,e)}else z4(t,e)}function A1(t,e,n){ct(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Yt(e)&&(t.setupState=hv(e)),z4(t,n)}let Gf,M1;function FS(t){Gf=t,M1=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,Wx))}}const WS=()=>!Gf;function z4(t,e,n){const s=t.type;if(!t.render){if(!e&&Gf&&!s.render){const i=s.template||yv(t).template;if(i){const{isCustomElement:o,compilerOptions:r}=t.appContext.config,{delimiters:a,compilerOptions:l}=s,c=dn(dn({isCustomElement:o,delimiters:a},r),l);s.render=Gf(i,c)}}t.render=s.render||gs,M1&&M1(t)}{const i=Ma(t);Gr();try{iS(t)}finally{Yr(),i()}}}const HS={get(t,e){return Os(t,"get",""),t[e]}};function F4(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,HS),slots:t.slots,emit:t.emit,expose:e}}function Vd(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(hv(Dp(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in hu)return hu[n](t)},has(e,n){return n in e||n in hu}})):t.proxy}function I1(t,e=!0){return ct(t)?t.displayName||t.name:t.name||e&&t.__name}function qS(t){return ct(t)&&"__vccOpts"in t}const q=(t,e)=>_x(t,e,Rd);function Nd(t,e,n){const s=arguments.length;return s===2?Yt(e)&&!Fe(e)?Nr(e)?E(t,null,[e]):E(t,e):E(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Nr(n)&&(n=[n]),E(t,e,n))}function GS(){}function YS(t,e,n,s){const i=n[s];if(i&&W4(i,t))return i;const o=e();return o.memo=t.slice(),o.cacheIndex=s,n[s]=o}function W4(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let s=0;s<n.length;s++)if(ms(n[s],e[s]))return!1;return Aa>0&&ss&&ss.push(t),!0}const H4="3.4.37",KS=gs,ZS=Mx,XS=gl,JS=q8,QS={createComponentInstance:U4,setupComponent:j4,renderComponentRoot:mf,setCurrentRenderingInstance:ju,isVNode:Nr,normalizeVNode:Es,getComponentPublicInstance:Vd,ensureValidVNode:vv},ek=QS,tk=null,nk=null,sk=null;/**
* @vue/runtime-dom v3.4.37
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const ik="http://www.w3.org/2000/svg",ok="http://www.w3.org/1998/Math/MathML",To=typeof document<"u"?document:null,k2=To&&To.createElement("template"),rk={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const i=e==="svg"?To.createElementNS(ik,t):e==="mathml"?To.createElementNS(ok,t):n?To.createElement(t,{is:n}):To.createElement(t);return t==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:t=>To.createTextNode(t),createComment:t=>To.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>To.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,i,o){const r=n?n.previousSibling:e.lastChild;if(i&&(i===o||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{k2.innerHTML=s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t;const a=k2.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[r?r.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},cr="transition",Pc="animation",Zl=Symbol("_vtc"),Bp=(t,{slots:e})=>Nd(Y8,G4(t),e);Bp.displayName="Transition";const q4={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},ak=Bp.props=dn({},mv,q4),sa=(t,e=[])=>{Fe(t)?t.forEach(n=>n(...e)):t&&t(...e)},$2=t=>t?Fe(t)?t.some(e=>e.length>1):t.length>1:!1;function G4(t){const e={};for(const X in t)X in q4||(e[X]=t[X]);if(t.css===!1)return e;const{name:n="v",type:s,duration:i,enterFromClass:o=`${n}-enter-from`,enterActiveClass:r=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=o,appearActiveClass:c=r,appearToClass:u=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=t,p=lk(i),v=p&&p[0],y=p&&p[1],{onBeforeEnter:_,onEnter:w,onEnterCancelled:x,onLeave:k,onLeaveCancelled:C,onBeforeAppear:S=_,onAppear:A=w,onAppearCancelled:O=x}=e,M=(X,P,F)=>{dr(X,P?u:a),dr(X,P?c:r),F&&F()},V=(X,P)=>{X._isLeaving=!1,dr(X,d),dr(X,f),dr(X,h),P&&P()},R=X=>(P,F)=>{const Z=X?A:w,Q=()=>M(P,X,F);sa(Z,[P,Q]),C2(()=>{dr(P,X?l:o),ko(P,X?u:a),$2(Z)||E2(P,s,v,Q)})};return dn(e,{onBeforeEnter(X){sa(_,[X]),ko(X,o),ko(X,r)},onBeforeAppear(X){sa(S,[X]),ko(X,l),ko(X,c)},onEnter:R(!1),onAppear:R(!0),onLeave(X,P){X._isLeaving=!0;const F=()=>V(X,P);ko(X,d),ko(X,h),K4(),C2(()=>{X._isLeaving&&(dr(X,d),ko(X,f),$2(k)||E2(X,s,y,F))}),sa(k,[X,F])},onEnterCancelled(X){M(X,!1),sa(x,[X])},onAppearCancelled(X){M(X,!0),sa(O,[X])},onLeaveCancelled(X){V(X),sa(C,[X])}})}function lk(t){if(t==null)return null;if(Yt(t))return[vg(t.enter),vg(t.leave)];{const e=vg(t);return[e,e]}}function vg(t){return Uf(t)}function ko(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Zl]||(t[Zl]=new Set)).add(e)}function dr(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const n=t[Zl];n&&(n.delete(e),n.size||(t[Zl]=void 0))}function C2(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let ck=0;function E2(t,e,n,s){const i=t._endId=++ck,o=()=>{i===t._endId&&s()};if(n)return setTimeout(o,n);const{type:r,timeout:a,propCount:l}=Y4(t,e);if(!r)return s();const c=r+"end";let u=0;const d=()=>{t.removeEventListener(c,h),o()},h=f=>{f.target===t&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},a+1),t.addEventListener(c,h)}function Y4(t,e){const n=window.getComputedStyle(t),s=p=>(n[p]||"").split(", "),i=s(`${cr}Delay`),o=s(`${cr}Duration`),r=T2(i,o),a=s(`${Pc}Delay`),l=s(`${Pc}Duration`),c=T2(a,l);let u=null,d=0,h=0;e===cr?r>0&&(u=cr,d=r,h=o.length):e===Pc?c>0&&(u=Pc,d=c,h=l.length):(d=Math.max(r,c),u=d>0?r>c?cr:Pc:null,h=u?u===cr?o.length:l.length:0);const f=u===cr&&/\b(transform|all)(,|$)/.test(s(`${cr}Property`).toString());return{type:u,timeout:d,propCount:h,hasTransform:f}}function T2(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,s)=>A2(n)+A2(t[s])))}function A2(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function K4(){return document.body.offsetHeight}function uk(t,e,n){const s=t[Zl];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Yf=Symbol("_vod"),Z4=Symbol("_vsh"),ai={beforeMount(t,{value:e},{transition:n}){t[Yf]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Rc(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:s}){!e!=!n&&(s?e?(s.beforeEnter(t),Rc(t,!0),s.enter(t)):s.leave(t,()=>{Rc(t,!1)}):Rc(t,e))},beforeUnmount(t,{value:e}){Rc(t,e)}};function Rc(t,e){t.style.display=e?t[Yf]:"none",t[Z4]=!e}function dk(){ai.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const X4=Symbol("");function hk(t){const e=Xo();if(!e)return;const n=e.ut=(i=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(o=>D1(o,i))},s=()=>{const i=t(e.proxy);O1(e.subTree,i),n(i)};Np(()=>{T4(s)}),ri(()=>{const i=new MutationObserver(s);i.observe(e.subTree.el.parentNode,{childList:!0}),Zo(()=>i.disconnect())})}function O1(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{O1(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)D1(t.el,e);else if(t.type===ue)t.children.forEach(n=>O1(n,e));else if(t.type===Sa){let{el:n,anchor:s}=t;for(;n&&(D1(n,e),n!==s);)n=n.nextSibling}}function D1(t,e){if(t.nodeType===1){const n=t.style;let s="";for(const i in e)n.setProperty(`--${i}`,e[i]),s+=`--${i}: ${e[i]};`;n[X4]=s}}const fk=/(^|;)\s*display\s*:/;function pk(t,e,n){const s=t.style,i=an(n);let o=!1;if(n&&!i){if(e)if(an(e))for(const r of e.split(";")){const a=r.slice(0,r.indexOf(":")).trim();n[a]==null&&_f(s,a,"")}else for(const r in e)n[r]==null&&_f(s,r,"");for(const r in n)r==="display"&&(o=!0),_f(s,r,n[r])}else if(i){if(e!==n){const r=s[X4];r&&(n+=";"+r),s.cssText=n,o=fk.test(n)}}else e&&t.removeAttribute("style");Yf in t&&(t[Yf]=o?s.display:"",t[Z4]&&(s.display="none"))}const M2=/\s*!important$/;function _f(t,e,n){if(Fe(n))n.forEach(s=>_f(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=mk(t,e);M2.test(n)?t.setProperty(Ts(s),n.replace(M2,""),"important"):t[s]=n}}const I2=["Webkit","Moz","ms"],yg={};function mk(t,e){const n=yg[e];if(n)return n;let s=os(e);if(s!=="filter"&&s in t)return yg[e]=s;s=Od(s);for(let i=0;i<I2.length;i++){const o=I2[i]+s;if(o in t)return yg[e]=o}return e}const O2="http://www.w3.org/1999/xlink";function D2(t,e,n,s,i,o=q7(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(O2,e.slice(6,e.length)):t.setAttributeNS(O2,e,n):n==null||o&&!b8(n)?t.removeAttribute(e):t.setAttribute(e,o?"":no(n)?String(n):n)}function gk(t,e,n,s){if(e==="innerHTML"||e==="textContent"){if(n==null)return;t[e]=n;return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const r=i==="OPTION"?t.getAttribute("value")||"":t.value,a=n==null?"":String(n);(r!==a||!("_value"in t))&&(t.value=a),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const r=typeof t[e];r==="boolean"?n=b8(n):n==null&&r==="string"?(n="",o=!0):r==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(e)}function Oo(t,e,n,s){t.addEventListener(e,n,s)}function _k(t,e,n,s){t.removeEventListener(e,n,s)}const L2=Symbol("_vei");function vk(t,e,n,s,i=null){const o=t[L2]||(t[L2]={}),r=o[e];if(s&&r)r.value=s;else{const[a,l]=yk(e);if(s){const c=o[e]=xk(s,i);Oo(t,a,c,l)}else r&&(_k(t,a,r,l),o[e]=void 0)}}const P2=/(?:Once|Passive|Capture)$/;function yk(t){let e;if(P2.test(t)){e={};let s;for(;s=t.match(P2);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ts(t.slice(2)),e]}let bg=0;const bk=Promise.resolve(),wk=()=>bg||(bk.then(()=>bg=0),bg=Date.now());function xk(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;js(Sk(s,n.value),e,5,[s])};return n.value=t,n.attached=wk(),n}function Sk(t,e){if(Fe(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>i=>!i._stopped&&s&&s(i))}else return e}const R2=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,kk=(t,e,n,s,i,o)=>{const r=i==="svg";e==="class"?uk(t,s,r):e==="style"?pk(t,n,s):Id(e)?X_(e)||vk(t,e,n,s,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):$k(t,e,s,r))?(gk(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&D2(t,e,s,r,o,e!=="value")):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),D2(t,e,s,r))};function $k(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&R2(e)&&ct(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return R2(e)&&an(n)?!1:e in t}/*! #__NO_SIDE_EFFECTS__ */function J4(t,e,n){const s=j(t,e);class i extends jp{constructor(r){super(s,r,n)}}return i.def=s,i}/*! #__NO_SIDE_EFFECTS__ */const Ck=(t,e)=>J4(t,e,a5),Ek=typeof HTMLElement<"u"?HTMLElement:class{};class jp extends Ek{constructor(e,n={},s){super(),this._def=e,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this._ob=null,this.shadowRoot&&s?s(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,vc(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),L1(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let s=0;s<this.attributes.length;s++)this._setAttr(this.attributes[s].name);this._ob=new MutationObserver(s=>{for(const i of s)this._setAttr(i.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(s,i=!1)=>{const{props:o,styles:r}=s;let a;if(o&&!Fe(o))for(const l in o){const c=o[l];(c===Number||c&&c.type===Number)&&(l in this._props&&(this._props[l]=Uf(this._props[l])),(a||(a=Object.create(null)))[os(l)]=!0)}this._numberProps=a,i&&this._resolveProps(s),this._applyStyles(r),this._update()},n=this._def.__asyncLoader;n?n().then(s=>e(s,!0)):e(this._def)}_resolveProps(e){const{props:n}=e,s=Fe(n)?n:Object.keys(n||{});for(const i of Object.keys(this))i[0]!=="_"&&s.includes(i)&&this._setProp(i,this[i],!0,!1);for(const i of s.map(os))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(o){this._setProp(i,o)}})}_setAttr(e){let n=this.hasAttribute(e)?this.getAttribute(e):void 0;const s=os(e);this._numberProps&&this._numberProps[s]&&(n=Uf(n)),this._setProp(s,n,!1)}_getProp(e){return this._props[e]}_setProp(e,n,s=!0,i=!0){n!==this._props[e]&&(this._props[e]=n,i&&this._instance&&this._update(),s&&(n===!0?this.setAttribute(Ts(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(Ts(e),n+""):n||this.removeAttribute(Ts(e))))}_update(){L1(this._createVNode(),this.shadowRoot)}_createVNode(){const e=E(this._def,dn({},this._props));return this._instance||(e.ce=n=>{this._instance=n,n.isCE=!0;const s=(o,r)=>{this.dispatchEvent(new CustomEvent(o,{detail:r}))};n.emit=(o,...r)=>{s(o,r),Ts(o)!==o&&s(Ts(o),r)};let i=this;for(;i=i&&(i.parentNode||i.host);)if(i instanceof jp){n.parent=i._instance,n.provides=i._instance.provides;break}}),e}_applyStyles(e){e&&e.forEach(n=>{const s=document.createElement("style");s.textContent=n,this.shadowRoot.appendChild(s)})}}function Tk(t="$style"){{const e=Xo();if(!e)return Bt;const n=e.type.__cssModules;if(!n)return Bt;const s=n[t];return s||Bt}}const Q4=new WeakMap,e5=new WeakMap,Kf=Symbol("_moveCb"),V2=Symbol("_enterCb"),t5={name:"TransitionGroup",props:dn({},ak,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=Xo(),s=pv();let i,o;return Ld(()=>{if(!i.length)return;const r=t.moveClass||`${t.name||"v"}-move`;if(!Lk(i[0].el,n.vnode.el,r))return;i.forEach(Ik),i.forEach(Ok);const a=i.filter(Dk);K4(),a.forEach(l=>{const c=l.el,u=c.style;ko(c,r),u.transform=u.webkitTransform=u.transitionDuration="";const d=c[Kf]=h=>{h&&h.target!==c||(!h||/transform$/.test(h.propertyName))&&(c.removeEventListener("transitionend",d),c[Kf]=null,dr(c,r))};c.addEventListener("transitionend",d)})}),()=>{const r=Dt(t),a=G4(r);let l=r.tag||ue;if(i=[],o)for(let c=0;c<o.length;c++){const u=o[c];u.el&&u.el instanceof Element&&(i.push(u),Vr(u,Kl(u,a,s,n)),Q4.set(u,u.el.getBoundingClientRect()))}o=e.default?Rp(e.default()):[];for(let c=0;c<o.length;c++){const u=o[c];u.key!=null&&Vr(u,Kl(u,a,s,n))}return E(l,null,o)}}},Ak=t=>delete t.mode;t5.props;const Mk=t5;function Ik(t){const e=t.el;e[Kf]&&e[Kf](),e[V2]&&e[V2]()}function Ok(t){e5.set(t,t.el.getBoundingClientRect())}function Dk(t){const e=Q4.get(t),n=e5.get(t),s=e.left-n.left,i=e.top-n.top;if(s||i){const o=t.el.style;return o.transform=o.webkitTransform=`translate(${s}px,${i}px)`,o.transitionDuration="0s",t}}function Lk(t,e,n){const s=t.cloneNode(),i=t[Zl];i&&i.forEach(a=>{a.split(/\s+/).forEach(l=>l&&s.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&s.classList.add(a)),s.style.display="none";const o=e.nodeType===1?e:e.parentNode;o.appendChild(s);const{hasTransform:r}=Y4(s);return o.removeChild(s),r}const Ur=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Fe(e)?n=>Ll(e,n):e};function Pk(t){t.target.composing=!0}function N2(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const ni=Symbol("_assign"),Wo={created(t,{modifiers:{lazy:e,trim:n,number:s}},i){t[ni]=Ur(i);const o=s||i.props&&i.props.type==="number";Oo(t,e?"change":"input",r=>{if(r.target.composing)return;let a=t.value;n&&(a=a.trim()),o&&(a=Nf(a)),t[ni](a)}),n&&Oo(t,"change",()=>{t.value=t.value.trim()}),e||(Oo(t,"compositionstart",Pk),Oo(t,"compositionend",N2),Oo(t,"change",N2))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:i,number:o}},r){if(t[ni]=Ur(r),t.composing)return;const a=(o||t.type==="number")&&!/^0\d/.test(t.value)?Nf(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||i&&t.value.trim()===l)||(t.value=l))}},zp={deep:!0,created(t,e,n){t[ni]=Ur(n),Oo(t,"change",()=>{const s=t._modelValue,i=Xl(t),o=t.checked,r=t[ni];if(Fe(s)){const a=Ap(s,i),l=a!==-1;if(o&&!l)r(s.concat(i));else if(!o&&l){const c=[...s];c.splice(a,1),r(c)}}else if(za(s)){const a=new Set(s);o?a.add(i):a.delete(i),r(a)}else r(n5(t,o))})},mounted:U2,beforeUpdate(t,e,n){t[ni]=Ur(n),U2(t,e,n)}};function U2(t,{value:e,oldValue:n},s){t._modelValue=e,Fe(e)?t.checked=Ap(e,s.props.value)>-1:za(e)?t.checked=e.has(s.props.value):e!==n&&(t.checked=Pr(e,n5(t,!0)))}const Cv={created(t,{value:e},n){t.checked=Pr(e,n.props.value),t[ni]=Ur(n),Oo(t,"change",()=>{t[ni](Xl(t))})},beforeUpdate(t,{value:e,oldValue:n},s){t[ni]=Ur(s),e!==n&&(t.checked=Pr(e,s.props.value))}},Ev={deep:!0,created(t,{value:e,modifiers:{number:n}},s){const i=za(e);Oo(t,"change",()=>{const o=Array.prototype.filter.call(t.options,r=>r.selected).map(r=>n?Nf(Xl(r)):Xl(r));t[ni](t.multiple?i?new Set(o):o:o[0]),t._assigning=!0,vc(()=>{t._assigning=!1})}),t[ni]=Ur(s)},mounted(t,{value:e,modifiers:{number:n}}){B2(t,e)},beforeUpdate(t,e,n){t[ni]=Ur(n)},updated(t,{value:e,modifiers:{number:n}}){t._assigning||B2(t,e)}};function B2(t,e,n){const s=t.multiple,i=Fe(e);if(!(s&&!i&&!za(e))){for(let o=0,r=t.options.length;o<r;o++){const a=t.options[o],l=Xl(a);if(s)if(i){const c=typeof l;c==="string"||c==="number"?a.selected=e.some(u=>String(u)===String(l)):a.selected=Ap(e,l)>-1}else a.selected=e.has(l);else if(Pr(Xl(a),e)){t.selectedIndex!==o&&(t.selectedIndex=o);return}}!s&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Xl(t){return"_value"in t?t._value:t.value}function n5(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const Fp={created(t,e,n){Oh(t,e,n,null,"created")},mounted(t,e,n){Oh(t,e,n,null,"mounted")},beforeUpdate(t,e,n,s){Oh(t,e,n,s,"beforeUpdate")},updated(t,e,n,s){Oh(t,e,n,s,"updated")}};function s5(t,e){switch(t){case"SELECT":return Ev;case"TEXTAREA":return Wo;default:switch(e){case"checkbox":return zp;case"radio":return Cv;default:return Wo}}}function Oh(t,e,n,s,i){const r=s5(t.tagName,n.props&&n.props.type)[i];r&&r(t,e,n,s)}function Rk(){Wo.getSSRProps=({value:t})=>({value:t}),Cv.getSSRProps=({value:t},e)=>{if(e.props&&Pr(e.props.value,t))return{checked:!0}},zp.getSSRProps=({value:t},e)=>{if(Fe(t)){if(e.props&&Ap(t,e.props.value)>-1)return{checked:!0}}else if(za(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},Fp.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const n=s5(e.type.toUpperCase(),e.props&&e.props.type);if(n.getSSRProps)return n.getSSRProps(t,e)}}const Vk=["ctrl","shift","alt","meta"],Nk={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Vk.some(n=>t[`${n}Key`]&&!e.includes(n))},un=(t,e)=>{const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=(i,...o)=>{for(let r=0;r<e.length;r++){const a=Nk[e[r]];if(a&&a(i,e))return}return t(i,...o)})},Uk={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},vi=(t,e)=>{const n=t._withKeys||(t._withKeys={}),s=e.join(".");return n[s]||(n[s]=i=>{if(!("key"in i))return;const o=Ts(i.key);if(e.some(r=>r===o||Uk[r]===o))return t(i)})},i5=dn({patchProp:kk},rk);let gu,j2=!1;function o5(){return gu||(gu=w4(i5))}function r5(){return gu=j2?gu:x4(i5),j2=!0,gu}const L1=(...t)=>{o5().render(...t)},a5=(...t)=>{r5().hydrate(...t)},l5=(...t)=>{const e=o5().createApp(...t),{mount:n}=e;return e.mount=s=>{const i=u5(s);if(!i)return;const o=e._component;!ct(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const r=n(i,!1,c5(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),r},e},Bk=(...t)=>{const e=r5().createApp(...t),{mount:n}=e;return e.mount=s=>{const i=u5(s);if(i)return n(i,!0,c5(i))},e};function c5(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function u5(t){return an(t)?document.querySelector(t):t}let z2=!1;const jk=()=>{z2||(z2=!0,Rk(),dk())};/**
* vue v3.4.37
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const zk=()=>{},Fk=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:Y8,BaseTransitionPropsValidators:mv,Comment:Dn,DeprecationTypes:sk,EffectScope:tv,ErrorCodes:Ax,ErrorTypeStrings:ZS,Fragment:ue,KeepAlive:Ux,ReactiveEffect:Yl,Static:Sa,Suspense:OS,Teleport:Ti,Text:Or,TrackOpTypes:Cx,Transition:Bp,TransitionGroup:Mk,TriggerOpTypes:Ex,VueElement:jp,assertNumber:Tx,callWithAsyncErrorHandling:js,callWithErrorHandling:zo,camelize:os,capitalize:Od,cloneVNode:io,compatUtils:nk,compile:zk,computed:q,createApp:l5,createBlock:B,createCommentVNode:N,createElementBlock:$,createElementVNode:m,createHydrationRenderer:x4,createPropsRestProxy:nS,createRenderer:w4,createSSRApp:Bk,createSlots:zx,createStaticVNode:kv,createTextVNode:W,createVNode:E,customRef:B8,defineAsyncComponent:Vx,defineComponent:j,defineCustomElement:J4,defineEmits:qx,defineExpose:Gx,defineModel:Zx,defineOptions:Yx,defineProps:Hx,defineSSRCustomElement:Ck,defineSlots:Kx,devtools:XS,effect:K7,effectScope:nv,getCurrentInstance:Xo,getCurrentScope:sv,getTransitionRawChildren:Rp,guardReactiveProps:N4,h:Nd,handleError:Fa,hasInjectionContext:l4,hydrate:a5,initCustomFormatter:GS,initDirectivesForSSR:jk,inject:zs,isMemoSame:W4,isProxy:cv,isReactive:jo,isReadonly:Rr,isRef:xn,isRuntimeOnly:WS,isShallow:Ta,isVNode:Nr,markRaw:Dp,mergeDefaults:eS,mergeModels:tS,mergeProps:bc,nextTick:vc,normalizeClass:Se,normalizeProps:y8,normalizeStyle:Qt,onActivated:Z8,onBeforeMount:Np,onBeforeUnmount:yc,onBeforeUpdate:Q8,onDeactivated:X8,onErrorCaptured:s4,onMounted:ri,onRenderTracked:n4,onRenderTriggered:t4,onScopeDispose:k8,onServerPrefetch:e4,onUnmounted:Zo,onUpdated:Ld,openBlock:b,popScopeId:Oe,provide:fu,proxyRefs:hv,pushScopeId:Ie,queuePostFlushCb:jf,reactive:Gt,readonly:lv,ref:Y,registerRuntimeCompiler:FS,render:L1,renderList:Be,renderSlot:lt,resolveComponent:Xe,resolveDirective:it,resolveDynamicComponent:Vn,resolveFilter:tk,resolveTransitionHooks:Kl,setBlockTracking:Wu,setDevtoolsHook:JS,setTransitionHooks:Vr,shallowReactive:av,shallowReadonly:gx,shallowRef:so,ssrContextKey:C4,ssrUtils:ek,stop:Z7,toDisplayString:H,toHandlerKey:du,toHandlers:Fx,toRaw:Dt,toRef:$x,toRefs:j8,toValue:bx,transformVNodeArgs:NS,triggerRef:yx,unref:g,useAttrs:Qx,useCssModule:Tk,useCssVars:hk,useModel:$S,useSSRContext:E4,useSlots:Jx,useTransitionState:pv,vModelCheckbox:zp,vModelDynamic:Fp,vModelRadio:Cv,vModelSelect:Ev,vModelText:Wo,vShow:ai,version:H4,warn:KS,watch:ke,watchEffect:xv,watchPostEffect:T4,watchSyncEffect:A4,withAsyncContext:sS,withCtx:L,withDefaults:Xx,withDirectives:$e,withKeys:vi,withMemo:YS,withModifiers:un,withScopeId:Px},Symbol.toStringTag,{value:"Module"})),J=(t,e)=>{const n=t.__vccOpts||t;for(const[s,i]of e)n[s]=i;return n},Wk={},Hk={class:"module-wrapper"};function qk(t,e){const n=Xe("router-view");return b(),$("div",Hk,[E(n)])}const Gk=J(Wk,[["render",qk]]);const Yk={},Kk=t=>(Ie("data-v-b3826f68"),t=t(),Oe(),t),Zk={class:"new-tag"},Xk=Kk(()=>m("span",{class:"new-tag__text"},"New",-1)),Jk=[Xk];function Qk(t,e){return b(),$("div",Zk,Jk)}const d5=J(Yk,[["render",Qk],["__scopeId","data-v-b3826f68"]]),e$={class:"tabs-view"},t$={class:"tabs-view__titles"},n$=["onClick"],s$={class:"tabs-view__tabs"},i$=j({__name:"tabs-view",props:{titles:{},tabIndex:{}},emits:["update:tabIndex"],setup(t,{emit:e}){const n=t,s=e,i=q({get:()=>n.tabIndex||0,set:r=>s("update:tabIndex",r)});function o(r){i.value=r}return(r,a)=>{const l=d5;return b(),$("div",e$,[m("div",t$,[(b(!0),$(ue,null,Be(r.titles,(c,u)=>(b(),$("div",{class:Se(["tabs-view__titles__title",{active:r.titles.indexOf(c)===i.value,hidden:!c}]),key:`${c}-title`,onClick:d=>o(u)},[W(H(c.replace("[new]",""))+" ",1),c.startsWith("[new]")?(b(),B(l,{key:0})):N("",!0)],10,n$))),128))]),m("div",s$,[(b(!0),$(ue,null,Be(r.titles,(c,u)=>$e((b(),$("div",{class:"tabs-view__tabs__tab",key:`${c}-tab`},[lt(r.$slots,`tab-${u}`,{},void 0,!0)])),[[ai,r.titles.indexOf(c)===i.value]])),128))])])}}});const Jo=J(i$,[["__scopeId","data-v-8ab47ed1"]]),o$={class:"list-pagination"},r$=["onClick"],a$=j({__name:"list-pagination",props:{page:{default:1},total:{default:1},limit:{default:25}},emits:["update:page"],setup(t,{emit:e}){const n=t,s=e,i=a=>{s("update:page",Number(a))},o=q(()=>Math.ceil(n.total/n.limit)),r=q(()=>Array.from({length:o.value},(a,l)=>l+1).map(a=>a===1||a===o.value||a>=n.page-2&&a<=n.page+2?{number:a,type:"page"}:{number:a,type:"ellipsis"}).filter((a,l,c)=>a.type==="ellipsis"?c[l-1].type!=="ellipsis":!0));return(a,l)=>(b(),$("div",o$,[(b(!0),$(ue,null,Be(r.value,c=>(b(),$("div",{class:Se(["list-pagination__item",{"list-pagination__item--ellipsis":c.type==="ellipsis","list-pagination__item--active":c.number===n.page}]),key:c.number,onClick:u=>i(c.number)},H(c.type==="page"?c.number:"..."),11,r$))),128))]))}});const bn=J(a$,[["__scopeId","data-v-b360f254"]]),l$={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",style:{"shape-rendering":"auto"},width:"1em",height:"1em",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"},c$=m("clipPath",{id:"ldio-zi9awp8n1x-cp",clipPathUnits:"userSpaceOnUse"},[m("rect",{x:"0",y:"37",width:"100",height:"63"})],-1),u$={id:"ldio-zi9awp8n1x-pattern",patternUnits:"userSpaceOnUse",x:"0",y:"0",width:"100",height:"100"},d$=m("rect",{x:"0",y:"0",width:"100",height:"100",fill:"var(--secondary)"},null,-1),h$=["fill"],f$=m("animateTransform",{attributeName:"transform",type:"translate",values:"0 146;0 -46",keyTimes:"0;1",dur:"3.0303030303030303s",begin:"-2.909090909090909s",repeatCount:"indefinite"},null,-1),p$=[f$],m$=["fill"],g$=m("animateTransform",{attributeName:"transform",type:"translate",values:"0 142;0 -42",keyTimes:"0;1",dur:"3.0303030303030303s",begin:"-0.9090909090909091s",repeatCount:"indefinite"},null,-1),_$=[g$],v$=["fill"],y$=m("animateTransform",{attributeName:"transform",type:"translate",values:"0 151;0 -51",keyTimes:"0;1",dur:"3.0303030303030303s",begin:"-0.7575757575757576s",repeatCount:"indefinite"},null,-1),b$=[y$],w$=["fill"],x$=m("animateTransform",{attributeName:"transform",type:"translate",values:"0 149;0 -49",keyTimes:"0;1",dur:"3.0303030303030303s",begin:"-1.8484848484848484s",repeatCount:"indefinite"},null,-1),S$=[x$],k$=["fill"],$$=m("animateTransform",{attributeName:"transform",type:"translate",values:"0 136;0 -36",keyTimes:"0;1",dur:"3.0303030303030303s",begin:"-1.9696969696969697s",repeatCount:"indefinite"},null,-1),C$=[$$],E$=["fill"],T$=m("animateTransform",{attributeName:"transform",type:"translate",values:"0 128;0 -28",keyTimes:"0;1",dur:"3.0303030303030303s",begin:"-2.4242424242424243s",repeatCount:"indefinite"},null,-1),A$=[T$],M$=["fill"],I$=m("animateTransform",{attributeName:"transform",type:"translate",values:"0 129;0 -29",keyTimes:"0;1",dur:"3.0303030303030303s",begin:"-1.8181818181818181s",repeatCount:"indefinite"},null,-1),O$=[I$],D$=["fill"],L$=m("animateTransform",{attributeName:"transform",type:"translate",values:"0 157;0 -57",keyTimes:"0;1",dur:"3.0303030303030303s",begin:"-0.9696969696969697s",repeatCount:"indefinite"},null,-1),P$=[L$],R$=["fill"],V$=m("animateTransform",{attributeName:"transform",type:"translate",values:"0 154;0 -54",keyTimes:"0;1",dur:"3.0303030303030303s",begin:"-0.6060606060606061s",repeatCount:"indefinite"},null,-1),N$=[V$],U$=["fill"],B$=m("animateTransform",{attributeName:"transform",type:"translate",values:"0 103;0 -3",keyTimes:"0;1",dur:"3.0303030303030303s",begin:"-1.9696969696969697s",repeatCount:"indefinite"},null,-1),j$=[B$],z$=["fill"],F$=m("animateTransform",{attributeName:"transform",type:"translate",values:"0 109;0 -9",keyTimes:"0;1",dur:"3.0303030303030303s",begin:"-1.0303030303030303s",repeatCount:"indefinite"},null,-1),W$=[F$],H$=["fill"],q$=m("animateTransform",{attributeName:"transform",type:"translate",values:"0 153;0 -53",keyTimes:"0;1",dur:"3.0303030303030303s",begin:"-1.5454545454545454s",repeatCount:"indefinite"},null,-1),G$=[q$],Y$=["fill"],K$=m("animateTransform",{attributeName:"transform",type:"translate",values:"0 137;0 -37",keyTimes:"0;1",dur:"3.0303030303030303s",begin:"-2.393939393939394s",repeatCount:"indefinite"},null,-1),Z$=[K$],X$=["fill"],J$=m("animateTransform",{attributeName:"transform",type:"translate",values:"0 118;0 -18",keyTimes:"0;1",dur:"3.0303030303030303s",begin:"-2.393939393939394s",repeatCount:"indefinite"},null,-1),Q$=[J$],eC=["fill"],tC=m("animateTransform",{attributeName:"transform",type:"translate",values:"0 115;0 -15",keyTimes:"0;1",dur:"3.0303030303030303s",begin:"-1s",repeatCount:"indefinite"},null,-1),nC=[tC],sC=["fill"],iC=m("animateTransform",{attributeName:"transform",type:"translate",values:"0 141;0 -41",keyTimes:"0;1",dur:"3.0303030303030303s",begin:"-2.9393939393939394s",repeatCount:"indefinite"},null,-1),oC=[iC],rC=["fill"],aC=m("animateTransform",{attributeName:"transform",type:"translate",values:"0 121;0 -21",keyTimes:"0;1",dur:"3.0303030303030303s",begin:"-2.787878787878788s",repeatCount:"indefinite"},null,-1),lC=[aC],cC=["fill"],uC=m("animateTransform",{attributeName:"transform",type:"translate",values:"0 136;0 -36",keyTimes:"0;1",dur:"3.0303030303030303s",begin:"-2.3636363636363638s",repeatCount:"indefinite"},null,-1),dC=[uC],hC=m("path",{fill:"url(#ldio-zi9awp8n1x-pattern)","clip-path":"url(#ldio-zi9awp8n1x-cp)",d:"M59,37.3V18.9c3-0.8,5.1-3.6,5.1-6.8C64.1,8.2,61,5,57.1,5H42.9c-3.9,0-7.1,3.2-7.1,7.1c0,3.2,2.2,6,5.1,6.8v18.4c-11.9,3.8-20.6,15-20.6,28.2C20.4,81.8,33.7,95,50,95s29.6-13.2,29.6-29.6C79.6,52.2,70.9,41.1,59,37.3z"},null,-1),fC=["stroke"],Sn=j({__name:"loader-icon",props:{contrast:{type:Boolean}},setup(t){const e=t,n=q(()=>e.contrast?"var(--dark)":"var(--lightest)");return(s,i)=>(b(),$("svg",l$,[m("defs",null,[c$,m("pattern",u$,[d$,m("circle",{cx:"68",cy:"0",r:"8",fill:n.value},p$,8,h$),m("circle",{cx:"30",cy:"0",r:"3",fill:n.value},_$,8,m$),m("circle",{cx:"76",cy:"0",r:"4",fill:n.value},b$,8,v$),m("circle",{cx:"25",cy:"0",r:"10",fill:n.value},S$,8,w$),m("circle",{cx:"69",cy:"0",r:"5",fill:n.value},C$,8,k$),m("circle",{cx:"16",cy:"0",r:"7",fill:n.value},A$,8,E$),m("circle",{cx:"49",cy:"0",r:"5",fill:n.value},O$,8,M$),m("circle",{cx:"31",cy:"0",r:"8",fill:n.value},P$,8,D$),m("circle",{cx:"25",cy:"0",r:"6",fill:n.value},N$,8,R$),m("circle",{cx:"10",cy:"0",r:"3",fill:n.value},j$,8,U$),m("circle",{cx:"78",cy:"0",r:"5",fill:n.value},W$,8,z$),m("circle",{cx:"9",cy:"0",r:"10",fill:n.value},G$,8,H$),m("circle",{cx:"8",cy:"0",r:"5",fill:n.value},Z$,8,Y$),m("circle",{cx:"70",cy:"0",r:"8",fill:n.value},Q$,8,X$),m("circle",{cx:"70",cy:"0",r:"6",fill:n.value},nC,8,eC),m("circle",{cx:"64",cy:"0",r:"2",fill:n.value},oC,8,sC),m("circle",{cx:"13",cy:"0",r:"8",fill:n.value},lC,8,rC),m("circle",{cx:"26",cy:"0",r:"3",fill:n.value},dC,8,cC)])]),hC,m("path",{fill:"none",stroke:n.value,"stroke-width":"5",d:"M59,37.3V18.9c3-0.8,5.1-3.6,5.1-6.8C64.1,8.2,61,5,57.1,5H42.9c-3.9,0-7.1,3.2-7.1,7.1c0,3.2,2.2,6,5.1,6.8v18.4c-11.9,3.8-20.6,15-20.6,28.2C20.4,81.8,33.7,95,50,95s29.6-13.2,29.6-29.6C79.6,52.2,70.9,41.1,59,37.3z"},null,8,fC)]))}});const pC={},mC=t=>(Ie("data-v-a6eab2c6"),t=t(),Oe(),t),gC={class:"beta-tag"},_C=mC(()=>m("span",{class:"beta-tag__text"},"Beta",-1)),vC=[_C];function yC(t,e){return b(),$("div",gC,vC)}const h5=J(pC,[["render",yC],["__scopeId","data-v-a6eab2c6"]]),bC=t=>(Ie("data-v-d600cfee"),t=t(),Oe(),t),wC={class:"form-checkbox"},xC={class:"form-checkbox__label"},SC=["disabled"],kC={class:"form-checkbox__check"},$C=bC(()=>m("svg",{class:"form-checkbox__check-icon",width:"12",height:"10",viewBox:"0 0 12 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[m("path",{d:"M1 5L4 8L11 1",stroke:"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),CC=[$C],EC={class:"form-checkbox__text"},TC=j({__name:"form-checkbox",props:{modelValue:{type:Boolean},label:{},readonly:{type:Boolean},beta:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=e,i=q({get:()=>n.modelValue,set:o=>s("update:modelValue",o)});return(o,r)=>{const a=h5;return b(),$("div",wC,[m("label",xC,[$e(m("input",{class:"form-checkbox__input",type:"checkbox",disabled:o.readonly,"onUpdate:modelValue":r[0]||(r[0]=l=>i.value=l)},null,8,SC),[[zp,i.value]]),m("div",{class:Se(["form-checkbox__box",{"form-checkbox__box--checked":i.value}])},[$e(m("div",kC,CC,512),[[ai,i.value]])],2),m("span",EC,[W(H(o.label)+" ",1),o.beta?(b(),B(a,{key:0,class:"form-checkbox__text__beta"})):N("",!0)])])])}}});const Ai=J(TC,[["__scopeId","data-v-d600cfee"]]),AC={class:"check-list"},MC=j({__name:"check-list",props:{items:{},itemLabelKey:{default:"name"},itemKey:{default:"id"},multiple:{type:Boolean},modelValue:{},readonly:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=e,i=q(()=>n.items.map(l=>n.modelValue.includes(l[n.itemKey])));function o(l){let c=[...n.modelValue];if(n.multiple){const u=c.indexOf(l);return u===-1?c.push(l):c.splice(u,1),s("update:modelValue",c)}c=[l],s("update:modelValue",c)}function r(l,c){if(l.includes(".")){const u=l.split(".");let d=c;for(const h of u)d=d[h];return d}return c[l]||""}function a(l){return n.itemLabelKey.split(",").map(c=>r(c,l)).join(", ")}return(l,c)=>{const u=Ai;return b(),$("ul",AC,[(b(!0),$(ue,null,Be(l.items,(d,h)=>(b(),$("li",{class:"check-list__item",key:d[l.itemKey]},[E(u,{label:a(d),"model-value":i.value[h],readonly:l.readonly,"onUpdate:modelValue":f=>o(d[l.itemKey])},null,8,["label","model-value","readonly","onUpdate:modelValue"])]))),128))])}}});const Wa=J(MC,[["__scopeId","data-v-ae989614"]]),IC={class:"search-array-filter"},OC={key:0,class:"search-array-filter__body"},DC={key:1,class:"search-array-filter__loading"},LC=j({__name:"search-array-filter",props:{filter:{},modelValue:{type:[Array,String,Number,Boolean,null]}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=e,i=q({get:()=>n.modelValue,set:a=>s("update:modelValue",a)}),o=Y(!1),r=Y([]);return ke(()=>n.filter.arrayOptions,async a=>{o.value=!0,typeof a=="function"?r.value=await a():r.value=a,o.value=!1},{immediate:!0}),(a,l)=>{const c=Wa,u=Sn;return b(),$("div",IC,[a.filter.arrayOptions&&i.value&&!o.value?(b(),$("div",OC,[E(c,{"item-label-key":"label","item-key":"value",items:r.value,modelValue:i.value,"onUpdate:modelValue":l[0]||(l[0]=d=>i.value=d),multiple:""},null,8,["items","modelValue"])])):(b(),$("div",DC,[E(u,{contrast:""})]))])}}});const PC=J(LC,[["__scopeId","data-v-ff4b6b1b"]]),RC={class:"form-toggle"},VC=j({__name:"form-toggle",props:{modelValue:{},values:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=e,i=Y(n.modelValue===n.values[1].value),o=q(()=>i.value?n.values[1]:n.values[0]);function r(){i.value=!i.value,s("update:modelValue",o.value.value)}return(a,l)=>(b(),$("div",RC,[m("div",{class:Se(["form-toggle__box",{"form-toggle__box--active":i.value}]),onClick:l[0]||(l[0]=c=>r())},[m("div",{class:Se(["form-toggle__circle",{"form-toggle__circle--active":i.value}])},null,2)],2),m("span",null,H(o.value.label),1)]))}});const wc=J(VC,[["__scopeId","data-v-18ce3800"]]),NC={class:"search-boolean-filter"},UC=j({__name:"search-boolean-filter",props:{filter:{},modelValue:{type:[Array,String,Number,Boolean,null]}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=e,i=q({get:()=>n.modelValue,set:o=>s("update:modelValue",o)});return(o,r)=>{const a=wc;return b(),$("div",NC,[E(a,{values:[{label:o.filter.booleanLabels[0],value:!1},{label:o.filter.booleanLabels[1],value:!0}],modelValue:i.value,"onUpdate:modelValue":r[0]||(r[0]=l=>i.value=l)},null,8,["values","modelValue"])])}}});const BC=J(UC,[["__scopeId","data-v-6c4fe0f0"]]),jC={class:"tag-input"},zC={class:"tag-input__tags"},FC=["onClick"],WC=j({__name:"tag-input",props:{label:{},modelValue:{},separator:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=e,i=q({get:()=>n.separator?n.modelValue===""||!n.modelValue?[]:n.modelValue.split(n.separator):n.modelValue,set:c=>{n.separator?s("update:modelValue",c.join(n.separator)):s("update:modelValue",c)}}),o=Y("");function r(){o.value&&o.value.trim()&&(i.value=[...i.value,o.value.trim()],o.value="")}function a(c){i.value=i.value.filter((u,d)=>d!==c)}function l(){o.value===""&&i.value.length>0&&a(i.value.length-1)}return(c,u)=>(b(),$(ue,null,[m("label",null,H(c.label),1),m("div",jC,[m("div",zC,[(b(!0),$(ue,null,Be(i.value,(d,h)=>(b(),$("span",{class:"tag-input__tag",key:h},[W(H(d)+" ",1),m("b",{class:"tag-input__tag__remove",onClick:f=>a(h)}," + ",8,FC)]))),128))]),$e(m("input",{type:"text","onUpdate:modelValue":u[0]||(u[0]=d=>o.value=d),onKeydown:[u[1]||(u[1]=vi(un(d=>r(),["prevent"]),["enter"])),u[2]||(u[2]=vi(d=>l(),["backspace"]))]},null,544),[[Wo,o.value]])])],64))}});const f5=J(WC,[["__scopeId","data-v-a9720ac9"]]),HC={class:"search-tags-filter"},qC=j({__name:"search-tags-filter",props:{filter:{},modelValue:{type:[Array,String,Number,Boolean,null]}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=e,i=q({get:()=>n.modelValue,set:o=>s("update:modelValue",o)});return(o,r)=>{const a=f5;return b(),$("div",HC,[E(a,{label:"Введите тег",modelValue:i.value,"onUpdate:modelValue":r[0]||(r[0]=l=>i.value=l)},null,8,["modelValue"])])}}});const GC=J(qC,[["__scopeId","data-v-d207f3df"]]),YC="modulepreload",KC=function(t){return"/"+t},F2={},fe=function(e,n,s){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=KC(o),o in F2)return;F2[o]=!0;const r=o.endsWith(".css"),a=r?'[rel="stylesheet"]':"";if(!!s)for(let u=i.length-1;u>=0;u--){const d=i[u];if(d.href===o&&(!r||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${a}`))return;const c=document.createElement("link");if(c.rel=r?"stylesheet":YC,r||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),r)return new Promise((u,d)=>{c.addEventListener("load",u),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e()).catch(o=>{const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=o,window.dispatchEvent(r),!r.defaultPrevented)throw o})},Ud=(t,e)=>{const n=t[e];return n?typeof n=="function"?n():Promise.resolve(n):new Promise((s,i)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(i.bind(null,new Error("Unknown variable dynamic import: "+e)))})},ZC=j({__name:"inline-icon",props:{name:{},animation:{type:Boolean}},setup(t){const e=t;let n=so("div");return Ud(Object.assign({"./icons/add-icon.vue":()=>fe(()=>import("./add-icon-49c9a50e.js"),[]),"./icons/attention-yellow-icon.vue":()=>fe(()=>import("./attention-yellow-icon-32551908.js"),[]),"./icons/bars-icon.vue":()=>fe(()=>import("./bars-icon-76d22ebc.js"),[]),"./icons/brush-icon.vue":()=>fe(()=>import("./brush-icon-c81b90d0.js"),[]),"./icons/calender-icon.vue":()=>fe(()=>import("./calender-icon-a520a18c.js"),[]),"./icons/change-user-icon.vue":()=>fe(()=>import("./change-user-icon-ceb82d33.js"),[]),"./icons/check-green-icon.vue":()=>fe(()=>import("./check-green-icon-7bef9fc1.js"),[]),"./icons/check-red-icon.vue":()=>fe(()=>import("./check-red-icon-debf8d61.js"),[]),"./icons/copy-icon.vue":()=>fe(()=>import("./copy-icon-71af2832.js"),[]),"./icons/cross-red-icon.vue":()=>fe(()=>import("./cross-red-icon-3019fee8.js"),[]),"./icons/danger-icon.vue":()=>fe(()=>import("./danger-icon-279e3a0b.js"),[]),"./icons/delete-icon.vue":()=>fe(()=>import("./delete-icon-f8edcbd1.js"),[]),"./icons/edit-icon.vue":()=>fe(()=>import("./edit-icon-43ccfc7c.js"),[]),"./icons/eye-icon.vue":()=>fe(()=>import("./eye-icon-851c5c97.js"),[]),"./icons/google-sheets-icon.vue":()=>fe(()=>import("./google-sheets-icon-268e2c05.js"),[]),"./icons/heart-icon.vue":()=>fe(()=>import("./heart-icon-d579d5cb.js"),[]),"./icons/help-icon.vue":()=>fe(()=>import("./help-icon-92b3d287.js"),[]),"./icons/home-icon.vue":()=>fe(()=>import("./home-icon-ca363498.js"),["assets/home-icon-ca363498.js","assets/home-icon-fc17f420.css"]),"./icons/info-icon.vue":()=>fe(()=>import("./info-icon-dfd0b674.js"),[]),"./icons/jpg-file-icon.vue":()=>fe(()=>import("./jpg-file-icon-f6329de1.js"),[]),"./icons/keyboard-icon.vue":()=>fe(()=>import("./keyboard-icon-e50a798a.js"),[]),"./icons/list-icon.vue":()=>fe(()=>import("./list-icon-6f6ed2af.js"),["assets/list-icon-6f6ed2af.js","assets/list-icon-7b8efec0.css"]),"./icons/moon-icon.vue":()=>fe(()=>import("./moon-icon-7462eae7.js"),[]),"./icons/more-icon.vue":()=>fe(()=>import("./more-icon-636b910c.js"),[]),"./icons/nootube-icon.vue":()=>fe(()=>import("./nootube-icon-e91ee5e7.js"),[]),"./icons/notifications-icon.vue":()=>fe(()=>import("./notifications-icon-a41c3902.js"),[]),"./icons/pdf-file-icon.vue":()=>fe(()=>import("./pdf-file-icon-35dcf4cf.js"),[]),"./icons/pin-icon.vue":()=>fe(()=>import("./pin-icon-17ab6769.js"),[]),"./icons/play-icon.vue":()=>fe(()=>import("./play-icon-d70b6d1c.js"),[]),"./icons/png-file-icon.vue":()=>fe(()=>import("./png-file-icon-b622ae76.js"),[]),"./icons/poll-icon.vue":()=>fe(()=>import("./poll-icon-c2e83a07.js"),[]),"./icons/question-icon.vue":()=>fe(()=>import("./question-icon-c6fc9dd8.js"),[]),"./icons/search-icon.vue":()=>fe(()=>import("./search-icon-9eb2756a.js"),[]),"./icons/settings-icon.vue":()=>fe(()=>import("./settings-icon-dbe50c42.js"),[]),"./icons/star-icon.vue":()=>fe(()=>import("./star-icon-141bfe50.js"),[]),"./icons/statistics-icon.vue":()=>fe(()=>import("./statistics-icon-218bd0be.js"),[]),"./icons/student-icon.vue":()=>fe(()=>import("./student-icon-d521ec55.js"),[]),"./icons/subject-icon.vue":()=>fe(()=>import("./subject-icon-045377bb.js"),[]),"./icons/sun-icon.vue":()=>fe(()=>import("./sun-icon-ec4210dd.js"),[]),"./icons/table-icon.vue":()=>fe(()=>import("./table-icon-62de9cb0.js"),[]),"./icons/telegram-blue-icon.vue":()=>fe(()=>import("./telegram-blue-icon-0127bcaa.js"),[]),"./icons/telegram-icon.vue":()=>fe(()=>import("./telegram-icon-d902be16.js"),[]),"./icons/uni-cap-icon.vue":()=>fe(()=>import("./uni-cap-icon-0a8d4b42.js"),[]),"./icons/user-icon.vue":()=>fe(()=>import("./user-icon-3302a51b.js"),[]),"./icons/users-icon.vue":()=>fe(()=>import("./users-icon-0a3b5443.js"),[]),"./icons/welcome-icon.vue":()=>fe(()=>import("./welcome-icon-6c42bcdd.js"),[])}),`./icons/${e.name}-icon.vue`).then(s=>{n.value=s.default}).catch(()=>{n.value="div"}),(s,i)=>(b(),B(Vn(g(n)),{class:Se(["icon",{animation:s.animation}])},null,8,["class"]))}});const It=J(ZC,[["__scopeId","data-v-bf7bf4f1"]]),XC=j({__name:"common-button",props:{alignment:{default:"left"},type:{default:"button"},disabled:{type:Boolean},design:{default:"primary"},contrast:{type:Boolean},inline:{type:Boolean},loading:{type:Boolean},to:{},color:{}},emits:["click"],setup(t){return(e,n)=>{var o;const s=Sn,i=It;return b(),$("div",{class:Se(["v-button",{inline:e.inline,[e.alignment]:!0}])},[(b(),B(Vn(e.to?e.to.startsWith("http")?"a":"router-link":"button"),{to:e.to,href:e.to,target:(o=e.to)!=null&&o.startsWith("http")?"_blank":"",class:Se(["v-button__button",{[e.design]:!0,loading:e.loading,contrast:e.contrast}]),disabled:e.disabled,type:e.type,onClick:n[0]||(n[0]=r=>e.$emit("click"))},{default:L(()=>[e.loading?(b(),B(s,{key:0,class:"v-button__button__icon"})):e.design==="telegram"?(b(),B(i,{key:1,name:"telegram",class:"v-button__button__icon"})):N("",!0),lt(e.$slots,"default",{},void 0,!0)]),_:3},8,["to","href","target","class","disabled","type"]))],2)}}});const xt=J(XC,[["__scopeId","data-v-848657d8"]]);function p5(t){navigator.clipboard.writeText(t)}const JC={сlass:"form-input"},QC={class:"form-input__label"},eE={class:"form-input__input-container"},tE=["type","placholder","disabled","min","max","step"],nE={key:0,class:"form-input__error"},sE=j({__name:"form-input",props:{label:{},type:{},placeholder:{},modelValue:{},readonly:{type:Boolean},min:{},max:{},step:{},validators:{},copyButton:{type:Boolean}},emits:["update:modelValue","enter-press"],setup(t,{emit:e}){const n=t,s=e,i=Y([]),o=q({get:()=>{if(typeof n.modelValue>"u")return"";if(n.type&&n.type==="date")return new Date(n.modelValue||new Date).toISOString().slice(0,10);if(n.type&&n.type==="datetime-local"){const l=new Date(n.modelValue);return new Date(l.getTime()-l.getTimezoneOffset()*6e4).toISOString().slice(0,16)}return n.modelValue},set:l=>{n.validators&&(i.value=n.validators.map(c=>c(l)).filter(c=>c!==!0)),n.type==="date"||n.type==="datetime-local"?s("update:modelValue",new Date(l)):n.type==="number"?s("update:modelValue",Number(l)):s("update:modelValue",l)}}),r=Y("copy");function a(){p5(String(o.value||"")),r.value="check-green",setTimeout(()=>{r.value="copy"},1e3)}return(l,c)=>{const u=It,d=it("auto-animate");return $e((b(),$("label",JC,[m("span",QC,H(l.label),1),m("div",eE,[$e(m("input",{class:Se(["form-input__input",{"form-input__input--error":i.value.length,"form-input__input--readonly":l.readonly}]),type:l.type,"onUpdate:modelValue":c[0]||(c[0]=h=>o.value=h),placholder:l.placeholder,disabled:l.readonly,min:l.min,max:l.max,step:l.step,onKeypress:c[1]||(c[1]=vi(h=>l.$emit("enter-press"),["enter"]))},null,42,tE),[[Fp,o.value]]),l.copyButton?(b(),$("div",{key:0,class:"form-input__copy-button",title:"Копировать",onClick:c[2]||(c[2]=h=>a())},[(b(),B(u,{name:r.value,key:r.value},null,8,["name"]))])):N("",!0)]),i.value.length?(b(),$("span",nE,H(i.value[0]),1)):N("",!0)])),[[d]])}}});const zt=J(sE,[["__scopeId","data-v-683aaa47"]]),iE={class:"search-range-filter"},oE={class:"search-range-filter__input"},rE={class:"search-range-filter__input"},aE={class:"search-range-filter__action"},lE=j({__name:"search-range-filter",props:{filter:{},modelValue:{type:[Array,String,Number,Boolean,null]}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=e,i=Y(n.modelValue);ke(i,()=>{s("update:modelValue",i.value)},{deep:!0});function o(){const r=new Date;r.setFullYear(r.getFullYear()-10);const a=new Date;a.setFullYear(a.getFullYear()+10),i.value=[r,a]}return(r,a)=>{const l=zt,c=xt;return b(),$("div",iE,[m("div",oE,[E(l,{label:"От",type:r.filter.rangeType,modelValue:i.value[0],"onUpdate:modelValue":a[0]||(a[0]=u=>i.value[0]=u)},null,8,["type","modelValue"])]),m("div",rE,[E(l,{label:"До",type:r.filter.rangeType,modelValue:i.value[1],"onUpdate:modelValue":a[1]||(a[1]=u=>i.value[1]=u)},null,8,["type","modelValue"])]),m("div",aE,[E(c,{design:"inline",onClick:a[2]||(a[2]=u=>o())},{default:L(()=>[W(" Сбросить ")]),_:1})])])}}});const cE=J(lE,[["__scopeId","data-v-a7d1ee78"]]);function uE(t){let e;switch(t.type){case"arr":e=[];break;case"range":switch(t.rangeType){case"date":e=[dE(),new Date];break;case"number":e=[0,100];break;default:e=[null,null];break}break;case"boolean":e=!1;break;case"string":e="";break;case"number":e=0;break;case"tags":e=[];break;case"null":default:e=null;break}return{type:t.type,value:e}}function dE(){const t=new Date;return t.setMonth(t.getMonth()-1),t}const hE={class:"search-filters"},fE={class:"search-filters__header"},pE={key:0,class:"search-filters__body"},mE={class:"row"},gE={class:"search-filters__filter__name"},_E={class:"search-filters__filter__component"},vE={key:1,class:"search-filters__body__loading"},yE=j({__name:"search-filters",props:{pagination:{},filters:{},isLoading:{type:Boolean}},emits:["update:pagination"],setup(t,{emit:e}){const n=t,s=e,i=Y(!0);function o(l){const c=n.pagination[`filter[${l.key}]`];return c?c.value:uE(l).value}function r(l,c){s("update:pagination",{...n.pagination,[`filter[${l.key}]`]:{type:l.type,value:c}})}function a(l){switch(l.type){case"arr":return PC;case"boolean":return BC;case"tags":return GC;case"range":return cE;default:throw new Error(`Unknown filter type: ${l.type}`)}}return(l,c)=>{const u=Sn,d=it("auto-animate");return $e((b(),$("div",hE,[m("div",fE,[m("h4",{onClick:c[0]||(c[0]=h=>i.value=!i.value)},"Фильтры"),m("div",{class:"search-filters__header__collapse-button",onClick:c[1]||(c[1]=h=>i.value=!i.value)},[m("span",null,H(i.value?"Развернуть":"Свернуть"),1)])]),!l.isLoading&&!i.value?(b(),$("div",pE,[m("div",mE,[(b(!0),$(ue,null,Be(l.filters,h=>(b(),$("div",{class:"search-filters__filter col-12 col-md-6 col-lg-3",key:h.key},[m("h5",gE,H(h.name),1),m("div",_E,[(b(),B(Vn(a(h)),{filter:h,modelValue:o(h),"onUpdate:modelValue":f=>r(h,f)},null,8,["filter","modelValue","onUpdate:modelValue"]))])]))),128))])])):l.isLoading?(b(),$("div",vE,[E(u,{contrast:""})])):N("",!0)])),[[d]])}}});const Bd=J(yE,[["__scopeId","data-v-c2de8899"]]),bE={class:"text-input"},wE=["for"],xE=["id","type","placeholder","autocomplete"],SE=j({__name:"text-input",props:{password:{type:Boolean},error:{type:Boolean},placeholder:{},modelValue:{},autocomplete:{type:Boolean}},emits:["update:modelValue","enter-press"],setup(t,{emit:e}){const n=t,s=e,i=q({get:()=>n.modelValue,set:o=>s("update:modelValue",o)});return(o,r)=>(b(),$("div",bE,[m("label",{for:`input-${String(o.$.uid)}`},null,8,wE),$e(m("input",{id:`input-${String(o.$.uid)}`,type:o.password?"password":"text",placeholder:o.placeholder,class:Se({error:o.error}),"onUpdate:modelValue":r[0]||(r[0]=a=>i.value=a),onKeypress:r[1]||(r[1]=vi(a=>o.$emit("enter-press"),["enter"])),autocomplete:o.autocomplete?"on":"off"},null,42,xE),[[Fp,i.value]])]))}});const kE=J(SE,[["__scopeId","data-v-d3e3205f"]]),$E=j({__name:"search-field",props:{modelValue:{},isLoading:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=e,i=q({get:()=>n.modelValue||"",set:r=>s("update:modelValue",r)}),o=Y(!1);return(r,a)=>{const l=Sn,c=It,u=kE;return b(),$("div",{class:"search-field",onMouseenter:a[2]||(a[2]=d=>o.value=!0),onMouseleave:a[3]||(a[3]=d=>o.value=!1)},[r.isLoading?(b(),B(l,{key:0,class:"search-field__icon",contrast:""})):(b(),B(c,{key:1,class:"search-field__icon",name:"search",animation:o.value},null,8,["animation"])),E(u,{placeholder:"Поиск",class:"search-field__input",type:"text",modelValue:i.value,"onUpdate:modelValue":a[0]||(a[0]=d=>i.value=d),autocomplete:!1},null,8,["modelValue"]),$e(E(c,{name:"cross-red",class:"search-field__empty-button",onClick:a[1]||(a[1]=d=>i.value="")},null,512),[[ai,i.value&&i.value.length]])],32)}}});const kn=J($E,[["__scopeId","data-v-6883587b"]]),P1={API_URL:"https://api.noo-school.ru",MEDIA_URL:"https://cdn.noo-school.ru/uploads",APP_URL:"https://noo-school.ru",POLL_URL:"https://poll.noo-school.ru",GOOGLE_CLIENT_ID:"643513066461-h6vrkoirgj91vr2isaqsm7hrv6tbkml8.apps.googleusercontent.com"};/*! js-cookie v3.0.5 | MIT */function Dh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)t[s]=n[s]}return t}var CE={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function R1(t,e){function n(i,o,r){if(!(typeof document>"u")){r=Dh({},e,r),typeof r.expires=="number"&&(r.expires=new Date(Date.now()+r.expires*864e5)),r.expires&&(r.expires=r.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var l in r)r[l]&&(a+="; "+l,r[l]!==!0&&(a+="="+r[l].split(";")[0]));return document.cookie=i+"="+t.write(o,i)+a}}function s(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var o=document.cookie?document.cookie.split("; "):[],r={},a=0;a<o.length;a++){var l=o[a].split("="),c=l.slice(1).join("=");try{var u=decodeURIComponent(l[0]);if(r[u]=t.read(c,u),i===u)break}catch{}}return i?r[i]:r}}return Object.create({set:n,get:s,remove:function(i,o){n(i,"",Dh({},o,{expires:-1}))},withAttributes:function(i){return R1(this.converter,Dh({},this.attributes,i))},withConverter:function(i){return R1(Dh({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var wg=R1(CE,{path:"/"});class fs{static set(e,n){wg.set(e,JSON.stringify(n),{expires:365})}static get(e){const n=wg.get(e);return n!==void 0?JSON.parse(n):null}static get User(){return this.get(this._aliases.user)}static set User(e){this.set(this._aliases.user,e)}static get ApiToken(){return this.get(this._aliases.apiToken)}static set ApiToken(e){this.set(this._aliases.apiToken,e)}static get Theme(){return this.get(this._aliases.theme)}static set Theme(e){this.set(this._aliases.theme,e)}static clear(){for(const e in this._aliases)wg.remove(this._aliases[e])}}ee(fs,"_aliases",{user:"noo.context.user",apiToken:"noo.context.apiToken",theme:"noo.context.theme"});let EE=class{constructor(){ee(this,"events",new Map)}on(e,n){if(Array.isArray(n)){n.forEach(s=>this.on(e,s));return}this.events.has(e)||this.events.set(e,[]),this.events.get(e).push(n)}onMany(e){for(const n in e)this.on(n,e[n])}off(e,n){this.events.has(e)&&this.events.set(e,this.events.get(e).filter(s=>s!==n))}emit(e,n,...s){this.events.has(e)&&this.events.get(e).forEach(i=>i(n,...s))}};/*!
  * vue-router v4.4.3
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const _l=typeof document<"u";function TE(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Ft=Object.assign;function xg(t,e){const n={};for(const s in e){const i=e[s];n[s]=ki(i)?i.map(t):t(i)}return n}const _u=()=>{},ki=Array.isArray,m5=/#/g,AE=/&/g,ME=/\//g,IE=/=/g,OE=/\?/g,g5=/\+/g,DE=/%5B/g,LE=/%5D/g,_5=/%5E/g,PE=/%60/g,v5=/%7B/g,RE=/%7C/g,y5=/%7D/g,VE=/%20/g;function Tv(t){return encodeURI(""+t).replace(RE,"|").replace(DE,"[").replace(LE,"]")}function NE(t){return Tv(t).replace(v5,"{").replace(y5,"}").replace(_5,"^")}function V1(t){return Tv(t).replace(g5,"%2B").replace(VE,"+").replace(m5,"%23").replace(AE,"%26").replace(PE,"`").replace(v5,"{").replace(y5,"}").replace(_5,"^")}function UE(t){return V1(t).replace(IE,"%3D")}function BE(t){return Tv(t).replace(m5,"%23").replace(OE,"%3F")}function jE(t){return t==null?"":BE(t).replace(ME,"%2F")}function Hu(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const zE=/\/$/,FE=t=>t.replace(zE,"");function Sg(t,e,n="/"){let s,i={},o="",r="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=e.slice(0,l),o=e.slice(l+1,a>-1?a:e.length),i=t(o)),a>-1&&(s=s||e.slice(0,a),r=e.slice(a,e.length)),s=GE(s??e,n),{fullPath:s+(o&&"?")+o+r,path:s,query:i,hash:Hu(r)}}function WE(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function W2(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function HE(t,e,n){const s=e.matched.length-1,i=n.matched.length-1;return s>-1&&s===i&&Jl(e.matched[s],n.matched[i])&&b5(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Jl(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function b5(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!qE(t[n],e[n]))return!1;return!0}function qE(t,e){return ki(t)?H2(t,e):ki(e)?H2(e,t):t===e}function H2(t,e){return ki(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function GE(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),i=s[s.length-1];(i===".."||i===".")&&s.push("");let o=n.length-1,r,a;for(r=0;r<s.length;r++)if(a=s[r],a!==".")if(a==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+s.slice(r).join("/")}const ur={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var qu;(function(t){t.pop="pop",t.push="push"})(qu||(qu={}));var vu;(function(t){t.back="back",t.forward="forward",t.unknown=""})(vu||(vu={}));function YE(t){if(!t)if(_l){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),FE(t)}const KE=/^[^#]+#/;function ZE(t,e){return t.replace(KE,"#")+e}function XE(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const Wp=()=>({left:window.scrollX,top:window.scrollY});function JE(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=XE(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function q2(t,e){return(history.state?history.state.position-e:-1)+t}const N1=new Map;function QE(t,e){N1.set(t,e)}function eT(t){const e=N1.get(t);return N1.delete(t),e}let tT=()=>location.protocol+"//"+location.host;function w5(t,e){const{pathname:n,search:s,hash:i}=e,o=t.indexOf("#");if(o>-1){let a=i.includes(t.slice(o))?t.slice(o).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),W2(l,"")}return W2(n,t)+s+i}function nT(t,e,n,s){let i=[],o=[],r=null;const a=({state:h})=>{const f=w5(t,location),p=n.value,v=e.value;let y=0;if(h){if(n.value=f,e.value=h,r&&r===p){r=null;return}y=v?h.position-v.position:0}else s(f);i.forEach(_=>{_(n.value,p,{delta:y,type:qu.pop,direction:y?y>0?vu.forward:vu.back:vu.unknown})})};function l(){r=n.value}function c(h){i.push(h);const f=()=>{const p=i.indexOf(h);p>-1&&i.splice(p,1)};return o.push(f),f}function u(){const{history:h}=window;h.state&&h.replaceState(Ft({},h.state,{scroll:Wp()}),"")}function d(){for(const h of o)h();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:d}}function G2(t,e,n,s=!1,i=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:i?Wp():null}}function sT(t){const{history:e,location:n}=window,s={value:w5(t,n)},i={value:e.state};i.value||o(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(l,c,u){const d=t.indexOf("#"),h=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:tT()+t+l;try{e[u?"replaceState":"pushState"](c,"",h),i.value=c}catch(f){console.error(f),n[u?"replace":"assign"](h)}}function r(l,c){const u=Ft({},e.state,G2(i.value.back,l,i.value.forward,!0),c,{position:i.value.position});o(l,u,!0),s.value=l}function a(l,c){const u=Ft({},i.value,e.state,{forward:l,scroll:Wp()});o(u.current,u,!0);const d=Ft({},G2(s.value,l,null),{position:u.position+1},c);o(l,d,!1),s.value=l}return{location:s,state:i,push:a,replace:r}}function iT(t){t=YE(t);const e=sT(t),n=nT(t,e.state,e.location,e.replace);function s(o,r=!0){r||n.pauseListeners(),history.go(o)}const i=Ft({location:"",base:t,go:s,createHref:ZE.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function oT(t){return typeof t=="string"||t&&typeof t=="object"}function x5(t){return typeof t=="string"||typeof t=="symbol"}const S5=Symbol("");var Y2;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Y2||(Y2={}));function Ql(t,e){return Ft(new Error,{type:t,[S5]:!0},e)}function bo(t,e){return t instanceof Error&&S5 in t&&(e==null||!!(t.type&e))}const K2="[^/]+?",rT={sensitive:!1,strict:!1,start:!0,end:!0},aT=/[.+*?^${}()[\]/\\]/g;function lT(t,e){const n=Ft({},rT,e),s=[];let i=n.start?"^":"";const o=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(i+="/");for(let d=0;d<c.length;d++){const h=c[d];let f=40+(n.sensitive?.25:0);if(h.type===0)d||(i+="/"),i+=h.value.replace(aT,"\\$&"),f+=40;else if(h.type===1){const{value:p,repeatable:v,optional:y,regexp:_}=h;o.push({name:p,repeatable:v,optional:y});const w=_||K2;if(w!==K2){f+=10;try{new RegExp(`(${w})`)}catch(k){throw new Error(`Invalid custom RegExp for param "${p}" (${w}): `+k.message)}}let x=v?`((?:${w})(?:/(?:${w}))*)`:`(${w})`;d||(x=y&&c.length<2?`(?:/${x})`:"/"+x),y&&(x+="?"),i+=x,f+=20,y&&(f+=-8),v&&(f+=-20),w===".*"&&(f+=-50)}u.push(f)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const r=new RegExp(i,n.sensitive?"":"i");function a(c){const u=c.match(r),d={};if(!u)return null;for(let h=1;h<u.length;h++){const f=u[h]||"",p=o[h-1];d[p.name]=f&&p.repeatable?f.split("/"):f}return d}function l(c){let u="",d=!1;for(const h of t){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const f of h)if(f.type===0)u+=f.value;else if(f.type===1){const{value:p,repeatable:v,optional:y}=f,_=p in c?c[p]:"";if(ki(_)&&!v)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const w=ki(_)?_.join("/"):_;if(!w)if(y)h.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);u+=w}}return u||"/"}return{re:r,score:s,keys:o,parse:a,stringify:l}}function cT(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function k5(t,e){let n=0;const s=t.score,i=e.score;for(;n<s.length&&n<i.length;){const o=cT(s[n],i[n]);if(o)return o;n++}if(Math.abs(i.length-s.length)===1){if(Z2(s))return 1;if(Z2(i))return-1}return i.length-s.length}function Z2(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const uT={type:0,value:""},dT=/[a-zA-Z0-9_]/;function hT(t){if(!t)return[[]];if(t==="/")return[[uT]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(f){throw new Error(`ERR (${n})/"${c}": ${f}`)}let n=0,s=n;const i=[];let o;function r(){o&&i.push(o),o=[]}let a=0,l,c="",u="";function d(){c&&(n===0?o.push({type:0,value:c}):n===1||n===2||n===3?(o.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function h(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(c&&d(),r()):l===":"?(d(),n=1):h();break;case 4:h(),n=s;break;case 1:l==="("?n=2:dT.test(l)?h():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),d(),r(),i}function fT(t,e,n){const s=lT(hT(t.path),n),i=Ft(s,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function pT(t,e){const n=[],s=new Map;e=Q2({strict:!1,end:!0,sensitive:!1},e);function i(d){return s.get(d)}function o(d,h,f){const p=!f,v=mT(d);v.aliasOf=f&&f.record;const y=Q2(e,d),_=[v];if("alias"in d){const k=typeof d.alias=="string"?[d.alias]:d.alias;for(const C of k)_.push(Ft({},v,{components:f?f.record.components:v.components,path:C,aliasOf:f?f.record:v}))}let w,x;for(const k of _){const{path:C}=k;if(h&&C[0]!=="/"){const S=h.record.path,A=S[S.length-1]==="/"?"":"/";k.path=h.record.path+(C&&A+C)}if(w=fT(k,h,y),f?f.alias.push(w):(x=x||w,x!==w&&x.alias.push(w),p&&d.name&&!J2(w)&&r(d.name)),$5(w)&&l(w),v.children){const S=v.children;for(let A=0;A<S.length;A++)o(S[A],w,f&&f.children[A])}f=f||w}return x?()=>{r(x)}:_u}function r(d){if(x5(d)){const h=s.get(d);h&&(s.delete(d),n.splice(n.indexOf(h),1),h.children.forEach(r),h.alias.forEach(r))}else{const h=n.indexOf(d);h>-1&&(n.splice(h,1),d.record.name&&s.delete(d.record.name),d.children.forEach(r),d.alias.forEach(r))}}function a(){return n}function l(d){const h=vT(d,n);n.splice(h,0,d),d.record.name&&!J2(d)&&s.set(d.record.name,d)}function c(d,h){let f,p={},v,y;if("name"in d&&d.name){if(f=s.get(d.name),!f)throw Ql(1,{location:d});y=f.record.name,p=Ft(X2(h.params,f.keys.filter(x=>!x.optional).concat(f.parent?f.parent.keys.filter(x=>x.optional):[]).map(x=>x.name)),d.params&&X2(d.params,f.keys.map(x=>x.name))),v=f.stringify(p)}else if(d.path!=null)v=d.path,f=n.find(x=>x.re.test(v)),f&&(p=f.parse(v),y=f.record.name);else{if(f=h.name?s.get(h.name):n.find(x=>x.re.test(h.path)),!f)throw Ql(1,{location:d,currentLocation:h});y=f.record.name,p=Ft({},h.params,d.params),v=f.stringify(p)}const _=[];let w=f;for(;w;)_.unshift(w.record),w=w.parent;return{name:y,path:v,params:p,matched:_,meta:_T(_)}}t.forEach(d=>o(d));function u(){n.length=0,s.clear()}return{addRoute:o,resolve:c,removeRoute:r,clearRoutes:u,getRoutes:a,getRecordMatcher:i}}function X2(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function mT(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:gT(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function gT(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function J2(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function _T(t){return t.reduce((e,n)=>Ft(e,n.meta),{})}function Q2(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function vT(t,e){let n=0,s=e.length;for(;n!==s;){const o=n+s>>1;k5(t,e[o])<0?s=o:n=o+1}const i=yT(t);return i&&(s=e.lastIndexOf(i,s-1)),s}function yT(t){let e=t;for(;e=e.parent;)if($5(e)&&k5(t,e)===0)return e}function $5({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function bT(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<s.length;++i){const o=s[i].replace(g5," "),r=o.indexOf("="),a=Hu(r<0?o:o.slice(0,r)),l=r<0?null:Hu(o.slice(r+1));if(a in e){let c=e[a];ki(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function ey(t){let e="";for(let n in t){const s=t[n];if(n=UE(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(ki(s)?s.map(o=>o&&V1(o)):[s&&V1(s)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+n,o!=null&&(e+="="+o))})}return e}function wT(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=ki(s)?s.map(i=>i==null?null:""+i):s==null?s:""+s)}return e}const xT=Symbol(""),ty=Symbol(""),Hp=Symbol(""),Av=Symbol(""),U1=Symbol("");function Vc(){let t=[];function e(s){return t.push(s),()=>{const i=t.indexOf(s);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function _r(t,e,n,s,i,o=r=>r()){const r=s&&(s.enterCallbacks[i]=s.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const c=h=>{h===!1?l(Ql(4,{from:n,to:e})):h instanceof Error?l(h):oT(h)?l(Ql(2,{from:e,to:h})):(r&&s.enterCallbacks[i]===r&&typeof h=="function"&&r.push(h),a())},u=o(()=>t.call(s&&s.instances[i],e,n,c));let d=Promise.resolve(u);t.length<3&&(d=d.then(c)),d.catch(h=>l(h))})}function kg(t,e,n,s,i=o=>o()){const o=[];for(const r of t)for(const a in r.components){let l=r.components[a];if(!(e!=="beforeRouteEnter"&&!r.instances[a]))if(ST(l)){const u=(l.__vccOpts||l)[e];u&&o.push(_r(u,n,s,r,a,i))}else{let c=l();o.push(()=>c.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${r.path}"`));const d=TE(u)?u.default:u;r.components[a]=d;const f=(d.__vccOpts||d)[e];return f&&_r(f,n,s,r,a,i)()}))}}return o}function ST(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function ny(t){const e=zs(Hp),n=zs(Av),s=q(()=>{const l=g(t.to);return e.resolve(l)}),i=q(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],d=n.matched;if(!u||!d.length)return-1;const h=d.findIndex(Jl.bind(null,u));if(h>-1)return h;const f=sy(l[c-2]);return c>1&&sy(u)===f&&d[d.length-1].path!==f?d.findIndex(Jl.bind(null,l[c-2])):h}),o=q(()=>i.value>-1&&ET(n.params,s.value.params)),r=q(()=>i.value>-1&&i.value===n.matched.length-1&&b5(n.params,s.value.params));function a(l={}){return CT(l)?e[g(t.replace)?"replace":"push"](g(t.to)).catch(_u):Promise.resolve()}return{route:s,href:q(()=>s.value.href),isActive:o,isExactActive:r,navigate:a}}const kT=j({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:ny,setup(t,{slots:e}){const n=Gt(ny(t)),{options:s}=zs(Hp),i=q(()=>({[iy(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[iy(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=e.default&&e.default(n);return t.custom?o:Nd("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},o)}}}),$T=kT;function CT(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function ET(t,e){for(const n in e){const s=e[n],i=t[n];if(typeof s=="string"){if(s!==i)return!1}else if(!ki(i)||i.length!==s.length||s.some((o,r)=>o!==i[r]))return!1}return!0}function sy(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const iy=(t,e,n)=>t??e??n,TT=j({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=zs(U1),i=q(()=>t.route||s.value),o=zs(ty,0),r=q(()=>{let c=g(o);const{matched:u}=i.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),a=q(()=>i.value.matched[r.value]);fu(ty,q(()=>r.value+1)),fu(xT,a),fu(U1,i);const l=Y();return ke(()=>[l.value,a.value,t.name],([c,u,d],[h,f,p])=>{u&&(u.instances[d]=c,f&&f!==u&&c&&c===h&&(u.leaveGuards.size||(u.leaveGuards=f.leaveGuards),u.updateGuards.size||(u.updateGuards=f.updateGuards))),c&&u&&(!f||!Jl(u,f)||!h)&&(u.enterCallbacks[d]||[]).forEach(v=>v(c))},{flush:"post"}),()=>{const c=i.value,u=t.name,d=a.value,h=d&&d.components[u];if(!h)return oy(n.default,{Component:h,route:c});const f=d.props[u],p=f?f===!0?c.params:typeof f=="function"?f(c):f:null,y=Nd(h,Ft({},p,e,{onVnodeUnmounted:_=>{_.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return oy(n.default,{Component:y,route:c})||y}}});function oy(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const AT=TT;function MT(t){const e=pT(t.routes,t),n=t.parseQuery||bT,s=t.stringifyQuery||ey,i=t.history,o=Vc(),r=Vc(),a=Vc(),l=so(ur);let c=ur;_l&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=xg.bind(null,re=>""+re),d=xg.bind(null,jE),h=xg.bind(null,Hu);function f(re,be){let ye,Me;return x5(re)?(ye=e.getRecordMatcher(re),Me=be):Me=re,e.addRoute(Me,ye)}function p(re){const be=e.getRecordMatcher(re);be&&e.removeRoute(be)}function v(){return e.getRoutes().map(re=>re.record)}function y(re){return!!e.getRecordMatcher(re)}function _(re,be){if(be=Ft({},be||l.value),typeof re=="string"){const z=Sg(n,re,be.path),se=e.resolve({path:z.path},be),he=i.createHref(z.fullPath);return Ft(z,se,{params:h(se.params),hash:Hu(z.hash),redirectedFrom:void 0,href:he})}let ye;if(re.path!=null)ye=Ft({},re,{path:Sg(n,re.path,be.path).path});else{const z=Ft({},re.params);for(const se in z)z[se]==null&&delete z[se];ye=Ft({},re,{params:d(z)}),be.params=d(be.params)}const Me=e.resolve(ye,be),ft=re.hash||"";Me.params=u(h(Me.params));const kt=WE(s,Ft({},re,{hash:NE(ft),path:Me.path})),U=i.createHref(kt);return Ft({fullPath:kt,hash:ft,query:s===ey?wT(re.query):re.query||{}},Me,{redirectedFrom:void 0,href:U})}function w(re){return typeof re=="string"?Sg(n,re,l.value.path):Ft({},re)}function x(re,be){if(c!==re)return Ql(8,{from:be,to:re})}function k(re){return A(re)}function C(re){return k(Ft(w(re),{replace:!0}))}function S(re){const be=re.matched[re.matched.length-1];if(be&&be.redirect){const{redirect:ye}=be;let Me=typeof ye=="function"?ye(re):ye;return typeof Me=="string"&&(Me=Me.includes("?")||Me.includes("#")?Me=w(Me):{path:Me},Me.params={}),Ft({query:re.query,hash:re.hash,params:Me.path!=null?{}:re.params},Me)}}function A(re,be){const ye=c=_(re),Me=l.value,ft=re.state,kt=re.force,U=re.replace===!0,z=S(ye);if(z)return A(Ft(w(z),{state:typeof z=="object"?Ft({},ft,z.state):ft,force:kt,replace:U}),be||ye);const se=ye;se.redirectedFrom=be;let he;return!kt&&HE(s,Me,ye)&&(he=Ql(16,{to:se,from:Me}),Te(Me,Me,!0,!1)),(he?Promise.resolve(he):V(se,Me)).catch(le=>bo(le)?bo(le,2)?le:ae(le):ie(le,se,Me)).then(le=>{if(le){if(bo(le,2))return A(Ft({replace:U},w(le.to),{state:typeof le.to=="object"?Ft({},ft,le.to.state):ft,force:kt}),be||se)}else le=X(se,Me,!0,U,ft);return R(se,Me,le),le})}function O(re,be){const ye=x(re,be);return ye?Promise.reject(ye):Promise.resolve()}function M(re){const be=He.values().next().value;return be&&typeof be.runWithContext=="function"?be.runWithContext(re):re()}function V(re,be){let ye;const[Me,ft,kt]=IT(re,be);ye=kg(Me.reverse(),"beforeRouteLeave",re,be);for(const z of Me)z.leaveGuards.forEach(se=>{ye.push(_r(se,re,be))});const U=O.bind(null,re,be);return ye.push(U),qe(ye).then(()=>{ye=[];for(const z of o.list())ye.push(_r(z,re,be));return ye.push(U),qe(ye)}).then(()=>{ye=kg(ft,"beforeRouteUpdate",re,be);for(const z of ft)z.updateGuards.forEach(se=>{ye.push(_r(se,re,be))});return ye.push(U),qe(ye)}).then(()=>{ye=[];for(const z of kt)if(z.beforeEnter)if(ki(z.beforeEnter))for(const se of z.beforeEnter)ye.push(_r(se,re,be));else ye.push(_r(z.beforeEnter,re,be));return ye.push(U),qe(ye)}).then(()=>(re.matched.forEach(z=>z.enterCallbacks={}),ye=kg(kt,"beforeRouteEnter",re,be,M),ye.push(U),qe(ye))).then(()=>{ye=[];for(const z of r.list())ye.push(_r(z,re,be));return ye.push(U),qe(ye)}).catch(z=>bo(z,8)?z:Promise.reject(z))}function R(re,be,ye){a.list().forEach(Me=>M(()=>Me(re,be,ye)))}function X(re,be,ye,Me,ft){const kt=x(re,be);if(kt)return kt;const U=be===ur,z=_l?history.state:{};ye&&(Me||U?i.replace(re.fullPath,Ft({scroll:U&&z&&z.scroll},ft)):i.push(re.fullPath,ft)),l.value=re,Te(re,be,ye,U),ae()}let P;function F(){P||(P=i.listen((re,be,ye)=>{if(!Ue.listening)return;const Me=_(re),ft=S(Me);if(ft){A(Ft(ft,{replace:!0}),Me).catch(_u);return}c=Me;const kt=l.value;_l&&QE(q2(kt.fullPath,ye.delta),Wp()),V(Me,kt).catch(U=>bo(U,12)?U:bo(U,2)?(A(U.to,Me).then(z=>{bo(z,20)&&!ye.delta&&ye.type===qu.pop&&i.go(-1,!1)}).catch(_u),Promise.reject()):(ye.delta&&i.go(-ye.delta,!1),ie(U,Me,kt))).then(U=>{U=U||X(Me,kt,!1),U&&(ye.delta&&!bo(U,8)?i.go(-ye.delta,!1):ye.type===qu.pop&&bo(U,20)&&i.go(-1,!1)),R(Me,kt,U)}).catch(_u)}))}let Z=Vc(),Q=Vc(),G;function ie(re,be,ye){ae(re);const Me=Q.list();return Me.length?Me.forEach(ft=>ft(re,be,ye)):console.error(re),Promise.reject(re)}function ge(){return G&&l.value!==ur?Promise.resolve():new Promise((re,be)=>{Z.add([re,be])})}function ae(re){return G||(G=!re,F(),Z.list().forEach(([be,ye])=>re?ye(re):be()),Z.reset()),re}function Te(re,be,ye,Me){const{scrollBehavior:ft}=t;if(!_l||!ft)return Promise.resolve();const kt=!ye&&eT(q2(re.fullPath,0))||(Me||!ye)&&history.state&&history.state.scroll||null;return vc().then(()=>ft(re,be,kt)).then(U=>U&&JE(U)).catch(U=>ie(U,re,be))}const We=re=>i.go(re);let Ke;const He=new Set,Ue={currentRoute:l,listening:!0,addRoute:f,removeRoute:p,clearRoutes:e.clearRoutes,hasRoute:y,getRoutes:v,resolve:_,options:t,push:k,replace:C,go:We,back:()=>We(-1),forward:()=>We(1),beforeEach:o.add,beforeResolve:r.add,afterEach:a.add,onError:Q.add,isReady:ge,install(re){const be=this;re.component("RouterLink",$T),re.component("RouterView",AT),re.config.globalProperties.$router=be,Object.defineProperty(re.config.globalProperties,"$route",{enumerable:!0,get:()=>g(l)}),_l&&!Ke&&l.value===ur&&(Ke=!0,k(i.location).catch(ft=>{}));const ye={};for(const ft in ur)Object.defineProperty(ye,ft,{get:()=>l.value[ft],enumerable:!0});re.provide(Hp,be),re.provide(Av,av(ye)),re.provide(U1,l);const Me=re.unmount;He.add(re),re.unmount=function(){He.delete(re),He.size<1&&(c=ur,P&&P(),P=null,l.value=ur,Ke=!1,G=!1),Me()}}};function qe(re){return re.reduce((be,ye)=>be.then(()=>M(ye)),Promise.resolve())}return Ue}function IT(t,e){const n=[],s=[],i=[],o=Math.max(e.matched.length,t.matched.length);for(let r=0;r<o;r++){const a=e.matched[r];a&&(t.matched.find(c=>Jl(c,a))?s.push(a):n.push(a));const l=t.matched[r];l&&(e.matched.find(c=>Jl(c,l))||i.push(l))}return[n,s,i]}function Ws(){return zs(Hp)}function $n(t){return zs(Av)}class OT{constructor(e,n){ee(this,"_eventEmitter",new EE);ee(this,"_route",$n());e&&n?(fs.User=e,fs.ApiToken=n):this._eventEmitter.emit("global:logout",this)}get User(){return fs.User}setUser(e){fs.User=e}get ApiToken(){return fs.ApiToken}get Theme(){return fs.Theme}set Theme(e){fs.Theme=e}isInitialized(){return fs.User&&fs.ApiToken}get Events(){return this._eventEmitter}set User(e){fs.User=e}set ApiToken(e){fs.ApiToken=e}get Route(){return this._route}isLoggedIn(){return fs.User!==null}roleIs(e){var n;return e.includes((n=fs.User)==null?void 0:n.role)}clear(){fs.clear()}}const DT=t=>{console.log("Event triggered: global:logout"),t.clear(),window.location.pathname!=="/auth"&&window.location.replace("/auth")},LT=t=>{console.log("Event triggered: global:init"),t.Route.path!=="/auth"&&t.Route.path!=="/"&&t.User===null&&(t.clear(),Ws().push("/auth"))},PT=t=>{console.log("Event triggered: global:login"),t.Route.path==="/auth"&&window.location.replace("/courses")},RT=t=>{console.log("Event triggered: global:retry-login"),D.Services.UI.openRetryLoginModal()},VT={"global:logout":[DT],"global:login":[PT],"global:init":[LT],"global:retry-login":[RT]};class C5{constructor(e){ee(this,"_context");this._context=e}}class NT extends C5{constructor(e){super(e)}}var UT=!1;/*!
 * pinia v2.2.1
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let E5;const qp=t=>E5=t,T5=Symbol();function B1(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var yu;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(yu||(yu={}));function BT(){const t=nv(!0),e=t.run(()=>Y({}));let n=[],s=[];const i=Dp({install(o){qp(i),i._a=o,o.provide(T5,i),o.config.globalProperties.$pinia=i,s.forEach(r=>n.push(r)),s=[]},use(o){return!this._a&&!UT?s.push(o):n.push(o),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const A5=()=>{};function ry(t,e,n,s=A5){t.push(e);const i=()=>{const o=t.indexOf(e);o>-1&&(t.splice(o,1),s())};return!n&&sv()&&k8(i),i}function cl(t,...e){t.slice().forEach(n=>{n(...e)})}const jT=t=>t(),ay=Symbol(),$g=Symbol();function j1(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,s)=>t.set(s,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n],i=t[n];B1(i)&&B1(s)&&t.hasOwnProperty(n)&&!xn(s)&&!jo(s)?t[n]=j1(i,s):t[n]=s}return t}const zT=Symbol();function FT(t){return!B1(t)||!t.hasOwnProperty(zT)}const{assign:hr}=Object;function WT(t){return!!(xn(t)&&t.effect)}function HT(t,e,n,s){const{state:i,actions:o,getters:r}=e,a=n.state.value[t];let l;function c(){a||(n.state.value[t]=i?i():{});const u=j8(n.state.value[t]);return hr(u,o,Object.keys(r||{}).reduce((d,h)=>(d[h]=Dp(q(()=>{qp(n);const f=n._s.get(t);return r[h].call(f,f)})),d),{}))}return l=M5(t,c,e,n,s,!0),l}function M5(t,e,n={},s,i,o){let r;const a=hr({actions:{}},n),l={deep:!0};let c,u,d=[],h=[],f;const p=s.state.value[t];!o&&!p&&(s.state.value[t]={}),Y({});let v;function y(O){let M;c=u=!1,typeof O=="function"?(O(s.state.value[t]),M={type:yu.patchFunction,storeId:t,events:f}):(j1(s.state.value[t],O),M={type:yu.patchObject,payload:O,storeId:t,events:f});const V=v=Symbol();vc().then(()=>{v===V&&(c=!0)}),u=!0,cl(d,M,s.state.value[t])}const _=o?function(){const{state:M}=n,V=M?M():{};this.$patch(R=>{hr(R,V)})}:A5;function w(){r.stop(),d=[],h=[],s._s.delete(t)}const x=(O,M="")=>{if(ay in O)return O[$g]=M,O;const V=function(){qp(s);const R=Array.from(arguments),X=[],P=[];function F(G){X.push(G)}function Z(G){P.push(G)}cl(h,{args:R,name:V[$g],store:C,after:F,onError:Z});let Q;try{Q=O.apply(this&&this.$id===t?this:C,R)}catch(G){throw cl(P,G),G}return Q instanceof Promise?Q.then(G=>(cl(X,G),G)).catch(G=>(cl(P,G),Promise.reject(G))):(cl(X,Q),Q)};return V[ay]=!0,V[$g]=M,V},k={_p:s,$id:t,$onAction:ry.bind(null,h),$patch:y,$reset:_,$subscribe(O,M={}){const V=ry(d,O,M.detached,()=>R()),R=r.run(()=>ke(()=>s.state.value[t],X=>{(M.flush==="sync"?u:c)&&O({storeId:t,type:yu.direct,events:f},X)},hr({},l,M)));return V},$dispose:w},C=Gt(k);s._s.set(t,C);const A=(s._a&&s._a.runWithContext||jT)(()=>s._e.run(()=>(r=nv()).run(()=>e({action:x}))));for(const O in A){const M=A[O];if(xn(M)&&!WT(M)||jo(M))o||(p&&FT(M)&&(xn(M)?M.value=p[O]:j1(M,p[O])),s.state.value[t][O]=M);else if(typeof M=="function"){const V=x(M,O);A[O]=V,a.actions[O]=M}}return hr(C,A),hr(Dt(C),A),Object.defineProperty(C,"$state",{get:()=>s.state.value[t],set:O=>{y(M=>{hr(M,O)})}}),s._p.forEach(O=>{hr(C,r.run(()=>O({store:C,app:s._a,pinia:s,options:a})))}),p&&o&&n.hydrate&&n.hydrate(C.$state,p),c=!0,u=!0,C}function Kt(t,e,n){let s,i;const o=typeof e=="function";typeof t=="string"?(s=t,i=o?n:e):(i=t,s=t.id);function r(a,l){const c=l4();return a=a||(c?zs(T5,null):null),a&&qp(a),a=E5,a._s.has(s)||(o?M5(s,e,i,a):HT(s,i,a)),a._s.get(s)}return r.$id=s,r}function qT(){return Kt("ui",()=>{const t=Y(!1),e=Y(0),n=Y(!1),s=Y(!1),i=Y([{title:"НОО.Tube",icon:"nootube",route:"/nootube",for:["admin","teacher","assistant","mentor","student"]},{title:"Курсы",icon:"uni-cap",route:"/courses",for:["admin","teacher","mentor","student","assistant"]},{title:"Работы",icon:"list",route:"/assigned-works",for:["student","mentor"]},{title:"Работы",icon:"list",route:"/works",for:["teacher","admin"]},{title:"Пользователи",icon:"users",route:"/users",for:["admin","teacher","mentor","assistant"]},{title:"Опросы",icon:"poll",route:"/polls",for:["admin","teacher"]},{title:"Календарь",icon:"calender",route:"/calender",for:["admin","student","teacher","mentor","assistant"]},{title:"Таблицы",icon:"table",route:"/tables",for:["mentor"]},{title:"Профиль",icon:"user",route:"/profile",for:["admin","student","teacher","mentor","assistant"]},{title:"Настройки",icon:"settings",route:"/settings",for:["admin","student","teacher","mentor","assistant"]},{title:"Помощь",icon:"help",route:"/help",for:["admin","student","teacher","mentor","assistant"]}]),o=Y({type:"info",isOpen:!1,title:"",message:void 0,actions:[]}),r=Y({isOpen:!1,usernameOrEmail:"",password:""});return{isLoading:t,loadingProgress:e,isPaneOpen:n,isNotificationsPaneOpen:s,navEntries:i,globalModal:o,retryLoginModal:r}})}class I5 extends NT{constructor(n){super(n);ee(this,"_useStoreRef");ee(this,"_store");this._useStoreRef=qT(),this._store=this._useStoreRef()}Store(){return this._useStoreRef()}setLoading(n){this._store.isLoading=n,n?this._store.loadingProgress=.05:this._store.loadingProgress=0}setLoadingProgress(n){this._store.loadingProgress=n}setPaneOpen(n){this._store.isPaneOpen=n}setNotificationsPaneOpen(n){this._store.isNotificationsPaneOpen=n}getNavEntries(){var s;const n=(s=this._context.User)==null?void 0:s.role;return n?this._store.navEntries.filter(i=>i.for.includes(n)):[]}openErrorModal(n,s,i=[]){this._store.globalModal.type="error",this._store.globalModal.title=n,this._store.globalModal.message=s,this._store.globalModal.isOpen=!0,this._store.globalModal.actions=i}openRetryLoginModal(){this._store.retryLoginModal.isOpen=!0}openWarningModal(n,s,i=[]){this._store.globalModal.type="warning",this._store.globalModal.title=n,this._store.globalModal.message=s,this._store.globalModal.isOpen=!0,this._store.globalModal.actions=i}openInfoModal(n,s,i=[]){this._store.globalModal.type="info",this._store.globalModal.title=n,this._store.globalModal.message=s,this._store.globalModal.isOpen=!0,this._store.globalModal.actions=i}openSuccessModal(n,s,i=[]){this._store.globalModal.type="success",this._store.globalModal.title=n,this._store.globalModal.message=s,this._store.globalModal.isOpen=!0,this._store.globalModal.actions=i}closeModal(){this._store.globalModal.title="",this._store.globalModal.message=void 0,this._store.globalModal.isOpen=!1,this._store.globalModal.actions=[]}}class An extends C5{constructor(n){super(n);ee(this,"uiService");this.uiService=new I5(n)}httpGet(n,s={},i={},o={}){const r=`${n}?${this._getParams(s)}`;return this._httpRequest("GET",r,void 0,i,o)}httpPost(n,s={},i={},o={}){return this._httpRequest("POST",n,s,i,o)}httpPatch(n,s={},i={},o={}){return this._httpRequest("PATCH",n,s,i,o)}httpDelete(n,s={},i={}){return this._httpRequest("DELETE",n,void 0,s,i)}uploadFiles(n,s,i={}){return new Promise((o,r)=>{const a=new FormData;for(const c of n)a.append("files",c);this.onProgress(0),i.showLoader&&(this.uiService.setLoading(!0),this.onProgress(5));const l=new XMLHttpRequest;l.open("POST",`${P1.API_URL}/media`,!0),l.upload.addEventListener("progress",c=>{if(c.lengthComputable){const u=Math.round(c.loaded/c.total*100);s.call(void 0,u),this.onProgress(u)}}),l.addEventListener("error",()=>{r({status:400,message:"Неизвестная ошибка"})}),l.addEventListener("abort",()=>{r({status:0,message:"Загрузка отменена"})}),l.addEventListener("load",()=>{var c;if(i.showLoader&&(this.onProgress(100),this.uiService.setLoading(!1)),l.status<400)try{o(JSON.parse(l.responseText))}catch{r({status:l.status,message:"Неизвестная ошибка"})}else try{r({status:l.status,message:((c=JSON.parse(l.responseText))==null?void 0:c.error)||"Неизвестная ошибка"})}catch{r({status:l.status,message:"Неизвестная ошибка"})}}),l.setRequestHeader("Authorization",`Bearer ${this._context.ApiToken}`),l.send(a)})}async _httpRequest(n,s,i,o={},r={}){const a=`${P1.API_URL}${s}`,l={method:n,headers:this._getHeaders(o,i instanceof FormData?"form":"json"),body:this._getBody(i)};this.onProgress(0),r.showLoader&&(this.uiService.setLoading(!0),this.onProgress(5));try{return await this.xhrRequest(a,l,r.timeout)}catch(c){throw c.status===401&&(this._context.isInitialized()?this._context.Events.emit("global:retry-login",this._context):this._context.Events.emit("global:logout",this._context)),c}finally{r.showLoader&&this.uiService.setLoading(!1)}}async xhrRequest(n,s,i){return new Promise((o,r)=>{const a=new XMLHttpRequest;a.timeout=i||6e4,a.open(s.method||"GET",n),a.onload=()=>{var l;if(a.status>=200&&a.status<300){this.onProgress(100);try{if(a.responseText===""){o(null);return}o(JSON.parse(a.responseText,this.dateParser))}catch{r({status:a.status,message:"Неизвестная ошибка"})}}else try{r({status:a.status,message:((l=JSON.parse(a.responseText,this.dateParser))==null?void 0:l.error)||"Ошибка сервера"})}catch{r({status:a.status,message:"Вероятно, сервер недоступен. Попробуйте снова"})}},a.onerror=()=>{r({status:400,message:"Ошибка соединения. Проверьте интернет соединение"})},a.ontimeout=()=>{r({status:408,message:"Превышено время ожидания ответа от сервера"})},s.method==="GET"?a.onprogress=l=>{l.lengthComputable&&this.onProgress(Math.round(l.loaded/l.total*100))}:a.upload.onprogress=l=>{l.lengthComputable&&this.onProgress(Math.round(l.loaded/l.total*100))};for(const l in s.headers)a.setRequestHeader(l,s.headers[l]);a.send(s.body)})}_getHeaders(n,s="json"){const i={Authorization:`Bearer ${this._context.ApiToken}`,...n};return s==="json"&&(i["Content-Type"]="application/json"),i}_getParams(n){const s=n.relations||[],i=Object.keys(n).filter(a=>!a.startsWith("filter[")&&a!=="relations").reduce((a,l)=>(a[l]=n[l],a),{});let o=Object.keys(n).filter(a=>a.startsWith("filter["));o=o.filter(a=>n[a]===void 0?!1:Array.isArray(n[a].value)?n[a].value.length>0:!0);let r=new URLSearchParams(i).toString();for(const a of o)r+=`&${a}=${this._stringifyFilter(n[a])}`;for(const a of s)r+=`&relations[]=${a}`;return r}_stringifyFilter(n){switch(n.type){case"range":return`range(${this._stringifyType(n.value[0])}|${this._stringifyType(n.value[1])})`;case"arr":return`arr(${n.value.map(this._stringifyType).join("|")})`;case"tags":return`tags(${n.value.map(this._stringifyType).join("|")})`;case"string":case"number":case"boolean":case"null":default:return this._stringifyType(n.value)}}_stringifyType(n){return n===null?"null":n instanceof Date?n.toISOString():n.toString()}_getBody(n){if(n)return n instanceof FormData?n:JSON.stringify(n)}dateParser(n,s){return/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/.test(s)?new Date(s):s}onProgress(n){this.uiService.setLoadingProgress(n)}}class GT extends An{constructor(n){super(n);ee(this,"_route","/assigned-work")}async getAssignedWork(n,s={}){return await this.httpGet(`${this._route}/${n}`,void 0,void 0,s)}async getAssignedWorkProgress(n,s={}){return await this.httpGet(`${this._route}/progress/${n}`,void 0,void 0,s)}async getAssignedWorks(n,s={}){return await this.httpGet(`${this._route}`,n,void 0,s)}async getAssignedWorksFromUser(n,s,i={}){return await this.httpGet(`${this._route}/from-user/${n}`,s,void 0,i)}async createAssignedWork(n,s={}){await this.httpPost(`${this._route}`,n,void 0,s)}async remakeAssignedWork(n,s=!1,i={}){await this.httpPost(`${this._route}/${n}/remake`,{onlyFalse:s},void 0,i)}async getOrCreateAssignedWork(n,s={}){return await this.httpPost(`${this._route}/${n}`,void 0,{},s)}async archiveAssignedWork(n,s){await this.httpPatch(`${this._route}/${n}/archive`,void 0,void 0,s)}async unarchiveAssignedWork(n,s){await this.httpPatch(`${this._route}/${n}/unarchive`,void 0,void 0,s)}async solveAssignedWork(n,s,i={}){await this.httpPatch(`${this._route}/${n}/solve`,s,void 0,i)}async checkAssignedWork(n,s,i={}){await this.httpPatch(`${this._route}/${n}/check`,s,void 0,i)}async recheckAutomatically(n,s={}){await this.httpPatch(`${this._route}/${n}/recheck-automatically`,void 0,void 0,s)}async saveAssignedWorkProgress(n,s,i={}){await this.httpPatch(`${this._route}/${n}/save`,s,void 0,i)}async upsertComment(n,s,i={}){return await this.httpPatch(`${this._route}/${n}/save-comment`,s,void 0,i)}async upsertAnswer(n,s,i={}){return await this.httpPatch(`${this._route}/${n}/save-answer`,s,void 0,i)}async saveWorkComments(n,s,i={}){return await this.httpPatch(`${this._route}/${n}/save-work-comments`,s,void 0,i)}async transferAssignedWork(n,s,i={}){await this.httpPatch(`${this._route}/${n}/transfer/${s}`,void 0,void 0,i)}async changeMentor(n,s,i={}){await this.httpPatch(`${this._route}/${n}/replace-mentor/${s}`,void 0,void 0,i)}async shiftAssignedWorkDeadline(n,s={}){return this.httpPatch(`${this._route}/${n}/shift-deadline`,void 0,void 0,s)}async sendToRevision(n,s={}){await this.httpPatch(`${this._route}/${n}/send-to-revision`,void 0,void 0,s)}async sendToRecheck(n,s={}){await this.httpPatch(`${this._route}/${n}/send-to-recheck`,void 0,void 0,s)}async addTaskToFavourites(n,s={}){return await this.httpPost(`${this._route}/task/${n}/add-to-favourites`,void 0,void 0,s)}async removeTaskFromFavourites(n,s={}){return await this.httpDelete(`${this._route}/task/${n}/remove-from-favourites`,void 0,s)}async removeTasksFromFavourites(n,s={}){return await this.httpPost(`${this._route}/task/bulk/favourites/remove`,{ids:n},void 0,s)}async isTaskFavourite(n,s={}){return await this.httpGet(`${this._route}/task/${n}/is-favourite`,void 0,void 0,s)}async getFavoriteTasks(n,s={}){return await this.httpGet(`${this._route}/task/favourites/${n.subjectId}/${n.limit}`,void 0,void 0,s)}async deleteAssignedWork(n,s={}){await this.httpDelete(`${this._route}/${n}`,void 0,s)}}class O5 extends An{constructor(n){super(n);ee(this,"_route","/session")}async getSessions(n={}){return await this.httpGet(this._route,void 0,void 0,n)}async deleteSession(n,s={}){await this.httpDelete(`${this._route}/${n}`,void 0,s)}async deleteCurrentSession(n={}){await this.httpDelete(`${this._route}`,void 0,n)}}class YT extends An{constructor(n){super(n);ee(this,"_route","/auth");ee(this,"sessionService");this.sessionService=new O5(n)}async login({usernameOrEmail:n,password:s},i={}){const o=await this.httpPost(`${this._route}/login`,{usernameOrEmail:n,password:s},void 0,i);return o&&"data"in o&&o.data&&"token"in o.data&&(this._context.User=o.data.user,this._context.ApiToken=o.data.token,this._context.Events.emit("global:login",this._context)),o}async retryLogin({usernameOrEmail:n,password:s},i={}){const o=await this.httpPost(`${this._route}/login`,{usernameOrEmail:n,password:s},void 0,i);return o&&"data"in o&&o.data&&"token"in o.data?(this._context.User=o.data.user,this._context.ApiToken=o.data.token,!0):!1}async logout(){try{await this.sessionService.deleteCurrentSession({showLoader:!0})}catch(n){console.error("Error deleting session",n)}this._context.clear(),this._context.Events.emit("global:logout",this._context)}async register(n,s={}){await this.httpPost(`${this._route}/register`,n,void 0,s)}async checkUsername(n,s={}){return(await this.httpGet(`${this._route}/check-username/${n}`,void 0,void 0,s)).data.exists}async verify(n,s,i={}){await this.httpPatch(`${this._route}/verify`,{username:n,token:s},void 0,i)}async verifyEmailChange(n,s,i={}){await this.httpPatch(`${this._route}/verify-email-change`,{username:n,token:s},void 0,i)}async resendVerification(n,s={}){await this.httpPost(`${this._route}/resend-verification`,{email:n},void 0,s)}async forgotPassword(n,s={}){await this.httpPost(`${this._route}/forgot-password`,{email:n},void 0,s)}}class KT extends An{constructor(n){super(n);ee(this,"_route","/blog")}async getPosts(n,s={}){return await this.httpGet(this._route,n,void 0,s)}async getPost(n,s={}){return await this.httpGet(`${this._route}/${n}`,void 0,void 0,s)}async toggleReaction(n,s,i={}){return await this.httpPatch(`${this._route}/${n}/react/${s}`,void 0,void 0,i)}async createPost(n,s={}){return await this.httpPost(this._route,n,void 0,s)}async updatePost(n,s,i={}){await this.httpPatch(`${this._route}/${n}`,s,void 0,i)}async deletePost(n,s={}){await this.httpDelete(`${this._route}/${n}`,void 0,s)}}class ZT extends An{constructor(n){super(n);ee(this,"_route","/calender")}async getEvents(n,s={}){return await this.httpGet(this._route,n,void 0,s)}async createEvent(n,s={}){return await this.httpPost(this._route,n,void 0,s)}async updateEvent(n,s,i={}){await this.httpPatch(`${this._route}/${n}`,s,void 0,i)}async deleteEvent(n,s={}){await this.httpDelete(`${this._route}/${n}`,void 0,s)}}class XT extends An{constructor(n){super(n);ee(this,"_route","/course")}async getCourse(n,s={}){const i=await this.httpGet(`${this._route}/${n}`,void 0,{},s);if(i.data)return D5(i.data.chapters),L5(i.data.chapters),P5(i.data.chapters),i}async getCourses(n,s={}){return await this.httpGet(this._route,n,void 0,s)}async getOwnCourses(n,s={}){return await this.httpGet(`${this._route}/own`,n,void 0,s)}async getStudentCourses(n,s,i={}){return await this.httpGet(`${this._route}/student/${n}`,s,void 0,i)}async toggleReaction(n,s,i={}){return await this.httpPatch(`${this._route}/material/${n}/react/${s}`,void 0,void 0,i)}async getStudentListWithAssignments(n,s,i={}){return await this.httpGet(`${this._route}/${n}/student-list`,s,void 0,i)}async archiveAssignment(n,s={}){await this.httpPatch(`${this._route}/${n}/archive`,void 0,void 0,s)}async unarchiveAssignment(n,s={}){await this.httpPatch(`${this._route}/${n}/unarchive`,void 0,void 0,s)}async pinAssignment(n,s={}){return this.httpPatch(`${this._route}/${n}/pin`,void 0,void 0,s)}async unpinAssignment(n,s={}){return this.httpPatch(`${this._route}/${n}/unpin`,void 0,void 0,s)}async createCourse(n,s={}){await this.httpPost(this._route,n,void 0,s)}async updateCourse(n,s,i={}){await this.httpPatch(`${this._route}/${n}`,s,void 0,i)}async assignWorkToMaterial(n,s,i,o={}){await this.httpPatch(`${this._route}/${n}/assign-work/${s}`,i,void 0,o)}async unassignWorkFromMaterial(n,s={}){await this.httpPatch(`${this._route}/${n}/unassign-work`,void 0,void 0,s)}async assignStudentsToCourse(n,s,i={}){await this.httpPatch(`${this._route}/${n}/assign-students`,{studentIds:s},void 0,i)}async addStudentsToCourse(n,s,i={}){await this.httpPatch(`${this._route}/${n}/add-students`,{studentIds:s},void 0,i)}async removeStudentsFromCourse(n,s,i={}){await this.httpPatch(`${this._route}/${n}/remove-students`,{studentIds:s},void 0,i)}async addStudentsViaEmail(n,s,i={}){await this.httpPatch(`${this._route}/${n}/add-students-via-emails`,{emails:s},void 0,i)}async removeStudentsViaEmail(n,s,i={}){await this.httpPatch(`${this._route}/${n}/remove-students-via-emails`,{emails:s},void 0,i)}async deleteCourse(n,s={}){await this.httpDelete(`${this._route}/${n}`,void 0,s)}}function D5(t){t==null||t.sort((e,n)=>e.order-n.order);for(const e of t)D5(e.chapters||[])}function L5(t){var e,n;for(const s of t)(e=s.materials)==null||e.sort((i,o)=>i.order-o.order),(n=s.chapters)!=null&&n.length&&L5(s.chapters)}function P5(t){var e,n;for(const s of t){for(const i of s.materials||[])(e=i.files)==null||e.sort((o,r)=>o.order-r.order);(n=s.chapters)!=null&&n.length&&P5(s.chapters)}}class JT extends An{constructor(){super(...arguments);ee(this,"_route","/faq")}async getArticles(n,s={}){return this.httpGet(this._route,n,void 0,s)}async getArticle(n,s={}){return this.httpGet(`${this._route}/article/${n}`,void 0,void 0,s)}async getCategoryTree(n={}){return this.httpGet(`${this._route}/category/tree`,void 0,void 0,n)}async getCategoryTreeWithArticles(n={}){return this.httpGet(`${this._route}/category/tree/article`,void 0,void 0,n)}async searchCategories(n,s={}){return this.httpGet(`${this._route}/category/search`,n,void 0,s)}async createArticle(n,s={}){return this.httpPost(this._route,n,void 0,s)}async updateArticle(n,s,i={}){return this.httpPatch(`${this._route}/${n}`,s,void 0,i)}async deleteArticle(n,s={}){await this.httpDelete(`${this._route}/${n}`,void 0,s)}async createCategory(n,s={}){return this.httpPost(`${this._route}/category`,n,void 0,s)}async updateCategory(n,s,i={}){return this.httpPatch(`${this._route}/category/${n}`,s,void 0,i)}async deleteCategory(n,s={}){await this.httpDelete(`${this._route}/category/${n}`,void 0,s)}}class QT extends An{constructor(n){super(n);ee(this,"_route","/google-docs/binding")}async getBindings(n,s={}){return this.httpGet(this._route,n,void 0,s)}async trigger(n,s={}){return this.httpPatch(`${this._route}/${n}/trigger`,void 0,void 0,s)}async switchOnOff(n,s={}){return this.httpPatch(`${this._route}/${n}/switch-on-off`,void 0,void 0,s)}async createBinding(n,s={}){return await this.httpPost(this._route,n,void 0,s)}async deleteBinding(n,s={}){await this.httpDelete(`${this._route}/${n}`,void 0,s)}}class eA extends An{constructor(e){super(e)}async upload(e,n=()=>{},s={}){return this.uploadFiles(e,n,s)}}function tA(){return Kt("notification",()=>{const t=Y(!1),e=Y(),n=Y(0),s=Y(!1),i=Y([]),o=Y([]),r=Y([]),a=Gt({isOpen:!1,banner:null,banners:[],onClose:()=>{a.isOpen=!1,a.banner=null,a.banners.shift(),a.banners.length>0&&(a.banner=a.banners[0],a.isOpen=!0)}});function l(u){o.value=u.map((d,h)=>({...d,visible:!1,visibilityThreshold:h*200}))}function c(u){a.banners=u,u.length>0&&(a.banner=u[0],a.isOpen=!0)}return{isLoading:t,isPaneOpen:s,unreadCount:n,loadingError:e,notifications:i,newNotifications:o,banners:r,bannerModal:a,showOneByOne:l,showBannersOneByOne:c}})}class nA extends An{constructor(n){super(n);ee(this,"_route","/notification");ee(this,"tickerThreshold",5*60*1e3);ee(this,"_useStoreRef");ee(this,"_store");ee(this,"_tickerRef");this._useStoreRef=tA(),this._store=this._useStoreRef(),this.initTicker()}Store(){return this._store}async createNotification(n,s,i={}){await this.httpPost(this._route,{notification:n,sendOptions:s},void 0,i)}initTicker(){this._context.isLoggedIn()&&(this.updateState(),this._tickerRef=setInterval(this.updateState.bind(this),this.tickerThreshold))}async updateState(){try{const n=await this.getUnreadNotifications();await this.getUnreadCount(),await this.getReadNotifications(),this._store.showOneByOne(n)}catch(n){console.log(n)}}setPaneOpen(n){this._store.isPaneOpen=n,this._store.unreadCount=0;try{if(n===!1){const s=this;setTimeout(()=>{s.markAllAsRead().then(()=>s.updateState())},300)}}catch(s){console.log(s)}}async markAsRead(n){await this.httpPatch(`${this._route}/${n}/mark-as-read`),this._store.unreadCount=this._store.unreadCount-1,this._store.newNotifications=this._store.newNotifications.filter(s=>s.id!==n)}async markAllAsRead(){await this.httpPatch(`${this._route}/mark-all-as-read`)}async getUnreadNotifications(){const n=await this.httpGet(`${this._route}/unread`),s=n.data.filter(o=>!o.isBanner),i=n.data.filter(o=>o.isBanner);return this._store.showBannersOneByOne(i),s}async getReadNotifications(n,s={}){const i=await this.httpGet(`${this._route}/read`,n,void 0,s),o=i.data.filter(a=>a.isBanner),r=i.data.filter(a=>!a.isBanner);this._store.notifications=r,this._store.banners=o}async getUnreadCount(n={}){const s=await this.httpGet(`${this._route}/unread-count`,void 0,void 0,n);this._store.unreadCount=s.data||0}async deleteNotification(n,s={}){await this.httpDelete(`${this._route}/${n}`,void 0,s),this._store.unreadCount=this._store.unreadCount-1,this._store.newNotifications=this._store.newNotifications.filter(i=>i.id!==n),this._store.notifications=this._store.notifications.filter(i=>i.id!==n),this._store.banners=this._store.banners.filter(i=>i.id!==n)}}class sA extends An{constructor(n){super(n);ee(this,"_route","/platform")}async getVersion(){return this.httpGet(`${this._route}/version`)}async getChangelogForVersion(n){return this.httpGet(`${this._route}/changelog/${n}`)}async getChangelog(){return this.httpGet(`${this._route}/changelog`)}async healthcheck(){return this.httpGet(`${this._route}/healthcheck`)}}class iA extends An{constructor(n){super(n);ee(this,"_route","/poll")}async getPolls(n,s={}){return await this.httpGet(this._route,n,void 0,s)}async createPoll(n,s={}){return await this.httpPost(this._route,n,void 0,s)}async updatePoll(n,s,i={}){await this.httpPatch(`${this._route}/${n}`,s,void 0,i)}async getPollQuestions(n,s={}){return await this.httpGet(`${this._route}/question`,n,void 0,s)}async getPoll(n,s={}){return await this.httpGet(`${this._route}/${n}`,void 0,void 0,s)}async getPollInfo(n,s={}){return await this.httpGet(`${this._route}/${n}/info`,void 0,void 0,s)}async saveAnswers(n,s,i={}){await this.httpPost(`${this._route}/${n}/answer`,s,void 0,i)}async searchWhoVoted(n,s,i={}){return await this.httpGet(`${this._route}/${n}/user`,s,void 0,i)}async searchWhoVotedUnregistered(n,s,i={}){return await this.httpGet(`${this._route}/${n}/unregistered`,s,void 0,i)}async getAnswers(n,s,i={}){return await this.httpGet(`${this._route}/${n}/user/${s}/answer`,void 0,void 0,i)}async editAnswer(n,s,i={}){await this.httpPatch(`${this._route}/answer/${n}`,s,void 0,i)}async getMyPolls(n,s={}){return await this.httpGet(`${this._route}/my`,n,void 0,s)}async deletePoll(n,s={}){await this.httpDelete(`${this._route}/${n}`,void 0,s)}}class oA extends An{constructor(){super(...arguments);ee(this,"_route","/snippet")}async getSnippets(n={}){return this.httpGet(this._route,void 0,void 0,n)}async createSnippet(n,s={}){return this.httpPost(this._route,n,void 0,s)}async updateSnippet(n,s,i={}){return this.httpPatch(`${this._route}/${n}`,s,void 0,i)}async deleteSnippet(n,s={}){await this.httpDelete(`${this._route}/${n}`,void 0,s)}}class rA extends An{constructor(n){super(n);ee(this,"_route","/statistics")}async getStatistics(n,s,i,o,r={}){return this.httpPost(`${this._route}/${n}`,{to:s,from:i,type:o},void 0,r)}}class aA extends An{constructor(){super(...arguments);ee(this,"_route","/subject")}async getSubjects(n,s={}){return this.httpGet(this._route,n,void 0,s)}async getSubject(n,s={}){return this.httpGet(`${this._route}/${n}`,void 0,void 0,s)}async createSubject(n,s={}){return this.httpPost(this._route,n,void 0,s)}async updateSubject(n,s,i={}){return this.httpPatch(`${this._route}/${n}`,s,void 0,i)}async deleteSubject(n,s={}){await this.httpDelete(`${this._route}/${n}`,void 0,s)}}class lA extends An{constructor(n){super(n);ee(this,"_route","/user")}async getUser(n,s={}){return await this.httpGet(`${this._route}/${n}`,void 0,void 0,s)}async getUsers(n,s={}){return await this.httpGet(this._route,n,void 0,s)}async getUsersWithMentors(n,s={}){const i={...n};return i.relations=["mentorAssignmentsAsStudent"],await this.httpGet(this._route,i,void 0,s)}async getStudents(n,s={}){return await this.httpGet(`${this._route}/student/search`,n,void 0,s)}async getOwnStudents(n,s,i={}){return await this.httpGet(`${this._route}/student/search/own${n?`/${n}`:""}`,s,void 0,i)}async getMentors(n,s={}){return await this.httpGet(`${this._route}/mentor/search`,n,void 0,s)}async getTeachers(n,s={}){return await this.httpGet(`${this._route}/teacher/search`,n,void 0,s)}async assignMentor(n,s,i,o={}){await this.httpPatch(`${this._route}/${n}/${i}/mentor/${s}`,void 0,void 0,o)}async removeMentor(n,s,i={}){await this.httpDelete(`${this._route}/${n}/${s}/mentor`,void 0,i)}async updateUser(n,s,i={}){await this.httpPatch(`${this._route}/${n}`,s,void 0,i)}async changePassword(n,s,i,o={}){await this.httpPatch(`${this._route}/${n}/password`,{oldPassword:s,newPassword:i},void 0,o)}async changeRole(n,s,i={}){await this.httpPatch(`${this._route}/${n}/role`,{role:s},void 0,i)}async block(n,s={}){await this.httpPatch(`${this._route}/${n}/block`,void 0,void 0,s)}async unblock(n,s={}){await this.httpPatch(`${this._route}/${n}/unblock`,void 0,void 0,s)}async updateTelegram(n,s,i={}){await this.httpPatch(`${this._route}/${n}/telegram`,s,void 0,i)}async requestChangeEmail(n,s,i={}){await this.httpPatch(`${this._route}/${n}/email`,{email:s},void 0,i)}async cancelChangeEmail(n,s={}){await this.httpPatch(`${this._route}/${n}/cancel-email-change`,void 0,void 0,s)}async deleteUser(n,s,i={}){await this.httpDelete(`${this._route}/${n}/${s}`,void 0,i)}validatePassword(n){return this.passwordCriteria().every(s=>s.isValid(n))}async confirmUser(n,s={}){await this.httpPatch(`${this._route}/${n}/verify-manual`,void 0,void 0,s)}passwordCriteria(){return[{errorText:"Пароль должен содержать не менее 8 символов",label:"8 или более символов",isValid:n=>n.length>=8},{errorText:"Пароль должен содержать не менее 1 цифры",label:"1 цифра",isValid:n=>/\d/.test(n)},{errorText:"Пароль должен содержать не менее 1 символа в верхнем регистре",label:"1 заглавная буква",isValid:n=>/[A-Z]/.test(n)},{errorText:"Пароль должен содержать не менее 1 символа в нижнем регистре",label:"1 строчная буква",isValid:n=>/[a-z]/.test(n)},{errorText:"Пароль не должен содержать пробелов",label:"Без пробелов",isValid:n=>!/\s/.test(n)}]}}class cA extends An{constructor(n){super(n);ee(this,"_route","/work")}async getWork(n,s={}){return await this.httpGet(`${this._route}/${n}`,void 0,void 0,s)}async getWorkStatistics(n,s={}){return await this.httpGet(`${this._route}/${n}/statistics`,void 0,void 0,s)}async getWorks(n,s={}){return await this.httpGet(this._route,n,void 0,s)}async createWork(n,s={}){return this.httpPost(this._route,n,void 0,s)}async copyWork(n,s={}){await this.httpPost(`${this._route}/copy/${n}`,void 0,void 0,s)}async getRelatedMaterials(n,s,i={}){return await this.httpGet(`${this._route}/${n}/related-materials`,s,void 0,i)}async updateWork(n,s,i={}){await this.httpPatch(`${this._route}/${n}`,s,void 0,i)}async deleteWork(n,s={}){await this.httpDelete(`${this._route}/${n}`,void 0,s)}}function uA(){return Kt("user-settings",()=>{const t=Y(),e=q(()=>{var s;return(s=t.value)==null?void 0:s.backgroundImage}),n=q(()=>{var s;return(s=t.value)==null?void 0:s.fontSize});return{userSettings:t,backgroundImage:e,fontSize:n}})}class dA extends An{constructor(n){super(n);ee(this,"_route","/user-settings");ee(this,"_useStoreRef");ee(this,"_store");this._useStoreRef=uA(),this._store=this._useStoreRef()}Store(){return this._store}async getUserSettings(n){return this.httpGet(this._route,void 0,void 0,n)}async updateUserSettings(n,s){return this.httpPatch(this._route,n,void 0,s)}async reload(){const n=await this.getUserSettings();this._store.userSettings=(n==null?void 0:n.data)||void 0}async update(n){const s=await this.updateUserSettings(n);this._store.userSettings=(s==null?void 0:s.data)||void 0}}class hA extends An{constructor(){super(...arguments);ee(this,"_route","/video")}async getVideo(n,s={}){return this.httpGet(`${this._route}/${n}`,void 0,void 0,s)}async getVideos(n,s={}){return this.httpGet(this._route,n,void 0,s)}async createVideo(n,s={}){return this.httpPost(this._route,n,void 0,s)}async finishUpload(n,s={}){return this.httpPost(`${this._route}/${n}/finish-upload`,void 0,void 0,s)}async publish(n,s={}){return this.httpPost(`${this._route}/${n}/publish`,void 0,void 0,s)}async updateVideo(n,s,i={}){return this.httpPatch(`${this._route}/${n}`,s,void 0,i)}async addToSavedVideos(n,s={}){return this.httpPatch(`${this._route}/${n}/add-to-saved`,void 0,void 0,s)}async removeFromSavedVideos(n,s={}){return this.httpPatch(`${this._route}/${n}/remove-from-saved`,void 0,void 0,s)}async isSaved(n,s={}){return this.httpGet(`${this._route}/${n}/is-saved`,void 0,void 0,s)}async getSavedVideos(n,s={}){return this.httpGet(`${this._route}/saved`,n,void 0,s)}async toggleReaction(n,s,i={}){return this.httpPost(`${this._route}/${n}/reaction`,{reaction:s},void 0,i)}async getAccessInfo(n,s={}){return this.httpGet(`${this._route}/${n}/access-info`,void 0,void 0,s)}async getVideoComments(n,s,i={}){return this.httpGet(`${this._route}/${n}/comment`,s,void 0,i)}async createComment(n,s,i={}){return this.httpPost(`${this._route}/${n}/comment`,{text:s},void 0,i)}async deleteComment(n,s={}){await this.httpDelete(`${this._route}/comment/${n}`,void 0,s)}async deleteVideo(n,s={}){await this.httpDelete(`${this._route}/${n}`,void 0,s)}}class fA extends An{constructor(){super(...arguments);ee(this,"_route","/table")}async getTables(n,s={}){return this.httpGet(this._route,n,void 0,s)}async getTable(n,s={}){return this.httpGet(`${this._route}/${n}`,void 0,void 0,s)}async createTable(n,s={}){return this.httpPost(this._route,n,void 0,s)}async updateTable(n,s,i={}){return this.httpPatch(`${this._route}/${n}`,s,void 0,i)}async deleteTable(n,s={}){await this.httpDelete(`${this._route}/${n}`,void 0,s)}}class R5{static getServices(e){return Object.keys(this._services).reduce((n,s)=>(n[s]=new this._services[s](e),n),{})}}ee(R5,"_services",{Auth:YT,Work:cA,AssignedWork:GT,User:lA,Course:XT,Media:eA,Statistics:rA,Calender:ZT,Blog:KT,Poll:iA,Session:O5,GoogleSheetsBinding:QT,Subject:aA,Platform:sA,Snippet:oA,FAQ:JT,Video:hA,Table:fA,Notification:nA,UI:I5,UserSettings:dA});class pA{constructor(){ee(this,"_itialized",!1);ee(this,"_context");ee(this,"_services");if(this._itialized)throw new Error("Core is a singletone")}init(){return this._itialized||(console.log("Core init"),this._context=new OT,this._services=R5.getServices(this._context),this._subscribeCoreEvents(),this._itialized=!0,this._context.Events.emit("global:init",this._context)),this}isInitialized(){return this._itialized}get Context(){return this.throwIfNotInitialized(),this._context}get Services(){return this.throwIfNotInitialized(),this._services}get Constants(){return this.throwIfNotInitialized(),P1}onInit(e){if(this._itialized){e.call(this,this);return}this._context.Events.on("global:init",()=>{e.call(this,this)})}throwIfNotInitialized(){if(!this._itialized)throw new Error("Core is not initialized")}_subscribeCoreEvents(){this._context.Events.onMany(VT)}}const D=new pA;function ys(t){document.title=t}function jd(t,e=250){let n;return function(...s){return new Promise(i=>{n&&clearTimeout(n),n=setTimeout(()=>i(t.call(void 0,...s)),e)})}}function Ht(t,e={initialPagination:{search:"",page:1,limit:25,order:"DESC",sort:"id"},debounceTime:250,immediate:!0}){var u,d,h,f;const n=Y({...e.initialPagination,search:((u=e.initialPagination)==null?void 0:u.search)||"",page:((d=e.initialPagination)==null?void 0:d.page)||1,limit:((h=e.initialPagination)==null?void 0:h.limit)||25}),s=Y([]),i=Y({total:0,relations:[]}),o=Y(!1),r=Y(((f=e.initialPagination)==null?void 0:f.search)||"");ke(n,()=>o.value=!0,{immediate:e.immediate,deep:!0}),ke(n,jd(async p=>{p.search!==r.value&&(p.page=1,r.value=p.search||"");const v=await t(p);o.value=!1,v&&(s.value=v.data,i.value=v.meta||{total:0,relations:[]})},e.debounceTime),{immediate:e.immediate,deep:!0});function a(){n.value={...n.value}}let l=!1;function c(){l||(a(),l=!0)}return{pagination:n,results:s,resultsMeta:i,isListLoading:o,trigger:a,triggerOnce:c}}const Mv=Kt("assigned-works-module:assigned-works",()=>{const t=D.Services.AssignedWork,e=D.Services.UI,n=Y(0);function s(O){return async function(M){try{return await t.getAssignedWorks({...M||{},...O||{}})}catch(V){e.openErrorModal("Ошибка при загрузке списка работ",V.message)}}}const i=Ht(s(D.Context.User.role==="mentor"?{"filter[isArchivedByMentors]":{type:"boolean",value:!1},"filter[solveStatus]":{type:"arr",value:["made-in-deadline","made-after-deadline"]}}:{"filter[isArchivedByStudent]":{type:"boolean",value:!1}}),{immediate:!0}),o=Y([]),r=q(()=>o.value.map(O=>i.results.value.find(M=>M.id===O)).filter(Boolean)),a=Ht(s(D.Context.User.role==="mentor"?{"filter[solveStatus]":{type:"arr",value:["not-started","in-progress"]},"filter[isArchivedByMentors]":{type:"boolean",value:!1}}:{"filter[solveStatus]":{type:"arr",value:["not-started","in-progress"]},"filter[isArchivedByStudent]":{type:"boolean",value:!1}}),{immediate:!1}),l=Y([]),c=q(()=>l.value.map(O=>a.results.value.find(M=>M.id===O)).filter(Boolean)),u=Ht(s(D.Context.User.role==="mentor"?{"filter[checkStatus]":{type:"arr",value:["not-checked","in-progress"]},"filter[solveStatus]":{type:"arr",value:["made-in-deadline","made-after-deadline"]},"filter[isArchivedByMentors]":{type:"boolean",value:!1}}:{"filter[checkStatus]":{type:"arr",value:["not-checked","in-progress"]},"filter[isArchivedByStudent]":{type:"boolean",value:!1}}),{immediate:!1}),d=Y([]),h=q(()=>d.value.map(O=>u.results.value.find(M=>M.id===O)).filter(Boolean)),f=Ht(s(D.Context.User.role==="mentor"?{"filter[checkStatus]":{type:"arr",value:["checked-in-deadline","checked-after-deadline","checked-automatically"]},"filter[isArchivedByMentors]":{type:"boolean",value:!1}}:{"filter[checkStatus]":{type:"arr",value:["checked-in-deadline","checked-after-deadline","checked-automatically"]},"filter[isArchivedByStudent]":{type:"boolean",value:!1}}),{immediate:!1}),p=Y([]),v=q(()=>p.value.map(O=>f.results.value.find(M=>M.id===O)).filter(Boolean)),y=Ht(s(D.Context.User.role==="mentor"?{"filter[isArchivedByMentors]":{type:"boolean",value:!0}}:{"filter[isArchivedByStudent]":{type:"boolean",value:!0}}),{immediate:!1}),_=Y([]),w=q(()=>_.value.map(O=>y.results.value.find(M=>M.id===O)).filter(Boolean));async function x(O){e.setLoading(!0);try{for(const M of O)await t.archiveAssignedWork(M.id,{showLoader:!0});e.openSuccessModal("Работы успешно архивированы!"),i.trigger(),y.trigger()}catch(M){e.openErrorModal("Ошибка при архивировании работ",M.message)}finally{e.setLoading(!1)}}async function k(O){try{for(const M of O)await t.unarchiveAssignedWork(M.id,{showLoader:!0});e.openSuccessModal("Работы успешно архивированы!"),i.trigger(),y.trigger()}catch(M){e.openErrorModal("Ошибка при архивировании работ",M.message)}}async function C(O){try{for(const M of O)await t.sendToRevision(M.id,{showLoader:!0});e.openSuccessModal("Работы успешно отправлены на доработку!"),i.trigger()}catch(M){e.openErrorModal("Ошибка при отправке работ на доработку",M.message)}}async function S(O){e.setLoading(!0);try{for(const M of O)await t.deleteAssignedWork(M.id,{showLoader:!0});e.openSuccessModal("Работы успешно удалены!"),i.trigger()}catch(M){e.openErrorModal("Ошибка при удалении работ",M.message)}finally{e.setLoading(!1)}}function A(){switch(n.value){case 0:i.triggerOnce();break;case 1:a.triggerOnce();break;case 2:u.triggerOnce();break;case 3:f.triggerOnce();break;case 4:y.triggerOnce();break}}return ke(n,A),{allSearch:i,allSearchChecklist:o,allSearchSelectedWorks:r,notSolvedSearch:a,notSolvedSearchChecklist:l,notSolvedSearchSelectedWorks:c,notCheckedSearch:u,notCheckedSearchChecklist:d,notCheckedSearchSelectedWorks:h,archivedSearch:y,archivedSearchChecklist:_,archivedSearchSelectedWorks:w,checkedSearch:f,checkedSearchChecklist:p,checkedSearchSelectedWorks:v,archiveWorks:x,unarchiveWorks:k,sendWorksToRevision:C,currentTabIndex:n,deleteWorks:S}});const mA={},gA={xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",width:"7.62cm",height:"5.08cm",version:"1.1",style:{"shape-rendering":"geometricPrecision","text-rendering":"geometricPrecision","image-rendering":"optimizeQuality","fill-rule":"evenodd","clip-rule":"evenodd"},viewBox:"0 0 7620 5080","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:xodm":"http://www.corel.com/coreldraw/odm/2003"},_A=kv('<g id="Слой_x0020_1" data-v-e6998206><metadata id="CorelCorpID_0Corel-Layer" data-v-e6998206></metadata><g id="_1935726440288" data-v-e6998206><rect class="fil0" x="-0.01" width="7620" height="5080" data-v-e6998206></rect><polygon class="fil1" points="4697.51,1590.1 4582.74,1590.1 4594.01,1632.77 4651.2,1646.79 4694.41,1617.6 " data-v-e6998206></polygon><path class="fil1" d="M3798.82 1713.22c520.94,174.87 896.35,667.92 896.35,1248.88 0,727.26 -588.26,1316.82 -1313.91,1316.82 -725.65,0 -1313.91,-589.56 -1313.91,-1316.82 0,-579.82 373.92,-1072.11 893.28,-1247.88l0 -751.62 838.19 0 0 750.62z" data-v-e6998206></path><path class="fil2" d="M7612.27 5066.17l-7604.55 0c-4.27,0 -7.72,3.1 -7.72,6.92 0,3.81 3.45,6.91 7.72,6.91l7604.55 0c4.26,0 7.72,-3.1 7.72,-6.91 0,-3.82 -3.46,-6.92 -7.72,-6.92z" data-v-e6998206></path><path class="fil2" d="M3473.25 35.28c1.22,-4.13 6.03,-6.6 10.73,-5.52 4.7,1.08 7.53,5.33 6.31,9.46 -3.85,13.06 -9.79,29.66 -17.36,46.66 7.98,11.04 14.32,22.95 18.74,35.22 7.07,19.74 9.61,40.31 8.54,60.78 -1.15,22.18 -6.56,44.19 -14.98,64.86 -8.02,19.64 -18.67,38.31 -30.88,56.22 -7.4,10.84 -15.38,21.4 -23.7,31.73 19.93,24.06 29.64,53.7 29.2,82.9 -0.34,22.44 -6.67,44.7 -18.95,64.11 4,6.02 7.13,12.47 9.32,19.11 5.76,17.43 5.08,36.38 -3.32,52.87 -5.3,10.48 -13.56,19.57 -23.65,26.81 2.14,3.11 3.93,6.41 5.35,9.84 4.75,11.42 5.53,24.35 2.44,35.99l-0.09 0.3c-2.86,10.7 -8.35,20.46 -15.24,29.44 -2.82,3.67 -5.89,7.23 -9.11,10.67l-23.51 0c6.51,-6.11 12.76,-12.55 18,-19.37 5.78,-7.54 10.37,-15.63 12.7,-24.31l0.07 -0.31c2.34,-8.81 1.76,-18.57 -1.8,-27.13 -0.94,-2.27 -2.09,-4.45 -3.46,-6.5l-4.35 1.94c-18.54,7.77 -40.18,10.41 -60.66,6.14 -4.36,-0.89 -7.21,-4.5 -6.8,-8.31 0.36,-3.38 1.39,-6.62 2.97,-9.63 3.91,-7.45 11.17,-13.18 19.86,-16.7 8.32,-3.37 18.07,-4.77 27.4,-3.76 6.11,0.66 12.11,2.36 17.49,5.18 2.65,1.38 5.11,2.94 7.38,4.66 8.11,-5.78 14.72,-13.01 18.94,-21.3 6.67,-13.04 7.16,-28.21 2.51,-42.28 -0.95,-2.9 -2.12,-5.74 -3.5,-8.51l-3.46 3.8c-2.83,2.97 -5.84,5.85 -8.96,8.54 -12.71,10.96 -30.84,19.66 -48.73,22.06 -16.19,2.17 -32.32,-0.66 -44.68,-11.17 -3.64,-3.1 -6.52,-6.64 -8.62,-10.39l-0.35 -0.71c-3.92,-7.36 -5.12,-15.63 -3.98,-23.62 1.17,-8.13 4.8,-16.15 10.46,-22.8 3.48,-4.13 7.8,-7.74 12.79,-10.54l0.51 -0.27c11.61,-6.37 25.36,-8.7 39.04,-7.77 14.58,0.99 29.22,5.69 41.19,13.06l0.71 0.48c4.93,3.12 9.45,6.67 13.5,10.57 8.41,-15.58 12.77,-32.94 13.03,-50.45 0.37,-24.32 -7.14,-48.92 -22.55,-69.42l-5.34 6.26c-7.8,9.07 -15.97,18.18 -25.1,26.47 -9.35,8.49 -19.73,16.14 -31.71,22.05 -12.85,6.33 -27.94,10.27 -42.91,10.67 -13.93,0.38 -27.9,-2.28 -40.08,-8.81 -11.85,-6.33 -19.96,-15.51 -24.63,-25.99 -3.82,-8.56 -5.34,-17.98 -4.75,-27.34 0.6,-9.31 3.27,-18.65 7.81,-27.13 6.75,-12.64 17.71,-23.57 32.2,-30.05 21.28,-9.52 45.61,-10.47 68.84,-5.31 24.32,5.41 47.6,17.6 64.9,33.61 7.1,-8.95 13.91,-18.06 20.26,-27.36 11.63,-17.05 21.77,-34.83 29.4,-53.52 7.89,-19.38 12.96,-39.87 14.02,-60.32 0.98,-18.65 -1.34,-37.42 -7.8,-55.44 -2.7,-7.52 -6.21,-14.89 -10.44,-21.95l-6.13 11.39c-11.13,19.66 -24.31,37.46 -38.85,48.26 -17.84,13.27 -40.38,23.43 -63.74,27.43 -21.15,3.63 -43.07,2.25 -62.97,-6.31 -5.54,-2.38 -10.64,-5.26 -15.24,-8.49 -15.83,-11.15 -26.6,-27.02 -31.62,-44.13l-0.17 -0.74c-4.78,-16.86 -4.05,-35 2.86,-51.08 1.91,-4.44 4.31,-8.76 7.17,-12.82 13.13,-18.65 34.2,-31.7 58.05,-38.47 24.5,-6.95 52.13,-7.32 77.16,-0.35 23.68,6.59 44.67,18.89 61.67,34.55 2.76,2.54 5.41,5.18 7.95,7.89 5.39,-13.02 9.7,-25.42 12.7,-35.6zm-30.71 72.9c3.77,-6.65 7.3,-13.56 10.57,-20.48 -4.03,-4.94 -8.45,-9.64 -13.21,-14.03 -15.02,-13.84 -33.47,-24.68 -54.21,-30.45 -21.52,-5.99 -45.34,-5.67 -66.48,0.33 -20.08,5.7 -37.71,16.54 -48.51,31.87 -2.26,3.22 -4.17,6.65 -5.69,10.18 -5.63,13.1 -6.21,27.95 -2.3,41.81l0.23 0.67c4.11,14.02 12.8,26.93 25.46,35.85 3.68,2.58 7.69,4.86 11.96,6.69 16.16,6.95 34.26,8.01 51.89,4.99 20.35,-3.49 40.08,-12.42 55.78,-24.09 12.57,-9.34 24.36,-25.4 34.51,-43.34zm-42.2 236.63l8.19 -9.65 -1.34 -1.29c-15.11,-14.35 -35.76,-25.3 -57.34,-30.1 -19.35,-4.3 -39.4,-3.61 -56.62,4.09 -10.8,4.83 -19.07,13.15 -24.24,22.83 -3.61,6.75 -5.74,14.14 -6.21,21.45 -0.46,7.24 0.67,14.44 3.53,20.84 3.31,7.43 9.03,13.91 17.37,18.37 9.05,4.85 19.67,6.82 30.4,6.53 12.13,-0.33 24.4,-3.54 34.89,-8.71 10.3,-5.08 19.38,-11.8 27.67,-19.33 8.49,-7.71 16.26,-16.38 23.7,-25.03zm12.54 145.57c2.55,-2.68 4.93,-5.47 7.14,-8.36 -4.1,-4.62 -8.92,-8.77 -14.39,-12.22l-0.62 -0.35c-9.49,-5.84 -21.01,-9.56 -32.41,-10.34 -10.12,-0.68 -20.15,0.94 -28.39,5.43l-0.38 0.23c-3.18,1.78 -5.95,4.11 -8.21,6.77 -3.83,4.45 -6.28,9.91 -7.08,15.47 -0.74,5.22 -0.05,10.49 2.34,15.03l0.33 0.54c1.25,2.23 2.93,4.31 5.02,6.09 7.89,6.7 18.69,8.43 29.78,6.95 14.22,-1.91 28.78,-8.94 39.09,-17.84 2.77,-2.38 5.37,-4.87 7.78,-7.4zm-55.64 93.09c13.2,1.04 26.61,-1.21 38.55,-6.06l-0.22 -0.11c-3.22,-1.7 -6.87,-2.72 -10.63,-3.13 -6.13,-0.66 -12.52,0.24 -17.94,2.44 -4.02,1.63 -7.47,3.97 -9.76,6.86z" data-v-e6998206></path><path class="fil2" d="M1253.51 2828.32c0,-53 0.98,-117.57 2.97,-193.65 0.92,-35.91 1.97,-70.67 3.12,-104.27 6.57,-11.62 12.88,-23.14 18.91,-34.57 11.86,-22.46 22.8,-44.74 32.76,-66.8 9.96,-22.09 19.69,-44.46 29.14,-67.08 8.99,-21.52 17.82,-43.42 26.42,-65.66l5.93 0c-0.9,10.41 -1.9,25.02 -2.96,43.78 -1.22,21.47 -2.59,48.74 -4.07,81.75 -1.5,33.12 -2.9,67.73 -4.15,103.75 -1.21,34.96 -2.32,71.32 -3.28,108.99 -0.98,37.9 -1.73,73.03 -2.22,105.32 -0.49,32.79 -0.75,62.29 -0.75,88.44l0 414.46 -37.76 0c-0.81,-1.76 -10.82,-3.54 -29.75,-5.21 -9.38,-0.83 -20.96,-1.64 -34.31,-2.37l0 -406.88zm0.05 1334.76l-0.05 0 0 -0.69 0.05 0.69zm-0.05 -1.69l0 -499.43c8.61,-2.28 13.5,-4.71 14.18,-6.73l87.64 0 0 494.91c-39.83,1.9 -67.13,4.56 -83.24,8.47 -14.43,3.5 -18.37,0.09 -18.58,2.78zm-904.87 -510.1l-0.19 0 0 -0.61 0.19 0.61zm-0.19 -1.36l0 -361.7 928.8 -1594.11 4.5 0 0 13.81 88.64 -0.09 -919.34 1577.87c-0.49,0.69 -0.79,1.56 -0.79,2.52l0 351.2c-42.24,0.01 -64.93,0.72 -79.34,2.45 -16.31,1.97 -22.02,5.26 -22.47,8.05z" data-v-e6998206></path><path class="fil3" d="M1362.84 2740c-0.48,31.91 -0.73,61.35 -0.73,88.32l0 418.4c0,2.17 -1.52,3.94 -3.39,3.94l-111.05 0c-16.1,0.75 -34.52,1.42 -54.72,1.96 -55.72,1.51 -124.99,2.12 -182.51,1.51 -57.53,-0.6 -103.3,-2.41 -130.1,-3.32l-4.52 -0.15 -27.5 0c-0.64,-0.01 -1.3,-0.22 -1.87,-0.66 -0.66,-0.51 -1.13,-1.24 -1.35,-2.06 -1.17,-0.51 -2.03,-1.15 -2.71,-1.95 -3.32,-3.91 -2.11,-11.74 13.25,-40.05 15.36,-28.31 44.87,-77.1 78.91,-137.64 34.03,-60.53 72.58,-132.81 112.64,-202.38 40.05,-69.57 81.61,-136.43 115.34,-189.14 15.22,-23.78 28.84,-44.68 39.36,-59.93l32.34 -56.96c13.8,-22.98 26.64,-45.7 38.5,-68.16 11.86,-22.45 22.73,-44.59 32.56,-66.35 9.89,-21.93 19.58,-44.22 29.04,-66.85 9.3,-22.26 18.36,-44.76 27.11,-67.43 0.45,-1.56 1.72,-2.69 3.21,-2.69l12.24 0.03c1.85,0.23 3.19,2.19 2.99,4.34 -0.98,10.2 -2.09,26.15 -3.32,47.79 -1.23,21.73 -2.6,48.96 -4.07,81.65 -1.51,33.34 -2.91,67.92 -4.15,103.65 -1.22,35.11 -2.33,71.44 -3.28,108.91 -0.99,37.99 -1.74,73.08 -2.22,105.22zm432.1 907.35l251.79 0 0 -248.32c-18.49,-48.89 -34.25,-97.87 -46.53,-145.72l-218.06 9.09 -0.28 -120.08c-1.02,-20.22 -2.22,-68 -4.47,-125.88 -3.63,-93.45 -9.99,-213.21 -10.44,-357.47 -0.46,-144.25 4.99,-313.01 5.9,-456.36 0.9,-143.35 -2.72,-261.29 -2.9,-341.85 -0.19,-80.57 3.06,-123.76 4.88,-145.08l0.74 -8.25 -397.03 0.4 -921.5 1581.57 0 350.03c33.62,0.04 78.83,0.48 140.55,1.15 147.32,1.63 388.72,4.64 517.95,6.65l7.72 0.12 235.46 0c1.87,0 3.39,1.77 3.39,3.94l0 498.55c20.19,-0.88 43.41,-1.6 69.82,-2.18 83.34,-1.83 198.4,-2.44 261.96,-2.14 63.56,0.31 75.6,1.51 81.93,-13.25 6.32,-14.75 6.93,-45.48 9.64,-115.67 1.65,-42.84 4.09,-100.38 6.09,-154.13l0 -211.18c0,-2.17 1.52,-3.94 3.39,-3.94z" data-v-e6998206></path><path class="fil2" d="M1355.33 2828.32c0,-26.15 0.26,-55.65 0.75,-88.44 0.49,-32.29 1.24,-67.42 2.22,-105.32 0.96,-37.67 2.07,-74.03 3.28,-108.99 1.25,-36.02 2.65,-70.63 4.15,-103.75 1.48,-33.01 2.85,-60.28 4.07,-81.75 1.06,-18.76 2.06,-33.37 2.96,-43.78l-5.93 0c-8.6,22.24 -17.43,44.14 -26.42,65.66 -9.45,22.62 -19.18,44.99 -29.14,67.08 -9.96,22.06 -20.9,44.34 -32.76,66.8 -11.85,22.44 -24.75,45.26 -38.64,68.4l-16.18 28.5c0.08,-0.64 0.08,-1.14 -0.01,-1.48 -0.83,-3.14 -9.01,7.06 -21.79,25.6l32.34 -56.96c13.8,-22.98 26.64,-45.7 38.5,-68.16 11.86,-22.45 22.73,-44.59 32.56,-66.35 9.89,-21.93 19.58,-44.22 29.04,-66.85 9.3,-22.26 18.36,-44.76 27.11,-67.43 0.45,-1.56 1.72,-2.69 3.21,-2.69l12.24 0.03c1.85,0.23 3.19,2.19 2.99,4.34 -0.98,10.2 -2.09,26.15 -3.32,47.79 -1.23,21.73 -2.6,48.96 -4.07,81.65 -1.51,33.34 -2.91,67.92 -4.15,103.65 -1.22,35.11 -2.33,71.44 -3.28,108.91 -0.99,37.99 -1.74,73.08 -2.22,105.22 -0.48,31.91 -0.73,61.35 -0.73,88.32l0 418.4c0,2.17 -1.52,3.94 -3.39,3.94l-111.05 0c28.32,-1.33 49.49,-2.93 60.63,-4.66 6.71,-1.04 9.77,-2.13 9.27,-3.22l37.76 0 0 -414.46zm-479.51 422.34l-27.5 0c-0.64,-0.01 -1.3,-0.22 -1.87,-0.66 -0.66,-0.51 -1.13,-1.24 -1.35,-2.06 4.25,1.86 12.55,2.12 30.72,2.72zm1174.3 404.57l-251.79 0 0 44.6c-1.65,-22.17 -3.13,-30.03 -3.53,-27.82 -0.6,3.31 1.2,29.22 -0.3,96.99 -0.59,26.41 -1.68,59.17 -2.95,93.47l0 -211.18c0,-2.17 1.52,-3.94 3.39,-3.94l251.79 0 0 -248.32c2.23,5.88 4.48,11.76 6.78,17.63l0 234.63c0,2.17 -1.52,3.94 -3.39,3.94zm-694.79 494.91l0 -494.91 -87.65 0c0.28,-0.82 -0.12,-1.57 -1.23,-2.22 -4.54,-2.68 -21.01,-3.72 -143.19,-5.66l235.46 0c1.87,0 3.39,1.77 3.39,3.94l0 498.55 -6.78 0.3zm-905.07 -510.71l0 -351.2c0,-0.96 0.3,-1.83 0.79,-2.52l919.33 -1577.87 8.16 -0.01 -921.5 1581.57 0 350.03 -6.78 0z" data-v-e6998206></path><path class="fil4" d="M4594.51 1460.42l310.25 0c19.03,-2.63 76.61,-5.95 314.14,-6.47 143.41,-0.32 352.42,0.39 570.2,1.4l0 0.12c220.72,1.01 447.95,2.28 625.36,3.1 127.76,0.58 286.04,0.97 426.49,1.85l221.01 0c13.47,0 25.69,-5.39 34.63,-14.12 8.91,-8.76 14.41,-20.75 14.41,-33.97l0 -168.66c0,-13.21 -5.5,-25.21 -14.41,-33.95 -8.94,-8.74 -21.16,-14.13 -34.63,-14.14l-1244.93 0 -26.15 0 0 -6.92 -0.05 6.92 -1196.32 0 0 264.84z" data-v-e6998206></path><path class="fil2" d="M5817.03 1195.58l-1222.52 0 0 -13.83 1222.56 0 0 6.91 -0.04 6.92zm-1222.52 264.84l310.25 0c-4.3,0.59 -6.64,1.15 -8.63,1.63 -10.79,2.61 -11.61,2.98 20.76,4.97 32.37,2 97.93,5.62 220.21,6.11 122.27,0.51 301.25,-2.11 518.82,0.01 29.92,0.29 60.57,0.67 91.75,1.12l-1153.16 0 0 -13.84z" data-v-e6998206></path><path class="fil2" d="M3838.36 2084.32c66.97,34.33 129.49,75.95 186.42,123.81 -1.02,0.77 -2.01,1.57 -2.99,2.4 -55.91,-48.69 -117.43,-91.11 -183.43,-126.21zm283.02 216.88c143.61,158.43 235.62,363.22 249.95,588.75l-15.47 -15.47c-0.34,-0.34 -0.7,-0.64 -1.08,-0.89 -16.25,-216.39 -103,-413.15 -237.29,-567.34 1.37,-1.62 2.67,-3.3 3.89,-5.05zm250.43 704.09c-12.42,227.32 -103.73,434 -247.41,593.97 -2.02,-3.47 -4.33,-6.75 -6.91,-9.79 134.3,-154.19 221.02,-350.95 237.27,-567.34 0.4,-0.26 0.77,-0.56 1.1,-0.89l15.95 -15.95zm-341.75 685.9c-157.77,134.52 -359.03,220.85 -580.2,235.72l3.69 -3.69 0.64 -0.74c216.49,-16.21 413.33,-102.96 567.57,-237.31 2.6,2.21 5.38,4.22 8.3,6.02zm-719.76 235.54c-220.66,-15.39 -421.39,-101.92 -578.72,-236.43 2.44,-1.57 4.78,-3.29 6.98,-5.14 154.24,134.36 351.09,221.11 567.59,237.33l0.64 0.73 3.51 3.51zm-673.4 -328.99c-143.49,-160.41 -234.4,-367.54 -246.19,-595.23l14.48 14.49c4.59,65.55 15.64,129.3 32.51,190.66l-0.59 9.06c-7.1,21.88 2.02,29.05 6.53,44.66 3.58,12.39 13.24,23.26 19.76,26.07 41.41,111.74 102.65,213.85 179.46,302.04 -2.18,2.6 -4.18,5.35 -5.96,8.25zm-245.71 -705.01c13.71,-225.96 105.37,-431.23 248.83,-590.11 0.91,1.24 1.86,2.45 2.85,3.62 -135.35,155.4 -222.41,354.06 -237.67,572.47l-14.01 14.02zm345.56 -683.64c36.89,-31.1 76.14,-59.57 117.43,-85.15 -40.7,26.03 -79.35,55.01 -115.63,86.61l-1.8 -1.46z" data-v-e6998206></path><path class="fil5" d="M2446.67 3187.51c-13.78,-53.8 -23.01,-109.41 -27.3,-166.42l68.34 -68.33c1.28,-1.29 2.02,-3.07 2.02,-4.9 0,-1.83 -0.74,-3.6 -2.02,-4.88l-4.9 4.88 -4.89 4.89 0.01 0.01 4.88 -4.9 4.9 -4.88 -68.33 -68.34c16.02,-213.08 101.32,-406.81 233.45,-558.75 11.56,9.12 26.18,14.56 42.02,14.56 18.74,0 35.76,-7.61 48.02,-19.9 12.28,-12.25 19.89,-29.27 19.89,-48.01l-6.92 0 6.92 0c0,-15.85 -5.46,-30.48 -14.58,-42.04 151.96,-132.14 345.71,-217.45 558.8,-233.44l68.3 68.28c1.29,1.29 3.07,2.04 4.89,2.04 1.82,0 3.61,-0.75 4.89,-2.04l68.3 -68.28c213.09,16.01 406.84,101.31 558.8,233.46 -9.03,11.53 -14.42,26.09 -14.42,41.86 0,18.73 7.61,35.75 19.89,48.02 12.27,12.28 29.29,19.89 48.02,19.89 15.77,0 30.32,-5.39 41.85,-14.43 133.11,153.06 218.69,348.48 233.81,563.4l-63.72 63.72c-2.7,2.69 -2.7,7.06 0,9.78l27.82 27.81c-0.77,18.23 -9.8,36.1 -27.15,58.06 -158.69,200.98 -431.19,300.27 -680.38,223l-0.06 -0.02c-60.79,-24.94 -108.02,-60.46 -150.19,-100.18 -32.11,-30.24 -61.24,-62.92 -91.04,-95.05 -22.36,-24.11 -45.11,-47.89 -69.8,-70.04 -151.6,-136.06 -368.94,-150.97 -549.02,-68.05 -99.07,45.64 -173.86,113.89 -223.97,170.72 -33.41,37.9 -55.84,70.73 -67.13,88.5z" data-v-e6998206></path><path class="fil6" d="M4341.3 3016.46c-15.11,214.92 -100.69,410.35 -233.8,563.4 -11.53,-9.04 -26.08,-14.43 -41.85,-14.43 -18.73,0 -35.75,7.61 -48.02,19.9 -12.28,12.26 -19.89,29.27 -19.89,48.01 0,15.77 5.39,30.32 14.43,41.85 -152.99,133.04 -348.29,218.6 -563.08,233.79l-64.03 -64.03c-2.69,-2.7 -7.08,-2.7 -9.78,0l-64.02 64.02c-214.77,-15.18 -410.09,-100.71 -563.07,-233.76 9.12,-11.56 14.57,-26.18 14.57,-42.04 0,-18.72 -7.61,-35.75 -19.89,-48.01 -12.26,-12.29 -29.28,-19.89 -48.02,-19.89l0 6.91 0 -6.91c-15.85,0 -30.48,5.43 -42.04,14.56 -78.77,-90.57 -140.89,-196 -181.6,-311.51 0.04,-4.89 0.17,-10.3 0.81,-15.77 1.97,-16.83 8.91,-34.26 23.06,-61.65 54.59,-105.7 132.41,-170.73 237.06,-226.39 41.26,-21.95 87.6,-38.2 125.32,-48.52 37.72,-10.32 66.82,-14.72 105.34,-15.32 38.52,-0.6 86.46,2.59 126.09,9.3 71.41,12.09 117.14,36.31 173.46,83.46 33.28,27.89 62.91,59.38 92.56,91.52 44.49,48.2 88.96,97.92 145.98,138.6 191.06,136.39 488.92,96.24 683.12,-44.68 57.52,-41.74 123.46,-110.76 152.96,-163.63l1.09 -2.02 3.24 3.24z" data-v-e6998206></path><path class="fil3" d="M3267.19 2508.72c0,12.65 10.24,22.89 22.89,22.89 12.63,0 22.88,-10.24 22.88,-22.89 0,-12.63 -10.25,-22.88 -22.88,-22.88 -12.65,0 -22.89,10.25 -22.89,22.88z" data-v-e6998206></path><path class="fil4" d="M4124.84 1459.74c-53.15,-0.31 -117.7,-0.65 -196.55,-1.17 -250.66,-1.68 -645.64,-5.26 -850.42,-4.62 -159.77,0.5 -203.77,3.56 -219,6.12 -10.91,-1.32 -20.72,-6.34 -28.16,-13.77 -8.75,-8.76 -14.14,-20.75 -14.14,-33.97l0 -168.66c0,-13.21 5.39,-25.21 14.14,-33.95 8.74,-8.74 20.73,-14.13 33.96,-14.14l104.76 0c70.18,1.84 176.64,6.99 304.43,6.22 84.11,-0.49 177.47,-3.55 267.91,-6.22l583.53 0c-0.26,11.14 -0.49,24.13 -0.67,39.58 -0.71,59.8 -0.78,156.35 0.21,224.58z" data-v-e6998206></path><path class="fil6" d="M3260 965.96l-139.89 0c-37.38,-1.93 -76.92,-4.43 -111.6,-4.57 -36.72,-0.15 -67.97,2.33 -95.66,4.57l-69.56 0c-39.24,-0.01 -74.88,-16.04 -100.77,-41.93 -25.89,-25.89 -41.93,-61.53 -41.93,-100.77 0,-25.23 6.62,-48.97 18.24,-69.59l0.2 -0.32c2.5,-4.01 6.42,-10.59 13.05,-17.46 11.77,-12.21 32.05,-25.33 51.28,-32.93 19.23,-7.61 37.41,-9.68 62.03,-11.43 24.61,-1.76 55.65,-3.19 87.08,-3.71 31.42,-0.52 63.23,-0.13 108.74,-0.19 45.5,-0.07 104.72,-0.59 176.14,0.19 71.41,0.78 155.04,2.85 215.29,1.82 60.25,-1.04 97.13,-5.2 151.81,-5.95 54.68,-0.75 127.15,1.9 180.39,1.64 42.9,-0.21 73.31,-2.31 100.82,-4.76l51.4 0c39.24,0 74.87,16.03 100.77,41.92 25.88,25.9 41.92,61.53 41.92,100.77 0,39.24 -16.04,74.88 -41.92,100.77l-0.07 0.07c-11.91,10.11 -28.37,20.04 -44.13,26.27 -19.23,7.61 -37.41,9.68 -62.03,11.43 -24.61,1.76 -55.65,3.19 -87.08,3.71 -31.42,0.52 -63.23,0.13 -108.74,0.19 -45.5,0.07 -104.72,0.59 -176.14,-0.19 -71.41,-0.78 -155.04,-2.85 -215.29,-1.82 -24.48,0.42 -45.1,1.36 -64.35,2.27z" data-v-e6998206></path><path class="fil3" d="M3780.2 1173.1l0 -189.94 -3.19 0.01c-74.5,0.19 -180.79,-1.73 -288.13,-3.38l-508.74 0 0 199.5c55.36,-0.59 133.56,-0.94 246.37,-1.83 156.05,-1.24 378.32,-3.51 553.69,-4.36z" data-v-e6998206></path><polygon class="fil4" points="3448.53,1982.09 3443.76,1986.87 3380.17,1923.28 3321.47,1981.97 3380.17,2040.68 3443.76,1977.08 3448.54,1981.86 " data-v-e6998206></polygon><polygon class="fil5" points="2482.81,2947.86 2477.92,2952.75 2414.33,2889.17 2355.62,2947.86 2414.33,3006.57 2477.93,2942.98 " data-v-e6998206></polygon><path class="fil5" d="M4414.57 2952.75l-0.01 0.01 -63.59 -63.59 -46.91 46.9c5.47,3.96 13.69,12.03 22.04,20.67 10.7,11.08 21.6,23.09 17.34,42.3l7.53 7.53 63.25 -63.24c-1.06,1.22 -1.68,2.8 -1.68,4.53 0,1.91 0.78,3.64 2.03,4.89zm-116.02 -11.17c1.13,4.43 2.96,10.39 4.45,17.01l-10.73 -10.73 6.28 -6.28z" data-v-e6998206></path><polygon class="fil4" points="3445.29,3921.69 3443.76,3923.22 3380.17,3859.63 3321.47,3918.32 3380.17,3977.03 3443.76,3913.44 3444.8,3914.47 3444.8,3914.48 " data-v-e6998206></polygon><path class="fil2" d="M3260 965.96l-139.89 0c-37.38,-1.93 -76.92,-4.43 -111.6,-4.57 -36.72,-0.15 -67.97,2.33 -95.66,4.57l-69.56 0c-39.24,-0.01 -74.88,-16.04 -100.77,-41.93 -25.89,-25.89 -41.93,-61.53 -41.93,-100.77 0,-25.23 6.62,-48.97 18.24,-69.59l0.2 -0.32c2.5,-4.01 6.42,-10.59 13.05,-17.46 11.77,-12.21 32.05,-25.33 51.28,-32.93 19.23,-7.61 37.41,-9.68 62.03,-11.43 24.61,-1.76 55.65,-3.19 87.08,-3.71 31.42,-0.52 63.23,-0.13 108.74,-0.19 45.5,-0.07 104.72,-0.59 176.14,0.19 71.41,0.78 155.04,2.85 215.29,1.82 60.25,-1.04 97.13,-5.2 151.81,-5.95 54.68,-0.75 127.15,1.9 180.39,1.64 42.9,-0.21 73.31,-2.31 100.82,-4.76l51.4 0c39.24,0 74.87,16.03 100.77,41.92 25.88,25.9 41.92,61.53 41.92,100.77 0,39.24 -16.04,74.88 -41.92,100.77l-0.07 0.07c-11.91,10.11 -28.37,20.04 -44.13,26.27 -19.23,7.61 -37.41,9.68 -62.03,11.43 -24.61,1.76 -55.65,3.19 -87.08,3.71 -31.42,0.52 -63.23,0.13 -108.74,0.19 -45.5,0.07 -104.72,0.59 -176.14,-0.19 -71.41,-0.78 -155.04,-2.85 -215.29,-1.82 -24.48,0.42 -45.1,1.36 -64.35,2.27zm-480.93 2316.21l-6.92 0c0,35.99 14.62,68.63 38.21,92.21 23.57,23.59 56.21,38.2 92.2,38.2 35.99,0 68.64,-14.61 92.22,-38.2 23.58,-23.58 38.19,-56.22 38.19,-92.21 0,-35.99 -14.61,-68.64 -38.19,-92.22 -23.58,-23.59 -56.23,-38.2 -92.22,-38.19 -35.99,-0.01 -68.63,14.6 -92.2,38.19 -23.59,23.58 -38.21,56.23 -38.21,92.22l13.84 0c0,-32.21 13.04,-61.31 34.15,-82.43 21.11,-21.1 50.21,-34.14 82.42,-34.14 32.21,0 61.31,13.04 82.43,34.14 21.11,21.12 34.14,50.22 34.14,82.43 0,32.22 -13.03,61.31 -34.14,82.42 -21.12,21.12 -50.22,34.15 -82.43,34.15 -32.21,0 -61.31,-13.03 -82.42,-34.15 -21.11,-21.11 -34.15,-50.2 -34.15,-82.42l-6.92 0zm1001.13 -2299.01l0 189.94 13.84 -0.06 12.35 -0.06 0 -190.02c34.95,-0.42 61.81,-1.45 83.55,-3.17l27.12 0 0 -2.83 0 2.83c43.04,0 82.21,-17.62 110.55,-45.97 28.35,-28.34 45.98,-67.51 45.98,-110.56 0,-43.05 -17.63,-82.21 -45.98,-110.55 -28.34,-28.35 -67.51,-45.98 -110.55,-45.98l-1073.77 0c-43.05,0 -82.22,17.63 -110.55,45.98 -28.35,28.34 -45.98,67.5 -45.98,110.55 0,43.05 17.63,82.22 45.98,110.56 28.33,28.35 67.5,45.97 110.55,45.97l76.48 0 0 200.47c13.17,-0.33 28.53,-0.6 46.54,-0.82l13.83 -0.15 0 -199.5 508.74 0c107.34,1.65 213.63,3.57 288.13,3.38l3.19 -0.01zm26.19 499.11l0 157.12 5.36 1.95c28.27,10.31 73.51,26.93 110.43,45.56 36.91,18.63 65.52,39.24 107.43,62.87 41.9,23.61 97.12,50.21 159.31,87.47 62.2,37.24 131.38,85.14 189.25,148.34 57.87,63.19 104.44,141.68 153.66,220.51 49.23,78.82 101.11,157.99 140.36,253.78 39.25,95.78 65.85,208.2 82.48,316.63 2.03,13.22 3.91,26.38 5.64,39.46l-167.55 287.57c9.36,-50.39 16.48,-100.33 21.08,-148.75l30.43 0c3.82,0 6.92,-3.1 6.92,-6.92 0,-3.82 -3.1,-6.92 -6.92,-6.92l-29.18 0c3.16,-36.84 4.83,-72.76 4.88,-107.24 0.08,-57.45 -4.34,-110.95 -12.33,-161.14 -38.14,-170.17 -110.86,-327.24 -210.38,-463.58 -37.51,-51.38 -78.82,-99.82 -123.53,-144.89l5.19 -5.19c2.7,-2.7 2.7,-7.09 0,-9.78 -2.71,-2.7 -7.09,-2.7 -9.78,0l-5.2 5.2c-133.86,-132.08 -297.17,-234.44 -479.04,-296.41l-4.67 -1.61 -0.03 -274.44 26.19 0.41zm784.35 2150.9c-48.66,89.81 -101.03,161.79 -153.7,223.6 -27.52,32.29 -131.87,135.67 -176.61,171.97 -193.43,156.91 -453.98,262.62 -743.85,287.28 -285.52,24.3 -600.24,-30.4 -816.96,-143.6 -74.49,-38.9 -149,-90.8 -214.19,-143.68 -65.19,-52.89 -121.06,-106.78 -176.61,-171.97 -127.25,-149.32 -253.29,-387.85 -308.62,-603.46l51.35 -2.14 -0.78 -19.92 -55.46 2.31c-13.25,-55.68 -21.57,-109.58 -23.74,-159.72 -3.67,-84.47 2.98,-188.92 19.62,-297.34 16.63,-108.43 43.23,-220.85 82.48,-316.63 39.25,-95.79 91.15,-174.96 140.36,-253.78 84.96,-136.05 154.48,-204.98 218.9,-262.64 70.35,-62.97 137.56,-111.55 283.32,-193.68 41.9,-23.61 70.52,-44.24 107.43,-62.87 31.17,-15.73 68.28,-30.03 96.09,-40.3l0 -172.34 60.38 0 0 163.91c0.37,1.6 0.43,3.49 0,5.72l0 111.1 -4.71 1.59c-182.31,61.92 -345.84,164.52 -479.77,297l-4.46 -4.46c-2.7,-2.7 -7.08,-2.7 -9.78,0 -2.7,2.69 -2.7,7.08 0,9.78l4.47 4.47c-44.52,45.01 -85.68,93.35 -123.04,144.64 -266.72,366.14 -296.16,722.14 -182.86,1117.33 260.56,829.39 1279.12,1204.08 2012.64,582.74 166.36,-156.36 222.66,-251.86 304.83,-465.72l0 187.79 68.18 0c1.12,0.67 2.83,1.25 4.98,1.69 4.47,0.91 10.85,1.18 20.11,1.33zm-1323.55 -1124.45l-6.92 0c0,8.22 3.35,15.7 8.73,21.07 5.37,5.39 12.86,8.74 21.08,8.74 8.2,0 15.69,-3.35 21.07,-8.74 5.38,-5.37 8.73,-12.85 8.73,-21.07 0,-8.21 -3.35,-15.69 -8.73,-21.07 -5.38,-5.39 -12.87,-8.73 -21.07,-8.73 -8.22,0 -15.71,3.34 -21.08,8.73 -5.38,5.38 -8.73,12.86 -8.73,21.07l13.84 0c0,-4.43 1.77,-8.37 4.67,-11.29 2.91,-2.89 6.86,-4.67 11.3,-4.68 4.42,0.01 8.37,1.79 11.28,4.68 2.9,2.92 4.67,6.86 4.68,11.29 -0.01,4.44 -1.78,8.38 -4.68,11.29 -2.91,2.91 -6.86,4.68 -11.28,4.68 -4.44,0 -8.39,-1.77 -11.3,-4.68 -2.9,-2.91 -4.67,-6.85 -4.67,-11.29l-6.92 0zm411.52 407.11l-6.91 0c0,45.4 18.43,86.57 48.17,116.32 29.75,29.75 70.93,48.18 116.33,48.18 45.41,0 86.57,-18.43 116.31,-48.18 29.77,-29.75 48.19,-70.92 48.19,-116.32 0,-45.4 -18.42,-86.58 -48.19,-116.32 -29.74,-29.76 -70.9,-48.18 -116.31,-48.18 -45.4,0 -86.58,18.42 -116.33,48.18 -29.74,29.74 -48.17,70.92 -48.17,116.32l13.83 0c0.01,-41.62 16.85,-79.26 44.14,-106.54 27.28,-27.28 64.91,-44.13 106.53,-44.13 41.63,0 79.25,16.85 106.53,44.13 27.28,27.28 44.13,64.92 44.13,106.54 0,41.61 -16.85,79.25 -44.13,106.54 -27.28,27.27 -64.9,44.12 -106.53,44.12 -41.62,0 -79.25,-16.85 -106.53,-44.12 -27.29,-27.29 -44.13,-64.93 -44.14,-106.54l-6.92 0zm67.34 -68.05l-6.92 0c-0.01,12.04 4.89,22.98 12.77,30.85 7.89,7.89 18.84,12.79 30.88,12.79 12.02,0 22.98,-4.9 30.85,-12.79 7.89,-7.87 12.79,-18.81 12.79,-30.85 0,-12.02 -4.9,-22.98 -12.79,-30.85 -7.87,-7.89 -18.83,-12.79 -30.85,-12.79 -12.04,0 -22.99,4.9 -30.88,12.79 -7.88,7.87 -12.78,18.83 -12.77,30.85l13.84 0c0,-8.25 3.32,-15.66 8.72,-21.07 5.42,-5.41 12.82,-8.74 21.09,-8.74 8.24,0 15.64,3.33 21.07,8.74 5.39,5.41 8.72,12.82 8.73,21.07 -0.01,8.26 -3.34,15.66 -8.73,21.07 -5.43,5.41 -12.83,8.73 -21.07,8.73 -8.27,0 -15.67,-3.32 -21.09,-8.73 -5.4,-5.41 -8.72,-12.81 -8.72,-21.07l-6.92 0zm-904.2 377.65l-6.92 0c-0.01,9.58 3.89,18.29 10.17,24.56 6.25,6.27 14.98,10.17 24.55,10.17 9.57,0 18.29,-3.9 24.55,-10.17 6.28,-6.27 10.18,-14.98 10.18,-24.56 0,-9.56 -3.9,-18.29 -10.18,-24.56 -6.26,-6.27 -14.98,-10.17 -24.55,-10.17 -9.57,0 -18.3,3.9 -24.55,10.17 -6.28,6.27 -10.18,15 -10.17,24.56l13.84 0c0,-5.78 2.32,-10.97 6.11,-14.76 3.81,-3.79 8.98,-6.12 14.77,-6.13 5.79,0.01 10.97,2.34 14.77,6.13 3.8,3.79 6.12,8.98 6.12,14.76 0,5.79 -2.32,10.97 -6.12,14.78 -3.8,3.79 -8.98,6.11 -14.77,6.11 -5.79,0 -10.96,-2.32 -14.77,-6.11 -3.79,-3.81 -6.11,-8.99 -6.11,-14.78l-6.92 0zm376.03 -672.96l-6.92 0c-0.01,31.88 12.94,60.79 33.83,81.68 20.88,20.89 49.81,33.84 81.69,33.84 31.88,0 60.8,-12.95 81.69,-33.84 20.89,-20.89 33.83,-49.8 33.83,-81.68 0,-31.88 -12.94,-60.81 -33.83,-81.69 -20.89,-20.9 -49.81,-33.84 -81.69,-33.84 -31.88,0 -60.81,12.94 -81.69,33.84 -20.89,20.88 -33.84,49.81 -33.83,81.69l13.84 0c0,-28.1 11.36,-53.49 29.77,-71.91 18.43,-18.41 43.81,-29.77 71.91,-29.79 28.1,0.02 53.48,11.38 71.89,29.79 18.42,18.42 29.79,43.81 29.79,71.91 0,28.1 -11.37,53.48 -29.79,71.9 -18.41,18.41 -43.79,29.79 -71.89,29.79 -28.1,0 -53.48,-11.38 -71.91,-29.79 -18.41,-18.42 -29.77,-43.8 -29.77,-71.9l-6.92 0z" data-v-e6998206></path><path class="fil2" d="M2419.37 2874.63c16.01,-213.08 101.32,-406.81 233.45,-558.74 -2.1,-1.66 -4.11,-3.45 -6,-5.34 -1.38,-1.38 -2.7,-2.82 -3.96,-4.31 -135.36,155.41 -222.4,354.06 -237.66,572.47l4.23 -4.23c2.72,-2.7 7.09,-2.7 9.79,0l0.15 0.15z" data-v-e6998206></path><path class="fil2" d="M2652.81 3579.83c-78.77,-90.56 -140.88,-195.98 -181.6,-311.49 -0.1,10.14 0.09,18.04 -3.53,19.56 -1.11,0.47 -2.59,0.28 -4.28,-0.45 41.41,111.74 102.65,213.85 179.46,302.04 1.26,-1.5 2.58,-2.95 3.96,-4.33 1.89,-1.89 3.89,-3.68 5.99,-5.33zm-206.14 -392.32c-13.77,-53.8 -23.02,-109.41 -27.31,-166.41l-0.14 0.14c-1.29,1.28 -3.08,2.03 -4.89,2.03 -1.82,0 -3.61,-0.75 -4.9,-2.03l-4.24 -4.24c4.59,65.55 15.64,129.3 32.51,190.66l0.4 -6.04c0.06,-0.1 2.92,-5.23 8.57,-14.11z" data-v-e6998206></path><path class="fil2" d="M3311.26 3908.97c-214.77,-15.18 -410.09,-100.71 -563.07,-233.76 -1.65,2.1 -3.43,4.1 -5.32,5.99 -1.38,1.38 -2.82,2.7 -4.31,3.96 154.24,134.36 351.09,221.11 567.59,237.33 -2.04,-2.7 -1.83,-6.58 0.64,-9.05l4.47 -4.47z" data-v-e6998206></path><path class="fil2" d="M4012.17 3675.19c-152.99,133.04 -348.29,218.6 -563.08,233.79l4.46 4.46 -4.9 4.88 -3.85 -3.84 0.49 7.21 3.36 -3.37 -3.85 -3.84 3.85 3.84 4.9 -4.88c2.47,2.47 2.68,6.34 0.64,9.04 216.49,-16.21 413.33,-102.96 567.57,-237.31 -1.44,-1.21 -2.81,-2.48 -4.13,-3.81 -1.94,-1.94 -3.77,-4.01 -5.46,-6.17z" data-v-e6998206></path><path class="fil2" d="M4341.3 3016.46c-15.11,214.92 -100.69,410.35 -233.8,563.4 2.17,1.7 4.23,3.53 6.17,5.47 1.33,1.33 2.6,2.71 3.82,4.14 134.3,-154.19 221.02,-350.95 237.27,-567.34 -1.11,0.73 -2.44,1.14 -3.79,1.14 -1.82,0 -3.6,-0.75 -4.89,-2.03l-4.78 -4.78z" data-v-e6998206></path><path class="fil2" d="M4107.5 2315.86c133.11,153.06 218.69,348.48 233.81,563.4l4.77 -4.78c2.36,-2.36 6.01,-2.67 8.7,-0.89 -16.25,-216.39 -103,-413.15 -237.29,-567.34 -1.22,1.44 -2.49,2.82 -3.82,4.15 -1.94,1.94 -4.01,3.77 -6.17,5.46z" data-v-e6998206></path><path class="fil2" d="M3453.36 1987.06c213.09,16.01 406.84,101.31 558.8,233.46 1.7,-2.17 3.53,-4.23 5.47,-6.17 1.33,-1.33 2.71,-2.59 4.15,-3.81 -155.41,-135.33 -354.05,-222.39 -572.44,-237.67l4.21 4.21 -4.9 4.89 -0.11 -0.11 -0.01 0.23 0.12 -0.12 -0.11 -0.11 0.11 0.11 4.9 -4.89c1.29,1.29 2.02,3.07 2.02,4.89 0,1.83 -0.73,3.61 -2.02,4.9l-0.19 0.19z" data-v-e6998206></path><path class="fil2" d="M2748.18 2220.5c151.96,-132.14 345.71,-217.45 558.8,-233.44l-0.19 -0.19c-1.29,-1.29 -2.02,-3.07 -2.02,-4.9 0,-1.82 0.73,-3.6 2.02,-4.89l4.19 -4.18c-218.39,15.27 -417.04,102.29 -572.43,237.65 1.5,1.26 2.94,2.59 4.32,3.97 1.89,1.88 3.65,3.88 5.31,5.98z" data-v-e6998206></path><path class="fil2" d="M3387.08 1473.17l0 1.09 62.61 0c-21.26,-0.43 -42.18,-0.8 -62.61,-1.09zm-528.21 -13.1c-10.91,-1.32 -20.72,-6.34 -28.16,-13.77 -8.75,-8.76 -14.14,-20.75 -14.14,-33.97l0 -168.66c0,-13.21 5.39,-25.21 14.14,-33.95 8.74,-8.74 20.73,-14.13 33.96,-14.14l104.76 0 -3.68 -0.09c-70.12,-1.75 -102.42,0.08 -117.89,-2.12 -15.47,-2.21 -14.11,-8.45 31.48,-11.46l2.51 -0.16 -17.18 0c-17.04,0 -32.56,6.98 -43.74,18.18 -11.21,11.19 -18.2,26.71 -18.2,43.74l0 168.66c0,17.04 6.99,32.55 18.2,43.75 11.18,11.19 26.7,18.18 43.74,18.18l508.58 0 0 -1.28c-147.61,-1.83 -269.17,0.65 -352.9,0.15 -85.99,-0.49 -132.09,-4.11 -154.85,-6.11 -22.76,-1.99 -22.19,-2.36 -14.6,-4.97 1.67,-0.57 3.68,-1.26 7.97,-1.98zm682.9 -264.49l583.53 0 0.27 -9.81 -1.34 0.14c-19.22,2 -58.17,5.62 -130.8,6.11 -72.62,0.51 -178.93,-2.11 -308.16,0.01 -45.63,0.75 -94.14,2.09 -143.5,3.55z" data-v-e6998206></path><path class="fil2" d="M3262.35 2993.43c33.28,27.89 62.91,59.38 92.56,91.52 44.49,48.2 88.96,97.92 145.98,138.6 191.06,136.39 488.92,96.24 683.12,-44.68 57.52,-41.74 123.46,-110.76 152.96,-163.63l1.09 -2.02 -32.65 -32.65c-0.77,18.23 -9.8,36.1 -27.15,58.06 -158.69,200.98 -431.19,300.27 -680.38,223l-0.06 -0.02c-60.79,-24.94 -108.02,-60.46 -150.19,-100.18 -32.11,-30.24 -61.24,-62.92 -91.04,-95.05 -22.36,-24.11 -45.11,-47.89 -69.8,-70.04 -151.6,-136.06 -368.94,-150.97 -549.02,-68.05 -99.07,45.64 -173.86,113.89 -223.97,170.72 -50.1,56.84 -75.52,102.3 -75.7,102.61l-0.99 15.1c-7.1,21.88 2.02,29.05 6.53,44.66 4.51,15.61 18.67,28.79 24.04,26.52 5.37,-2.26 2.37,-18.51 4.34,-35.35 1.97,-16.83 8.91,-34.26 23.06,-61.65 54.59,-105.7 132.41,-170.73 237.06,-226.39 41.26,-21.95 87.6,-38.2 125.32,-48.52 37.72,-10.32 66.82,-14.72 105.34,-15.32 38.52,-0.6 86.46,2.59 126.09,9.3 71.41,12.09 117.14,36.31 173.46,83.46zm1081.09 5.61c4.26,-19.21 -6.63,-31.22 -17.34,-42.3 -8.35,-8.64 -16.57,-16.71 -22.04,-20.67l-5.51 5.51c1.13,4.44 2.96,10.39 4.45,17.01l40.44 40.45z" data-v-e6998206></path><path class="fil2" d="M2317.93 4706l0 -24.92c0,-8.6 -3.1,-15.57 -6.92,-15.57 -3.82,0 -6.92,6.97 -6.92,15.57l0 24.92c0,1.28 0.07,2.53 0.2,3.73 3.05,-0.23 6.13,-0.36 9.24,-0.36l0.89 0 3.34 0.05c0.11,-1.1 0.17,-2.24 0.17,-3.42zm0 -87.22l0 -24.92c0,-8.6 -3.1,-15.58 -6.92,-15.58 -3.82,0 -6.92,6.98 -6.92,15.58l0 24.92c0,8.63 3.1,15.58 6.92,15.58 3.82,0 6.92,-6.95 6.92,-15.58zm0 -87.23l0 -24.92c0,-8.6 -3.1,-15.57 -6.92,-15.57 -3.82,0 -6.92,6.97 -6.92,15.57l0 24.92c0,8.63 3.1,15.58 6.92,15.58 3.82,0 6.92,-6.95 6.92,-15.58zm0 -87.22l0 -24.92c0,-8.61 -3.1,-15.58 -6.92,-15.58 -3.82,0 -6.92,6.97 -6.92,15.58l0 24.92c0,8.62 3.1,15.57 6.92,15.57 3.82,0 6.92,-6.95 6.92,-15.57zm0 -87.23l0 -24.92c0,-8.6 -3.1,-15.57 -6.92,-15.57 -3.82,0 -6.92,6.97 -6.92,15.57l0 24.92c0,8.63 3.1,15.58 6.92,15.58 3.82,0 6.92,-6.95 6.92,-15.58zm0 -87.22l0 -24.92c0,-8.6 -3.1,-15.58 -6.92,-15.58 -3.82,0 -6.92,6.98 -6.92,15.58l0 24.92c0,8.62 3.1,15.57 6.92,15.57 3.82,0 6.92,-6.95 6.92,-15.57zm0 -87.23l0 -24.92c0,-8.6 -3.1,-15.58 -6.92,-15.58 -3.82,0 -6.92,6.98 -6.92,15.58l0 24.92c0,8.63 3.1,15.58 6.92,15.58 3.82,0 6.92,-6.95 6.92,-15.58zm0 -87.22l0 -24.92c0,-8.6 -3.1,-15.58 -6.92,-15.58 -3.82,0 -6.92,6.98 -6.92,15.58l0 24.92c0,8.62 3.1,15.57 6.92,15.57 3.82,0 6.92,-6.95 6.92,-15.57zm0 -87.23l0 -24.92c0,-8.6 -3.1,-15.58 -6.92,-15.58 -3.82,0 -6.92,6.98 -6.92,15.58l0 24.92c0,8.62 3.1,15.58 6.92,15.58 3.82,0 6.92,-6.96 6.92,-15.58zm0 -87.22l0 -24.93c0,-8.59 -3.1,-15.57 -6.92,-15.57 -3.82,0 -6.92,6.98 -6.92,15.57l0 24.93c0,8.62 3.1,15.57 6.92,15.57 3.82,0 6.92,-6.95 6.92,-15.57z" data-v-e6998206></path><path class="fil2" d="M2839.19 4706l0 -24.92c0,-8.6 -3.1,-15.57 -6.92,-15.57 -3.82,0 -6.92,6.97 -6.92,15.57l0 24.92c0,1.16 0.06,2.3 0.16,3.38l0.88 -0.01 0.89 0c3.94,0 7.84,0.2 11.69,0.57 0.14,-1.26 0.22,-2.58 0.22,-3.94zm0 -87.22l0 -24.92c0,-8.6 -3.1,-15.58 -6.92,-15.58 -3.82,0 -6.92,6.98 -6.92,15.58l0 24.92c0,8.63 3.1,15.58 6.92,15.58 3.82,0 6.92,-6.95 6.92,-15.58zm0 -87.23l0 -24.92c0,-8.6 -3.1,-15.57 -6.92,-15.57 -3.82,0 -6.92,6.97 -6.92,15.57l0 24.92c0,8.63 3.1,15.58 6.92,15.58 3.82,0 6.92,-6.95 6.92,-15.58zm0 -87.22l0 -24.92c0,-8.61 -3.1,-15.58 -6.92,-15.58 -3.82,0 -6.92,6.97 -6.92,15.58l0 24.92c0,8.62 3.1,15.57 6.92,15.57 3.82,0 6.92,-6.95 6.92,-15.57zm0 -87.23l0 -24.92c0,-8.6 -3.1,-15.57 -6.92,-15.57 -3.82,0 -6.92,6.97 -6.92,15.57l0 24.92c0,8.63 3.1,15.58 6.92,15.58 3.82,0 6.92,-6.95 6.92,-15.58zm0 -87.22l0 -24.92c0,-8.6 -3.1,-15.58 -6.92,-15.58 -3.82,0 -6.92,6.98 -6.92,15.58l0 24.92c0,8.62 3.1,15.57 6.92,15.57 3.82,0 6.92,-6.95 6.92,-15.57z" data-v-e6998206></path><path class="fil2" d="M3388.73 4706l0 -24.92c0,-8.6 -3.1,-15.57 -6.92,-15.57 -3.82,0 -6.92,6.97 -6.92,15.57l0 24.92c0,1.17 0.07,2.3 0.17,3.4l2.49 -0.03 0.89 0c3.39,0 6.77,0.14 10.09,0.42 0.14,-1.21 0.2,-2.48 0.2,-3.79zm0 -87.22l0 -24.92c0,-8.6 -3.1,-15.58 -6.92,-15.58 -3.82,0 -6.92,6.98 -6.92,15.58l0 24.92c0,8.63 3.1,15.58 6.92,15.58 3.82,0 6.92,-6.95 6.92,-15.58zm0 -87.23l0 -24.92c0,-8.6 -3.1,-15.57 -6.92,-15.57 -3.82,0 -6.92,6.97 -6.92,15.57l0 24.92c0,8.63 3.1,15.58 6.92,15.58 3.82,0 6.92,-6.95 6.92,-15.58zm0 -87.22l0 -24.92c0,-8.61 -3.1,-15.58 -6.92,-15.58 -3.82,0 -6.92,6.97 -6.92,15.58l0 24.92c0,8.62 3.1,15.57 6.92,15.57 3.82,0 6.92,-6.95 6.92,-15.57zm0 -87.23l0 -24.92c0,-8.6 -3.1,-15.57 -6.92,-15.57 -3.82,0 -6.92,6.97 -6.92,15.57l0 24.92c0,8.63 3.1,15.58 6.92,15.58 3.82,0 6.92,-6.95 6.92,-15.58zm0 -87.22l0 -24.92c0,-8.6 -3.1,-15.58 -6.92,-15.58 -3.82,0 -6.92,6.98 -6.92,15.58l0 24.92c0,8.62 3.1,15.57 6.92,15.57 3.82,0 6.92,-6.95 6.92,-15.57z" data-v-e6998206></path><path class="fil2" d="M3821.15 4706l0 -24.92c0,-8.6 -3.1,-15.57 -6.92,-15.57 -3.82,0 -6.92,6.97 -6.92,15.57l0 24.92c0,1.17 0.06,2.31 0.17,3.4l2.78 -0.03 0.89 0c3.3,0 6.57,0.13 9.8,0.4 0.13,-1.21 0.2,-2.47 0.2,-3.77zm0 -87.22l0 -24.92c0,-8.6 -3.1,-15.58 -6.92,-15.58 -3.82,0 -6.92,6.98 -6.92,15.58l0 24.92c0,8.63 3.1,15.58 6.92,15.58 3.82,0 6.92,-6.95 6.92,-15.58zm0 -87.23l0 -24.92c0,-8.6 -3.1,-15.57 -6.92,-15.57 -3.82,0 -6.92,6.97 -6.92,15.57l0 24.92c0,8.63 3.1,15.58 6.92,15.58 3.82,0 6.92,-6.95 6.92,-15.58zm0 -87.22l0 -24.92c0,-8.61 -3.1,-15.58 -6.92,-15.58 -3.82,0 -6.92,6.97 -6.92,15.58l0 24.92c0,8.62 3.1,15.57 6.92,15.57 3.82,0 6.92,-6.95 6.92,-15.57zm0 -87.23l0 -24.92c0,-8.6 -3.1,-15.57 -6.92,-15.57 -3.82,0 -6.92,6.97 -6.92,15.57l0 24.92c0,8.63 3.1,15.58 6.92,15.58 3.82,0 6.92,-6.95 6.92,-15.58zm0 -87.22l0 -24.92c0,-8.6 -3.1,-15.58 -6.92,-15.58 -3.82,0 -6.92,6.98 -6.92,15.58l0 24.92c0,8.62 3.1,15.57 6.92,15.57 3.82,0 6.92,-6.95 6.92,-15.57z" data-v-e6998206></path><path class="fil2" d="M4323.77 4706l0 -24.92c0,-8.6 -3.1,-15.57 -6.92,-15.57 -3.82,0 -6.92,6.97 -6.92,15.57l0 24.92c0,1.16 0.06,2.3 0.16,3.38l1.08 -0.01 0.89 0c3.87,0 7.71,0.18 11.49,0.55 0.14,-1.25 0.22,-2.57 0.22,-3.92zm0 -87.22l0 -24.92c0,-8.6 -3.1,-15.58 -6.92,-15.58 -3.82,0 -6.92,6.98 -6.92,15.58l0 24.92c0,8.63 3.1,15.58 6.92,15.58 3.82,0 6.92,-6.95 6.92,-15.58zm0 -87.23l0 -24.92c0,-8.6 -3.1,-15.57 -6.92,-15.57 -3.82,0 -6.92,6.97 -6.92,15.57l0 24.92c0,8.63 3.1,15.58 6.92,15.58 3.82,0 6.92,-6.95 6.92,-15.58zm0 -87.22l0 -24.92c0,-8.61 -3.1,-15.58 -6.92,-15.58 -3.82,0 -6.92,6.97 -6.92,15.58l0 24.92c0,8.62 3.1,15.57 6.92,15.57 3.82,0 6.92,-6.95 6.92,-15.57zm0 -87.23l0 -24.92c0,-8.6 -3.1,-15.57 -6.92,-15.57 -3.82,0 -6.92,6.97 -6.92,15.57l0 24.92c0,8.63 3.1,15.58 6.92,15.58 3.82,0 6.92,-6.95 6.92,-15.58zm0 -87.22l0 -24.92c0,-8.6 -3.1,-15.58 -6.92,-15.58 -3.82,0 -6.92,6.98 -6.92,15.58l0 24.92c0,8.62 3.1,15.57 6.92,15.57 3.82,0 6.92,-6.95 6.92,-15.57zm0 -87.23l0 -24.92c0,-8.6 -3.1,-15.58 -6.92,-15.58 -3.82,0 -6.92,6.98 -6.92,15.58l0 24.92c0,8.63 3.1,15.58 6.92,15.58 3.82,0 6.92,-6.95 6.92,-15.58zm0 -87.22l0 -24.92c0,-8.6 -3.1,-15.58 -6.92,-15.58 -3.82,0 -6.92,6.98 -6.92,15.58l0 24.92c0,8.62 3.1,15.57 6.92,15.57 3.82,0 6.92,-6.95 6.92,-15.57zm0 -87.23l0 -24.92c0,-8.6 -3.1,-15.58 -6.92,-15.58 -3.82,0 -6.92,6.98 -6.92,15.58l0 24.92c0,8.62 3.1,15.58 6.92,15.58 3.82,0 6.92,-6.96 6.92,-15.58zm0 -87.22l0 -24.93c0,-8.59 -3.1,-15.57 -6.92,-15.57 -3.82,0 -6.92,6.98 -6.92,15.57l0 24.93c0,8.62 3.1,15.57 6.92,15.57 3.82,0 6.92,-6.95 6.92,-15.57z" data-v-e6998206></path><path class="fil2" d="M5817.07 1195.58l1245.86 0c13.21,0.01 25.18,5.4 33.95,14.14 8.73,8.74 14.12,20.74 14.12,33.95l0 168.66c0,13.22 -5.39,25.21 -14.12,33.97 -8.77,8.73 -20.74,14.12 -33.95,14.12l-216.62 0c79.84,0.51 131.07,1.21 166.46,2.6 55.6,2.18 72.12,6.05 67.11,8.86 10.25,-2.94 19.44,-8.47 26.78,-15.8 11.21,-11.2 18.17,-26.71 18.17,-43.75l0 -168.66c0,-17.03 -6.96,-32.55 -18.17,-43.74 -11.21,-11.2 -26.71,-18.18 -43.73,-18.18l-140.33 0 0 1.37 -6.92 0 -6.91 0 -448.18 0 -6.92 0 -6.92 0 0 -1.37 -629.68 0 0 13.83z" data-v-e6998206></path><path class="fil2" d="M4644.27 2940.94l-221.95 0 2.04 2.04 -4.91 4.88 -4.89 -4.88 -0.11 0.11 -0.11 0.12c-1.12,1.23 -1.8,2.85 -1.8,4.65 0,1.91 0.77,3.64 2.03,4.89l4.88 -4.89 -4.89 -4.88 4.89 4.88 4.91 -4.88c1.28,1.28 2.01,3.05 2.01,4.88 0,1.83 -0.73,3.61 -2.01,4.9l-2.02 2.02 221.93 0c3.82,0 6.92,-3.1 6.92,-6.92 0,-3.82 -3.1,-6.92 -6.92,-6.92z" data-v-e6998206></path><path class="fil2" d="M2343 2940.94l-226.93 0c-3.82,0 -6.91,3.1 -6.91,6.92 0,3.82 3.09,6.92 6.91,6.92l226.91 0 -2.02 -2.02c-2.71,-2.72 -2.71,-7.09 0,-9.78l2.04 -2.04z" data-v-e6998206></path><path class="fil2" d="M4278.92 3836.81l-160.6 -160.59c-1.47,1.79 -3.02,3.51 -4.65,5.14 -1.63,1.63 -3.35,3.18 -5.14,4.65l160.61 160.6c2.69,2.7 7.07,2.7 9.78,0 2.7,-2.71 2.7,-7.08 0,-9.8z" data-v-e6998206></path><path class="fil2" d="M2651.98 2209.87l-160.77 -160.75c-2.7,-2.7 -7.08,-2.7 -9.78,0 -2.7,2.69 -2.7,7.08 0,9.78l160.75 160.76c1.46,-1.79 3.01,-3.51 4.64,-5.14 1.64,-1.64 3.36,-3.19 5.16,-4.65z" data-v-e6998206></path><path class="fil2" d="M3373.25 1472.98l0 437.19 0.01 0.44 2.02 -2.01c2.7,-2.7 7.09,-2.7 9.78,0l2.01 2.01 0.01 -0.44 0 -437 -1.9 -0.03 -11.93 -0.16z" data-v-e6998206></path><path class="fil2" d="M3373.25 3989.67l0 219.04c0,3.82 3.1,6.92 6.92,6.92 3.83,0 6.91,-3.1 6.91,-6.92l0 -219.03 -2.02 2.02c-1.28,1.29 -3.07,2.03 -4.89,2.03 -1.82,0 -3.6,-0.74 -4.89,-2.03l-2.03 -2.03z" data-v-e6998206></path><path class="fil2" d="M3448.65 1981.97l-4.89 -4.89 -63.59 63.6 -58.7 -58.71 58.7 -58.69 63.59 63.59 4.89 -4.9 -4.89 -4.89 4.89 4.89 4.9 -4.89 -68.49 -68.48c-2.69,-2.7 -7.08,-2.7 -9.78,0l-68.49 68.48c-1.29,1.29 -2.02,3.07 -2.02,4.89 0,1.83 0.73,3.61 2.02,4.9l68.49 68.47c1.29,1.29 3.07,2.04 4.89,2.04 1.82,0 3.61,-0.75 4.89,-2.04l68.49 -68.47c1.29,-1.29 2.02,-3.07 2.02,-4.9 0,-1.82 -0.73,-3.6 -2.02,-4.89l-4.9 4.89z" data-v-e6998206></path><path class="fil2" d="M3448.65 3918.32l-4.89 -4.88 -63.59 63.59 -58.7 -58.71 58.7 -58.69 63.59 63.59 4.89 -4.9 -4.89 -4.88 4.89 4.88 4.9 -4.88 -68.49 -68.49c-2.69,-2.7 -7.08,-2.7 -9.78,0l-68.49 68.49c-2.7,2.7 -2.7,7.09 0,9.78l68.49 68.48c1.29,1.29 3.07,2.03 4.89,2.03 1.82,0 3.61,-0.74 4.89,-2.03l68.49 -68.48c2.7,-2.69 2.7,-7.08 0,-9.78l-4.9 4.88z" data-v-e6998206></path><path class="fil2" d="M2482.81 2947.86l-4.88 -4.88 -63.6 63.59 -58.71 -58.71 58.71 -58.69 63.6 63.59 4.88 -4.9 -4.88 -4.88 4.88 4.88 4.9 -4.88 -68.49 -68.5c-2.7,-2.7 -7.07,-2.7 -9.79,0l-68.47 68.5c-2.71,2.69 -2.71,7.06 0,9.78l68.47 68.48c1.29,1.28 3.08,2.03 4.9,2.03 1.81,0 3.6,-0.75 4.89,-2.03l68.49 -68.48c1.28,-1.29 2.02,-3.07 2.02,-4.9 0,-1.83 -0.74,-3.6 -2.02,-4.88l-4.9 4.88z" data-v-e6998206></path><path class="fil2" d="M4419.45 2947.86l-4.89 -4.88 -63.59 63.59 -58.7 -58.71 58.7 -58.69 63.59 63.59 4.89 -4.9 -4.89 -4.88 4.89 4.88 4.91 -4.88 -68.5 -68.5c-2.7,-2.7 -7.08,-2.7 -9.78,0l-68.49 68.5c-2.7,2.69 -2.7,7.06 0,9.78l68.49 68.48c1.29,1.28 3.07,2.03 4.89,2.03 1.82,0 3.61,-0.75 4.89,-2.03l68.5 -68.48c1.28,-1.29 2.01,-3.07 2.01,-4.9 0,-1.83 -0.73,-3.6 -2.01,-4.88l-4.91 4.88z" data-v-e6998206></path><path class="fil2" d="M2755.84 2262.54l-6.92 0c0,14.96 -6.03,28.44 -15.83,38.23 -9.8,9.8 -23.28,15.84 -38.24,15.84 -14.95,0 -28.43,-6.04 -38.23,-15.84 -9.8,-9.79 -15.84,-23.27 -15.84,-38.23 0,-14.95 6.04,-28.43 15.84,-38.24 9.8,-9.8 23.28,-15.83 38.23,-15.83 14.96,0 28.44,6.03 38.24,15.83 9.8,9.81 15.83,23.29 15.83,38.24l13.84 0c0,-18.73 -7.61,-35.75 -19.89,-48.02 -12.26,-12.27 -29.28,-19.89 -48.02,-19.89 -18.73,0 -35.75,7.62 -48.03,19.89 -12.27,12.27 -19.88,29.29 -19.88,48.02 0,18.74 7.61,35.76 19.88,48.01 12.28,12.29 29.3,19.9 48.03,19.9 18.74,0 35.76,-7.61 48.02,-19.9 12.28,-12.25 19.89,-29.27 19.89,-48.01l-6.92 0z" data-v-e6998206></path><path class="fil2" d="M2720.46 2262.54l-6.92 0c0,5.19 -2.07,9.82 -5.48,13.22 -3.4,3.39 -8.02,5.48 -13.21,5.48 -5.19,0 -9.81,-2.09 -13.21,-5.48 -3.39,-3.4 -5.48,-8.03 -5.48,-13.22 0,-5.19 2.09,-9.81 5.48,-13.21 3.4,-3.4 8.02,-5.48 13.21,-5.48 5.19,0 9.81,2.08 13.21,5.48 3.41,3.4 5.48,8.02 5.48,13.21l13.84 0c0,-8.96 -3.65,-17.14 -9.53,-22.99 -5.86,-5.88 -14.04,-9.53 -23,-9.53 -8.97,0 -17.13,3.65 -23,9.53 -5.87,5.85 -9.53,14.03 -9.53,22.99 0,8.97 3.66,17.13 9.53,23 5.87,5.88 14.03,9.53 23,9.53 8.96,0 17.14,-3.65 23,-9.53 5.88,-5.87 9.53,-14.03 9.53,-23l-6.92 0z" data-v-e6998206></path><path class="fil2" d="M4126.65 3633.34l-6.92 0c-0.01,14.96 -6.04,28.43 -15.84,38.24 -9.81,9.8 -23.28,15.83 -38.24,15.83 -14.94,0 -28.43,-6.03 -38.23,-15.83 -9.8,-9.81 -15.83,-23.28 -15.85,-38.24 0.02,-14.96 6.05,-28.42 15.85,-38.23 9.8,-9.8 23.29,-15.84 38.23,-15.84 14.96,0 28.43,6.04 38.24,15.84 9.8,9.81 15.83,23.27 15.84,38.23l13.84 0c0,-18.74 -7.62,-35.75 -19.9,-48.01 -12.27,-12.29 -29.29,-19.9 -48.02,-19.9 -18.73,0 -35.75,7.61 -48.02,19.9 -12.28,12.26 -19.89,29.27 -19.89,48.01 0,18.73 7.61,35.75 19.89,48.02 12.27,12.28 29.29,19.9 48.02,19.89 18.73,0.01 35.75,-7.61 48.02,-19.89 12.28,-12.27 19.9,-29.29 19.9,-48.02l-6.92 0z" data-v-e6998206></path><path class="fil2" d="M4091.26 3633.34l-6.92 0c0,5.19 -2.08,9.81 -5.47,13.21 -3.4,3.41 -8.04,5.48 -13.22,5.48 -5.18,0 -9.81,-2.07 -13.22,-5.48 -3.39,-3.4 -5.46,-8.02 -5.46,-13.21 0,-5.18 2.07,-9.81 5.46,-13.22 3.41,-3.39 8.04,-5.46 13.22,-5.47 5.18,0.01 9.82,2.08 13.22,5.47 3.39,3.41 5.47,8.04 5.47,13.22l13.84 0c0.01,-8.95 -3.66,-17.13 -9.53,-23 -5.86,-5.88 -14.04,-9.53 -23,-9.53 -8.95,0 -17.13,3.65 -23,9.53 -5.88,5.87 -9.53,14.05 -9.52,23 -0.01,8.96 3.64,17.14 9.52,23.01 5.87,5.86 14.05,9.52 23,9.52 8.96,0 17.14,-3.66 23,-9.52 5.87,-5.87 9.54,-14.05 9.53,-23.01l-6.92 0z" data-v-e6998206></path><path class="fil2" d="M4269.14 2049.12l-160.6 160.6c1.79,1.46 3.5,3 5.13,4.63 1.64,1.63 3.19,3.35 4.65,5.15l160.6 -160.6c2.7,-2.7 2.7,-7.09 0,-9.78 -2.71,-2.7 -7.09,-2.7 -9.78,0z" data-v-e6998206></path><path class="fil2" d="M2642.19 3676.07l-160.76 160.74c-2.7,2.72 -2.7,7.09 0,9.8 2.7,2.7 7.08,2.7 9.78,0l160.76 -160.76c-1.79,-1.46 -3.51,-3.02 -5.15,-4.65 -1.63,-1.63 -3.17,-3.34 -4.63,-5.13z" data-v-e6998206></path><path class="fil2" d="M2694.85 3572.18l0 6.92c14.96,0 28.44,6.05 38.24,15.84 9.8,9.81 15.83,23.29 15.83,38.23 0,14.96 -6.03,28.44 -15.83,38.25 -9.8,9.79 -23.28,15.82 -38.24,15.84 -14.95,-0.02 -28.43,-6.05 -38.23,-15.84 -9.8,-9.81 -15.84,-23.29 -15.84,-38.25 0,-14.94 6.04,-28.42 15.84,-38.23 9.8,-9.79 23.28,-15.84 38.23,-15.84l0 -13.83c-18.73,0 -35.75,7.6 -48.03,19.89 -12.27,12.26 -19.88,29.29 -19.88,48.01 0,18.74 7.61,35.76 19.88,48.03 12.28,12.27 29.3,19.89 48.03,19.88 18.74,0.01 35.76,-7.61 48.02,-19.88 12.28,-12.27 19.89,-29.29 19.89,-48.03 0,-18.72 -7.61,-35.75 -19.89,-48.01 -12.26,-12.29 -29.28,-19.89 -48.02,-19.89l0 6.91z" data-v-e6998206></path><path class="fil2" d="M2694.85 3607.56l0 6.92c5.19,0.01 9.81,2.09 13.21,5.48 3.41,3.4 5.48,8.04 5.48,13.21 0,5.19 -2.07,9.83 -5.48,13.23 -3.4,3.39 -8.02,5.47 -13.21,5.47 -5.19,0 -9.81,-2.08 -13.21,-5.47 -3.39,-3.4 -5.48,-8.04 -5.48,-13.23 0,-5.17 2.09,-9.81 5.48,-13.21 3.4,-3.39 8.02,-5.47 13.21,-5.48l0 -13.84c-8.97,0 -17.13,3.66 -23,9.54 -5.87,5.86 -9.53,14.04 -9.53,22.99 0,8.97 3.66,17.15 9.53,23.01 5.87,5.87 14.03,9.53 23,9.52 8.96,0.01 17.14,-3.65 23,-9.52 5.88,-5.86 9.53,-14.04 9.53,-23.01 0,-8.95 -3.65,-17.13 -9.53,-22.99 -5.86,-5.88 -14.04,-9.54 -23,-9.54l0 6.92z" data-v-e6998206></path><path class="fil2" d="M4065.65 2201.38l0 6.92c14.96,0 28.43,6.05 38.24,15.85 9.8,9.79 15.83,23.27 15.84,38.23 -0.01,14.95 -6.04,28.43 -15.84,38.24 -9.81,9.8 -23.28,15.83 -38.24,15.83 -14.94,0 -28.43,-6.03 -38.23,-15.83 -9.8,-9.81 -15.83,-23.29 -15.85,-38.24 0.02,-14.96 6.05,-28.44 15.85,-38.23 9.8,-9.8 23.29,-15.85 38.23,-15.85l0 -13.83c-18.73,0 -35.75,7.61 -48.02,19.88 -12.28,12.27 -19.89,29.29 -19.89,48.03 0,18.73 7.61,35.75 19.89,48.02 12.27,12.28 29.29,19.89 48.02,19.89 18.73,0 35.75,-7.61 48.02,-19.89 12.28,-12.27 19.9,-29.29 19.9,-48.02 0,-18.74 -7.62,-35.76 -19.9,-48.03 -12.27,-12.27 -29.29,-19.88 -48.02,-19.88l0 6.91z" data-v-e6998206></path><path class="fil2" d="M4065.65 2236.77l0 6.91c5.18,0 9.82,2.1 13.22,5.49 3.39,3.4 5.47,8.02 5.47,13.21 0,5.19 -2.08,9.81 -5.47,13.21 -3.4,3.4 -8.04,5.48 -13.22,5.48 -5.18,0 -9.81,-2.08 -13.22,-5.48 -3.39,-3.4 -5.46,-8.02 -5.46,-13.21 0,-5.19 2.07,-9.81 5.46,-13.21 3.41,-3.39 8.04,-5.49 13.22,-5.49l0 -13.83c-8.95,0 -17.13,3.65 -23,9.53 -5.88,5.87 -9.53,14.03 -9.52,23 -0.01,8.97 3.64,17.14 9.52,22.99 5.87,5.88 14.05,9.54 23,9.54 8.96,0 17.14,-3.66 23,-9.54 5.87,-5.85 9.54,-14.02 9.53,-22.99 0.01,-8.97 -3.66,-17.13 -9.53,-23 -5.86,-5.88 -14.04,-9.53 -23,-9.53l0 6.92z" data-v-e6998206></path><path class="fil7" d="M2850.9 1462.05c-7.59,2.61 -8.16,2.98 14.6,4.97 22.76,2 68.86,5.62 154.85,6.11 85.98,0.51 211.83,-2.11 364.83,0.01 152.99,2.12 333.11,9.01 487.06,9.77 95.99,0.49 181.8,-1.41 252.93,-3.32l-0.33 -19.85c-53.15,-0.31 -117.71,-0.64 -196.55,-1.17 -250.66,-1.68 -645.64,-5.26 -850.42,-4.62 -204.79,0.64 -219.38,5.49 -226.97,8.1z" data-v-e6998206></path><path class="fil3" d="M4644.28 1646.79l-21.69 0c-0.75,-1.47 -3.57,-3.95 -7.22,-6.92l1.86 0c8.05,4.41 17.27,6.92 27.05,6.92zm-397.92 -221.87c-4.64,1.42 -9.57,-1.19 -10.99,-5.83 -1.42,-4.64 1.19,-9.57 5.83,-10.99 8.52,-2.61 17.08,-5.24 25.82,-6.78 9.25,-1.64 18.71,-2.11 28.56,-0.24 7.84,1.49 15.49,4.39 23.18,7.29 9.8,3.71 19.75,7.48 28.71,7.5 9.31,0.01 19.57,-4.05 29.77,-8.09l0.65 -0.23c6.89,-2.72 13.81,-5.44 21.12,-7.19 9.95,-2.38 19.74,-2.75 29.4,-2.13 9.27,0.6 18.52,2.14 27.74,3.67 4.79,0.77 8.04,5.3 7.27,10.09 -0.77,4.79 -5.3,8.04 -10.09,7.27 -8.69,-1.44 -17.4,-2.9 -26.02,-3.45 -8.22,-0.53 -16.35,-0.26 -24.24,1.63 -5.95,1.43 -12.33,3.93 -18.69,6.45l-0.66 0.29c-11.69,4.63 -23.44,9.29 -36.25,9.27 -12.22,-0.03 -23.67,-4.36 -34.91,-8.62 -6.95,-2.62 -13.87,-5.25 -20.22,-6.45 -7.45,-1.42 -14.88,-1.01 -22.28,0.3 -7.89,1.39 -15.81,3.82 -23.7,6.24zm-40.53 -111.05c-4.71,1.14 -9.47,-1.76 -10.61,-6.47 -1.14,-4.71 1.76,-9.47 6.47,-10.61 10.57,-2.58 21.17,-5.18 31.87,-6.69 11.2,-1.59 22.61,-2.05 34.37,-0.27 9.47,1.43 18.9,4.29 28.4,7.15 12.64,3.81 25.46,7.69 37.33,7.71 12.4,0.01 25.59,-4.16 38.71,-8.31 8.77,-2.77 17.54,-5.55 26.74,-7.31 11.95,-2.28 23.85,-2.63 35.7,-2.02 11.46,0.59 22.93,2.12 34.36,3.63 4.81,0.62 8.2,5.05 7.58,9.86 -0.62,4.81 -5.05,8.2 -9.86,7.58 -11.01,-1.46 -22.05,-2.93 -32.98,-3.49 -10.56,-0.54 -21.09,-0.25 -31.5,1.74 -7.97,1.53 -16.36,4.19 -24.74,6.83 -14.33,4.53 -28.71,9.09 -44.01,9.07 -14.66,-0.03 -28.65,-4.25 -42.4,-8.41 -8.85,-2.68 -17.63,-5.33 -25.95,-6.59 -9.92,-1.5 -19.69,-1.09 -29.33,0.27 -10.11,1.42 -20.14,3.88 -30.15,6.33zm23.87 -92.19c-4.71,1.14 -9.47,-1.76 -10.61,-6.47 -1.14,-4.71 1.76,-9.47 6.47,-10.61 10.57,-2.58 21.17,-5.18 31.87,-6.69 11.2,-1.59 22.61,-2.05 34.37,-0.27 9.47,1.43 18.9,4.29 28.4,7.15 12.64,3.81 25.46,7.69 37.33,7.71 12.4,0.01 25.59,-4.16 38.71,-8.31 8.77,-2.77 17.54,-5.55 26.74,-7.31 11.95,-2.28 23.85,-2.63 35.7,-2.02 11.46,0.59 22.93,2.12 34.36,3.63 4.81,0.62 8.2,5.05 7.58,9.86 -0.62,4.81 -5.05,8.2 -9.86,7.58 -11.01,-1.46 -22.05,-2.93 -32.98,-3.49 -10.56,-0.54 -21.09,-0.25 -31.5,1.74 -7.97,1.53 -16.36,4.19 -24.74,6.83 -14.33,4.53 -28.71,9.09 -44.01,9.07 -14.66,-0.03 -28.65,-4.25 -42.4,-8.41 -8.85,-2.68 -17.63,-5.33 -25.95,-6.59 -9.92,-1.5 -19.69,-1.09 -29.33,0.27 -10.11,1.42 -20.14,3.88 -30.15,6.33zm-44.21 417.29c-1.25,-1.81 -4.79,-4.73 -9.03,-8.14 -7.12,-5.74 -16.22,-12.87 -21.17,-28.69 -4.94,-15.83 -5.74,-40.36 -5.35,-89.02 0.4,-48.67 1.99,-121.48 3.37,-182.41 1.39,-60.93 2.57,-110 2.57,-151.14 0,-41.15 -1.18,-74.39 -1.78,-95.16 -0.4,-13.93 -0.54,-22.25 -1.47,-27.42l428.05 0 0 0.48c-2.2,1.49 -4.48,4.86 -6.38,10.94 -4.15,13.25 -6.53,39.37 -8.51,62.91 -1.97,23.54 -3.56,44.51 -4.35,111.18 -0.79,66.67 -0.79,179.04 0.59,246.9 1.39,67.85 4.16,91.2 6.14,105.25 1.98,14.04 3.16,18.78 6.52,24.72 3.37,5.93 8.91,13.06 18.6,18.8 0.99,0.58 2.01,1.15 3.07,1.7l-401.45 0c-3.22,0 -6.37,-0.31 -9.42,-0.9z" data-v-e6998206></path><path class="fil2" d="M4644.28 1639.87l-28.91 0c5.97,4.87 9.73,8.39 5.81,8.39 -0.88,0 -2.14,-0.17 -3.67,-0.5 8.15,3.81 17.22,5.94 26.77,5.94 17.49,0 33.43,-7.18 44.93,-18.68 11.5,-11.5 18.68,-27.43 18.68,-44.92 0,-1.83 -0.75,-3.61 -2.03,-4.9 -1.29,-1.29 -3.08,-2.02 -4.89,-2.02l-71.33 0c-3.82,0 -6.92,3.1 -6.92,6.92 0,3.82 3.1,6.92 6.92,6.92l71.33 0 0 -6.92 -6.92 0c0,13.68 -5.59,26.08 -14.62,35.14 -9.05,9.04 -21.47,14.63 -35.15,14.63 -13.68,0 -26.09,-5.59 -35.14,-14.63 -9.05,-9.06 -14.63,-21.46 -14.63,-35.14l0 -540.03c0,-1.82 -0.73,-3.6 -2.03,-4.89 -1.29,-1.29 -3.06,-2.03 -4.89,-2.03l-449.37 0c-1.83,0 -3.6,0.74 -4.89,2.03 -1.3,1.29 -2.03,3.07 -2.03,4.89l0 48.55c-0.86,8.32 -1.62,17 -2.32,25.36 -1.25,14.98 -2.35,28.93 -3.19,54.29 6.56,0.98 8.92,1.92 10.77,2.67 6.26,2.55 6.87,2.96 -11.01,4.83 -0.38,13.16 -0.68,29.17 -0.92,49.39 -0.79,66.67 -0.79,179.04 0.59,246.9 1.38,67.14 4.1,90.7 6.08,104.8l0 3.24c0,17.49 7.16,33.42 18.68,44.92 11.5,11.5 27.43,18.68 44.93,18.68l449.37 0c3.82,0 6.92,-3.1 6.92,-6.91 0,-3.82 -3.1,-6.92 -6.92,-6.92zm-458.79 -0.9c-1.25,-1.81 -4.79,-4.73 -9.03,-8.14 -7.12,-5.74 -16.22,-12.87 -21.17,-28.69 -4.94,-15.83 -5.74,-40.36 -5.35,-89.02 0.4,-48.67 1.99,-121.48 3.37,-182.41 1.39,-60.93 2.57,-110 2.57,-151.14 0,-41.15 -1.18,-74.39 -1.78,-95.16 -0.4,-13.93 -0.54,-22.25 -1.47,-27.42l428.05 0 0 0.48c-2.2,1.49 -4.48,4.86 -6.38,10.94 -4.15,13.25 -6.53,39.37 -8.51,62.91 -1.97,23.54 -3.56,44.51 -4.35,111.18 -0.79,66.67 -0.79,179.04 0.59,246.9 1.39,67.85 4.16,91.2 6.14,105.25 1.98,14.04 3.16,18.78 6.52,24.72 3.37,5.93 8.91,13.06 18.6,18.8 0.99,0.58 2.01,1.15 3.07,1.7l-401.45 0c-3.22,0 -6.37,-0.31 -9.42,-0.9z" data-v-e6998206></path><path class="fil5" d="M6908.77 4672.37l0 -486.57c-2.72,-157.23 -5.91,-354.04 -6.22,-577.3 -0.46,-320.14 4.99,-694.66 5.9,-1012.79 0.9,-318.14 -2.72,-579.88 -2.9,-758.66 -0.14,-131.31 1.58,-217.89 3.22,-273.35l0 -87.6c-12.87,0.12 -26.67,0.28 -41.48,0.5 -97.27,1.44 -237.78,5.32 -406.7,6.21l0 25.67c0.51,11.96 0.96,26.02 1.34,42.42 2.48,107.95 1.58,316.77 1.22,796.38l138.99 0c8.01,0 15.26,3.8 20.51,9.87 5.24,6.06 8.48,14.52 8.48,23.77l0 1160.64c0,9.25 -3.24,17.7 -8.48,23.77 -5.25,6.07 -12.5,9.88 -20.51,9.88l-139.6 0c-0.27,230.18 -0.74,441.47 -1.58,598.78l-0.37 61.82 0 436.56 448.18 0z" data-v-e6998206></path><path class="fil3" d="M6462.72 3382.88l108.71 0c3.82,0 6.92,-3.59 6.92,-8.02 0,-4.43 -3.1,-8.03 -6.92,-8.03l-108.69 0 0.06 -103.8 108.63 0c3.82,0 6.92,-3.6 6.92,-8.03 0,-4.45 -3.1,-8.03 -6.92,-8.03l-108.62 0 0.05 -103.81 108.57 0c3.82,0 6.92,-3.6 6.92,-8.03 0,-4.44 -3.1,-8.03 -6.92,-8.03l-108.56 0 0.04 -103.82 108.52 0c3.82,0 6.92,-3.59 6.92,-8.03 0,-4.43 -3.1,-8.03 -6.92,-8.03l-108.52 0 0.03 -103.81 108.49 0c3.82,0 6.92,-3.58 6.92,-8.03 0,-4.43 -3.1,-8.03 -6.92,-8.03l-108.49 0 0.03 -103.8 108.46 0c3.82,0 6.92,-3.59 6.92,-8.03 0,-4.43 -3.1,-8.02 -6.92,-8.02l-108.45 0 0.02 -103.82 108.43 0c3.82,0 6.92,-3.6 6.92,-8.03 0,-4.43 -3.1,-8.03 -6.92,-8.03l-108.42 0 0.1 -242.06 0.03 -42.22 139 0c4.15,0 7.92,1.96 10.68,5.17 2.82,3.23 4.49,7.58 4.49,12.41l0 1160.64c0,4.83 -1.67,9.19 -4.49,12.42 -2.76,3.21 -6.53,5.17 -10.68,5.17l-139.58 0 0.16 -176.27z" data-v-e6998206></path><path class="fil2" d="M6460.59 4672.37l0 -436.56c-2.4,367.04 -7.01,395.22 -9.54,410.22 -2.38,14.07 -2.93,16.56 -4.3,-16.49l0 42.83 13.84 0zm0 -3163.89l0 -25.67 -1.38 0c0.49,7.17 0.95,15.68 1.38,25.67zm-13.84 -25.61l0 333.03 0.79 -52.17c2.23,-159.58 1.09,-239.6 2.76,-280.88l-3.55 0.02z" data-v-e6998206></path><path class="fil2" d="M6922.6 4672.37l0 -13.6c-0.53,5.85 -1.06,10.34 -1.61,13.6l1.61 0zm0 -2999.58l0 -196.81 -8.99 0.07c0.45,1.55 0.98,4.65 1.67,8.71 1.88,11.12 4.9,29.49 7.32,188.03zm-13.83 -196.69l0 87.6c0.59,-20.06 1.18,-36.05 1.66,-48.62 0.92,-24.1 1.47,-35.61 2.14,-39.02l-3.8 0.04zm0 2709.7l0 486.57 7.66 0c-0.56,-3.72 -1.05,-8.83 -1.43,-15.05 -2.35,-38.1 -0.82,-117.62 -3.23,-290.26 -0.73,-52.24 -1.82,-113.03 -3,-181.26z" data-v-e6998206></path><path class="fil5" d="M6908.77 1183.12l-448.18 0 0 -461.95c0,-33.46 11.9,-63.84 31.12,-85.93 19.23,-22.08 45.67,-35.74 74.81,-35.74l236.29 0c29.13,0 55.6,13.66 74.82,35.74 19.22,22.09 31.14,52.47 31.14,85.93l0 461.95z" data-v-e6998206></path><path class="fil2" d="M6460.59 1183.12l0 -461.95c0,-33.46 11.9,-63.84 31.12,-85.93 19.23,-22.08 45.67,-35.74 74.81,-35.74l236.29 0c29.13,0 55.6,13.66 74.82,35.74 19.22,22.09 31.14,52.47 31.14,85.93l0 461.95 13.83 0 0 -461.95c0,-37.84 -13.5,-72.27 -35.2,-97.17 -21.65,-24.91 -51.64,-40.4 -84.59,-40.4l-236.29 0c-32.95,0 -62.91,15.49 -84.6,40.4 -21.68,24.9 -35.17,59.33 -35.17,97.17l0 461.95 13.84 0z" data-v-e6998206></path><path class="fil2" d="M6758.89 935.25l0 -7.94 -148.45 0c-14.55,-0.01 -27.75,-6.83 -37.34,-17.87 -9.63,-11.05 -15.59,-26.22 -15.59,-42.93l0 -83.04c0,-16.72 5.96,-31.88 15.59,-42.94 9.59,-11.04 22.79,-17.86 37.34,-17.86l148.45 0c14.54,0 27.75,6.82 37.38,17.86 9.59,11.06 15.55,26.22 15.55,42.94l0 83.04c0,16.71 -5.96,31.88 -15.55,42.93 -9.63,11.04 -22.84,17.86 -37.38,17.87l0 15.89c18.36,0 35.1,-8.65 47.16,-22.52 12.07,-13.87 19.6,-33.08 19.6,-54.17l0 -83.04c0,-21.1 -7.53,-40.31 -19.6,-54.18 -12.06,-13.87 -28.8,-22.52 -47.16,-22.52l-148.45 0c-18.36,0 -35.1,8.65 -47.16,22.52 -12.07,13.87 -19.6,33.08 -19.6,54.18l0 83.04c0,21.09 7.53,40.3 19.6,54.17 12.06,13.87 28.8,22.52 47.16,22.52l148.45 0 0 -7.95z" data-v-e6998206></path><path class="fil2" d="M6463.14 2363.34l139 0c4.15,0 7.92,1.96 10.68,5.17 2.82,3.23 4.49,7.58 4.49,12.41l0 1160.64c0,4.83 -1.67,9.19 -4.49,12.42 -2.76,3.21 -6.53,5.17 -10.68,5.17l-139.58 0 -0.02 16.06 139.6 0c8.01,0 15.26,-3.81 20.51,-9.88 5.24,-6.07 8.48,-14.52 8.48,-23.77l0 -1160.64c0,-9.25 -3.24,-17.71 -8.48,-23.77 -5.25,-6.07 -12.5,-9.87 -20.51,-9.87l-138.99 0 -0.01 16.06z" data-v-e6998206></path><path class="fil2" d="M6462.94 2903.41l108.49 0c3.82,0 6.92,-3.58 6.92,-8.03 0,-4.43 -3.1,-8.03 -6.92,-8.03l-108.49 0 0 16.06z" data-v-e6998206></path><path class="fil2" d="M6462.97 2783.55l108.46 0c3.82,0 6.92,-3.59 6.92,-8.03 0,-4.43 -3.1,-8.02 -6.92,-8.02l-108.45 0 -0.01 16.05z" data-v-e6998206></path><path class="fil2" d="M6463 2663.68l108.43 0c3.82,0 6.92,-3.6 6.92,-8.03 0,-4.43 -3.1,-8.03 -6.92,-8.03l-108.42 0 -0.01 16.06z" data-v-e6998206></path><path class="fil2" d="M6462.86 3143.16l108.57 0c3.82,0 6.92,-3.6 6.92,-8.03 0,-4.44 -3.1,-8.03 -6.92,-8.03l-108.56 0 -0.01 16.06z" data-v-e6998206></path><path class="fil2" d="M6462.91 3023.28l108.52 0c3.82,0 6.92,-3.59 6.92,-8.03 0,-4.43 -3.1,-8.03 -6.92,-8.03l-108.52 0 0 16.06z" data-v-e6998206></path><path class="fil2" d="M6462.72 3382.88l108.71 0c3.82,0 6.92,-3.59 6.92,-8.02 0,-4.43 -3.1,-8.03 -6.92,-8.03l-108.69 0 -0.02 16.05z" data-v-e6998206></path><path class="fil2" d="M6462.8 3263.03l108.63 0c3.82,0 6.92,-3.6 6.92,-8.03 0,-4.45 -3.1,-8.03 -6.92,-8.03l-108.62 0 -0.01 16.06z" data-v-e6998206></path><path class="fil4" d="M5397.89 5066.17l0 -148.33c0,-63.7 26.04,-121.56 68.05,-163.58 42.02,-42.01 99.89,-68.05 163.59,-68.05l1452.68 0c63.71,0 121.55,26.04 163.56,68.05 42.01,42.02 68.05,99.88 68.05,163.58l0 148.33 -1915.93 0z" data-v-e6998206></path><path class="fil2" d="M5397.89 5066.17l0 -148.33c0,-63.7 26.04,-121.56 68.05,-163.58 42.02,-42.01 99.89,-68.05 163.59,-68.05l1452.68 0c63.71,0 121.55,26.04 163.56,68.05 42.01,42.02 68.05,99.88 68.05,163.58l0 148.33 13.88 0 0 -148.33c0,-67.5 -27.66,-128.91 -72.11,-173.37 -44.49,-44.47 -105.86,-72.1 -173.38,-72.1l-161.22 0c-1.63,9.71 -3.28,8.53 -4.56,0l-1286.9 0c-67.51,0 -128.92,27.63 -173.37,72.1 -44.47,44.46 -72.1,105.87 -72.1,173.37l0 148.33 13.83 0z" data-v-e6998206></path><path class="fil2" d="M4558.64 3859.23l-6.92 0c0,10.63 -4.29,20.2 -11.25,27.18 -6.98,6.97 -16.55,11.24 -27.19,11.26 -10.63,-0.02 -20.2,-4.29 -27.17,-11.26 -6.96,-6.98 -11.25,-16.55 -11.27,-27.18 0.02,-10.64 4.31,-20.2 11.27,-27.18 6.97,-6.97 16.54,-11.25 27.17,-11.25 10.64,0 20.21,4.28 27.19,11.25 6.96,6.98 11.25,16.54 11.25,27.18l13.83 0c0.02,-14.42 -5.85,-27.53 -15.3,-36.97 -9.43,-9.45 -22.55,-15.32 -36.97,-15.3 -14.4,-0.02 -27.52,5.85 -36.96,15.3 -9.45,9.44 -15.31,22.55 -15.3,36.97 -0.01,14.41 5.85,27.52 15.3,36.96 9.44,9.45 22.56,15.32 36.96,15.32 14.42,0 27.54,-5.87 36.97,-15.32 9.45,-9.44 15.32,-22.55 15.3,-36.96l-6.91 0z" data-v-e6998206></path><path class="fil3" d="M3276.35 5066.17l0 -235.67c0,-27.83 11.34,-53.08 29.73,-71.47 18.39,-18.38 43.64,-29.73 71.47,-29.75l0.89 0c27.82,0.02 53.08,11.37 71.48,29.75 18.35,18.39 29.72,43.64 29.72,71.47l0 235.67 -203.29 0z" data-v-e6998206></path><path class="fil5" d="M3820.65 5066.17l0 -173.08c0,-5.51 -4.43,-9.95 -9.95,-9.95 -5.5,0 -9.96,4.44 -9.96,9.95l0 173.08 -91.67 0 0 -235.67c0,-27.83 11.34,-53.08 29.72,-71.47 18.39,-18.38 43.64,-29.73 71.47,-29.75l0.89 0c27.84,0.02 53.08,11.37 71.48,29.75 18.36,18.39 29.73,43.64 29.73,71.47l0 235.67 -91.71 0z" data-v-e6998206></path><path class="fil6" d="M4209.96 5066.17l0 -235.67c0,-27.83 11.36,-53.08 29.74,-71.47 18.39,-18.38 43.64,-29.73 71.47,-29.75l0.89 0c27.82,0.02 53.08,11.37 71.46,29.75 18.37,18.39 29.74,43.64 29.74,71.47l0 235.67 -203.3 0z" data-v-e6998206></path><path class="fil4" d="M2836.77 5066.17l0 -173.08c0,-5.51 -4.46,-9.95 -9.95,-9.95 -5.5,0 -9.95,4.44 -9.95,9.95l0 173.08 -91.71 0 0 -235.67c0.02,-27.83 11.37,-53.08 29.75,-71.47 18.39,-18.38 43.64,-29.73 71.48,-29.75l0.89 0c27.81,0.02 53.08,11.37 71.45,29.75 18.38,18.39 29.74,43.64 29.74,71.47l0 235.67 -91.7 0z" data-v-e6998206></path><path class="fil3" d="M2212.34 5066.17l0 -235.67c0,-27.83 11.34,-53.08 29.72,-71.47 18.39,-18.38 43.64,-29.73 71.47,-29.75l0.89 0c27.84,0.02 53.08,11.37 71.48,29.75 18.38,18.39 29.72,43.64 29.72,71.47l0 235.67 -203.28 0z" data-v-e6998206></path><path class="fil2" d="M3276.35 5066.17l0 -235.67c0,-27.83 11.34,-53.08 29.73,-71.47 18.39,-18.38 43.64,-29.73 71.47,-29.75l0.89 0c27.82,0.02 53.08,11.37 71.48,29.75 18.35,18.39 29.72,43.64 29.72,71.47l0 235.67 19.91 0 0 -235.67c0,-33.33 -13.64,-63.65 -35.56,-85.55 -21.92,-21.92 -52.24,-35.58 -85.55,-35.58l-0.89 0c-33.31,0 -63.65,13.66 -85.55,35.58 -21.92,21.9 -35.56,52.22 -35.56,85.55l0 235.67 19.91 0z" data-v-e6998206></path><path class="fil2" d="M3709.07 5066.17l0 -235.67c0,-27.83 11.34,-53.08 29.72,-71.47 18.39,-18.38 43.64,-29.73 71.47,-29.75l0.89 0c27.84,0.02 53.08,11.37 71.48,29.75 18.36,18.39 29.73,43.64 29.73,71.47l0 235.67 19.9 0 0 -235.67c0,-33.33 -13.63,-63.65 -35.56,-85.55 -21.91,-21.92 -52.23,-35.58 -85.55,-35.58l-0.89 0c-33.3,0 -63.65,13.66 -85.55,35.58 -21.91,21.9 -35.56,52.22 -35.56,85.55l0 235.67 19.92 0z" data-v-e6998206></path><path class="fil2" d="M4209.96 5066.17l0 -235.67c0,-27.83 11.36,-53.08 29.74,-71.47 18.39,-18.38 43.64,-29.73 71.47,-29.75l0.89 0c27.82,0.02 53.08,11.37 71.46,29.75 18.37,18.39 29.74,43.64 29.74,71.47l0 235.67 19.91 0 0 -235.67c0,-33.33 -13.65,-63.65 -35.58,-85.55 -21.9,-21.92 -52.21,-35.58 -85.53,-35.58l-0.89 0c-33.33,0 -63.65,13.66 -85.55,35.58 -21.92,21.9 -35.58,52.22 -35.58,85.55l0 235.67 19.92 0z" data-v-e6998206></path><path class="fil2" d="M2725.16 5066.17l0 -235.67c0.02,-27.83 11.37,-53.08 29.75,-71.47 18.39,-18.38 43.64,-29.73 71.48,-29.75l0.89 0c27.81,0.02 53.08,11.37 71.45,29.75 18.38,18.39 29.74,43.64 29.74,71.47l0 235.67 19.92 0 0 -235.67c0,-33.33 -13.67,-63.65 -35.58,-85.55 -21.9,-21.92 -52.23,-35.58 -85.53,-35.58l-0.89 0c-33.33,0 -63.66,13.66 -85.55,35.58 -21.93,21.9 -35.58,52.22 -35.58,85.55l0 235.67 19.9 0z" data-v-e6998206></path><path class="fil2" d="M2212.34 5066.17l0 -235.67c0,-27.83 11.34,-53.08 29.72,-71.47 18.39,-18.38 43.64,-29.73 71.47,-29.75l0.89 0c27.84,0.02 53.08,11.37 71.48,29.75 18.38,18.39 29.72,43.64 29.72,71.47l0 235.67 19.91 0 0 -235.67c0,-33.33 -13.63,-63.65 -35.56,-85.55 -21.91,-21.92 -52.23,-35.58 -85.55,-35.58l-0.89 0c-33.31,0 -63.63,13.66 -85.55,35.58 -21.92,21.9 -35.56,52.22 -35.56,85.55l0 235.67 19.92 0z" data-v-e6998206></path><path class="fil2" d="M2836.77 5066.17l0 -173.08c0,-5.51 -4.46,-9.95 -9.95,-9.95 -5.5,0 -9.95,4.44 -9.95,9.95l0 173.08 19.9 0z" data-v-e6998206></path><path class="fil2" d="M3820.65 5066.17l0 -173.08c0,-5.51 -4.43,-9.95 -9.95,-9.95 -5.5,0 -9.96,4.44 -9.96,9.95l0 173.08 19.91 0z" data-v-e6998206></path><path class="fil2" d="M906.98 4430.6l-8.55 0c0,12.13 -0.25,24.08 -0.73,35.8 5.93,-4.25 11.76,-8.5 17.46,-12.75 0.2,-7.6 0.3,-15.3 0.3,-23.05l-8.48 0zm-10.46 57.46c-1.27,18.68 -3.14,36.66 -5.58,53.79l-1.42 9.48c5.44,2.52 10.79,4.92 16.05,7.2 4.22,-25.85 7.21,-53.8 8.74,-83.15 -5.82,4.24 -11.75,8.46 -17.79,12.68zm-11.78 89.98c-2.42,11.97 -5.13,23.35 -8.08,34.04 -8.66,31.48 -19.67,57.02 -31.55,74.06 -5.91,8.52 -12.06,14.87 -17.97,18.94 -2.92,2.03 -5.79,3.5 -8.66,4.47 -2.81,0.96 -5.56,1.43 -8.37,1.43 -4.92,-0.02 -9.83,-1.46 -15.1,-4.63 -4.57,-2.78 -9.25,-6.92 -13.93,-12.42 -8.19,-9.61 -16.21,-23.37 -23.35,-40.45 -8.4,-19.87 -15.71,-44.22 -21.51,-71.87 -5.32,2.5 -10.59,4.9 -15.8,7.21 2.09,9.65 4.36,18.93 6.81,27.79 9.07,32.72 20.43,59.75 33.95,79.22 6.79,9.73 14.11,17.62 22.24,23.23 4.1,2.81 8.37,5.03 12.82,6.56 4.51,1.53 9.13,2.34 13.87,2.34 8.43,0.01 16.56,-2.59 23.94,-7.12 6.5,-3.95 12.47,-9.34 18.03,-15.91 9.77,-11.5 18.43,-26.65 26.1,-44.85 8.92,-21.22 16.53,-46.62 22.5,-75.2 -5.25,-2.19 -10.57,-4.47 -15.94,-6.84zm-151.86 -13.63l-1.32 -7.6c-3.48,-21.1 -6.11,-43.72 -7.76,-67.42 -6.02,-3.97 -11.93,-7.96 -17.74,-11.96 1.25,23.28 3.42,45.66 6.42,66.8 1.35,9.43 2.85,18.61 4.51,27.52 5.23,-2.36 10.53,-4.79 15.89,-7.34zm-10.83 -112.24c-0.18,-7.12 -0.26,-14.31 -0.26,-21.57 0,-8.92 0.15,-17.74 0.41,-26.44 -5.35,3.91 -10.7,7.87 -16.03,11.89l-1.25 0.94c-0.07,4.51 -0.1,9.05 -0.1,13.61l0.05 9.61 2.23 1.57 14.95 10.39zm1.67 -79.02c1.27,-18.68 3.15,-36.67 5.56,-53.8 0.92,-6.48 1.92,-12.83 2.99,-19.05 -5.4,-2.41 -10.74,-4.72 -16.02,-6.95l-1.43 8.26c-4.32,26.15 -7.33,54.44 -8.86,84.19 5.81,-4.22 11.74,-8.45 17.76,-12.65zm11.76 -90.01c2.43,-11.98 5.13,-23.34 8.08,-34.03 8.72,-31.48 19.67,-57.01 31.55,-74.05 5.91,-8.52 12.06,-14.88 17.97,-18.95 2.92,-2.03 5.85,-3.5 8.66,-4.47 2.81,-0.96 5.62,-1.42 8.37,-1.42 4.97,0.01 9.89,1.45 15.1,4.62 4.57,2.78 9.25,6.92 13.93,12.42 8.19,9.62 16.21,23.37 23.41,40.45 8.35,19.87 15.68,44.22 21.47,71.86 5.33,-2.5 10.61,-4.9 15.83,-7.22 -2.09,-9.64 -4.35,-18.91 -6.8,-27.77 -9.08,-32.72 -20.43,-59.74 -33.95,-79.22 -6.79,-9.73 -14.16,-17.61 -22.3,-23.23 -4.04,-2.81 -8.37,-5.03 -12.82,-6.56 -4.45,-1.53 -9.13,-2.34 -13.87,-2.33 -8.43,-0.02 -16.56,2.59 -23.94,7.11 -6.5,3.95 -12.47,9.34 -18.03,15.91 -9.77,11.51 -18.43,26.66 -26.1,44.86 -8.92,21.22 -16.49,46.62 -22.48,75.19 5.25,2.19 10.56,4.46 15.92,6.83zm153.02 20.29l0.16 0.95c3.48,21.09 6.11,43.7 7.76,67.4 6.03,3.98 11.96,7.98 17.78,11.98 -1.27,-23.28 -3.46,-45.66 -6.46,-66.8 -1,-7.09 -2.09,-14.04 -3.27,-20.84 -5.24,2.32 -10.56,4.75 -15.97,7.31zm9.11 89.61c0.53,12.29 0.82,24.82 0.82,37.56l17.03 0c0,-8.59 -0.12,-17.09 -0.37,-25.49 -5.71,-4.03 -11.54,-8.05 -17.48,-12.07z" data-v-e6998206></path><path class="fil2" d="M749.71 4495.97l0.66 -1.06 -0.66 1.06 -4.57 7.18c16.44,10.35 32.85,20.13 49.12,29.3 9.23,-5.22 18.54,-10.66 27.9,-16.31l-5.6 -3.26c-36.45,-21.37 -75.6,-47.36 -109.46,-71.1 -6.15,-4.31 -12.11,-8.55 -17.9,-12.69 -8.05,6.29 -16,12.65 -23.77,18.98 24.23,18.43 50.96,36.97 79.71,55.08l4.57 -7.18zm61.95 46.09c35.05,18.98 69.09,34.99 100.64,47.56 25.64,10.22 49.69,18.17 71.35,23.6 21.66,5.42 40.97,8.34 57.42,8.35 9.71,-0.01 18.43,-1.02 26.16,-3.35 3.86,-1.17 7.49,-2.67 10.77,-4.58 3.28,-1.9 6.26,-4.22 8.78,-6.96 3.04,-3.27 5.33,-7.09 6.85,-11.19 1.46,-4.12 2.16,-8.51 2.16,-13 0,-7.12 -1.69,-14.53 -4.56,-22.26 -5.15,-13.53 -14.11,-28.2 -26.46,-43.97 -18.49,-23.63 -44.6,-49.7 -76.73,-76.65 -4.47,-3.74 -9.05,-7.5 -13.75,-11.28 -4.34,3.69 -8.78,7.4 -13.32,11.11 23.08,18.38 43.37,36.44 60.31,53.53 18.73,18.87 33.37,36.59 43.14,52.04 4.86,7.72 8.49,14.86 10.89,21.2l0.22 0.59c-0.82,5.28 -1.42,12.95 -3.26,17.98 -2.73,7.47 -8.21,9.09 -20.21,9.45 -12,0.36 -30.52,-0.53 -53.53,-5.16 -23.01,-4.64 -50.5,-13 -81.13,-25.55 -24.21,-9.92 -50.38,-22.45 -78.29,-37.82 -9.2,5.66 -18.36,11.11 -27.45,16.36zm149.02 -124.45c-25.74,-19.9 -54.47,-39.99 -85.6,-59.57 -14.19,-8.94 -28.36,-17.45 -42.44,-25.52 -4.13,2.33 -8.28,4.73 -12.47,7.19l-4.56 2.69c16.66,9.35 33.53,19.38 50.4,30.01 29.44,18.54 56.72,37.53 81.23,56.31 4.58,-3.71 9.06,-7.42 13.44,-11.11zm-152.08 -98.49c-35.03,-18.97 -69.1,-34.98 -100.68,-47.55 -25.64,-10.22 -49.64,-18.17 -71.35,-23.6 -21.66,-5.42 -40.91,-8.33 -57.36,-8.35 -9.77,0.01 -18.49,1.03 -26.22,3.36 -3.86,1.16 -7.43,2.67 -10.71,4.57 -3.34,1.9 -6.26,4.22 -8.84,6.96 -3.04,3.27 -5.33,7.09 -6.79,11.2 -1.52,4.12 -2.22,8.5 -2.22,12.99 0.06,7.13 1.69,14.53 4.62,22.26 5.09,13.53 14.11,28.2 26.46,43.97 18.49,23.64 44.6,49.7 76.67,76.65 4.47,3.74 9.06,7.5 13.76,11.27 7.28,-6.19 14.84,-12.4 22.68,-18.65 -17.46,-12.77 -32.87,-24.35 -45.94,-34.16 -21.97,-16.51 -37.33,-28.03 -52.14,-46.9 -9.52,-12.14 -18.79,-27.3 -24.9,-36.31l-0.73 -1.85c-2.4,-6.34 -3.45,-11.86 -3.45,-16.28 0,-2.8 0.41,-5.17 1.11,-7.21 0.76,-2.04 1.82,-3.79 3.34,-5.45 1.28,-1.38 2.87,-2.65 4.86,-3.8 2.98,-1.72 6.84,-3.15 11.64,-4.14 4.74,-0.97 10.42,-1.5 16.8,-1.5 14.4,0 32.54,2.64 53.26,7.85 31.08,7.79 68.07,21.26 107.99,39.55 16.56,7.6 33.64,16.03 51,25.22 5.73,-3.44 11.45,-6.81 17.14,-10.1z" data-v-e6998206></path><path class="fil2" d="M872.33 4494.29l-4.74 -7.06c-57.19,38.27 -114.43,69.32 -164.71,90.7 -25.11,10.7 -48.46,18.98 -69.18,24.56 -20.66,5.58 -38.63,8.42 -52.73,8.41 -7.73,0.01 -14.23,-0.85 -19.32,-2.37 -2.52,-0.77 -4.68,-1.69 -6.55,-2.73 -1.82,-1.04 -3.34,-2.2 -4.57,-3.46 -1.64,-1.69 -2.75,-3.5 -3.57,-5.64 -0.82,-2.15 -1.29,-4.67 -1.29,-7.68 0,-4.53 1.06,-10.13 3.4,-16.58 4.1,-11.28 11.94,-25.01 23.23,-40.13l3.85 -5.04c7.26,-6.98 16.2,-15.56 26.64,-25.15 27.34,-25.1 64.99,-57.08 103.38,-86.07 38.4,-28.98 77.55,-54.97 114,-76.34 36.45,-21.36 70.22,-38.09 100.84,-50.64 30.63,-12.55 58.12,-20.91 81.13,-25.55 23.01,-4.63 41.53,-5.52 53.18,-3.73 9.76,1.5 14.7,4.88 18.86,7.96 0.24,1.35 0.37,2.81 0.37,4.42 0,4.53 -1.06,10.13 -3.4,16.58 -4.04,11.28 -11.94,25.01 -23.23,40.14 -16.98,22.71 -41.56,48.66 -72.17,75.7 -30.55,27.05 -67.19,55.23 -108.16,82.64l4.74 7.06 4.74 7.06c63.33,-42.38 116.41,-86.59 153.93,-126.39 18.79,-19.92 33.71,-38.73 44.07,-55.89 5.21,-8.58 9.25,-16.77 12.06,-24.56 2.81,-7.79 4.39,-15.22 4.39,-22.34 0,-4.72 -0.7,-9.31 -2.34,-13.6 -1.58,-4.3 -4.04,-8.25 -7.32,-11.58 -2.45,-2.51 -5.26,-4.63 -8.37,-6.38 -4.68,-2.62 -9.89,-4.43 -15.62,-5.6 -5.68,-1.16 -11.94,-1.7 -18.62,-1.7 -16.27,0.01 -35.52,3.17 -57.18,9 -32.43,8.76 -70.35,23.59 -111.09,43.51 -40.74,19.91 -84.22,44.91 -127.77,74.02 -63.39,42.38 -116.47,86.59 -153.99,126.39 -18.79,19.92 -33.66,38.73 -44.02,55.89 -5.2,8.58 -9.24,16.77 -12.11,24.56 -2.75,7.8 -4.39,15.23 -4.39,22.34 0,4.72 0.76,9.32 2.34,13.61 1.58,4.29 4.1,8.24 7.32,11.57 2.45,2.51 5.32,4.63 8.37,6.38 4.68,2.63 9.95,4.43 15.62,5.6 5.74,1.17 11.94,1.7 18.62,1.7 16.33,-0.01 35.52,-3.17 57.18,-8.99 32.48,-8.77 70.35,-23.6 111.09,-43.52 40.74,-19.91 84.28,-44.91 127.83,-74.02l-4.74 -7.06z" data-v-e6998206></path><path class="fil2" d="M839.84 4430.6l-8.48 0c0,5.89 -2.35,11.15 -6.21,15.02 -3.86,3.86 -9.13,6.22 -15.04,6.22 -5.91,0 -11.12,-2.36 -15.04,-6.22 -3.86,-3.87 -6.21,-9.13 -6.21,-15.02 0,-5.9 2.35,-11.15 6.21,-15.03 3.92,-3.86 9.13,-6.21 15.04,-6.22 5.91,0.01 11.18,2.36 15.04,6.22 3.86,3.88 6.21,9.13 6.21,15.03l16.97 0c0.06,-10.53 -4.27,-20.14 -11.18,-27.03 -6.91,-6.91 -16.5,-11.21 -27.04,-11.2 -10.54,-0.01 -20.13,4.29 -27.04,11.2 -6.91,6.89 -11.18,16.5 -11.18,27.03 0,10.52 4.27,20.14 11.18,27.03 6.91,6.9 16.5,11.2 27.04,11.2 10.54,0 20.13,-4.3 27.04,-11.2 6.91,-6.89 11.24,-16.51 11.18,-27.03l-8.49 0z" data-v-e6998206></path><path class="fil3" d="M5522.79 2718.86c-0.48,31.9 -0.73,61.36 -0.73,88.32l0 418.39c0,2.17 -1.52,3.94 -3.39,3.94l-57.34 0c-18.77,2.56 -59.63,4.83 -112.87,6.26 -55.72,1.51 -124.99,2.12 -182.51,1.51 -57.53,-0.6 -103.3,-2.41 -130.1,-3.32 -26.81,-0.9 -34.64,-0.9 -37.95,-4.82 -3.32,-3.91 -2.11,-11.74 13.25,-40.05 15.36,-28.31 44.87,-77.1 78.91,-137.64 34.03,-60.53 72.58,-132.81 112.64,-202.38 40.05,-69.57 81.61,-136.43 115.34,-189.14 20.58,-32.16 38.25,-59.04 49.25,-73.82l26.89 -47.37c13.81,-22.99 26.64,-45.69 38.5,-68.16 11.86,-22.45 22.73,-44.59 32.56,-66.35 9.89,-21.93 19.58,-44.22 29.04,-66.85 9.3,-22.26 18.36,-44.76 27.11,-67.43 0.45,-1.56 1.72,-2.69 3.21,-2.69l12.24 0.03c1.85,0.23 3.19,2.19 2.99,4.34 -0.98,10.2 -2.09,26.15 -3.32,47.79 -1.23,21.73 -2.59,48.96 -4.07,81.65 -1.51,33.33 -2.91,67.92 -4.15,103.66 -1.22,35.11 -2.33,71.43 -3.28,108.91 -0.99,37.98 -1.74,73.08 -2.22,105.22zm432.1 907.35l251.79 0 0 -394.59 -258.2 8.52 -0.6 -270.91c-2.54,-66.65 -4.78,-141.85 -5.04,-225.22 -0.31,-95.98 2.01,-202.81 3.86,-305.78l-1.68 -753.15 -403.98 -2.77 -924.05 1585.94 0 351.02c38.38,-1.27 104.53,-0.91 227.4,-1.38 153.22,-0.58 394.63,-2.44 519.85,-0.9 125.22,1.53 134.24,6.45 138.93,9.09l0.24 0.13 15.26 0c1.87,0 3.39,1.77 3.39,3.94l0 487.54c17.58,-0.65 37.27,-1.19 59.16,-1.65 83.27,-1.74 198.33,-2.35 261.89,-2.05 63.56,0.31 75.6,1.51 81.93,-13.25 6.32,-14.75 6.93,-45.48 9.64,-115.67 2.71,-70.18 7.53,-179.82 9.04,-247.6 1.5,-67.77 -0.3,-93.68 2.69,-104.82 1.2,-4.49 3.18,-6.58 5.28,-3.8 0.46,-1.53 1.72,-2.64 3.2,-2.64z" data-v-e6998206></path><path class="fil2" d="M5515.28 2807.18c0,-26.15 0.26,-55.66 0.75,-88.44 0.49,-32.3 1.24,-67.43 2.22,-105.32 0.96,-37.68 2.07,-74.03 3.28,-108.99 1.25,-36.04 2.65,-70.64 4.15,-103.76 1.49,-33.01 2.85,-60.29 4.07,-81.75 1.06,-18.76 2.06,-33.37 2.96,-43.78l-5.93 0c-8.6,22.24 -17.43,44.14 -26.42,65.66 -9.45,22.62 -19.18,44.99 -29.14,67.08 -9.96,22.06 -20.9,44.34 -32.76,66.8 -11.85,22.44 -24.74,45.26 -38.64,68.4l-22.45 39.53c1.46,-4.24 2.11,-7.09 1.82,-8.21 -0.59,-2.23 -4.88,2.28 -11.9,11.71l26.89 -47.37c13.81,-22.99 26.64,-45.69 38.5,-68.16 11.86,-22.45 22.73,-44.59 32.56,-66.35 9.89,-21.93 19.58,-44.22 29.04,-66.85 9.3,-22.26 18.36,-44.76 27.11,-67.43 0.45,-1.56 1.72,-2.69 3.21,-2.69l12.24 0.03c1.85,0.23 3.19,2.19 2.99,4.34 -0.98,10.2 -2.09,26.15 -3.32,47.79 -1.23,21.73 -2.59,48.96 -4.07,81.65 -1.51,33.33 -2.91,67.92 -4.15,103.66 -1.22,35.11 -2.33,71.43 -3.28,108.91 -0.99,37.98 -1.74,73.08 -2.22,105.22 -0.48,31.9 -0.73,61.36 -0.73,88.32l0 418.39c0,2.17 -1.52,3.94 -3.39,3.94l-57.34 0 2.48 -0.36c15.54,-2.41 11.54,-5.06 -11.15,-7.52l62.62 0 0 -414.45zm694.79 826.91l-251.79 0 0 26.57c-1.69,-19.25 -4.22,-28.66 -6.59,-31.81 0.46,-1.53 1.72,-2.64 3.2,-2.64l251.79 0 0 -394.59 6.78 -0.22 0 398.75c0,2.17 -1.52,3.94 -3.39,3.94zm-251.79 264.66l0 178.86c-1.13,-31.69 -1.48,-80.78 -0.44,-151.57l0.44 -27.29zm-0.68 245.55c-0.62,0.95 -1.61,1.57 -2.71,1.57l-3.22 0c2.45,-0.44 4.39,-0.96 5.93,-1.57zm-279.2 1.57l-159.73 0 -0.6 -0.07c21.32,-0.61 47.7,-0.94 93.15,-0.63 19.57,0.14 42.67,0.39 67.18,0.7zm-163.12 -27.92l0 -483.86 -50.01 0c13.34,-1.05 22.72,-2.24 29.08,-3.11 13.65,-1.86 13.54,-2.25 9.06,-4.77l15.26 0c1.87,0 3.39,1.77 3.39,3.94l0 487.54 -6.78 0.26zm-872.22 -483.86l-29.46 0c-0.71,0 -1.37,-0.24 -1.91,-0.68 8.81,0.1 19.18,0.28 31.37,0.68zm-32.85 -14.57l0 -352.44c0,-0.96 0.3,-1.83 0.79,-2.52l921.92 -1582.31 8.12 0.06 -924.05 1585.94 0 351.02 -6.78 0.25z" data-v-e6998206></path><path class="fil2" d="M5430.83 1661.63l534.06 3.67 0.79 352.74 -0.2 -18.28c-2.27,-191.89 -7.24,-205.58 -9.91,-212.7 -2.67,-7.12 -3.04,-7.66 -4.85,13.66 -1.82,21.32 -5.07,64.51 -4.88,145.08 0.18,80.56 3.8,198.5 2.9,341.85 -0.3,47.97 -1.11,98.79 -2.04,150.58l-1.68 -753.15 -514.27 -3.53 0.08 -19.92zm536.02 881.13l1.51 676.57 245.65 -8.03 -0.55 20.1 -264.98 8.74 -0.6 -270.91c1.86,48.69 3.87,92.81 5.4,132.25 3.63,93.45 4.53,160.58 6.35,127.92 1.81,-32.66 4.53,-165.12 6.11,-416.39 0.51,-81.04 0.9,-174.45 1.11,-270.25z" data-v-e6998206></path><path class="fil2" d="M1281.75 1688.01l516.66 -0.52 3.6 1554.13 248.76 -10.37 0.78 19.92 -269.41 11.23 -0.28 -120.08c0.63,12.44 1.19,14.47 1.88,2.04 1.81,-32.66 4.53,-165.12 6.11,-416.39 1.57,-251.27 2.01,-621.36 -0.26,-813.25 -2.27,-191.89 -7.24,-205.58 -9.91,-212.7 -2.26,-6.04 -2.87,-7.34 -4.11,5.41l-493.82 0.5 0 -19.92z" data-v-e6998206></path><path class="fil7" d="M1779.68 1702.02c-2.67,-7.12 -3.04,-7.66 -4.85,13.66 -1.82,21.32 -5.07,64.51 -4.88,145.08 0.18,80.56 3.8,198.5 2.9,341.85 -0.91,143.35 -6.36,312.11 -5.9,456.36 0.45,144.26 6.81,264.02 10.44,357.47 3.63,93.45 4.53,160.58 6.35,127.92 1.81,-32.66 4.53,-165.12 6.11,-416.39 1.57,-251.27 2.01,-621.36 -0.26,-813.25 -2.27,-191.89 -7.24,-205.58 -9.91,-212.7z" data-v-e6998206></path><path class="fil7" d="M5955.57 1787.06c-2.67,-7.12 -3.04,-7.66 -4.85,13.66 -1.82,21.32 -5.07,64.51 -4.88,145.08 0.18,80.56 3.8,198.5 2.9,341.85 -0.91,143.35 -6.36,312.11 -5.9,456.36 0.45,144.26 6.81,264.02 10.44,357.47 3.63,93.45 4.53,160.58 6.35,127.92 1.81,-32.66 4.53,-165.12 6.11,-416.39 1.57,-251.27 2.01,-621.36 -0.26,-813.25 -2.27,-191.89 -7.24,-205.58 -9.91,-212.7z" data-v-e6998206></path><path class="fil7" d="M6915.28 1484.76c-0.69,-4.06 -1.22,-7.16 -1.67,-8.71l-1.04 0.01c-0.67,3.41 -1.22,14.92 -2.14,39.02 -1.82,47.31 -5.07,143.16 -4.88,321.97 0.18,178.78 3.8,440.52 2.9,758.66 -0.91,318.13 -6.36,692.65 -5.9,1012.79 0.45,320.15 6.81,585.93 9.22,758.56 2.41,172.64 0.88,252.16 3.23,290.26 2.35,38.11 8.58,34.8 11.16,-77.43 2.58,-112.23 1.5,-333.42 1.18,-854.66 -0.32,-521.24 0.12,-1342.57 -2.15,-1768.43 -2.27,-425.86 -7.24,-456.24 -9.91,-472.04z" data-v-e6998206></path><path class="fil7" d="M6451.05 4646.03c-2.67,15.8 -3.04,17 -4.85,-30.32 -1.82,-47.31 -5.07,-143.16 -4.88,-321.97 0.18,-178.78 3.8,-440.52 2.9,-758.66 -0.91,-318.13 -6.36,-692.65 -5.9,-1012.79 0.45,-320.15 6.81,-585.93 9.22,-758.56 2.23,-159.58 1.09,-239.6 2.76,-280.88l8.91 -0.04c1.07,15.74 2.03,37.99 2.72,68.09 2.58,112.23 1.5,333.42 1.18,854.66 -0.32,521.24 0.12,1342.57 -2.15,1768.43 -2.27,425.86 -7.24,456.24 -9.91,472.04z" data-v-e6998206></path><path class="fil7" d="M1266.45 3653.01c4.64,2.74 -3.13,7.19 -21.11,10.84 -17.98,3.66 -46.15,6.51 -98.7,5.57 -52.56,-0.93 -129.48,-5.65 -222.99,-6.09 -93.5,-0.42 -203.59,3.45 -296.75,2.54 -93.16,-0.9 -169.39,-6.58 -213.22,-8.69 -43.84,-2.09 -55.29,-0.62 -61.54,-3.13 -6.26,-2.51 -7.32,-9.02 18.78,-12.17 26.09,-3.13 79.34,-2.91 226.67,-1.3 147.32,1.63 388.72,4.64 517.95,6.65 129.23,2.02 146.28,3.04 150.91,5.78z" data-v-e6998206></path><path class="fil7" d="M5402.53 2807.18c0,-53.01 0.98,-117.58 2.97,-193.65 0.73,-28.78 1.55,-56.83 2.44,-84.13 10.83,-18.46 21.01,-36.71 30.52,-54.72 11.86,-22.46 22.8,-44.74 32.76,-66.8 9.96,-22.09 19.69,-44.46 29.14,-67.08 8.99,-21.52 17.82,-43.42 26.42,-65.66l5.93 0c-0.9,10.41 -1.9,25.02 -2.96,43.78 -1.22,21.46 -2.58,48.74 -4.07,81.75 -1.5,33.12 -2.9,67.72 -4.15,103.76 -1.21,34.96 -2.32,71.31 -3.28,108.99 -0.98,37.89 -1.73,73.02 -2.22,105.32 -0.49,32.78 -0.75,62.29 -0.75,88.44l0 414.45 -62.62 0c-2.82,-0.31 -5.93,-0.61 -9.33,-0.91 -10.87,-0.96 -24.68,-1.88 -40.8,-2.71l0 -410.83zm100.64 818.9c4.7,2.64 5.06,3.01 -8.82,4.9 -6.44,0.84 -15.77,2.08 -29.08,3.11l50.01 0 0 483.86c-45.56,1.83 -76.17,4.5 -93.62,8.69 -12.62,3.04 -18.35,6.86 -18.79,10.39l-0.34 -500.62 -2.73 0.01c-52.56,0.13 -129.56,-3.04 -223.06,-1.59 -93.49,1.46 -203.48,7.55 -297.59,7.65 -94.12,0.1 -172.36,-5.8 -223.14,-7.91 -50.79,-2.11 -74.14,-0.45 -85.38,-2.73 -2.15,-0.44 -3.86,-1.02 -4.98,-1.69l-68.18 0 0 -363.07 928.8 -1594.11 4.51 0 -0.03 8.58 102.17 0.7 -921.92 1582.31c-0.49,0.69 -0.79,1.56 -0.79,2.52l0 352.44c37.22,-1.58 103.74,-1.14 234.18,-1.63 153.22,-0.58 394.63,-2.44 519.85,-0.9 125.22,1.53 134.24,6.45 138.93,9.09zm-100.29 511.89l-0.01 0 0 -0.06 0.01 0.06z" data-v-e6998206></path><path class="fil7" d="M4896.13 1462.05c-10.79,2.61 -11.61,2.98 20.76,4.97 32.37,2 97.93,5.62 220.21,6.11 122.27,0.51 301.25,-2.11 518.82,0.01 217.57,2.12 473.72,9.01 692.65,9.77 218.94,0.78 400.67,-4.56 518.72,-6.31 118.05,-1.75 172.44,0.08 198.49,-2.12 26.04,-2.21 23.75,-8.45 -53.01,-11.46 -76.77,-3.01 -228.03,-2.78 -584.49,-4.45 -356.47,-1.68 -918.16,-5.26 -1209.38,-4.62 -291.22,0.64 -311.97,5.49 -322.77,8.1z" data-v-e6998206></path><path class="fil7" d="M4136.56 1180.94c6.41,2.61 6.9,2.98 -12.33,4.97 -19.22,2 -58.17,5.62 -130.8,6.11 -72.62,0.51 -178.93,-2.11 -308.16,0.01 -129.23,2.12 -281.38,9.01 -411.41,9.77 -130.05,0.78 -237.99,-4.56 -308.11,-6.31 -70.12,-1.75 -102.42,0.08 -117.89,-2.12 -15.47,-2.21 -14.11,-8.45 31.48,-11.46 45.6,-3.01 135.45,-2.78 347.17,-4.45 211.73,-1.68 545.36,-5.26 718.34,-4.62 172.97,0.64 185.3,5.49 191.71,8.1z" data-v-e6998206></path><path class="fil8" d="M1223.68 2591.25c1.5,5.72 -21.39,55.72 -50.9,109.32 -29.52,53.61 -65.66,110.84 -99.69,168.06 -34.04,57.22 -65.96,114.45 -96.08,170.16 -30.12,55.72 -58.43,109.93 -76.2,141.85 -17.77,31.93 -24.99,41.56 -18.06,46.38 6.92,4.82 28,4.82 74.68,4.52 46.68,-0.3 118.97,-0.9 182.22,0 63.24,0.91 117.45,3.32 148.17,6.03 30.72,2.71 37.95,5.72 20.48,8.43 -17.47,2.71 -59.63,5.12 -115.35,6.62 -55.72,1.51 -124.99,2.12 -182.51,1.51 -57.53,-0.6 -103.3,-2.41 -130.1,-3.32 -26.81,-0.9 -34.64,-0.9 -37.95,-4.82 -3.32,-3.91 -2.11,-11.74 13.25,-40.05 15.36,-28.31 44.87,-77.1 78.91,-137.64 34.03,-60.53 72.58,-132.81 112.64,-202.38 40.05,-69.57 81.61,-136.43 115.34,-189.14 33.73,-52.7 59.64,-91.25 61.15,-85.53z" data-v-e6998206></path><path class="fil8" d="M5379.19 2574.4c1.5,5.72 -21.39,55.72 -50.9,109.32 -29.52,53.61 -65.66,110.84 -99.69,168.06 -34.04,57.22 -65.96,114.45 -96.08,170.16 -30.12,55.72 -58.43,109.93 -76.2,141.85 -17.77,31.93 -24.99,41.56 -18.06,46.38 6.92,4.82 28,4.82 74.68,4.52 46.68,-0.3 118.97,-0.9 182.22,0 63.24,0.91 117.45,3.32 148.17,6.03 30.72,2.71 37.95,5.72 20.48,8.43 -17.47,2.71 -59.63,5.12 -115.35,6.62 -55.72,1.51 -124.99,2.12 -182.51,1.51 -57.53,-0.6 -103.3,-2.41 -130.1,-3.32 -26.81,-0.9 -34.64,-0.9 -37.95,-4.82 -3.32,-3.91 -2.11,-11.74 13.25,-40.05 15.36,-28.31 44.87,-77.1 78.91,-137.64 34.03,-60.53 72.58,-132.81 112.64,-202.38 40.05,-69.57 81.61,-136.43 115.34,-189.14 33.73,-52.7 59.64,-91.25 61.15,-85.53z" data-v-e6998206></path><path class="fil8" d="M1272.09 4158.61c-14.43,3.5 -18.37,0.09 -18.58,2.78 -0.15,1.95 0.78,10.28 5.2,11.66 10.53,3.3 30.65,4.87 59.16,3.64 28.51,-1.23 66.27,-1.29 138.16,-0.41 71.89,0.88 177.92,2.68 241.17,2.08 63.25,-0.6 88.2,3.27 100.43,-0.38 14.71,-4.38 8.89,-195.49 8.61,-212.59 -1.2,-72.59 -3.01,-165.36 -5.42,-221.39 -2.41,-56.03 -5.42,-75.3 -6.02,-71.99 -0.6,3.31 1.2,29.22 -0.3,96.99 -1.51,67.78 -6.33,177.42 -9.04,247.6 -2.71,70.19 -3.32,100.92 -9.64,115.67 -6.33,14.76 -18.37,13.56 -81.93,13.25 -63.56,-0.3 -178.62,0.31 -261.96,2.14 -83.34,1.84 -134.95,4.91 -159.84,10.95z" data-v-e6998206></path><path class="fil8" d="M5421.66 4126.64c-24.83,5.97 -23.03,15 -6.59,18.82 16.44,3.83 47.52,2.45 75.97,1.3 28.44,-1.14 54.25,-2.04 120.18,-1.59 65.92,0.46 171.94,2.26 236.72,2.88 64.78,0.63 88.31,0.08 100.96,-1.73 12.65,-1.81 14.43,-4.86 14.11,-10.91 -0.32,-6.05 -2.73,-15.08 -4.23,-45.81 -1.51,-30.72 -2.12,-83.14 -0.94,-163.56 1.18,-80.42 4.15,-188.84 1.74,-244.87 -2.41,-56.03 -10.19,-59.65 -13.17,-48.52 -2.99,11.14 -1.19,37.05 -2.69,104.82 -1.51,67.78 -6.33,177.42 -9.04,247.6 -2.71,70.19 -3.32,100.92 -9.64,115.67 -6.33,14.76 -18.37,13.56 -81.93,13.25 -63.56,-0.3 -178.62,0.31 -261.89,2.05 -83.27,1.75 -134.73,4.64 -159.56,10.6z" data-v-e6998206></path><path class="fil6" d="M4780.24 4395.96c0,-85.98 66.71,-156.37 151.2,-162.24 70.27,50.21 84.06,151.54 18.29,217.31 -37.39,37.38 -93.08,49.75 -142.29,35 -17.18,-25.78 -27.2,-56.75 -27.2,-90.07zm183.32 -161.33c80.06,10.16 141.96,78.51 141.96,161.33 0,89.82 -72.82,162.64 -162.64,162.64 -45.42,0 -86.49,-18.63 -115.99,-48.64 56.67,8.42 115.62,-14.05 150.8,-60.64 25.11,-33.1 33.67,-59.36 33.67,-103.87 -0.35,-41.37 -18.59,-81.43 -47.8,-110.82z" data-v-e6998206></path><path class="fil6" d="M803.66 1436.54c0,-71.15 -55.2,-129.38 -125.11,-134.24 -58.14,41.55 -69.55,125.38 -15.13,179.8 30.94,30.94 77,41.17 117.73,28.96 14.22,-21.34 22.51,-46.96 22.51,-74.52zm-151.67 -133.51c-66.25,8.39 -117.48,64.97 -117.48,133.51 0,74.32 60.25,134.57 134.57,134.57 37.59,0 71.56,-15.41 95.98,-40.25 -46.88,6.96 -95.67,-11.62 -124.78,-50.18 -20.77,-27.38 -27.86,-49.1 -27.86,-85.93 0.29,-34.23 15.39,-67.4 39.57,-91.72z" data-v-e6998206></path><path class="fil5" d="M1625.83 906.12c0,-116.1 64.57,-217.13 159.75,-269.13l-0.08 3.07c0,28.58 6.7,47.78 23.22,67.88 6.26,7.59 15.64,29.03 21,48.24 5.36,19.2 12.49,42.42 16.08,50.91 4.02,8.93 5.79,16.97 4.89,17.86 -0.87,1.34 -9.38,-4.91 -19.2,-13.4 -35.27,-31.26 -110.77,-74.13 -117.9,-66.99 -5.8,6.26 4.45,46.9 16.08,62.08 23.68,30.82 66.55,52.7 114.32,58.51 11.62,1.34 22.77,3.57 25.02,5.36 5.36,3.57 46.89,77.26 44.65,79.49 -0.87,0.89 -10.72,-2.68 -21.87,-7.14 -20.1,-8.93 -87.53,-22.78 -111.65,-22.78 -17.88,0 -20.09,10.72 -6.69,28.58 16.94,21.44 47.76,40.64 81.73,50.02 25.45,6.7 33.93,7.15 59.38,2.68l29.48 -5.36 11.15 14.74c5.83,7.59 27.27,31.26 46.9,51.81 25.92,26.35 38.85,36.62 45.12,35.28 6.69,-1.34 0.43,-10.27 -34.84,-46.89 -55.84,-58.51 -56.71,-60.74 -37.08,-71.91 29.04,-17.42 45.12,-69.67 37.98,-121.92 -4.92,-35.28 -9.84,-40.2 -25.02,-25.9 -14.3,13.39 -40.19,66.99 -44.21,91.1 -4.93,29.92 -6.26,31.71 -14.3,20.1 -4.02,-5.36 -19.2,-33.05 -33.5,-61.63l-26.8 -51.36 21.91 -11.61c49.11,-26.35 70.11,-92.45 50.01,-155.87 -6.26,-18.76 -12.96,-17.86 -32.16,3.13 -20.09,22.33 -28.57,38.41 -43.78,83.07l-12.05 35.72 -9.38 -31.7 -9.38 -31.27 12.96 -31.26c12.02,-28.57 18.79,-55.51 20.83,-83.29 20.61,-4.37 41.99,-6.7 63.91,-6.7 169.27,0 306.49,137.22 306.49,306.48 0,169.27 -137.22,306.49 -306.49,306.49 -169.26,0 -306.48,-137.22 -306.48,-306.49zm174.63 -276.74c16.37,-7.81 33.56,-14.21 51.39,-19.04 -1.12,18.7 -3.81,32.47 -9.2,48.92l-10.25 30.82 -2.25 -33.5c-1.77,-29.92 -2.68,-32.6 -8.04,-23.67 -3.11,5.36 -6.69,19.65 -8.47,31.26l-2.68 21.44 -5.83 -13.4c-5.09,-11.83 -6.48,-26.92 -4.67,-42.83zm96.25 83.03c-17.89,38.85 -27.7,69.22 -21.91,69.22 1.81,0 5.83,-5.8 8.95,-12.95 6.7,-16.08 22.34,-31.71 22.34,-22.33 0,3.57 -4.93,16.97 -11.19,30.37 -6.23,13.4 -10.72,25.01 -9.81,25.9 0.9,0.9 7.13,-3.12 14.3,-8.48 19.63,-15.63 33.49,-50.02 33.49,-84.86 0,-55.82 -8.94,-54.93 -36.17,3.13zm-167.48 58.5c1.34,4.02 2.68,8.94 2.68,11.17 0,8.04 33.03,40.64 49.58,49.13 23.64,11.61 31.25,10.27 15.17,-2.68 -10.29,-8.94 -11.62,-11.17 -5.36,-11.17 4.45,0 14.3,3.13 21.44,7.15 37.51,19.2 -2.68,-15.19 -51.82,-44.66 -29.48,-17.87 -35.71,-19.66 -31.69,-8.94zm236.68 129.97c-6.23,17.41 -11.05,53.59 -10.15,57.16 1.34,3.13 6.13,-23.22 10.62,-34.83 4.46,-11.62 9.81,-20.99 12.5,-20.99 5.79,0 0.43,33.05 -8.48,49.57 -7.17,14.29 -2.68,17.42 8.48,4.91 12.96,-14.29 21,-45.55 21,-80.84l-0.47 -33.94 -10.72 13.4c-6.23,7.15 -16.51,27.69 -22.78,45.56zm-171.03 48.68c18.29,19.65 52.26,33.94 84.41,36.17l29.01 1.79 -26.33 -8.93c-14.3,-4.92 -28.6,-11.17 -31.28,-14.3 -4.89,-5.36 3.58,-4.91 46.45,2.24l15.65 2.68 -19.66 -9.38c-22.35,-10.72 -66.09,-20.99 -91.55,-21.44l-17.42 -0.44 10.72 11.61z" data-v-e6998206></path><path class="fil2" d="M1863.21 526.17c0.88,1.79 3.12,19.21 4.89,38.86 3.59,43.32 -2.68,82.17 -20.53,124.6l-12.96 31.26 9.38 31.27 9.38 31.7 12.05 -35.72c15.21,-44.66 23.69,-60.74 43.78,-83.07 19.2,-20.99 25.9,-21.89 32.16,-3.13 20.1,63.42 -0.9,129.52 -50.01,155.87l-21.91 11.61 26.8 51.36c14.3,28.58 29.48,56.27 33.5,61.63 8.04,11.61 9.37,9.82 14.3,-20.1 4.02,-24.11 29.91,-77.71 44.21,-91.1 15.18,-14.3 20.1,-9.38 25.02,25.9 7.14,52.25 -8.94,104.5 -37.98,121.92 -19.63,11.17 -18.76,13.4 37.08,71.91 35.27,36.62 41.53,45.55 34.84,46.89 -6.27,1.34 -19.2,-8.93 -45.12,-35.28 -19.63,-20.55 -41.07,-44.22 -46.9,-51.81l-11.15 -14.74 -29.48 5.36c-25.45,4.47 -33.93,4.02 -59.38,-2.68 -33.97,-9.38 -64.79,-28.58 -81.73,-50.02 -13.4,-17.86 -11.19,-28.58 6.69,-28.58 24.12,0 91.55,13.85 111.65,22.78 11.15,4.46 21,8.03 21.87,7.14 2.24,-2.23 -39.29,-75.92 -44.65,-79.49 -2.25,-1.79 -13.4,-4.02 -25.02,-5.36 -47.77,-5.81 -90.64,-27.69 -114.32,-58.51 -11.63,-15.18 -21.88,-55.82 -16.08,-62.08 7.13,-7.14 82.63,35.73 117.9,66.99 9.82,8.49 18.33,14.74 19.2,13.4 0.9,-0.89 -0.87,-8.93 -4.89,-17.86 -3.59,-8.49 -10.72,-31.71 -16.08,-50.91 -5.36,-19.21 -14.74,-40.65 -21,-48.24 -16.52,-20.1 -23.22,-39.3 -23.22,-67.88 0.44,-41.98 24.99,-92.45 54.47,-110.31 12.96,-8.04 19.66,-8.94 23.24,-3.58zm-36.17 36.18c-24.59,32.15 -34.4,80.83 -21.91,109.86l5.83 13.4 2.68 -21.44c1.78,-11.61 5.36,-25.9 8.47,-31.26 5.36,-8.93 6.27,-6.25 8.04,23.67l2.25 33.5 10.25 -30.82c7.6,-23.22 9.85,-41.09 9.85,-75.03 0,-50.47 -2.25,-52.25 -25.46,-21.88zm69.67 150.06c-17.89,38.85 -27.7,69.22 -21.91,69.22 1.81,0 5.83,-5.8 8.95,-12.95 6.7,-16.08 22.34,-31.71 22.34,-22.33 0,3.57 -4.93,16.97 -11.19,30.37 -6.23,13.4 -10.72,25.01 -9.81,25.9 0.9,0.9 7.13,-3.12 14.3,-8.48 19.63,-15.63 33.49,-50.02 33.49,-84.86 0,-55.82 -8.94,-54.93 -36.17,3.13zm-167.48 58.5c1.34,4.02 2.68,8.94 2.68,11.17 0,8.04 33.03,40.64 49.58,49.13 23.64,11.61 31.25,10.27 15.17,-2.68 -10.29,-8.94 -11.62,-11.17 -5.36,-11.17 4.45,0 14.3,3.13 21.44,7.15 37.51,19.2 -2.68,-15.19 -51.82,-44.66 -29.48,-17.87 -35.71,-19.66 -31.69,-8.94zm236.68 129.97c-6.23,17.41 -11.05,53.59 -10.15,57.16 1.34,3.13 6.13,-23.22 10.62,-34.83 4.46,-11.62 9.81,-20.99 12.5,-20.99 5.79,0 0.43,33.05 -8.48,49.57 -7.17,14.29 -2.68,17.42 8.48,4.91 12.96,-14.29 21,-45.55 21,-80.84l-0.47 -33.94 -10.72 13.4c-6.23,7.15 -16.51,27.69 -22.78,45.56zm-171.03 48.68c18.29,19.65 52.26,33.94 84.41,36.17l29.01 1.79 -26.33 -8.93c-14.3,-4.92 -28.6,-11.17 -31.28,-14.3 -4.89,-5.36 3.58,-4.91 46.45,2.24l15.65 2.68 -19.66 -9.38c-22.35,-10.72 -66.09,-20.99 -91.55,-21.44l-17.42 -0.44 10.72 11.61z" data-v-e6998206></path><path class="fil2" d="M4897.22 4194.22c65.63,19.98 113.57,83.89 114.14,151.23 0,44.51 -8.56,70.77 -33.67,103.87 -43.94,58.2 -124.98,78.75 -192.32,48.5 -98.73,-43.37 -127.83,-172.34 -57.07,-255.66 8.57,-9.7 30.82,-26.25 50.22,-35.38 27.96,-14.27 41.66,-17.69 69.63,-17.12 19.4,0 41.08,2.28 49.07,4.56zm-89.02 20.55c-114.14,33.67 -135.82,194.03 -34.24,256.23 55.35,34.24 129.54,26.25 175.77,-19.97 78.18,-78.18 43.94,-206.59 -63.92,-239.69 -22.83,-6.85 -47.37,-5.7 -77.61,3.43z" data-v-e6998206></path><path class="fil2" d="M706.86 1269.61c-54.3,16.53 -93.97,69.42 -94.44,125.14 0,36.83 7.09,58.55 27.86,85.93 36.36,48.17 103.41,65.17 159.13,40.14 81.69,-35.89 105.77,-142.6 47.22,-211.54 -7.08,-8.03 -25.5,-21.72 -41.55,-29.28 -23.14,-11.8 -34.47,-14.64 -57.61,-14.16 -16.05,0 -34,1.88 -40.61,3.77zm73.67 17c94.43,27.86 112.38,160.55 28.33,212.02 -45.81,28.33 -107.19,21.72 -145.44,-16.53 -64.69,-64.69 -36.36,-170.93 52.88,-198.32 18.89,-5.67 39.2,-4.72 64.23,2.83z" data-v-e6998206></path><path class="fil9" d="M4229.7 1221.68c-4.71,1.14 -9.47,-1.76 -10.61,-6.47 -1.14,-4.71 1.76,-9.47 6.47,-10.61 10.57,-2.58 21.17,-5.18 31.87,-6.69 11.2,-1.59 22.61,-2.05 34.37,-0.27 9.47,1.43 18.9,4.29 28.4,7.15 12.64,3.81 25.46,7.69 37.33,7.71 12.4,0.01 25.59,-4.16 38.71,-8.31 8.77,-2.77 17.54,-5.55 26.74,-7.31 11.95,-2.28 23.85,-2.63 35.7,-2.02 11.46,0.59 22.93,2.12 34.36,3.63 4.81,0.62 8.2,5.05 7.58,9.86 -0.62,4.81 -5.05,8.2 -9.86,7.58 -11.01,-1.46 -22.05,-2.93 -32.98,-3.49 -10.56,-0.54 -21.09,-0.25 -31.5,1.74 -7.97,1.53 -16.36,4.19 -24.74,6.83 -14.33,4.53 -28.71,9.09 -44.01,9.07 -14.66,-0.03 -28.65,-4.25 -42.4,-8.41 -8.85,-2.68 -17.63,-5.33 -25.95,-6.59 -9.92,-1.5 -19.69,-1.09 -29.33,0.27 -10.11,1.42 -20.14,3.88 -30.15,6.33z" data-v-e6998206></path><path class="fil9" d="M4205.83 1313.87c-4.71,1.14 -9.47,-1.76 -10.61,-6.47 -1.14,-4.71 1.76,-9.47 6.47,-10.61 10.57,-2.58 21.17,-5.18 31.87,-6.69 11.2,-1.59 22.61,-2.05 34.37,-0.27 9.47,1.43 18.9,4.29 28.4,7.15 12.64,3.81 25.46,7.69 37.33,7.71 12.4,0.01 25.59,-4.16 38.71,-8.31 8.77,-2.77 17.54,-5.55 26.74,-7.31 11.95,-2.28 23.85,-2.63 35.7,-2.02 11.46,0.59 22.93,2.12 34.36,3.63 4.81,0.62 8.2,5.05 7.58,9.86 -0.62,4.81 -5.05,8.2 -9.86,7.58 -11.01,-1.46 -22.05,-2.93 -32.98,-3.49 -10.56,-0.54 -21.09,-0.25 -31.5,1.74 -7.97,1.53 -16.36,4.19 -24.74,6.83 -14.33,4.53 -28.71,9.09 -44.01,9.07 -14.66,-0.03 -28.65,-4.25 -42.4,-8.41 -8.85,-2.68 -17.63,-5.33 -25.95,-6.59 -9.92,-1.5 -19.69,-1.09 -29.33,0.27 -10.11,1.42 -20.14,3.88 -30.15,6.33z" data-v-e6998206></path><path class="fil9" d="M4246.36 1424.92c-4.64,1.42 -9.57,-1.19 -10.99,-5.83 -1.42,-4.64 1.19,-9.57 5.83,-10.99 8.52,-2.61 17.08,-5.24 25.82,-6.78 9.25,-1.64 18.71,-2.11 28.56,-0.24 7.84,1.49 15.49,4.39 23.18,7.29 9.8,3.71 19.75,7.48 28.71,7.5 9.31,0.01 19.57,-4.05 29.77,-8.09l0.65 -0.23c6.89,-2.72 13.81,-5.44 21.12,-7.19 9.95,-2.38 19.74,-2.75 29.4,-2.13 9.27,0.6 18.52,2.14 27.74,3.67 4.79,0.77 8.04,5.3 7.27,10.09 -0.77,4.79 -5.3,8.04 -10.09,7.27 -8.69,-1.44 -17.4,-2.9 -26.02,-3.45 -8.22,-0.53 -16.35,-0.26 -24.24,1.63 -5.95,1.43 -12.33,3.93 -18.69,6.45l-0.66 0.29c-11.69,4.63 -23.44,9.29 -36.25,9.27 -12.22,-0.03 -23.67,-4.36 -34.91,-8.62 -6.95,-2.62 -13.87,-5.25 -20.22,-6.45 -7.45,-1.42 -14.88,-1.01 -22.28,0.3 -7.89,1.39 -15.81,3.82 -23.7,6.24z" data-v-e6998206></path><path class="fil10" d="M6557.51 783.47l0 83.04c0,16.71 5.96,31.88 15.59,42.93 9.59,11.04 22.79,17.86 37.34,17.87l148.45 0c14.54,-0.01 27.75,-6.83 37.38,-17.87 9.59,-11.05 15.55,-26.22 15.55,-42.93l0 -83.04c0,-16.72 -5.96,-31.88 -15.55,-42.94 -9.63,-11.04 -22.84,-17.86 -37.38,-17.86l-148.45 0c-14.55,0 -27.75,6.82 -37.34,17.86 -9.63,11.06 -15.59,26.22 -15.59,42.94z" data-v-e6998206></path></g></g>',1),vA=[_A];function yA(t,e){return b(),$("svg",gA,vA)}const Gp=J(mA,[["render",yA],["__scopeId","data-v-e6998206"]]),bA={class:"overlay-hint__content"},wA=j({__name:"overlay-hint",props:{position:{},visible:{type:Boolean},absolute:{type:Boolean},hideOnOutsideClick:{type:Boolean},hideOnScroll:{type:Boolean}},emits:["update:visible"],setup(t,{emit:e}){const n=t,s=e,i=Y(null),o=q(()=>{if(!n.position||!i.value)return{x:0,y:0,notFittingWidth:0,notFittingHeight:0};const d=i.value.offsetWidth,h=i.value.offsetHeight,f=n.position.x+d-window.innerWidth,p=n.position.y+h-window.innerHeight,v=f>0?n.position.x-f:n.position.x,y=p>0?n.position.y-p:n.position.y;return{x:v,y,notFittingWidth:f,notFittingHeight:p}});function r(){s("update:visible",!1)}function a(){l=Date.now()}ke(()=>n.visible,d=>{d&&a()});let l=0;function c(d){n.hideOnOutsideClick&&n.visible&&i.value&&!i.value.contains(d.target)&&Date.now()-l>250&&r()}function u(){n.hideOnScroll&&n.visible&&r()}return ri(()=>{n.hideOnOutsideClick&&window.addEventListener("click",c),n.hideOnScroll&&window.addEventListener("scroll",u)}),Zo(()=>{n.hideOnOutsideClick&&window.removeEventListener("click",c),n.hideOnScroll&&window.removeEventListener("scroll",u)}),(d,h)=>(b(),B(Bp,{name:"open"},{default:L(()=>[d.visible?(b(),$("div",{key:0,class:"overlay-hint",style:Qt({top:o.value.y+"px",left:o.value.x-20+"px",position:d.absolute?"absolute":"fixed"}),ref_key:"hintEl",ref:i},[m("div",bA,[m("span",{class:"overlay-hint__content__arrow-top",style:Qt({left:o.value.notFittingWidth>0?28+o.value.notFittingWidth+"px":"28px"})},null,4),m("span",{class:"overlay-hint__content__close",onClick:h[0]||(h[0]=f=>r())}," + "),lt(d.$slots,"default",{},void 0,!0)])],4)):N("",!0)]),_:3}))}});const Iv=J(wA,[["__scopeId","data-v-b9d43582"]]),xA={key:0,class:"more-widget"},SA={class:"menu"},kA={class:"menu__list"},$A=["onClick","data-if"],CA={class:"menu__list__item__icon"},EA={class:"menu__list__item__title"},TA=j({__name:"more-widget",props:{items:{}},setup(t){const e=t,n=Y(!1),s=Y(null),i=Y({x:0,y:0}),o=q(()=>e.items.filter(c=>typeof c.if>"u"||c.if));function r(){if(s.value){const{x:c,y:u,height:d}=s.value.getBoundingClientRect();i.value={x:c,y:u+d}}}function a(){r(),n.value=!n.value}function l(c){c.action(c),c.stayOpened||(n.value=!1)}return(c,u)=>{const d=It,h=Iv;return b(),$(ue,null,[o.value.length>0?(b(),$("div",xA,[m("div",{class:"more-widget__button",onClick:u[0]||(u[0]=f=>a()),ref_key:"button",ref:s},[E(d,{name:"more"})],512)])):N("",!0),E(h,{visible:n.value,"onUpdate:visible":u[1]||(u[1]=f=>n.value=f),position:i.value,"hide-on-outside-click":"","hide-on-scroll":""},{default:L(()=>[m("div",SA,[m("ul",kA,[(b(!0),$(ue,null,Be(c.items,(f,p)=>$e((b(),$("li",{class:"menu__list__item",key:p,onClick:v=>l(c.items[p]),"data-if":f.if},[m("span",CA,[f.icon?(b(),B(d,{name:f.icon,key:f.icon},null,8,["name"])):N("",!0)]),m("span",EA,H(f.title),1)],8,$A)),[[ai,typeof f.if>"u"||f.if]])),128))])])]),_:1},8,["visible","position"])],64)}}});const Ov=J(TA,[["__scopeId","data-v-d0e1e990"]]),AA=["src"],xc=j({__name:"uploaded-image",props:{src:{}},setup(t){const e=t,n=Y("");xv(()=>{if(typeof e.src=="string"&&e.src.startsWith("http")){n.value=e.src;return}if(typeof e.src=="string"&&e.src.startsWith("data:")){n.value=e.src;return}if(typeof e.src=="string"){n.value=`${D.Constants.MEDIA_URL}/${e.src}`;return}if(e.src instanceof File){n.value=URL.createObjectURL(e.src);return}n.value="/img/placeholder.svg"});function s(){n.value="/img/placeholder.svg"}return(i,o)=>(b(),$("img",{src:n.value,onError:o[0]||(o[0]=r=>s())},null,40,AA))}}),MA={class:"user-avatar"},IA={key:2,class:"user-avatar__is-online"},OA=j({__name:"user-avatar",props:{name:{},avatar:{},isOnline:{type:Boolean}},setup(t){const e=t,n=q(()=>{if(!e.name)return"";const[o,r]=e.name.split(" ");return`${(o||"-")[0]}${(r||" ")[0]}`.toUpperCase().replace(" ","")}),s=q(()=>{var o,r;switch((o=e.avatar)==null?void 0:o.avatarType){case"telegram":return e.avatar.telegramAvatarUrl;case"custom":return(r=e.avatar.media)==null?void 0:r.src;case void 0:default:return null}}),i=q(()=>{const o=["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722","#795548","#607d8b"],r=n.value.split("").reduce((a,l)=>a*l.charCodeAt(0),1);return o[r%o.length]});return(o,r)=>{const a=xc;return b(),$("div",MA,[s.value?(b(),B(a,{key:0,class:"user-avatar__image",src:s.value},null,8,["src"])):(b(),$("span",{key:1,class:"user-avatar__initials",style:Qt({backgroundColor:i.value})},H(n.value),5)),o.isOnline?(b(),$("div",IA)):N("",!0)])}}});const Ha=J(OA,[["__scopeId","data-v-b21d39d0"]]),DA=j({__name:"entity-table-avatar-cell",props:{value:{}},setup(t){return(e,n)=>{const s=Ha;return e.value?(b(),B(s,{key:0,name:e.value.name,avatar:e.value.avatar,"is-online":e.value.isOnline},null,8,["name","avatar","is-online"])):N("",!0)}}});const LA=J(DA,[["__scopeId","data-v-a5d69a9d"]]),PA=j({__name:"entity-table-button-cell",props:{value:{},design:{},alignment:{},linkTo:{},isLoading:{type:Boolean}},emits:["action"],setup(t){return(e,n)=>{const s=xt;return e.value?(b(),B(s,{key:0,alignment:e.alignment,design:e.design,"is-loading":e.isLoading,to:e.linkTo,onClick:n[0]||(n[0]=i=>e.$emit("action"))},{default:L(()=>[W(H(e.value),1)]),_:1},8,["alignment","design","is-loading","to"])):N("",!0)}}});const RA=J(PA,[["__scopeId","data-v-67969699"]]),VA=["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентярь","Октябрь","Ноябрь","Декабрь"];function _n(t,e){function n(){if((e==null?void 0:e.precision)==="minute"){const p=new Date;return p.setSeconds(59,999),p}if((e==null?void 0:e.precision)==="day"){const p=new Date;return p.setHours(23,59,59,999),p}if((e==null?void 0:e.precision)==="month"){const p=new Date;return p.setDate(1),p.setHours(23,59,59,999),p}if((e==null?void 0:e.precision)==="year"){const p=new Date;return p.setMonth(0,1),p.setHours(23,59,59,999),p}return new Date}function s(){const p=n();return p.setDate(p.getDate()-1),p.setHours(0,0,1),p}function i(p){return t.getDate()===p.getDate()&&t.getMonth()===p.getMonth()&&t.getFullYear()===p.getFullYear()}function o(){const p=new Date,v=new Date;return v.setDate(p.getDate()-7),t>v}function r(){return t.getMonth()===new Date().getMonth()}function a(){return _n(t).isOnSameDay(new Date)}function l(){const p=new Date,v=new Date;return v.setDate(p.getDate()-1),_n(t).isOnSameDay(v)}function c(){const p=new Date,v=new Date;return v.setDate(p.getDate()+1),_n(t).isOnSameDay(v)}function u(){return t.getFullYear()===new Date().getFullYear()}function d(){const p=new Date,v=new Date;return v.setDate(p.getDate()-7),t>v}function h(p){const v=Math.abs(t.getTime()-p.getTime());return Math.ceil(v/(1e3*60*60*24))}function f(){const p=_n(t);if((e==null?void 0:e.precision)==="minute"){if(p.isToday()){const v=Math.abs(t.getTime()-new Date().getTime()),y=Math.ceil(v/(1e3*60));if(y<60)switch(String(y).padStart(2).charAt(1)){case"0":return"только что";case"1":return"минуту назад";case"2":case"3":case"4":return`${y} минуты назад`;default:return`${y} минут назад`}return"сегодня в "+t.toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"})}return p.isYesterday()?"вчера":p.isTomorrow()?"завтра":`${t.getDate()>=10?t.getDate():`0${t.getDate()}`}.${t.getMonth()+1>=10?t.getMonth()+1:`0${t.getMonth()+1}`}`}return(e==null?void 0:e.precision)==="day"&&p.isInThisYear()?p.isToday()?"cегодня":p.isYesterday()?"вчера":p.isTomorrow()?"завтра":`${t.getDate()>=10?t.getDate():`0${t.getDate()}`}.${t.getMonth()+1>=10?t.getMonth()+1:`0${t.getMonth()+1}`}`:(e==null?void 0:e.precision)==="day"&&!p.isInThisYear()?`${t.getDate()>=10?t.getDate():`0${t.getDate()}`}.${t.getMonth()+1>=10?t.getMonth()+1:`0${t.getMonth()+1}`}.${t.getFullYear()}`:p.isOnLastWeek()?"на этой неделе":p.isInThisMonth()?"в этом месяце":p.isInThisYear()?VA[t.getMonth()]:t.getFullYear().toString()}return{isOnSameDay:i,isOnLastWeek:o,isInThisMonth:r,isToday:a,isYesterday:l,isTomorrow:c,isInThisYear:u,toBeautiful:f,daysDifference:h,isOnThisWeek:d,today:n,yesterday:s}}const NA=j({__name:"entity-table-date-cell",props:{value:{}},setup(t){return(e,n)=>H(e.value?g(_n)(e.value,{precision:"day"}).toBeautiful():"-")}}),UA=j({__name:"entity-table-icon-cell",props:{value:{}},setup(t){return(e,n)=>{const s=It;return e.value?(b(),B(s,{key:0,name:e.value},null,8,["name"])):N("",!0)}}}),BA=j({__name:"entity-table-iterator-cell",props:{value:{}},setup(t){return(e,n)=>(b(),$("span",null,H(e.value),1))}}),jA=["innerHTML"],zA=j({__name:"entity-table-text-cell",props:{value:{}},setup(t){return(e,n)=>(b(),$("span",{innerHTML:e.value},null,8,jA))}}),FA={class:"subject-name"},WA={class:"subject-name__name"},HA=j({__name:"subject-name",props:{subject:{}},setup(t){return(e,n)=>(b(),$("div",FA,[m("div",{class:"subject-name__badge",style:Qt({backgroundColor:e.subject.color})},null,4),m("span",WA,H(e.subject.name),1)]))}});const qa=J(HA,[["__scopeId","data-v-8b53a942"]]),qA={key:1},GA=j({__name:"entity-table-subject-cell",props:{value:{}},setup(t){return(e,n)=>{const s=qa;return b(),$("span",null,[e.value?(b(),B(s,{key:0,subject:e.value},null,8,["subject"])):(b(),$("span",qA,"-"))])}}}),YA=j({__name:"entity-table-image-cell",props:{value:{}},setup(t){return(e,n)=>{var i;const s=xc;return b(),B(s,{class:"entity-table-image-cell",src:(i=e.value)==null?void 0:i.src},null,8,["src"])}}});const KA=J(YA,[["__scopeId","data-v-25cf01ff"]]),ZA=t=>(Ie("data-v-b23c35d5"),t=t(),Oe(),t),XA={class:"user-cell"},JA={class:"user-cell__name"},QA={key:0,class:"user-cell__mentors"},eM=ZA(()=>m("div",{class:"user-cell__mentors__mentor"},[m("small",null," Кураторы: ")],-1)),tM=j({__name:"entity-table-user-cell",props:{value:{}},setup(t){return(e,n)=>{var s,i,o,r;return b(),$("div",XA,[m("p",JA,H((s=e.value)!=null&&s.verificationToken?"❌":"")+" "+H(((i=e.value)==null?void 0:i.name)||"-"),1),e.value&&((o=e.value)==null?void 0:o.role)==="student"&&((r=e.value.mentorAssignmentsAsStudent)!=null&&r.length)?(b(),$("div",QA,[eM,(b(!0),$(ue,null,Be(e.value.mentorAssignmentsAsStudent,a=>(b(),$("div",{class:"user-cell__mentors__mentor",key:a.id},[m("small",null,[m("span",{class:"user-cell__mentors__mentor__subject-badge",style:Qt({backgroundColor:a.subject.color})},null,4),W(" "+H(a.mentor.name),1)])]))),128))])):N("",!0)])}}});const nM=J(tM,[["__scopeId","data-v-b23c35d5"]]);async function sM(t,e,n,s){t.action&&(await t.action(e),s[n]=Math.random().toString())}function iM(t,e,n){var i;let s=null;switch(t.type){case"icon":case"date":case"avatar":case"text":case"subject":case"image":case"user":case"button":s=(i=t.value)==null?void 0:i.call(t,e);break;case"iterator":s=n+1;break;default:s=null;break}return Array.isArray(s)?(s=s.map((o,r)=>({value:o,joinType:r===s.length-1?void 0:t.joinType})),s):[{value:s}]}function oM(t){switch(t){case"text":return zA;case"icon":return UA;case"date":return NA;case"avatar":return LA;case"iterator":return BA;case"button":return RA;case"subject":return GA;case"image":return KA;case"user":return nM;default:return"td"}}function rM(t,e,n=[],s=0){const i=[];for(const o of t){const r=[...n,o.id],a=(e(o)||[]).map(u=>({...u,parentId:o.id,parentIdChain:r,collapsed:!0})),l={...o,nestingLevel:s,collapsed:s>0},c=[];a.length&&c.push(...rM(a,e,r,s+1)),i.push(l,...c)}return i}const V5=t=>(Ie("data-v-e1352f75"),t=t(),Oe(),t),aM={class:"entity-table-container"},lM={key:0,class:"entity-table"},cM={key:0},uM=["onClick"],dM=["onClick"],hM={key:0},fM={key:1},pM={key:2},mM={key:0,class:"entity-table__actions"},gM={key:1,class:"entity-table__loading"},_M={class:"entity-table__loading__icon"},vM={key:2,class:"entity-table__empty-text"},yM={key:0,class:"entity-table__empty-text__custom"},bM={key:1,class:"entity-table__empty-text__default"},wM=V5(()=>m("b",null,"Контент не найден.",-1)),xM=V5(()=>m("br",null,null,-1)),SM=j({__name:"entity-table",props:{editable:{type:Boolean},emptyText:{},cols:{},data:{},isLoading:{type:Boolean},actions:{type:Function}},emits:["select"],setup(t,{emit:e}){const n=t,s=e,i=Ws(),o=Gt(n.cols.map(()=>Math.random().toString())),r=Y({});ke(r,l=>{const c=Object.keys(l).filter(u=>l[u]);s("select",c)},{deep:!0});function a(l,c){l.linkTo&&(typeof l.linkTo=="function"?i.push(l.linkTo(c)):i.push(l.linkTo))}return(l,c)=>{const u=Ov,d=Sn,h=Gp,f=it("auto-animate");return b(),$("div",aM,[l.data&&l.data.length?(b(),$("table",lM,[m("thead",null,[m("tr",null,[(b(!0),$(ue,null,Be(l.cols,(p,v)=>(b(),$("th",{class:Se(`col-type-${p.type}`),key:v,style:Qt({width:p.width})},H(p.title),7))),128))])]),l.isLoading?N("",!0):$e((b(),$("tbody",cM,[(b(!0),$(ue,null,Be(l.data,(p,v)=>(b(),$("tr",{key:p.id},[(b(!0),$(ue,null,Be(l.cols,(y,_)=>(b(),$("td",{key:_,class:Se([`col-type-${y.type}`,{"is-link":y.linkTo}]),onClick:w=>a(y,p)},[l.editable&&_===0?(b(),$("b",{key:0,class:Se(["edit-checkbox",{"edit-checkbox--checked":r.value[p.id]}]),onClick:w=>r.value[p.id]=!r.value[p.id]},null,10,dM)):N("",!0),(b(!0),$(ue,null,Be(g(iM)(y,p,v),(w,x)=>{var k;return b(),$("span",{class:"table-cell",key:o[x]},[(b(),B(Vn(g(oM)(y.type)),{value:w.value,alignment:y.alignment,design:typeof y.design=="function"?y.design(p):y.design,"is-loading":(k=y.isLoading)==null?void 0:k.call(y,p),"link-to":typeof y.linkTo=="function"?y.linkTo(p):y.linkTo,onAction:C=>g(sM)(y,p,_,o)},null,40,["value","alignment","design","is-loading","link-to","onAction"])),w.joinType==="br"?(b(),$("br",hM)):w.joinType==="/"?(b(),$("span",fM,"/")):w.joinType===","?(b(),$("span",pM,",")):N("",!0)])}),128))],10,uM))),128)),l.actions?(b(),$("td",mM,[E(u,{items:l.actions(p)},null,8,["items"])])):N("",!0)]))),128))])),[[f]])])):N("",!0),l.isLoading?(b(),$("div",gM,[m("div",_M,[E(d,{contrast:""})])])):!l.data||!l.data.length?(b(),$("div",vM,[l.emptyText?(b(),$("div",yM,H(l.emptyText),1)):(b(),$("div",bM,[E(h,{class:"entity-table__empty-text__img"}),wM,W(),xM,W(" Попробуйте изменить параметры поиска или перезагрузить страницу. ")]))])):N("",!0)])}}});const cs=J(SM,[["__scopeId","data-v-e1352f75"]]),kM={class:"works-table"},$M={class:"works-table__table"},Nc=j({__name:"works-table",props:{works:{},loading:{type:Boolean},editable:{type:Boolean}},emits:["select"],setup(t,{emit:e}){const n=e,s=[{title:"",value:c=>r(c).icon,type:"icon"},{title:"Название работы / Ученик / Куратор(ы)",type:"text",joinType:"br",value:c=>{var u,d,h,f;return[((u=c.work)==null?void 0:u.name)||"-",`<small>${((d=c.student)==null?void 0:d.name)||"-"}</small>`,((h=c.work)==null?void 0:h.type)==="test"?"":`<small>Кураторы: ${((f=c.mentors)==null?void 0:f.map(p=>p.name).join(", "))||"-"}</small>`]}},{title:"Дедлайн сдачи/сдано",type:"text",joinType:"br",value:c=>[c.solveDeadlineShifted?`➡️📃 ${a(c.solveDeadlineAt)}`:a(c.solveDeadlineAt),a(c.solvedAt)]},{title:"Дедлайн проверки/проверено",type:"text",joinType:"br",value:c=>[c.checkDeadlineShifted?`➡️📃 ${a(c.checkDeadlineAt)}`:a(c.checkDeadlineAt),a(c.checkedAt)]},{title:"Статус работы",type:"text",joinType:"br",value:c=>[o(c),i(c)]},{title:"Результат",type:"text",joinType:"/",value:c=>[c.score===null?"-":c.score,c.maxScore]},{title:"",type:"button",design:"primary",alignment:"center",value:c=>r(c).action,linkTo:c=>r(c).link}];function i(c){switch(c.checkStatus){case"checked-in-deadline":return'<span style="color: var(--text-light)">Проверено в дедлайн</span>';case"checked-after-deadline":return'<span style="color: var(--warning)">Проверено после дедлайна</span>';case"checked-automatically":return'<span style="color: var(--success)">Проверено автоматически</span>';case"not-checked":return'<span style="color: var(--text-light)">Не проверено</span>';case"in-progress":return'<span style="color: var(--text-light)">В процессе</span>';default:return'<span style="color: var(--info)">-</span>'}}function o(c){switch(c.solveStatus){case"made-in-deadline":return'<span style="color:var(--success)">Сдано в дедлайн</span>';case"made-after-deadline":return'<span style="color:var(--danger)">Сдано после дедлайна</span>';case"in-progress":return'<span style="color:var(--warning)">В процессе</span>';case"not-started":default:return'<span style="color:var(--text-light)">-</span>'}}function r(c){const u=D.Context.User.role;return u==="admin"||u==="teacher"?{action:"Просмотреть",link:`/assigned-works/${c.id}/read`,icon:c.checkStatus==="not-checked"?"attention-yellow":"check-green"}:u==="mentor"?c.solveStatus==="not-started"||c.solveStatus==="in-progress"?{action:"Просмотреть",link:`/assigned-works/${c.id}/read`,icon:"cross-red"}:c.checkStatus==="not-checked"&&(c.solveStatus==="made-in-deadline"||c.solveStatus==="made-after-deadline")?{action:"Ожидает проверки",link:`/assigned-works/${c.id}/check`,icon:"attention-yellow"}:c.checkStatus==="not-checked"?{action:"Проверить",link:`/assigned-works/${c.id}/check`,icon:"attention-yellow"}:c.checkStatus==="in-progress"?{action:"Продолжить проверку",link:`/assigned-works/${c.id}/check`,icon:"attention-yellow"}:{action:"Просмотреть",link:`/assigned-works/${c.id}/read`,icon:"check-green"}:c.solveStatus==="not-started"?{action:"Начать выполнение",link:`/assigned-works/${c.id}/solve`,icon:"cross-red"}:c.solveStatus==="in-progress"?{action:"Продолжить выполнение",link:`/assigned-works/${c.id}/solve`,icon:"cross-red"}:c.checkStatus==="not-checked"&&(c.solveStatus==="made-in-deadline"||c.solveStatus==="made-after-deadline")?{action:"Ожидает проверки",link:`/assigned-works/${c.id}/read`,icon:"attention-yellow"}:{action:"Просмотреть",link:`/assigned-works/${c.id}/read`,icon:"check-green"}}function a(c){return c?_n(c,{precision:"day"}).toBeautiful():"-"}function l(c){n("select",c)}return(c,u)=>{const d=cs;return b(),$("div",kM,[m("div",$M,[E(d,{cols:s,data:c.works,"is-loading":c.loading,editable:c.editable,onSelect:u[0]||(u[0]=h=>l(h))},null,8,["data","is-loading","editable"])])])}}}),CM={class:"sure-modal__container"},EM={class:"sure-modal__title"},TM={class:"sure-modal__text"},AM={class:"sure-modal__buttons"},MM=j({__name:"sure-modal",props:{visible:{type:Boolean},actionsDisabled:{type:Boolean},confirmDisabled:{type:Boolean},stayOpen:{type:Boolean}},emits:["update:visible","confirm","cancel"],setup(t,{emit:e}){const n=t,s=e,i=()=>{s("update:visible",!1),s("cancel")},o=()=>{s("confirm"),n.stayOpen||s("update:visible",!1)};return(r,a)=>{const l=xt,c=it("auto-animate");return b(),B(Ti,{to:"body"},[$e((b(),$("div",{class:Se(["sure-modal",{"sure-modal--visible":r.visible}])},[r.visible?(b(),$("div",{key:0,class:"sure-modal__inner",onClick:un(i,["self"])},[m("div",CM,[m("div",EM,[lt(r.$slots,"title",{},void 0,!0)]),m("div",TM,[lt(r.$slots,"text",{},void 0,!0)]),m("div",AM,[E(l,{alignment:"stretch",onClick:i,design:"secondary",class:"sure-modal__buttons__cancel",disabled:r.actionsDisabled},{default:L(()=>[W(" Отмена ")]),_:1},8,["disabled"]),E(l,{alignment:"stretch",onClick:o,design:"primary",class:"sure-modal__buttons__confirm",disabled:r.actionsDisabled||r.confirmDisabled},{default:L(()=>[W(" Подтвердить ")]),_:1},8,["disabled"])])])])):N("",!0)],2)),[[c]])])}}});const hn=J(MM,[["__scopeId","data-v-e49c07fa"]]),IM=Kt("assigned-works-module:transfer-work",()=>{const t=D.Services.AssignedWork,e=D.Services.UI,n=D.Services.User;async function s(d){try{return await n.getMentors(d)}catch(h){e.openErrorModal("Ошибка при загрузке списка менторов",h.message)}}const{results:i,resultsMeta:o,isListLoading:r,pagination:a}=Ht(s,{immediate:!1}),l=Y("");async function c(d){if(!l.value){e.openWarningModal("Выберите куратора");return}try{await t.transferAssignedWork(d,l.value,{showLoader:!0}),e.openSuccessModal("Работа успешно передана другому куратору")}catch(h){e.openErrorModal("Ошибка при передаче работы",h.message)}}async function u(d){try{for(const h of d)await t.transferAssignedWork(h.id,l.value,{showLoader:!0});e.openSuccessModal("Работы успешно переданы другому ментору")}catch(h){e.openErrorModal("Ошибка при передаче работ",h.message)}}return{pagination:a,results:i,resultsMeta:o,isListLoading:r,selectedMentorId:l,transfer:c,transferWorks:u}}),OM=t=>(Ie("data-v-5e662cee"),t=t(),Oe(),t),DM=OM(()=>m("h2",null,"Передать работы",-1)),LM={class:"transfer-assigned-work-modal__label"},PM={class:"transfer-assigned-work-modal__select"},RM={class:"transfer-assigned-work-modal__select__search"},VM={class:"transfer-assigned-work-modal__select__list"},NM={key:0,class:"transfer-assigned-work-modal__select__pagination"},UM=j({__name:"transfer-assigned-work-modal",props:{visible:{type:Boolean},assignedWorks:{}},emits:["update:visible"],setup(t,{emit:e}){const n=t,s=e,i=IM(),o=q({get:()=>n.visible,set:r=>s("update:visible",r)});return(r,a)=>{const l=kn,c=Wa,u=bn,d=hn;return b(),B(d,{visible:o.value,"onUpdate:visible":a[3]||(a[3]=h=>o.value=h),onConfirm:a[4]||(a[4]=h=>g(i).transferWorks(r.assignedWorks))},{title:L(()=>[DM]),text:L(()=>[m("div",LM," Выбрано работ: "+H(r.assignedWorks.length),1),m("div",PM,[m("div",RM,[E(l,{modelValue:g(i).pagination.search,"onUpdate:modelValue":a[0]||(a[0]=h=>g(i).pagination.search=h),"is-loading":g(i).isListLoading},null,8,["modelValue","is-loading"])]),m("div",VM,[E(c,{modelValue:g(i).selectedMentorId,"onUpdate:modelValue":a[1]||(a[1]=h=>g(i).selectedMentorId=h),items:g(i).results,"item-label-key":"name,username","item-key":"id"},null,8,["modelValue","items"])]),g(i).pagination.page&&g(i).pagination.limit?(b(),$("div",NM,[E(u,{page:g(i).pagination.page,"onUpdate:page":a[2]||(a[2]=h=>g(i).pagination.page=h),total:g(i).resultsMeta.total,limit:g(i).pagination.limit},null,8,["page","total","limit"])])):N("",!0)])]),_:1},8,["visible"])}}});const BM=J(UM,[["__scopeId","data-v-5e662cee"]]),jM=m("h2",null,"Архивировать работы",-1),zM={class:"archive-works-modal__label"},FM=j({__name:"archive-works-modal",props:{visible:{type:Boolean},assignedWorks:{}},emits:["update:visible"],setup(t,{emit:e}){const n=t,s=e,i=Mv(),o=q({get:()=>n.visible,set:r=>s("update:visible",r)});return(r,a)=>{const l=hn;return b(),B(l,{visible:o.value,"onUpdate:visible":a[0]||(a[0]=c=>o.value=c),onConfirm:a[1]||(a[1]=c=>g(i).archiveWorks(r.assignedWorks))},{title:L(()=>[jM]),text:L(()=>[m("div",zM," Выбрано работ: "+H(r.assignedWorks.length),1)]),_:1},8,["visible"])}}}),WM={class:"actions-with-selected"},HM={key:0,class:"actions-with-selected__inner"},qM={class:"actions-with-selected__label"},GM={class:"actions-with-selected__actions"},YM=j({__name:"actions-with-selected",props:{selectedAssignedWorks:{}},emits:["delete","send-to-revision"],setup(t){const e=Y(!1),n=Y(!1),s=Y(!1),i=Y(!1);return(o,r)=>{const a=xt,l=hn,c=it("auto-animate");return b(),$(ue,null,[$e((b(),$("div",WM,[o.selectedAssignedWorks.length&&g(D).Context.roleIs(["mentor","student"])?(b(),$("div",HM,[m("p",qM," Выбрано: "+H(o.selectedAssignedWorks.length),1),m("div",GM,[E(a,{design:"danger",alignment:"stretch",onClick:r[0]||(r[0]=u=>s.value=!0)},{default:L(()=>[W(" Удалить ")]),_:1}),E(a,{design:"warning",alignment:"stretch",onClick:r[1]||(r[1]=u=>n.value=!0)},{default:L(()=>[W(" Архивировать ")]),_:1}),g(D).Context.roleIs(["mentor"])?(b(),B(a,{key:0,design:"secondary",alignment:"stretch",onClick:r[2]||(r[2]=u=>i.value=!0)},{default:L(()=>[W(" Отправить на дорешивание ")]),_:1})):N("",!0),g(D).Context.roleIs(["mentor"])?(b(),B(a,{key:1,design:"secondary",alignment:"stretch",onClick:r[3]||(r[3]=u=>e.value=!0)},{default:L(()=>[W(" Передать другому куратору ")]),_:1})):N("",!0)])])):N("",!0)])),[[c]]),E(BM,{"assigned-works":o.selectedAssignedWorks,visible:e.value,"onUpdate:visible":r[4]||(r[4]=u=>e.value=u)},null,8,["assigned-works","visible"]),E(FM,{"assigned-works":o.selectedAssignedWorks,visible:n.value,"onUpdate:visible":r[5]||(r[5]=u=>n.value=u)},null,8,["assigned-works","visible"]),E(l,{visible:s.value,"onUpdate:visible":r[6]||(r[6]=u=>s.value=u),onConfirm:r[7]||(r[7]=u=>o.$emit("delete",o.selectedAssignedWorks))},{title:L(()=>[W(" Удаление работ ")]),text:L(()=>[W(" Вы уверены, что хотите удалить выбранные работы? ")]),_:1},8,["visible"]),E(l,{visible:i.value,"onUpdate:visible":r[8]||(r[8]=u=>i.value=u),onConfirm:r[9]||(r[9]=u=>o.$emit("send-to-revision",o.selectedAssignedWorks))},{title:L(()=>[W(" Отправка на дорешивание ")]),text:L(()=>[W(" Вы уверены, что хотите отправить выбранные работы обратно ученикам на дорешивание? ")]),_:1},8,["visible"])],64)}}});const KM=J(YM,[["__scopeId","data-v-0fe2a8e5"]]),ZM=m("h2",null,"Разархивировать работы",-1),XM={class:"archive-works-modal__label"},JM=j({__name:"unarchive-works-modal",props:{visible:{type:Boolean},assignedWorks:{}},emits:["update:visible"],setup(t,{emit:e}){const n=t,s=e,i=Mv(),o=q({get:()=>n.visible,set:r=>s("update:visible",r)});return(r,a)=>{const l=hn;return b(),B(l,{visible:o.value,"onUpdate:visible":a[0]||(a[0]=c=>o.value=c),onConfirm:a[1]||(a[1]=c=>g(i).unarchiveWorks(r.assignedWorks))},{title:L(()=>[ZM]),text:L(()=>[m("div",XM," Выбрано работ: "+H(r.assignedWorks.length),1)]),_:1},8,["visible"])}}}),QM={class:"actions-with-selected"},eI={key:0,class:"actions-with-selected__inner"},tI={class:"actions-with-selected__label"},nI={class:"actions-with-selected__actions"},sI=j({__name:"actions-with-archived-selected",props:{selectedAssignedWorks:{}},setup(t){const e=Y(!1);return(n,s)=>{const i=xt,o=it("auto-animate");return b(),$(ue,null,[$e((b(),$("div",QM,[n.selectedAssignedWorks.length?(b(),$("div",eI,[m("p",tI," Выбрано: "+H(n.selectedAssignedWorks.length),1),m("div",nI,[E(i,{design:"danger",onClick:s[0]||(s[0]=r=>e.value=!0)},{default:L(()=>[W(" Разархивировать ")]),_:1})])])):N("",!0)])),[[o]]),E(JM,{"assigned-works":n.selectedAssignedWorks,visible:e.value,"onUpdate:visible":s[1]||(s[1]=r=>e.value=r)},null,8,["assigned-works","visible"])],64)}}});const iI=J(sI,[["__scopeId","data-v-6afc1083"]]);const oI={},rI={class:"error-block"},aI={class:"error-block__icon"},lI={class:"error-block__text"};function cI(t,e){const n=It;return b(),$("div",rI,[m("div",aI,[E(n,{name:"cross-red"})]),m("div",lI,[lt(t.$slots,"default",{},void 0,!0)])])}const Qo=J(oI,[["render",cI],["__scopeId","data-v-05cd612e"]]),uI={class:"select-input"},dI={class:"select-input__label"},hI={class:"select-input__label-text"},fI=["disabled"],pI=["value"],mI=j({__name:"select-input",props:{label:{},options:{},modelValue:{},readonly:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=e,i=q({get:()=>n.modelValue,set:o=>s("update:modelValue",o)});return(o,r)=>(b(),$("div",uI,[m("label",dI,[m("span",hI,H(o.label),1),$e(m("select",{disabled:o.readonly,class:Se(["select-input__select",{"select-input__select--readonly":o.readonly}]),"onUpdate:modelValue":r[0]||(r[0]=a=>i.value=a)},[(b(!0),$(ue,null,Be(o.options,a=>(b(),$("option",{key:a.value,value:a.value},H(a.label),9,pI))),128))],10,fI),[[Ev,i.value]])])]))}});const us=J(mI,[["__scopeId","data-v-7bc85966"]]),gI=j({__name:"subject-select-input",props:{label:{},modelValue:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=e,i=D.Services.Subject,o=D.Services.UI,r=Y([]),a=q(()=>r.value.map(u=>({value:u.id,label:u.name})));async function l(){try{const u=await i.getSubjects();r.value=u.data}catch(u){o.openErrorModal("Произошла ошибка при загрузке предметов",u.message)}}l();const c=q({get:()=>n.modelValue,set:u=>s("update:modelValue",u)});return(u,d)=>{const h=us;return b(),B(h,{label:u.label,modelValue:c.value,"onUpdate:modelValue":d[0]||(d[0]=f=>c.value=f),options:a.value},null,8,["label","modelValue","options"])}}}),_I={class:"sure-delete-modal__container"},vI={class:"sure-delete-modal__title"},yI={class:"sure-delete-modal__text"},bI={class:"sure-delete-modal__buttons"},wI=j({__name:"sure-delete-modal",props:{visible:{type:Boolean},actionsDisabled:{type:Boolean},stayOpen:{type:Boolean}},emits:["update:visible","confirm","cancel"],setup(t,{emit:e}){const n=t,s=e,i=()=>{s("update:visible",!1),s("cancel")},o=()=>{s("confirm"),n.stayOpen||s("update:visible",!1)};return(r,a)=>{const l=xt,c=it("auto-animate");return b(),B(Ti,{to:"body"},[$e((b(),$("div",{class:Se(["sure-delete-modal",{"sure-delete-modal--visible":r.visible}])},[r.visible?(b(),$("div",{key:0,class:"sure-delete-modal__inner",onClick:un(i,["self"])},[m("div",_I,[m("div",vI,[lt(r.$slots,"title",{},void 0,!0)]),m("div",yI,[lt(r.$slots,"text",{},void 0,!0)]),m("div",bI,[E(l,{alignment:"stretch",onClick:i,design:"secondary",class:"sure-delete-modal__buttons__cancel",disabled:r.actionsDisabled},{default:L(()=>[W(" Отмена ")]),_:1},8,["disabled"]),E(l,{alignment:"stretch",onClick:o,design:"danger",class:"sure-delete-modal__buttons__confirm",disabled:r.actionsDisabled},{default:L(()=>[W(" Удалить ")]),_:1},8,["disabled"])])])])):N("",!0)],2)),[[c]])])}}});const zd=J(wI,[["__scopeId","data-v-c201b4b0"]]),xI={class:"comment-modal"},SI={class:"comment-modal__title"},kI={key:0,class:"comment-modal__title--error"},$I={key:1,class:"comment-modal__title--warning"},CI={key:2,class:"comment-modal__title--other"},EI={key:3,class:"comment-modal__title--custom"},TI={class:"comment-modal__text"},AI={key:0,class:"comment-modal__buttons"},MI=j({__name:"quill-comment-modal",props:{visible:{type:Boolean},comment:{},editable:{type:Boolean},positionX:{},positionY:{}},emits:["update:visible","delete"],setup(t,{emit:e}){const n=t,s=e,i=q({get:()=>n.visible,set:a=>s("update:visible",a)}),o=q(()=>({x:window.innerWidth>400?n.positionX:10,y:n.positionY+(n.comment.imageSrc?0:10)}));function r(){s("delete")}return(a,l)=>{const c=xt,u=Iv;return b(),B(u,{position:o.value,visible:i.value,"onUpdate:visible":l[1]||(l[1]=d=>i.value=d),absolute:""},{default:L(()=>[m("div",xI,[m("div",SI,[a.comment.type==="fact-error"?(b(),$("h3",kI," Фактическая ошибка ")):a.comment.type==="logic-error"?(b(),$("h3",$I," Логическая ошибка ")):a.comment.type==="..."?(b(),$("h3",CI," Комментарий ")):(b(),$("h3",EI," Критерий "+H(a.comment.type),1))]),m("div",TI,[m("p",null,H(a.comment.content),1)]),a.editable?(b(),$("div",AI,[E(c,{alignment:"stretch",onClick:l[0]||(l[0]=d=>r()),design:"danger",class:"comment-modal__buttons__remove"},{default:L(()=>[W(" Удалить ")]),_:1})])):N("",!0)])]),_:1},8,["position","visible"])}}});const II=J(MI,[["__scopeId","data-v-de863ab9"]]),OI={class:"horizontal-selection"},DI=["onClick"],LI=j({__name:"horizontal-selection",props:{options:{},modelValue:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=e,i=q({get:()=>n.modelValue,set:o=>s("update:modelValue",o)});return(o,r)=>(b(),$("div",OI,[(b(!0),$(ue,null,Be(o.options,a=>(b(),$("div",{class:Se(["horizontal-selection__option",{"horizontal-selection__option--selected":i.value===a}]),key:a,onClick:l=>i.value=a},H(a),11,DI))),128))]))}});const PI=J(LI,[["__scopeId","data-v-22e56387"]]),RI=t=>(Ie("data-v-fedbe5cf"),t=t(),Oe(),t),VI={key:0,class:"comment-popup__inner"},NI=RI(()=>m("div",{class:"comment-popup__label"},[m("label",null,"Комментарий")],-1)),UI={class:"comment-popup__field"},BI={class:"comment-popup__toggle"},jI={class:"comment-popup__actions"},zI=j({__name:"quill-comment-popup",props:{modelValue:{},commentTypes:{}},emits:["update:modelValue","submit"],setup(t,{emit:e}){const n=t,s=e,i=[{value:"logic-error",label:"Логическая ошибка"},{value:"fact-error",label:"Фактическая ошибка"}],o=q({get:()=>n.modelValue,set:a=>s("update:modelValue",a)});ke(o,()=>{var a;(a=n.commentTypes)!=null&&a.length&&!n.commentTypes.includes(o.value.type)&&(o.value.type=n.commentTypes[0])},{deep:!0,immediate:!0});function r(){o.value.visible.popup=!1,s("submit")}return(a,l)=>{var d;const c=PI,u=wc;return(d=o.value)!=null&&d.visible.popup?(b(),$("div",{key:0,class:"comment-popup",style:Qt({top:`${o.value.popupPosition?o.value.popupPosition.y:o.value.y+15}px`,left:`${o.value.popupPosition?o.value.popupPosition.x:o.value.x}px`})},[o.value.visible?(b(),$("div",VI,[NI,m("div",UI,[$e(m("textarea",{type:"text","onUpdate:modelValue":l[0]||(l[0]=h=>o.value.content=h),onKeypress:l[1]||(l[1]=vi(un(h=>r(),["prevent"]),["enter"]))},null,544),[[Wo,o.value.content]])]),m("div",BI,[a.commentTypes?(b(),B(c,{key:0,options:a.commentTypes,modelValue:o.value.type,"onUpdate:modelValue":l[2]||(l[2]=h=>o.value.type=h)},null,8,["options","modelValue"])):(b(),B(u,{key:1,modelValue:o.value.type,"onUpdate:modelValue":l[3]||(l[3]=h=>o.value.type=h),values:i},null,8,["modelValue"]))]),m("div",jI,[m("button",{class:"comment-popup__actions__ok",onClick:l[4]||(l[4]=h=>r())}," Ок "),m("button",{class:"comment-popup__actions__cancel",onClick:l[5]||(l[5]=h=>o.value.visible.popup=!1)}," Отмена ")])])):N("",!0)],4)):N("",!0)}}});const FI=J(zI,[["__scopeId","data-v-fedbe5cf"]]),WI={class:"quill-prompt"},HI={key:0,class:"quill-prompt__inner"},qI={class:"quill-prompt__label"},GI={class:"quill-prompt__field"},YI={class:"quill-prompt__actions"},KI=j({__name:"quill-prompt",props:{action:{type:Function},label:{},visible:{type:Boolean}},emits:["update:modelValue","update:visible"],setup(t,{emit:e}){const n=t,s=e,i=Y(""),o=q({get:()=>n.visible,set:l=>s("update:visible",l)});async function r(){const l=n.action(i.value);l instanceof Promise&&await l,o.value=!1,i.value=""}function a(){o.value=!1,i.value=""}return(l,c)=>{const u=it("auto-animate");return $e((b(),$("div",WI,[o.value?(b(),$("div",HI,[m("div",qI,[m("label",null,H(l.label),1)]),m("div",GI,[$e(m("input",{type:"url","onUpdate:modelValue":c[0]||(c[0]=d=>i.value=d),onKeypress:c[1]||(c[1]=vi(d=>r(),["enter"]))},null,544),[[Wo,i.value]])]),m("div",YI,[m("button",{class:"quill-prompt__actions__ok",onClick:c[2]||(c[2]=d=>r())}," Ок "),m("button",{class:"quill-prompt__actions__cancel",onClick:c[3]||(c[3]=d=>a())}," Отмена ")])])):N("",!0)])),[[u]])}}});const ZI=J(KI,[["__scopeId","data-v-81902b38"]]),XI=j({__name:"text-format-icon",props:{name:{}},setup(t){const e=t,n=so("div");return Ud(Object.assign({"./icons/text-format-icons/align-center-icon.vue":()=>fe(()=>import("./align-center-icon-e7b35974.js"),[]),"./icons/text-format-icons/align-justify-icon.vue":()=>fe(()=>import("./align-justify-icon-cd232849.js"),[]),"./icons/text-format-icons/align-left-icon.vue":()=>fe(()=>import("./align-left-icon-d75a7126.js"),[]),"./icons/text-format-icons/align-right-icon.vue":()=>fe(()=>import("./align-right-icon-d8ff2d90.js"),[]),"./icons/text-format-icons/bold-icon.vue":()=>fe(()=>import("./bold-icon-fd23a257.js"),[]),"./icons/text-format-icons/clean-icon.vue":()=>fe(()=>import("./clean-icon-53455706.js"),[]),"./icons/text-format-icons/header-2-icon.vue":()=>fe(()=>import("./header-2-icon-48634636.js"),[]),"./icons/text-format-icons/header-3-icon.vue":()=>fe(()=>import("./header-3-icon-b297a921.js"),[]),"./icons/text-format-icons/header-4-icon.vue":()=>fe(()=>import("./header-4-icon-d2d4dc30.js"),[]),"./icons/text-format-icons/header-5-icon.vue":()=>fe(()=>import("./header-5-icon-53aed0d6.js"),[]),"./icons/text-format-icons/header-6-icon.vue":()=>fe(()=>import("./header-6-icon-75d6048a.js"),[]),"./icons/text-format-icons/header-icon.vue":()=>fe(()=>import("./header-icon-fc7482c7.js"),[]),"./icons/text-format-icons/image-icon.vue":()=>fe(()=>import("./image-icon-1d0c6c8b.js"),[]),"./icons/text-format-icons/italic-icon.vue":()=>fe(()=>import("./italic-icon-b6f9b68e.js"),[]),"./icons/text-format-icons/link-icon.vue":()=>fe(()=>import("./link-icon-81d6642d.js"),[]),"./icons/text-format-icons/list-bullet-icon.vue":()=>fe(()=>import("./list-bullet-icon-17a94923.js"),[]),"./icons/text-format-icons/list-check-icon.vue":()=>fe(()=>import("./list-check-icon-33b98242.js"),[]),"./icons/text-format-icons/list-ordered-icon.vue":()=>fe(()=>import("./list-ordered-icon-2c126a11.js"),[]),"./icons/text-format-icons/strike-icon.vue":()=>fe(()=>import("./strike-icon-81f90e98.js"),[]),"./icons/text-format-icons/subscript-icon.vue":()=>fe(()=>import("./subscript-icon-2d33f1c3.js"),[]),"./icons/text-format-icons/superscript-icon.vue":()=>fe(()=>import("./superscript-icon-2faf31de.js"),[]),"./icons/text-format-icons/table-delete-columns-icon.vue":()=>fe(()=>import("./table-delete-columns-icon-0e969e18.js"),[]),"./icons/text-format-icons/table-delete-rows-icon.vue":()=>fe(()=>import("./table-delete-rows-icon-c51e251b.js"),[]),"./icons/text-format-icons/table-icon.vue":()=>fe(()=>import("./table-icon-2f2c2b0d.js"),[]),"./icons/text-format-icons/table-insert-columns-icon.vue":()=>fe(()=>import("./table-insert-columns-icon-063997d3.js"),[]),"./icons/text-format-icons/table-insert-rows-icon.vue":()=>fe(()=>import("./table-insert-rows-icon-7b5ef362.js"),[]),"./icons/text-format-icons/underline-icon.vue":()=>fe(()=>import("./underline-icon-342ccc81.js"),[]),"./icons/text-format-icons/video-icon.vue":()=>fe(()=>import("./video-icon-8da76725.js"),[])}),`./icons/text-format-icons/${e.name}-icon.vue`).then(s=>{n.value=s.default}).catch(()=>{n.value="div"}),(s,i)=>(b(),B(Vn(n.value)))}});const JI=J(XI,[["__scopeId","data-v-41e2c79e"]]);var QI=typeof global=="object"&&global&&global.Object===Object&&global;const N5=QI;var eO=typeof self=="object"&&self&&self.Object===Object&&self,tO=N5||eO||Function("return this")();const uo=tO;var nO=uo.Symbol;const Br=nO;var U5=Object.prototype,sO=U5.hasOwnProperty,iO=U5.toString,Uc=Br?Br.toStringTag:void 0;function oO(t){var e=sO.call(t,Uc),n=t[Uc];try{t[Uc]=void 0;var s=!0}catch{}var i=iO.call(t);return s&&(e?t[Uc]=n:delete t[Uc]),i}var rO=Object.prototype,aO=rO.toString;function lO(t){return aO.call(t)}var cO="[object Null]",uO="[object Undefined]",ly=Br?Br.toStringTag:void 0;function Sc(t){return t==null?t===void 0?uO:cO:ly&&ly in Object(t)?oO(t):lO(t)}function Ho(t){return t!=null&&typeof t=="object"}var dO=Array.isArray;const Ia=dO;function Kr(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function B5(t){return t}var hO="[object AsyncFunction]",fO="[object Function]",pO="[object GeneratorFunction]",mO="[object Proxy]";function Dv(t){if(!Kr(t))return!1;var e=Sc(t);return e==fO||e==pO||e==hO||e==mO}var gO=uo["__core-js_shared__"];const Cg=gO;var cy=function(){var t=/[^.]+$/.exec(Cg&&Cg.keys&&Cg.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function _O(t){return!!cy&&cy in t}var vO=Function.prototype,yO=vO.toString;function Ga(t){if(t!=null){try{return yO.call(t)}catch{}try{return t+""}catch{}}return""}var bO=/[\\^$.*+?()[\]{}|]/g,wO=/^\[object .+?Constructor\]$/,xO=Function.prototype,SO=Object.prototype,kO=xO.toString,$O=SO.hasOwnProperty,CO=RegExp("^"+kO.call($O).replace(bO,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function EO(t){if(!Kr(t)||_O(t))return!1;var e=Dv(t)?CO:wO;return e.test(Ga(t))}function TO(t,e){return t==null?void 0:t[e]}function Ya(t,e){var n=TO(t,e);return EO(n)?n:void 0}var AO=Ya(uo,"WeakMap");const z1=AO;var uy=Object.create,MO=function(){function t(){}return function(e){if(!Kr(e))return{};if(uy)return uy(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const IO=MO;function OO(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function j5(t,e){var n=-1,s=t.length;for(e||(e=Array(s));++n<s;)e[n]=t[n];return e}var DO=800,LO=16,PO=Date.now;function RO(t){var e=0,n=0;return function(){var s=PO(),i=LO-(s-n);if(n=s,i>0){if(++e>=DO)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function VO(t){return function(){return t}}var NO=function(){try{var t=Ya(Object,"defineProperty");return t({},"",{}),t}catch{}}();const Zf=NO;var UO=Zf?function(t,e){return Zf(t,"toString",{configurable:!0,enumerable:!1,value:VO(e),writable:!0})}:B5;const BO=UO;var jO=RO(BO);const zO=jO;function FO(t,e){for(var n=-1,s=t==null?0:t.length;++n<s&&e(t[n],n,t)!==!1;);return t}var WO=9007199254740991,HO=/^(?:0|[1-9]\d*)$/;function z5(t,e){var n=typeof t;return e=e??WO,!!e&&(n=="number"||n!="symbol"&&HO.test(t))&&t>-1&&t%1==0&&t<e}function Lv(t,e,n){e=="__proto__"&&Zf?Zf(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Fd(t,e){return t===e||t!==t&&e!==e}var qO=Object.prototype,GO=qO.hasOwnProperty;function F5(t,e,n){var s=t[e];(!(GO.call(t,e)&&Fd(s,n))||n===void 0&&!(e in t))&&Lv(t,e,n)}function Wd(t,e,n,s){var i=!n;n||(n={});for(var o=-1,r=e.length;++o<r;){var a=e[o],l=s?s(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?Lv(n,a,l):F5(n,a,l)}return n}var dy=Math.max;function YO(t,e,n){return e=dy(e===void 0?t.length-1:e,0),function(){for(var s=arguments,i=-1,o=dy(s.length-e,0),r=Array(o);++i<o;)r[i]=s[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=s[i];return a[e]=n(r),OO(t,this,a)}}function KO(t,e){return zO(YO(t,e,B5),t+"")}var ZO=9007199254740991;function W5(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=ZO}function Yp(t){return t!=null&&W5(t.length)&&!Dv(t)}function XO(t,e,n){if(!Kr(n))return!1;var s=typeof e;return(s=="number"?Yp(n)&&z5(e,n.length):s=="string"&&e in n)?Fd(n[e],t):!1}function JO(t){return KO(function(e,n){var s=-1,i=n.length,o=i>1?n[i-1]:void 0,r=i>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,r&&XO(n[0],n[1],r)&&(o=i<3?void 0:o,i=1),e=Object(e);++s<i;){var a=n[s];a&&t(e,a,s,o)}return e})}var QO=Object.prototype;function Pv(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||QO;return t===n}function eD(t,e){for(var n=-1,s=Array(t);++n<t;)s[n]=e(n);return s}var tD="[object Arguments]";function hy(t){return Ho(t)&&Sc(t)==tD}var H5=Object.prototype,nD=H5.hasOwnProperty,sD=H5.propertyIsEnumerable,iD=hy(function(){return arguments}())?hy:function(t){return Ho(t)&&nD.call(t,"callee")&&!sD.call(t,"callee")};const F1=iD;function oD(){return!1}var q5=typeof exports=="object"&&exports&&!exports.nodeType&&exports,fy=q5&&typeof module=="object"&&module&&!module.nodeType&&module,rD=fy&&fy.exports===q5,py=rD?uo.Buffer:void 0,aD=py?py.isBuffer:void 0,lD=aD||oD;const Gu=lD;var cD="[object Arguments]",uD="[object Array]",dD="[object Boolean]",hD="[object Date]",fD="[object Error]",pD="[object Function]",mD="[object Map]",gD="[object Number]",_D="[object Object]",vD="[object RegExp]",yD="[object Set]",bD="[object String]",wD="[object WeakMap]",xD="[object ArrayBuffer]",SD="[object DataView]",kD="[object Float32Array]",$D="[object Float64Array]",CD="[object Int8Array]",ED="[object Int16Array]",TD="[object Int32Array]",AD="[object Uint8Array]",MD="[object Uint8ClampedArray]",ID="[object Uint16Array]",OD="[object Uint32Array]",en={};en[kD]=en[$D]=en[CD]=en[ED]=en[TD]=en[AD]=en[MD]=en[ID]=en[OD]=!0;en[cD]=en[uD]=en[xD]=en[dD]=en[SD]=en[hD]=en[fD]=en[pD]=en[mD]=en[gD]=en[_D]=en[vD]=en[yD]=en[bD]=en[wD]=!1;function DD(t){return Ho(t)&&W5(t.length)&&!!en[Sc(t)]}function Rv(t){return function(e){return t(e)}}var G5=typeof exports=="object"&&exports&&!exports.nodeType&&exports,bu=G5&&typeof module=="object"&&module&&!module.nodeType&&module,LD=bu&&bu.exports===G5,Eg=LD&&N5.process,PD=function(){try{var t=bu&&bu.require&&bu.require("util").types;return t||Eg&&Eg.binding&&Eg.binding("util")}catch{}}();const ec=PD;var my=ec&&ec.isTypedArray,RD=my?Rv(my):DD;const Vv=RD;var VD=Object.prototype,ND=VD.hasOwnProperty;function Y5(t,e){var n=Ia(t),s=!n&&F1(t),i=!n&&!s&&Gu(t),o=!n&&!s&&!i&&Vv(t),r=n||s||i||o,a=r?eD(t.length,String):[],l=a.length;for(var c in t)(e||ND.call(t,c))&&!(r&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||z5(c,l)))&&a.push(c);return a}function K5(t,e){return function(n){return t(e(n))}}var UD=K5(Object.keys,Object);const BD=UD;var jD=Object.prototype,zD=jD.hasOwnProperty;function FD(t){if(!Pv(t))return BD(t);var e=[];for(var n in Object(t))zD.call(t,n)&&n!="constructor"&&e.push(n);return e}function Nv(t){return Yp(t)?Y5(t):FD(t)}function WD(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var HD=Object.prototype,qD=HD.hasOwnProperty;function GD(t){if(!Kr(t))return WD(t);var e=Pv(t),n=[];for(var s in t)s=="constructor"&&(e||!qD.call(t,s))||n.push(s);return n}function Hd(t){return Yp(t)?Y5(t,!0):GD(t)}var YD=Ya(Object,"create");const Yu=YD;function KD(){this.__data__=Yu?Yu(null):{},this.size=0}function ZD(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var XD="__lodash_hash_undefined__",JD=Object.prototype,QD=JD.hasOwnProperty;function eL(t){var e=this.__data__;if(Yu){var n=e[t];return n===XD?void 0:n}return QD.call(e,t)?e[t]:void 0}var tL=Object.prototype,nL=tL.hasOwnProperty;function sL(t){var e=this.__data__;return Yu?e[t]!==void 0:nL.call(e,t)}var iL="__lodash_hash_undefined__";function oL(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Yu&&e===void 0?iL:e,this}function Oa(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var s=t[e];this.set(s[0],s[1])}}Oa.prototype.clear=KD;Oa.prototype.delete=ZD;Oa.prototype.get=eL;Oa.prototype.has=sL;Oa.prototype.set=oL;function rL(){this.__data__=[],this.size=0}function Kp(t,e){for(var n=t.length;n--;)if(Fd(t[n][0],e))return n;return-1}var aL=Array.prototype,lL=aL.splice;function cL(t){var e=this.__data__,n=Kp(e,t);if(n<0)return!1;var s=e.length-1;return n==s?e.pop():lL.call(e,n,1),--this.size,!0}function uL(t){var e=this.__data__,n=Kp(e,t);return n<0?void 0:e[n][1]}function dL(t){return Kp(this.__data__,t)>-1}function hL(t,e){var n=this.__data__,s=Kp(n,t);return s<0?(++this.size,n.push([t,e])):n[s][1]=e,this}function er(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var s=t[e];this.set(s[0],s[1])}}er.prototype.clear=rL;er.prototype.delete=cL;er.prototype.get=uL;er.prototype.has=dL;er.prototype.set=hL;var fL=Ya(uo,"Map");const Ku=fL;function pL(){this.size=0,this.__data__={hash:new Oa,map:new(Ku||er),string:new Oa}}function mL(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Zp(t,e){var n=t.__data__;return mL(e)?n[typeof e=="string"?"string":"hash"]:n.map}function gL(t){var e=Zp(this,t).delete(t);return this.size-=e?1:0,e}function _L(t){return Zp(this,t).get(t)}function vL(t){return Zp(this,t).has(t)}function yL(t,e){var n=Zp(this,t),s=n.size;return n.set(t,e),this.size+=n.size==s?0:1,this}function Ka(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var s=t[e];this.set(s[0],s[1])}}Ka.prototype.clear=pL;Ka.prototype.delete=gL;Ka.prototype.get=_L;Ka.prototype.has=vL;Ka.prototype.set=yL;function Z5(t,e){for(var n=-1,s=e.length,i=t.length;++n<s;)t[i+n]=e[n];return t}var bL=K5(Object.getPrototypeOf,Object);const Uv=bL;var wL="[object Object]",xL=Function.prototype,SL=Object.prototype,X5=xL.toString,kL=SL.hasOwnProperty,$L=X5.call(Object);function CL(t){if(!Ho(t)||Sc(t)!=wL)return!1;var e=Uv(t);if(e===null)return!0;var n=kL.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&X5.call(n)==$L}function EL(){this.__data__=new er,this.size=0}function TL(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function AL(t){return this.__data__.get(t)}function ML(t){return this.__data__.has(t)}var IL=200;function OL(t,e){var n=this.__data__;if(n instanceof er){var s=n.__data__;if(!Ku||s.length<IL-1)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new Ka(s)}return n.set(t,e),this.size=n.size,this}function Zi(t){var e=this.__data__=new er(t);this.size=e.size}Zi.prototype.clear=EL;Zi.prototype.delete=TL;Zi.prototype.get=AL;Zi.prototype.has=ML;Zi.prototype.set=OL;function DL(t,e){return t&&Wd(e,Nv(e),t)}function LL(t,e){return t&&Wd(e,Hd(e),t)}var J5=typeof exports=="object"&&exports&&!exports.nodeType&&exports,gy=J5&&typeof module=="object"&&module&&!module.nodeType&&module,PL=gy&&gy.exports===J5,_y=PL?uo.Buffer:void 0,vy=_y?_y.allocUnsafe:void 0;function Q5(t,e){if(e)return t.slice();var n=t.length,s=vy?vy(n):new t.constructor(n);return t.copy(s),s}function RL(t,e){for(var n=-1,s=t==null?0:t.length,i=0,o=[];++n<s;){var r=t[n];e(r,n,t)&&(o[i++]=r)}return o}function e6(){return[]}var VL=Object.prototype,NL=VL.propertyIsEnumerable,yy=Object.getOwnPropertySymbols,UL=yy?function(t){return t==null?[]:(t=Object(t),RL(yy(t),function(e){return NL.call(t,e)}))}:e6;const Bv=UL;function BL(t,e){return Wd(t,Bv(t),e)}var jL=Object.getOwnPropertySymbols,zL=jL?function(t){for(var e=[];t;)Z5(e,Bv(t)),t=Uv(t);return e}:e6;const t6=zL;function FL(t,e){return Wd(t,t6(t),e)}function n6(t,e,n){var s=e(t);return Ia(t)?s:Z5(s,n(t))}function W1(t){return n6(t,Nv,Bv)}function WL(t){return n6(t,Hd,t6)}var HL=Ya(uo,"DataView");const H1=HL;var qL=Ya(uo,"Promise");const q1=qL;var GL=Ya(uo,"Set");const G1=GL;var by="[object Map]",YL="[object Object]",wy="[object Promise]",xy="[object Set]",Sy="[object WeakMap]",ky="[object DataView]",KL=Ga(H1),ZL=Ga(Ku),XL=Ga(q1),JL=Ga(G1),QL=Ga(z1),da=Sc;(H1&&da(new H1(new ArrayBuffer(1)))!=ky||Ku&&da(new Ku)!=by||q1&&da(q1.resolve())!=wy||G1&&da(new G1)!=xy||z1&&da(new z1)!=Sy)&&(da=function(t){var e=Sc(t),n=e==YL?t.constructor:void 0,s=n?Ga(n):"";if(s)switch(s){case KL:return ky;case ZL:return by;case XL:return wy;case JL:return xy;case QL:return Sy}return e});const Zu=da;var eP=Object.prototype,tP=eP.hasOwnProperty;function nP(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&tP.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var sP=uo.Uint8Array;const Xf=sP;function jv(t){var e=new t.constructor(t.byteLength);return new Xf(e).set(new Xf(t)),e}function iP(t,e){var n=e?jv(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var oP=/\w*$/;function rP(t){var e=new t.constructor(t.source,oP.exec(t));return e.lastIndex=t.lastIndex,e}var $y=Br?Br.prototype:void 0,Cy=$y?$y.valueOf:void 0;function aP(t){return Cy?Object(Cy.call(t)):{}}function s6(t,e){var n=e?jv(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var lP="[object Boolean]",cP="[object Date]",uP="[object Map]",dP="[object Number]",hP="[object RegExp]",fP="[object Set]",pP="[object String]",mP="[object Symbol]",gP="[object ArrayBuffer]",_P="[object DataView]",vP="[object Float32Array]",yP="[object Float64Array]",bP="[object Int8Array]",wP="[object Int16Array]",xP="[object Int32Array]",SP="[object Uint8Array]",kP="[object Uint8ClampedArray]",$P="[object Uint16Array]",CP="[object Uint32Array]";function EP(t,e,n){var s=t.constructor;switch(e){case gP:return jv(t);case lP:case cP:return new s(+t);case _P:return iP(t,n);case vP:case yP:case bP:case wP:case xP:case SP:case kP:case $P:case CP:return s6(t,n);case uP:return new s;case dP:case pP:return new s(t);case hP:return rP(t);case fP:return new s;case mP:return aP(t)}}function i6(t){return typeof t.constructor=="function"&&!Pv(t)?IO(Uv(t)):{}}var TP="[object Map]";function AP(t){return Ho(t)&&Zu(t)==TP}var Ey=ec&&ec.isMap,MP=Ey?Rv(Ey):AP;const IP=MP;var OP="[object Set]";function DP(t){return Ho(t)&&Zu(t)==OP}var Ty=ec&&ec.isSet,LP=Ty?Rv(Ty):DP;const PP=LP;var RP=1,VP=2,NP=4,o6="[object Arguments]",UP="[object Array]",BP="[object Boolean]",jP="[object Date]",zP="[object Error]",r6="[object Function]",FP="[object GeneratorFunction]",WP="[object Map]",HP="[object Number]",a6="[object Object]",qP="[object RegExp]",GP="[object Set]",YP="[object String]",KP="[object Symbol]",ZP="[object WeakMap]",XP="[object ArrayBuffer]",JP="[object DataView]",QP="[object Float32Array]",eR="[object Float64Array]",tR="[object Int8Array]",nR="[object Int16Array]",sR="[object Int32Array]",iR="[object Uint8Array]",oR="[object Uint8ClampedArray]",rR="[object Uint16Array]",aR="[object Uint32Array]",Xt={};Xt[o6]=Xt[UP]=Xt[XP]=Xt[JP]=Xt[BP]=Xt[jP]=Xt[QP]=Xt[eR]=Xt[tR]=Xt[nR]=Xt[sR]=Xt[WP]=Xt[HP]=Xt[a6]=Xt[qP]=Xt[GP]=Xt[YP]=Xt[KP]=Xt[iR]=Xt[oR]=Xt[rR]=Xt[aR]=!0;Xt[zP]=Xt[r6]=Xt[ZP]=!1;function vf(t,e,n,s,i,o){var r,a=e&RP,l=e&VP,c=e&NP;if(n&&(r=i?n(t,s,i,o):n(t)),r!==void 0)return r;if(!Kr(t))return t;var u=Ia(t);if(u){if(r=nP(t),!a)return j5(t,r)}else{var d=Zu(t),h=d==r6||d==FP;if(Gu(t))return Q5(t,a);if(d==a6||d==o6||h&&!i){if(r=l||h?{}:i6(t),!a)return l?FL(t,LL(r,t)):BL(t,DL(r,t))}else{if(!Xt[d])return i?t:{};r=EP(t,d,a)}}o||(o=new Zi);var f=o.get(t);if(f)return f;o.set(t,r),PP(t)?t.forEach(function(y){r.add(vf(y,e,n,y,t,o))}):IP(t)&&t.forEach(function(y,_){r.set(_,vf(y,e,n,_,t,o))});var p=c?l?WL:W1:l?Hd:Nv,v=u?void 0:p(t);return FO(v||t,function(y,_){v&&(_=y,y=t[_]),F5(r,_,vf(y,e,n,_,t,o))}),r}var lR=1,cR=4;function Nl(t){return vf(t,lR|cR)}var uR="__lodash_hash_undefined__";function dR(t){return this.__data__.set(t,uR),this}function hR(t){return this.__data__.has(t)}function Jf(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Ka;++e<n;)this.add(t[e])}Jf.prototype.add=Jf.prototype.push=dR;Jf.prototype.has=hR;function fR(t,e){for(var n=-1,s=t==null?0:t.length;++n<s;)if(e(t[n],n,t))return!0;return!1}function pR(t,e){return t.has(e)}var mR=1,gR=2;function l6(t,e,n,s,i,o){var r=n&mR,a=t.length,l=e.length;if(a!=l&&!(r&&l>a))return!1;var c=o.get(t),u=o.get(e);if(c&&u)return c==e&&u==t;var d=-1,h=!0,f=n&gR?new Jf:void 0;for(o.set(t,e),o.set(e,t);++d<a;){var p=t[d],v=e[d];if(s)var y=r?s(v,p,d,e,t,o):s(p,v,d,t,e,o);if(y!==void 0){if(y)continue;h=!1;break}if(f){if(!fR(e,function(_,w){if(!pR(f,w)&&(p===_||i(p,_,n,s,o)))return f.push(w)})){h=!1;break}}else if(!(p===v||i(p,v,n,s,o))){h=!1;break}}return o.delete(t),o.delete(e),h}function _R(t){var e=-1,n=Array(t.size);return t.forEach(function(s,i){n[++e]=[i,s]}),n}function vR(t){var e=-1,n=Array(t.size);return t.forEach(function(s){n[++e]=s}),n}var yR=1,bR=2,wR="[object Boolean]",xR="[object Date]",SR="[object Error]",kR="[object Map]",$R="[object Number]",CR="[object RegExp]",ER="[object Set]",TR="[object String]",AR="[object Symbol]",MR="[object ArrayBuffer]",IR="[object DataView]",Ay=Br?Br.prototype:void 0,Tg=Ay?Ay.valueOf:void 0;function OR(t,e,n,s,i,o,r){switch(n){case IR:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case MR:return!(t.byteLength!=e.byteLength||!o(new Xf(t),new Xf(e)));case wR:case xR:case $R:return Fd(+t,+e);case SR:return t.name==e.name&&t.message==e.message;case CR:case TR:return t==e+"";case kR:var a=_R;case ER:var l=s&yR;if(a||(a=vR),t.size!=e.size&&!l)return!1;var c=r.get(t);if(c)return c==e;s|=bR,r.set(t,e);var u=l6(a(t),a(e),s,i,o,r);return r.delete(t),u;case AR:if(Tg)return Tg.call(t)==Tg.call(e)}return!1}var DR=1,LR=Object.prototype,PR=LR.hasOwnProperty;function RR(t,e,n,s,i,o){var r=n&DR,a=W1(t),l=a.length,c=W1(e),u=c.length;if(l!=u&&!r)return!1;for(var d=l;d--;){var h=a[d];if(!(r?h in e:PR.call(e,h)))return!1}var f=o.get(t),p=o.get(e);if(f&&p)return f==e&&p==t;var v=!0;o.set(t,e),o.set(e,t);for(var y=r;++d<l;){h=a[d];var _=t[h],w=e[h];if(s)var x=r?s(w,_,h,e,t,o):s(_,w,h,t,e,o);if(!(x===void 0?_===w||i(_,w,n,s,o):x)){v=!1;break}y||(y=h=="constructor")}if(v&&!y){var k=t.constructor,C=e.constructor;k!=C&&"constructor"in t&&"constructor"in e&&!(typeof k=="function"&&k instanceof k&&typeof C=="function"&&C instanceof C)&&(v=!1)}return o.delete(t),o.delete(e),v}var VR=1,My="[object Arguments]",Iy="[object Array]",Lh="[object Object]",NR=Object.prototype,Oy=NR.hasOwnProperty;function UR(t,e,n,s,i,o){var r=Ia(t),a=Ia(e),l=r?Iy:Zu(t),c=a?Iy:Zu(e);l=l==My?Lh:l,c=c==My?Lh:c;var u=l==Lh,d=c==Lh,h=l==c;if(h&&Gu(t)){if(!Gu(e))return!1;r=!0,u=!1}if(h&&!u)return o||(o=new Zi),r||Vv(t)?l6(t,e,n,s,i,o):OR(t,e,l,n,s,i,o);if(!(n&VR)){var f=u&&Oy.call(t,"__wrapped__"),p=d&&Oy.call(e,"__wrapped__");if(f||p){var v=f?t.value():t,y=p?e.value():e;return o||(o=new Zi),i(v,y,n,s,o)}}return h?(o||(o=new Zi),RR(t,e,n,s,i,o)):!1}function c6(t,e,n,s,i){return t===e?!0:t==null||e==null||!Ho(t)&&!Ho(e)?t!==t&&e!==e:UR(t,e,n,s,c6,i)}function BR(t){return function(e,n,s){for(var i=-1,o=Object(e),r=s(e),a=r.length;a--;){var l=r[t?a:++i];if(n(o[l],l,o)===!1)break}return e}}var jR=BR();const zR=jR;function Y1(t,e,n){(n!==void 0&&!Fd(t[e],n)||n===void 0&&!(e in t))&&Lv(t,e,n)}function FR(t){return Ho(t)&&Yp(t)}function K1(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function WR(t){return Wd(t,Hd(t))}function HR(t,e,n,s,i,o,r){var a=K1(t,n),l=K1(e,n),c=r.get(l);if(c){Y1(t,n,c);return}var u=o?o(a,l,n+"",t,e,r):void 0,d=u===void 0;if(d){var h=Ia(l),f=!h&&Gu(l),p=!h&&!f&&Vv(l);u=l,h||f||p?Ia(a)?u=a:FR(a)?u=j5(a):f?(d=!1,u=Q5(l,!0)):p?(d=!1,u=s6(l,!0)):u=[]:CL(l)||F1(l)?(u=a,F1(a)?u=WR(a):(!Kr(a)||Dv(a))&&(u=i6(l))):d=!1}d&&(r.set(l,u),i(u,l,s,o,r),r.delete(l)),Y1(t,n,u)}function u6(t,e,n,s,i){t!==e&&zR(e,function(o,r){if(i||(i=new Zi),Kr(o))HR(t,e,r,n,u6,s,i);else{var a=s?s(K1(t,r),o,r+"",t,e,i):void 0;a===void 0&&(a=o),Y1(t,r,a)}},Hd)}function zv(t,e){return c6(t,e)}var qR=JO(function(t,e,n){u6(t,e,n)});const Dr=qR;var Ye=(t=>(t[t.TYPE=3]="TYPE",t[t.LEVEL=12]="LEVEL",t[t.ATTRIBUTE=13]="ATTRIBUTE",t[t.BLOT=14]="BLOT",t[t.INLINE=7]="INLINE",t[t.BLOCK=11]="BLOCK",t[t.BLOCK_BLOT=10]="BLOCK_BLOT",t[t.INLINE_BLOT=6]="INLINE_BLOT",t[t.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",t[t.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",t[t.ANY=15]="ANY",t))(Ye||{});class oo{constructor(e,n,s={}){this.attrName=e,this.keyName=n;const i=Ye.TYPE&Ye.ATTRIBUTE;this.scope=s.scope!=null?s.scope&Ye.LEVEL|i:Ye.ATTRIBUTE,s.whitelist!=null&&(this.whitelist=s.whitelist)}static keys(e){return Array.from(e.attributes).map(n=>n.name)}add(e,n){return this.canAdd(e,n)?(e.setAttribute(this.keyName,n),!0):!1}canAdd(e,n){return this.whitelist==null?!0:typeof n=="string"?this.whitelist.indexOf(n.replace(/["']/g,""))>-1:this.whitelist.indexOf(n)>-1}remove(e){e.removeAttribute(this.keyName)}value(e){const n=e.getAttribute(this.keyName);return this.canAdd(e,n)&&n?n:""}}class Ul extends Error{constructor(e){e="[Parchment] "+e,super(e),this.message=e,this.name=this.constructor.name}}const d6=class Z1{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(e,n=!1){if(e==null)return null;if(this.blots.has(e))return this.blots.get(e)||null;if(n){let s=null;try{s=e.parentNode}catch{return null}return this.find(s,n)}return null}create(e,n,s){const i=this.query(n);if(i==null)throw new Ul(`Unable to create ${n} blot`);const o=i,r=n instanceof Node||n.nodeType===Node.TEXT_NODE?n:o.create(s),a=new o(e,r,s);return Z1.blots.set(a.domNode,a),a}find(e,n=!1){return Z1.find(e,n)}query(e,n=Ye.ANY){let s;return typeof e=="string"?s=this.types[e]||this.attributes[e]:e instanceof Text||e.nodeType===Node.TEXT_NODE?s=this.types.text:typeof e=="number"?e&Ye.LEVEL&Ye.BLOCK?s=this.types.block:e&Ye.LEVEL&Ye.INLINE&&(s=this.types.inline):e instanceof Element&&((e.getAttribute("class")||"").split(/\s+/).some(i=>(s=this.classes[i],!!s)),s=s||this.tags[e.tagName]),s==null?null:"scope"in s&&n&Ye.LEVEL&s.scope&&n&Ye.TYPE&s.scope?s:null}register(...e){return e.map(n=>{const s="blotName"in n,i="attrName"in n;if(!s&&!i)throw new Ul("Invalid definition");if(s&&n.blotName==="abstract")throw new Ul("Cannot register abstract class");const o=s?n.blotName:i?n.attrName:void 0;return this.types[o]=n,i?typeof n.keyName=="string"&&(this.attributes[n.keyName]=n):s&&(n.className&&(this.classes[n.className]=n),n.tagName&&(Array.isArray(n.tagName)?n.tagName=n.tagName.map(r=>r.toUpperCase()):n.tagName=n.tagName.toUpperCase(),(Array.isArray(n.tagName)?n.tagName:[n.tagName]).forEach(r=>{(this.tags[r]==null||n.className==null)&&(this.tags[r]=n)}))),n})}};d6.blots=new WeakMap;let tc=d6;function Dy(t,e){return(t.getAttribute("class")||"").split(/\s+/).filter(n=>n.indexOf(`${e}-`)===0)}class GR extends oo{static keys(e){return(e.getAttribute("class")||"").split(/\s+/).map(n=>n.split("-").slice(0,-1).join("-"))}add(e,n){return this.canAdd(e,n)?(this.remove(e),e.classList.add(`${this.keyName}-${n}`),!0):!1}remove(e){Dy(e,this.keyName).forEach(n=>{e.classList.remove(n)}),e.classList.length===0&&e.removeAttribute("class")}value(e){const n=(Dy(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,n)?n:""}}const Mi=GR;function Ag(t){const e=t.split("-"),n=e.slice(1).map(s=>s[0].toUpperCase()+s.slice(1)).join("");return e[0]+n}class YR extends oo{static keys(e){return(e.getAttribute("style")||"").split(";").map(n=>n.split(":")[0].trim())}add(e,n){return this.canAdd(e,n)?(e.style[Ag(this.keyName)]=n,!0):!1}remove(e){e.style[Ag(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")}value(e){const n=e.style[Ag(this.keyName)];return this.canAdd(e,n)?n:""}}const Zr=YR;class KR{constructor(e){this.attributes={},this.domNode=e,this.build()}attribute(e,n){n?e.add(this.domNode,n)&&(e.value(this.domNode)!=null?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])}build(){this.attributes={};const e=tc.find(this.domNode);if(e==null)return;const n=oo.keys(this.domNode),s=Mi.keys(this.domNode),i=Zr.keys(this.domNode);n.concat(s).concat(i).forEach(o=>{const r=e.scroll.query(o,Ye.ATTRIBUTE);r instanceof oo&&(this.attributes[r.attrName]=r)})}copy(e){Object.keys(this.attributes).forEach(n=>{const s=this.attributes[n].value(this.domNode);e.format(n,s)})}move(e){this.copy(e),Object.keys(this.attributes).forEach(n=>{this.attributes[n].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((e,n)=>(e[n]=this.attributes[n].value(this.domNode),e),{})}}const Xp=KR,h6=class{constructor(e,n){this.scroll=e,this.domNode=n,tc.blots.set(n,this),this.prev=null,this.next=null}static create(e){if(this.tagName==null)throw new Ul("Blot definition missing tagName");let n,s;return Array.isArray(this.tagName)?(typeof e=="string"?(s=e.toUpperCase(),parseInt(s,10).toString()===s&&(s=parseInt(s,10))):typeof e=="number"&&(s=e),typeof s=="number"?n=document.createElement(this.tagName[s-1]):s&&this.tagName.indexOf(s)>-1?n=document.createElement(s):n=document.createElement(this.tagName[0])):n=document.createElement(this.tagName),this.className&&n.classList.add(this.className),n}get statics(){return this.constructor}attach(){}clone(){const e=this.domNode.cloneNode(!1);return this.scroll.create(e)}detach(){this.parent!=null&&this.parent.removeChild(this),tc.blots.delete(this.domNode)}deleteAt(e,n){this.isolate(e,n).remove()}formatAt(e,n,s,i){const o=this.isolate(e,n);if(this.scroll.query(s,Ye.BLOT)!=null&&i)o.wrap(s,i);else if(this.scroll.query(s,Ye.ATTRIBUTE)!=null){const r=this.scroll.create(this.statics.scope);o.wrap(r),r.format(s,i)}}insertAt(e,n,s){const i=s==null?this.scroll.create("text",n):this.scroll.create(n,s),o=this.split(e);this.parent.insertBefore(i,o||void 0)}isolate(e,n){const s=this.split(e);if(s==null)throw new Error("Attempt to isolate at end");return s.split(n),s}length(){return 1}offset(e=this.parent){return this.parent==null||this===e?0:this.parent.children.offset(this)+this.parent.offset(e)}optimize(e){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(e,n){const s=typeof e=="string"?this.scroll.create(e,n):e;return this.parent!=null&&(this.parent.insertBefore(s,this.next||void 0),this.remove()),s}split(e,n){return e===0?this:this.next}update(e,n){}wrap(e,n){const s=typeof e=="string"?this.scroll.create(e,n):e;if(this.parent!=null&&this.parent.insertBefore(s,this.next||void 0),typeof s.appendChild!="function")throw new Ul(`Cannot wrap ${e}`);return s.appendChild(this),s}};h6.blotName="abstract";let f6=h6;const p6=class extends f6{static value(e){return!0}index(e,n){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(n,1):-1}position(e,n){let s=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return e>0&&(s+=1),[this.parent.domNode,s]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};p6.scope=Ye.INLINE_BLOT;let ZR=p6;const ts=ZR;class XR{constructor(){this.head=null,this.tail=null,this.length=0}append(...e){if(this.insertBefore(e[0],null),e.length>1){const n=e.slice(1);this.append(...n)}}at(e){const n=this.iterator();let s=n();for(;s&&e>0;)e-=1,s=n();return s}contains(e){const n=this.iterator();let s=n();for(;s;){if(s===e)return!0;s=n()}return!1}indexOf(e){const n=this.iterator();let s=n(),i=0;for(;s;){if(s===e)return i;i+=1,s=n()}return-1}insertBefore(e,n){e!=null&&(this.remove(e),e.next=n,n!=null?(e.prev=n.prev,n.prev!=null&&(n.prev.next=e),n.prev=e,n===this.head&&(this.head=e)):this.tail!=null?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)}offset(e){let n=0,s=this.head;for(;s!=null;){if(s===e)return n;n+=s.length(),s=s.next}return-1}remove(e){this.contains(e)&&(e.prev!=null&&(e.prev.next=e.next),e.next!=null&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)}iterator(e=this.head){return()=>{const n=e;return e!=null&&(e=e.next),n}}find(e,n=!1){const s=this.iterator();let i=s();for(;i;){const o=i.length();if(e<o||n&&e===o&&(i.next==null||i.next.length()!==0))return[i,e];e-=o,i=s()}return[null,0]}forEach(e){const n=this.iterator();let s=n();for(;s;)e(s),s=n()}forEachAt(e,n,s){if(n<=0)return;const[i,o]=this.find(e);let r=e-o;const a=this.iterator(i);let l=a();for(;l&&r<e+n;){const c=l.length();e>r?s(l,e-r,Math.min(n,r+c-e)):s(l,0,Math.min(c,e+n-r)),r+=c,l=a()}}map(e){return this.reduce((n,s)=>(n.push(e(s)),n),[])}reduce(e,n){const s=this.iterator();let i=s();for(;i;)n=e(n,i),i=s();return n}}function Ly(t,e){const n=e.find(t);if(n)return n;try{return e.create(t)}catch{const s=e.create(Ye.INLINE);return Array.from(t.childNodes).forEach(i=>{s.domNode.appendChild(i)}),t.parentNode&&t.parentNode.replaceChild(s.domNode,t),s.attach(),s}}const m6=class fr extends f6{constructor(e,n){super(e,n),this.uiNode=null,this.build()}appendChild(e){this.insertBefore(e)}attach(){super.attach(),this.children.forEach(e=>{e.attach()})}attachUI(e){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=e,fr.uiClass&&this.uiNode.classList.add(fr.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new XR,Array.from(this.domNode.childNodes).filter(e=>e!==this.uiNode).reverse().forEach(e=>{try{const n=Ly(e,this.scroll);this.insertBefore(n,this.children.head||void 0)}catch(n){if(n instanceof Ul)return;throw n}})}deleteAt(e,n){if(e===0&&n===this.length())return this.remove();this.children.forEachAt(e,n,(s,i,o)=>{s.deleteAt(i,o)})}descendant(e,n=0){const[s,i]=this.children.find(n);return e.blotName==null&&e(s)||e.blotName!=null&&s instanceof e?[s,i]:s instanceof fr?s.descendant(e,i):[null,-1]}descendants(e,n=0,s=Number.MAX_VALUE){let i=[],o=s;return this.children.forEachAt(n,s,(r,a,l)=>{(e.blotName==null&&e(r)||e.blotName!=null&&r instanceof e)&&i.push(r),r instanceof fr&&(i=i.concat(r.descendants(e,a,o))),o-=l}),i}detach(){this.children.forEach(e=>{e.detach()}),super.detach()}enforceAllowedChildren(){let e=!1;this.children.forEach(n=>{e||this.statics.allowedChildren.some(s=>n instanceof s)||(n.statics.scope===Ye.BLOCK_BLOT?(n.next!=null&&this.splitAfter(n),n.prev!=null&&this.splitAfter(n.prev),n.parent.unwrap(),e=!0):n instanceof fr?n.unwrap():n.remove())})}formatAt(e,n,s,i){this.children.forEachAt(e,n,(o,r,a)=>{o.formatAt(r,a,s,i)})}insertAt(e,n,s){const[i,o]=this.children.find(e);if(i)i.insertAt(o,n,s);else{const r=s==null?this.scroll.create("text",n):this.scroll.create(n,s);this.appendChild(r)}}insertBefore(e,n){e.parent!=null&&e.parent.children.remove(e);let s=null;this.children.insertBefore(e,n||null),e.parent=this,n!=null&&(s=n.domNode),(this.domNode.parentNode!==e.domNode||this.domNode.nextSibling!==s)&&this.domNode.insertBefore(e.domNode,s),e.attach()}length(){return this.children.reduce((e,n)=>e+n.length(),0)}moveChildren(e,n){this.children.forEach(s=>{e.insertBefore(s,n)})}optimize(e){if(super.optimize(e),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const n=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(n)}else this.remove()}path(e,n=!1){const[s,i]=this.children.find(e,n),o=[[this,e]];return s instanceof fr?o.concat(s.path(i,n)):(s!=null&&o.push([s,i]),o)}removeChild(e){this.children.remove(e)}replaceWith(e,n){const s=typeof e=="string"?this.scroll.create(e,n):e;return s instanceof fr&&this.moveChildren(s),super.replaceWith(s)}split(e,n=!1){if(!n){if(e===0)return this;if(e===this.length())return this.next}const s=this.clone();return this.parent&&this.parent.insertBefore(s,this.next||void 0),this.children.forEachAt(e,this.length(),(i,o,r)=>{const a=i.split(o,n);a!=null&&s.appendChild(a)}),s}splitAfter(e){const n=this.clone();for(;e.next!=null;)n.appendChild(e.next);return this.parent&&this.parent.insertBefore(n,this.next||void 0),n}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(e,n){const s=[],i=[];e.forEach(o=>{o.target===this.domNode&&o.type==="childList"&&(s.push(...o.addedNodes),i.push(...o.removedNodes))}),i.forEach(o=>{if(o.parentNode!=null&&o.tagName!=="IFRAME"&&document.body.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const r=this.scroll.find(o);r!=null&&(r.domNode.parentNode==null||r.domNode.parentNode===this.domNode)&&r.detach()}),s.filter(o=>o.parentNode===this.domNode&&o!==this.uiNode).sort((o,r)=>o===r?0:o.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(o=>{let r=null;o.nextSibling!=null&&(r=this.scroll.find(o.nextSibling));const a=Ly(o,this.scroll);(a.next!==r||a.next==null)&&(a.parent!=null&&a.parent.removeChild(this),this.insertBefore(a,r||void 0))}),this.enforceAllowedChildren()}};m6.uiClass="";let JR=m6;const wi=JR;function QR(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}const vl=class yl extends wi{static create(e){return super.create(e)}static formats(e,n){const s=n.query(yl.blotName);if(!(s!=null&&e.tagName===s.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,n){super(e,n),this.attributes=new Xp(this.domNode)}format(e,n){if(e===this.statics.blotName&&!n)this.children.forEach(s=>{s instanceof yl||(s=s.wrap(yl.blotName,!0)),this.attributes.copy(s)}),this.unwrap();else{const s=this.scroll.query(e,Ye.INLINE);if(s==null)return;s instanceof oo?this.attributes.attribute(s,n):n&&(e!==this.statics.blotName||this.formats()[e]!==n)&&this.replaceWith(e,n)}}formats(){const e=this.attributes.values(),n=this.statics.formats(this.domNode,this.scroll);return n!=null&&(e[this.statics.blotName]=n),e}formatAt(e,n,s,i){this.formats()[s]!=null||this.scroll.query(s,Ye.ATTRIBUTE)?this.isolate(e,n).format(s,i):super.formatAt(e,n,s,i)}optimize(e){super.optimize(e);const n=this.formats();if(Object.keys(n).length===0)return this.unwrap();const s=this.next;s instanceof yl&&s.prev===this&&QR(n,s.formats())&&(s.moveChildren(this),s.remove())}replaceWith(e,n){const s=super.replaceWith(e,n);return this.attributes.copy(s),s}update(e,n){super.update(e,n),e.some(s=>s.target===this.domNode&&s.type==="attributes")&&this.attributes.build()}wrap(e,n){const s=super.wrap(e,n);return s instanceof yl&&this.attributes.move(s),s}};vl.allowedChildren=[vl,ts],vl.blotName="inline",vl.scope=Ye.INLINE_BLOT,vl.tagName="SPAN";let eV=vl;const Fv=eV,bl=class X1 extends wi{static create(e){return super.create(e)}static formats(e,n){const s=n.query(X1.blotName);if(!(s!=null&&e.tagName===s.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,n){super(e,n),this.attributes=new Xp(this.domNode)}format(e,n){const s=this.scroll.query(e,Ye.BLOCK);s!=null&&(s instanceof oo?this.attributes.attribute(s,n):e===this.statics.blotName&&!n?this.replaceWith(X1.blotName):n&&(e!==this.statics.blotName||this.formats()[e]!==n)&&this.replaceWith(e,n))}formats(){const e=this.attributes.values(),n=this.statics.formats(this.domNode,this.scroll);return n!=null&&(e[this.statics.blotName]=n),e}formatAt(e,n,s,i){this.scroll.query(s,Ye.BLOCK)!=null?this.format(s,i):super.formatAt(e,n,s,i)}insertAt(e,n,s){if(s==null||this.scroll.query(n,Ye.INLINE)!=null)super.insertAt(e,n,s);else{const i=this.split(e);if(i!=null){const o=this.scroll.create(n,s);i.parent.insertBefore(o,i)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(e,n){const s=super.replaceWith(e,n);return this.attributes.copy(s),s}update(e,n){super.update(e,n),e.some(s=>s.target===this.domNode&&s.type==="attributes")&&this.attributes.build()}};bl.blotName="block",bl.scope=Ye.BLOCK_BLOT,bl.tagName="P",bl.allowedChildren=[Fv,bl,ts];let tV=bl;const Xu=tV,J1=class extends wi{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(e,n){super.deleteAt(e,n),this.enforceAllowedChildren()}formatAt(e,n,s,i){super.formatAt(e,n,s,i),this.enforceAllowedChildren()}insertAt(e,n,s){super.insertAt(e,n,s),this.enforceAllowedChildren()}optimize(e){super.optimize(e),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};J1.blotName="container",J1.scope=Ye.BLOCK_BLOT;let nV=J1;const Jp=nV;class sV extends ts{static formats(e,n){}format(e,n){super.formatAt(0,this.length(),e,n)}formatAt(e,n,s,i){e===0&&n===this.length()?this.format(s,i):super.formatAt(e,n,s,i)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const Hs=sV,iV={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},oV=100,wl=class extends wi{constructor(e,n){super(null,n),this.registry=e,this.scroll=this,this.build(),this.observer=new MutationObserver(s=>{this.update(s)}),this.observer.observe(this.domNode,iV),this.attach()}create(e,n){return this.registry.create(this,e,n)}find(e,n=!1){const s=this.registry.find(e,n);return s?s.scroll===this?s:n?this.find(s.scroll.domNode.parentNode,!0):null:null}query(e,n=Ye.ANY){return this.registry.query(e,n)}register(...e){return this.registry.register(...e)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(e,n){this.update(),e===0&&n===this.length()?this.children.forEach(s=>{s.remove()}):super.deleteAt(e,n)}formatAt(e,n,s,i){this.update(),super.formatAt(e,n,s,i)}insertAt(e,n,s){this.update(),super.insertAt(e,n,s)}optimize(e=[],n={}){super.optimize(n);const s=n.mutationsMap||new WeakMap;let i=Array.from(this.observer.takeRecords());for(;i.length>0;)e.push(i.pop());const o=(l,c=!0)=>{l==null||l===this||l.domNode.parentNode!=null&&(s.has(l.domNode)||s.set(l.domNode,[]),c&&o(l.parent))},r=l=>{s.has(l.domNode)&&(l instanceof wi&&l.children.forEach(r),s.delete(l.domNode),l.optimize(n))};let a=e;for(let l=0;a.length>0;l+=1){if(l>=oV)throw new Error("[Parchment] Maximum optimize iterations reached");for(a.forEach(c=>{const u=this.find(c.target,!0);u!=null&&(u.domNode===c.target&&(c.type==="childList"?(o(this.find(c.previousSibling,!1)),Array.from(c.addedNodes).forEach(d=>{const h=this.find(d,!1);o(h,!1),h instanceof wi&&h.children.forEach(f=>{o(f,!1)})})):c.type==="attributes"&&o(u.prev)),o(u))}),this.children.forEach(r),a=Array.from(this.observer.takeRecords()),i=a.slice();i.length>0;)e.push(i.pop())}}update(e,n={}){e=e||this.observer.takeRecords();const s=new WeakMap;e.map(i=>{const o=this.find(i.target,!0);return o==null?null:s.has(o.domNode)?(s.get(o.domNode).push(i),null):(s.set(o.domNode,[i]),o)}).forEach(i=>{i!=null&&i!==this&&s.has(i.domNode)&&i.update(s.get(i.domNode)||[],n)}),n.mutationsMap=s,s.has(this.domNode)&&super.update(s.get(this.domNode),n),this.optimize(e,n)}};wl.blotName="scroll",wl.defaultChild=Xu,wl.allowedChildren=[Xu,Jp],wl.scope=Ye.BLOCK_BLOT,wl.tagName="DIV";let rV=wl;const Wv=rV,Q1=class g6 extends ts{static create(e){return document.createTextNode(e)}static value(e){return e.data}constructor(e,n){super(e,n),this.text=this.statics.value(this.domNode)}deleteAt(e,n){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+n)}index(e,n){return this.domNode===e?n:-1}insertAt(e,n,s){s==null?(this.text=this.text.slice(0,e)+n+this.text.slice(e),this.domNode.data=this.text):super.insertAt(e,n,s)}length(){return this.text.length}optimize(e){super.optimize(e),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof g6&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(e,n=!1){return[this.domNode,e]}split(e,n=!1){if(!n){if(e===0)return this;if(e===this.length())return this.next}const s=this.scroll.create(this.domNode.splitText(e));return this.parent.insertBefore(s,this.next||void 0),this.text=this.statics.value(this.domNode),s}update(e,n){e.some(s=>s.type==="characterData"&&s.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};Q1.blotName="text",Q1.scope=Ye.INLINE_BLOT;let aV=Q1;const Qf=aV,lV=Object.freeze(Object.defineProperty({__proto__:null,Attributor:oo,AttributorStore:Xp,BlockBlot:Xu,ClassAttributor:Mi,ContainerBlot:Jp,EmbedBlot:Hs,InlineBlot:Fv,LeafBlot:ts,ParentBlot:wi,Registry:tc,Scope:Ye,ScrollBlot:Wv,StyleAttributor:Zr,TextBlot:Qf},Symbol.toStringTag,{value:"Module"}));var Lo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function _6(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var i=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:function(){return t[s]}})}),n}var e_={exports:{}},Bs=-1,_s=1,On=0;function Ju(t,e,n,s,i){if(t===e)return t?[[On,t]]:[];if(n!=null){var o=_V(t,e,n);if(o)return o}var r=qv(t,e),a=t.substring(0,r);t=t.substring(r),e=e.substring(r),r=Qp(t,e);var l=t.substring(t.length-r);t=t.substring(0,t.length-r),e=e.substring(0,e.length-r);var c=cV(t,e);return a&&c.unshift([On,a]),l&&c.push([On,l]),Gv(c,i),s&&hV(c),c}function cV(t,e){var n;if(!t)return[[_s,e]];if(!e)return[[Bs,t]];var s=t.length>e.length?t:e,i=t.length>e.length?e:t,o=s.indexOf(i);if(o!==-1)return n=[[_s,s.substring(0,o)],[On,i],[_s,s.substring(o+i.length)]],t.length>e.length&&(n[0][0]=n[2][0]=Bs),n;if(i.length===1)return[[Bs,t],[_s,e]];var r=dV(t,e);if(r){var a=r[0],l=r[1],c=r[2],u=r[3],d=r[4],h=Ju(a,c),f=Ju(l,u);return h.concat([[On,d]],f)}return uV(t,e)}function uV(t,e){for(var n=t.length,s=e.length,i=Math.ceil((n+s)/2),o=i,r=2*i,a=new Array(r),l=new Array(r),c=0;c<r;c++)a[c]=-1,l[c]=-1;a[o+1]=0,l[o+1]=0;for(var u=n-s,d=u%2!==0,h=0,f=0,p=0,v=0,y=0;y<i;y++){for(var _=-y+h;_<=y-f;_+=2){var w=o+_,x;_===-y||_!==y&&a[w-1]<a[w+1]?x=a[w+1]:x=a[w-1]+1;for(var k=x-_;x<n&&k<s&&t.charAt(x)===e.charAt(k);)x++,k++;if(a[w]=x,x>n)f+=2;else if(k>s)h+=2;else if(d){var C=o+u-_;if(C>=0&&C<r&&l[C]!==-1){var S=n-l[C];if(x>=S)return Py(t,e,x,k)}}}for(var A=-y+p;A<=y-v;A+=2){var C=o+A,S;A===-y||A!==y&&l[C-1]<l[C+1]?S=l[C+1]:S=l[C-1]+1;for(var O=S-A;S<n&&O<s&&t.charAt(n-S-1)===e.charAt(s-O-1);)S++,O++;if(l[C]=S,S>n)v+=2;else if(O>s)p+=2;else if(!d){var w=o+u-A;if(w>=0&&w<r&&a[w]!==-1){var x=a[w],k=o+x-w;if(S=n-S,x>=S)return Py(t,e,x,k)}}}}return[[Bs,t],[_s,e]]}function Py(t,e,n,s){var i=t.substring(0,n),o=e.substring(0,s),r=t.substring(n),a=e.substring(s),l=Ju(i,o),c=Ju(r,a);return l.concat(c)}function qv(t,e){if(!t||!e||t.charAt(0)!==e.charAt(0))return 0;for(var n=0,s=Math.min(t.length,e.length),i=s,o=0;n<i;)t.substring(o,i)==e.substring(o,i)?(n=i,o=n):s=i,i=Math.floor((s-n)/2+n);return v6(t.charCodeAt(i-1))&&i--,i}function Ry(t,e){var n=t.length,s=e.length;if(n==0||s==0)return 0;n>s?t=t.substring(n-s):n<s&&(e=e.substring(0,n));var i=Math.min(n,s);if(t==e)return i;for(var o=0,r=1;;){var a=t.substring(i-r),l=e.indexOf(a);if(l==-1)return o;r+=l,(l==0||t.substring(i-r)==e.substring(0,r))&&(o=r,r++)}}function Qp(t,e){if(!t||!e||t.slice(-1)!==e.slice(-1))return 0;for(var n=0,s=Math.min(t.length,e.length),i=s,o=0;n<i;)t.substring(t.length-i,t.length-o)==e.substring(e.length-i,e.length-o)?(n=i,o=n):s=i,i=Math.floor((s-n)/2+n);return y6(t.charCodeAt(t.length-i))&&i--,i}function dV(t,e){var n=t.length>e.length?t:e,s=t.length>e.length?e:t;if(n.length<4||s.length*2<n.length)return null;function i(f,p,v){for(var y=f.substring(v,v+Math.floor(f.length/4)),_=-1,w="",x,k,C,S;(_=p.indexOf(y,_+1))!==-1;){var A=qv(f.substring(v),p.substring(_)),O=Qp(f.substring(0,v),p.substring(0,_));w.length<O+A&&(w=p.substring(_-O,_)+p.substring(_,_+A),x=f.substring(0,v-O),k=f.substring(v+A),C=p.substring(0,_-O),S=p.substring(_+A))}return w.length*2>=f.length?[x,k,C,S,w]:null}var o=i(n,s,Math.ceil(n.length/4)),r=i(n,s,Math.ceil(n.length/2)),a;if(!o&&!r)return null;r?o?a=o[4].length>r[4].length?o:r:a=r:a=o;var l,c,u,d;t.length>e.length?(l=a[0],c=a[1],u=a[2],d=a[3]):(u=a[0],d=a[1],l=a[2],c=a[3]);var h=a[4];return[l,c,u,d,h]}function hV(t){for(var e=!1,n=[],s=0,i=null,o=0,r=0,a=0,l=0,c=0;o<t.length;)t[o][0]==On?(n[s++]=o,r=l,a=c,l=0,c=0,i=t[o][1]):(t[o][0]==_s?l+=t[o][1].length:c+=t[o][1].length,i&&i.length<=Math.max(r,a)&&i.length<=Math.max(l,c)&&(t.splice(n[s-1],0,[Bs,i]),t[n[s-1]+1][0]=_s,s--,s--,o=s>0?n[s-1]:-1,r=0,a=0,l=0,c=0,i=null,e=!0)),o++;for(e&&Gv(t),mV(t),o=1;o<t.length;){if(t[o-1][0]==Bs&&t[o][0]==_s){var u=t[o-1][1],d=t[o][1],h=Ry(u,d),f=Ry(d,u);h>=f?(h>=u.length/2||h>=d.length/2)&&(t.splice(o,0,[On,d.substring(0,h)]),t[o-1][1]=u.substring(0,u.length-h),t[o+1][1]=d.substring(h),o++):(f>=u.length/2||f>=d.length/2)&&(t.splice(o,0,[On,u.substring(0,f)]),t[o-1][0]=_s,t[o-1][1]=d.substring(0,d.length-f),t[o+1][0]=Bs,t[o+1][1]=u.substring(f),o++),o++}o++}}var Vy=/[^a-zA-Z0-9]/,Ny=/\s/,Uy=/[\r\n]/,fV=/\n\r?\n$/,pV=/^\r?\n\r?\n/;function mV(t){function e(f,p){if(!f||!p)return 6;var v=f.charAt(f.length-1),y=p.charAt(0),_=v.match(Vy),w=y.match(Vy),x=_&&v.match(Ny),k=w&&y.match(Ny),C=x&&v.match(Uy),S=k&&y.match(Uy),A=C&&f.match(fV),O=S&&p.match(pV);return A||O?5:C||S?4:_&&!x&&k?3:x||k?2:_||w?1:0}for(var n=1;n<t.length-1;){if(t[n-1][0]==On&&t[n+1][0]==On){var s=t[n-1][1],i=t[n][1],o=t[n+1][1],r=Qp(s,i);if(r){var a=i.substring(i.length-r);s=s.substring(0,s.length-r),i=a+i.substring(0,i.length-r),o=a+o}for(var l=s,c=i,u=o,d=e(s,i)+e(i,o);i.charAt(0)===o.charAt(0);){s+=i.charAt(0),i=i.substring(1)+o.charAt(0),o=o.substring(1);var h=e(s,i)+e(i,o);h>=d&&(d=h,l=s,c=i,u=o)}t[n-1][1]!=l&&(l?t[n-1][1]=l:(t.splice(n-1,1),n--),t[n][1]=c,u?t[n+1][1]=u:(t.splice(n+1,1),n--))}n++}}function Gv(t,e){t.push([On,""]);for(var n=0,s=0,i=0,o="",r="",a;n<t.length;){if(n<t.length-1&&!t[n][1]){t.splice(n,1);continue}switch(t[n][0]){case _s:i++,r+=t[n][1],n++;break;case Bs:s++,o+=t[n][1],n++;break;case On:var l=n-i-s-1;if(e){if(l>=0&&w6(t[l][1])){var c=t[l][1].slice(-1);if(t[l][1]=t[l][1].slice(0,-1),o=c+o,r=c+r,!t[l][1]){t.splice(l,1),n--;var u=l-1;t[u]&&t[u][0]===_s&&(i++,r=t[u][1]+r,u--),t[u]&&t[u][0]===Bs&&(s++,o=t[u][1]+o,u--),l=u}}if(b6(t[n][1])){var c=t[n][1].charAt(0);t[n][1]=t[n][1].slice(1),o+=c,r+=c}}if(n<t.length-1&&!t[n][1]){t.splice(n,1);break}if(o.length>0||r.length>0){o.length>0&&r.length>0&&(a=qv(r,o),a!==0&&(l>=0?t[l][1]+=r.substring(0,a):(t.splice(0,0,[On,r.substring(0,a)]),n++),r=r.substring(a),o=o.substring(a)),a=Qp(r,o),a!==0&&(t[n][1]=r.substring(r.length-a)+t[n][1],r=r.substring(0,r.length-a),o=o.substring(0,o.length-a)));var d=i+s;o.length===0&&r.length===0?(t.splice(n-d,d),n=n-d):o.length===0?(t.splice(n-d,d,[_s,r]),n=n-d+1):r.length===0?(t.splice(n-d,d,[Bs,o]),n=n-d+1):(t.splice(n-d,d,[Bs,o],[_s,r]),n=n-d+2)}n!==0&&t[n-1][0]===On?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,i=0,s=0,o="",r="";break}}t[t.length-1][1]===""&&t.pop();var h=!1;for(n=1;n<t.length-1;)t[n-1][0]===On&&t[n+1][0]===On&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)===t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),h=!0):t[n][1].substring(0,t[n+1][1].length)==t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),h=!0)),n++;h&&Gv(t,e)}function v6(t){return t>=55296&&t<=56319}function y6(t){return t>=56320&&t<=57343}function b6(t){return y6(t.charCodeAt(0))}function w6(t){return v6(t.charCodeAt(t.length-1))}function gV(t){for(var e=[],n=0;n<t.length;n++)t[n][1].length>0&&e.push(t[n]);return e}function Mg(t,e,n,s){return w6(t)||b6(s)?null:gV([[On,t],[Bs,e],[_s,n],[On,s]])}function _V(t,e,n){var s=typeof n=="number"?{index:n,length:0}:n.oldRange,i=typeof n=="number"?null:n.newRange,o=t.length,r=e.length;if(s.length===0&&(i===null||i.length===0)){var a=s.index,l=t.slice(0,a),c=t.slice(a),u=i?i.index:null;e:{var d=a+r-o;if(u!==null&&u!==d||d<0||d>r)break e;var h=e.slice(0,d),f=e.slice(d);if(f!==c)break e;var p=Math.min(a,d),v=l.slice(0,p),y=h.slice(0,p);if(v!==y)break e;var _=l.slice(p),w=h.slice(p);return Mg(v,_,w,c)}e:{if(u!==null&&u!==a)break e;var x=a,h=e.slice(0,x),f=e.slice(x);if(h!==l)break e;var k=Math.min(o-x,r-x),C=c.slice(c.length-k),S=f.slice(f.length-k);if(C!==S)break e;var _=c.slice(0,c.length-k),w=f.slice(0,f.length-k);return Mg(l,_,w,C)}}if(s.length>0&&i&&i.length===0)e:{var v=t.slice(0,s.index),C=t.slice(s.index+s.length),p=v.length,k=C.length;if(r<p+k)break e;var y=e.slice(0,p),S=e.slice(r-k);if(v!==y||C!==S)break e;var _=t.slice(p,o-k),w=e.slice(p,r-k);return Mg(v,_,w,C)}return null}function em(t,e,n,s){return Ju(t,e,n,s,!0)}em.INSERT=_s;em.DELETE=Bs;em.EQUAL=On;var vV=em,ep={exports:{}};ep.exports;(function(t,e){var n=200,s="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",r="[object Array]",a="[object Boolean]",l="[object Date]",c="[object Error]",u="[object Function]",d="[object GeneratorFunction]",h="[object Map]",f="[object Number]",p="[object Object]",v="[object Promise]",y="[object RegExp]",_="[object Set]",w="[object String]",x="[object Symbol]",k="[object WeakMap]",C="[object ArrayBuffer]",S="[object DataView]",A="[object Float32Array]",O="[object Float64Array]",M="[object Int8Array]",V="[object Int16Array]",R="[object Int32Array]",X="[object Uint8Array]",P="[object Uint8ClampedArray]",F="[object Uint16Array]",Z="[object Uint32Array]",Q=/[\\^$.*+?()[\]{}|]/g,G=/\w*$/,ie=/^\[object .+?Constructor\]$/,ge=/^(?:0|[1-9]\d*)$/,ae={};ae[o]=ae[r]=ae[C]=ae[S]=ae[a]=ae[l]=ae[A]=ae[O]=ae[M]=ae[V]=ae[R]=ae[h]=ae[f]=ae[p]=ae[y]=ae[_]=ae[w]=ae[x]=ae[X]=ae[P]=ae[F]=ae[Z]=!0,ae[c]=ae[u]=ae[k]=!1;var Te=typeof Lo=="object"&&Lo&&Lo.Object===Object&&Lo,We=typeof self=="object"&&self&&self.Object===Object&&self,Ke=Te||We||Function("return this")(),He=e&&!e.nodeType&&e,Ue=He&&!0&&t&&!t.nodeType&&t,qe=Ue&&Ue.exports===He;function re(T,I){return T.set(I[0],I[1]),T}function be(T,I){return T.add(I),T}function ye(T,I){for(var K=-1,ce=T?T.length:0;++K<ce&&I(T[K],K,T)!==!1;);return T}function Me(T,I){for(var K=-1,ce=I.length,pt=T.length;++K<ce;)T[pt+K]=I[K];return T}function ft(T,I,K,ce){var pt=-1,et=T?T.length:0;for(ce&&et&&(K=T[++pt]);++pt<et;)K=I(K,T[pt],pt,T);return K}function kt(T,I){for(var K=-1,ce=Array(T);++K<T;)ce[K]=I(K);return ce}function U(T,I){return T==null?void 0:T[I]}function z(T){var I=!1;if(T!=null&&typeof T.toString!="function")try{I=!!(T+"")}catch{}return I}function se(T){var I=-1,K=Array(T.size);return T.forEach(function(ce,pt){K[++I]=[pt,ce]}),K}function he(T,I){return function(K){return T(I(K))}}function le(T){var I=-1,K=Array(T.size);return T.forEach(function(ce){K[++I]=ce}),K}var _e=Array.prototype,Ce=Function.prototype,ve=Object.prototype,we=Ke["__core-js_shared__"],pe=function(){var T=/[^.]+$/.exec(we&&we.keys&&we.keys.IE_PROTO||"");return T?"Symbol(src)_1."+T:""}(),Ae=Ce.toString,Le=ve.hasOwnProperty,Re=ve.toString,st=RegExp("^"+Ae.call(Le).replace(Q,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ot=qe?Ke.Buffer:void 0,Ct=Ke.Symbol,te=Ke.Uint8Array,ne=he(Object.getPrototypeOf,Object),oe=Object.create,me=ve.propertyIsEnumerable,Ve=_e.splice,Ze=Object.getOwnPropertySymbols,rt=ot?ot.isBuffer:void 0,at=he(Object.keys,Object),$t=ui(Ke,"DataView"),Je=ui(Ke,"Map"),Pe=ui(Ke,"Promise"),Qe=ui(Ke,"Set"),bt=ui(Ke,"WeakMap"),wt=ui(Object,"create"),Cn=ds($t),ci=ds(Je),Jr=ds(Pe),Pi=ds(Qe),Cc=ds(bt),rr=Ct?Ct.prototype:void 0,ah=rr?rr.valueOf:void 0;function po(T){var I=-1,K=T?T.length:0;for(this.clear();++I<K;){var ce=T[I];this.set(ce[0],ce[1])}}function Tm(){this.__data__=wt?wt(null):{}}function Am(T){return this.has(T)&&delete this.__data__[T]}function Mm(T){var I=this.__data__;if(wt){var K=I[T];return K===s?void 0:K}return Le.call(I,T)?I[T]:void 0}function lh(T){var I=this.__data__;return wt?I[T]!==void 0:Le.call(I,T)}function Ec(T,I){var K=this.__data__;return K[T]=wt&&I===void 0?s:I,this}po.prototype.clear=Tm,po.prototype.delete=Am,po.prototype.get=Mm,po.prototype.has=lh,po.prototype.set=Ec;function jn(T){var I=-1,K=T?T.length:0;for(this.clear();++I<K;){var ce=T[I];this.set(ce[0],ce[1])}}function Im(){this.__data__=[]}function Om(T){var I=this.__data__,K=il(I,T);if(K<0)return!1;var ce=I.length-1;return K==ce?I.pop():Ve.call(I,K,1),!0}function Dm(T){var I=this.__data__,K=il(I,T);return K<0?void 0:I[K][1]}function Lm(T){return il(this.__data__,T)>-1}function Pm(T,I){var K=this.__data__,ce=il(K,T);return ce<0?K.push([T,I]):K[ce][1]=I,this}jn.prototype.clear=Im,jn.prototype.delete=Om,jn.prototype.get=Dm,jn.prototype.has=Lm,jn.prototype.set=Pm;function Kn(T){var I=-1,K=T?T.length:0;for(this.clear();++I<K;){var ce=T[I];this.set(ce[0],ce[1])}}function Rm(){this.__data__={hash:new po,map:new(Je||jn),string:new po}}function Vm(T){return ea(this,T).delete(T)}function Nm(T){return ea(this,T).get(T)}function Um(T){return ea(this,T).has(T)}function Bm(T,I){return ea(this,T).set(T,I),this}Kn.prototype.clear=Rm,Kn.prototype.delete=Vm,Kn.prototype.get=Nm,Kn.prototype.has=Um,Kn.prototype.set=Bm;function ws(T){this.__data__=new jn(T)}function jm(){this.__data__=new jn}function zm(T){return this.__data__.delete(T)}function Fm(T){return this.__data__.get(T)}function Wm(T){return this.__data__.has(T)}function Hm(T,I){var K=this.__data__;if(K instanceof jn){var ce=K.__data__;if(!Je||ce.length<n-1)return ce.push([T,I]),this;K=this.__data__=new Kn(ce)}return K.set(T,I),this}ws.prototype.clear=jm,ws.prototype.delete=zm,ws.prototype.get=Fm,ws.prototype.has=Wm,ws.prototype.set=Hm;function sl(T,I){var K=Ic(T)||rl(T)?kt(T.length,String):[],ce=K.length,pt=!!ce;for(var et in T)(I||Le.call(T,et))&&!(pt&&(et=="length"||og(et,ce)))&&K.push(et);return K}function ch(T,I,K){var ce=T[I];(!(Le.call(T,I)&&ph(ce,K))||K===void 0&&!(I in T))&&(T[I]=K)}function il(T,I){for(var K=T.length;K--;)if(ph(T[K][0],I))return K;return-1}function Ri(T,I){return T&&Mc(I,Dc(I),T)}function Tc(T,I,K,ce,pt,et,Ot){var Pt;if(ce&&(Pt=et?ce(T,pt,et,Ot):ce(T)),Pt!==void 0)return Pt;if(!Ni(T))return T;var En=Ic(T);if(En){if(Pt=sg(T),!I)return eg(T,Pt)}else{var jt=go(T),Zn=jt==u||jt==d;if(mh(T))return ol(T,I);if(jt==p||jt==o||Zn&&!et){if(z(T))return et?T:{};if(Pt=Vi(Zn?{}:T),!I)return tg(T,Ri(Pt,T))}else{if(!ae[jt])return et?T:{};Pt=ig(T,jt,Tc,I)}}Ot||(Ot=new ws);var xs=Ot.get(T);if(xs)return xs;if(Ot.set(T,Pt),!En)var Mn=K?ng(T):Dc(T);return ye(Mn||T,function(Xn,zn){Mn&&(zn=Xn,Xn=T[zn]),ch(Pt,zn,Tc(Xn,I,K,ce,zn,T,Ot))}),Pt}function qm(T){return Ni(T)?oe(T):{}}function Gm(T,I,K){var ce=I(T);return Ic(T)?ce:Me(ce,K(T))}function Ym(T){return Re.call(T)}function Km(T){if(!Ni(T)||ag(T))return!1;var I=Oc(T)||z(T)?st:ie;return I.test(ds(T))}function Zm(T){if(!hh(T))return at(T);var I=[];for(var K in Object(T))Le.call(T,K)&&K!="constructor"&&I.push(K);return I}function ol(T,I){if(I)return T.slice();var K=new T.constructor(T.length);return T.copy(K),K}function Ac(T){var I=new T.constructor(T.byteLength);return new te(I).set(new te(T)),I}function Qr(T,I){var K=I?Ac(T.buffer):T.buffer;return new T.constructor(K,T.byteOffset,T.byteLength)}function uh(T,I,K){var ce=I?K(se(T),!0):se(T);return ft(ce,re,new T.constructor)}function dh(T){var I=new T.constructor(T.source,G.exec(T));return I.lastIndex=T.lastIndex,I}function Xm(T,I,K){var ce=I?K(le(T),!0):le(T);return ft(ce,be,new T.constructor)}function Jm(T){return ah?Object(ah.call(T)):{}}function Qm(T,I){var K=I?Ac(T.buffer):T.buffer;return new T.constructor(K,T.byteOffset,T.length)}function eg(T,I){var K=-1,ce=T.length;for(I||(I=Array(ce));++K<ce;)I[K]=T[K];return I}function Mc(T,I,K,ce){K||(K={});for(var pt=-1,et=I.length;++pt<et;){var Ot=I[pt],Pt=ce?ce(K[Ot],T[Ot],Ot,K,T):void 0;ch(K,Ot,Pt===void 0?T[Ot]:Pt)}return K}function tg(T,I){return Mc(T,mo(T),I)}function ng(T){return Gm(T,Dc,mo)}function ea(T,I){var K=T.__data__;return rg(I)?K[typeof I=="string"?"string":"hash"]:K.map}function ui(T,I){var K=U(T,I);return Km(K)?K:void 0}var mo=Ze?he(Ze,Object):cg,go=Ym;($t&&go(new $t(new ArrayBuffer(1)))!=S||Je&&go(new Je)!=h||Pe&&go(Pe.resolve())!=v||Qe&&go(new Qe)!=_||bt&&go(new bt)!=k)&&(go=function(T){var I=Re.call(T),K=I==p?T.constructor:void 0,ce=K?ds(K):void 0;if(ce)switch(ce){case Cn:return S;case ci:return h;case Jr:return v;case Pi:return _;case Cc:return k}return I});function sg(T){var I=T.length,K=T.constructor(I);return I&&typeof T[0]=="string"&&Le.call(T,"index")&&(K.index=T.index,K.input=T.input),K}function Vi(T){return typeof T.constructor=="function"&&!hh(T)?qm(ne(T)):{}}function ig(T,I,K,ce){var pt=T.constructor;switch(I){case C:return Ac(T);case a:case l:return new pt(+T);case S:return Qr(T,ce);case A:case O:case M:case V:case R:case X:case P:case F:case Z:return Qm(T,ce);case h:return uh(T,ce,K);case f:case w:return new pt(T);case y:return dh(T);case _:return Xm(T,ce,K);case x:return Jm(T)}}function og(T,I){return I=I??i,!!I&&(typeof T=="number"||ge.test(T))&&T>-1&&T%1==0&&T<I}function rg(T){var I=typeof T;return I=="string"||I=="number"||I=="symbol"||I=="boolean"?T!=="__proto__":T===null}function ag(T){return!!pe&&pe in T}function hh(T){var I=T&&T.constructor,K=typeof I=="function"&&I.prototype||ve;return T===K}function ds(T){if(T!=null){try{return Ae.call(T)}catch{}try{return T+""}catch{}}return""}function fh(T){return Tc(T,!0,!0)}function ph(T,I){return T===I||T!==T&&I!==I}function rl(T){return lg(T)&&Le.call(T,"callee")&&(!me.call(T,"callee")||Re.call(T)==o)}var Ic=Array.isArray;function al(T){return T!=null&&gh(T.length)&&!Oc(T)}function lg(T){return _h(T)&&al(T)}var mh=rt||ug;function Oc(T){var I=Ni(T)?Re.call(T):"";return I==u||I==d}function gh(T){return typeof T=="number"&&T>-1&&T%1==0&&T<=i}function Ni(T){var I=typeof T;return!!T&&(I=="object"||I=="function")}function _h(T){return!!T&&typeof T=="object"}function Dc(T){return al(T)?sl(T):Zm(T)}function cg(){return[]}function ug(){return!1}t.exports=fh})(ep,ep.exports);var x6=ep.exports,tp={exports:{}};tp.exports;(function(t,e){var n=200,s="__lodash_hash_undefined__",i=1,o=2,r=9007199254740991,a="[object Arguments]",l="[object Array]",c="[object AsyncFunction]",u="[object Boolean]",d="[object Date]",h="[object Error]",f="[object Function]",p="[object GeneratorFunction]",v="[object Map]",y="[object Number]",_="[object Null]",w="[object Object]",x="[object Promise]",k="[object Proxy]",C="[object RegExp]",S="[object Set]",A="[object String]",O="[object Symbol]",M="[object Undefined]",V="[object WeakMap]",R="[object ArrayBuffer]",X="[object DataView]",P="[object Float32Array]",F="[object Float64Array]",Z="[object Int8Array]",Q="[object Int16Array]",G="[object Int32Array]",ie="[object Uint8Array]",ge="[object Uint8ClampedArray]",ae="[object Uint16Array]",Te="[object Uint32Array]",We=/[\\^$.*+?()[\]{}|]/g,Ke=/^\[object .+?Constructor\]$/,He=/^(?:0|[1-9]\d*)$/,Ue={};Ue[P]=Ue[F]=Ue[Z]=Ue[Q]=Ue[G]=Ue[ie]=Ue[ge]=Ue[ae]=Ue[Te]=!0,Ue[a]=Ue[l]=Ue[R]=Ue[u]=Ue[X]=Ue[d]=Ue[h]=Ue[f]=Ue[v]=Ue[y]=Ue[w]=Ue[C]=Ue[S]=Ue[A]=Ue[V]=!1;var qe=typeof Lo=="object"&&Lo&&Lo.Object===Object&&Lo,re=typeof self=="object"&&self&&self.Object===Object&&self,be=qe||re||Function("return this")(),ye=e&&!e.nodeType&&e,Me=ye&&!0&&t&&!t.nodeType&&t,ft=Me&&Me.exports===ye,kt=ft&&qe.process,U=function(){try{return kt&&kt.binding&&kt.binding("util")}catch{}}(),z=U&&U.isTypedArray;function se(T,I){for(var K=-1,ce=T==null?0:T.length,pt=0,et=[];++K<ce;){var Ot=T[K];I(Ot,K,T)&&(et[pt++]=Ot)}return et}function he(T,I){for(var K=-1,ce=I.length,pt=T.length;++K<ce;)T[pt+K]=I[K];return T}function le(T,I){for(var K=-1,ce=T==null?0:T.length;++K<ce;)if(I(T[K],K,T))return!0;return!1}function _e(T,I){for(var K=-1,ce=Array(T);++K<T;)ce[K]=I(K);return ce}function Ce(T){return function(I){return T(I)}}function ve(T,I){return T.has(I)}function we(T,I){return T==null?void 0:T[I]}function pe(T){var I=-1,K=Array(T.size);return T.forEach(function(ce,pt){K[++I]=[pt,ce]}),K}function Ae(T,I){return function(K){return T(I(K))}}function Le(T){var I=-1,K=Array(T.size);return T.forEach(function(ce){K[++I]=ce}),K}var Re=Array.prototype,st=Function.prototype,ot=Object.prototype,Ct=be["__core-js_shared__"],te=st.toString,ne=ot.hasOwnProperty,oe=function(){var T=/[^.]+$/.exec(Ct&&Ct.keys&&Ct.keys.IE_PROTO||"");return T?"Symbol(src)_1."+T:""}(),me=ot.toString,Ve=RegExp("^"+te.call(ne).replace(We,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ze=ft?be.Buffer:void 0,rt=be.Symbol,at=be.Uint8Array,$t=ot.propertyIsEnumerable,Je=Re.splice,Pe=rt?rt.toStringTag:void 0,Qe=Object.getOwnPropertySymbols,bt=Ze?Ze.isBuffer:void 0,wt=Ae(Object.keys,Object),Cn=mo(be,"DataView"),ci=mo(be,"Map"),Jr=mo(be,"Promise"),Pi=mo(be,"Set"),Cc=mo(be,"WeakMap"),rr=mo(Object,"create"),ah=ds(Cn),po=ds(ci),Tm=ds(Jr),Am=ds(Pi),Mm=ds(Cc),lh=rt?rt.prototype:void 0,Ec=lh?lh.valueOf:void 0;function jn(T){var I=-1,K=T==null?0:T.length;for(this.clear();++I<K;){var ce=T[I];this.set(ce[0],ce[1])}}function Im(){this.__data__=rr?rr(null):{},this.size=0}function Om(T){var I=this.has(T)&&delete this.__data__[T];return this.size-=I?1:0,I}function Dm(T){var I=this.__data__;if(rr){var K=I[T];return K===s?void 0:K}return ne.call(I,T)?I[T]:void 0}function Lm(T){var I=this.__data__;return rr?I[T]!==void 0:ne.call(I,T)}function Pm(T,I){var K=this.__data__;return this.size+=this.has(T)?0:1,K[T]=rr&&I===void 0?s:I,this}jn.prototype.clear=Im,jn.prototype.delete=Om,jn.prototype.get=Dm,jn.prototype.has=Lm,jn.prototype.set=Pm;function Kn(T){var I=-1,K=T==null?0:T.length;for(this.clear();++I<K;){var ce=T[I];this.set(ce[0],ce[1])}}function Rm(){this.__data__=[],this.size=0}function Vm(T){var I=this.__data__,K=ol(I,T);if(K<0)return!1;var ce=I.length-1;return K==ce?I.pop():Je.call(I,K,1),--this.size,!0}function Nm(T){var I=this.__data__,K=ol(I,T);return K<0?void 0:I[K][1]}function Um(T){return ol(this.__data__,T)>-1}function Bm(T,I){var K=this.__data__,ce=ol(K,T);return ce<0?(++this.size,K.push([T,I])):K[ce][1]=I,this}Kn.prototype.clear=Rm,Kn.prototype.delete=Vm,Kn.prototype.get=Nm,Kn.prototype.has=Um,Kn.prototype.set=Bm;function ws(T){var I=-1,K=T==null?0:T.length;for(this.clear();++I<K;){var ce=T[I];this.set(ce[0],ce[1])}}function jm(){this.size=0,this.__data__={hash:new jn,map:new(ci||Kn),string:new jn}}function zm(T){var I=ui(this,T).delete(T);return this.size-=I?1:0,I}function Fm(T){return ui(this,T).get(T)}function Wm(T){return ui(this,T).has(T)}function Hm(T,I){var K=ui(this,T),ce=K.size;return K.set(T,I),this.size+=K.size==ce?0:1,this}ws.prototype.clear=jm,ws.prototype.delete=zm,ws.prototype.get=Fm,ws.prototype.has=Wm,ws.prototype.set=Hm;function sl(T){var I=-1,K=T==null?0:T.length;for(this.__data__=new ws;++I<K;)this.add(T[I])}function ch(T){return this.__data__.set(T,s),this}function il(T){return this.__data__.has(T)}sl.prototype.add=sl.prototype.push=ch,sl.prototype.has=il;function Ri(T){var I=this.__data__=new Kn(T);this.size=I.size}function Tc(){this.__data__=new Kn,this.size=0}function qm(T){var I=this.__data__,K=I.delete(T);return this.size=I.size,K}function Gm(T){return this.__data__.get(T)}function Ym(T){return this.__data__.has(T)}function Km(T,I){var K=this.__data__;if(K instanceof Kn){var ce=K.__data__;if(!ci||ce.length<n-1)return ce.push([T,I]),this.size=++K.size,this;K=this.__data__=new ws(ce)}return K.set(T,I),this.size=K.size,this}Ri.prototype.clear=Tc,Ri.prototype.delete=qm,Ri.prototype.get=Gm,Ri.prototype.has=Ym,Ri.prototype.set=Km;function Zm(T,I){var K=rl(T),ce=!K&&ph(T),pt=!K&&!ce&&al(T),et=!K&&!ce&&!pt&&_h(T),Ot=K||ce||pt||et,Pt=Ot?_e(T.length,String):[],En=Pt.length;for(var jt in T)(I||ne.call(T,jt))&&!(Ot&&(jt=="length"||pt&&(jt=="offset"||jt=="parent")||et&&(jt=="buffer"||jt=="byteLength"||jt=="byteOffset")||ig(jt,En)))&&Pt.push(jt);return Pt}function ol(T,I){for(var K=T.length;K--;)if(fh(T[K][0],I))return K;return-1}function Ac(T,I,K){var ce=I(T);return rl(T)?ce:he(ce,K(T))}function Qr(T){return T==null?T===void 0?M:_:Pe&&Pe in Object(T)?go(T):hh(T)}function uh(T){return Ni(T)&&Qr(T)==a}function dh(T,I,K,ce,pt){return T===I?!0:T==null||I==null||!Ni(T)&&!Ni(I)?T!==T&&I!==I:Xm(T,I,K,ce,dh,pt)}function Xm(T,I,K,ce,pt,et){var Ot=rl(T),Pt=rl(I),En=Ot?l:Vi(T),jt=Pt?l:Vi(I);En=En==a?w:En,jt=jt==a?w:jt;var Zn=En==w,xs=jt==w,Mn=En==jt;if(Mn&&al(T)){if(!al(I))return!1;Ot=!0,Zn=!1}if(Mn&&!Zn)return et||(et=new Ri),Ot||_h(T)?Mc(T,I,K,ce,pt,et):tg(T,I,En,K,ce,pt,et);if(!(K&i)){var Xn=Zn&&ne.call(T,"__wrapped__"),zn=xs&&ne.call(I,"__wrapped__");if(Xn||zn){var ar=Xn?T.value():T,_o=zn?I.value():I;return et||(et=new Ri),pt(ar,_o,K,ce,et)}}return Mn?(et||(et=new Ri),ng(T,I,K,ce,pt,et)):!1}function Jm(T){if(!gh(T)||rg(T))return!1;var I=mh(T)?Ve:Ke;return I.test(ds(T))}function Qm(T){return Ni(T)&&Oc(T.length)&&!!Ue[Qr(T)]}function eg(T){if(!ag(T))return wt(T);var I=[];for(var K in Object(T))ne.call(T,K)&&K!="constructor"&&I.push(K);return I}function Mc(T,I,K,ce,pt,et){var Ot=K&i,Pt=T.length,En=I.length;if(Pt!=En&&!(Ot&&En>Pt))return!1;var jt=et.get(T);if(jt&&et.get(I))return jt==I;var Zn=-1,xs=!0,Mn=K&o?new sl:void 0;for(et.set(T,I),et.set(I,T);++Zn<Pt;){var Xn=T[Zn],zn=I[Zn];if(ce)var ar=Ot?ce(zn,Xn,Zn,I,T,et):ce(Xn,zn,Zn,T,I,et);if(ar!==void 0){if(ar)continue;xs=!1;break}if(Mn){if(!le(I,function(_o,ta){if(!ve(Mn,ta)&&(Xn===_o||pt(Xn,_o,K,ce,et)))return Mn.push(ta)})){xs=!1;break}}else if(!(Xn===zn||pt(Xn,zn,K,ce,et))){xs=!1;break}}return et.delete(T),et.delete(I),xs}function tg(T,I,K,ce,pt,et,Ot){switch(K){case X:if(T.byteLength!=I.byteLength||T.byteOffset!=I.byteOffset)return!1;T=T.buffer,I=I.buffer;case R:return!(T.byteLength!=I.byteLength||!et(new at(T),new at(I)));case u:case d:case y:return fh(+T,+I);case h:return T.name==I.name&&T.message==I.message;case C:case A:return T==I+"";case v:var Pt=pe;case S:var En=ce&i;if(Pt||(Pt=Le),T.size!=I.size&&!En)return!1;var jt=Ot.get(T);if(jt)return jt==I;ce|=o,Ot.set(T,I);var Zn=Mc(Pt(T),Pt(I),ce,pt,et,Ot);return Ot.delete(T),Zn;case O:if(Ec)return Ec.call(T)==Ec.call(I)}return!1}function ng(T,I,K,ce,pt,et){var Ot=K&i,Pt=ea(T),En=Pt.length,jt=ea(I),Zn=jt.length;if(En!=Zn&&!Ot)return!1;for(var xs=En;xs--;){var Mn=Pt[xs];if(!(Ot?Mn in I:ne.call(I,Mn)))return!1}var Xn=et.get(T);if(Xn&&et.get(I))return Xn==I;var zn=!0;et.set(T,I),et.set(I,T);for(var ar=Ot;++xs<En;){Mn=Pt[xs];var _o=T[Mn],ta=I[Mn];if(ce)var n2=Ot?ce(ta,_o,Mn,I,T,et):ce(_o,ta,Mn,T,I,et);if(!(n2===void 0?_o===ta||pt(_o,ta,K,ce,et):n2)){zn=!1;break}ar||(ar=Mn=="constructor")}if(zn&&!ar){var vh=T.constructor,yh=I.constructor;vh!=yh&&"constructor"in T&&"constructor"in I&&!(typeof vh=="function"&&vh instanceof vh&&typeof yh=="function"&&yh instanceof yh)&&(zn=!1)}return et.delete(T),et.delete(I),zn}function ea(T){return Ac(T,Dc,sg)}function ui(T,I){var K=T.__data__;return og(I)?K[typeof I=="string"?"string":"hash"]:K.map}function mo(T,I){var K=we(T,I);return Jm(K)?K:void 0}function go(T){var I=ne.call(T,Pe),K=T[Pe];try{T[Pe]=void 0;var ce=!0}catch{}var pt=me.call(T);return ce&&(I?T[Pe]=K:delete T[Pe]),pt}var sg=Qe?function(T){return T==null?[]:(T=Object(T),se(Qe(T),function(I){return $t.call(T,I)}))}:cg,Vi=Qr;(Cn&&Vi(new Cn(new ArrayBuffer(1)))!=X||ci&&Vi(new ci)!=v||Jr&&Vi(Jr.resolve())!=x||Pi&&Vi(new Pi)!=S||Cc&&Vi(new Cc)!=V)&&(Vi=function(T){var I=Qr(T),K=I==w?T.constructor:void 0,ce=K?ds(K):"";if(ce)switch(ce){case ah:return X;case po:return v;case Tm:return x;case Am:return S;case Mm:return V}return I});function ig(T,I){return I=I??r,!!I&&(typeof T=="number"||He.test(T))&&T>-1&&T%1==0&&T<I}function og(T){var I=typeof T;return I=="string"||I=="number"||I=="symbol"||I=="boolean"?T!=="__proto__":T===null}function rg(T){return!!oe&&oe in T}function ag(T){var I=T&&T.constructor,K=typeof I=="function"&&I.prototype||ot;return T===K}function hh(T){return me.call(T)}function ds(T){if(T!=null){try{return te.call(T)}catch{}try{return T+""}catch{}}return""}function fh(T,I){return T===I||T!==T&&I!==I}var ph=uh(function(){return arguments}())?uh:function(T){return Ni(T)&&ne.call(T,"callee")&&!$t.call(T,"callee")},rl=Array.isArray;function Ic(T){return T!=null&&Oc(T.length)&&!mh(T)}var al=bt||ug;function lg(T,I){return dh(T,I)}function mh(T){if(!gh(T))return!1;var I=Qr(T);return I==f||I==p||I==c||I==k}function Oc(T){return typeof T=="number"&&T>-1&&T%1==0&&T<=r}function gh(T){var I=typeof T;return T!=null&&(I=="object"||I=="function")}function Ni(T){return T!=null&&typeof T=="object"}var _h=z?Ce(z):Qm;function Dc(T){return Ic(T)?Zm(T):eg(T)}function cg(){return[]}function ug(){return!1}t.exports=lg})(tp,tp.exports);var S6=tp.exports,Yv={};Object.defineProperty(Yv,"__esModule",{value:!0});const yV=x6,bV=S6;var t_;(function(t){function e(o={},r={},a=!1){typeof o!="object"&&(o={}),typeof r!="object"&&(r={});let l=yV(r);a||(l=Object.keys(l).reduce((c,u)=>(l[u]!=null&&(c[u]=l[u]),c),{}));for(const c in o)o[c]!==void 0&&r[c]===void 0&&(l[c]=o[c]);return Object.keys(l).length>0?l:void 0}t.compose=e;function n(o={},r={}){typeof o!="object"&&(o={}),typeof r!="object"&&(r={});const a=Object.keys(o).concat(Object.keys(r)).reduce((l,c)=>(bV(o[c],r[c])||(l[c]=r[c]===void 0?null:r[c]),l),{});return Object.keys(a).length>0?a:void 0}t.diff=n;function s(o={},r={}){o=o||{};const a=Object.keys(r).reduce((l,c)=>(r[c]!==o[c]&&o[c]!==void 0&&(l[c]=r[c]),l),{});return Object.keys(o).reduce((l,c)=>(o[c]!==r[c]&&r[c]===void 0&&(l[c]=null),l),a)}t.invert=s;function i(o,r,a=!1){if(typeof o!="object")return r;if(typeof r!="object")return;if(!a)return r;const l=Object.keys(r).reduce((c,u)=>(o[u]===void 0&&(c[u]=r[u]),c),{});return Object.keys(l).length>0?l:void 0}t.transform=i})(t_||(t_={}));Yv.default=t_;var tm={};Object.defineProperty(tm,"__esModule",{value:!0});var n_;(function(t){function e(n){return typeof n.delete=="number"?n.delete:typeof n.retain=="number"?n.retain:typeof n.retain=="object"&&n.retain!==null?1:typeof n.insert=="string"?n.insert.length:1}t.length=e})(n_||(n_={}));tm.default=n_;var Kv={};Object.defineProperty(Kv,"__esModule",{value:!0});const By=tm;class wV{constructor(e){this.ops=e,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(e){e||(e=1/0);const n=this.ops[this.index];if(n){const s=this.offset,i=By.default.length(n);if(e>=i-s?(e=i-s,this.index+=1,this.offset=0):this.offset+=e,typeof n.delete=="number")return{delete:e};{const o={};return n.attributes&&(o.attributes=n.attributes),typeof n.retain=="number"?o.retain=e:typeof n.retain=="object"&&n.retain!==null?o.retain=n.retain:typeof n.insert=="string"?o.insert=n.insert.substr(s,e):o.insert=n.insert,o}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?By.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const e=this.ops[this.index];return e?typeof e.delete=="number"?"delete":typeof e.retain=="number"||typeof e.retain=="object"&&e.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const e=this.offset,n=this.index,s=this.next(),i=this.ops.slice(this.index);return this.offset=e,this.index=n,[s].concat(i)}}else return[]}}Kv.default=wV;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AttributeMap=e.OpIterator=e.Op=void 0;const n=vV,s=x6,i=S6,o=Yv;e.AttributeMap=o.default;const r=tm;e.Op=r.default;const a=Kv;e.OpIterator=a.default;const l=String.fromCharCode(0),c=(d,h)=>{if(typeof d!="object"||d===null)throw new Error(`cannot retain a ${typeof d}`);if(typeof h!="object"||h===null)throw new Error(`cannot retain a ${typeof h}`);const f=Object.keys(d)[0];if(!f||f!==Object.keys(h)[0])throw new Error(`embed types not matched: ${f} != ${Object.keys(h)[0]}`);return[f,d[f],h[f]]};class u{constructor(h){Array.isArray(h)?this.ops=h:h!=null&&Array.isArray(h.ops)?this.ops=h.ops:this.ops=[]}static registerEmbed(h,f){this.handlers[h]=f}static unregisterEmbed(h){delete this.handlers[h]}static getHandler(h){const f=this.handlers[h];if(!f)throw new Error(`no handlers for embed type "${h}"`);return f}insert(h,f){const p={};return typeof h=="string"&&h.length===0?this:(p.insert=h,f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(p.attributes=f),this.push(p))}delete(h){return h<=0?this:this.push({delete:h})}retain(h,f){if(typeof h=="number"&&h<=0)return this;const p={retain:h};return f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(p.attributes=f),this.push(p)}push(h){let f=this.ops.length,p=this.ops[f-1];if(h=s(h),typeof p=="object"){if(typeof h.delete=="number"&&typeof p.delete=="number")return this.ops[f-1]={delete:p.delete+h.delete},this;if(typeof p.delete=="number"&&h.insert!=null&&(f-=1,p=this.ops[f-1],typeof p!="object"))return this.ops.unshift(h),this;if(i(h.attributes,p.attributes)){if(typeof h.insert=="string"&&typeof p.insert=="string")return this.ops[f-1]={insert:p.insert+h.insert},typeof h.attributes=="object"&&(this.ops[f-1].attributes=h.attributes),this;if(typeof h.retain=="number"&&typeof p.retain=="number")return this.ops[f-1]={retain:p.retain+h.retain},typeof h.attributes=="object"&&(this.ops[f-1].attributes=h.attributes),this}}return f===this.ops.length?this.ops.push(h):this.ops.splice(f,0,h),this}chop(){const h=this.ops[this.ops.length-1];return h&&typeof h.retain=="number"&&!h.attributes&&this.ops.pop(),this}filter(h){return this.ops.filter(h)}forEach(h){this.ops.forEach(h)}map(h){return this.ops.map(h)}partition(h){const f=[],p=[];return this.forEach(v=>{(h(v)?f:p).push(v)}),[f,p]}reduce(h,f){return this.ops.reduce(h,f)}changeLength(){return this.reduce((h,f)=>f.insert?h+r.default.length(f):f.delete?h-f.delete:h,0)}length(){return this.reduce((h,f)=>h+r.default.length(f),0)}slice(h=0,f=1/0){const p=[],v=new a.default(this.ops);let y=0;for(;y<f&&v.hasNext();){let _;y<h?_=v.next(h-y):(_=v.next(f-y),p.push(_)),y+=r.default.length(_)}return new u(p)}compose(h){const f=new a.default(this.ops),p=new a.default(h.ops),v=[],y=p.peek();if(y!=null&&typeof y.retain=="number"&&y.attributes==null){let w=y.retain;for(;f.peekType()==="insert"&&f.peekLength()<=w;)w-=f.peekLength(),v.push(f.next());y.retain-w>0&&p.next(y.retain-w)}const _=new u(v);for(;f.hasNext()||p.hasNext();)if(p.peekType()==="insert")_.push(p.next());else if(f.peekType()==="delete")_.push(f.next());else{const w=Math.min(f.peekLength(),p.peekLength()),x=f.next(w),k=p.next(w);if(k.retain){const C={};if(typeof x.retain=="number")C.retain=typeof k.retain=="number"?w:k.retain;else if(typeof k.retain=="number")x.retain==null?C.insert=x.insert:C.retain=x.retain;else{const A=x.retain==null?"insert":"retain",[O,M,V]=c(x[A],k.retain),R=u.getHandler(O);C[A]={[O]:R.compose(M,V,A==="retain")}}const S=o.default.compose(x.attributes,k.attributes,typeof x.retain=="number");if(S&&(C.attributes=S),_.push(C),!p.hasNext()&&i(_.ops[_.ops.length-1],C)){const A=new u(f.rest());return _.concat(A).chop()}}else typeof k.delete=="number"&&(typeof x.retain=="number"||typeof x.retain=="object"&&x.retain!==null)&&_.push(k)}return _.chop()}concat(h){const f=new u(this.ops.slice());return h.ops.length>0&&(f.push(h.ops[0]),f.ops=f.ops.concat(h.ops.slice(1))),f}diff(h,f){if(this.ops===h.ops)return new u;const p=[this,h].map(x=>x.map(k=>{if(k.insert!=null)return typeof k.insert=="string"?k.insert:l;const C=x===h?"on":"with";throw new Error("diff() called "+C+" non-document")}).join("")),v=new u,y=n(p[0],p[1],f,!0),_=new a.default(this.ops),w=new a.default(h.ops);return y.forEach(x=>{let k=x[1].length;for(;k>0;){let C=0;switch(x[0]){case n.INSERT:C=Math.min(w.peekLength(),k),v.push(w.next(C));break;case n.DELETE:C=Math.min(k,_.peekLength()),_.next(C),v.delete(C);break;case n.EQUAL:C=Math.min(_.peekLength(),w.peekLength(),k);const S=_.next(C),A=w.next(C);i(S.insert,A.insert)?v.retain(C,o.default.diff(S.attributes,A.attributes)):v.push(A).delete(C);break}k-=C}}),v.chop()}eachLine(h,f=`
`){const p=new a.default(this.ops);let v=new u,y=0;for(;p.hasNext();){if(p.peekType()!=="insert")return;const _=p.peek(),w=r.default.length(_)-p.peekLength(),x=typeof _.insert=="string"?_.insert.indexOf(f,w)-w:-1;if(x<0)v.push(p.next());else if(x>0)v.push(p.next(x));else{if(h(v,p.next(1).attributes||{},y)===!1)return;y+=1,v=new u}}v.length()>0&&h(v,{},y)}invert(h){const f=new u;return this.reduce((p,v)=>{if(v.insert)f.delete(r.default.length(v));else{if(typeof v.retain=="number"&&v.attributes==null)return f.retain(v.retain),p+v.retain;if(v.delete||typeof v.retain=="number"){const y=v.delete||v.retain;return h.slice(p,p+y).forEach(w=>{v.delete?f.push(w):v.retain&&v.attributes&&f.retain(r.default.length(w),o.default.invert(v.attributes,w.attributes))}),p+y}else if(typeof v.retain=="object"&&v.retain!==null){const y=h.slice(p,p+1),_=new a.default(y.ops).next(),[w,x,k]=c(v.retain,_.insert),C=u.getHandler(w);return f.retain({[w]:C.invert(x,k)},o.default.invert(v.attributes,_.attributes)),p+1}}return p},0),f.chop()}transform(h,f=!1){if(f=!!f,typeof h=="number")return this.transformPosition(h,f);const p=h,v=new a.default(this.ops),y=new a.default(p.ops),_=new u;for(;v.hasNext()||y.hasNext();)if(v.peekType()==="insert"&&(f||y.peekType()!=="insert"))_.retain(r.default.length(v.next()));else if(y.peekType()==="insert")_.push(y.next());else{const w=Math.min(v.peekLength(),y.peekLength()),x=v.next(w),k=y.next(w);if(x.delete)continue;if(k.delete)_.push(k);else{const C=x.retain,S=k.retain;let A=typeof S=="object"&&S!==null?S:w;if(typeof C=="object"&&C!==null&&typeof S=="object"&&S!==null){const O=Object.keys(C)[0];if(O===Object.keys(S)[0]){const M=u.getHandler(O);M&&(A={[O]:M.transform(C[O],S[O],f)})}}_.retain(A,o.default.transform(x.attributes,k.attributes,f))}}return _.chop()}transformPosition(h,f=!1){f=!!f;const p=new a.default(this.ops);let v=0;for(;p.hasNext()&&v<=h;){const y=p.peekLength(),_=p.peekType();if(p.next(),_==="delete"){h-=Math.min(y,h-v);continue}else _==="insert"&&(v<h||!f)&&(h+=y);v+=y}return h}}u.Op=r.default,u.OpIterator=a.default,u.AttributeMap=o.default,u.handlers={},e.default=u,t.exports=u,t.exports.default=u})(e_,e_.exports);var ei=e_.exports;const je=Hv(ei);class Ii extends Hs{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}Ii.blotName="break";Ii.tagName="BR";let $i=class extends Qf{};function nm(t){return t.replace(/[&<>"']/g,e=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[e])}const Fi=class Fi extends Fv{static compare(e,n){const s=Fi.order.indexOf(e),i=Fi.order.indexOf(n);return s>=0||i>=0?s-i:e===n?0:e<n?-1:1}formatAt(e,n,s,i){if(Fi.compare(this.statics.blotName,s)<0&&this.scroll.query(s,Ye.BLOT)){const o=this.isolate(e,n);i&&o.wrap(s,i)}else super.formatAt(e,n,s,i)}optimize(e){if(super.optimize(e),this.parent instanceof Fi&&Fi.compare(this.statics.blotName,this.parent.statics.blotName)>0){const n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}};ee(Fi,"allowedChildren",[Fi,Ii,Hs,$i]),ee(Fi,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let ii=Fi;const jy=1;class Yn extends Xu{constructor(){super(...arguments);ee(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=k6(this)),this.cache.delta}deleteAt(n,s){super.deleteAt(n,s),this.cache={}}formatAt(n,s,i,o){s<=0||(this.scroll.query(i,Ye.BLOCK)?n+s===this.length()&&this.format(i,o):super.formatAt(n,Math.min(s,this.length()-n-1),i,o),this.cache={})}insertAt(n,s,i){if(i!=null){super.insertAt(n,s,i),this.cache={};return}if(s.length===0)return;const o=s.split(`
`),r=o.shift();r.length>0&&(n<this.length()-1||this.children.tail==null?super.insertAt(Math.min(n,this.length()-1),r):this.children.tail.insertAt(this.children.tail.length(),r),this.cache={});let a=this;o.reduce((l,c)=>(a=a.split(l,!0),a.insertAt(0,c),c.length),n+r.length)}insertBefore(n,s){const{head:i}=this.children;super.insertBefore(n,s),i instanceof Ii&&i.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+jy),this.cache.length}moveChildren(n,s){super.moveChildren(n,s),this.cache={}}optimize(n){super.optimize(n),this.cache={}}path(n){return super.path(n,!0)}removeChild(n){super.removeChild(n),this.cache={}}split(n){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(s&&(n===0||n>=this.length()-jy)){const o=this.clone();return n===0?(this.parent.insertBefore(o,this),this):(this.parent.insertBefore(o,this.next),o)}const i=super.split(n,s);return this.cache={},i}}Yn.blotName="block";Yn.tagName="P";Yn.defaultChild=Ii;Yn.allowedChildren=[Ii,ii,Hs,$i];class Qs extends Hs{attach(){super.attach(),this.attributes=new Xp(this.domNode)}delta(){return new je().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(e,n){const s=this.scroll.query(e,Ye.BLOCK_ATTRIBUTE);s!=null&&this.attributes.attribute(s,n)}formatAt(e,n,s,i){this.format(s,i)}insertAt(e,n,s){if(s!=null){super.insertAt(e,n,s);return}const i=n.split(`
`),o=i.pop(),r=i.map(l=>{const c=this.scroll.create(Yn.blotName);return c.insertAt(0,l),c}),a=this.split(e);r.forEach(l=>{this.parent.insertBefore(l,a)}),o&&this.parent.insertBefore(this.scroll.create("text",o),a)}}Qs.scope=Ye.BLOCK_BLOT;function k6(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.descendants(ts).reduce((n,s)=>s.length()===0?n:n.insert(s.value(),Xs(s,{},e)),new je).insert(`
`,Xs(t))}function Xs(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return t==null||("formats"in t&&typeof t.formats=="function"&&(e={...e,...t.formats()},n&&delete e["code-token"]),t.parent==null||t.parent.statics.blotName==="scroll"||t.parent.statics.scope!==t.statics.scope)?e:Xs(t.parent,e,n)}const Zs=class Zs extends Hs{static value(){}constructor(e,n,s){super(e,n),this.selection=s,this.textNode=document.createTextNode(Zs.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(e,n){if(this.savedLength!==0){super.format(e,n);return}let s=this,i=0;for(;s!=null&&s.statics.scope!==Ye.BLOCK_BLOT;)i+=s.offset(s.parent),s=s.parent;s!=null&&(this.savedLength=Zs.CONTENTS.length,s.optimize(),s.formatAt(i,Zs.CONTENTS.length,e,n),this.savedLength=0)}index(e,n){return e===this.textNode?0:super.index(e,n)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const e=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const n=this.prev instanceof $i?this.prev:null,s=n?n.length():0,i=this.next instanceof $i?this.next:null,o=i?i.text:"",{textNode:r}=this,a=r.data.split(Zs.CONTENTS).join("");r.data=Zs.CONTENTS;let l;if(n)l=n,(a||i)&&(n.insertAt(n.length(),a+o),i&&i.remove());else if(i)l=i,i.insertAt(0,a);else{const c=document.createTextNode(a);l=this.scroll.create(c),this.parent.insertBefore(l,this)}if(this.remove(),e){const c=(h,f)=>n&&h===n.domNode?f:h===r?s+f-1:i&&h===i.domNode?s+a.length+f:null,u=c(e.start.node,e.start.offset),d=c(e.end.node,e.end.offset);if(u!==null&&d!==null)return{startNode:l.domNode,startOffset:u,endNode:l.domNode,endOffset:d}}return null}update(e,n){if(e.some(s=>s.type==="characterData"&&s.target===this.textNode)){const s=this.restore();s&&(n.range=s)}}optimize(e){super.optimize(e);let{parent:n}=this;for(;n;){if(n.domNode.tagName==="A"){this.savedLength=Zs.CONTENTS.length,n.isolate(this.offset(n),this.length()).unwrap(),this.savedLength=0;break}n=n.parent}}value(){return""}};ee(Zs,"blotName","cursor"),ee(Zs,"className","ql-cursor"),ee(Zs,"tagName","span"),ee(Zs,"CONTENTS","\uFEFF");let nc=Zs;var $6={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function o(l,c,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new i(u,d||l,h),p=n?n+c:c;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],f]:l._events[p].push(f):(l._events[p]=f,l._eventsCount++),l}function r(l,c){--l._eventsCount===0?l._events=new s:delete l._events[c]}function a(){this._events=new s,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)e.call(u,d)&&c.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=n?n+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,f=d.length,p=new Array(f);h<f;h++)p[h]=d[h].fn;return p},a.prototype.listenerCount=function(c){var u=n?n+c:c,d=this._events[u];return d?d.fn?1:d.length:0},a.prototype.emit=function(c,u,d,h,f,p){var v=n?n+c:c;if(!this._events[v])return!1;var y=this._events[v],_=arguments.length,w,x;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),_){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,d),!0;case 4:return y.fn.call(y.context,u,d,h),!0;case 5:return y.fn.call(y.context,u,d,h,f),!0;case 6:return y.fn.call(y.context,u,d,h,f,p),!0}for(x=1,w=new Array(_-1);x<_;x++)w[x-1]=arguments[x];y.fn.apply(y.context,w)}else{var k=y.length,C;for(x=0;x<k;x++)switch(y[x].once&&this.removeListener(c,y[x].fn,void 0,!0),_){case 1:y[x].fn.call(y[x].context);break;case 2:y[x].fn.call(y[x].context,u);break;case 3:y[x].fn.call(y[x].context,u,d);break;case 4:y[x].fn.call(y[x].context,u,d,h);break;default:if(!w)for(C=1,w=new Array(_-1);C<_;C++)w[C-1]=arguments[C];y[x].fn.apply(y[x].context,w)}}return!0},a.prototype.on=function(c,u,d){return o(this,c,u,d,!1)},a.prototype.once=function(c,u,d){return o(this,c,u,d,!0)},a.prototype.removeListener=function(c,u,d,h){var f=n?n+c:c;if(!this._events[f])return this;if(!u)return r(this,f),this;var p=this._events[f];if(p.fn)p.fn===u&&(!h||p.once)&&(!d||p.context===d)&&r(this,f);else{for(var v=0,y=[],_=p.length;v<_;v++)(p[v].fn!==u||h&&!p[v].once||d&&p[v].context!==d)&&y.push(p[v]);y.length?this._events[f]=y.length===1?y[0]:y:r(this,f)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&r(this,u)):(this._events=new s,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})($6);var xV=$6.exports;const SV=Hv(xV),s_=new WeakMap,i_=["error","warn","log","info"];let o_="warn";function C6(t){if(o_&&i_.indexOf(t)<=i_.indexOf(o_)){for(var e=arguments.length,n=new Array(e>1?e-1:0),s=1;s<e;s++)n[s-1]=arguments[s];console[t](...n)}}function tr(t){return i_.reduce((e,n)=>(e[n]=C6.bind(console,n,t),e),{})}tr.level=t=>{o_=t};C6.level=tr.level;const Ig=tr("quill:events"),kV=["selectionchange","mousedown","mouseup","click"];kV.forEach(t=>{document.addEventListener(t,function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];Array.from(document.querySelectorAll(".ql-container")).forEach(i=>{const o=s_.get(i);o&&o.emitter&&o.emitter.handleDOM(...n)})})});class ze extends SV{constructor(){super(),this.domListeners={},this.on("error",Ig.error)}emit(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return Ig.log.call(Ig,...n),super.emit(...n)}handleDOM(e){for(var n=arguments.length,s=new Array(n>1?n-1:0),i=1;i<n;i++)s[i-1]=arguments[i];(this.domListeners[e.type]||[]).forEach(o=>{let{node:r,handler:a}=o;(e.target===r||r.contains(e.target))&&a(e,...s)})}listenDOM(e,n,s){this.domListeners[e]||(this.domListeners[e]=[]),this.domListeners[e].push({node:n,handler:s})}}ee(ze,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),ee(ze,"sources",{API:"api",SILENT:"silent",USER:"user"});const Og=tr("quill:selection");class Da{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=e,this.length=n}}class $V{constructor(e,n){this.emitter=n,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new Da(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,ze.sources.USER),1)}),this.emitter.on(ze.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const s=this.getNativeRange();s!=null&&s.start.node!==this.cursor.textNode&&this.emitter.once(ze.events.SCROLL_UPDATE,(i,o)=>{try{this.root.contains(s.start.node)&&this.root.contains(s.end.node)&&this.setNativeRange(s.start.node,s.start.offset,s.end.node,s.end.offset);const r=o.some(a=>a.type==="characterData"||a.type==="childList"||a.type==="attributes"&&a.target===this.root);this.update(r?ze.sources.SILENT:i)}catch{}})}),this.emitter.on(ze.events.SCROLL_OPTIMIZE,(s,i)=>{if(i.range){const{startNode:o,startOffset:r,endNode:a,endOffset:l}=i.range;this.setNativeRange(o,r,a,l),this.update(ze.sources.SILENT)}}),this.update(ze.sources.SILENT)}handleComposition(){this.emitter.on(ze.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(ze.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const e=this.cursor.restore();if(!e)return;setTimeout(()=>{this.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(ze.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(e,n){this.scroll.update();const s=this.getNativeRange();if(!(s==null||!s.native.collapsed||this.scroll.query(e,Ye.BLOCK))){if(s.start.node!==this.cursor.textNode){const i=this.scroll.find(s.start.node,!1);if(i==null)return;if(i instanceof ts){const o=i.split(s.start.offset);i.parent.insertBefore(this.cursor,o)}else i.insertBefore(this.cursor,s.start.node);this.cursor.attach()}this.cursor.format(e,n),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const s=this.scroll.length();e=Math.min(e,s-1),n=Math.min(e+n,s-1)-e;let i,[o,r]=this.scroll.leaf(e);if(o==null)return null;if(n>0&&r===o.length()){const[u]=this.scroll.leaf(e+1);if(u){const[d]=this.scroll.line(e),[h]=this.scroll.line(e+1);d===h&&(o=u,r=0)}}[i,r]=o.position(r,!0);const a=document.createRange();if(n>0)return a.setStart(i,r),[o,r]=this.scroll.leaf(e+n),o==null?null:([i,r]=o.position(r,!0),a.setEnd(i,r),a.getBoundingClientRect());let l="left",c;if(i instanceof Text){if(!i.data.length)return null;r<i.data.length?(a.setStart(i,r),a.setEnd(i,r+1)):(a.setStart(i,r-1),a.setEnd(i,r),l="right"),c=a.getBoundingClientRect()}else{if(!(o.domNode instanceof Element))return null;c=o.domNode.getBoundingClientRect(),r>0&&(l="right")}return{bottom:c.top+c.height,height:c.height,left:c[l],right:c[l],top:c.top,width:0}}getNativeRange(){const e=document.getSelection();if(e==null||e.rangeCount<=0)return null;const n=e.getRangeAt(0);if(n==null)return null;const s=this.normalizeNative(n);return Og.info("getNativeRange",s),s}getRange(){const e=this.scroll.domNode;if("isConnected"in e&&!e.isConnected)return[null,null];const n=this.getNativeRange();return n==null?[null,null]:[this.normalizedToRange(n),n]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&Dg(this.root,document.activeElement)}normalizedToRange(e){const n=[[e.start.node,e.start.offset]];e.native.collapsed||n.push([e.end.node,e.end.offset]);const s=n.map(r=>{const[a,l]=r,c=this.scroll.find(a,!0),u=c.offset(this.scroll);return l===0?u:c instanceof ts?u+c.index(a,l):u+c.length()}),i=Math.min(Math.max(...s),this.scroll.length()-1),o=Math.min(i,...s);return new Da(o,i-o)}normalizeNative(e){if(!Dg(this.root,e.startContainer)||!e.collapsed&&!Dg(this.root,e.endContainer))return null;const n={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[n.start,n.end].forEach(s=>{let{node:i,offset:o}=s;for(;!(i instanceof Text)&&i.childNodes.length>0;)if(i.childNodes.length>o)i=i.childNodes[o],o=0;else if(i.childNodes.length===o)i=i.lastChild,i instanceof Text?o=i.data.length:i.childNodes.length>0?o=i.childNodes.length:o=i.childNodes.length+1;else break;s.node=i,s.offset=o}),n}rangeToNative(e){const n=this.scroll.length(),s=(i,o)=>{i=Math.min(n-1,i);const[r,a]=this.scroll.leaf(i);return r?r.position(a,o):[null,-1]};return[...s(e.index,!1),...s(e.index+e.length,!0)]}setNativeRange(e,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(Og.info("setNativeRange",e,n,s,i),e!=null&&(this.root.parentNode==null||e.parentNode==null||s.parentNode==null))return;const r=document.getSelection();if(r!=null)if(e!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:a}=this.getNativeRange()||{};if(a==null||o||e!==a.startContainer||n!==a.startOffset||s!==a.endContainer||i!==a.endOffset){e instanceof Element&&e.tagName==="BR"&&(n=Array.from(e.parentNode.childNodes).indexOf(e),e=e.parentNode),s instanceof Element&&s.tagName==="BR"&&(i=Array.from(s.parentNode.childNodes).indexOf(s),s=s.parentNode);const l=document.createRange();l.setStart(e,n),l.setEnd(s,i),r.removeAllRanges(),r.addRange(l)}}else r.removeAllRanges(),this.root.blur()}setRange(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ze.sources.API;if(typeof n=="string"&&(s=n,n=!1),Og.info("setRange",e),e!=null){const i=this.rangeToNative(e);this.setNativeRange(...i,n)}else this.setNativeRange(null);this.update(s)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ze.sources.USER;const n=this.lastRange,[s,i]=this.getRange();if(this.lastRange=s,this.lastNative=i,this.lastRange!=null&&(this.savedRange=this.lastRange),!zv(n,this.lastRange)){if(!this.composing&&i!=null&&i.native.collapsed&&i.start.node!==this.cursor.textNode){const r=this.cursor.restore();r&&this.setNativeRange(r.startNode,r.startOffset,r.endNode,r.endOffset)}const o=[ze.events.SELECTION_CHANGE,Nl(this.lastRange),Nl(n),e];this.emitter.emit(ze.events.EDITOR_CHANGE,...o),e!==ze.sources.SILENT&&this.emitter.emit(...o)}}}function Dg(t,e){try{e.parentNode}catch{return!1}return t.contains(e)}const CV=/^[ -~]*$/;class EV{constructor(e){this.scroll=e,this.delta=this.getDelta()}applyDelta(e){this.scroll.update();let n=this.scroll.length();this.scroll.batchStart();const s=zy(e),i=new je;return AV(s.ops.slice()).reduce((r,a)=>{const l=ei.Op.length(a);let c=a.attributes||{},u=!1,d=!1;if(a.insert!=null){if(i.retain(l),typeof a.insert=="string"){const p=a.insert;d=!p.endsWith(`
`)&&(n<=r||!!this.scroll.descendant(Qs,r)[0]),this.scroll.insertAt(r,p);const[v,y]=this.scroll.line(r);let _=Dr({},Xs(v));if(v instanceof Yn){const[w]=v.descendant(ts,y);w&&(_=Dr(_,Xs(w)))}c=ei.AttributeMap.diff(_,c)||{}}else if(typeof a.insert=="object"){const p=Object.keys(a.insert)[0];if(p==null)return r;const v=this.scroll.query(p,Ye.INLINE)!=null;if(v)(n<=r||this.scroll.descendant(Qs,r)[0])&&(d=!0);else if(r>0){const[y,_]=this.scroll.descendant(ts,r-1);y instanceof $i?y.value()[_]!==`
`&&(u=!0):y instanceof Hs&&y.statics.scope===Ye.INLINE_BLOT&&(u=!0)}if(this.scroll.insertAt(r,p,a.insert[p]),v){const[y]=this.scroll.descendant(ts,r);if(y){const _=Dr({},Xs(y));c=ei.AttributeMap.diff(_,c)||{}}}}n+=l}else if(i.push(a),a.retain!==null&&typeof a.retain=="object"){const p=Object.keys(a.retain)[0];if(p==null)return r;this.scroll.updateEmbedAt(r,p,a.retain[p])}Object.keys(c).forEach(p=>{this.scroll.formatAt(r,l,p,c[p])});const h=u?1:0,f=d?1:0;return n+=h+f,i.retain(h),i.delete(f),r+l+h+f},0),i.reduce((r,a)=>typeof a.delete=="number"?(this.scroll.deleteAt(r,a.delete),r):r+ei.Op.length(a),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(s)}deleteText(e,n){return this.scroll.deleteAt(e,n),this.update(new je().retain(e).delete(n))}formatLine(e,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(s).forEach(o=>{this.scroll.lines(e,Math.max(n,1)).forEach(r=>{r.format(o,s[o])})}),this.scroll.optimize();const i=new je().retain(e).retain(n,Nl(s));return this.update(i)}formatText(e,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(s).forEach(o=>{this.scroll.formatAt(e,n,o,s[o])});const i=new je().retain(e).retain(n,Nl(s));return this.update(i)}getContents(e,n){return this.delta.slice(e,e+n)}getDelta(){return this.scroll.lines().reduce((e,n)=>e.concat(n.delta()),new je)}getFormat(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=[],i=[];n===0?this.scroll.path(e).forEach(a=>{const[l]=a;l instanceof Yn?s.push(l):l instanceof ts&&i.push(l)}):(s=this.scroll.lines(e,n),i=this.scroll.descendants(ts,e,n));const[o,r]=[s,i].map(a=>{const l=a.shift();if(l==null)return{};let c=Xs(l);for(;Object.keys(c).length>0;){const u=a.shift();if(u==null)return c;c=TV(Xs(u),c)}return c});return{...o,...r}}getHTML(e,n){const[s,i]=this.scroll.line(e);if(s){const o=s.length();return s.length()>=i+n&&!(i===0&&n===o)?Qu(s,i,n,!0):Qu(this.scroll,e,n,!0)}return""}getText(e,n){return this.getContents(e,n).filter(s=>typeof s.insert=="string").map(s=>s.insert).join("")}insertContents(e,n){const s=zy(n),i=new je().retain(e).concat(s);return this.scroll.insertContents(e,s),this.update(i)}insertEmbed(e,n,s){return this.scroll.insertAt(e,n,s),this.update(new je().retain(e).insert({[n]:s}))}insertText(e,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return n=n.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(e,n),Object.keys(s).forEach(i=>{this.scroll.formatAt(e,n.length,i,s[i])}),this.update(new je().retain(e).insert(n,Nl(s)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const e=this.scroll.children.head;if((e==null?void 0:e.statics.blotName)!==Yn.blotName)return!1;const n=e;return n.children.length>1?!1:n.children.head instanceof Ii}removeFormat(e,n){const s=this.getText(e,n),[i,o]=this.scroll.line(e+n);let r=0,a=new je;i!=null&&(r=i.length()-o,a=i.delta().slice(o,o+r-1).insert(`
`));const c=this.getContents(e,n+r).diff(new je().insert(s).concat(a)),u=new je().retain(e).concat(c);return this.applyDelta(u)}update(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const i=this.delta;if(n.length===1&&n[0].type==="characterData"&&n[0].target.data.match(CV)&&this.scroll.find(n[0].target)){const o=this.scroll.find(n[0].target),r=Xs(o),a=o.offset(this.scroll),l=n[0].oldValue.replace(nc.CONTENTS,""),c=new je().insert(l),u=new je().insert(o.value()),d=s&&{oldRange:Fy(s.oldRange,-a),newRange:Fy(s.newRange,-a)};e=new je().retain(a).concat(c.diff(u,d)).reduce((f,p)=>p.insert?f.insert(p.insert,r):f.push(p),new je),this.delta=i.compose(e)}else this.delta=this.getDelta(),(!e||!zv(i.compose(e),this.delta))&&(e=i.diff(this.delta,s));return e}}function xl(t,e,n){if(t.length===0){const[f]=Lg(n.pop());return e<=0?`</li></${f}>`:`</li></${f}>${xl([],e-1,n)}`}const[{child:s,offset:i,length:o,indent:r,type:a},...l]=t,[c,u]=Lg(a);if(r>e)return n.push(a),r===e+1?`<${c}><li${u}>${Qu(s,i,o)}${xl(l,r,n)}`:`<${c}><li>${xl(t,e+1,n)}`;const d=n[n.length-1];if(r===e&&a===d)return`</li><li${u}>${Qu(s,i,o)}${xl(l,r,n)}`;const[h]=Lg(n.pop());return`</li></${h}>${xl(t,e-1,n)}`}function Qu(t,e,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in t&&typeof t.html=="function")return t.html(e,n);if(t instanceof $i)return nm(t.value().slice(e,e+n));if(t instanceof wi){if(t.statics.blotName==="list-container"){const c=[];return t.children.forEachAt(e,n,(u,d,h)=>{const f="formats"in u&&typeof u.formats=="function"?u.formats():{};c.push({child:u,offset:d,length:h,indent:f.indent||0,type:f.list})}),xl(c,-1,[])}const i=[];if(t.children.forEachAt(e,n,(c,u,d)=>{i.push(Qu(c,u,d))}),s||t.statics.blotName==="list")return i.join("");const{outerHTML:o,innerHTML:r}=t.domNode,[a,l]=o.split(`>${r}<`);return a==="<table"?`<table style="border: 1px solid #000;">${i.join("")}<${l}`:`${a}>${i.join("")}<${l}`}return t.domNode instanceof Element?t.domNode.outerHTML:""}function TV(t,e){return Object.keys(e).reduce((n,s)=>{if(t[s]==null)return n;const i=e[s];return i===t[s]?n[s]=i:Array.isArray(i)?i.indexOf(t[s])<0?n[s]=i.concat([t[s]]):n[s]=i:n[s]=[i,t[s]],n},{})}function Lg(t){const e=t==="ordered"?"ol":"ul";switch(t){case"checked":return[e,' data-list="checked"'];case"unchecked":return[e,' data-list="unchecked"'];default:return[e,""]}}function zy(t){return t.reduce((e,n)=>{if(typeof n.insert=="string"){const s=n.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return e.insert(s,n.attributes)}return e.push(n)},new je)}function Fy(t,e){let{index:n,length:s}=t;return new Da(n+e,s)}function AV(t){const e=[];return t.forEach(n=>{typeof n.insert=="string"?n.insert.split(`
`).forEach((i,o)=>{o&&e.push({insert:`
`,attributes:n.attributes}),i&&e.push({insert:i,attributes:n.attributes})}):e.push(n)}),e}class Oi{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=e,this.options=n}}ee(Oi,"DEFAULTS",{});const Ph="\uFEFF";class sm extends Hs{constructor(e,n){super(e,n),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(s=>{this.contentNode.appendChild(s)}),this.leftGuard=document.createTextNode(Ph),this.rightGuard=document.createTextNode(Ph),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(e,n){return e===this.leftGuard?0:e===this.rightGuard?1:super.index(e,n)}restore(e){let n=null,s;const i=e.data.split(Ph).join("");if(e===this.leftGuard)if(this.prev instanceof $i){const o=this.prev.length();this.prev.insertAt(o,i),n={startNode:this.prev.domNode,startOffset:o+i.length}}else s=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(s),this),n={startNode:s,startOffset:i.length};else e===this.rightGuard&&(this.next instanceof $i?(this.next.insertAt(0,i),n={startNode:this.next.domNode,startOffset:i.length}):(s=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(s),this.next),n={startNode:s,startOffset:i.length}));return e.data=Ph,n}update(e,n){e.forEach(s=>{if(s.type==="characterData"&&(s.target===this.leftGuard||s.target===this.rightGuard)){const i=this.restore(s.target);i&&(n.range=i)}})}}class MV{constructor(e,n){ee(this,"isComposing",!1);this.scroll=e,this.emitter=n,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",e=>{this.isComposing||this.handleCompositionStart(e)}),this.scroll.domNode.addEventListener("compositionend",e=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(e)})})}handleCompositionStart(e){const n=e.target instanceof Node?this.scroll.find(e.target,!0):null;n&&!(n instanceof sm)&&(this.emitter.emit(ze.events.COMPOSITION_BEFORE_START,e),this.scroll.batchStart(),this.emitter.emit(ze.events.COMPOSITION_START,e),this.isComposing=!0)}handleCompositionEnd(e){this.emitter.emit(ze.events.COMPOSITION_BEFORE_END,e),this.scroll.batchEnd(),this.emitter.emit(ze.events.COMPOSITION_END,e),this.isComposing=!1}}const Ru=class Ru{constructor(e,n){ee(this,"modules",{});this.quill=e,this.options=n}init(){Object.keys(this.options.modules).forEach(e=>{this.modules[e]==null&&this.addModule(e)})}addModule(e){const n=this.quill.constructor.import(`modules/${e}`);return this.modules[e]=new n(this.quill,this.options.modules[e]||{}),this.modules[e]}};ee(Ru,"DEFAULTS",{modules:{}}),ee(Ru,"themes",{default:Ru});let sc=Ru;const IV=t=>t.parentElement||t.getRootNode().host||null,OV=t=>{const e=t.getBoundingClientRect(),n="offsetWidth"in t&&Math.abs(e.width)/t.offsetWidth||1,s="offsetHeight"in t&&Math.abs(e.height)/t.offsetHeight||1;return{top:e.top,right:e.left+t.clientWidth*n,bottom:e.top+t.clientHeight*s,left:e.left}},Rh=t=>{const e=parseInt(t,10);return Number.isNaN(e)?0:e},Wy=(t,e,n,s,i,o)=>t<n&&e>s?0:t<n?-(n-t+i):e>s?e-t>s-n?t+i-n:e-s+o:0,DV=(t,e)=>{var o,r,a;const n=t.ownerDocument;let s=e,i=t;for(;i;){const l=i===n.body,c=l?{top:0,right:((o=window.visualViewport)==null?void 0:o.width)??n.documentElement.clientWidth,bottom:((r=window.visualViewport)==null?void 0:r.height)??n.documentElement.clientHeight,left:0}:OV(i),u=getComputedStyle(i),d=Wy(s.left,s.right,c.left,c.right,Rh(u.scrollPaddingLeft),Rh(u.scrollPaddingRight)),h=Wy(s.top,s.bottom,c.top,c.bottom,Rh(u.scrollPaddingTop),Rh(u.scrollPaddingBottom));if(d||h)if(l)(a=n.defaultView)==null||a.scrollBy(d,h);else{const{scrollLeft:f,scrollTop:p}=i;h&&(i.scrollTop+=h),d&&(i.scrollLeft+=d);const v=i.scrollLeft-f,y=i.scrollTop-p;s={left:s.left-v,top:s.top-y,right:s.right-v,bottom:s.bottom-y}}i=l||u.position==="fixed"?null:IV(i)}},LV=100,PV=["block","break","cursor","inline","scroll","text"],RV=(t,e,n)=>{const s=new tc;return PV.forEach(i=>{const o=e.query(i);o&&s.register(o)}),t.forEach(i=>{let o=e.query(i);o||n.error(`Cannot register "${i}" specified in "formats" config. Are you sure it was registered?`);let r=0;for(;o;)if(s.register(o),o="blotName"in o?o.requiredContainer??null:null,r+=1,r>LV){n.error(`Cycle detected in registering blot requiredContainer: "${i}"`);break}}),s},Bl=tr("quill"),Vh=new tc;wi.uiClass="ql-ui";const pi=class pi{static debug(e){e===!0&&(e="log"),tr.level(e)}static find(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return s_.get(e)||Vh.find(e,n)}static import(e){return this.imports[e]==null&&Bl.error(`Cannot import ${e}. Are you sure it was registered?`),this.imports[e]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const e=arguments.length<=0?void 0:arguments[0],n=!!(!(arguments.length<=1)&&arguments[1]),s="attrName"in e?e.attrName:e.blotName;typeof s=="string"?this.register(`formats/${s}`,e,n):Object.keys(e).forEach(i=>{this.register(i,e[i],n)})}else{const e=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],s=!!(!(arguments.length<=2)&&arguments[2]);this.imports[e]!=null&&!s&&Bl.warn(`Overwriting ${e} with`,n),this.imports[e]=n,(e.startsWith("blots/")||e.startsWith("formats/"))&&n&&typeof n!="boolean"&&n.blotName!=="abstract"&&Vh.register(n),typeof n.register=="function"&&n.register(Vh)}}constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=VV(e,n),this.container=this.options.container,this.container==null){Bl.error("Invalid Quill container",e);return}this.options.debug&&pi.debug(this.options.debug);const s=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",s_.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new ze;const i=Wv.blotName,o=this.options.registry.query(i);if(!o||!("blotName"in o))throw new Error(`Cannot initialize Quill without "${i}" blot`);if(this.scroll=new o(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new EV(this.scroll),this.selection=new $V(this.scroll,this.emitter),this.composition=new MV(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(ze.events.EDITOR_CHANGE,r=>{r===ze.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(ze.events.SCROLL_UPDATE,(r,a)=>{const l=this.selection.lastRange,[c]=this.selection.getRange(),u=l&&c?{oldRange:l,newRange:c}:void 0;di.call(this,()=>this.editor.update(null,a,u),r)}),this.emitter.on(ze.events.SCROLL_EMBED_UPDATE,(r,a)=>{const l=this.selection.lastRange,[c]=this.selection.getRange(),u=l&&c?{oldRange:l,newRange:c}:void 0;di.call(this,()=>{const d=new je().retain(r.offset(this)).retain({[r.statics.blotName]:a});return this.editor.update(d,[],u)},pi.sources.USER)}),s){const r=this.clipboard.convert({html:`${s}<p><br></p>`,text:`
`});this.setContents(r)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof e=="string"){const s=e;e=document.createElement("div"),e.classList.add(s)}return this.container.insertBefore(e,n),e}blur(){this.selection.setRange(null)}deleteText(e,n,s){return[e,n,,s]=wo(e,n,s),di.call(this,()=>this.editor.deleteText(e,n),s,e,-1*n)}disable(){this.enable(!1)}editReadOnly(e){this.allowReadOnlyEdits=!0;const n=e();return this.allowReadOnlyEdits=!1,n}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}focus(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),e.preventScroll||this.scrollSelectionIntoView()}format(e,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ze.sources.API;return di.call(this,()=>{const i=this.getSelection(!0);let o=new je;if(i==null)return o;if(this.scroll.query(e,Ye.BLOCK))o=this.editor.formatLine(i.index,i.length,{[e]:n});else{if(i.length===0)return this.selection.format(e,n),o;o=this.editor.formatText(i.index,i.length,{[e]:n})}return this.setSelection(i,ze.sources.SILENT),o},s)}formatLine(e,n,s,i,o){let r;return[e,n,r,o]=wo(e,n,s,i,o),di.call(this,()=>this.editor.formatLine(e,n,r),o,e,0)}formatText(e,n,s,i,o){let r;return[e,n,r,o]=wo(e,n,s,i,o),di.call(this,()=>this.editor.formatText(e,n,r),o,e,0)}getBounds(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=null;if(typeof e=="number"?s=this.selection.getBounds(e,n):s=this.selection.getBounds(e.index,e.length),!s)return null;const i=this.container.getBoundingClientRect();return{bottom:s.bottom-i.top,height:s.height,left:s.left-i.left,right:s.right-i.left,top:s.top-i.top,width:s.width}}getContents(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-e;return[e,n]=wo(e,n),this.editor.getContents(e,n)}getFormat(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof e=="number"?this.editor.getFormat(e,n):this.editor.getFormat(e.index,e.length)}getIndex(e){return e.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(e){return this.scroll.leaf(e)}getLine(e){return this.scroll.line(e)}getLines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof e!="number"?this.scroll.lines(e.index,e.length):this.scroll.lines(e,n)}getModule(e){return this.theme.modules[e]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(n=n??this.getLength()-e),[e,n]=wo(e,n),this.editor.getHTML(e,n)}getText(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(n=n??this.getLength()-e),[e,n]=wo(e,n),this.editor.getText(e,n)}hasFocus(){return this.selection.hasFocus()}insertEmbed(e,n,s){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:pi.sources.API;return di.call(this,()=>this.editor.insertEmbed(e,n,s),i,e)}insertText(e,n,s,i,o){let r;return[e,,r,o]=wo(e,0,s,i,o),di.call(this,()=>this.editor.insertText(e,n,r),o,e,n.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(e,n,s){return[e,n,,s]=wo(e,n,s),di.call(this,()=>this.editor.removeFormat(e,n),s,e)}scrollRectIntoView(e){DV(this.root,e)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const e=this.selection.lastRange,n=e&&this.selection.getBounds(e.index,e.length);n&&this.scrollRectIntoView(n)}setContents(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ze.sources.API;return di.call(this,()=>{e=new je(e);const s=this.getLength(),i=this.editor.deleteText(0,s),o=this.editor.insertContents(0,e),r=this.editor.deleteText(this.getLength()-1,1);return i.compose(o).compose(r)},n)}setSelection(e,n,s){e==null?this.selection.setRange(null,n||pi.sources.API):([e,n,,s]=wo(e,n,s),this.selection.setRange(new Da(Math.max(0,e),n),s),s!==ze.sources.SILENT&&this.scrollSelectionIntoView())}setText(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ze.sources.API;const s=new je().insert(e);return this.setContents(s,n)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ze.sources.USER;const n=this.scroll.update(e);return this.selection.update(e),n}updateContents(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ze.sources.API;return di.call(this,()=>(e=new je(e),this.editor.applyDelta(e)),n,!0)}};ee(pi,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:Vh,theme:"default"}),ee(pi,"events",ze.events),ee(pi,"sources",ze.sources),ee(pi,"version","2.0.2"),ee(pi,"imports",{delta:je,parchment:lV,"core/module":Oi,"core/theme":sc});let de=pi;function Hy(t){return typeof t=="string"?document.querySelector(t):t}function Pg(t){return Object.entries(t??{}).reduce((e,n)=>{let[s,i]=n;return{...e,[s]:i===!0?{}:i}},{})}function qy(t){return Object.fromEntries(Object.entries(t).filter(e=>e[1]!==void 0))}function VV(t,e){const n=Hy(t);if(!n)throw new Error("Invalid Quill container");const i=!e.theme||e.theme===de.DEFAULTS.theme?sc:de.import(`themes/${e.theme}`);if(!i)throw new Error(`Invalid theme ${e.theme}. Did you register it?`);const{modules:o,...r}=de.DEFAULTS,{modules:a,...l}=i.DEFAULTS;let c=Pg(e.modules);c!=null&&c.toolbar&&c.toolbar.constructor!==Object&&(c={...c,toolbar:{container:c.toolbar}});const u=Dr({},Pg(o),Pg(a),c),d={...r,...qy(l),...qy(e)};let h=e.registry;return h?e.formats&&Bl.warn('Ignoring "formats" option because "registry" is specified'):h=e.formats?RV(e.formats,d.registry,Bl):d.registry,{...d,registry:h,container:n,theme:i,modules:Object.entries(u).reduce((f,p)=>{let[v,y]=p;if(!y)return f;const _=de.import(`modules/${v}`);return _==null?(Bl.error(`Cannot load ${v} module. Are you sure you registered it?`),f):{...f,[v]:Dr({},_.DEFAULTS||{},y)}},{}),bounds:Hy(d.bounds)}}function di(t,e,n,s){if(!this.isEnabled()&&e===ze.sources.USER&&!this.allowReadOnlyEdits)return new je;let i=n==null?null:this.getSelection();const o=this.editor.delta,r=t();if(i!=null&&(n===!0&&(n=i.index),s==null?i=Gy(i,r,e):s!==0&&(i=Gy(i,n,s,e)),this.setSelection(i,ze.sources.SILENT)),r.length()>0){const a=[ze.events.TEXT_CHANGE,r,o,e];this.emitter.emit(ze.events.EDITOR_CHANGE,...a),e!==ze.sources.SILENT&&this.emitter.emit(...a)}return r}function wo(t,e,n,s,i){let o={};return typeof t.index=="number"&&typeof t.length=="number"?typeof e!="number"?(i=s,s=n,n=e,e=t.length,t=t.index):(e=t.length,t=t.index):typeof e!="number"&&(i=s,s=n,n=e,e=0),typeof n=="object"?(o=n,i=s):typeof n=="string"&&(s!=null?o[n]=s:i=n),i=i||ze.sources.API,[t,e,o,i]}function Gy(t,e,n,s){const i=typeof n=="number"?n:0;if(t==null)return null;let o,r;return e&&typeof e.transformPosition=="function"?[o,r]=[t.index,t.index+t.length].map(a=>e.transformPosition(a,s!==ze.sources.USER)):[o,r]=[t.index,t.index+t.length].map(a=>a<e||a===e&&s===ze.sources.USER?a:i>=0?a+i:Math.max(e,a+i)),new Da(o,r-o)}class Za extends Jp{}function Yy(t){return t instanceof Yn||t instanceof Qs}function Ky(t){return typeof t.updateContent=="function"}class Sl extends Wv{constructor(e,n,s){let{emitter:i}=s;super(e,n),this.emitter=i,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",o=>this.handleDragStart(o))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const e=this.batch;this.batch=!1,this.update(e)}emitMount(e){this.emitter.emit(ze.events.SCROLL_BLOT_MOUNT,e)}emitUnmount(e){this.emitter.emit(ze.events.SCROLL_BLOT_UNMOUNT,e)}emitEmbedUpdate(e,n){this.emitter.emit(ze.events.SCROLL_EMBED_UPDATE,e,n)}deleteAt(e,n){const[s,i]=this.line(e),[o]=this.line(e+n);if(super.deleteAt(e,n),o!=null&&s!==o&&i>0){if(s instanceof Qs||o instanceof Qs){this.optimize();return}const r=o.children.head instanceof Ii?null:o.children.head;s.moveChildren(o,r),s.remove()}this.optimize()}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",e?"true":"false")}formatAt(e,n,s,i){super.formatAt(e,n,s,i),this.optimize()}insertAt(e,n,s){if(e>=this.length())if(s==null||this.scroll.query(n,Ye.BLOCK)==null){const i=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(i),s==null&&n.endsWith(`
`)?i.insertAt(0,n.slice(0,-1),s):i.insertAt(0,n,s)}else{const i=this.scroll.create(n,s);this.appendChild(i)}else super.insertAt(e,n,s);this.optimize()}insertBefore(e,n){if(e.statics.scope===Ye.INLINE_BLOT){const s=this.scroll.create(this.statics.defaultChild.blotName);s.appendChild(e),super.insertBefore(s,n)}else super.insertBefore(e,n)}insertContents(e,n){const s=this.deltaToRenderBlocks(n.concat(new je().insert(`
`))),i=s.pop();if(i==null)return;this.batchStart();const o=s.shift();if(o){const l=o.type==="block"&&(o.delta.length()===0||!this.descendant(Qs,e)[0]&&e<this.length()),c=o.type==="block"?o.delta:new je().insert({[o.key]:o.value});Rg(this,e,c);const u=o.type==="block"?1:0,d=e+c.length()+u;l&&this.insertAt(d-1,`
`);const h=Xs(this.line(e)[0]),f=ei.AttributeMap.diff(h,o.attributes)||{};Object.keys(f).forEach(p=>{this.formatAt(d-1,1,p,f[p])}),e=d}let[r,a]=this.children.find(e);if(s.length&&(r&&(r=r.split(a),a=0),s.forEach(l=>{if(l.type==="block"){const c=this.createBlock(l.attributes,r||void 0);Rg(c,0,l.delta)}else{const c=this.create(l.key,l.value);this.insertBefore(c,r||void 0),Object.keys(l.attributes).forEach(u=>{c.format(u,l.attributes[u])})}})),i.type==="block"&&i.delta.length()){const l=r?r.offset(r.scroll)+a:this.length();Rg(this,l,i.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(e){const n=this.path(e).pop();if(!n)return[null,-1];const[s,i]=n;return s instanceof ts?[s,i]:[null,-1]}line(e){return e===this.length()?this.line(e-1):this.descendant(Yy,e)}lines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const s=(i,o,r)=>{let a=[],l=r;return i.children.forEachAt(o,r,(c,u,d)=>{Yy(c)?a.push(c):c instanceof Jp&&(a=a.concat(s(c,u,l))),l-=d}),a};return s(this,e,n)}optimize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(e,n),e.length>0&&this.emitter.emit(ze.events.SCROLL_OPTIMIZE,e,n))}path(e){return super.path(e).slice(1)}remove(){}update(e){if(this.batch){Array.isArray(e)&&(this.batch=this.batch.concat(e));return}let n=ze.sources.USER;typeof e=="string"&&(n=e),Array.isArray(e)||(e=this.observer.takeRecords()),e=e.filter(s=>{let{target:i}=s;const o=this.find(i,!0);return o&&!Ky(o)}),e.length>0&&this.emitter.emit(ze.events.SCROLL_BEFORE_UPDATE,n,e),super.update(e.concat([])),e.length>0&&this.emitter.emit(ze.events.SCROLL_UPDATE,n,e)}updateEmbedAt(e,n,s){const[i]=this.descendant(o=>o instanceof Qs,e);i&&i.statics.blotName===n&&Ky(i)&&i.updateContent(s)}handleDragStart(e){e.preventDefault()}deltaToRenderBlocks(e){const n=[];let s=new je;return e.forEach(i=>{const o=i==null?void 0:i.insert;if(o)if(typeof o=="string"){const r=o.split(`
`);r.slice(0,-1).forEach(l=>{s.insert(l,i.attributes),n.push({type:"block",delta:s,attributes:i.attributes??{}}),s=new je});const a=r[r.length-1];a&&s.insert(a,i.attributes)}else{const r=Object.keys(o)[0];if(!r)return;this.query(r,Ye.INLINE)?s.push(i):(s.length()&&n.push({type:"block",delta:s,attributes:{}}),s=new je,n.push({type:"blockEmbed",key:r,value:o[r],attributes:i.attributes??{}}))}}),s.length()&&n.push({type:"block",delta:s,attributes:{}}),n}createBlock(e,n){let s;const i={};Object.entries(e).forEach(a=>{let[l,c]=a;this.query(l,Ye.BLOCK&Ye.BLOT)!=null?s=l:i[l]=c});const o=this.create(s||this.statics.defaultChild.blotName,s?e[s]:void 0);this.insertBefore(o,n||void 0);const r=o.length();return Object.entries(i).forEach(a=>{let[l,c]=a;o.formatAt(0,r,l,c)}),o}}ee(Sl,"blotName","scroll"),ee(Sl,"className","ql-editor"),ee(Sl,"tagName","DIV"),ee(Sl,"defaultChild",Yn),ee(Sl,"allowedChildren",[Yn,Qs,Za]);function Rg(t,e,n){n.reduce((s,i)=>{const o=ei.Op.length(i);let r=i.attributes||{};if(i.insert!=null){if(typeof i.insert=="string"){const a=i.insert;t.insertAt(s,a);const[l]=t.descendant(ts,s),c=Xs(l);r=ei.AttributeMap.diff(c,r)||{}}else if(typeof i.insert=="object"){const a=Object.keys(i.insert)[0];if(a==null)return s;if(t.insertAt(s,a,i.insert[a]),t.scroll.query(a,Ye.INLINE)!=null){const[c]=t.descendant(ts,s),u=Xs(c);r=ei.AttributeMap.diff(u,r)||{}}}}return Object.keys(r).forEach(a=>{t.formatAt(s,o,a,r[a])}),s+o},e)}const Zv={scope:Ye.BLOCK,whitelist:["right","center","justify"]},NV=new oo("align","align",Zv),E6=new Mi("align","ql-align",Zv),T6=new Zr("align","text-align",Zv);class A6 extends Zr{value(e){let n=super.value(e);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${n.split(",").map(i=>`00${parseInt(i,10).toString(16)}`.slice(-2)).join("")}`):n}}const UV=new Mi("color","ql-color",{scope:Ye.INLINE}),Xv=new A6("color","color",{scope:Ye.INLINE}),BV=new Mi("background","ql-bg",{scope:Ye.INLINE}),Jv=new A6("background","background-color",{scope:Ye.INLINE});class Xa extends Za{static create(e){const n=super.create(e);return n.setAttribute("spellcheck","false"),n}code(e,n){return this.children.map(s=>s.length()<=1?"":s.domNode.innerText).join(`
`).slice(e,e+n)}html(e,n){return`<pre>
${nm(this.code(e,n))}
</pre>`}}class rs extends Yn{static register(){de.register(Xa)}}ee(rs,"TAB","  ");class Qv extends ii{}Qv.blotName="code";Qv.tagName="CODE";rs.blotName="code-block";rs.className="ql-code-block";rs.tagName="DIV";Xa.blotName="code-block-container";Xa.className="ql-code-block-container";Xa.tagName="DIV";Xa.allowedChildren=[rs];rs.allowedChildren=[$i,Ii,nc];rs.requiredContainer=Xa;const e0={scope:Ye.BLOCK,whitelist:["rtl"]},M6=new oo("direction","dir",e0),I6=new Mi("direction","ql-direction",e0),O6=new Zr("direction","direction",e0),D6={scope:Ye.INLINE,whitelist:["serif","monospace"]},L6=new Mi("font","ql-font",D6);class jV extends Zr{value(e){return super.value(e).replace(/["']/g,"")}}const P6=new jV("font","font-family",D6),R6=new Mi("size","ql-size",{scope:Ye.INLINE,whitelist:["small","large","huge"]}),V6=new Zr("size","font-size",{scope:Ye.INLINE,whitelist:["10px","18px","32px"]}),zV=tr("quill:keyboard"),FV=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class im extends Oi{static match(e,n){return["altKey","ctrlKey","metaKey","shiftKey"].some(s=>!!n[s]!==e[s]&&n[s]!==null)?!1:n.key===e.key||n.key===e.which}constructor(e,n){super(e,n),this.bindings={},Object.keys(this.options.bindings).forEach(s=>{this.options.bindings[s]&&this.addBinding(this.options.bindings[s])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=HV(e);if(i==null){zV.warn("Attempted to add invalid keyboard binding",i);return}typeof n=="function"&&(n={handler:n}),typeof s=="function"&&(s={handler:s}),(Array.isArray(i.key)?i.key:[i.key]).forEach(r=>{const a={...i,key:r,...n,...s};this.bindings[a.key]=this.bindings[a.key]||[],this.bindings[a.key].push(a)})}listen(){this.quill.root.addEventListener("keydown",e=>{if(e.defaultPrevented||e.isComposing||e.keyCode===229&&(e.key==="Enter"||e.key==="Backspace"))return;const i=(this.bindings[e.key]||[]).concat(this.bindings[e.which]||[]).filter(_=>im.match(e,_));if(i.length===0)return;const o=de.find(e.target,!0);if(o&&o.scroll!==this.quill.scroll)return;const r=this.quill.getSelection();if(r==null||!this.quill.hasFocus())return;const[a,l]=this.quill.getLine(r.index),[c,u]=this.quill.getLeaf(r.index),[d,h]=r.length===0?[c,u]:this.quill.getLeaf(r.index+r.length),f=c instanceof Qf?c.value().slice(0,u):"",p=d instanceof Qf?d.value().slice(h):"",v={collapsed:r.length===0,empty:r.length===0&&a.length()<=1,format:this.quill.getFormat(r),line:a,offset:l,prefix:f,suffix:p,event:e};i.some(_=>{if(_.collapsed!=null&&_.collapsed!==v.collapsed||_.empty!=null&&_.empty!==v.empty||_.offset!=null&&_.offset!==v.offset)return!1;if(Array.isArray(_.format)){if(_.format.every(w=>v.format[w]==null))return!1}else if(typeof _.format=="object"&&!Object.keys(_.format).every(w=>_.format[w]===!0?v.format[w]!=null:_.format[w]===!1?v.format[w]==null:zv(_.format[w],v.format[w])))return!1;return _.prefix!=null&&!_.prefix.test(v.prefix)||_.suffix!=null&&!_.suffix.test(v.suffix)?!1:_.handler.call(this,r,v,_)!==!0})&&e.preventDefault()})}handleBackspace(e,n){const s=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(n.prefix)?2:1;if(e.index===0||this.quill.getLength()<=1)return;let i={};const[o]=this.quill.getLine(e.index);let r=new je().retain(e.index-s).delete(s);if(n.offset===0){const[a]=this.quill.getLine(e.index-1);if(a&&!(a.statics.blotName==="block"&&a.length()<=1)){const c=o.formats(),u=this.quill.getFormat(e.index-1,1);if(i=ei.AttributeMap.diff(c,u)||{},Object.keys(i).length>0){const d=new je().retain(e.index+o.length()-2).retain(1,i);r=r.compose(d)}}}this.quill.updateContents(r,de.sources.USER),this.quill.focus()}handleDelete(e,n){const s=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(n.suffix)?2:1;if(e.index>=this.quill.getLength()-s)return;let i={};const[o]=this.quill.getLine(e.index);let r=new je().retain(e.index).delete(s);if(n.offset>=o.length()-1){const[a]=this.quill.getLine(e.index+1);if(a){const l=o.formats(),c=this.quill.getFormat(e.index,1);i=ei.AttributeMap.diff(l,c)||{},Object.keys(i).length>0&&(r=r.retain(a.length()-1).retain(1,i))}}this.quill.updateContents(r,de.sources.USER),this.quill.focus()}handleDeleteRange(e){t0({range:e,quill:this.quill}),this.quill.focus()}handleEnter(e,n){const s=Object.keys(n.format).reduce((o,r)=>(this.quill.scroll.query(r,Ye.BLOCK)&&!Array.isArray(n.format[r])&&(o[r]=n.format[r]),o),{}),i=new je().retain(e.index).delete(e.length).insert(`
`,s);this.quill.updateContents(i,de.sources.USER),this.quill.setSelection(e.index+1,de.sources.SILENT),this.quill.focus()}}const WV={bindings:{bold:Vg("bold"),italic:Vg("italic"),underline:Vg("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(t,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","+1",de.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(t,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","-1",de.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(t,e){e.format.indent!=null?this.quill.format("indent","-1",de.sources.USER):e.format.list!=null&&this.quill.format("list",!1,de.sources.USER)}},"indent code-block":Zy(!0),"outdent code-block":Zy(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(t){this.quill.deleteText(t.index-1,1,de.sources.USER)}},tab:{key:"Tab",handler(t,e){if(e.format.table)return!0;this.quill.history.cutoff();const n=new je().retain(t.index).delete(t.length).insert("	");return this.quill.updateContents(n,de.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index+1,de.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,de.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(t,e){const n={list:!1};e.format.indent&&(n.indent=!1),this.quill.formatLine(t.index,t.length,n,de.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(t){const[e,n]=this.quill.getLine(t.index),s={...e.formats(),list:"checked"},i=new je().retain(t.index).insert(`
`,s).retain(e.length()-n-1).retain(1,{list:"unchecked"});this.quill.updateContents(i,de.sources.USER),this.quill.setSelection(t.index+1,de.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(t,e){const[n,s]=this.quill.getLine(t.index),i=new je().retain(t.index).insert(`
`,e.format).retain(n.length()-s-1).retain(1,{header:null});this.quill.updateContents(i,de.sources.USER),this.quill.setSelection(t.index+1,de.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(t){const e=this.quill.getModule("table");if(e){const[n,s,i,o]=e.getTable(t),r=qV(n,s,i,o);if(r==null)return;let a=n.offset();if(r<0){const l=new je().retain(a).insert(`
`);this.quill.updateContents(l,de.sources.USER),this.quill.setSelection(t.index+1,t.length,de.sources.SILENT)}else if(r>0){a+=n.length();const l=new je().retain(a).insert(`
`);this.quill.updateContents(l,de.sources.USER),this.quill.setSelection(a,de.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(t,e){const{event:n,line:s}=e,i=s.offset(this.quill.scroll);n.shiftKey?this.quill.setSelection(i-1,de.sources.USER):this.quill.setSelection(i+s.length(),de.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(t,e){if(this.quill.scroll.query("list")==null)return!0;const{length:n}=e.prefix,[s,i]=this.quill.getLine(t.index);if(i>n)return!0;let o;switch(e.prefix.trim()){case"[]":case"[ ]":o="unchecked";break;case"[x]":o="checked";break;case"-":case"*":o="bullet";break;default:o="ordered"}this.quill.insertText(t.index," ",de.sources.USER),this.quill.history.cutoff();const r=new je().retain(t.index-i).delete(n+1).retain(s.length()-2-i).retain(1,{list:o});return this.quill.updateContents(r,de.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index-n,de.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(t){const[e,n]=this.quill.getLine(t.index);let s=2,i=e;for(;i!=null&&i.length()<=1&&i.formats()["code-block"];)if(i=i.prev,s-=1,s<=0){const o=new je().retain(t.index+e.length()-n-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(o,de.sources.USER),this.quill.setSelection(t.index-1,de.sources.SILENT),!1}return!0}},"embed left":Nh("ArrowLeft",!1),"embed left shift":Nh("ArrowLeft",!0),"embed right":Nh("ArrowRight",!1),"embed right shift":Nh("ArrowRight",!0),"table down":Xy(!1),"table up":Xy(!0)}};im.DEFAULTS=WV;function Zy(t){return{key:"Tab",shiftKey:!t,format:{"code-block":!0},handler(e,n){let{event:s}=n;const i=this.quill.scroll.query("code-block"),{TAB:o}=i;if(e.length===0&&!s.shiftKey){this.quill.insertText(e.index,o,de.sources.USER),this.quill.setSelection(e.index+o.length,de.sources.SILENT);return}const r=e.length===0?this.quill.getLines(e.index,1):this.quill.getLines(e);let{index:a,length:l}=e;r.forEach((c,u)=>{t?(c.insertAt(0,o),u===0?a+=o.length:l+=o.length):c.domNode.textContent.startsWith(o)&&(c.deleteAt(0,o.length),u===0?a-=o.length:l-=o.length)}),this.quill.update(de.sources.USER),this.quill.setSelection(a,l,de.sources.SILENT)}}}function Nh(t,e){return{key:t,shiftKey:e,altKey:null,[t==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(s){let{index:i}=s;t==="ArrowRight"&&(i+=s.length+1);const[o]=this.quill.getLeaf(i);return o instanceof Hs?(t==="ArrowLeft"?e?this.quill.setSelection(s.index-1,s.length+1,de.sources.USER):this.quill.setSelection(s.index-1,de.sources.USER):e?this.quill.setSelection(s.index,s.length+1,de.sources.USER):this.quill.setSelection(s.index+s.length+1,de.sources.USER),!1):!0}}}function Vg(t){return{key:t[0],shortKey:!0,handler(e,n){this.quill.format(t,!n.format[t],de.sources.USER)}}}function Xy(t){return{key:t?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(e,n){const s=t?"prev":"next",i=n.line,o=i.parent[s];if(o!=null){if(o.statics.blotName==="table-row"){let r=o.children.head,a=i;for(;a.prev!=null;)a=a.prev,r=r.next;const l=r.offset(this.quill.scroll)+Math.min(n.offset,r.length()-1);this.quill.setSelection(l,0,de.sources.USER)}}else{const r=i.table()[s];r!=null&&(t?this.quill.setSelection(r.offset(this.quill.scroll)+r.length()-1,0,de.sources.USER):this.quill.setSelection(r.offset(this.quill.scroll),0,de.sources.USER))}return!1}}}function HV(t){if(typeof t=="string"||typeof t=="number")t={key:t};else if(typeof t=="object")t=Nl(t);else return null;return t.shortKey&&(t[FV]=t.shortKey,delete t.shortKey),t}function t0(t){let{quill:e,range:n}=t;const s=e.getLines(n);let i={};if(s.length>1){const o=s[0].formats(),r=s[s.length-1].formats();i=ei.AttributeMap.diff(r,o)||{}}e.deleteText(n,de.sources.USER),Object.keys(i).length>0&&e.formatLine(n.index,1,i,de.sources.USER),e.setSelection(n.index,de.sources.SILENT)}function qV(t,e,n,s){return e.prev==null&&e.next==null?n.prev==null&&n.next==null?s===0?-1:1:n.prev==null?-1:1:e.prev==null?-1:e.next==null?1:null}const GV=/font-weight:\s*normal/,YV=["P","OL","UL"],Jy=t=>t&&YV.includes(t.tagName),KV=t=>{Array.from(t.querySelectorAll("br")).filter(e=>Jy(e.previousElementSibling)&&Jy(e.nextElementSibling)).forEach(e=>{var n;(n=e.parentNode)==null||n.removeChild(e)})},ZV=t=>{Array.from(t.querySelectorAll('b[style*="font-weight"]')).filter(e=>{var n;return(n=e.getAttribute("style"))==null?void 0:n.match(GV)}).forEach(e=>{var s;const n=t.createDocumentFragment();n.append(...e.childNodes),(s=e.parentNode)==null||s.replaceChild(n,e)})};function XV(t){t.querySelector('[id^="docs-internal-guid-"]')&&(ZV(t),KV(t))}const JV=/\bmso-list:[^;]*ignore/i,QV=/\bmso-list:[^;]*\bl(\d+)/i,eN=/\bmso-list:[^;]*\blevel(\d+)/i,tN=(t,e)=>{const n=t.getAttribute("style"),s=n==null?void 0:n.match(QV);if(!s)return null;const i=Number(s[1]),o=n==null?void 0:n.match(eN),r=o?Number(o[1]):1,a=new RegExp(`@list l${i}:level${r}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),l=e.match(a),c=l&&l[1]==="bullet"?"bullet":"ordered";return{id:i,indent:r,type:c,element:t}},nN=t=>{var r,a;const e=Array.from(t.querySelectorAll("[style*=mso-list]")),n=[],s=[];e.forEach(l=>{(l.getAttribute("style")||"").match(JV)?n.push(l):s.push(l)}),n.forEach(l=>{var c;return(c=l.parentNode)==null?void 0:c.removeChild(l)});const i=t.documentElement.innerHTML,o=s.map(l=>tN(l,i)).filter(l=>l);for(;o.length;){const l=[];let c=o.shift();for(;c;)l.push(c),c=o.length&&((r=o[0])==null?void 0:r.element)===c.element.nextElementSibling&&o[0].id===c.id?o.shift():null;const u=document.createElement("ul");l.forEach(f=>{const p=document.createElement("li");p.setAttribute("data-list",f.type),f.indent>1&&p.setAttribute("class",`ql-indent-${f.indent-1}`),p.innerHTML=f.element.innerHTML,u.appendChild(p)});const d=(a=l[0])==null?void 0:a.element,{parentNode:h}=d??{};d&&(h==null||h.replaceChild(u,d)),l.slice(1).forEach(f=>{let{element:p}=f;h==null||h.removeChild(p)})}};function sN(t){t.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&nN(t)}const iN=[sN,XV],oN=t=>{t.documentElement&&iN.forEach(e=>{e(t)})},rN=tr("quill:clipboard"),aN=[[Node.TEXT_NODE,yN],[Node.TEXT_NODE,eb],["br",hN],[Node.ELEMENT_NODE,eb],[Node.ELEMENT_NODE,dN],[Node.ELEMENT_NODE,uN],[Node.ELEMENT_NODE,_N],["li",mN],["ol, ul",gN],["pre",fN],["tr",vN],["b",Ng("bold")],["i",Ng("italic")],["strike",Ng("strike")],["style",pN]],lN=[NV,M6].reduce((t,e)=>(t[e.keyName]=e,t),{}),Qy=[T6,Jv,Xv,O6,P6,V6].reduce((t,e)=>(t[e.keyName]=e,t),{});class N6 extends Oi{constructor(e,n){super(e,n),this.quill.root.addEventListener("copy",s=>this.onCaptureCopy(s,!1)),this.quill.root.addEventListener("cut",s=>this.onCaptureCopy(s,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],aN.concat(this.options.matchers??[]).forEach(s=>{let[i,o]=s;this.addMatcher(i,o)})}addMatcher(e,n){this.matchers.push([e,n])}convert(e){let{html:n,text:s}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(i[rs.blotName])return new je().insert(s||"",{[rs.blotName]:i[rs.blotName]});if(!n)return new je().insert(s||"",i);const o=this.convertHTML(n);return qd(o,`
`)&&(o.ops[o.ops.length-1].attributes==null||i.table)?o.compose(new je().retain(o.length()-1).delete(1)):o}normalizeHTML(e){oN(e)}convertHTML(e){const n=new DOMParser().parseFromString(e,"text/html");this.normalizeHTML(n);const s=n.body,i=new WeakMap,[o,r]=this.prepareMatching(s,i);return n0(this.quill.scroll,s,o,r,i)}dangerouslyPasteHTML(e,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:de.sources.API;if(typeof e=="string"){const i=this.convert({html:e,text:""});this.quill.setContents(i,n),this.quill.setSelection(0,de.sources.SILENT)}else{const i=this.convert({html:n,text:""});this.quill.updateContents(new je().retain(e).concat(i),s),this.quill.setSelection(e+i.length(),de.sources.SILENT)}}onCaptureCopy(e){var r,a;let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.defaultPrevented)return;e.preventDefault();const[s]=this.quill.selection.getRange();if(s==null)return;const{html:i,text:o}=this.onCopy(s,n);(r=e.clipboardData)==null||r.setData("text/plain",o),(a=e.clipboardData)==null||a.setData("text/html",i),n&&t0({range:s,quill:this.quill})}normalizeURIList(e){return e.split(/\r?\n/).filter(n=>n[0]!=="#").join(`
`)}onCapturePaste(e){var r,a,l,c,u;if(e.defaultPrevented||!this.quill.isEnabled())return;e.preventDefault();const n=this.quill.getSelection(!0);if(n==null)return;const s=(r=e.clipboardData)==null?void 0:r.getData("text/html");let i=(a=e.clipboardData)==null?void 0:a.getData("text/plain");if(!s&&!i){const d=(l=e.clipboardData)==null?void 0:l.getData("text/uri-list");d&&(i=this.normalizeURIList(d))}const o=Array.from(((c=e.clipboardData)==null?void 0:c.files)||[]);if(!s&&o.length>0){this.quill.uploader.upload(n,o);return}if(s&&o.length>0){const d=new DOMParser().parseFromString(s,"text/html");if(d.body.childElementCount===1&&((u=d.body.firstElementChild)==null?void 0:u.tagName)==="IMG"){this.quill.uploader.upload(n,o);return}}this.onPaste(n,{html:s,text:i})}onCopy(e){const n=this.quill.getText(e);return{html:this.quill.getSemanticHTML(e),text:n}}onPaste(e,n){let{text:s,html:i}=n;const o=this.quill.getFormat(e.index),r=this.convert({text:s,html:i},o);rN.log("onPaste",r,{text:s,html:i});const a=new je().retain(e.index).delete(e.length).concat(r);this.quill.updateContents(a,de.sources.USER),this.quill.setSelection(a.length()-e.length,de.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(e,n){const s=[],i=[];return this.matchers.forEach(o=>{const[r,a]=o;switch(r){case Node.TEXT_NODE:i.push(a);break;case Node.ELEMENT_NODE:s.push(a);break;default:Array.from(e.querySelectorAll(r)).forEach(l=>{if(n.has(l)){const c=n.get(l);c==null||c.push(a)}else n.set(l,[a])});break}}),[s,i]}}ee(N6,"DEFAULTS",{matchers:[]});function Ja(t,e,n,s){return s.query(e)?t.reduce((i,o)=>{if(!o.insert)return i;if(o.attributes&&o.attributes[e])return i.push(o);const r=n?{[e]:n}:{};return i.insert(o.insert,{...r,...o.attributes})},new je):t}function qd(t,e){let n="";for(let s=t.ops.length-1;s>=0&&n.length<e.length;--s){const i=t.ops[s];if(typeof i.insert!="string")break;n=i.insert+n}return n.slice(-1*e.length)===e}function kr(t,e){if(!(t instanceof Element))return!1;const n=e.query(t);return n&&n.prototype instanceof Hs?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(t.tagName.toLowerCase())}function cN(t,e){return t.previousElementSibling&&t.nextElementSibling&&!kr(t.previousElementSibling,e)&&!kr(t.nextElementSibling,e)}const Uh=new WeakMap;function U6(t){return t==null?!1:(Uh.has(t)||(t.tagName==="PRE"?Uh.set(t,!0):Uh.set(t,U6(t.parentNode))),Uh.get(t))}function n0(t,e,n,s,i){return e.nodeType===e.TEXT_NODE?s.reduce((o,r)=>r(e,o,t),new je):e.nodeType===e.ELEMENT_NODE?Array.from(e.childNodes||[]).reduce((o,r)=>{let a=n0(t,r,n,s,i);return r.nodeType===e.ELEMENT_NODE&&(a=n.reduce((l,c)=>c(r,l,t),a),a=(i.get(r)||[]).reduce((l,c)=>c(r,l,t),a)),o.concat(a)},new je):new je}function Ng(t){return(e,n,s)=>Ja(n,t,!0,s)}function uN(t,e,n){const s=oo.keys(t),i=Mi.keys(t),o=Zr.keys(t),r={};return s.concat(i).concat(o).forEach(a=>{let l=n.query(a,Ye.ATTRIBUTE);l!=null&&(r[l.attrName]=l.value(t),r[l.attrName])||(l=lN[a],l!=null&&(l.attrName===a||l.keyName===a)&&(r[l.attrName]=l.value(t)||void 0),l=Qy[a],l!=null&&(l.attrName===a||l.keyName===a)&&(l=Qy[a],r[l.attrName]=l.value(t)||void 0))}),Object.entries(r).reduce((a,l)=>{let[c,u]=l;return Ja(a,c,u,n)},e)}function dN(t,e,n){const s=n.query(t);if(s==null)return e;if(s.prototype instanceof Hs){const i={},o=s.value(t);if(o!=null)return i[s.blotName]=o,new je().insert(i,s.formats(t,n))}else if(s.prototype instanceof Xu&&!qd(e,`
`)&&e.insert(`
`),"blotName"in s&&"formats"in s&&typeof s.formats=="function")return Ja(e,s.blotName,s.formats(t,n),n);return e}function hN(t,e){return qd(e,`
`)||e.insert(`
`),e}function fN(t,e,n){const s=n.query("code-block"),i=s&&"formats"in s&&typeof s.formats=="function"?s.formats(t,n):!0;return Ja(e,"code-block",i,n)}function pN(){return new je}function mN(t,e,n){const s=n.query(t);if(s==null||s.blotName!=="list"||!qd(e,`
`))return e;let i=-1,o=t.parentNode;for(;o!=null;)["OL","UL"].includes(o.tagName)&&(i+=1),o=o.parentNode;return i<=0?e:e.reduce((r,a)=>a.insert?a.attributes&&typeof a.attributes.indent=="number"?r.push(a):r.insert(a.insert,{indent:i,...a.attributes||{}}):r,new je)}function gN(t,e,n){const s=t;let i=s.tagName==="OL"?"ordered":"bullet";const o=s.getAttribute("data-checked");return o&&(i=o==="true"?"checked":"unchecked"),Ja(e,"list",i,n)}function eb(t,e,n){if(!qd(e,`
`)){if(kr(t,n)&&(t.childNodes.length>0||t instanceof HTMLParagraphElement))return e.insert(`
`);if(e.length()>0&&t.nextSibling){let s=t.nextSibling;for(;s!=null;){if(kr(s,n))return e.insert(`
`);const i=n.query(s);if(i&&i.prototype instanceof Qs)return e.insert(`
`);s=s.firstChild}}}return e}function _N(t,e,n){var o;const s={},i=t.style||{};return i.fontStyle==="italic"&&(s.italic=!0),i.textDecoration==="underline"&&(s.underline=!0),i.textDecoration==="line-through"&&(s.strike=!0),((o=i.fontWeight)!=null&&o.startsWith("bold")||parseInt(i.fontWeight,10)>=700)&&(s.bold=!0),e=Object.entries(s).reduce((r,a)=>{let[l,c]=a;return Ja(r,l,c,n)},e),parseFloat(i.textIndent||0)>0?new je().insert("	").concat(e):e}function vN(t,e,n){var i,o;const s=((i=t.parentElement)==null?void 0:i.tagName)==="TABLE"?t.parentElement:(o=t.parentElement)==null?void 0:o.parentElement;if(s!=null){const a=Array.from(s.querySelectorAll("tr")).indexOf(t)+1;return Ja(e,"table",a,n)}return e}function yN(t,e,n){var i;let s=t.data;if(((i=t.parentElement)==null?void 0:i.tagName)==="O:P")return e.insert(s.trim());if(!U6(t)){if(s.trim().length===0&&s.includes(`
`)&&!cN(t,n))return e;const o=(r,a)=>{const l=a.replace(/[^\u00a0]/g,"");return l.length<1&&r?" ":l};s=s.replace(/\r\n/g," ").replace(/\n/g," "),s=s.replace(/\s\s+/g,o.bind(o,!0)),(t.previousSibling==null&&t.parentElement!=null&&kr(t.parentElement,n)||t.previousSibling instanceof Element&&kr(t.previousSibling,n))&&(s=s.replace(/^\s+/,o.bind(o,!1))),(t.nextSibling==null&&t.parentElement!=null&&kr(t.parentElement,n)||t.nextSibling instanceof Element&&kr(t.nextSibling,n))&&(s=s.replace(/\s+$/,o.bind(o,!1)))}return e.insert(s)}class B6 extends Oi{constructor(n,s){super(n,s);ee(this,"lastRecorded",0);ee(this,"ignoreChange",!1);ee(this,"stack",{undo:[],redo:[]});ee(this,"currentRange",null);this.quill.on(de.events.EDITOR_CHANGE,(i,o,r,a)=>{i===de.events.SELECTION_CHANGE?o&&a!==de.sources.SILENT&&(this.currentRange=o):i===de.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||a===de.sources.USER?this.record(o,r):this.transform(o)),this.currentRange=r_(this.currentRange,o))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",i=>{i.inputType==="historyUndo"?(this.undo(),i.preventDefault()):i.inputType==="historyRedo"&&(this.redo(),i.preventDefault())})}change(n,s){if(this.stack[n].length===0)return;const i=this.stack[n].pop();if(!i)return;const o=this.quill.getContents(),r=i.delta.invert(o);this.stack[s].push({delta:r,range:r_(i.range,r)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(i.delta,de.sources.USER),this.ignoreChange=!1,this.restoreSelection(i)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(n,s){if(n.ops.length===0)return;this.stack.redo=[];let i=n.invert(s),o=this.currentRange;const r=Date.now();if(this.lastRecorded+this.options.delay>r&&this.stack.undo.length>0){const a=this.stack.undo.pop();a&&(i=i.compose(a.delta),o=a.range)}else this.lastRecorded=r;i.length()!==0&&(this.stack.undo.push({delta:i,range:o}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(n){tb(this.stack.undo,n),tb(this.stack.redo,n)}undo(){this.change("undo","redo")}restoreSelection(n){if(n.range)this.quill.setSelection(n.range,de.sources.USER);else{const s=wN(this.quill.scroll,n.delta);this.quill.setSelection(s,de.sources.USER)}}}ee(B6,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function tb(t,e){let n=e;for(let s=t.length-1;s>=0;s-=1){const i=t[s];t[s]={delta:n.transform(i.delta,!0),range:i.range&&r_(i.range,n)},n=i.delta.transform(n),t[s].delta.length()===0&&t.splice(s,1)}}function bN(t,e){const n=e.ops[e.ops.length-1];return n==null?!1:n.insert!=null?typeof n.insert=="string"&&n.insert.endsWith(`
`):n.attributes!=null?Object.keys(n.attributes).some(s=>t.query(s,Ye.BLOCK)!=null):!1}function wN(t,e){const n=e.reduce((i,o)=>i+(o.delete||0),0);let s=e.length()-n;return bN(t,e)&&(s-=1),s}function r_(t,e){if(!t)return t;const n=e.transformPosition(t.index),s=e.transformPosition(t.index+t.length);return{index:n,length:s-n}}class j6 extends Oi{constructor(e,n){super(e,n),e.root.addEventListener("drop",s=>{var r;s.preventDefault();let i=null;if(document.caretRangeFromPoint)i=document.caretRangeFromPoint(s.clientX,s.clientY);else if(document.caretPositionFromPoint){const a=document.caretPositionFromPoint(s.clientX,s.clientY);i=document.createRange(),i.setStart(a.offsetNode,a.offset),i.setEnd(a.offsetNode,a.offset)}const o=i&&e.selection.normalizeNative(i);if(o){const a=e.selection.normalizedToRange(o);(r=s.dataTransfer)!=null&&r.files&&this.upload(a,s.dataTransfer.files)}})}upload(e,n){const s=[];Array.from(n).forEach(i=>{var o;i&&((o=this.options.mimetypes)!=null&&o.includes(i.type))&&s.push(i)}),s.length>0&&this.options.handler.call(this,e,s)}}j6.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(t,e){if(!this.quill.scroll.query("image"))return;const n=e.map(s=>new Promise(i=>{const o=new FileReader;o.onload=()=>{i(o.result)},o.readAsDataURL(s)}));Promise.all(n).then(s=>{const i=s.reduce((o,r)=>o.insert({image:r}),new je().retain(t.index).delete(t.length));this.quill.updateContents(i,ze.sources.USER),this.quill.setSelection(t.index+s.length,ze.sources.SILENT)})}};const xN=["insertText","insertReplacementText"];class SN extends Oi{constructor(e,n){super(e,n),e.root.addEventListener("beforeinput",s=>{this.handleBeforeInput(s)}),/Android/i.test(navigator.userAgent)||e.on(de.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(e){t0({range:e,quill:this.quill})}replaceText(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(e.length===0)return!1;if(n){const s=this.quill.getFormat(e.index,1);this.deleteRange(e),this.quill.updateContents(new je().retain(e.index).insert(n,s),de.sources.USER)}else this.deleteRange(e);return this.quill.setSelection(e.index+n.length,0,de.sources.SILENT),!0}handleBeforeInput(e){if(this.quill.composition.isComposing||e.defaultPrevented||!xN.includes(e.inputType))return;const n=e.getTargetRanges?e.getTargetRanges()[0]:null;if(!n||n.collapsed===!0)return;const s=kN(e);if(s==null)return;const i=this.quill.selection.normalizeNative(n),o=i?this.quill.selection.normalizedToRange(i):null;o&&this.replaceText(o,s)&&e.preventDefault()}handleCompositionStart(){const e=this.quill.getSelection();e&&this.replaceText(e)}}function kN(t){var e;return typeof t.data=="string"?t.data:(e=t.dataTransfer)!=null&&e.types.includes("text/plain")?t.dataTransfer.getData("text/plain"):null}const $N=/Mac/i.test(navigator.platform),CN=100,EN=t=>!!(t.key==="ArrowLeft"||t.key==="ArrowRight"||t.key==="ArrowUp"||t.key==="ArrowDown"||t.key==="Home"||$N&&t.key==="a"&&t.ctrlKey===!0);class TN extends Oi{constructor(n,s){super(n,s);ee(this,"isListening",!1);ee(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(n,s){let{line:i,event:o}=s;if(!(i instanceof wi)||!i.uiNode)return!0;const r=getComputedStyle(i.domNode).direction==="rtl";return r&&o.key!=="ArrowRight"||!r&&o.key!=="ArrowLeft"?!0:(this.quill.setSelection(n.index-1,n.length+(o.shiftKey?1:0),de.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",n=>{!n.defaultPrevented&&EN(n)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+CN,this.isListening)return;this.isListening=!0;const n=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",n,{once:!0})}handleSelectionChange(){const n=document.getSelection();if(!n)return;const s=n.getRangeAt(0);if(s.collapsed!==!0||s.startOffset!==0)return;const i=this.quill.scroll.find(s.startContainer);if(!(i instanceof wi)||!i.uiNode)return;const o=document.createRange();o.setStartAfter(i.uiNode),o.setEndAfter(i.uiNode),n.removeAllRanges(),n.addRange(o)}}de.register({"blots/block":Yn,"blots/block/embed":Qs,"blots/break":Ii,"blots/container":Za,"blots/cursor":nc,"blots/embed":sm,"blots/inline":ii,"blots/scroll":Sl,"blots/text":$i,"modules/clipboard":N6,"modules/history":B6,"modules/keyboard":im,"modules/uploader":j6,"modules/input":SN,"modules/uiNode":TN});class AN extends Mi{add(e,n){let s=0;if(n==="+1"||n==="-1"){const i=this.value(e)||0;s=n==="+1"?i+1:i-1}else typeof n=="number"&&(s=n);return s===0?(this.remove(e),!0):super.add(e,s.toString())}canAdd(e,n){return super.canAdd(e,n)||super.canAdd(e,parseInt(n,10))}value(e){return parseInt(super.value(e),10)||void 0}}const MN=new AN("indent","ql-indent",{scope:Ye.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class a_ extends Yn{}ee(a_,"blotName","blockquote"),ee(a_,"tagName","blockquote");class l_ extends Yn{static formats(e){return this.tagName.indexOf(e.tagName)+1}}ee(l_,"blotName","header"),ee(l_,"tagName",["H1","H2","H3","H4","H5","H6"]);class Gd extends Za{}Gd.blotName="list-container";Gd.tagName="OL";class Yd extends Yn{static create(e){const n=super.create();return n.setAttribute("data-list",e),n}static formats(e){return e.getAttribute("data-list")||void 0}static register(){de.register(Gd)}constructor(e,n){super(e,n);const s=n.ownerDocument.createElement("span"),i=o=>{if(!e.isEnabled())return;const r=this.statics.formats(n,e);r==="checked"?(this.format("list","unchecked"),o.preventDefault()):r==="unchecked"&&(this.format("list","checked"),o.preventDefault())};s.addEventListener("mousedown",i),s.addEventListener("touchstart",i),this.attachUI(s)}format(e,n){e===this.statics.blotName&&n?this.domNode.setAttribute("data-list",n):super.format(e,n)}}Yd.blotName="list";Yd.tagName="LI";Gd.allowedChildren=[Yd];Yd.requiredContainer=Gd;class ed extends ii{static create(){return super.create()}static formats(){return!0}optimize(e){super.optimize(e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}ee(ed,"blotName","bold"),ee(ed,"tagName",["STRONG","B"]);class c_ extends ed{}ee(c_,"blotName","italic"),ee(c_,"tagName",["EM","I"]);class $r extends ii{static create(e){const n=super.create(e);return n.setAttribute("href",this.sanitize(e)),n.setAttribute("rel","noopener noreferrer"),n.setAttribute("target","_blank"),n}static formats(e){return e.getAttribute("href")}static sanitize(e){return z6(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}format(e,n){e!==this.statics.blotName||!n?super.format(e,n):this.domNode.setAttribute("href",this.constructor.sanitize(n))}}ee($r,"blotName","link"),ee($r,"tagName","A"),ee($r,"SANITIZED_URL","about:blank"),ee($r,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function z6(t,e){const n=document.createElement("a");n.href=t;const s=n.href.slice(0,n.href.indexOf(":"));return e.indexOf(s)>-1}class u_ extends ii{static create(e){return e==="super"?document.createElement("sup"):e==="sub"?document.createElement("sub"):super.create(e)}static formats(e){if(e.tagName==="SUB")return"sub";if(e.tagName==="SUP")return"super"}}ee(u_,"blotName","script"),ee(u_,"tagName",["SUB","SUP"]);class d_ extends ed{}ee(d_,"blotName","strike"),ee(d_,"tagName",["S","STRIKE"]);class h_ extends ii{}ee(h_,"blotName","underline"),ee(h_,"tagName","U");class yf extends sm{static create(e){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const n=super.create(e);return typeof e=="string"&&(window.katex.render(e,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",e)),n}static value(e){return e.getAttribute("data-value")}html(){const{formula:e}=this.value();return`<span>${e}</span>`}}ee(yf,"blotName","formula"),ee(yf,"className","ql-formula"),ee(yf,"tagName","SPAN");const nb=["alt","height","width"];class f_ extends Hs{static create(e){const n=super.create(e);return typeof e=="string"&&n.setAttribute("src",this.sanitize(e)),n}static formats(e){return nb.reduce((n,s)=>(e.hasAttribute(s)&&(n[s]=e.getAttribute(s)),n),{})}static match(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}static sanitize(e){return z6(e,["http","https","data"])?e:"//:0"}static value(e){return e.getAttribute("src")}format(e,n){nb.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):super.format(e,n)}}ee(f_,"blotName","image"),ee(f_,"tagName","IMG");const sb=["height","width"];class bf extends Qs{static create(e){const n=super.create(e);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen","true"),n.setAttribute("src",this.sanitize(e)),n}static formats(e){return sb.reduce((n,s)=>(e.hasAttribute(s)&&(n[s]=e.getAttribute(s)),n),{})}static sanitize(e){return $r.sanitize(e)}static value(e){return e.getAttribute("src")}format(e,n){sb.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):super.format(e,n)}html(){const{video:e}=this.value();return`<a href="${e}">${e}</a>`}}ee(bf,"blotName","video"),ee(bf,"className","ql-video"),ee(bf,"tagName","IFRAME");const Xc=new Mi("code-token","hljs",{scope:Ye.INLINE});class qo extends ii{static formats(e,n){for(;e!=null&&e!==n.domNode;){if(e.classList&&e.classList.contains(rs.className))return super.formats(e,n);e=e.parentNode}}constructor(e,n,s){super(e,n,s),Xc.add(this.domNode,s)}format(e,n){e!==qo.blotName?super.format(e,n):n?Xc.add(this.domNode,n):(Xc.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),Xc.value(this.domNode)||this.unwrap()}}qo.blotName="code-token";qo.className="ql-token";class Js extends rs{static create(e){const n=super.create(e);return typeof e=="string"&&n.setAttribute("data-language",e),n}static formats(e){return e.getAttribute("data-language")||"plain"}static register(){}format(e,n){e===this.statics.blotName&&n?this.domNode.setAttribute("data-language",n):super.format(e,n)}replaceWith(e,n){return this.formatAt(0,this.length(),qo.blotName,!1),super.replaceWith(e,n)}}class wu extends Xa{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(e,n){e===Js.blotName&&(this.forceNext=!0,this.children.forEach(s=>{s.format(e,n)}))}formatAt(e,n,s,i){s===Js.blotName&&(this.forceNext=!0),super.formatAt(e,n,s,i)}highlight(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const i=`${Array.from(this.domNode.childNodes).filter(r=>r!==this.uiNode).map(r=>r.textContent).join(`
`)}
`,o=Js.formats(this.children.head.domNode);if(n||this.forceNext||this.cachedText!==i){if(i.trim().length>0||this.cachedText==null){const r=this.children.reduce((l,c)=>l.concat(k6(c,!1)),new je),a=e(i,o);r.diff(a).reduce((l,c)=>{let{retain:u,attributes:d}=c;return u?(d&&Object.keys(d).forEach(h=>{[Js.blotName,qo.blotName].includes(h)&&this.formatAt(l,u,h,d[h])}),l+u):l},0)}this.cachedText=i,this.forceNext=!1}}html(e,n){const[s]=this.children.find(e);return`<pre data-language="${s?Js.formats(s.domNode):"plain"}">
${nm(this.code(e,n))}
</pre>`}optimize(e){if(super.optimize(e),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const n=Js.formats(this.children.head.domNode);n!==this.uiNode.value&&(this.uiNode.value=n)}}}wu.allowedChildren=[Js];Js.requiredContainer=wu;Js.allowedChildren=[qo,nc,$i,Ii];const IN=(t,e,n)=>{if(typeof t.versionString=="string"){const s=t.versionString.split(".")[0];if(parseInt(s,10)>=11)return t.highlight(n,{language:e}).value}return t.highlight(e,n).value};class F6 extends Oi{static register(){de.register(qo,!0),de.register(Js,!0),de.register(wu,!0)}constructor(e,n){if(super(e,n),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((s,i)=>{let{key:o}=i;return s[o]=!0,s},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(de.events.SCROLL_BLOT_MOUNT,e=>{if(!(e instanceof wu))return;const n=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(s=>{let{key:i,label:o}=s;const r=n.ownerDocument.createElement("option");r.textContent=o,r.setAttribute("value",i),n.appendChild(r)}),n.addEventListener("change",()=>{e.format(Js.blotName,n.value),this.quill.root.focus(),this.highlight(e,!0)}),e.uiNode==null&&(e.attachUI(n),e.children.head&&(n.value=Js.formats(e.children.head.domNode)))})}initTimer(){let e=null;this.quill.on(de.events.SCROLL_OPTIMIZE,()=>{e&&clearTimeout(e),e=setTimeout(()=>{this.highlight(),e=null},this.options.interval)})}highlight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(de.sources.USER);const s=this.quill.getSelection();(e==null?this.quill.scroll.descendants(wu):[e]).forEach(o=>{o.highlight(this.highlightBlot,n)}),this.quill.update(de.sources.SILENT),s!=null&&this.quill.setSelection(s,de.sources.SILENT)}highlightBlot(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(n=this.languages[n]?n:"plain",n==="plain")return nm(e).split(`
`).reduce((i,o,r)=>(r!==0&&i.insert(`
`,{[rs.blotName]:n}),i.insert(o)),new je);const s=this.quill.root.ownerDocument.createElement("div");return s.classList.add(rs.className),s.innerHTML=IN(this.options.hljs,n,e),n0(this.quill.scroll,s,[(i,o)=>{const r=Xc.value(i);return r?o.compose(new je().retain(o.length(),{[qo.blotName]:r})):o}],[(i,o)=>i.data.split(`
`).reduce((r,a,l)=>(l!==0&&r.insert(`
`,{[rs.blotName]:n}),r.insert(a)),o)],new WeakMap)}}F6.DEFAULTS={hljs:(()=>window.hljs)(),interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const Vu=class Vu extends Yn{static create(e){const n=super.create();return e?n.setAttribute("data-row",e):n.setAttribute("data-row",s0()),n}static formats(e){if(e.hasAttribute("data-row"))return e.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(e,n){e===Vu.blotName&&n?this.domNode.setAttribute("data-row",n):super.format(e,n)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};ee(Vu,"blotName","table"),ee(Vu,"tagName","TD");let _i=Vu;class Go extends Za{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const e=this.children.head.formats(),n=this.children.tail.formats(),s=this.next.children.head.formats(),i=this.next.children.tail.formats();return e.table===n.table&&e.table===s.table&&e.table===i.table}return!1}optimize(e){super.optimize(e),this.children.forEach(n=>{if(n.next==null)return;const s=n.formats(),i=n.next.formats();if(s.table!==i.table){const o=this.splitAfter(n);o&&o.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}ee(Go,"blotName","table-row"),ee(Go,"tagName","TR");class Xi extends Za{}ee(Xi,"blotName","table-body"),ee(Xi,"tagName","TBODY");class ic extends Za{balanceCells(){const e=this.descendants(Go),n=e.reduce((s,i)=>Math.max(i.children.length,s),0);e.forEach(s=>{new Array(n-s.children.length).fill(0).forEach(()=>{let i;s.children.head!=null&&(i=_i.formats(s.children.head.domNode));const o=this.scroll.create(_i.blotName,i);s.appendChild(o),o.optimize()})})}cells(e){return this.rows().map(n=>n.children.at(e))}deleteColumn(e){const[n]=this.descendant(Xi);n==null||n.children.head==null||n.children.forEach(s=>{const i=s.children.at(e);i!=null&&i.remove()})}insertColumn(e){const[n]=this.descendant(Xi);n==null||n.children.head==null||n.children.forEach(s=>{const i=s.children.at(e),o=_i.formats(s.children.head.domNode),r=this.scroll.create(_i.blotName,o);s.insertBefore(r,i)})}insertRow(e){const[n]=this.descendant(Xi);if(n==null||n.children.head==null)return;const s=s0(),i=this.scroll.create(Go.blotName);n.children.head.children.forEach(()=>{const r=this.scroll.create(_i.blotName,s);i.appendChild(r)});const o=n.children.at(e);n.insertBefore(i,o)}rows(){const e=this.children.head;return e==null?[]:e.children.map(n=>n)}}ee(ic,"blotName","table-container"),ee(ic,"tagName","TABLE");ic.allowedChildren=[Xi];Xi.requiredContainer=ic;Xi.allowedChildren=[Go];Go.requiredContainer=Xi;Go.allowedChildren=[_i];_i.requiredContainer=Go;function s0(){return`row-${Math.random().toString(36).slice(2,6)}`}class ON extends Oi{static register(){de.register(_i),de.register(Go),de.register(Xi),de.register(ic)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(ic).forEach(e=>{e.balanceCells()})}deleteColumn(){const[e,,n]=this.getTable();n!=null&&(e.deleteColumn(n.cellOffset()),this.quill.update(de.sources.USER))}deleteRow(){const[,e]=this.getTable();e!=null&&(e.remove(),this.quill.update(de.sources.USER))}deleteTable(){const[e]=this.getTable();if(e==null)return;const n=e.offset();e.remove(),this.quill.update(de.sources.USER),this.quill.setSelection(n,de.sources.SILENT)}getTable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(e==null)return[null,null,null,-1];const[n,s]=this.quill.getLine(e.index);if(n==null||n.statics.blotName!==_i.blotName)return[null,null,null,-1];const i=n.parent;return[i.parent.parent,i,n,s]}insertColumn(e){const n=this.quill.getSelection();if(!n)return;const[s,i,o]=this.getTable(n);if(o==null)return;const r=o.cellOffset();s.insertColumn(r+e),this.quill.update(de.sources.USER);let a=i.rowOffset();e===0&&(a+=1),this.quill.setSelection(n.index+a,n.length,de.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(e){const n=this.quill.getSelection();if(!n)return;const[s,i,o]=this.getTable(n);if(o==null)return;const r=i.rowOffset();s.insertRow(r+e),this.quill.update(de.sources.USER),e>0?this.quill.setSelection(n,de.sources.SILENT):this.quill.setSelection(n.index+i.children.length,n.length,de.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(e,n){const s=this.quill.getSelection();if(s==null)return;const i=new Array(e).fill(0).reduce(o=>{const r=new Array(n).fill(`
`).join("");return o.insert(r,{table:s0()})},new je().retain(s.index));this.quill.updateContents(i,de.sources.USER),this.quill.setSelection(s.index,de.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(de.events.SCROLL_OPTIMIZE,e=>{e.some(n=>["TD","TR","TBODY","TABLE"].includes(n.target.tagName)?(this.quill.once(de.events.TEXT_CHANGE,(s,i,o)=>{o===de.sources.USER&&this.balanceTables()}),!0):!1)})}}const ib=tr("quill:toolbar");class i0 extends Oi{constructor(e,n){var s,i;if(super(e,n),Array.isArray(this.options.container)){const o=document.createElement("div");o.setAttribute("role","toolbar"),DN(o,this.options.container),(i=(s=e.container)==null?void 0:s.parentNode)==null||i.insertBefore(o,e.container),this.container=o}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){ib.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(o=>{var a;const r=(a=this.options.handlers)==null?void 0:a[o];r&&this.addHandler(o,r)}),Array.from(this.container.querySelectorAll("button, select")).forEach(o=>{this.attach(o)}),this.quill.on(de.events.EDITOR_CHANGE,()=>{const[o]=this.quill.selection.getRange();this.update(o)})}addHandler(e,n){this.handlers[e]=n}attach(e){let n=Array.from(e.classList).find(i=>i.indexOf("ql-")===0);if(!n)return;if(n=n.slice(3),e.tagName==="BUTTON"&&e.setAttribute("type","button"),this.handlers[n]==null&&this.quill.scroll.query(n)==null){ib.warn("ignoring attaching to nonexistent format",n,e);return}const s=e.tagName==="SELECT"?"change":"click";e.addEventListener(s,i=>{let o;if(e.tagName==="SELECT"){if(e.selectedIndex<0)return;const a=e.options[e.selectedIndex];a.hasAttribute("selected")?o=!1:o=a.value||!1}else e.classList.contains("ql-active")?o=!1:o=e.value||!e.hasAttribute("value"),i.preventDefault();this.quill.focus();const[r]=this.quill.selection.getRange();if(this.handlers[n]!=null)this.handlers[n].call(this,o);else if(this.quill.scroll.query(n).prototype instanceof Hs){if(o=prompt(`Enter ${n}`),!o)return;this.quill.updateContents(new je().retain(r.index).delete(r.length).insert({[n]:o}),de.sources.USER)}else this.quill.format(n,o,de.sources.USER);this.update(r)}),this.controls.push([n,e])}update(e){const n=e==null?{}:this.quill.getFormat(e);this.controls.forEach(s=>{const[i,o]=s;if(o.tagName==="SELECT"){let r=null;if(e==null)r=null;else if(n[i]==null)r=o.querySelector("option[selected]");else if(!Array.isArray(n[i])){let a=n[i];typeof a=="string"&&(a=a.replace(/"/g,'\\"')),r=o.querySelector(`option[value="${a}"]`)}r==null?(o.value="",o.selectedIndex=-1):r.selected=!0}else if(e==null)o.classList.remove("ql-active"),o.setAttribute("aria-pressed","false");else if(o.hasAttribute("value")){const r=n[i],a=r===o.getAttribute("value")||r!=null&&r.toString()===o.getAttribute("value")||r==null&&!o.getAttribute("value");o.classList.toggle("ql-active",a),o.setAttribute("aria-pressed",a.toString())}else{const r=n[i]!=null;o.classList.toggle("ql-active",r),o.setAttribute("aria-pressed",r.toString())}})}}i0.DEFAULTS={};function ob(t,e,n){const s=document.createElement("button");s.setAttribute("type","button"),s.classList.add(`ql-${e}`),s.setAttribute("aria-pressed","false"),n!=null?(s.value=n,s.setAttribute("aria-label",`${e}: ${n}`)):s.setAttribute("aria-label",e),t.appendChild(s)}function DN(t,e){Array.isArray(e[0])||(e=[e]),e.forEach(n=>{const s=document.createElement("span");s.classList.add("ql-formats"),n.forEach(i=>{if(typeof i=="string")ob(s,i);else{const o=Object.keys(i)[0],r=i[o];Array.isArray(r)?LN(s,o,r):ob(s,o,r)}}),t.appendChild(s)})}function LN(t,e,n){const s=document.createElement("select");s.classList.add(`ql-${e}`),n.forEach(i=>{const o=document.createElement("option");i!==!1?o.setAttribute("value",String(i)):o.setAttribute("selected","selected"),s.appendChild(o)}),t.appendChild(s)}i0.DEFAULTS={container:null,handlers:{clean(){const t=this.quill.getSelection();if(t!=null)if(t.length===0){const e=this.quill.getFormat();Object.keys(e).forEach(n=>{this.quill.scroll.query(n,Ye.INLINE)!=null&&this.quill.format(n,!1,de.sources.USER)})}else this.quill.removeFormat(t.index,t.length,de.sources.USER)},direction(t){const{align:e}=this.quill.getFormat();t==="rtl"&&e==null?this.quill.format("align","right",de.sources.USER):!t&&e==="right"&&this.quill.format("align",!1,de.sources.USER),this.quill.format("direction",t,de.sources.USER)},indent(t){const e=this.quill.getSelection(),n=this.quill.getFormat(e),s=parseInt(n.indent||0,10);if(t==="+1"||t==="-1"){let i=t==="+1"?1:-1;n.direction==="rtl"&&(i*=-1),this.quill.format("indent",s+i,de.sources.USER)}},link(t){t===!0&&(t=prompt("Enter link URL:")),this.quill.format("link",t,de.sources.USER)},list(t){const e=this.quill.getSelection(),n=this.quill.getFormat(e);t==="check"?n.list==="checked"||n.list==="unchecked"?this.quill.format("list",!1,de.sources.USER):this.quill.format("list","unchecked",de.sources.USER):this.quill.format("list",t,de.sources.USER)}}};const PN='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',RN='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',VN='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',NN='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',UN='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',BN='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',jN='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',zN='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',rb='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',FN='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',WN='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',HN='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',qN='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',GN='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',YN='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',KN='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',ZN='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',XN='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',JN='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',QN='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',eU='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',tU='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',nU='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',sU='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',iU='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',oU='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',rU='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',aU='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',lU='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',cU='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',uU='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',dU='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',hU='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',td={align:{"":PN,center:RN,right:VN,justify:NN},background:UN,blockquote:BN,bold:jN,clean:zN,code:rb,"code-block":rb,color:FN,direction:{"":WN,rtl:HN},formula:qN,header:{1:GN,2:YN,3:KN,4:ZN,5:XN,6:JN},italic:QN,image:eU,indent:{"+1":tU,"-1":nU},link:sU,list:{bullet:iU,check:oU,ordered:rU},script:{sub:aU,super:lU},strike:cU,table:uU,underline:dU,video:hU},fU='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let ab=0;function lb(t,e){t.setAttribute(e,`${t.getAttribute(e)!=="true"}`)}class om{constructor(e){this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",n=>{switch(n.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),n.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),lb(this.label,"aria-expanded"),lb(this.options,"aria-hidden")}buildItem(e){const n=document.createElement("span");n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item");const s=e.getAttribute("value");return s&&n.setAttribute("data-value",s),e.textContent&&n.setAttribute("data-label",e.textContent),n.addEventListener("click",()=>{this.selectItem(n,!0)}),n.addEventListener("keydown",i=>{switch(i.key){case"Enter":this.selectItem(n,!0),i.preventDefault();break;case"Escape":this.escape(),i.preventDefault();break}}),n}buildLabel(){const e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=fU,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}buildOptions(){const e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id=`ql-picker-options-${ab}`,ab+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,Array.from(this.select.options).forEach(n=>{const s=this.buildItem(n);e.appendChild(s),n.selected===!0&&this.selectItem(s)}),this.container.appendChild(e)}buildPicker(){Array.from(this.select.attributes).forEach(e=>{this.container.setAttribute(e.name,e.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const s=this.container.querySelector(".ql-selected");e!==s&&(s!=null&&s.classList.remove("ql-selected"),e!=null&&(e.classList.add("ql-selected"),this.select.selectedIndex=Array.from(e.parentNode.children).indexOf(e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),n&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let e;if(this.select.selectedIndex>-1){const s=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(s)}else this.selectItem(null);const n=e!=null&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}class W6 extends om{constructor(e,n){super(e),this.label.innerHTML=n,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(s=>{s.classList.add("ql-primary")})}buildItem(e){const n=super.buildItem(e);return n.style.backgroundColor=e.getAttribute("value")||"",n}selectItem(e,n){super.selectItem(e,n);const s=this.label.querySelector(".ql-color-label"),i=e&&e.getAttribute("data-value")||"";s&&(s.tagName==="line"?s.style.stroke=i:s.style.fill=i)}}class H6 extends om{constructor(e,n){super(e),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(s=>{s.innerHTML=n[s.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(e,n){super.selectItem(e,n);const s=e||this.defaultItem;if(s!=null){if(this.label.innerHTML===s.innerHTML)return;this.label.innerHTML=s.innerHTML}}}const pU=t=>{const{overflowY:e}=getComputedStyle(t,null);return e!=="visible"&&e!=="clip"};let q6=class{constructor(e,n){this.quill=e,this.boundsContainer=n||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,pU(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(e){const n=e.left+e.width/2-this.root.offsetWidth/2,s=e.bottom+this.quill.root.scrollTop;this.root.style.left=`${n}px`,this.root.style.top=`${s}px`,this.root.classList.remove("ql-flip");const i=this.boundsContainer.getBoundingClientRect(),o=this.root.getBoundingClientRect();let r=0;if(o.right>i.right&&(r=i.right-o.right,this.root.style.left=`${n+r}px`),o.left<i.left&&(r=i.left-o.left,this.root.style.left=`${n+r}px`),o.bottom>i.bottom){const a=o.bottom-o.top,l=e.bottom-e.top+a;this.root.style.top=`${s-l}px`,this.root.classList.add("ql-flip")}return r}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}};const mU=[!1,"center","right","justify"],gU=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],_U=[!1,"serif","monospace"],vU=["1","2","3",!1],yU=["small",!1,"large","huge"];class Kd extends sc{constructor(e,n){super(e,n);const s=i=>{if(!document.body.contains(e.root)){document.body.removeEventListener("click",s);return}this.tooltip!=null&&!this.tooltip.root.contains(i.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(o=>{o.container.contains(i.target)||o.close()})};e.emitter.listenDOM("click",document.body,s)}addModule(e){const n=super.addModule(e);return e==="toolbar"&&this.extendToolbar(n),n}buildButtons(e,n){Array.from(e).forEach(s=>{(s.getAttribute("class")||"").split(/\s+/).forEach(o=>{if(o.startsWith("ql-")&&(o=o.slice(3),n[o]!=null))if(o==="direction")s.innerHTML=n[o][""]+n[o].rtl;else if(typeof n[o]=="string")s.innerHTML=n[o];else{const r=s.value||"";r!=null&&n[o][r]&&(s.innerHTML=n[o][r])}})})}buildPickers(e,n){this.pickers=Array.from(e).map(i=>{if(i.classList.contains("ql-align")&&(i.querySelector("option")==null&&Bc(i,mU),typeof n.align=="object"))return new H6(i,n.align);if(i.classList.contains("ql-background")||i.classList.contains("ql-color")){const o=i.classList.contains("ql-background")?"background":"color";return i.querySelector("option")==null&&Bc(i,gU,o==="background"?"#ffffff":"#000000"),new W6(i,n[o])}return i.querySelector("option")==null&&(i.classList.contains("ql-font")?Bc(i,_U):i.classList.contains("ql-header")?Bc(i,vU):i.classList.contains("ql-size")&&Bc(i,yU)),new om(i)});const s=()=>{this.pickers.forEach(i=>{i.update()})};this.quill.on(ze.events.EDITOR_CHANGE,s)}}Kd.DEFAULTS=Dr({},sc.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let t=this.container.querySelector("input.ql-image[type=file]");t==null&&(t=document.createElement("input"),t.setAttribute("type","file"),t.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),t.classList.add("ql-image"),t.addEventListener("change",()=>{const e=this.quill.getSelection(!0);this.quill.uploader.upload(e,t.files),t.value=""}),this.container.appendChild(t)),t.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class G6 extends q6{constructor(e,n){super(e,n),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",e=>{e.key==="Enter"?(this.save(),e.preventDefault()):e.key==="Escape"&&(this.cancel(),e.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;n!=null?this.textbox.value=n:e!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const s=this.quill.getBounds(this.quill.selection.savedRange);s!=null&&this.position(s),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${e}`)||""),this.root.setAttribute("data-mode",e)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:e}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:n}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,ze.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,ze.sources.USER)),this.quill.root.scrollTop=n;break}case"video":e=bU(e);case"formula":{if(!e)break;const n=this.quill.getSelection(!0);if(n!=null){const s=n.index+n.length;this.quill.insertEmbed(s,this.root.getAttribute("data-mode"),e,ze.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(s+1," ",ze.sources.USER),this.quill.setSelection(s+2,ze.sources.USER)}break}}this.textbox.value="",this.hide()}}function bU(t){let e=t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return e?`${e[1]||"https"}://www.youtube.com/embed/${e[2]}?showinfo=0`:(e=t.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${e[1]||"https"}://player.vimeo.com/video/${e[2]}/`:t}function Bc(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;e.forEach(s=>{const i=document.createElement("option");s===n?i.setAttribute("selected","selected"):i.setAttribute("value",String(s)),t.appendChild(i)})}const wU=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class Y6 extends G6{constructor(e,n){super(e,n),this.quill.on(ze.events.EDITOR_CHANGE,(s,i,o,r)=>{if(s===ze.events.SELECTION_CHANGE)if(i!=null&&i.length>0&&r===ze.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const a=this.quill.getLines(i.index,i.length);if(a.length===1){const l=this.quill.getBounds(i);l!=null&&this.position(l)}else{const l=a[a.length-1],c=this.quill.getIndex(l),u=Math.min(l.length()-1,i.index+i.length-c),d=this.quill.getBounds(new Da(c,u));d!=null&&this.position(d)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(ze.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const e=this.quill.getSelection();if(e!=null){const n=this.quill.getBounds(e);n!=null&&this.position(n)}},1)})}cancel(){this.show()}position(e){const n=super.position(e),s=this.root.querySelector(".ql-tooltip-arrow");return s.style.marginLeft="",n!==0&&(s.style.marginLeft=`${-1*n-s.offsetWidth/2}px`),n}}ee(Y6,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class K6 extends Kd{constructor(e,n){n.modules.toolbar!=null&&n.modules.toolbar.container==null&&(n.modules.toolbar.container=wU),super(e,n),this.quill.container.classList.add("ql-bubble")}extendToolbar(e){this.tooltip=new Y6(this.quill,this.options.bounds),e.container!=null&&(this.tooltip.root.appendChild(e.container),this.buildButtons(e.container.querySelectorAll("button"),td),this.buildPickers(e.container.querySelectorAll("select"),td))}}K6.DEFAULTS=Dr({},Kd.DEFAULTS,{modules:{toolbar:{handlers:{link(t){t?this.quill.theme.tooltip.edit():this.quill.format("link",!1,de.sources.USER)}}}}});const xU=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class Z6 extends G6{constructor(){super(...arguments);ee(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",n=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),n.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",n=>{if(this.linkRange!=null){const s=this.linkRange;this.restoreFocus(),this.quill.formatText(s,"link",!1,ze.sources.USER),delete this.linkRange}n.preventDefault(),this.hide()}),this.quill.on(ze.events.SELECTION_CHANGE,(n,s,i)=>{if(n!=null){if(n.length===0&&i===ze.sources.USER){const[o,r]=this.quill.scroll.descendant($r,n.index);if(o!=null){this.linkRange=new Da(n.index-r,o.length());const a=$r.formats(o.domNode);this.preview.textContent=a,this.preview.setAttribute("href",a),this.show();const l=this.quill.getBounds(this.linkRange);l!=null&&this.position(l);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}ee(Z6,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class X6 extends Kd{constructor(e,n){n.modules.toolbar!=null&&n.modules.toolbar.container==null&&(n.modules.toolbar.container=xU),super(e,n),this.quill.container.classList.add("ql-snow")}extendToolbar(e){e.container!=null&&(e.container.classList.add("ql-snow"),this.buildButtons(e.container.querySelectorAll("button"),td),this.buildPickers(e.container.querySelectorAll("select"),td),this.tooltip=new Z6(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(n,s)=>{e.handlers.link.call(e,!s.format.link)}))}}X6.DEFAULTS=Dr({},Kd.DEFAULTS,{modules:{toolbar:{handlers:{link(t){if(t){const e=this.quill.getSelection();if(e==null||e.length===0)return;let n=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(n)&&n.indexOf("mailto:")!==0&&(n=`mailto:${n}`);const{tooltip:s}=this.quill.theme;s.edit("link",n)}else this.quill.format("link",!1,de.sources.USER)}}}}});de.register({"attributors/attribute/direction":M6,"attributors/class/align":E6,"attributors/class/background":BV,"attributors/class/color":UV,"attributors/class/direction":I6,"attributors/class/font":L6,"attributors/class/size":R6,"attributors/style/align":T6,"attributors/style/background":Jv,"attributors/style/color":Xv,"attributors/style/direction":O6,"attributors/style/font":P6,"attributors/style/size":V6},!0);de.register({"formats/align":E6,"formats/direction":I6,"formats/indent":MN,"formats/background":Jv,"formats/color":Xv,"formats/font":L6,"formats/size":R6,"formats/blockquote":a_,"formats/code-block":rs,"formats/header":l_,"formats/list":Yd,"formats/bold":ed,"formats/code":Qv,"formats/italic":c_,"formats/link":$r,"formats/script":u_,"formats/strike":d_,"formats/underline":h_,"formats/formula":yf,"formats/image":f_,"formats/video":bf,"modules/syntax":F6,"modules/table":ON,"modules/toolbar":i0,"themes/bubble":K6,"themes/snow":X6,"ui/icons":td,"ui/picker":om,"ui/icon-picker":H6,"ui/color-picker":W6,"ui/tooltip":q6},!0);class jl extends ii{static create(e){const n=super.create(e.content);return n.dataset.comment=e.content,n.dataset.type=e.type,n.classList.add(this.className),n}static formats(e){return{content:e.dataset.comment,type:e.dataset.type,x:e.dataset.x?parseInt(e.dataset.x):void 0,y:e.dataset.y?parseInt(e.dataset.y):void 0,width:e.dataset.width?parseInt(e.dataset.width):void 0,height:e.dataset.height?parseInt(e.dataset.height):void 0,imageSrc:e.dataset.imageSrc}}static value(e){return{content:e.dataset.comment,type:e.dataset.type,x:e.dataset.x?parseInt(e.dataset.x):void 0,y:e.dataset.y?parseInt(e.dataset.y):void 0,width:e.dataset.width?parseInt(e.dataset.width):void 0,height:e.dataset.height?parseInt(e.dataset.height):void 0,imageSrc:e.dataset.imageSrc}}}ee(jl,"blotName","comment"),ee(jl,"tagName","span"),ee(jl,"className","ql-comment");class xu extends ii{static create(e){const n=super.create(e.content);return n.dataset.comment=e.content,n.dataset.type=e.type,n.dataset.x=e.x.toString(),n.dataset.y=e.y.toString(),n.dataset.width=e.width.toString(),n.dataset.height=e.height.toString(),n.dataset.imageWidth=e.imageSize.width.toString(),n.dataset.imageHeight=e.imageSize.height.toString(),n.classList.add(this.className),n}static formats(e){return{content:e.dataset.comment,type:e.dataset.type,x:parseFloat(e.dataset.x),y:parseFloat(e.dataset.y),width:parseFloat(e.dataset.width),height:parseFloat(e.dataset.height),imageSrc:e.dataset.imageSrc||"",imageSize:{width:parseFloat(e.dataset.imageWidth),height:parseFloat(e.dataset.imageHeight)}}}static value(e){return JSON.stringify(this.formats(e))}}ee(xu,"blotName","image-comment"),ee(xu,"tagName","span"),ee(xu,"className","ql-image-comment");class Su extends sm{static create(e){const n=super.create("div");n.classList.add(this.className);const s=document.createElement("img");s.setAttribute("src",e);const i=document.createElement("div");i.classList.add("actions");const o=document.createElement("button");return o.innerHTML="+",o.classList.add("delete-button"),i.appendChild(o),n.appendChild(s),n.appendChild(i),n}static formats(e){return{}}static register(){/Firefox/i.test(navigator.userAgent)&&setTimeout(()=>{document.execCommand("enableObjectResizing",!1,!1)},1)}static value(e){var s;return(s=e.querySelector("img"))==null?void 0:s.getAttribute("src")}}ee(Su,"blotName","image"),ee(Su,"tagName","div"),ee(Su,"className","ql-image");class SU extends de{constructor(n,s,i,o){super(n.value,{readOnly:i==="readonly",debug:!1,modules:{table:!0}});ee(this,"toolbar");ee(this,"ALLOWED_MIME_TYPES",["image/png","image/jpeg"]);ee(this,"MAX_FILE_SIZE",10*1024*1024);this.registerBlots(),this.initUploader(),this.toolbar=o,this.setContents(new je(s)),this.initHandlers(),this.rerenderToolbar(),i==="commentable"&&(this.root.contentEditable="false")}registerBlots(){de.imports["formats/image"]!==Su&&de.register(Su,!0),de.imports["formats/comment"]||de.register(jl),de.imports["formats/image-comment"]||de.register(xu)}initHandlers(){this.on("selection-change",this.onSelectionChange.bind(this))}initUploader(){const n=this.getModule("uploader");n.options.handler=async(s,i)=>{(await Promise.all(i.map(r=>this.uploadFile(r)))).forEach((r,a)=>{this.insertImg(s.index+a,r)})}}rerenderToolbar(){if(this.toolbar)for(const n of this.toolbar)for(const s of n)s.value!==void 0&&(s.active=this.getFormat()[s.type]===s.value)}async toggleFormat(n,s,i){const o=this.getSelection(),r=(o==null?void 0:o.index)||0,a=this.getFormat();switch(n){case"bold":case"italic":case"underline":case"strike":this.format(n,!a[n]);break;case"script":this.format("script",a[n]===s?!1:s);break;case"align":this.format("align",s);break;case"list":this.format("list",a[n]===s?!1:s);break;case"header":this.format("header",s);break;case"table":this.getModule("table").insertTable(3,3);break;case"table-insert-column":this.getModule("table").insertColumnRight();break;case"table-delete-column":this.getModule("table").deleteColumn();break;case"table-insert-row":this.getModule("table").insertRowBelow();break;case"table-delete-row":this.getModule("table").deleteRow();break;case"link":case"video":await(i==null?void 0:i.call(this,r));break;case"image":this.insertImg(r,await this.promptAndUploadFile());break;case"color":this.format("color",a[n]===s?!1:s);break}this.rerenderToolbar()}async promptAndUploadFile(){const n=await this.promptFile();if(n)return await this.uploadFile(n)}comment(n,s){this.focus(),this.setSelection(n.index,n.length),this.format("comment",s),this.setSelection(0,0,"silent")}commentImage(n){const s=this.getContents(),i=s.ops.findIndex(r=>r.insert&&r.insert.image&&r.insert.image===n.imageSrc),o=s.ops.reduce((r,a,l)=>l>i?r:a.insert&&typeof a.insert=="string"?r+a.insert.length:r+1,0)-1;"originPosition"in n&&(n.x=n.originPosition.x,n.y=n.originPosition.y),o!==-1&&(this.focus(),this.setSelection(o,0,"silent"),this.insertText(o,"*","silent"),this.setSelection(o,1,"silent"),this.format("image-comment",n,"silent"),this.setSelection(0,0,"silent"))}removeComment(n){n.range&&(this.focus(),this.setSelection(n.range.index,n.range.length,"silent"),this.format("comment",!1,"silent"),this.setSelection(0,0,"silent"))}removeImageComment(n){const s=this.getContents(),i=s.ops.findIndex(r=>{var a,l,c,u;return typeof r.insert=="string"&&r.attributes&&((a=r.attributes["image-comment"])==null?void 0:a.content)===n.content&&((l=r.attributes["image-comment"])==null?void 0:l.type)===n.type&&((c=r.attributes["image-comment"])==null?void 0:c.x)===n.x&&((u=r.attributes["image-comment"])==null?void 0:u.y)===n.y});let o=s.ops.reduce((r,a,l)=>l>i?r:a.insert&&typeof a.insert=="string"?r+a.insert.length:r+1,0);i!==-1&&(this.focus(),this.getContents(o,1).ops[0].insert!=="*"&&(o=o-1),this.setSelection(o,1,"silent"),this.format("image-comment",!1,"silent"),this.deleteText(o,1,"silent"),this.setSelection(0,0,"silent"))}deleteImage(n){const s=this.getContents(),i=s.ops.findIndex(r=>r.insert&&r.insert.image&&r.insert.image===n);let o=s.ops.reduce((r,a,l)=>l>i?r:a.insert&&typeof a.insert=="string"?r+a.insert.length:r+1,0);i!==-1&&(this.focus(),this.getContents(o,1).ops[0].insert!=="*"&&(o=o-1),this.setSelection(o,1,"silent"),this.deleteText(o,1,"silent"),this.setSelection(0,0,"silent"))}async promptFile(){return new Promise(n=>{const s=document.createElement("input");s.type="file",s.multiple=!1,s.accept=this.ALLOWED_MIME_TYPES.join(","),s.value="",s.onchange=()=>{var o;const i=((o=s.files)==null?void 0:o[0])||null;n(i)},s.click()})}async uploadFile(n){try{if(n.size>this.MAX_FILE_SIZE)throw new Error(`Файл слишком большой, максимальный размер файла ${Math.floor(this.MAX_FILE_SIZE/1024/1024)} МБ`);if(!this.ALLOWED_MIME_TYPES.includes(n.type))throw new Error("Недопустимый формат файла. Допустимые форматы: "+this.ALLOWED_MIME_TYPES.map(i=>i.split("/"[1])).join(", "));const{data:s}=await D.Services.Media.upload([n],void 0,{showLoader:!0});if(!s)throw new Error("Не удалось загрузить файл");if(s.length===0)throw new Error("Не удалось загрузить файл");return D.Constants.MEDIA_URL+"/"+s[0].src}catch(s){D.Services.UI.openErrorModal("Ошибка загрузки файла",s.message)}}onSelectionChange(){this.hasFocus()&&this.rerenderToolbar()}insertImg(n,s){s&&setTimeout(()=>{this.focus(),this.insertEmbed(n,"image",s,"user")},0)}}const kU=["id"],$U=["onClick","title"],CU=j({__name:"quill-toolbar",props:{visible:{type:Boolean},toolbar:{},id:{}},emits:["format"],setup(t){return(e,n)=>{const s=JI;return e.visible?(b(),$("div",{key:0,class:"quill-toolbar",id:`__quill_toolbox_${e.id}`},[(b(!0),$(ue,null,Be(e.toolbar,(i,o)=>(b(),$("div",{key:o,class:"quill-toolbar__group"},[(b(!0),$(ue,null,Be(i,r=>(b(),$("button",{key:r.type,class:Se(["quill-toolbar__button",{"quill-toolbar__button--active":r.active}]),onClick:()=>e.$emit("format",r),title:r.title},[r.type!=="color"?(b(),B(s,{key:0,name:r.icon},null,8,["name"])):(b(),$("span",{key:1,class:"quill-toolbar__button__color-dot",style:Qt({"background-color":String(r.value)})},null,4))],10,$U))),128))]))),128))],8,kU)):N("",!0)}}});const EU=J(CU,[["__scopeId","data-v-4edac11f"]]);let Bh;const TU=new Uint8Array(16);function AU(){if(!Bh&&(Bh=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Bh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Bh(TU)}const Wn=[];for(let t=0;t<256;++t)Wn.push((t+256).toString(16).slice(1));function MU(t,e=0){return Wn[t[e+0]]+Wn[t[e+1]]+Wn[t[e+2]]+Wn[t[e+3]]+"-"+Wn[t[e+4]]+Wn[t[e+5]]+"-"+Wn[t[e+6]]+Wn[t[e+7]]+"-"+Wn[t[e+8]]+Wn[t[e+9]]+"-"+Wn[t[e+10]]+Wn[t[e+11]]+Wn[t[e+12]]+Wn[t[e+13]]+Wn[t[e+14]]+Wn[t[e+15]]}const IU=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),cb={randomUUID:IU};function Ci(t,e,n){if(cb.randomUUID&&!e&&!t)return cb.randomUUID();t=t||{};const s=t.random||(t.rng||AU)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=s[i];return e}return MU(s)}const Tt={x:0,y:0,width:0,height:0,image:{x:0,y:0,width:0,height:0},started:!1,element:null},kl={element:null};function OU(t){const e=t.target,n=e.closest("img"),s=e.closest(".ql-image");if(!n)return;const i=n.getBoundingClientRect();Tt.x=t.clientX-i.left,Tt.y=t.clientY-i.top,Tt.width=0,Tt.height=0,Tt.element=s,Tt.started=!0,Tt.image={x:i.left,y:i.top,width:i.width,height:i.height},RU()}function DU(t){if(!Tt.started)return;const e=t.clientX-Tt.image.x,n=t.clientY-Tt.image.y;let s=e-Tt.x,i=n-Tt.y;s+Tt.x>Tt.image.width&&(s=Math.abs(Tt.image.width-Tt.x)),t.clientY>Tt.image.y+Tt.image.height&&(i=Math.abs(Tt.image.height-Tt.y)),Tt.width=s,Tt.height=i,J6()}function LU(t){if(!Tt.started)return null;Tt.started=!1;const e=Tt.element.querySelector("img");return{content:"",type:"logic-error",x:Tt.x,y:Tt.y,imageSize:{width:e.offsetWidth,height:e.offsetHeight},width:Tt.width,height:Tt.height,imageSrc:e.getAttribute("src"),image:e}}function ub(t){t.root.querySelectorAll(".ql-image-comment-selection").forEach(n=>{n.remove()})}function PU(t){t.root.querySelectorAll(".ql-image-comment").forEach(n=>{let s=n.nextElementSibling;const i={content:n.dataset.comment,type:n.dataset.type,x:parseFloat(n.dataset.x),y:parseFloat(n.dataset.y),width:parseFloat(n.dataset.width),height:parseFloat(n.dataset.height),imageSrc:n.dataset.imageSrc||"",imageSize:{width:parseFloat(n.dataset.imageWidth),height:parseFloat(n.dataset.imageHeight)}};for(;s&&!s.classList.contains("ql-image");)s=s.nextElementSibling;const o=document.createElement("div");o.classList.add("ql-image-comment-selection");const r=i.x/i.imageSize.width*100,a=i.y/i.imageSize.height*100,l=i.width/i.imageSize.width*100,c=i.height/i.imageSize.height*100;o.style.left=r+"%",o.style.top=a+"%",o.style.width=l+"%",o.style.height=c+"%",o.dataset.comment=i.content,o.dataset.type=i.type,o.dataset.width=i.width.toString(),o.dataset.height=i.height.toString(),s&&s.appendChild(o)})}function RU(){var e;const t=document.createElement("div");t.classList.add("ql-image-comment-selection"),kl.element=t,(e=Tt.element)==null||e.appendChild(t),J6()}function J6(){if(!kl.element)return;const t=Tt.x/Tt.image.width*100,e=Tt.y/Tt.image.height*100,n=Tt.width/Tt.image.width*100,s=Tt.height/Tt.image.height*100;kl.element.style.left=t+"%",kl.element.style.top=e+"%",kl.element.style.width=n+"%",kl.element.style.height=s+"%"}const VU={class:"quill-editor"},NU={key:0,class:"quill-snippets"},UU=["onClick"],BU=j({__name:"quill-editor",props:{modelValue:{},readonly:{type:Boolean},commentable:{type:Boolean},commentTypes:{},allowImageRotation:{type:Boolean},fontSize:{},cursorPosition:{},snippets:{}},emits:["update:modelValue","update:cursorPosition","commented"],setup(t,{emit:e}){const n=t,s=e;let i=null;const o=Y(null),r=Ci(),a=n.commentable?"commentable":n.readonly?"readonly":"full",l=q(()=>{switch(n.fontSize){case"small":return"0.8em";case"large":return"1.2em";default:return"1em"}}),c=Y({content:"",type:"logic-error",visible:{modal:!1,popup:!1},range:null,x:0,y:0}),u=Y({content:"",type:"logic-error",visible:{modal:!1,popup:!1},x:0,y:0,width:0,height:0,imageSrc:"",imageSize:{width:0,height:0},popupPosition:{x:0,y:0}}),d=Y({visible:!1,label:"",action:()=>{}});function h(){i==null||i.comment(c.value.range,{content:c.value.content,type:c.value.type}),c.value.visible.popup=!1,c.value.content="",s("commented",i.getContents())}function f(){i==null||i.removeComment(c.value),c.value.visible.modal=!1,s("commented",i.getContents())}function p(V){const R=i==null?void 0:i.getSelection(),[X]=(i==null?void 0:i.getLeaf((R==null?void 0:R.index)||0))||[];if(!X)return;const P=X.parent;let F=P.parent,Z=P.offset();for(;F;)Z+=F.offset(),F=F.parent;const Q={index:Z,length:P.length()||0},G=i==null?void 0:i.getBounds(Q.index,Q.length);c.value={...V,visible:{modal:!0,popup:!1},range:Q,x:(G==null?void 0:G.left)||0,y:(G==null?void 0:G.bottom)||0}}function v(V){if(!(V!=null&&V.length))return;const R=i==null?void 0:i.getBounds(V.index,V.length);u.value.visible={modal:!1,popup:!1},R&&(c.value={content:"",type:"logic-error",visible:{modal:!1,popup:!0},range:V,x:R.left,y:R.bottom})}function y(){i==null||i.commentImage(u.value),u.value.visible.popup=!1,u.value.content="",ub(i),s("commented",i.getContents())}function _(){i==null||i.removeImageComment(u.value),u.value.visible.modal=!1,s("commented",i.getContents())}function w(V){c.value.visible={modal:!1,popup:!1},u.value={...V,visible:{modal:!0,popup:!1}}}function x(V){if(!V)return;const{x:R,y:X,height:P,imageSrc:F,image:Z}=V,Q=Z==null?void 0:Z.closest(".ql-image");if(!Z||!Q||!F)return 0;const G=Z.offsetLeft+Q.offsetLeft,ie=Z.offsetTop+Q.offsetTop;u.value={...V,visible:{modal:!1,popup:!0},x:R,y:X,popupPosition:{x:R+G,y:X+ie+P-10}}}const k=Gt([[{type:"bold",value:!0,title:"Жирный",icon:"bold",active:!1},{type:"italic",value:!0,title:"Курсив",icon:"italic",active:!1},{type:"underline",value:!0,title:"Подчеркнутый",icon:"underline",active:!1},{type:"strike",value:!0,title:"Зачеркнутый",icon:"strike",active:!1}],[{type:"script",value:"sub",title:"Подстрочный",icon:"subscript",active:!1},{type:"script",value:"super",title:"Надстрочный",icon:"superscript",active:!1}],[{type:"link",value:"true",title:"Ссылка",icon:"link",active:!1,action:V=>{d.value.label="Введите URL ссылки",d.value.visible=!0,d.value.action=R=>(i==null||i.format("link",R),Promise.resolve())}},{type:"image",value:"NEVER",title:"Изображение",icon:"image",active:!1},{type:"video",value:"NEVER",title:"Видео",icon:"video",active:!1,action:V=>{d.value.label="Введите URL видео",d.value.visible=!0,d.value.action=R=>(R!=null&&R.length&&(i==null||i.insertEmbed(V,"video",R)),Promise.resolve())}}],[{type:"align",value:!1,title:"Выровнять по левому краю",icon:"align-left",active:!1},{type:"align",value:"center",title:"Выровнять по центру",icon:"align-center",active:!1},{type:"align",value:"right",title:"Выровнять по правому краю",icon:"align-right",active:!1},{type:"align",value:"justify",title:"Выровнять по ширине",icon:"align-justify",active:!1}],[{type:"header",value:1,title:"Большой заголовок",icon:"header",active:!1},{type:"header",value:2,title:"Маленький заголовок",icon:"header-2",active:!1},{type:"header",value:!1,title:"Обычный текст",icon:"clean",active:!1}],[{type:"list",value:"ordered",title:"Нумерованный список",icon:"list-ordered",active:!1},{type:"table",value:"NEVER",title:"Таблица",icon:"table",active:!1},{type:"table-insert-column",value:"NEVER",title:"Добавить ряд",icon:"table-insert-columns",active:!1},{type:"table-delete-column",value:"NEVER",title:"Удалить столбец",icon:"table-delete-columns",active:!1},{type:"table-insert-row",value:"NEVER",title:"Добавить столбец",icon:"table-insert-rows",active:!1},{type:"table-delete-row",value:"NEVER",title:"Удалить строку",icon:"table-delete-rows",active:!1}],[{type:"color",value:"var(--danger)",title:"Цвет текста",icon:"color",active:!1},{type:"color",value:"var(--warning)",title:"Цвет текста",icon:"color",active:!1},{type:"color",value:"var(--success)",title:"Цвет текста",icon:"color",active:!1},{type:"color",value:"var(--lila)",title:"Цвет текста",icon:"color",active:!1},{type:"color",value:"var(--primary)",title:"Цвет текста",icon:"color",active:!1}]]);function C(V){var P,F,Z;const R=V.target,X=R.className;if(X.includes(jl.className)){const Q=jl.value(R);p(Q);return}if(X.includes("delete-button")){const Q=(Z=(F=(P=R.parentNode)==null?void 0:P.parentNode)==null?void 0:F.querySelector("img"))==null?void 0:Z.src;if(!Q)return;i==null||i.deleteImage(Q),s("update:modelValue",i.getContents());return}if(X.includes("ql-image-comment-selection")){const Q=R.dataset.height?parseInt(R.dataset.height):0,G=R.dataset.width?parseInt(R.dataset.width):0,ie=R.dataset.comment,ge=R.dataset.type,ae=i.root.querySelectorAll(".ql-image-comment"),Te=Array.from(ae).find(qe=>parseInt(qe.dataset.width)===G&&parseInt(qe.dataset.height)===Q&&qe.dataset.comment===ie&&qe.dataset.type===ge);if(!Te)return;const We=xu.formats(Te);let Ke=Te.nextElementSibling;for(;Ke&&!Ke.classList.contains("ql-image");)Ke=Ke.nextElementSibling;const He=Ke.querySelector("img"),Ue={...We,visible:{modal:!1,popup:!1},popupPosition:{x:Ke.offsetLeft+((He==null?void 0:He.offsetLeft)||0)+We.x,y:Ke.offsetTop+((He==null?void 0:He.offsetTop)||0)+We.y+We.height-10}};w(Ue);return}}async function S(){return new Promise(V=>{i=new SU(o,n.modelValue,a,k),i.on("text-change",()=>{s("update:modelValue",i.getContents())}),i.on("selection-change",R=>{s("update:cursorPosition",(R==null?void 0:R.index)??0)}),a==="commentable"&&i.on("selection-change",v),V()})}ri(async()=>{await S(),O()});const A=new AbortController;n.commentable&&window.addEventListener("mouseup",V=>{x(LU())},{signal:A.signal}),yc(()=>A.abort()),Ld(()=>O());function O(){ub(i),PU(i)}function M(V){if(!i)return;const R=i.getSelection(!0),X=new je(V.ops);let P=new je(X);const F=P.ops||[];if(F.length>0){const Z=F[F.length-1];typeof Z.insert=="string"&&Z.insert.endsWith(`
`)&&(Z.insert=Z.insert.replace(/\n$/,""),Z.insert===""&&F.pop(),P=new je(F))}if(!R){const Z=i.getLength();i.updateContents(new je().retain(Z).concat(P)),i.setSelection(Z+P.length(),0);return}i.updateContents(new je().retain(R.index).concat(X)),i.setSelection(R.index+X.length(),0)}return(V,R)=>{var Q;const X=EU,P=ZI,F=FI,Z=II;return b(),$(ue,null,[m("div",VU,[E(X,{visible:g(a)==="full",toolbar:k,id:g(r),onFormat:R[0]||(R[0]=G=>{var ie;return(ie=g(i))==null?void 0:ie.toggleFormat(G.type,G.value,G.action)})},null,8,["visible","toolbar","id"]),E(P,{label:d.value.label,action:d.value.action,visible:d.value.visible,"onUpdate:visible":R[1]||(R[1]=G=>d.value.visible=G)},null,8,["label","action","visible"]),m("div",{class:Se(["quill-editor__content",{"quill-editor__content--readonly":V.readonly,"quill-editor__content--allow-image-rotation":V.allowImageRotation}]),style:Qt({fontSize:l.value})},[m("div",{ref_key:"container",ref:o,onBeforeinput:R[2]||(R[2]=()=>!V.commentable),onClick:R[3]||(R[3]=G=>C(G)),onMousedown:R[4]||(R[4]=G=>V.commentable?OU(G):null),onMousemove:R[5]||(R[5]=G=>V.commentable?DU(G):null)},null,544)],6),E(F,{modelValue:c.value,"onUpdate:modelValue":R[6]||(R[6]=G=>c.value=G),"comment-types":V.commentTypes,onSubmit:R[7]||(R[7]=G=>h())},null,8,["modelValue","comment-types"]),E(F,{modelValue:u.value,"onUpdate:modelValue":R[8]||(R[8]=G=>u.value=G),"comment-types":V.commentTypes,onSubmit:R[9]||(R[9]=G=>y())},null,8,["modelValue","comment-types"]),E(Z,{visible:c.value.visible.modal,"onUpdate:visible":R[10]||(R[10]=G=>c.value.visible.modal=G),"position-x":c.value.x,"position-y":c.value.y,comment:c.value,editable:g(a)==="commentable",onDelete:R[11]||(R[11]=G=>f())},null,8,["visible","position-x","position-y","comment","editable"]),E(Z,{visible:u.value.visible.modal,"onUpdate:visible":R[12]||(R[12]=G=>u.value.visible.modal=G),"position-x":u.value.popupPosition.x,"position-y":u.value.popupPosition.y,comment:u.value,editable:g(a)==="commentable",onDelete:R[13]||(R[13]=G=>_())},null,8,["visible","position-x","position-y","comment","editable"])]),(Q=n.snippets)!=null&&Q.length&&!n.readonly?(b(),$("div",NU,[(b(!0),$(ue,null,Be(n.snippets,G=>(b(),$("div",{key:G.id,class:"quill-snippets__snippet",onClick:ie=>M(G.content)},H(G.name),9,UU))),128))])):N("",!0)],64)}}});const Q6=J(BU,[["__scopeId","data-v-89c47050"]]),jU=j({__name:"rich-text-container",props:{content:{},commentable:{type:Boolean},commentTypes:{},fontSize:{},noPadding:{type:Boolean}},emits:["commented","custom-commented","custom-comment-deleted"],setup(t){const n=D.Services.UserSettings.Store();return(s,i)=>{const o=Q6;return b(),$("div",{class:Se(["rich-text-container",{"no-padding":s.noPadding}])},[E(o,{"model-value":s.content,readonly:!0,commentable:s.commentable,"comment-types":s.commentTypes,"allow-image-rotation":!1,"font-size":s.fontSize||g(n).fontSize,onCommented:i[0]||(i[0]=r=>s.$emit("commented",r)),onCustomCommented:i[1]||(i[1]=r=>s.$emit("custom-commented",r)),onCustomCommentDeleted:i[2]||(i[2]=r=>s.$emit("custom-comment-deleted",r))},null,8,["model-value","commentable","comment-types","font-size"])],2)}}});const ho=J(jU,[["__scopeId","data-v-d090b07f"]]),e9=t=>(Ie("data-v-038f1ea0"),t=t(),Oe(),t),zU={class:"favourite-task-card"},FU={class:"favourite-task-card__inner"},WU={class:"favourite-task-card__header"},HU={class:"favourite-task-card__header__title"},qU=e9(()=>m("span",null,"Задание из работы:",-1)),GU={class:"favourite-task-card__header__actions"},YU={class:"favourite-task-card__body"},KU={class:"favourite-task-card__body__task"},ZU={key:0,class:"favourite-task-card__body__hint"},XU={key:0,class:"favourite-task-card__body__hint__text"},JU={class:"favourite-task-card__body__hint__actions"},QU={key:0,class:"favourite-task-card__hidden"},eB=e9(()=>m("h3",{class:"favourite-task-card__hidden__title"},"Правильный ответ:",-1)),tB={class:"favourite-task-card__hidden__text"},nB={key:0,class:"favourite-task-card__hidden__title"},sB={key:1,class:"favourite-task-card__hidden__check-hint"},iB=j({__name:"favourite-task-card",props:{favouriteTask:{},isAnswerVisible:{type:Boolean}},emits:["delete"],setup(t){const e=Y(!1),n=Y(!1);return(s,i)=>{var u,d,h,f,p,v,y,_,w,x;const o=It,r=ho,a=xt,l=zd,c=it("auto-animate");return b(),$(ue,null,[$e((b(),$("div",zU,[m("div",FU,[m("div",WU,[m("div",HU,[qU,m("h3",null,H((d=(u=s.favouriteTask.task)==null?void 0:u.work)==null?void 0:d.name),1)]),m("div",GU,[m("span",{class:"favourite-task-card__header__actions__delete",onClick:i[0]||(i[0]=k=>n.value=!0)},[E(o,{name:"delete"}),W(" Удалить карточку ")])])]),m("div",YU,[m("div",KU,[E(r,{content:(h=s.favouriteTask.task)==null?void 0:h.content},null,8,["content"])]),(f=s.favouriteTask.task)!=null&&f.solveHint&&!s.isAnswerVisible?$e((b(),$("div",ZU,[e.value?(b(),$("div",XU,[E(r,{content:(p=s.favouriteTask.task)==null?void 0:p.solveHint},null,8,["content"])])):N("",!0),m("div",JU,[E(a,{onClick:i[1]||(i[1]=k=>e.value=!e.value),alignment:"center",design:"inline"},{default:L(()=>[W(H(e.value?"Скрыть":"Показать")+" подсказку ",1)]),_:1})])])),[[c]]):N("",!0)])]),s.isAnswerVisible?(b(),$("div",QU,[eB,m("p",tB,H((y=(v=s.favouriteTask.task)==null?void 0:v.rightAnswer)==null?void 0:y.split("|").join(", или ")),1),(_=s.favouriteTask.task)!=null&&_.checkHint?(b(),$("h3",nB," Пояснение: ")):N("",!0),(w=s.favouriteTask.task)!=null&&w.checkHint?(b(),$("p",sB,[E(r,{content:(x=s.favouriteTask.task)==null?void 0:x.checkHint},null,8,["content"])])):N("",!0)])):N("",!0)])),[[c]]),E(l,{visible:n.value,"onUpdate:visible":i[2]||(i[2]=k=>n.value=k),onConfirm:i[3]||(i[3]=k=>s.$emit("delete"))},{title:L(()=>[W(" Удаление карточки ")]),text:L(()=>[W(" Вы уверены, что хотите удалить карточку с заданием? ")]),_:1},8,["visible"])],64)}}});const oB=J(iB,[["__scopeId","data-v-038f1ea0"]]);function t9(t,e){var n;if((n=t.rightAnswer)!=null&&n.includes("|")){const i=t.rightAnswer.split("|").map(o=>{switch(t.type){case"word":return db(e,o,t.highestScore,t.checkingStrategy);default:return 0}});return Math.max(...i)}switch(t.type){case"word":return db(e,t.rightAnswer??void 0,t.highestScore,t.checkingStrategy);default:throw new Error(`Unsupported task type: ${t.type}`)}}function db(t,e,n,s){if(!t||!e)return 0;switch(t=t.toLowerCase().replaceAll(" ",""),e=e.toLowerCase().replaceAll(" ",""),s){case"type1":return rB(t,e,n);case"type2":return aB(t,e,n);case"type3":return lB(t,e,n);case"type4":default:return cB(t,e,n)}}function rB(t,e,n){return t.trim().toLowerCase()===e.trim().toLowerCase()?n:0}function aB(t,e,n){e=e.trim().toLowerCase(),t=t.trim().toLowerCase().padEnd(e.length," ");let s=n;for(let i=0;i<t.length;i++)t[i]!==e[i]&&s--;return s<0?0:s}function lB(t,e,n){e=e.trim().toLowerCase(),t=t.trim().toLowerCase();let s=n;for(let o=0;o<e.length;o++)t.includes(e[o])||s--;let i=0;if(e.length<t.length){for(let o=0;o<t.length;o++)e.includes(t[o])||i++;if(t.length-e.length!==i)return 0}return s=s-i,s<0?0:s}function cB(t,e,n){e=e.trim().toLowerCase(),t=t.trim().toLowerCase(),n-=Math.abs(t.length-e.length),t=t.padEnd(e.length," ");let s=0;for(let i=0;i<t.length;i++)t[i]!==e[i]&&s++;return s===0?n:s<=2?n-1:0}const uB=Kt("assigned-works-module:favorite-tasks",()=>{const t=D.Services.UI,e=D.Services.AssignedWork,n=Y({state:"form",subjectId:null,cardsCount:10,deleteCorrect:!0,currentAnswer:"",currentFavouriteTask:null,previousFavouriteTask:null,nextFavouriteTask:null,favouriteTasks:[],results:new Map,toDeleteIds:new Set}),s=Y([]),i=q(()=>Array.from(n.value.results.values()).map(_=>_.isCorrect).filter(Boolean).length),o=q(()=>{const _=i.value,w=r.value;return w?Math.round(_/w*100):0}),r=q(()=>n.value.favouriteTasks.length),a=q(()=>{var w;const _=(w=n.value.currentFavouriteTask)==null?void 0:w.id;return _?n.value.results.has(_):!1});async function l(){var _;if(!n.value.subjectId){s.value.push("Не выбран предмет");return}s.value=[];try{const w=await e.getFavoriteTasks({limit:n.value.cardsCount,subjectId:n.value.subjectId},{showLoader:!0});if(!((_=w.data)!=null&&_.length)){t.openErrorModal("Не найдено сохраненных заданий");return}n.value.favouriteTasks=w.data}catch(w){t.openErrorModal("Ошибка при получении сохраненных заданий",w.message)}}async function c(){await l(),!(s.value.length||!n.value.favouriteTasks.length)&&(n.value.state="quiz",n.value.currentFavouriteTask=n.value.favouriteTasks[0],n.value.nextFavouriteTask=n.value.favouriteTasks.at(1)||n.value.favouriteTasks.at(0),n.value.previousFavouriteTask=n.value.favouriteTasks.at(-1))}function u(){var k;const _=n.value.currentFavouriteTask,w=n.value.previousFavouriteTask;if(!_||!w)return;n.value.currentAnswer=((k=n.value.results.get(w.id))==null?void 0:k.answer)||"",n.value.nextFavouriteTask=_,n.value.currentFavouriteTask=w;const x=n.value.favouriteTasks.indexOf(w);n.value.previousFavouriteTask=n.value.favouriteTasks.at(x-1)||n.value.favouriteTasks.at(-1)}function d(){var k;const _=n.value.currentFavouriteTask,w=n.value.nextFavouriteTask;if(!_||!w)return;n.value.currentAnswer=((k=n.value.results.get(w.id))==null?void 0:k.answer)||"",n.value.previousFavouriteTask=_,n.value.currentFavouriteTask=w;const x=n.value.favouriteTasks.indexOf(w);n.value.nextFavouriteTask=n.value.favouriteTasks.at(x+1)||n.value.favouriteTasks.at(0)}function h(){var S,A;const _=(S=n.value.currentFavouriteTask)==null?void 0:S.task,w=(A=n.value.currentFavouriteTask)==null?void 0:A.id,x=n.value.currentAnswer.trim();if(!x||!_||!w)return;const C=t9(_,x)===_.highestScore;C&&n.value.deleteCorrect&&n.value.toDeleteIds.add(_.id),n.value.results.set(w,{isCorrect:C,answer:x})}function f(){n.value.results.clear(),n.value.toDeleteIds.clear(),n.value.currentAnswer="",n.value.favouriteTasks.sort(()=>Math.random()-.5),n.value.state="quiz"}function p(){n.value.results.clear(),n.value.toDeleteIds.clear(),n.value.currentAnswer="",n.value.state="form"}async function v(){n.value.state="result",n.value.toDeleteIds.size&&n.value.deleteCorrect&&await e.removeTasksFromFavourites(Array.from(n.value.toDeleteIds),{showLoader:!0}),n.value.toDeleteIds.clear()}async function y(){var w,x;const _=(x=(w=n.value.currentFavouriteTask)==null?void 0:w.task)==null?void 0:x.id;if(_)try{if(await e.removeTaskFromFavourites(_,{showLoader:!0}),r.value===1){n.value.favouriteTasks=[],n.value.state="form";return}d(),n.value.favouriteTasks=n.value.favouriteTasks.filter(k=>{var C;return((C=k.task)==null?void 0:C.id)!==_})}catch(k){t.openErrorModal("Ошибка при удалении карточки",k.message)}}return{quizData:n,errors:s,correctCount:i,correctPercentage:o,totalCount:r,startQuiz:c,endQuiz:v,previousCard:u,nextCard:d,submitAnswer:h,isCurrentTaskSolved:a,deleteCurrentCard:y,restartQuiz:f,exitQuiz:p}}),o0=t=>(Ie("data-v-2f46feed"),t=t(),Oe(),t),dB={class:"favourite-task-view"},hB=o0(()=>m("div",{class:"favourite-task-view__info"},[m("p",null," В этом разделе вы можете просматривать сохраненные задания в виде карточек, как в Quizlet. Для того чтобы сохранить задание, нажмите на звездочку рядом с ним, когда решаете работу. Пока это работает только с заданиями из тестов, которые проверяются автоматически. ")],-1)),fB={key:0,class:"favourite-task-view__form"},pB=o0(()=>m("h3",{class:"favourite-task-view__form__header"},"Тренировка по карточкам",-1)),mB={class:"row"},gB={class:"col-md-4"},_B={class:"form-group"},vB={class:"col-md-4"},yB={class:"form-group"},bB={class:"col-md-4"},wB={class:"form-group checkbox"},xB={class:"favourite-task-view__form__errors"},SB={class:"favourite-task-view__form__actions"},kB={key:1,class:"favourite-task-view__quiz"},$B={key:1,class:"favourite-task-view__quiz__answer-form"},CB={class:"favourite-task-view__quiz__actions"},EB={class:"favourite-task-view__quiz__statistics"},TB={key:2,class:"favourite-task-view__result"},AB=o0(()=>m("h3",{class:"favourite-task-view__result__title"},"Ваш результат",-1)),MB={class:"favourite-task-view__result__text"},IB={class:"favourite-task-view__result__actions"},OB=j({__name:"favourite-task-view",setup(t){const e=uB();return(n,s)=>{const i=gI,o=us,r=Ai,a=Qo,l=xt,c=zt;return b(),$("div",dB,[hB,g(e).quizData.state==="form"?(b(),$("div",fB,[pB,m("div",mB,[m("div",gB,[m("div",_B,[E(i,{label:"Предмет",modelValue:g(e).quizData.subjectId,"onUpdate:modelValue":s[0]||(s[0]=u=>g(e).quizData.subjectId=u)},null,8,["modelValue"])])]),m("div",vB,[m("div",yB,[E(o,{label:"Количество карточек",modelValue:g(e).quizData.cardsCount,"onUpdate:modelValue":s[1]||(s[1]=u=>g(e).quizData.cardsCount=u),options:[{value:10,label:"10"},{value:25,label:"25"},{value:50,label:"50"}]},null,8,["modelValue"])])]),m("div",bB,[m("div",wB,[E(r,{label:"Удалять карточку если ответ правильный",modelValue:g(e).quizData.deleteCorrect,"onUpdate:modelValue":s[2]||(s[2]=u=>g(e).quizData.deleteCorrect=u)},null,8,["modelValue"])])])]),m("div",xB,[g(e).errors.length?(b(),B(a,{key:0},{default:L(()=>[W(H(g(e).errors.join(", ")),1)]),_:1})):N("",!0)]),m("div",SB,[E(l,{onClick:s[3]||(s[3]=u=>g(e).startQuiz()),alignment:"right",design:"primary"},{default:L(()=>[W(" Начать ")]),_:1})])])):g(e).quizData.state==="quiz"?(b(),$("div",kB,[g(e).quizData.currentFavouriteTask?(b(),$("div",{class:"favourite-task-view__quiz__card",key:g(e).quizData.currentFavouriteTask.id},[E(oB,{"favourite-task":g(e).quizData.currentFavouriteTask,"is-answer-visible":g(e).isCurrentTaskSolved,onDelete:s[4]||(s[4]=u=>g(e).deleteCurrentCard())},null,8,["favourite-task","is-answer-visible"])])):N("",!0),g(e).quizData.currentFavouriteTask?(b(),$("div",$B,[E(c,{type:"text",label:"Ответ:",modelValue:g(e).quizData.currentAnswer,"onUpdate:modelValue":s[5]||(s[5]=u=>g(e).quizData.currentAnswer=u),readonly:g(e).isCurrentTaskSolved,validators:[u=>u.trim().length>0||"Введите ответ"]},null,8,["modelValue","readonly","validators"])])):N("",!0),m("div",CB,[E(l,{onClick:s[6]||(s[6]=u=>g(e).previousCard()),alignment:"stretch",design:"secondary"},{default:L(()=>[W(" Назад ")]),_:1}),g(e).isCurrentTaskSolved?(b(),B(l,{key:1,onClick:s[8]||(s[8]=u=>g(e).nextCard()),alignment:"stretch",design:"primary"},{default:L(()=>[W(" Дальше ")]),_:1})):(b(),B(l,{key:0,onClick:s[7]||(s[7]=u=>g(e).submitAnswer()),alignment:"stretch",design:"primary"},{default:L(()=>[W(" Ответить ")]),_:1})),E(l,{onClick:s[9]||(s[9]=u=>g(e).endQuiz()),alignment:"stretch",design:"danger"},{default:L(()=>[W(" Закончить ")]),_:1})]),m("div",EB,[m("p",null,[W(" Всего карточек: "),m("b",null,H(g(e).totalCount),1)]),m("p",null,[W(" Правильных ответов: "),m("b",null,H(g(e).correctCount),1)])])])):g(e).quizData.state==="result"?(b(),$("div",TB,[AB,m("p",MB,[W(" Правильных ответов: "),m("b",null,H(g(e).correctCount),1),W(" ("+H(g(e).correctPercentage)+"%) ",1)]),m("div",IB,[E(l,{onClick:s[10]||(s[10]=u=>g(e).restartQuiz()),design:"primary",alignment:"center"},{default:L(()=>[W(" Попробовать еще раз ")]),_:1}),E(l,{class:"favourite-task-view__result__actions__small",onClick:s[11]||(s[11]=u=>g(e).exitQuiz()),design:"inline",alignment:"center"},{default:L(()=>[W(" Вернуться в меню ")]),_:1})])])):N("",!0)])}}});const DB=J(OB,[["__scopeId","data-v-2f46feed"]]);function rm(t){return{name:"Предмет",type:"arr",key:t?`${t}.subjectId`:"subjectId",arrayOptions:async()=>(await D.Services.Subject.getSubjects()).data.map(n=>({value:n.id,label:n.name}))}}const LB={class:"index-works-view"},PB={class:"index-works-view__header"},RB={class:"index-works-view__header__search"},VB={class:"index-works-view__filters"},NB={class:"index-works-view__selected-actions"},UB={class:"index-works-view__table"},BB={class:"index-works-view__pagination"},jB={class:"index-works-view__header"},zB={class:"index-works-view__header__search"},FB={class:"index-works-view__table"},WB={class:"index-works-view__pagination"},HB={class:"index-works-view__header"},qB={class:"index-works-view__header__search"},GB={class:"index-works-view__table"},YB={class:"index-works-view__pagination"},KB={class:"index-works-view__header"},ZB={class:"index-works-view__header__search"},XB={class:"index-works-view__table"},JB={class:"index-works-view__pagination"},QB={class:"index-works-view__header"},ej={class:"index-works-view__header__search"},tj={class:"index-works-view__selected-actions"},nj={class:"index-works-view__table"},sj={class:"index-works-view__pagination"},ij=j({__name:"index-view",setup(t){const e=Mv();ys("Мои работы");const n=[{name:"Тип работы",type:"arr",key:"work.type",arrayOptions:[{label:"Тест",value:"test"},{label:"Мини-зачет",value:"mini-test"},{label:"Вторая часть",value:"second-part"},{label:"Пробник",value:"trial-work"},{label:"Фраза",value:"phrase"}]},rm("work")];return(s,i)=>{const o=kn,r=Bd,a=bn,l=Jo;return b(),$("div",LB,[E(l,{titles:["Все","Нерешенные","Непроверенные","Проверенные","Архивированные",g(D).Context.roleIs(["student"])?"[new]Карточки заданий":""],"tab-index":g(e).currentTabIndex,"onUpdate:tabIndex":i[15]||(i[15]=c=>g(e).currentTabIndex=c)},{"tab-0":L(()=>[m("div",PB,[m("div",RB,[E(o,{modelValue:g(e).allSearch.pagination.search,"onUpdate:modelValue":i[0]||(i[0]=c=>g(e).allSearch.pagination.search=c),"is-loading":g(e).allSearch.isListLoading},null,8,["modelValue","is-loading"])])]),m("div",VB,[E(r,{pagination:g(e).allSearch.pagination,"onUpdate:pagination":i[1]||(i[1]=c=>g(e).allSearch.pagination=c),filters:n,"is-loading":g(e).allSearch.isListLoading},null,8,["pagination","is-loading"])]),m("div",NB,[E(KM,{"selected-assigned-works":g(e).allSearchSelectedWorks,onDelete:i[2]||(i[2]=c=>g(e).deleteWorks(c)),onSendToRevision:i[3]||(i[3]=c=>g(e).sendWorksToRevision(c))},null,8,["selected-assigned-works"])]),m("div",UB,[E(Nc,{works:g(e).allSearch.results,loading:g(e).allSearch.isListLoading,onSelect:i[4]||(i[4]=c=>g(e).allSearchChecklist=c),editable:""},null,8,["works","loading"])]),m("div",BB,[E(a,{page:g(e).allSearch.pagination.page,"onUpdate:page":i[5]||(i[5]=c=>g(e).allSearch.pagination.page=c),total:g(e).allSearch.resultsMeta.total,limit:g(e).allSearch.pagination.limit},null,8,["page","total","limit"])])]),"tab-1":L(()=>[m("div",jB,[m("div",zB,[E(o,{modelValue:g(e).notSolvedSearch.pagination.search,"onUpdate:modelValue":i[6]||(i[6]=c=>g(e).notSolvedSearch.pagination.search=c),"is-loading":g(e).notSolvedSearch.isListLoading},null,8,["modelValue","is-loading"])])]),m("div",FB,[E(Nc,{works:g(e).notSolvedSearch.results,loading:g(e).notSolvedSearch.isListLoading},null,8,["works","loading"])]),m("div",WB,[E(a,{page:g(e).notSolvedSearch.pagination.page,"onUpdate:page":i[7]||(i[7]=c=>g(e).notSolvedSearch.pagination.page=c),total:g(e).notSolvedSearch.resultsMeta.total,limit:g(e).notSolvedSearch.pagination.limit},null,8,["page","total","limit"])])]),"tab-2":L(()=>[m("div",HB,[m("div",qB,[E(o,{modelValue:g(e).notCheckedSearch.pagination.search,"onUpdate:modelValue":i[8]||(i[8]=c=>g(e).notCheckedSearch.pagination.search=c),"is-loading":g(e).notCheckedSearch.isListLoading},null,8,["modelValue","is-loading"])])]),m("div",GB,[E(Nc,{works:g(e).notCheckedSearch.results,loading:g(e).notCheckedSearch.isListLoading},null,8,["works","loading"])]),m("div",YB,[E(a,{page:g(e).notCheckedSearch.pagination.page,"onUpdate:page":i[9]||(i[9]=c=>g(e).notCheckedSearch.pagination.page=c),total:g(e).notCheckedSearch.resultsMeta.total,limit:g(e).notCheckedSearch.pagination.limit},null,8,["page","total","limit"])])]),"tab-3":L(()=>[m("div",KB,[m("div",ZB,[E(o,{modelValue:g(e).checkedSearch.pagination.search,"onUpdate:modelValue":i[10]||(i[10]=c=>g(e).checkedSearch.pagination.search=c),"is-loading":g(e).checkedSearch.isListLoading},null,8,["modelValue","is-loading"])])]),m("div",XB,[E(Nc,{works:g(e).checkedSearch.results,loading:g(e).checkedSearch.isListLoading},null,8,["works","loading"])]),m("div",JB,[E(a,{page:g(e).checkedSearch.pagination.page,"onUpdate:page":i[11]||(i[11]=c=>g(e).checkedSearch.pagination.page=c),total:g(e).checkedSearch.resultsMeta.total,limit:g(e).checkedSearch.pagination.limit},null,8,["page","total","limit"])])]),"tab-4":L(()=>[m("div",QB,[m("div",ej,[E(o,{modelValue:g(e).archivedSearch.pagination.search,"onUpdate:modelValue":i[12]||(i[12]=c=>g(e).archivedSearch.pagination.search=c),"is-loading":g(e).archivedSearch.isListLoading},null,8,["modelValue","is-loading"])])]),m("div",tj,[E(iI,{"selected-assigned-works":g(e).archivedSearchSelectedWorks},null,8,["selected-assigned-works"])]),m("div",nj,[E(Nc,{works:g(e).archivedSearch.results,loading:g(e).archivedSearch.isListLoading,onSelect:i[13]||(i[13]=c=>g(e).archivedSearchChecklist=c),editable:""},null,8,["works","loading"])]),m("div",sj,[E(a,{page:g(e).archivedSearch.pagination.page,"onUpdate:page":i[14]||(i[14]=c=>g(e).archivedSearch.pagination.page=c),total:g(e).archivedSearch.resultsMeta.total,limit:g(e).archivedSearch.pagination.limit},null,8,["page","total","limit"])])]),"tab-5":L(()=>[E(DB)]),_:1},8,["titles","tab-index"])])}}});const oj=J(ij,[["__scopeId","data-v-564a1cbf"]]),rj={class:"sidebar-layout"},aj={class:"sidebar-layout__sidebar"},lj={class:"sidebar-layout__sidebar__hide"},cj={class:"sidebar-layout__content"},uj=j({__name:"the-sidebar-layout",setup(t){const e=Y(!0);function n(){window.innerWidth>768&&(e.value=!0)}return ri(()=>{n(),window.addEventListener("resize",n)}),Zo(()=>{window.removeEventListener("resize",n)}),(s,i)=>{const o=it("auto-animate");return b(),$("div",rj,[$e((b(),$("div",aj,[m("div",lj,[e.value?(b(),$("span",{key:0,onClick:i[0]||(i[0]=r=>e.value=!1)}," Скрыть ")):(b(),$("span",{key:1,onClick:i[1]||(i[1]=r=>e.value=!0)}," Открыть "))]),e.value?lt(s.$slots,"sidebar",{key:0},void 0,!0):N("",!0)])),[[o]]),m("div",cj,[lt(s.$slots,"content",{},void 0,!0)])])}}});const fo=J(uj,[["__scopeId","data-v-0c0cf50d"]]),dj={class:"assigned-work-solve-solve-status__text"},hj=j({__name:"assigned-work-check-status",props:{status:{}},setup(t){const e=t,n=q(()=>{switch(e.status){case"not-checked":return"Не проверено";case"in-progress":return"В процессе";case"checked-in-deadline":return"Проверено в дедлайн";case"checked-after-deadline":return"Проверено после дедлайна";case"checked-automatically":return"Проверено автоматически";default:return"неизвестно"}});return(s,i)=>(b(),$("div",{class:Se(["assigned-work-solve-status",{"assigned-work-solve-status--not-checked":e.status==="not-checked","assigned-work-solve-status--in-progress":e.status==="in-progress","assigned-work-solve-status--checked-in-deadline":e.status==="checked-in-deadline","assigned-work-solve-status--checked-after-deadline":e.status==="checked-after-deadline","assigned-work-solve-status--checked-automatically":e.status==="checked-automatically"}])},[m("span",dj,H(n.value),1)],2))}});const fj=J(hj,[["__scopeId","data-v-7a9b5a18"]]),pj={class:"assigned-work-solve-solve-status__text"},mj=j({__name:"assigned-work-solve-status",props:{status:{}},setup(t){const e=t,n=q(()=>{switch(e.status){case"not-started":return"Не начато";case"in-progress":return"В процессе";case"made-in-deadline":return"Сдано в дедлайн";case"made-after-deadline":return"Сдано после дедлайна";default:return"неизвестно"}});return(s,i)=>(b(),$("div",{class:Se(["assigned-work-solve-status",{"assigned-work-solve-status--not-started":e.status==="not-started","assigned-work-solve-status--in-progress":e.status==="in-progress","assigned-work-solve-status--made-in-deadline":e.status==="made-in-deadline","assigned-work-solve-status--made-after-deadline":e.status==="made-after-deadline"}])},[m("span",pj,H(n.value),1)],2))}});const gj=J(mj,[["__scopeId","data-v-c9962da1"]]);function La(t){if(!t||t.ops.length===0)return!0;for(let e=0;e<t.ops.length;e++)if(t.ops[e].insert instanceof Object||t.ops[e].insert.trim()!=="")return!1;return!0}function Ds(){return{ops:[{insert:`
`}]}}function _j(t,e=5){return t.ops.length<=e?t:{ops:[...t.ops.slice(0,e).filter(s=>{var i;return((i=s.insert)==null?void 0:i.image)===void 0}),{insert:`
...`}]}}function p_(t,e){return JSON.stringify(t||{})===JSON.stringify(e||{})}function n9(t){return t==="essay"||t==="final-essay"||t==="dictation"}function hb(t){return Object.values(t).reduce((e,n)=>e+n,0)}function s9(t){return t==="word"}function vj(t,e,n){const s=e.answers.find(o=>o.taskId===t.id);if((!t.isCheckOneByOneEnabled||!(s!=null&&s.isSubmitted))&&(n==="solve"||!yj(e)||D.Context.roleIs(["admin","teacher","student","assistant"])&&!nd(e)))return null;const i=e.comments.find(o=>o.taskId===t.id);return i?!t.isCheckOneByOneEnabled&&!nd(e)&&D.Context.roleIs(["admin","teacher","student","assistant"])?null:i.score===0?"error":i.score===t.highestScore?"success":"warning":t.type!=="text"?"error":null}function nd(t){return t.checkStatus==="checked-in-deadline"||t.checkStatus==="checked-after-deadline"||t.checkStatus==="checked-automatically"}function yj(t){return t.solveStatus==="made-in-deadline"||t.solveStatus==="made-after-deadline"}function bj(t,e){return t.filter(n=>!(La(n.content)&&!n.word)).find(n=>{const s=e[n.id];return!s||!p_(s.content,n.content)||s.word!==n.word||s.isSubmitted!==n.isSubmitted})||null}function wj(t,e){return t.filter(n=>!La(n.content)||n.score>0).find(n=>{const s=e[n.id];return JSON.stringify(n)!==JSON.stringify(s)})||null}function sd(t,e=!0){return e&&window.structuredClone&&typeof window.structuredClone=="function"?window.structuredClone(t||{}):JSON.parse(JSON.stringify(t||{}))}function gn(t){switch(t){case"answer":return xj();case"comment":return Sj();case"chapter":return kj();case"material":return $j();case"course":return Cj();case"subject":return Ej();case"poll":return Tj();case"task":return Aj();case"course-assignment":return Mj();case"user-settings":return Ij();case"table":return Oj();default:return{}}}function xj(){return{slug:Ci(),content:Ds(),word:"",taskId:"",createdAt:new Date,updatedAt:new Date}}function Sj(){return{slug:Ci(),content:Ds(),score:0,taskId:"",detailedScore:{},createdAt:new Date,updatedAt:new Date}}function kj(){return{slug:Ci(),name:"",courseId:"",order:0,materials:[gn("material")],isActive:!1,createdAt:new Date,updatedAt:new Date}}function $j(){return{slug:Ci(),name:"",description:"",content:Ds(),order:0,files:[],isActive:!1,workSolveDeadline:null,workCheckDeadline:null,activateAt:null,isWorkAvailable:!0,createdAt:new Date,updatedAt:new Date,videos:[]}}function Cj(){return{slug:Ci(),name:"",description:"",images:[],subject:null,authors:[],editors:[],chapters:[],createdAt:new Date,updatedAt:new Date}}function Ej(){return{name:"",color:""}}function Tj(){return{title:"",description:"",canSeeResults:["teacher"],canVote:["student"],questions:[],requireAuth:!0,stopAt:new Date,isStopped:!1,createdAt:new Date,updatedAt:new Date}}function Aj(){return{slug:Ci(),order:0,rightAnswer:"",content:Ds(),highestScore:1,type:"word",isAnswerVisibleBeforeCheck:!1,isCheckOneByOneEnabled:!1,checkingStrategy:"type1"}}function Mj(){return{courseId:"",studentId:"",assignerId:"",isArchived:!1,createdAt:new Date}}function Ij(){return{backgroundImage:null,fontSize:"medium"}}function Oj(){return{title:"",cells:[]}}const vs=Kt("assigned-works-module:assigned-work",()=>{const t=D.Services.AssignedWork,e=D.Services.UI,n=$n(),s=Ws(),i=q(()=>n.params.mode),o=Y(!1),r=Y(""),a=Gt({visible:!1,onlyFalse:!1}),l=Y(!1),c=q(()=>n.params.workId),u=Y(null);async function d(){var G,ie,ge,ae,Te,We,Ke;try{const He=await t.getAssignedWork(c.value,{showLoader:!0});if(u.value=He.data,i.value==="solve"&&["made-in-deadline","made-after-deadline"].includes(((G=u.value)==null?void 0:G.solveStatus)||""))throw new Error("Работа уже сдана и не может быть изменена");if(i.value==="check"&&["not-started","in-progress"].includes(((ie=u.value)==null?void 0:ie.solveStatus)||""))throw new Error("Работа еще не сдана и не может быть проверена");if(i.value==="check"&&["checked-in-deadline","checked-after-deadline"].includes(((ge=u.value)==null?void 0:ge.checkStatus)||""))throw new Error("Работа уже проверена и не может быть изменена");i.value!=="read"&&D.Context.roleIs(["mentor","student"])&&(M.lastSaved.mentorComment=((ae=He.data)==null?void 0:ae.mentorComment)||null,M.lastSaved.studentComment=((Te=He.data)==null?void 0:Te.studentComment)||null,M.lastSaved.answers=((We=He.data)==null?void 0:We.answers.reduce((Ue,qe)=>(Ue[qe.id]=sd(qe),Ue),{}))||{},M.lastSaved.comments=((Ke=He.data)==null?void 0:Ke.comments.reduce((Ue,qe)=>(Ue[qe.id]=sd(qe),Ue),{}))||{},M.enable())}catch(He){e.openErrorModal("Ошибка",(He==null?void 0:He.status)===404?"Работа не найдена. Возможно, работа была удалена и остался только этот экземпляр":He.message),M.reset(),u.value=null}}const h=q(()=>`/assigned-works/${c.value}/${i.value}`),f=q(()=>n.params.taskSlug),p=q(()=>x(f.value)||null),v=q(()=>{if(!u.value)return{value:0,of:0,percentage:0};if(i.value==="check"){const ae=u.value.comments.reduce((Ke,He)=>Ke+(He.score||0),0),Te=u.value.maxScore,We=Number(Te===0?0:(ae/Te*100).toFixed(2));return{value:ae,of:Te,percentage:We}}const G=u.value.score===null?0:u.value.score,ie=u.value.maxScore,ge=Number(u.value.score===0?0:(G/ie*100).toFixed(2));return{value:G,of:ie,percentage:ge}}),y=q(()=>{var ge;const G=u.value.work.tasks.findIndex(ae=>ae.slug===f.value);if(G===u.value.work.tasks.length-1)return"";const ie=(ge=u.value.work.tasks[G+1])==null?void 0:ge.slug;return h.value+"/"+ie}),_=q(()=>{var ge;const G=u.value.work.tasks.findIndex(ae=>ae.slug===f.value);if(G===0)return"";const ie=(ge=u.value.work.tasks[G-1])==null?void 0:ge.slug;return h.value+"/"+ie});function w(G){var ie,ge;return(ge=(ie=u.value)==null?void 0:ie.work)==null?void 0:ge.tasks.find(ae=>ae.id===G)}function x(G){var ie,ge;return(ge=(ie=u.value)==null?void 0:ie.work)==null?void 0:ge.tasks.find(ae=>ae.slug===G)}function k(G){var ge;if(i.value==="read"||!u.value||!((ge=u.value)!=null&&ge.answers))return!1;const ie=u.value.answers.find(ae=>ae.taskId===G.id);if(!ie)return!1;switch(G.type){case"word":return!!(ie.word&&ie.word.trim().length>0);case"text":case"essay":case"final-essay":case"dictation":return!!(ie.content&&!La(ie.content))}}function C(){var ie;const G=(ie=u.value)==null?void 0:ie.answers.find(ge=>{var ae;return ge.taskId===((ae=p.value)==null?void 0:ae.id)});return(G==null?void 0:G.isSubmitted)===!0}function S(G){return u.value?vj(G,u.value,i.value):null}function A(){if(!u.value||!p.value||i.value!=="solve")return;let G=u.value.answers.find(ge=>ge.taskId===p.value.id);if(G||(G=gn("answer"),G.taskId=p.value.id),G.isSubmitted=!G.isSubmitted,!G.isSubmitted){u.value.comments=u.value.comments.filter(ge=>ge.taskId!==p.value.id);return}let ie=u.value.comments.find(ge=>ge.taskId===p.value.id);ie||(ie={...gn("comment"),taskId:p.value.id}),ie.score=t9(p.value,G.word||""),u.value.comments=[...u.value.comments.filter(ge=>ge.taskId!==p.value.id),ie]}async function O(){var ge,ae;if(!u.value)return;const G=((ge=u.value.work)==null?void 0:ge.tasks)||[];if(i.value==="solve"&&!G.every(Te=>k(Te))?r.value="Вы не ответили на все вопросы":r.value="",!o.value){o.value=!0;return}const ie=[{label:"Вернуться к списку работ",design:"secondary",handler:()=>{window.location.href="/assigned-works"}}];(ae=u.value.work)!=null&&ae.tasks.every(Te=>s9(Te.type))&&ie.unshift({label:"Посмотреть результат",design:"primary",handler:()=>{window.location.href=`/assigned-works/${c.value}/read`}});try{i.value==="solve"?(await t.solveAssignedWork(u.value.id,{answers:u.value.answers,studentComment:u.value.studentComment||null},{showLoader:!0}),e.openSuccessModal("Работа успешно сдана!","Если работа без открытых вопросов, она будет проверена автоматически и Вы можете просмотреть результат сразу. В случае работ с хотя бы одним открытым вопросом требуется проверка куратора",ie)):i.value==="check"&&(await t.checkAssignedWork(u.value.id,{answers:u.value.answers,comments:u.value.comments,mentorComment:u.value.mentorComment||null},{showLoader:!0}),e.openSuccessModal("Работа успешно проверена!","",[{label:"Вернуться к списку работ",design:"primary",handler:()=>{window.location.href="/assigned-works"}}]))}catch(Te){e.openErrorModal("Ошибка при отправке работы",Te.message)}}const M=Gt({enabled:!1,state:"unset",loading:!1,lastSaved:{answers:{},comments:{},studentComment:null,mentorComment:null},reset(){M.state="unset",M.enabled=!1},enable(){M.enabled=!0}});ke(u,jd(V,3e3),{deep:!0});async function V(){if(!(!u.value||!M.enabled||M.loading||i.value==="read")){M.loading=!0;try{p_(u.value.studentComment,M.lastSaved.studentComment)||(t.saveWorkComments(u.value.id,{studentComment:u.value.studentComment}),M.lastSaved.studentComment=u.value.studentComment),p_(u.value.mentorComment,M.lastSaved.mentorComment)||(t.saveWorkComments(u.value.id,{mentorComment:u.value.mentorComment}),M.lastSaved.mentorComment=u.value.mentorComment);const G=wj(u.value.comments,M.lastSaved.comments),ie=bj(u.value.answers,M.lastSaved.answers);if(ie){const ae=(await t.upsertAnswer(u.value.id,ie,{showLoader:!1})).data;ae&&(ie.id=ae,M.lastSaved.answers[ae]=JSON.parse(JSON.stringify(ie)))}if(G){const ae=(await t.upsertComment(u.value.id,G,{showLoader:!1})).data;ae&&(G.id=ae,M.lastSaved.comments[ae]=JSON.parse(JSON.stringify(G)))}M.state="success",i.value==="check"?u.value.checkStatus:u.value.solveStatus="in-progress"}catch{M.state="error"}finally{M.loading=!1}}}const R=Gt({showCheckHints:!0,showSolveHints:!0});async function X(){if(!(i.value==="read"||!u.value)){if(!l.value){l.value=!0;return}try{const G=await t.shiftAssignedWorkDeadline(u.value.id,{showLoader:!0});e.openSuccessModal("Дедлайн успешно сдвинут!"),u.value.solveDeadlineAt=G.data.newSolveDeadlineAt,u.value.checkDeadlineAt=G.data.newCheckDeadlineAt}catch(G){e.openErrorModal("Ошибка при сдвиге дедлайна",G.message)}}}async function P(){if(!u.value)return;const G={answers:u.value.answers,comments:u.value.comments,studentComment:u.value.studentComment||null,mentorComment:u.value.mentorComment||null};try{await t.saveAssignedWorkProgress(u.value.id,G,{showLoader:!0,timeout:5e3}),e.openSuccessModal("Прогресс успешно сохранен!","",[{label:"Вернуться к списку работ",design:"primary",handler:()=>{window.location.href="/assigned-works"}}]),D.Context.roleIs(["student"])?u.value.solveStatus="in-progress":D.Context.roleIs(["mentor"])&&(u.value.checkStatus="in-progress")}catch(ie){e.openErrorModal("Ошибка при сохранении прогресса",ie.message)}}async function F(){var G;if(u.value){if(((G=u.value.work)==null?void 0:G.type)!=="test"){e.openErrorModal("Ошибка при создании нового экземпляра работы","Можно пересдавать только тестовую работу. Эта работа содержит открытые вопросы");return}try{await t.remakeAssignedWork(u.value.id,a.onlyFalse,{showLoader:!0}),e.openSuccessModal("Работа успешно создана и появилась в списке!","Если работы нет в списке, попробуйте обновить страницу",[{label:"Вернуться к списку работ",design:"primary",handler:()=>{window.location.href="/assigned-works"}}])}catch(ie){e.openErrorModal("Ошибка при создании нового экземпляра работы",ie.message)}}}async function Z(){if(u.value)try{await t.recheckAutomatically(u.value.id,{showLoader:!0}),await d(),e.openSuccessModal("Работа успешно перепроверена")}catch(G){e.openErrorModal("Ошибка при автоматической проверке",G.message)}}async function Q(){if(u.value)try{await t.sendToRecheck(u.value.id,{showLoader:!0}),await d(),e.openSuccessModal("Работа успешно отправлена на перепроверку"),D.Context.roleIs(["mentor"])&&s.push(`/assigned-works/${c.value}/check`)}catch(G){e.openErrorModal("Ошибка при отправке на перепроверку",G.message)}}return{assignedWorkId:c,assignedWork:u,taskSlug:f,task:p,sureSubmitModalVisible:o,sureSubmitModalError:r,shiftDeadlineModalVisible:l,shiftDeadline:X,getTask:w,taskHasAnswer:k,taskScoreStatus:S,taskIsSubmitted:C,submitTask:A,submitWork:O,mode:i,baseUrl:h,nextTaskLink:y,previousTaskLink:_,fetchAssignedWork:d,workScore:v,saveProgress:P,recheckAutomatically:Z,sendToRecheck:Q,remakeWork:F,remakeModal:a,_router:s,autoSave:M,settings:R}}),Dj={key:0,class:"work-info"},Lj={class:"work-info__section subject"},Pj={class:"work-info__section name"},Rj={class:"work-info__section solve-status"},Vj={key:0,class:"work-info__section solve-deadline-at"},Nj={key:1,class:"work-info__section solved-at"},Uj={class:"work-info__section check-status"},Bj={key:2,class:"work-info__section solve-deadline-at"},jj={key:3,class:"work-info__section checked-at"},zj={key:1,class:"work-info__loading"},Fj=j({__name:"work-info",setup(t){const e=vs();return(n,s)=>{var l,c;const i=qa,o=gj,r=fj,a=Sn;return(l=g(e).assignedWork)!=null&&l.work?(b(),$("div",Dj,[m("div",Lj,[E(i,{subject:g(e).assignedWork.work.subject},null,8,["subject"])]),m("div",Pj,[m("h2",null,H((c=g(e).assignedWork.work)==null?void 0:c.name),1)]),m("div",Rj,[W(" Статус работы: "),E(o,{status:g(e).assignedWork.solveStatus},null,8,["status"])]),g(e).assignedWork.solveDeadlineAt?(b(),$("div",Vj," Дедлайн сдачи: "+H(g(_n)(g(e).assignedWork.solveDeadlineAt,{precision:"day"}).toBeautiful()),1)):N("",!0),g(e).assignedWork.solvedAt?(b(),$("div",Nj," Работа сдана: "+H(g(_n)(g(e).assignedWork.solvedAt,{precision:"day"}).toBeautiful()),1)):N("",!0),m("div",Uj,[W(" Статус проверки: "),E(r,{status:g(e).assignedWork.checkStatus},null,8,["status"])]),g(e).assignedWork.checkDeadlineAt?(b(),$("div",Bj," Дедлайн проверки: "+H(g(_n)(g(e).assignedWork.checkDeadlineAt,{precision:"day"}).toBeautiful()),1)):N("",!0),g(e).assignedWork.checkedAt?(b(),$("div",jj," Работа проверена: "+H(g(_n)(g(e).assignedWork.checkedAt,{precision:"day"}).toBeautiful()),1)):N("",!0)])):(b(),$("div",zj,[E(a,{contrast:""})]))}}});const Wj=J(Fj,[["__scopeId","data-v-f6a05b67"]]),Hj={key:0,class:"task-list"},qj={key:1},Gj=j({__name:"task-list",setup(t){const e=vs(),n=e.taskScoreStatus,s=e.taskHasAnswer;return(i,o)=>{var l;const r=It,a=Xe("router-link");return(l=g(e).assignedWork)!=null&&l.work?(b(),$("ul",Hj,[(b(!0),$(ue,null,Be(g(e).assignedWork.work.tasks,(c,u)=>(b(),$("li",{key:c.id},[E(a,{to:`${g(e).baseUrl}/${c.slug}`,class:Se({success:g(n)(c)==="success",warning:g(n)(c)==="warning",error:g(n)(c)==="error"})},{default:L(()=>[g(s)(c)?(b(),B(r,{key:0,class:"task-list__icon",name:"check-green"})):(b(),$("span",qj,H(u+1),1))]),_:2},1032,["to","class"])]))),128))])):N("",!0)}}});const Yj=J(Gj,[["__scopeId","data-v-d0e6c5c1"]]),Kj=j({__name:"inline-button",props:{icon:{},to:{}},setup(t){return(e,n)=>{const s=It;return b(),B(Vn(e.to?"router-link":"div"),{to:e.to,class:"inline-button"},{default:L(()=>[E(s,{name:e.icon},null,8,["name"]),m("span",null,[lt(e.$slots,"default",{},void 0,!0)])]),_:3},8,["to"])}}});const i9=J(Kj,[["__scopeId","data-v-28b6bfc8"]]),Zj={key:0,class:"comments-link"},Xj=j({__name:"comments-link",setup(t){const e=vs();return(n,s)=>{const i=i9;return g(e).baseUrl?(b(),$("div",Zj,[E(i,{icon:"edit",to:g(e).baseUrl},{default:L(()=>[W(" Комментарии к работе ")]),_:1},8,["to"])])):N("",!0)}}});const Jj=J(Xj,[["__scopeId","data-v-9732c4cd"]]),Qj=t=>(Ie("data-v-8fc70605"),t=t(),Oe(),t),ez={key:0,class:"autosave-block"},tz=Qj(()=>m("div",{class:"autosave-block__title"},[m("h4",null,"Автосохранение")],-1)),nz={class:"autosave-block__status"},sz={key:0,class:"autosave-block__status__loading"},iz={key:1,class:"autosave-block__status__success"},oz={key:2,class:"autosave-block__status__error"},rz={key:3,class:"autosave-block__status__unset"},az=j({__name:"autosave-block",setup(t){const e=vs();return(n,s)=>{const i=wc;return g(e).mode!=="read"&&g(D).Context.roleIs(["student","mentor"])?(b(),$("div",ez,[tz,(b(),$("div",{class:"autosave-block__content",key:`${g(e).autoSave.enabled}`},[E(i,{modelValue:g(e).autoSave.enabled,"onUpdate:modelValue":s[0]||(s[0]=o=>g(e).autoSave.enabled=o),values:[{value:!1,label:"Выключено"},{value:!0,label:"Включено"}]},null,8,["modelValue"])])),m("div",nz,[g(e).autoSave.loading?(b(),$("span",sz," Сохранение... ")):g(e).autoSave.state==="success"?(b(),$("span",iz," Сохранено, в ожидании изменений ")):g(e).autoSave.state==="error"?(b(),$("span",oz," Ошибка ")):(b(),$("span",rz," Не сохранено "))])])):N("",!0)}}});const lz=J(az,[["__scopeId","data-v-8fc70605"]]),cz=t=>(Ie("data-v-d51e81ce"),t=t(),Oe(),t),uz={key:0,class:"work-score"},dz=cz(()=>m("br",null,null,-1)),hz=j({__name:"work-score",setup(t){const e=vs();return(n,s)=>g(e).mode!=="solve"?(b(),$("p",uz,[W(" Оценка: "),m("b",null,H(g(e).workScore.value===null?"Не выставлена":g(e).workScore.value),1),W(" из "),m("b",null,H(g(e).workScore.of),1),dz,W(" ("+H(g(e).workScore.percentage)+"%) ",1)])):N("",!0)}});const fz=J(hz,[["__scopeId","data-v-d51e81ce"]]),pz={class:"warning-block__icon"},mz={class:"warning-block__text"},gz=j({__name:"warning-block",props:{small:{type:Boolean}},setup(t){return(e,n)=>{const s=It;return b(),$("div",{class:Se(["warning-block",{"warning-block--small":e.small}])},[m("div",pz,[E(s,{name:"attention-yellow"})]),m("div",mz,[lt(e.$slots,"default",{},void 0,!0)])],2)}}});const li=J(gz,[["__scopeId","data-v-e7689692"]]),_z=j({__name:"resolve-files-button",props:{answers:{},studentComment:{},assignedWorkId:{}},emits:["update:answers","update:studentComment"],setup(t,{emit:e}){const n=t,s=e,i=D.Services.UI,o=D.Services.AssignedWork,r=D.Services.Media;async function a(){i.setLoading(!0);const f=n.answers.reduce((_,w)=>{if(!w||!w.content)return _;const x=l(w.content);if(!x.length)return _;const k=x.map(C=>({dataUrl:C,file:c(C)}));return _[w.id]?_[w.id].push(...k):_[w.id]=k,_},{}),p=Object.values(f).flatMap(_=>_.map(w=>w.file));if(n.studentComment){const _=l(n.studentComment);if(_.length){const w=_.map(x=>({dataUrl:x,file:c(x)}));f.studentComment=w,p.push(...w.map(x=>x.file))}}if(!p.length){i.setLoading(!1),i.openWarningModal("Нет файлов для загрузки");return}try{const w=(await Promise.all(p.map(x=>r.upload([x])))).flatMap(x=>x.data).filter(Boolean);if((w==null?void 0:w.length)!==p.length)throw new Error("Не все файлы удалось загрузить");for(const x of w){const k=x.name,C=Object.values(f).find(S=>S.some(A=>A.file.name===k));if(C)for(const S of C)S.file.name===k&&(S.url=D.Constants.MEDIA_URL+"/"+x.src)}}catch(_){i.setLoading(!1),i.openErrorModal("Часть файлов не удалось загрузить",_.message);return}const v=u(n.answers,f),y=d(n.studentComment||null,f);try{await o.saveAssignedWorkProgress(n.assignedWorkId,{answers:v,studentComment:y})}catch(_){i.openErrorModal("Не удалось сохранить ответы",_.message);return}s("update:answers",v),y&&s("update:studentComment",y),i.openSuccessModal("Файлы успешно конвертированы"),i.setLoading(!1)}function l(f){if(!f)return[];const p=[];return f.ops.forEach(v=>{h(v.insert)&&p.push(v.insert.image)}),p}function c(f){const p=f.split(","),v=p[0].match(/:(.*?);/)[1],y=atob(p[1]);let _=y.length;const w=new Uint8Array(_);for(;_--;)w[_]=y.charCodeAt(_);const k="file-"+Math.random().toString(36).substring(10)+"."+v.split("/")[1];return new File([w],k,{type:v})}function u(f,p){return f.map(v=>{var _;if(!(v!=null&&v.content))return v;const y={...v.content};for(const w of y.ops){if(!h(w.insert))continue;const x=w.insert.image,k=Object.values(p).find(C=>C.some(S=>S.dataUrl===x));if(k){const C=(_=k.find(S=>S.dataUrl===x))==null?void 0:_.url;C&&(w.insert.image=C)}}return{...v,content:y}}).filter(Boolean)}function d(f,p){var y;if(!f)return null;const v={...f};for(const _ of v.ops){if(!h(_.insert))continue;const w=_.insert.image,x=Object.values(p).find(k=>k.some(C=>C.dataUrl===w));if(x){const k=(y=x.find(C=>C.dataUrl===w))==null?void 0:y.url;k&&(_.insert.image=k)}}return v}function h(f){return typeof f=="object"&&f.image&&typeof f.image=="string"&&f.image.startsWith("data:")}return(f,p)=>{const v=xt;return b(),B(v,{design:"inline",alignment:"stretch",onClick:p[0]||(p[0]=y=>a())},{default:L(()=>[W(" Конвертировать файлы ")]),_:1})}}}),Zd=t=>(Ie("data-v-cfc452a3"),t=t(),Oe(),t),vz={key:0,class:"work-actions"},yz={key:1,class:"work-actions__loading"},bz=Zd(()=>m("br",null,null,-1)),wz=Zd(()=>m("br",null,null,-1)),xz=Zd(()=>m("br",null,null,-1)),Sz=Zd(()=>m("br",null,null,-1)),kz=Zd(()=>m("p",null," Уже решенная работа НЕ будет удалена, будет создана новая работа с теми же заданиями ",-1)),$z=j({__name:"work-actions",setup(t){const e=vs();return(n,s)=>{var c,u,d,h,f;const i=xt,o=Sn,r=li,a=hn,l=Ai;return b(),$(ue,null,[(c=g(e).assignedWork)!=null&&c.work?(b(),$("div",vz,[["check","solve"].includes(g(e).mode)?(b(),B(i,{key:0,class:"work-actions__primary",alignment:"stretch",onClick:s[0]||(s[0]=p=>g(e).submitWork()),disabled:g(e).autoSave.loading,loading:g(e).autoSave.loading},{default:L(()=>[W(H(g(e).autoSave.loading?"Сохранение...":g(e).mode==="check"?"Завершить проверку":"Завершить работу"),1)]),_:1},8,["disabled","loading"])):N("",!0),g(e).mode==="read"&&((d=(u=g(e).assignedWork)==null?void 0:u.work)==null?void 0:d.type)==="test"&&g(D).Context.roleIs(["student"])&&((h=g(e).assignedWork)==null?void 0:h.checkStatus)=="checked-automatically"?(b(),B(i,{key:1,class:"work-actions__secondary",alignment:"stretch",onClick:s[1]||(s[1]=p=>g(e).remakeModal.visible=!0)},{default:L(()=>[W(" Переделать работу ")]),_:1})):N("",!0),["check","solve"].includes(g(e).mode)?(b(),B(i,{key:2,class:"work-actions__secondary",alignment:"stretch",design:"inline",onClick:s[2]||(s[2]=p=>g(e).saveProgress()),disabled:g(e).autoSave.loading},{default:L(()=>[W(H(g(e).autoSave.loading?"Сохранение...":"Сохранить прогресс"),1)]),_:1},8,["disabled"])):N("",!0),g(e).mode==="check"&&g(e).assignedWork.checkDeadlineAt?(b(),B(i,{key:3,class:"work-actions__secondary",alignment:"stretch",design:"inline",onClick:s[3]||(s[3]=p=>g(e).shiftDeadline())},{default:L(()=>[W(" Сдвинуть дедлайн проверки ")]),_:1})):N("",!0),g(e).mode==="solve"&&g(e).assignedWork.solveDeadlineAt?(b(),B(i,{key:4,class:"work-actions__secondary",alignment:"stretch",design:"inline",onClick:s[4]||(s[4]=p=>g(e).shiftDeadline())},{default:L(()=>[W(" Сдвинуть дедлайн ")]),_:1})):N("",!0),g(e).mode==="read"&&g(D).Context.roleIs(["teacher","admin","mentor","assistant"])&&((f=g(e).assignedWork)==null?void 0:f.checkStatus)=="checked-automatically"?(b(),B(i,{key:5,alignment:"stretch",class:"work-actions__secondary",design:"inline",onClick:s[5]||(s[5]=p=>g(e).recheckAutomatically())},{default:L(()=>[W(" Перепроверить автоматически ")]),_:1})):N("",!0),g(e).mode==="read"&&g(D).Context.roleIs(["mentor","teacher","assistant"])&&g(nd)(g(e).assignedWork)&&g(e).assignedWork.checkStatus!=="checked-automatically"?(b(),B(i,{key:6,alignment:"stretch",class:"work-actions__secondary",design:"inline",onClick:s[6]||(s[6]=p=>g(e).sendToRecheck())},{default:L(()=>[W(" Отправить на перепроверку ")]),_:1})):N("",!0),(g(e).mode==="read"||g(e).mode==="check")&&g(D).Context.roleIs(["teacher","mentor","assistant"])?(b(),B(_z,{key:7,class:"work-actions__secondary",answers:g(e).assignedWork.answers,"onUpdate:answers":s[7]||(s[7]=p=>g(e).assignedWork.answers=p),"student-comment":g(e).assignedWork.studentComment,"onUpdate:studentComment":s[8]||(s[8]=p=>g(e).assignedWork.studentComment=p),"assigned-work-id":g(e).assignedWork.id},null,8,["answers","student-comment","assigned-work-id"])):N("",!0),E(i,{to:g(D).Context.roleIs(["teacher","admin"])?"/works":"/assigned-works",alignment:"stretch",design:"inline",class:"work-actions__secondary"},{default:L(()=>[W(" Вернуться к списку работ ")]),_:1},8,["to"])])):(b(),$("div",yz,[E(o,{contrast:""})])),E(a,{visible:g(e).sureSubmitModalVisible,"onUpdate:visible":s[9]||(s[9]=p=>g(e).sureSubmitModalVisible=p),onConfirm:s[10]||(s[10]=p=>g(e).submitWork())},{title:L(()=>[W(H(g(e).mode==="check"?"Завершить проверку":"Завершить работу"),1)]),text:L(()=>[W(H(g(e).mode==="check"?"Вы уверены, что хотите завершить проверку?":"Вы уверены, что хотите завершить работу?")+" ",1),bz,wz,g(e).sureSubmitModalError?(b(),B(r,{key:0},{default:L(()=>[W(H(g(e).sureSubmitModalError),1)]),_:1})):N("",!0)]),_:1},8,["visible"]),E(a,{visible:g(e).shiftDeadlineModalVisible,"onUpdate:visible":s[11]||(s[11]=p=>g(e).shiftDeadlineModalVisible=p),onConfirm:s[12]||(s[12]=p=>g(e).shiftDeadline())},{title:L(()=>[W(H(g(e).mode==="check"?"Сдвинуть дедлайн проверки на 5 дней":"Сдвинуть дедлайн на 3 дня"),1)]),text:L(()=>[W(" Вы уверены, что хотите сдвинуть дедлайн? "),xz,Sz,E(r,null,{default:L(()=>[W(" Сдвинуть дедлайн можно только один раз ")]),_:1})]),_:1},8,["visible"]),E(a,{visible:g(e).remakeModal.visible,"onUpdate:visible":s[14]||(s[14]=p=>g(e).remakeModal.visible=p),onConfirm:s[15]||(s[15]=p=>g(e).remakeWork())},{title:L(()=>{var p,v;return[W(' Вы уверены, что хотите заново сделать работу "'+H((v=(p=g(e).assignedWork)==null?void 0:p.work)==null?void 0:v.name)+'"? ',1)]}),text:L(()=>[kz,E(l,{modelValue:g(e).remakeModal.onlyFalse,"onUpdate:modelValue":s[13]||(s[13]=p=>g(e).remakeModal.onlyFalse=p),label:"Перерешать только неправильные"},null,8,["modelValue"])]),_:1},8,["visible"])],64)}}});const Cz=J($z,[["__scopeId","data-v-cfc452a3"]]),Ez=j({__name:"status-tag",props:{type:{default:"info"},mode:{default:"default"}},setup(t){return(e,n)=>(b(),$("b",{class:Se(["status-tag",[e.type,e.mode]])},[lt(e.$slots,"default",{},void 0,!0)],2))}});const Tz=J(Ez,[["__scopeId","data-v-8043c07f"]]),r0=j({__name:"role-tag",props:{role:{}},setup(t){const e=t,n=q(()=>{switch(e.role){case"admin":return"Администратор";case"teacher":return"Преподаватель";case"mentor":return"Куратор";case"assistant":return"Ассистент";case"student":default:return"Ученик"}}),s=q(()=>{switch(e.role){case"admin":return"danger";case"teacher":return"warning";case"mentor":return"success";case"assistant":return"lila";case"student":default:return"info"}});return(i,o)=>{const r=Tz;return b(),B(r,{type:s.value,mode:"background"},{default:L(()=>[W(H(n.value),1)]),_:1},8,["type"])}}}),a0=j({__name:"telegram-button",props:{username:{}},setup(t){return(e,n)=>{const s=xt;return b(),B(s,{design:"telegram",alignment:"stretch",to:`https://t.me/${e.username}`},{default:L(()=>[W(H(e.username),1)]),_:1},8,["to"])}}}),Az=t=>(Ie("data-v-271346d7"),t=t(),Oe(),t),Mz={class:"online-status"},Iz=Az(()=>m("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},[m("circle",{cx:"12",cy:"12",r:"8"})],-1)),Oz=[Iz],Dz={class:"online-status__text"},Lz=j({__name:"online-status",props:{isOnline:{type:Boolean},lastSeen:{},isMobile:{type:Boolean}},setup(t){const e=t,n=q(()=>e.lastSeen?_n(e.lastSeen,{precision:"minute"}).toBeautiful():"давно");return(s,i)=>(b(),$("div",Mz,[m("div",{class:Se(["online-status__icon",{"online-status__icon--online":e.isOnline}])},Oz,2),m("div",Dz,H(e.isOnline?"Онлайн":`Был(а) в сети ${n.value}`),1)]))}});const l0=J(Lz,[["__scopeId","data-v-271346d7"]]),c0=t=>(Ie("data-v-058b8962"),t=t(),Oe(),t),Pz={class:"user-info-modal__container"},Rz={class:"user-info-modal__title"},Vz={class:"user-info-modal__content"},Nz={class:"user-info-modal__content__image"},Uz={class:"user-info-modal__content__image__avatar"},Bz={class:"user-info-modal__content__image__online-status"},jz={key:0,class:"user-info-modal__content__image__telegram"},zz={class:"user-info-modal__content__text"},Fz={class:"user-info-modal__content__text__item"},Wz=c0(()=>m("span",null,"Имя:",-1)),Hz={class:"user-info-modal__content__text__item"},qz=c0(()=>m("span",null,"Никнейм:",-1)),Gz={class:"user-info-modal__content__text__item"},Yz=c0(()=>m("span",null,"Email:",-1)),Kz={class:"user-info-modal__content__text__item user-info-modal__content__text__item--role"},Zz={class:"user-info-modal__buttons"},Xz=j({__name:"user-info-modal",props:{user:{},visible:{type:Boolean}},emits:["update:visible"],setup(t,{emit:e}){const n=e;function s(){n("update:visible",!1)}return(i,o)=>{const r=Ha,a=l0,l=a0,c=r0,u=xt,d=it("auto-animate");return b(),B(Ti,{to:"body"},[$e((b(),$("div",{class:Se(["user-info-modal",{"user-info-modal--visible":i.visible}])},[i.visible?(b(),$("div",{key:0,class:"user-info-modal__inner",onClick:o[1]||(o[1]=un(h=>s(),["self"]))},[m("div",Pz,[m("div",Rz,[m("span",null,H(i.user.name),1)]),m("div",Vz,[m("div",Nz,[m("div",Uz,[E(r,{name:i.user.name,avatar:i.user.avatar},null,8,["name","avatar"])]),m("div",Bz,[E(a,{"is-online":i.user.isOnline,"last-seen":i.user.lastRequestAt,"is-mobile":i.user.isLastRequestMobile},null,8,["is-online","last-seen","is-mobile"])]),i.user.telegramUsername?(b(),$("div",jz,[E(l,{username:i.user.telegramUsername},null,8,["username"])])):N("",!0)]),m("div",zz,[m("div",Fz,[Wz,m("b",null,H(i.user.name),1)]),m("div",Hz,[qz,m("b",null,H(i.user.username),1)]),m("div",Gz,[Yz,m("b",null,H(i.user.email),1)]),m("div",Kz,[E(c,{role:i.user.role},null,8,["role"])])])]),m("div",Zz,[g(D).Context.roleIs(["teacher","mentor","admin","assistant"])?(b(),B(u,{key:0,alignment:"stretch",to:`/users/edit/${i.user.username}`,design:"primary",class:"user-info-modal__buttons__profile"},{default:L(()=>[W(" Перейти к профилю ")]),_:1},8,["to"])):N("",!0),E(u,{alignment:"stretch",onClick:o[0]||(o[0]=h=>s()),design:"secondary",class:"user-info-modal__buttons__cancel"},{default:L(()=>[W(" Закрыть ")]),_:1})])])])):N("",!0)],2)),[[d]])])}}});const o9=J(Xz,[["__scopeId","data-v-058b8962"]]),Jz={class:"user-card"},Qz={class:"user-card__avatar"},eF={class:"user-card__credentials__name"},tF={class:"user-card__credentials__username"},nF=j({__name:"user-card",props:{user:{}},setup(t){const e=Y(!1);return(n,s)=>{const i=Ha,o=o9;return b(),$(ue,null,[m("div",Jz,[m("div",Qz,[E(i,{name:n.user.name,avatar:n.user.avatar,onClick:s[0]||(s[0]=r=>e.value=!0)},null,8,["name","avatar"])]),m("div",{class:"user-card__credentials",onClick:s[1]||(s[1]=r=>e.value=!0)},[m("h3",eF,H(n.user.name),1),m("p",tF,H(n.user.username),1)])]),E(o,{visible:e.value,"onUpdate:visible":s[2]||(s[2]=r=>e.value=r),user:n.user},null,8,["visible","user"])],64)}}});const u0=J(nF,[["__scopeId","data-v-f8610d46"]]),r9=t=>(Ie("data-v-a3113c7a"),t=t(),Oe(),t),sF={key:0,class:"work-people"},iF={class:"work-people__student"},oF=r9(()=>m("label",null,"Ученик: ",-1)),rF={class:"work-people__student__user"},aF={key:0,class:"work-people__mentors"},lF=r9(()=>m("label",null,"Проверяющие кураторы: ",-1)),cF=j({__name:"work-people",setup(t){const e=vs();return(n,s)=>{var o;const i=u0;return g(e).assignedWork?(b(),$("div",sF,[m("div",iF,[oF,m("div",rF,[E(i,{user:g(e).assignedWork.student},null,8,["user"])])]),((o=g(e).assignedWork.work)==null?void 0:o.type)!=="test"?(b(),$("div",aF,[lF,(b(!0),$(ue,null,Be(g(e).assignedWork.mentors,r=>(b(),$("div",{class:"work-people__mentors__mentor",key:r.id},[E(i,{user:r},null,8,["user"])]))),128))])):N("",!0)])):N("",!0)}}});const uF=J(cF,[["__scopeId","data-v-a3113c7a"]]),dF=[{keys:["Ctrl","Enter"],description:"Отправить решение/проверку",shortcut:["Ctrl","Enter"],handler:()=>{const t=vs();t.sureSubmitModalVisible=!0}},{keys:["Ctrl","ArrowLeft"],description:"Предыдущее задание",shortcut:["Ctrl","ArrowLeft"],handler:()=>{const t=vs(),e=t._router;t.previousTaskLink&&e.push(t.previousTaskLink)}},{keys:["Ctrl","ArrowRight"],description:"Следующее задание",shortcut:["Ctrl","ArrowRight"],handler:()=>{const t=vs(),e=t._router;t.nextTaskLink&&e.push(t.nextTaskLink)}}],wf=new Map;function d0(t){t.forEach(i=>{const o=i.keys.join("+");wf.set(o,i)});const e=t.map(i=>i.keys.join("+").toLowerCase()),n=hF(e);window.addEventListener("keydown",n);const s=jd(i=>{const o=[];i.ctrlKey&&o.push("Ctrl"),i.altKey&&o.push("Alt"),i.shiftKey&&o.push("Shift"),i.metaKey&&o.push("Meta"),o.push(i.key);const r=o.join("+"),a=wf.get(r);a&&(i.preventDefault(),a.handler())},100);return window.addEventListener("keyup",s),()=>{window.removeEventListener("keyup",s),window.removeEventListener("keydown",n),t.forEach(i=>{const o=i.keys.join("+");wf.delete(o)})}}function hF(t){return e=>{const n=[];e.ctrlKey?n.push("Ctrl"):e.altKey?n.push("Alt"):e.shiftKey?n.push("Shift"):e.metaKey&&n.push("Meta"),n.push(e.key);const s=n.join("+").toLowerCase();t.includes(s)&&e.preventDefault()}}function fb(){return Array.from(wf.values())}const fF={class:"settings-block"},pF={class:"settings-block__section"},mF={key:0,class:"settings-block__section"},gF=j({__name:"settings-block",setup(t){const e=vs();return(n,s)=>{const i=wc;return b(),$("div",fF,[m("div",pF,[E(i,{modelValue:g(e).settings.showSolveHints,"onUpdate:modelValue":s[0]||(s[0]=o=>g(e).settings.showSolveHints=o),values:[{value:!1,label:"Скрывать подсказки"},{value:!0,label:"Показывать подсказки"}]},null,8,["modelValue"])]),g(e).mode!=="solve"?(b(),$("div",mF,[E(i,{modelValue:g(e).settings.showCheckHints,"onUpdate:modelValue":s[1]||(s[1]=o=>g(e).settings.showCheckHints=o),values:[{value:!1,label:"Скрывать пояснения"},{value:!0,label:"Показывать пояснения"}]},null,8,["modelValue"])])):N("",!0)])}}});const _F=J(gF,[["__scopeId","data-v-8c736efa"]]),vF=t=>(Ie("data-v-351b66f4"),t=t(),Oe(),t),yF={class:"work-view"},bF={class:"work-view__sidebar"},wF={class:"work-view__sidebar__info"},xF={class:"work-view__sidebar__tasks"},SF={class:"work-view__sidebar__comments-link"},kF={class:"work-view__sidebar__score"},$F={class:"work-view__sidebar__actions"},CF={class:"work-view__sidebar__autosave"},EF={class:"work-view__sidebar__settings"},TF={class:"work-view__sidebar__people"},AF={key:0,class:"work-view__content"},MF={key:1,class:"work-view__not-found"},IF=vF(()=>m("h1",{class:"work-view__not-found__title"},"Работа не найдена",-1)),OF=[IF],DF=j({__name:"work-view",setup(t){const e=vs();e.fetchAssignedWork(),e.autoSave.reset(),ke(()=>e.assignedWork,()=>{var s;(s=e.assignedWork)!=null&&s.work&&ys(e.assignedWork.work.name)},{deep:!0,immediate:!0});const n=d0(dF);return Zo(()=>{e.autoSave.reset(),n()}),(s,i)=>{const o=Xe("router-view"),r=fo;return b(),$("div",yF,[E(r,null,{sidebar:L(()=>[m("div",bF,[m("div",wF,[E(Wj)]),m("div",xF,[E(Yj)]),m("div",SF,[E(Jj)]),m("div",kF,[E(fz)]),m("div",$F,[E(Cz)]),m("div",CF,[E(lz)]),m("div",EF,[E(_F)]),m("div",TF,[E(uF)])])]),content:L(()=>[g(e).assignedWork?(b(),$("div",AF,[(b(),B(o,{key:s.$route.fullPath}))])):(b(),$("div",MF,OF))]),_:1})])}}});const LF=J(DF,[["__scopeId","data-v-351b66f4"]]),PF="/img/error.svg",RF=t=>(Ie("data-v-bc554949"),t=t(),Oe(),t),VF={class:"base-modal__container"},NF={key:0,class:"base-modal__error-img"},UF=RF(()=>m("img",{src:PF,alt:"Ошибка"},null,-1)),BF=[UF],jF={key:1,class:"base-modal__success-img"},zF=["src"],FF={key:0},WF=j({__name:"base-modal",props:{title:{},message:{},type:{},visible:{type:Boolean},actions:{}},emits:["update:visible"],setup(t,{emit:e}){const n=e;function s(){n("update:visible",!1)}function i(o){const r=o();r instanceof Promise?r.then(s):s()}return(o,r)=>{const a=xt,l=it("auto-animate");return b(),B(Ti,{to:"body"},[$e((b(),$("div",{class:Se(["base-modal",{"base-modal--visible":o.visible}])},[o.visible?(b(),$("div",{key:0,class:"base-modal__inner",onClick:r[0]||(r[0]=un(c=>s(),["self"]))},[m("div",VF,[o.type==="error"?(b(),$("div",NF,BF)):N("",!0),o.type==="success"?(b(),$("div",jF,[m("img",{src:g(D).Context.Theme==="dark"?"/img/success-dark-theme.svg":"/img/success.svg",alt:"Успех"},null,8,zF)])):N("",!0),m("div",{class:Se(["base-modal__title",`base-modal__title--${o.type}`])},[o.title?(b(),$("span",FF,H(o.title),1)):N("",!0)],2),m("div",{class:Se(["base-modal__text",`base-modal__text--${o.type}`])},H(o.message||""),3),lt(o.$slots,"default",{},void 0,!0),m("div",{class:Se(["base-modal__buttons",{"base-modal__buttons--horizontal":o.type==="error"||o.type==="success"}])},[(b(!0),$(ue,null,Be(o.actions,(c,u)=>(b(),B(a,{key:u,alignment:"stretch",design:c.design,onClick:d=>i(c.handler)},{default:L(()=>[W(H(c.label),1)]),_:2},1032,["design","onClick"]))),128)),E(a,{alignment:o.type==="error"?"right":"stretch",onClick:s,design:"secondary",class:"base-modal__buttons__cancel"},{default:L(()=>[W(" Закрыть ")]),_:1},8,["alignment"])],2)])])):N("",!0)],2)),[[l]])])}}});const Qa=J(WF,[["__scopeId","data-v-bc554949"]]),HF=["title"],qF=j({__name:"explanation-tooltip",props:{title:{}},setup(t){const e=Y(!1);return(n,s)=>{const i=It,o=Qa;return b(),$(ue,null,[m("div",{class:"explanation-tooltip",title:n.title,onClick:s[0]||(s[0]=r=>e.value=!0)},[E(i,{name:"question"})],8,HF),E(o,{visible:e.value,"onUpdate:visible":s[1]||(s[1]=r=>e.value=r),title:n.title,type:"info"},{default:L(()=>[lt(n.$slots,"default",{},void 0,!0)]),_:3},8,["visible","title"])],64)}}});const h0=J(qF,[["__scopeId","data-v-8e46ff5e"]]),GF=t=>(Ie("data-v-466ed17d"),t=t(),Oe(),t),YF={class:"favourite-task-button"},KF={class:"favourite-task-button__tooltip"},ZF=GF(()=>m("p",{class:"favourite-task-button__tooltip__text"},' Вы можете сохранять задания в виде карточек, как в Quizlet. Для того чтобы сохранить задание, нажмите на звездочку рядом с ним, когда решаете работу. Пока это работает только с заданиями из тестов, которые проверяются автоматически. Созданные карточки находятся на странице "Работы" в разделе "Карточки с заданиями". ',-1)),XF=j({__name:"favourite-task-button",props:{taskId:{}},setup(t){const e=t,n=Y("added"),s=Y(!1);async function i(){if(!s.value){s.value=!0;try{n.value==="not-added"?(await D.Services.AssignedWork.addTaskToFavourites(e.taskId),n.value="added"):(await D.Services.AssignedWork.removeTaskFromFavourites(e.taskId),n.value="not-added")}catch(r){D.Services.UI.openErrorModal("Не удалось добавить задание в избранное или удалить задание из избранного",r.message)}finally{s.value=!1}}}async function o(){try{const r=await D.Services.AssignedWork.isTaskFavourite(e.taskId);n.value=r.data?"added":"not-added"}catch{n.value="not-added"}}return o(),(r,a)=>{const l=Sn,c=It,u=h0;return b(),$("span",YF,[s.value?(b(),B(l,{key:0,class:"favourite-task-button__icon favourite-task-button__icon--loading",contrast:""})):n.value==="added"?(b(),B(c,{key:1,name:"star",class:"favourite-task-button__icon favourite-task-button__icon--active",onClick:a[0]||(a[0]=d=>i())})):n.value==="not-added"?(b(),B(c,{key:2,name:"star",class:"favourite-task-button__icon favourite-task-button__icon--inactive",onClick:a[1]||(a[1]=d=>i())})):N("",!0),n.value==="not-added"?(b(),$("span",{key:3,class:"favourite-task-button__text",onClick:a[2]||(a[2]=d=>i())}," Добавить карточку ")):(b(),$("span",{key:4,class:"favourite-task-button__text",onClick:a[3]||(a[3]=d=>i())}," Убрать карточку ")),m("span",KF,[E(u,{title:"Карточки с заданиями"},{default:L(()=>[ZF]),_:1})])])}}});const JF=J(XF,[["__scopeId","data-v-466ed17d"]]),QF=j({__name:"list-opener-arrow",props:{opened:{type:Boolean}},setup(t){return(e,n)=>(b(),$("span",{class:Se(["list-opener-arrow",{"list-opener-arrow--opened":e.opened}])}," ▼ ",2))}});const am=J(QF,[["__scopeId","data-v-ea4ef417"]]),eW={class:"accordion-list"},tW={class:"accordion-list__item__head"},nW={class:"accordion-list__item__head__opener-arrow"},sW={class:"accordion-list__item__head__content"},iW={key:0,class:"accordion-list__item__body"},oW=j({__name:"accordion-list",props:{items:{}},setup(t){const n=Y(t.items.map(()=>!1));return(s,i)=>{const o=am,r=it("auto-animate");return b(),$("div",eW,[(b(!0),$(ue,null,Be(s.items,(a,l)=>$e((b(),$("div",{class:"accordion-list__item",key:l},[m("div",tW,[m("div",nW,[E(o,{opened:n.value[l]},null,8,["opened"])]),m("div",sW,[lt(s.$slots,"head",{item:a,index:l,openAction:()=>n.value[l]=!n.value[l]},void 0,!0)])]),n.value[l]?(b(),$("div",iW,[lt(s.$slots,"body",{item:a,index:l},void 0,!0)])):N("",!0)])),[[r]])),128))])}}});const rW=J(oW,[["__scopeId","data-v-d71f981d"]]),aW={class:"criteria__head"},lW=["innerHTML","onClick"],cW={key:0,class:"criteria__head__score-input"},uW={class:"criteria__head__comment-count"},dW={key:1,class:"criteria__head__score"},hW={class:"criteria__head__comment-count"},fW={key:2,class:"criteria__head__max-score"},pW=["innerHTML"],mW=j({__name:"base-criteria",props:{type:{},detailedScore:{},commentCounts:{},mode:{}},emits:["update:detailedScore"],setup(t,{emit:e}){const n=t,s=e,i=q({get:()=>n.detailedScore,set:c=>s("update:detailedScore",c)}),o=Y([]);l(n.type);function r(c){return c===1?c+" балл":c>1&&c<5?c+" балла":c<21?c+" баллов":c%10===1?c+" балл":c%10>1&&c%10<5?c+" балла":c+" баллов"}function a(c){const u=[];for(let d=0;d<=c;d++)u.push({label:r(d),value:d});return u}function l(c){Ud(Object.assign({"./dictation-criteria.json":()=>fe(()=>import("./dictation-criteria-0589e1db.js"),[]),"./essay-criteria.json":()=>fe(()=>import("./essay-criteria-dcbd78ea.js"),[]),"./final-essay-criteria.json":()=>fe(()=>import("./final-essay-criteria-3b2a422d.js"),[])}),`./${c}-criteria.json`).then(u=>{o.value=u.default})}return(c,u)=>{const d=us,h=rW;return o.value?(b(),B(h,{key:0,items:o.value},{head:L(({item:f,openAction:p})=>[m("div",aW,[m("p",{class:"criteria__head__title",innerHTML:f.title,onClick:v=>p()},null,8,lW),c.mode==="check"?(b(),$("div",cW,[E(d,{label:"",options:a(f.maxScore),modelValue:i.value[f.code],"onUpdate:modelValue":v=>i.value[f.code]=v},null,8,["options","modelValue","onUpdate:modelValue"]),m("span",uW,H(c.commentCounts[f.code])+" комментариев ",1)])):c.mode==="read"?(b(),$("div",dW,[m("span",null,H(c.detailedScore[f.code]||0)+"/"+H(f.maxScore),1),m("span",hW,H(c.commentCounts[f.code])+" комментариев ",1)])):(b(),$("div",fW,[m("span",null," Макс. "+H(r(f.maxScore)),1)]))])]),body:L(({item:f})=>[m("p",{class:"criteria__description",innerHTML:f.description},null,8,pW)]),_:1},8,["items"])):N("",!0)}}});const gW=J(mW,[["__scopeId","data-v-67c49529"]]),_W={class:"criteria-container"},vW={class:"criteria-container__header"},yW={key:0,class:"criteria-container__options"},bW={key:1,class:"criteria-container__body"},wW=j({__name:"criteria-container",props:{modelValue:{},task:{},mode:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=e,i=Y(n.mode!=="solve"),o=Y(!1),r=Y([]);f(n.task.type);const a=Y(c());ke(a,u,{deep:!0,immediate:!0});const l=Y(h());ke([()=>n.modelValue.answers,r,o],()=>{l.value=h()},{deep:!0});function c(){const p=n.modelValue.comments.find(v=>v.taskId===n.task.id);return(p==null?void 0:p.detailedScore)||d(r.value)}function u(p){if(n.mode!=="check")return;const v=n.modelValue.comments.find(y=>y.taskId===n.task.id);if(v)v.detailedScore=p,v.score=hb(p),s("update:modelValue",n.modelValue);else{const y=gn("comment");y.taskId=n.task.id,y.detailedScore=p,y.score=hb(p),s("update:modelValue",{...n.modelValue,comments:[...n.modelValue.comments,y]})}}function d(p){return p.reduce((v,y)=>(v[y.code]=y.maxScore,v),{})}function h(){var w;if(n.mode==="solve")return;const y=n.modelValue.answers.find(x=>x.taskId===n.task.id).content.ops.map(x=>{var k;return(k=x==null?void 0:x.attributes)==null?void 0:k.comment}).filter(Boolean),_=r.value.reduce((x,k)=>(x[k.code]=y.filter(C=>C.type===k.code).length,x),{});if(n.task.type==="final-essay"||n.mode==="read"||!o.value)return _;for(const[x,k]of Object.entries(_))if(a.value[x]!==void 0){const C=((w=r.value.find(S=>S.code===x))==null?void 0:w.maxScore)??0;a.value[x]=C-k<0?0:C-k}return _}async function f(p){const v=await Ud(Object.assign({"./dictation-criteria.json":()=>fe(()=>import("./dictation-criteria-0589e1db.js"),[]),"./essay-criteria.json":()=>fe(()=>import("./essay-criteria-dcbd78ea.js"),[]),"./final-essay-criteria.json":()=>fe(()=>import("./final-essay-criteria-3b2a422d.js"),[])}),`./${p}-criteria.json`);r.value=v.default,(!a.value||Object.entries(a.value).length===0)&&(a.value=d(r.value))}return(p,v)=>{const y=am,_=wc,w=it("auto-animate");return $e((b(),$("div",_W,[m("div",vW,[m("h4",{onClick:v[0]||(v[0]=x=>i.value=!i.value)},[E(y,{opened:i.value},null,8,["opened"]),W(" Критерии оценивания ")])]),p.mode==="check"?(b(),$("div",yW,[E(_,{modelValue:o.value,"onUpdate:modelValue":v[1]||(v[1]=x=>o.value=x),values:[{value:!1,label:"Автоматические баллы по комментариям в ответе"},{value:!0,label:"Автоматические баллы по комментариям в ответе"}]},null,8,["modelValue"])])):N("",!0),i.value&&r.value.length?(b(),$("div",bW,[E(gW,{type:p.task.type,"detailed-score":a.value,"onUpdate:detailedScore":v[2]||(v[2]=x=>a.value=x),"comment-counts":l.value,mode:p.mode,criteria:r.value},null,8,["type","detailed-score","comment-counts","mode","criteria"])])):N("",!0)])),[[w]])}}});const xW=J(wW,[["__scopeId","data-v-46939dc6"]]),SW={class:"right-answer-container"},kW=j({__name:"right-answer-container",props:{rightAnswer:{}},setup(t){const e=t,n=q(()=>e.rightAnswer.split("|").length>1?"Правильные ответы":"Правильный ответ"),s=q(()=>e.rightAnswer.split("|").join(", ")||"");return(i,o)=>{const r=zt;return b(),$("div",SW,[E(r,{readonly:"",label:n.value,"model-value":s.value,type:"text"},null,8,["label","model-value"])])}}}),$W={class:"rich-text-area"},CW={class:"rich-text-area__inner"},EW=j({__name:"rich-text-area",props:{modelValue:{},cursorPosition:{},label:{},snippets:{}},emits:["update:modelValue","update:cursorPosition"],setup(t,{emit:e}){const n=t,s=e,o=D.Services.UserSettings.Store(),r=q({get(){return n.modelValue},set(l){s("update:modelValue",l)}}),a=q({get(){return n.cursorPosition},set(l){s("update:cursorPosition",l)}});return(l,c)=>{const u=Q6;return b(),$("div",$W,[m("label",null,H(l.label),1),m("div",CW,[E(u,{modelValue:r.value,"onUpdate:modelValue":c[0]||(c[0]=d=>r.value=d),"cursor-position":a.value,"onUpdate:cursorPosition":c[1]||(c[1]=d=>a.value=d),"font-size":g(o).fontSize,snippets:l.snippets},null,8,["modelValue","cursor-position","font-size","snippets"])])])}}});const nr=J(EW,[["__scopeId","data-v-06185c81"]]),TW=t=>(Ie("data-v-dbb069b7"),t=t(),Oe(),t),AW={key:0,class:"task-answer-container"},MW=TW(()=>m("h4",{class:"task-answer-container__title"},"Ответ:",-1)),IW={key:1,class:"task-answer-container__empty"},OW=j({__name:"answer-text-container",props:{modelValue:{},taskId:{},readonly:{type:Boolean},commentable:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=e,i=Y(o());ke(i,r,{deep:!0,immediate:!0});function o(){const l=n.modelValue.answers.find(c=>c.taskId===n.taskId);return(l==null?void 0:l.content)||Ds()}function r(l){let c=n.modelValue.answers.find(u=>u.taskId===n.taskId);c?(c.content=l,s("update:modelValue",n.modelValue)):(c=gn("answer"),c.content=Ds(),c.word=null,c.taskId=n.taskId,s("update:modelValue",{...n.modelValue,answers:[...n.modelValue.answers,c]}))}function a(l){i.value=l}return(l,c)=>{const u=ho,d=nr,h=it("auto-animate");return i.value||!l.readonly?$e((b(),$("div",AW,[MW,l.readonly?(b(),B(u,{key:0,content:i.value,commentable:l.commentable,onCommented:c[0]||(c[0]=f=>a(f))},null,8,["content","commentable"])):(b(),B(d,{key:1,modelValue:i.value,"onUpdate:modelValue":c[1]||(c[1]=f=>i.value=f)},null,8,["modelValue"]))])),[[h]]):(b(),$("div",IW," Нет ответа "))}}});const DW=J(OW,[["__scopeId","data-v-dbb069b7"]]),LW=t=>(Ie("data-v-47dbdb92"),t=t(),Oe(),t),PW={class:"task-answer-container"},RW=LW(()=>m("h4",{class:"task-answer-container__title"},"Ответ:",-1)),VW=j({__name:"answer-word-container",props:{modelValue:{},taskId:{},readonly:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=e,i=Y(r());ke(i,o,{immediate:!0});function o(a){let l=n.modelValue.answers.find(c=>c.taskId===n.taskId);l?(l.word=a,s("update:modelValue",n.modelValue)):(l=gn("answer"),l.content=null,l.taskId=n.taskId,s("update:modelValue",{...n.modelValue,answers:[...n.modelValue.answers,l]}))}function r(){const a=n.modelValue.answers.find(l=>l.taskId===n.taskId);return(a==null?void 0:a.word)||""}return(a,l)=>{const c=zt;return b(),$("div",PW,[RW,E(c,{label:"Пробелы и регистр не учитываются в процессе проверки",readonly:a.readonly,modelValue:i.value,"onUpdate:modelValue":l[0]||(l[0]=u=>i.value=u),type:"text",validators:[u=>u.length<100||"Ответ не должен превышать 100 символов"]},null,8,["readonly","modelValue","validators"])])}}});const NW=J(VW,[["__scopeId","data-v-47dbdb92"]]),UW=t=>(Ie("data-v-a58877bb"),t=t(),Oe(),t),BW={class:"word-counter"},jW=UW(()=>m("div",{class:"modal-content"},[m("p",null," Служебные части речи (предлоги, союзы, частицы) считаются, как отдельные слова. Например, все же - 2 слова; в доме - 2 слова. "),m("p",null," Слова, написанные через дефис, считаются, как одно слово. Например, все-таки - 1 слово; как-нибудь - 1 слово. "),m("p",null," Инициалы писателя + фамилия считаются, как одно слово, если они написаны без пробелов. Например, М.Ю.Лермонтов - 1 слово; Михаил Юрьевич Лермонтов - 3 слова. "),m("p",null," Символы и цифры не учитываются при подсчете. Например, 10 лет - 1 слово; десять лет - 2 слова. "),m("p",null,' Слова в цитате считаются так же, как обычные слова. Например, Татьяна говорит: "Но я другому отдана" - 6 слов. ')],-1)),zW=j({__name:"word-counter",props:{value:{},wordCount:{}},emits:["update:wordCount"],setup(t,{emit:e}){const n=t,s=e,i=q({get:()=>n.wordCount,set:a=>s("update:wordCount",a)});ke(()=>n.value,a=>{i.value=o(a)},{immediate:!0});function o(a){return r(a.ops).replace(`
`," ").replace(/[.,/#!$%^&*;:{}=\-_`~()]/g,"").split(" ").filter(u=>isNaN(Number(u))).length}function r(a){let l="";for(const c of a)l+=c.insert;return l}return(a,l)=>{const c=h0;return b(),$("div",BW,[W(" Количество слов: "),m("b",null,H(a.wordCount),1),E(c,{title:"Как считаются слова?"},{default:L(()=>[jW]),_:1})])}}});const a9=J(zW,[["__scopeId","data-v-a58877bb"]]),FW=t=>(Ie("data-v-3fd96eec"),t=t(),Oe(),t),WW={key:0,class:"task-answer-container"},HW=FW(()=>m("h4",{class:"task-answer-container__title"},"Ваше сочинение:",-1)),qW={class:"task-answer-container__answer-box"},GW={class:"task-answer-container__answer-box__word-count"},YW={class:"task-answer-container__answer-box__word-count__current"},KW={class:"task-answer-container__answer-box__word-count__min"},ZW={class:"task-answer-container__answer-box__word-count__max"},XW={key:1,class:"task-answer-container__empty"},JW=j({__name:"answer-essay-container",props:{modelValue:{},taskId:{},readonly:{type:Boolean},commentable:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=e,i=Y(l());ke(i,c,{deep:!0,immediate:!0});const o=Y([]);d();const r=q(()=>[...o.value.filter(h=>h==null?void 0:h.showInComment).map(h=>h.code),"..."]),a=Y(0);function l(){const h=n.modelValue.answers.find(f=>f.taskId===n.taskId);return(h==null?void 0:h.content)||Ds()}function c(h){let f=n.modelValue.answers.find(p=>p.taskId===n.taskId);f?(f.content=h,s("update:modelValue",n.modelValue)):(f=gn("answer"),f.content=Ds(),f.word=null,f.taskId=n.taskId,s("update:modelValue",{...n.modelValue,answers:[...n.modelValue.answers,f]}))}function u(h){i.value=h}async function d(){const h=await fe(()=>import("./essay-criteria-dcbd78ea.js"),[]);o.value=h.default}return(h,f)=>{const p=ho,v=nr,y=a9,_=it("auto-animate");return i.value||!h.readonly?$e((b(),$("div",WW,[HW,m("div",qW,[h.readonly?(b(),B(p,{key:0,content:i.value,commentable:h.commentable,"comment-types":r.value,onCommented:f[0]||(f[0]=w=>u(w))},null,8,["content","commentable","comment-types"])):(b(),B(v,{key:1,modelValue:i.value,"onUpdate:modelValue":f[1]||(f[1]=w=>i.value=w)},null,8,["modelValue"]))]),m("div",GW,[m("div",YW,[E(y,{value:i.value,"word-count":a.value,"onUpdate:wordCount":f[2]||(f[2]=w=>a.value=w)},null,8,["value","word-count"])]),m("div",KW,[m("span",null,[W(" Минимум: "),m("b",{class:Se({error:a.value<150})},"150",2),W(" слов ")])]),m("div",ZW,[m("span",null,[W(" Максимум: "),m("b",{class:Se({error:a.value>1e3})},"1000",2),W(" слов ")])])])])),[[_]]):(b(),$("div",XW," Нет ответа "))}}});const QW=J(JW,[["__scopeId","data-v-3fd96eec"]]),eH=t=>(Ie("data-v-e4dbe049"),t=t(),Oe(),t),tH={key:0,class:"task-answer-container"},nH=eH(()=>m("h4",{class:"task-answer-container__title"},"Ваше итоговое сочинение:",-1)),sH={class:"task-answer-container__answer-box"},iH={class:"task-answer-container__answer-box__word-count"},oH={class:"task-answer-container__answer-box__word-count__current"},rH={class:"task-answer-container__answer-box__word-count__min"},aH={class:"task-answer-container__answer-box__word-count__max"},lH={key:1,class:"task-answer-container__empty"},cH=j({__name:"answer-final-essay-container",props:{modelValue:{},taskId:{},readonly:{type:Boolean},commentable:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=e,i=Y(l());ke(i,c,{deep:!0,immediate:!0});const o=Y([]);d();const r=q(()=>[...o.value.filter(h=>h==null?void 0:h.showInComment).map(h=>h.code),"..."]),a=Y(0);function l(){const h=n.modelValue.answers.find(f=>f.taskId===n.taskId);return(h==null?void 0:h.content)||Ds()}function c(h){let f=n.modelValue.answers.find(p=>p.taskId===n.taskId);f?(f.content=h,s("update:modelValue",n.modelValue)):(f=gn("answer"),f.content=Ds(),f.word=null,f.taskId=n.taskId,s("update:modelValue",{...n.modelValue,answers:[...n.modelValue.answers,f]}))}function u(h){i.value=h}async function d(){const h=await fe(()=>import("./final-essay-criteria-3b2a422d.js"),[]);o.value=h.default}return(h,f)=>{const p=ho,v=nr,y=a9,_=it("auto-animate");return i.value||!h.readonly?$e((b(),$("div",tH,[nH,m("div",sH,[h.readonly?(b(),B(p,{key:0,content:i.value,commentable:h.commentable,"comment-types":r.value,onCommented:f[0]||(f[0]=w=>u(w))},null,8,["content","commentable","comment-types"])):(b(),B(v,{key:1,modelValue:i.value,"onUpdate:modelValue":f[1]||(f[1]=w=>i.value=w)},null,8,["modelValue"]))]),m("div",iH,[m("div",oH,[E(y,{value:i.value,"word-count":a.value,"onUpdate:wordCount":f[2]||(f[2]=w=>a.value=w)},null,8,["value","word-count"])]),m("div",rH,[m("span",null,[W(" Минимум: "),m("b",{class:Se({error:a.value<250})},"250",2),W(" слов ")])]),m("div",aH,[m("span",null,[W(" Максимум: "),m("b",{class:Se({error:a.value>1500})},"1500",2),W(" слов ")])])])])),[[_]]):(b(),$("div",lH," Нет ответа "))}}});const uH=J(cH,[["__scopeId","data-v-e4dbe049"]]),dH=t=>(Ie("data-v-f6f0b876"),t=t(),Oe(),t),hH={key:0,class:"task-answer-container"},fH=dH(()=>m("h4",{class:"task-answer-container__title"},"Ваш диктант:",-1)),pH={class:"task-answer-container__answer-box"},mH={key:1,class:"task-answer-container__empty"},gH=j({__name:"answer-dictation-container",props:{modelValue:{},taskId:{},readonly:{type:Boolean},commentable:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=e,i=Y(a());ke(i,l,{deep:!0,immediate:!0});const o=Y([]);u();const r=q(()=>[...o.value.filter(d=>d==null?void 0:d.showInComment).map(d=>d.code),"..."]);function a(){const d=n.modelValue.answers.find(h=>h.taskId===n.taskId);return(d==null?void 0:d.content)||Ds()}function l(d){let h=n.modelValue.answers.find(f=>f.taskId===n.taskId);h?(h.content=d,s("update:modelValue",n.modelValue)):(h=gn("answer"),h.content=Ds(),h.word=null,h.taskId=n.taskId,s("update:modelValue",{...n.modelValue,answers:[...n.modelValue.answers,h]}))}function c(d){i.value=d}async function u(){const d=await fe(()=>import("./dictation-criteria-0589e1db.js"),[]);o.value=d.default}return(d,h)=>{const f=ho,p=nr,v=it("auto-animate");return i.value||!d.readonly?$e((b(),$("div",hH,[fH,m("div",pH,[d.readonly?(b(),B(f,{key:0,content:i.value,commentable:d.commentable,"comment-types":r.value,onCommented:h[0]||(h[0]=y=>c(y))},null,8,["content","commentable","comment-types"])):(b(),B(p,{key:1,modelValue:i.value,"onUpdate:modelValue":h[1]||(h[1]=y=>i.value=y)},null,8,["modelValue"]))])])),[[v]]):(b(),$("div",mH," Нет ответа "))}}});const _H=J(gH,[["__scopeId","data-v-f6f0b876"]]),vH=t=>(Ie("data-v-3d1b8e64"),t=t(),Oe(),t),yH={key:0,class:"task-comment-container"},bH=vH(()=>m("h4",{class:"task-comment-container__title"},"Комментарий:",-1)),wH=j({__name:"comment-container",props:{modelValue:{},task:{},readonly:{type:Boolean},mode:{},snippets:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=e,i=so(0),o=so(0);ke(i,()=>i.value!==0?o.value=i.value:0);const r=q({get(){const a=n.modelValue.comments.find(u=>u.taskId===n.task.id);if(a)return a.content;const l=gn("comment");return l.taskId=n.task.id,{...n.modelValue}.comments.push(l),s("update:modelValue",n.modelValue),l.content},set(a){const l={...n.modelValue};l.comments.find(c=>c.taskId===n.task.id).content=a,s("update:modelValue",l)}});return(a,l)=>{const c=ho,u=nr;return a.mode==="check"||!g(La)(r.value)?(b(),$("div",yH,[bH,a.readonly?(b(),B(c,{key:0,content:r.value},null,8,["content"])):(b(),B(u,{key:1,modelValue:r.value,"onUpdate:modelValue":l[0]||(l[0]=d=>r.value=d),"cursor-position":i.value,"onUpdate:cursorPosition":l[1]||(l[1]=d=>i.value=d),snippets:a.snippets},null,8,["modelValue","cursor-position","snippets"]))])):N("",!0)}}});const xH=J(wH,[["__scopeId","data-v-3d1b8e64"]]),SH={class:"task-score-container"},kH=j({__name:"score-container",props:{modelValue:{},task:{},readonly:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=e,i=q(()=>{const l=[];for(let c=0;c<=n.task.highestScore;c++)l.push({label:c.toString(),value:c});return l}),o=Y(r());ke(o,a),ke(()=>n.modelValue,()=>o.value=r(),{deep:!0});function r(){const l=n.modelValue.comments.find(c=>c.taskId===n.task.id);return(l==null?void 0:l.score)||0}function a(l){let c=n.modelValue.comments.find(u=>u.taskId===n.task.id);c?(c.score=l,s("update:modelValue",n.modelValue)):(c=gn("comment"),c.taskId=n.task.id,c.score=l,s("update:modelValue",{...n.modelValue,comments:[...n.modelValue.comments,c]}))}return(l,c)=>{const u=us;return b(),$("div",SH,[E(u,{label:"Балл:",options:i.value,modelValue:o.value,"onUpdate:modelValue":c[0]||(c[0]=d=>o.value=d),readonly:l.readonly||g(n9)(l.task.type)},null,8,["options","modelValue","readonly"])])}}});const $H=J(kH,[["__scopeId","data-v-dba7e511"]]),CH=m("br",null,null,-1),EH=j({__name:"right-answer-modal",props:{visible:{type:Boolean},rightAnswer:{}},emits:["update:visible"],setup(t,{emit:e}){const n=t,s=e,i=q({get:()=>n.visible,set:o=>{s("update:visible",o)}});return(o,r)=>{const a=zt,l=Qa;return b(),B(l,{visible:i.value,"onUpdate:visible":r[0]||(r[0]=c=>i.value=c),type:"info",title:"Правильный ответ"},{default:L(()=>[E(a,{type:"text",modelValue:o.rightAnswer,label:"Правильный ответ",readonly:""},null,8,["modelValue"]),CH]),_:1},8,["visible"])}}}),TH=Kt("assigned-work-module:snippet",()=>{const t=D.Services.Snippet,e=D.Services.UI,n=vs(),s=Y([]),i=Y(!1);async function o(){if(n.mode!=="check"){s.value=[];return}try{const r=await t.getSnippets();s.value=r.data}catch(r){e.openErrorModal("Не удалось загрузить сниппеты",r.message)}}return ke(()=>n.mode,o,{immediate:!0}),{snippetModalOpen:i,snippets:s,fetchSnippets:o}}),f0=t=>(Ie("data-v-d6361baa"),t=t(),Oe(),t),AH={key:0,class:"task-view"},MH={class:"task-view__question"},IH={class:"task-view__question__info"},OH={class:"task-view__question__max-score"},DH={key:0,class:"task-view__question__add-to-favourites"},LH={class:"task-view__answer"},PH=f0(()=>m("br",null,null,-1)),RH={key:0,class:"task-view__comment"},VH={key:1,class:"task-view__criteria"},NH={class:"taks-view__right-answer-and-score"},UH={class:"row"},BH={class:"col-md-6"},jH={class:"col-md-6"},zH={class:"task-view__hint"},FH={key:0,class:"task-view__hint__container"},WH=f0(()=>m("h4",{class:"task-view__hint__title"},"Подсказка:",-1)),HH={class:"task-view__hint"},qH={key:0,class:"task-view__hint__container"},GH=f0(()=>m("h4",{class:"task-view__hint__title"},"Пояснение:",-1)),YH={class:"task-view__action-buttons"},KH=j({__name:"task-view",setup(t){const e=vs(),n=TH(),s=Y({visible:!1,answer:""});function i(){s.value.answer=e.task.rightAnswer,s.value.visible=!0}return(o,r)=>{var c,u;const a=ho,l=xt;return b(),$(ue,null,[g(e).assignedWork&&g(e).task?(b(),$("div",AH,[m("div",MH,[E(a,{content:g(e).task.content},null,8,["content"]),m("div",IH,[m("p",OH,[W(" Максимальный балл: "),m("b",null,H(g(e).task.highestScore),1)]),g(D).Context.roleIs(["student"])&&g(s9)(g(e).task.type)&&g(nd)(g(e).assignedWork)?(b(),$("div",DH,[E(JF,{"task-id":g(e).task.id},null,8,["task-id"])])):N("",!0)])]),m("div",LH,[g(e).task.type==="text"?(b(),B(DW,{key:0,modelValue:g(e).assignedWork,"onUpdate:modelValue":r[0]||(r[0]=d=>g(e).assignedWork=d),"task-id":g(e).task.id,readonly:g(e).mode!=="solve",commentable:g(e).mode==="check"},null,8,["modelValue","task-id","readonly","commentable"])):g(e).task.type==="word"?(b(),B(NW,{key:1,modelValue:g(e).assignedWork,"onUpdate:modelValue":r[1]||(r[1]=d=>g(e).assignedWork=d),"task-id":g(e).task.id,readonly:g(e).mode!=="solve"||g(e).taskIsSubmitted()},null,8,["modelValue","task-id","readonly"])):g(e).task.type==="essay"?(b(),B(QW,{key:2,modelValue:g(e).assignedWork,"onUpdate:modelValue":r[2]||(r[2]=d=>g(e).assignedWork=d),"task-id":g(e).task.id,readonly:g(e).mode!=="solve",commentable:g(e).mode==="check"},null,8,["modelValue","task-id","readonly","commentable"])):g(e).task.type==="final-essay"?(b(),B(uH,{key:3,modelValue:g(e).assignedWork,"onUpdate:modelValue":r[3]||(r[3]=d=>g(e).assignedWork=d),"task-id":g(e).task.id,readonly:g(e).mode!=="solve",commentable:g(e).mode==="check"},null,8,["modelValue","task-id","readonly","commentable"])):g(e).task.type==="dictation"?(b(),B(_H,{key:4,modelValue:g(e).assignedWork,"onUpdate:modelValue":r[4]||(r[4]=d=>g(e).assignedWork=d),"task-id":g(e).task.id,readonly:g(e).mode!=="solve",commentable:g(e).mode==="check"},null,8,["modelValue","task-id","readonly","commentable"])):N("",!0)]),PH,g(e).mode!=="solve"?(b(),$("div",RH,[E(xH,{modelValue:g(e).assignedWork,"onUpdate:modelValue":r[5]||(r[5]=d=>g(e).assignedWork=d),task:g(e).task,readonly:g(e).mode!=="check",mode:g(e).mode,snippets:g(n).snippets},null,8,["modelValue","task","readonly","mode","snippets"])])):N("",!0),g(n9)(g(e).task.type)?(b(),$("div",VH,[E(xW,{modelValue:g(e).assignedWork,"onUpdate:modelValue":r[6]||(r[6]=d=>g(e).assignedWork=d),task:g(e).task,mode:g(e).mode},null,8,["modelValue","task","mode"])])):N("",!0),m("div",NH,[m("div",UH,[m("div",BH,[(g(nd)(g(e).assignedWork)||g(D).Context.roleIs(["mentor"])||g(e).mode==="solve"&&g(e).taskIsSubmitted())&&((c=g(e).task)==null?void 0:c.type)==="word"&&((u=g(e).task)!=null&&u.rightAnswer)?(b(),B(kW,{key:0,"right-answer":g(e).task.rightAnswer},null,8,["right-answer"])):N("",!0)]),m("div",jH,[g(e).mode!=="solve"||g(e).taskIsSubmitted()?(b(),B($H,{key:0,modelValue:g(e).assignedWork,"onUpdate:modelValue":r[7]||(r[7]=d=>g(e).assignedWork=d),task:g(e).task,readonly:g(e).mode==="read"||g(e).mode==="solve"},null,8,["modelValue","task","readonly"])):N("",!0)])])]),m("div",zH,[g(e).settings.showSolveHints&&g(e).task.solveHint&&!g(La)(g(e).task.solveHint)?(b(),$("div",FH,[WH,E(a,{content:g(e).task.solveHint},null,8,["content"])])):N("",!0)]),m("div",HH,[g(e).settings.showCheckHints&&g(e).task.checkHint&&(["check","read"].includes(g(e).mode)||g(e).taskIsSubmitted())&&!g(La)(g(e).task.checkHint)?(b(),$("div",qH,[GH,E(a,{content:g(e).task.checkHint},null,8,["content"])])):N("",!0)]),m("div",YH,[g(e).task.isAnswerVisibleBeforeCheck&&g(e).task.type==="word"&&g(e).mode==="solve"?(b(),B(l,{key:0,alignment:"left",design:"inline",onClick:r[8]||(r[8]=d=>i())},{default:L(()=>[W(" Посмотреть ответ ")]),_:1})):N("",!0),g(e).previousTaskLink?(b(),B(l,{key:1,alignment:"left",design:"inline",to:g(e).previousTaskLink},{default:L(()=>[W(" Предыдущий вопрос ")]),_:1},8,["to"])):N("",!0),g(e).nextTaskLink?(b(),B(l,{key:2,alignment:"right",to:g(e).nextTaskLink},{default:L(()=>[W(" Следующий вопрос ")]),_:1},8,["to"])):N("",!0),g(e).task.isCheckOneByOneEnabled&&g(e).mode==="solve"?(b(),B(l,{key:3,alignment:"right",design:"inline",onClick:r[9]||(r[9]=d=>g(e).submitTask())},{default:L(()=>[W(H(g(e).taskIsSubmitted()?"Перерешать":"Проверить задание"),1)]),_:1})):N("",!0)])])):N("",!0),E(EH,{visible:s.value.visible,"onUpdate:visible":r[10]||(r[10]=d=>s.value.visible=d),"right-answer":s.value.answer},null,8,["visible","right-answer"])],64)}}});const ZH=J(KH,[["__scopeId","data-v-d6361baa"]]),l9=t=>(Ie("data-v-f867250e"),t=t(),Oe(),t),XH={class:"work-comment"},JH={class:"work-comment__student"},QH=l9(()=>m("h4",null,"Передать привет куратору:",-1)),eq={class:"work-comment__mentor"},tq=l9(()=>m("h4",null,"Комментарий куратора:",-1)),nq=j({__name:"work-comment",props:{mode:{},studentComment:{},mentorComment:{}},emits:["update:studentComment","update:mentorComment"],setup(t,{emit:e}){const n=t,s=e,i=q({get:()=>n.studentComment||Ds(),set:a=>s("update:studentComment",a)}),o=q({get:()=>n.mentorComment||Ds(),set:a=>s("update:mentorComment",a)});function r(a){return a&&!La(a)?a:{ops:[{insert:"-"}]}}return(a,l)=>{const c=nr,u=ho;return b(),$("div",XH,[m("div",JH,[QH,a.mode==="solve"?(b(),B(c,{key:0,label:"Здесь Вы можете оставить комментарий к работе. Он будет виден куратору",modelValue:i.value,"onUpdate:modelValue":l[0]||(l[0]=d=>i.value=d)},null,8,["modelValue"])):(b(),B(u,{key:1,class:"work-comment__student__container",content:r(a.studentComment)},null,8,["content"]))]),m("div",eq,[tq,a.mode==="check"?(b(),B(c,{key:0,label:"Комментарий куратора к работе. Он будет виден Вам и ученику",modelValue:o.value,"onUpdate:modelValue":l[1]||(l[1]=d=>o.value=d)},null,8,["modelValue"])):(b(),B(u,{key:1,class:"work-comment__mentor__container",content:r(a.mentorComment)},null,8,["content"]))])])}}});const sq=J(nq,[["__scopeId","data-v-f867250e"]]),iq=j({__name:"work-comments-view",setup(t){const e=vs();return(n,s)=>{var i;return g(e).assignedWork?(b(),$("div",{class:"work-comments-view",key:(i=g(e).assignedWork)==null?void 0:i.id},[E(sq,{mode:g(e).mode,"student-comment":g(e).assignedWork.studentComment,"onUpdate:studentComment":s[0]||(s[0]=o=>g(e).assignedWork.studentComment=o),"mentor-comment":g(e).assignedWork.mentorComment,"onUpdate:mentorComment":s[1]||(s[1]=o=>g(e).assignedWork.mentorComment=o)},null,8,["mode","student-comment","mentor-comment"])])):N("",!0)}}}),oq={path:"/assigned-works",name:"assigned-works",component:Gk,children:[{path:"",name:"Работы",component:oj},{path:":workId",name:"Работа",component:LF,redirect:"read",children:[{path:":mode",name:"Комментарии к работе",component:iq},{path:":mode/:taskSlug",name:"Задания",component:ZH}]}]},rq={name:"works",router:oq},aq={},lq={class:"module-wrapper"};function cq(t,e){const n=Xe("router-view");return b(),$("div",lq,[E(n)])}const uq=J(aq,[["render",cq]]),dq={path:"/auth",name:"auth",component:uq,meta:{layout:"div"},children:[{path:"",name:"auth.index",component:()=>fe(()=>import("./index-view-2aaf201c.js"),["assets/index-view-2aaf201c.js","assets/index-view-6f014fa0.css"])}]},hq={name:"auth",router:dq},fq={},pq={class:"module-wrapper"};function mq(t,e){const n=Xe("router-view");return b(),$("div",pq,[E(n)])}const gq=J(fq,[["render",mq]]);const _q=["click"],ku=[],vq={instances:ku,beforeMount:pb,updated:(t,e)=>{JSON.stringify(e.value)!==JSON.stringify(e.oldValue)&&pb(t,e)},unmounted:c9};function pb(t,{value:e}){c9(t);const n=e,s=typeof n=="function";if(!s&&typeof n!="object"||n.isActive===!1)return;const i=s?n:n.handler,o=yq({el:t,handler:i});o.eventHandlers.forEach(({event:r,handler:a})=>setTimeout(()=>document.addEventListener(r,a,!1),0)),ku.push(o)}function c9(t){const e=ku.findIndex(n=>n.el===t);e!==-1&&(ku[e].eventHandlers.forEach(({event:n,handler:s})=>document.removeEventListener(n,s,!1)),ku.splice(e,1))}function yq({el:t,handler:e}){return{el:t,eventHandlers:_q.map(n=>({event:n,handler:s=>bq({event:s,el:t,handler:e})}))}}function bq({event:t,el:e,handler:n}){const s=t.path||(t.composedPath?t.composedPath():void 0);if(s?s.indexOf(e)<0:!e.contains(t.target))return n&&n(t,e)}const wq=j({name:"IconView",props:{height:{type:[String,Number],default:"16"},width:{type:[String,Number],default:"16"},color:{type:String,default:"black"},customClass:{type:String,required:!1,default:""}},setup(){return{}}}),kc=(t,e)=>{const n=t.__vccOpts||t;for(const[s,i]of e)n[s]=i;return n},xq=["height","width"],Sq=["fill"];function kq(t,e,n,s,i,o){return b(),$("span",{class:Se(t.customClass)},[(b(),$("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",height:t.height,width:t.width,role:"img","aria-hidden":"true","data-icon":"calendarAlt"},[m("path",{fill:t.color,d:"M400 64h-48V12c0-6.6-5.4-12-12-12h-8c-6.6 0-12 5.4-12 12v52H128V12c0-6.6-5.4-12-12-12h-8c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM48 96h352c8.8 0 16 7.2 16 16v48H32v-48c0-8.8 7.2-16 16-16zm352 384H48c-8.8 0-16-7.2-16-16V192h384v272c0 8.8-7.2 16-16 16zM148 320h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm96 0h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm96 0h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm-96 96h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm-96 0h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm192 0h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12z"},null,8,Sq)],8,xq))],2)}const $q=kc(wq,[["render",kq]]),gt=(t,e=!1)=>e?t.getUTCFullYear():t.getFullYear(),qt=(t,e=!1)=>e?t.getUTCMonth():t.getMonth(),Ns=(t,e=!1)=>e?t.getUTCDate():t.getDate(),Ui=(t,e=!1)=>e?t.getUTCDay():t.getDay(),m_=(t,e,n=!1)=>n?t.setUTCFullYear(e):t.setFullYear(e),u9=(t,e,n=!1)=>n?t.setUTCMonth(e):t.setMonth(e),xf=(t,e,n=!1)=>n?t.setUTCDate(e):t.setDate(e),jh=(t,e,n=!1)=>{const s=new Date(t.getTime()),i=new Date(e.getTime());return n?(s.setUTCHours(0,0,0,0),i.setUTCHours(0,0,0,0)):(s.setHours(0,0,0,0),i.setHours(0,0,0,0)),s.getTime()===i.getTime()},Cq=t=>Object.prototype.toString.call(t)!=="[object Date]"?!1:!Number.isNaN(t.getTime()),lm=(t,e)=>{if(typeof t!="object")throw TypeError("Invalid Type");return e[Ui(t)]},id=(t,e)=>{if(!e)throw Error("missing 2nd parameter Months array");if(typeof t=="object")return e[qt(t)];if(typeof t=="number")return e[t];throw TypeError("Invalid type")},cm=(t,e)=>{if(!e)throw Error("missing 2nd paramter Months array");if(typeof t=="object")return e[qt(t)];if(typeof t=="number")return e[t];throw TypeError("Invalid type")},Eq=(t,e)=>/8|3|5|10/.test(e)?30:e===1?!(t%4)&&t%100||!(t%400)?29:28:31,Tq=t=>{switch(t){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},Aq=(t,e,n)=>{const s=gt(t),i=qt(t)+1,o=Ns(t);return e.replace(/dd/,`0${o}`.slice(-2)).replace(/d/,o).replace(/yyyy/,s).replace(/yy/,String(s).slice(2)).replace(/MMMM/,id(qt(t),n.months)).replace(/MMM/,cm(qt(t),n.monthsAbbr)).replace(/MM/,`0${i}`.slice(-2)).replace(/M(?!a|ä|e)/,i.toString()).replace(/su/,Tq(Ns(t))).replace(/D(?!e|é|i)/,lm(t,n.days))},Mq=t=>t===null||t instanceof Date||typeof t=="string"||typeof t=="number",Ji=t=>typeof t=="string"?new Date(t):t,Iq=j({name:"DateInput",components:{IconView:$q},props:{selectedDate:{type:[Date,String],default:null},resetTypedDate:{type:[Date],default:new Date},format:{type:[String,Function]},translation:{type:Object},inline:{type:Boolean},id:{type:String},name:{type:String},openDate:{type:Date},placeholder:{type:String},inputClass:{type:[String,Object,Array]},clearButton:{type:Boolean},clearButtonIcon:{type:String},calendarButton:{type:Boolean},calendarButtonIcon:{type:String},calendarButtonIconContent:{type:String},disabled:{type:Boolean},required:{type:Boolean},typeable:{type:Boolean},addBootstrapClass:{type:Boolean,default:!1,required:!1},useUtc:{type:Boolean},minimumView:{type:String,default:"day"},maximumView:{type:String,default:"year"},hideInput:{type:Boolean,default:!0},fullMonthName:{type:Boolean,default:!1},iconColor:{default:"black",type:String},iconHeight:{default:16,type:[String,Number]},iconWidth:{default:16,type:[String,Number]},theme:{default:"green",type:String}},emits:["show-calendar","typed-date","clear-date","close-calendar"],setup(t,{emit:e}){const n=Y(),s=Y(null),i=q(()=>t.addBootstrapClass?typeof t.inputClass=="string"?[t.inputClass,"form-control"].join(" "):{"form-control":!0,...t.inputClass}:t.inputClass),o=q(()=>{var u,d;if(!t.selectedDate)return null;if(n.value)return n.value;const h=Ji(t.selectedDate);let f=typeof t.format=="function"?t.format(h):Aq(h,t.format,t.translation);if(t.minimumView===t.maximumView){const[,p,v]=f.split(" ");if(t.maximumView==="month"){if(t.fullMonthName){const y=(u=t.translation)==null?void 0:u.monthsAbbr.indexOf(p);return(d=t.translation)==null?void 0:d.months[y]}f=p}else t.maximumView==="year"&&(f=v)}return f});ke(()=>t.resetTypedDate,()=>{n.value=""});function r(){e("show-calendar")}function a(u){if([27,13].includes(u.keyCode)&&s.value.blur(),t.typeable){const{value:d}=s.value,h=Date.parse(d);Number.isNaN(h)||(n.value=d,e("typed-date",new Date(h)))}}function l(){e("clear-date")}function c(){t.typeable&&Number.isNaN(Date.parse(s.value.value))&&(l(),s.value.value=null,n.value=""),e("close-calendar",!0)}return{typedDate:n,computedInputClass:i,formattedValue:o,showCalendar:r,parseTypedDate:a,inputBlurred:c,inputRef:s,clearDate:l}}}),Oq={key:0},Dq={key:1,style:{position:"relative"}},Lq={key:0},Pq=["type","name","id","value","open-date","placeholder","clear-button","disabled","required","readonly"],Rq={key:0,class:"vuejs3-datepicker__value"},Vq={class:"vuejs3-datepicker__icon"},Nq={key:0,class:"vuejs3-datepicker__content"},Uq={key:1,class:"vuejs3-datepicker__content"},Bq={key:0};function jq(t,e,n,s,i,o){const r=Xe("IconView");return b(),$("div",{class:Se([t.addBootstrapClass?"input-group":""])},[t.calendarButton?(b(),$("span",{key:0,class:Se(["vuejs3-datepicker__calendar-button",{"input-group-prepend":t.addBootstrapClass,"cursor-na":t.disabled}]),onClick:e[0]||(e[0]=(...a)=>t.showCalendar&&t.showCalendar(...a))},[m("span",{class:Se({"input-group-text":t.addBootstrapClass})},[m("i",{class:Se(t.calendarButtonIcon)},[W(H(t.calendarButtonIconContent)+" ",1),t.calendarButtonIcon?N("",!0):(b(),$("span",Oq,"…"))],2)],2)],2)):N("",!0),t.typeable||!t.hideInput?(b(),$("div",Dq,[t.inline?N("",!0):(b(),$("span",Lq,[E(r,{customClass:"vuejs3-datepicker__typeablecalendar",color:t.iconColor,width:t.iconWidth,height:t.iconHeight},null,8,["color","width","height"])])),m("input",{type:t.inline?"hidden":"text",class:Se([t.computedInputClass,"vuejs3-datepicker__inputvalue"]),name:t.name,ref:"inputRef",id:t.id,value:t.formattedValue,"open-date":t.openDate,placeholder:t.placeholder,"clear-button":t.clearButton,disabled:t.disabled,required:t.required,readonly:!t.typeable,onClick:e[1]||(e[1]=(...a)=>t.showCalendar&&t.showCalendar(...a)),onKeyup:e[2]||(e[2]=(...a)=>t.parseTypedDate&&t.parseTypedDate(...a)),onBlur:e[3]||(e[3]=(...a)=>t.inputBlurred&&t.inputBlurred(...a)),autocomplete:"off"},null,42,Pq)])):(b(),$("div",{key:2,onClick:e[4]||(e[4]=(...a)=>t.showCalendar&&t.showCalendar(...a)),id:"calendar-div"},[t.inline?N("",!0):(b(),$("div",Rq,[m("span",Vq,[E(r,{color:t.iconColor,width:t.iconWidth,height:t.iconHeight},null,8,["color","width","height"])]),t.formattedValue?(b(),$("div",Nq,H(t.formattedValue),1)):(b(),$("div",Uq,H(t.placeholder),1))]))])),t.clearButton&&t.selectedDate?(b(),$("span",{key:3,class:Se(["vuejs3-datepicker__clear-button",{"input-group-append":t.addBootstrapClass}]),onClick:e[5]||(e[5]=a=>t.clearDate())},[m("span",{class:Se({"input-group-text":t.addBootstrapClass})},[m("i",{class:Se(t.clearButtonIcon)},[t.clearButtonIcon?N("",!0):(b(),$("span",Bq,"×"))],2)],2)],2)):N("",!0),lt(t.$slots,"belowDate",{},void 0,!0)],2)}const zq=kc(Iq,[["render",jq],["__scopeId","data-v-09a6219c"]]),Fq=j({name:"PickerDay",props:{showDayView:{type:Boolean},selectedDate:{type:[String,Date],required:!1,default:null},pageDate:{type:Date,default:new Date},fullMonthName:{type:Boolean},allowedToShowView:{type:Function,required:!0},dayCellContent:{type:Function,default:t=>t.date},disabledDates:{type:Object},highlighted:{type:Object},calendarClass:{type:[String,Object,Array]},calendarStyle:{type:Object},translation:{type:Object},isRtl:{type:Boolean},mondayFirst:{type:Boolean},useUtc:{type:Boolean},minimumView:{type:String,default:"day"},maximumView:{type:String,default:"year"},preventDisableDateSelection:{type:Boolean,default:!0},theme:{default:"green",type:String}},emits:["show-year-calendar","changed-month","show-month-calendar","selected-disabled","select-date"],setup(t,{emit:e}){function n(P){P.isDisabled?(e("selected-disabled",P),t.preventDisableDateSelection||e("select-date",P)):e("select-date",P)}function s(){e("show-month-calendar")}function i(){e("show-year-calendar")}function o(P){const F=t.pageDate;u9(F,qt(F)+P),e("changed-month",F)}function r(){const P=t.disabledDates;if(!P||!P.to)return!1;const F=t.pageDate;return qt(P.to)>=qt(F)&&gt(P.to)>=gt(F)}function a(){r()||o(-1)}function l(){const P=t.disabledDates;if(!P||!P.from)return!1;const F=t.pageDate;return qt(P.from)<=qt(F)&&gt(P.from)<=gt(F)}function c(){l()||o(1)}function u(P){const F=Ji(t.selectedDate);return t.selectedDate?jh(F,P):!1}function d(P){let F=!1;const Z=t.disabledDates;return Z?typeof Z>"u"?!1:(typeof Z.dates<"u"&&Z.dates.forEach(Q=>{jh(P,Q)&&(F=!0)}),typeof Z.to<"u"&&Z.to&&P<Z.to&&(F=!0),typeof Z.from<"u"&&Z.from&&P>Z.from&&(F=!0),typeof Z.days<"u"&&Z.days.indexOf(Ui(P))!==-1&&(F=!0),typeof Z.daysOfMonth<"u"&&Z.daysOfMonth.indexOf(Ns(P))!==-1&&(F=!0),typeof Z.customPredictor=="function"&&Z.customPredictor(P)&&(F=!0),F):F}function h(P){return typeof P<"u"&&P}function f(P){const F=t.highlighted;if(!(F&&F.includeDisabled)&&d(P))return!1;let Z=!1;return typeof F>"u"?!1:(typeof F.dates<"u"&&F.dates.forEach(Q=>{jh(P,Q)&&(Z=!0)}),h(F.from)&&h(F.to)&&(Z=P>=F.from&&P<=F.to),typeof F.days<"u"&&F.days.indexOf(Ui(P))!==-1&&(Z=!0),typeof F.daysOfMonth<"u"&&F.daysOfMonth.indexOf(Ns(P))!==-1&&(Z=!0),typeof F.customPredictor=="function"&&F.customPredictor(P)&&(Z=!0),Z)}function p(P){return{selected:P.isSelected,disabled:P.isDisabled,highlighted:P.isHighlighted,today:P.isToday,weekend:P.isWeekend,sat:P.isSaturday,sun:P.isSunday,"highlight-start":P.isHighlightStart,"highlight-end":P.isHighlightEnd}}function v(P){const F=t.highlighted;return F?f(P)&&F.from instanceof Date&&gt(F.from)===gt(P)&&qt(F.from)===qt(P)&&Ns(F.from)===Ns(P):!1}function y(P){const F=t.highlighted;return F?f(P)&&F.to instanceof Date&&gt(F.to)===gt(P)&&qt(F.to)===qt(P)&&Ns(F.to)===Ns(P):!1}const _=q(()=>{if(t.mondayFirst){const P=t.translation&&t.translation.days&&t.translation.days.slice();return P.push(P.shift()),P}return t.translation&&t.translation.days}),w=q(()=>{const P=t.pageDate,F=t.useUtc?new Date(Date.UTC(P.getUTCFullYear(),P.getUTCMonth(),1)):new Date(P.getFullYear(),P.getMonth(),1,P.getHours(),P.getMinutes());return t.mondayFirst?Ui(F)>0?Ui(F)-1:6:Ui(F)}),x=q(()=>{const P=t.pageDate,F=[],Z=t.useUtc?new Date(Date.UTC(P.getUTCFullYear(),P.getUTCMonth(),1)):new Date(P.getFullYear(),P.getMonth(),1,P.getHours(),P.getMinutes()),Q=Eq(gt(Z),qt(Z));for(let G=0;G<Q;G+=1)F.push({date:Ns(Z),timestamp:Z.getTime(),isSelected:u(Z),isDisabled:d(Z),isHighlighted:f(Z),isHighlightStart:v(Z),isHighlightEnd:y(Z),isToday:jh(Z,new Date),isWeekend:Ui(Z)===0||Ui(Z)===6,isSaturday:Ui(Z)===6,isSunday:Ui(Z)===0}),xf(Z,Ns(Z)+1);return F}),k=q(()=>{const P=t.fullMonthName?t.translation&&t.translation.months:t.translation&&t.translation.monthsAbbr;return cm(qt(t.pageDate),P)}),C=q(()=>{const P=t.translation&&t.translation.months;return id(qt(t.pageDate),P)}),S=q(()=>{const P=t.translation&&t.translation.yearSuffix;return`${gt(t.pageDate)}${P}`}),A=q(()=>(t.translation&&t.translation.ymd&&t.translation&&t.translation.ymd)===!0),O=q(()=>t.isRtl?l():r()),M=q(()=>t.isRtl?r():l()),V=q(()=>{const P=Ji(t.selectedDate);return t.selectedDate?lm(P,t.translation&&t.translation.daysNames):null}),R=q(()=>{const P=Ji(t.selectedDate);return t.selectedDate?Ns(P):null}),X=q(()=>!(t.minimumView===t.maximumView&&(t.minimumView!=="day"||t.maximumView!=="day")));return{isDefined:h,showMonthCalendar:s,daysOfWeek:_,blankDays:w,isYmd:A,days:x,currMonthName:k,currYearName:S,isLeftNavDisabled:O,isRightNavDisabled:M,selectDate:n,previousMonth:a,nextMonth:c,dayClasses:p,monthName:C,getDayName:V,getDisplayDate:R,showYearCalendar:i,isNextMonthDisabled:l,ifDifferentViews:X,isSelectedDate:u,isDisabledDate:d,isHighlightedDate:f,isHighlightStart:v,isHighlightEnd:y}}}),Wq={key:0,class:"vuejs3-datepicker__calendar-topbar"},Hq={key:0,class:"vuejs3-datepicker__calendar-topbar-day"},qq={class:"vuejs3-datepicker__calendar-actionarea"},Gq=["innerHTML","onClick"];function Yq(t,e,n,s,i,o){return $e((b(),$("div",{class:Se(["vuejs3-datepicker__calendar",`vuejs3-${t.theme}`,t.calendarClass]),style:Qt(t.calendarStyle),onMousedown:e[4]||(e[4]=un(()=>{},["prevent"]))},[lt(t.$slots,"customCalendarHeader"),t.ifDifferentViews&&t.selectedDate?(b(),$("section",Wq,[m("p",{class:"vuejs3-datepicker__calendar-topbar-year",onClick:e[0]||(e[0]=(...r)=>t.showYearCalendar&&t.showYearCalendar(...r))},H(t.currYearName),1),lt(t.$slots,"formatDateTopBar",{},()=>[t.selectedDate?(b(),$("p",Hq,H(t.getDayName)+" "+H(t.getDisplayDate)+" "+H(t.monthName),1)):N("",!0)])])):N("",!0),m("div",qq,[m("header",null,[m("span",{onClick:e[1]||(e[1]=r=>t.isRtl?t.nextMonth():t.previousMonth()),class:Se(["prev",{disabled:t.isLeftNavDisabled}])},"<",2),m("span",{class:Se(["day__month_btn",t.allowedToShowView("month")?"up":""]),onClick:e[2]||(e[2]=(...r)=>t.showMonthCalendar&&t.showMonthCalendar(...r))},H(t.isYmd?t.currYearName:t.currMonthName)+" "+H(t.isYmd?t.currMonthName:t.currYearName),3),m("span",{onClick:e[3]||(e[3]=r=>t.isRtl?t.previousMonth():t.nextMonth()),class:Se(["next",{disabled:t.isRightNavDisabled}])},">",2)]),m("div",{class:Se(t.isRtl?"flex-rtl":"")},[(b(!0),$(ue,null,Be(t.daysOfWeek,r=>(b(),$("span",{class:"cell day-header",key:r.timestamp},H(r),1))),128)),t.blankDays>0?(b(!0),$(ue,{key:0},Be(t.blankDays,r=>(b(),$("span",{class:"cell day blank",key:r.timestamp}))),128)):N("",!0),(b(!0),$(ue,null,Be(t.days,r=>(b(),$("span",{class:Se(["cell day",t.dayClasses(r)]),key:r.timestamp,innerHTML:t.dayCellContent(r),onClick:a=>t.selectDate(r)},null,10,Gq))),128))],2)])],38)),[[ai,t.showDayView]])}const Kq=kc(Fq,[["render",Yq]]),Zq=j({name:"PickerMonth",props:{showMonthView:{type:Boolean},selectedDate:{type:[String,Date],required:!1,default:null},pageDate:{type:Date,default:new Date},disabledDates:{type:Object},calendarClass:{type:[String,Object,Array]},calendarStyle:{type:Object},translation:{type:Object},isRtl:{type:Boolean},allowedToShowView:{type:Function,required:!0},useUtc:{type:Boolean},fullMonthName:{type:Boolean},minimumView:{type:String,default:"day"},maximumView:{type:String,default:"year"},theme:{default:"green",type:String}},setup(t,{emit:e}){function n(C){C.isDisabled||e("select-month",C)}function s(C){const S=t.pageDate;m_(S,gt(S)+C),e("changed-year",S)}function i(){const C=t.disabledDates;return!C||!C.to?!1:gt(C.to)>=gt(t.pageDate)}function o(){i()||s(-1)}function r(){const C=t.disabledDates;return!C||!C.from?!1:gt(C.from)<=gt(t.pageDate)}function a(){r()||s(1)}function l(){e("show-year-calendar")}function c(C){const S=Ji(t.selectedDate);return S&&gt(S)===gt(C)&&qt(S)===qt(C)}function u(C){let S=!1;const A=t.disabledDates;return!A||typeof A>"u"?!1:(typeof A.to<"u"&&A.to&&(qt(C)<qt(A.to)&&gt(C)<=gt(A.to)||gt(C)<gt(A.to))&&(S=!0),typeof A.from<"u"&&A.from&&(qt(C)>qt(A.from)&&gt(C)>=gt(A.from)||gt(C)>gt(A.from))&&(S=!0),typeof A.customPredictor=="function"&&A.customPredictor(C)&&(S=!0),S)}const d=q(()=>{const C=t.pageDate,S=[],A=t.useUtc?new Date(Date.UTC(C.getUTCFullYear(),0,C.getUTCDate())):new Date(C.getFullYear(),0,C.getDate(),C.getHours(),C.getMinutes());for(let O=0;O<12;O+=1)S.push({month:id(O,t.translation&&t.translation.months),timestamp:A.getTime(),isSelected:c(A),isDisabled:u(A)}),u9(A,qt(A)+1);return S}),h=q(()=>{const C=t.translation&&t.translation.yearSuffix;return`${gt(t.pageDate)}${C}`}),f=q(()=>t.isRtl?r():i()),p=q(()=>t.isRtl?i():r()),v=q(()=>{const C=t.translation&&t.translation.months;return id(qt(t.pageDate),C)}),y=q(()=>{const C=Ji(t.selectedDate);return t.selectedDate?Ns(C):null}),_=q(()=>{const C=Ji(t.selectedDate);return t.selectedDate?lm(C,t.translation&&t.translation.daysNames):null}),w=q(()=>{const C=t.translation&&t.translation.yearSuffix;return`${gt(t.pageDate)}${C}`}),x=q(()=>{const C=t.fullMonthName?t.translation&&t.translation.months:t.translation&&t.translation.monthsAbbr;return cm(qt(t.pageDate),C)}),k=q(()=>!(t.minimumView===t.maximumView&&(t.minimumView!=="day"||t.maximumView!=="day")));return{isRightNavDisabled:p,isLeftNavDisabled:f,pageYearName:h,months:d,selectMonth:n,previousYear:o,nextYear:a,currYearName:w,getDisplayDate:y,monthName:v,showYearCalendar:l,getDayName:_,currMonthName:x,ifDifferentViews:k,isSelectedMonth:c,isDisabledMonth:u}}}),Xq={key:0,class:"vuejs3-datepicker__calendar-topbar"},Jq={key:0,class:"vuejs3-datepicker__calendar-topbar-day"},Qq={class:"vuejs3-datepicker__calendar-actionarea"},eG=["onClick"];function tG(t,e,n,s,i,o){return $e((b(),$("div",{class:Se(["vuejs3-datepicker__calendar",`vuejs3-${t.theme}`,t.calendarClass]),style:Qt(t.calendarStyle),onMousedown:e[4]||(e[4]=un(()=>{},["prevent"]))},[lt(t.$slots,"customCalendarHeader"),t.ifDifferentViews?(b(),$("section",Xq,[m("p",{class:"vuejs3-datepicker__calendar-topbar-year",onClick:e[0]||(e[0]=(...r)=>t.showYearCalendar&&t.showYearCalendar(...r))},H(t.currYearName),1),lt(t.$slots,"formatDateTopBar",{},()=>[t.selectedDate?(b(),$("p",Jq,H(t.getDayName)+" "+H(t.getDisplayDate)+" "+H(t.monthName),1)):N("",!0)])])):N("",!0),m("div",Qq,[m("header",null,[m("span",{onClick:e[1]||(e[1]=r=>t.isRtl?t.nextYear():t.previousYear()),class:Se(["prev",{disabled:t.isLeftNavDisabled}])},"<",2),m("span",{class:Se(["month__year_btn",t.allowedToShowView("year")?"up":""]),onClick:e[2]||(e[2]=(...r)=>t.showYearCalendar&&t.showYearCalendar(...r))},H(t.pageYearName),3),m("span",{onClick:e[3]||(e[3]=r=>t.isRtl?t.previousYear():t.nextYear()),class:Se(["next",{disabled:t.isRightNavDisabled}])},">",2)]),(b(!0),$(ue,null,Be(t.months,r=>(b(),$("span",{class:Se(["cell month",{selected:r.isSelected,disabled:r.isDisabled}]),key:r.timestamp,onClick:un(a=>t.selectMonth(r),["stop"])},H(r.month),11,eG))),128))])],38)),[[ai,t.showMonthView]])}const nG=kc(Zq,[["render",tG]]),sG=j({name:"PickerYear",props:{showYearView:{type:Boolean},selectedDate:{type:[String,Date],required:!1,default:null},pageDate:{type:Date,default:new Date},disabledDates:{type:Object},highlighted:{type:Object},calendarClass:{type:[String,Object,Array]},calendarStyle:{type:Object},translation:{type:Object},isRtl:{type:Boolean},allowedToShowView:{type:Function,required:!0},useUtc:{type:Boolean},fullMonthName:{type:Boolean},minimumView:{type:String,default:"day"},maximumView:{type:String,default:"year"},theme:{default:"green",type:String}},emits:["select-year","changed-decade"],setup(t,{emit:e}){function n(k){k.isDisabled||e("select-year",k)}function s(k){const C=t.pageDate;m_(C,gt(C)+k),e("changed-decade",C)}function i(){const k=t.disabledDates;if(!k||!k.to)return!1;const C=gt(k.to),S=Math.floor(gt(t.pageDate)/10)*10-1;return C>S}function o(){i()||s(-10)}function r(){const k=t.disabledDates;if(!k||!k.from)return!1;const C=gt(k.from),S=Math.ceil(gt(t.pageDate)/10)*10;return C<=S}function a(){r()||s(10)}function l(k){const C=Ji(t.selectedDate);return t.selectedDate?gt(C)===gt(k):!1}function c(k){let C=!1;return typeof t.disabledDates>"u"||!t.disabledDates?!1:(typeof t.disabledDates.to<"u"&&t.disabledDates.to&&gt(k)<gt(t.disabledDates.to)&&(C=!0),typeof t.disabledDates.from<"u"&&t.disabledDates.from&&gt(k)>gt(t.disabledDates.from)&&(C=!0),typeof t.disabledDates.customPredictor=="function"&&(C=t.disabledDates.customPredictor(k)),C)}const u=q(()=>{const k=t.pageDate,C=[],S=t.useUtc?new Date(Date.UTC(Math.floor(k.getUTCFullYear()/10)*10,k.getUTCMonth(),k.getUTCDate())):new Date(Math.floor(k.getFullYear()/10)*10,k.getMonth(),k.getDate(),k.getHours(),k.getMinutes());for(let A=0;A<10;A+=1)C.push({year:gt(S),timestamp:S.getTime(),isSelected:l(S),isDisabled:c(S)}),m_(S,gt(S)+1);return C}),d=q(()=>{const k=Math.floor(gt(t.pageDate)/10)*10,C=k+9,S=t.translation&&t.translation.yearSuffix;return`${k} - ${C}${S}`}),h=q(()=>t.isRtl?r():i()),f=q(()=>t.isRtl?i():r()),p=q(()=>{const k=Ji(t.selectedDate);return t.selectedDate?lm(k,t.translation&&t.translation.daysNames):null}),v=q(()=>{const k=t.translation&&t.translation.months;return id(qt(t.pageDate),k)}),y=q(()=>{const k=Ji(t.selectedDate);return t.selectedDate?Ns(k):null}),_=q(()=>{const k=t.translation&&t.translation.yearSuffix;return`${gt(t.pageDate)}${k}`}),w=q(()=>{const k=t.fullMonthName?t.translation&&t.translation.months:t.translation&&t.translation.monthsAbbr;return cm(qt(t.pageDate),k)}),x=q(()=>!(t.minimumView===t.maximumView&&(t.minimumView!=="day"||t.maximumView!=="day")));return{isRightNavDisabled:f,isLeftNavDisabled:h,getPageDecade:d,years:u,nextDecade:a,previousDecade:o,selectYear:n,getDayName:p,monthName:v,getDisplayDate:y,currYearName:_,currMonthName:w,ifDifferentViews:x,isNextDecadeDisabled:r,isPreviousDecadeDisabled:i,isDisabledYear:c}}}),iG={key:0,class:"vuejs3-datepicker__calendar-topbar"},oG={class:"vuejs3-datepicker__calendar-topbar-year"},rG={key:0,class:"vuejs3-datepicker__calendar-topbar-day"},aG={class:"vuejs3-datepicker__calendar-actionarea"},lG=["onClick"];function cG(t,e,n,s,i,o){return $e((b(),$("div",{class:Se(["vuejs3-datepicker__calendar",`vuejs3-${t.theme}`,t.calendarClass]),style:Qt(t.calendarStyle),onMousedown:e[2]||(e[2]=un(()=>{},["prevent"]))},[lt(t.$slots,"customCalendarHeader"),t.ifDifferentViews&&t.selectedDate?(b(),$("section",iG,[m("p",oG,H(t.currYearName),1),lt(t.$slots,"formatDateTopBar",{},()=>[t.selectedDate?(b(),$("p",rG,H(t.getDayName)+" "+H(t.getDisplayDate)+" "+H(t.monthName),1)):N("",!0)])])):N("",!0),m("div",aG,[m("header",null,[m("span",{onClick:e[0]||(e[0]=r=>t.isRtl?t.nextDecade():t.previousDecade()),class:Se(["prev",{disabled:t.isLeftNavDisabled}])},"<",2),m("span",null,H(t.getPageDecade),1),m("span",{onClick:e[1]||(e[1]=r=>t.isRtl?t.previousDecade():t.nextDecade()),class:Se(["next",{disabled:t.isRightNavDisabled}])},">",2)]),(b(!0),$(ue,null,Be(t.years,r=>(b(),$("span",{class:Se(["cell year",{selected:r.isSelected,disabled:r.isDisabled}]),key:r.timestamp,onClick:un(a=>t.selectYear(r),["stop"])},H(r.year),11,lG))),128))])],38)),[[ai,t.showYearView]])}const uG=kc(sG,[["render",cG]]),dG=()=>{const t="العربية";return{months:["كانون الثاني","شباط","آذار","نيسان","ايار","حزيران","تموز","آب","أيلول","تشرين الاول","تشرين الثاني","كانون الاول"],monthsAbbr:["كانون الثاني","شباط","آذار","نيسان","ايار","حزيران","تموز","آب","أيلول","تشرين الاول","تشرين الثاني","كانون الاول"],days:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"],language:t,yearSuffix:"",ymd:!1,rtl:!0,langName:t,daysNames:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"]}},hG=()=>{const t="Afrikaans",e=["Januarie","Februarie","Maart","April","Mei","Junie","Julie","Augustus","September","Oktober","November","Desember"],n=["Jan","Feb","Mrt","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Des"],s=["So.","Ma.","Di.","Wo.","Do.","Vr.","Sa."];return{months:e,monthsAbbr:n,days:s,yearSuffix:"",ymd:!1,rtl:!1,language:t,langName:t,daysNames:s}},fG=()=>{const t="German";return{months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthsAbbr:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],days:["So","Mo","Di","Mi","Do","Fr","Sa"],language:t,yearSuffix:"",ymd:!1,rtl:!1,langName:t,daysNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]}},pG=()=>{const t="English";return{months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],language:t,yearSuffix:"",ymd:!1,rtl:!1,langName:t,daysNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},mG=()=>{const t="Español";return{months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthsAbbr:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],days:["Dom","Lun","Mar","Mie","Jue","Vie","Sab"],language:t,yearSuffix:"",ymd:!1,rtl:!1,langName:t,daysNames:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"]}},gG=()=>{const t="Français";return{months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],monthsAbbr:["Jan","Fév","Mar","Avr","Mai","Jui","Juil","Aoû","Sep","Oct","Nov","Déc"],days:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],language:t,yearSuffix:"",ymd:!1,rtl:!1,langName:t,daysNames:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"]}},_G=()=>{const t="Hindi";return{months:["जनवरी","फ़रवरी","मार्च","अप्रैल","मई","जून","जुलाई","अगस्त","सितंबर","अक्टूबर","नवंबर","दिसंबर"],monthsAbbr:["जन","फ़र","मार्च","अप्रै","मई","जून","जुला","अगस्त","सितं","अक्टू","नवं","दिसं"],days:["रवि","सोम","मंगल","बुध","गुरु","शुक्र","शनि"],language:t,yearSuffix:"",ymd:!1,rtl:!1,langName:t,daysNames:["रविवार","सोमवार","मंगलवार","बुधवार","गुरुवार","शुक्रवार","शनिवार"]}},vG=()=>{const t="Japanese";return{months:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],monthsAbbr:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],days:["日","月","火","水","木","金","土"],language:t,yearSuffix:"",ymd:!1,rtl:!1,langName:t,daysNames:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"]}},yG=()=>{const t="Dutch",e=["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],n=["jan.","feb.","mrt.","apr.","mei","juni","juli","aug.","sep.","okt.","nov.","dec."],s=["zo.","ma.","di.","wo.","do.","vr.","za."];return{months:e,monthsAbbr:n,days:s,yearSuffix:"",ymd:!1,rtl:!1,langName:t,language:t,daysNames:s}},bG=()=>{const t="Português";return{months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthsAbbr:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],days:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"],language:t,yearSuffix:"",ymd:!1,rtl:!1,langName:t,daysNames:["Domingo","Segunda-Feira","Terça-Feira","Quarta-Feira","Quinta-Feira","Sexta-Feira","Sábado"]}},wG=()=>{const t="Italian";return{months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthsAbbr:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],days:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],language:t,yearSuffix:"",ymd:!1,rtl:!1,langName:t,daysNames:["Domenica","Lunedì","Martedì","Mercoledì","Gioved","Venerdì","Sabato"]}},xG=()=>{const t="Polish";return{months:["Styczeń","Luty","Marzec","Kwiecień","Maj","Czerwiec","Lipiec","Sierpień","Wrzesień","Październik","Listopad","Grudzień"],monthsAbbr:["Sty","Lut","Mar","Kwi","Maj","Cze","Lip","Sie","Wrz","Paź","Lis","Gru"],days:["Nd","Pn","Wt","Śr","Cz","Pt","So"],language:t,yearSuffix:"",ymd:!1,rtl:!1,langName:t,daysNames:["Niedziela","Poniedziałek","Wtorek","Środa","Czwartek","Piątek","Sobota"]}},SG=()=>{const t="Russian";return{months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthsAbbr:["Янв.","Фев.","Мар.","Апр.","Май","Июн.","Июл.","Авг.","Сен.","Окт.","Ноя.","Дек."],days:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],language:t,yearSuffix:"",ymd:!1,rtl:!1,langName:t,daysNames:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"]}},kG=()=>{const t="Türkçe";return{months:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],monthsAbbr:["Oca","Şub","Mar","Nis"," May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],days:["Pzt","Sal","Çar","Per","Cum","Cmt","Pzr"],language:t,yearSuffix:"",ymd:!1,rtl:!1,langName:t,daysNames:["Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi","Pazar"]}},$G=()=>{const t="Vietnamese";return{months:["Tháng 1","Tháng 2","Tháng 3","Tháng 4","Tháng 5","Tháng 6","Tháng 7","Tháng 8","Tháng 9","Tháng 10","Tháng 11","Tháng 12"],monthsAbbr:["Tháng 1","Tháng 2","Tháng 3","Tháng 4","Tháng 5","Tháng 6","Tháng 7","Tháng 8","Tháng 9","Tháng 10","Tháng 11","Tháng 12"],days:["CN","H","B","T","N","S","B"],language:t,yearSuffix:"",ymd:!1,rtl:!1,langName:t,daysNames:["CN","Thứ Hai","Thứ Ba","Thứ Tư","Thứ Năm","Thứ Sáu","Thứ Bảy"]}},CG=()=>{const t="Bulgarian";return{months:["Януари","Февруари","Март","Април","Май","Юни","Юли","Август","Септември","Октомври","Ноември","Декември"],monthsAbbr:["Яну","Фев","Мар","Апр","Май","Юни","Юли","Авг","Сеп","Окт","Ное","Дек"],days:["Нд","Пн","Вт","Ср","Чт","Пт","Сб"],language:t,yearSuffix:"",ymd:!1,rtl:!1,langName:t,daysNames:["Неделя","Понеделник","Вторник","Сряда","Четвъртък","Петък","Събота"]}},EG=()=>{const t="Arabic-Tunisia",e=["جانفي","فيفري","مارس","أفريل","ماي","جوان","جويلية","أوت","سبتمبر","أكتوبر","نوفمبر","ديسمبر"];return{months:e,monthsAbbr:e,days:["أحد","أثنين","ثلاثاء","أربعاء","خميس","جمعة","سبت"],language:t,yearSuffix:"",ymd:!1,rtl:!0,langName:t,daysNames:["الأحد","الإثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"]}},TG=()=>{const t="Indonesia";return{months:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","Nopember","Desember"],monthsAbbr:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agt","Sep","Okt","Nop","Des"],days:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],language:t,yearSuffix:"",ymd:!1,rtl:!1,langName:t,daysNames:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"]}},AG=()=>{const t="kr";return{months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],monthsAbbr:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],days:["월요일","화요일","수요일","목요일","금요일","토요일","일요일"],language:t,yearSuffix:"",ymd:!1,rtl:!1,langName:t,daysNames:["월요일","화요일","수요일","목요일","금요일","토요일","일요일"]}},MG=()=>{const t="繁體中文";return{months:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],monthsAbbr:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],days:["日","一","二","三","四","五","六"],language:t,yearSuffix:"",ymd:!1,rtl:!1,langName:t,daysNames:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]}},IG=()=>{const t="Czech";return{months:["Leden","Únor","Březen","Duben","Smět","Červen","Červenec","Srpen","Září","Říjen","Listopad","Prosinec"],monthsAbbr:["Led","Úno","Bře","Dub","Smě","Čen","Čec","Srp","Zář","Říj","Lis","Pro"],days:["Ne","Po","Út","St","Čt","Pá","So"],language:t,yearSuffix:"",ymd:!1,rtl:!1,langName:t,daysNames:["Neděle","Pondělí","Úterý","Středa","Čtvrtek","Pátek","Sobota"]}},OG={ar:dG(),af:hG(),arTn:EG(),hi:_G(),ja:vG(),de:fG(),en:pG(),es:mG(),fr:gG(),nl:yG(),pt:bG(),it:wG(),pl:xG(),ru:SG(),tr:kG(),zh_TW:MG(),vn:$G(),bg:CG(),kr:AG(),id:TG(),cs:IG()},DG=j({name:"Datepicker",components:{DateInput:zq,PickerDay:Kq,PickerMonth:nG,PickerYear:uG},directives:{clickoutside:vq},props:{modelValue:{type:[Date,String,Number]},value:{type:[Date,String,Number]},format:{type:[String,Function],default:"dd MMM yyyy"},language:{type:String,default:"en"},openDate:{validator:t=>Mq(t),type:Date,default:new Date},minimumView:{type:String,default:"day"},maximumView:{type:String,default:"year"},name:{type:String},id:{type:String},dayCellContent:{type:Function},fullMonthName:{type:Boolean},disabledDates:{type:Object},highlighted:{type:Object},placeholder:{type:String},inline:{type:Boolean},calendarClass:{type:[String,Object,Array]},inputClass:{type:[String,Object,Array]},wrapperClass:{type:[String,Object,Array]},mondayFirst:{type:Boolean},clearButton:{type:Boolean},clearButtonIcon:{type:String},calendarButton:{type:Boolean},calendarButtonIcon:{type:String},calendarButtonIconContent:{type:String},addBootstrapClass:{type:Boolean},initialView:{type:String},disabled:{type:Boolean},required:{type:Boolean},typeable:{type:Boolean},useUtc:{type:Boolean},hideInput:{type:Boolean,default:!0},preventDisableDateSelection:{type:Boolean,default:!0},iconColor:{default:"black",type:String},iconHeight:{default:16,type:[String,Number]},iconWidth:{default:16,type:[String,Number]},theme:{default:"green",type:String}},emits:["input","cleared","update:modelValue","closed","changed-month","changed-year","changed-day","selected","selected-disabled"],setup(t,{emit:e}){const n=new Date(t.modelValue),s=Y(0),i=Y(null);t.modelValue&&Cq(n)&&(s.value=n.getTime(),i.value=n),t.openDate&&(s.value=xf(new Date(t.openDate),1));const o=Y(!1),r=Y(!1),a=Y(!1),l=Y(0),c=Y(new Date),u=q(()=>t.initialView?t.initialView:t.minimumView),d=q(()=>new Date(s.value)),h=q(()=>OG[t.language]),f=q(()=>!!t.inline),p=q(()=>({position:f.value?"static":void 0})),v=q(()=>o.value||r.value||a.value),y=q(()=>h.value&&h.value.rtl===!0);function _(ae){ae||(t.openDate?ae=new Date(t.openDate):ae=new Date),s.value=xf(new Date(ae),1)}function w(ae){const Te=["day","month","year"],We=Te.indexOf(t.minimumView),Ke=Te.indexOf(t.maximumView),He=Te.indexOf(ae);return He>=We&&He<=Ke}function x(ae){o.value=!1,r.value=!1,a.value=!1,f.value||ae&&e("closed")}function k(){return w("day")?(x(),o.value=!0,!0):!1}function C(){return w("month")?(x(),r.value=!0,!0):!1}function S(){return w("year")?(x(),a.value=!0,!0):!1}function A(){const ae=u.value;if(!w(ae))throw new Error(`initialView '${ae}' cannot be rendered based on minimum '${t.minimumView}' and maximum '${t.maximumView}'`);switch(ae){case"year":S();break;case"month":C();break;default:k();break}}function O(){return t.disabled||f.value?!1:v.value?x(!0):(A(),!0)}function M(ae){const Te=new Date(ae);i.value=Te,_(Te),e("selected",Te),e("update:modelValue",Te),e("input",Te)}function V(){i.value=null,_(),e("selected",null),t.modelValue?e("update:modelValue",null):e("input",null),e("cleared")}function R(ae){M(ae.timestamp),f.value||x(!0),c.value=new Date}function X(ae){e("selected-disabled",ae)}function P(ae){const Te=new Date(ae.timestamp);w("day")?(_(Te),k()):R(ae),e("changed-month",ae)}function F(ae){const Te=new Date(ae.timestamp);w("month")?(_(Te),C()):R(ae),e("changed-year",ae)}function Z(ae){let Te=ae;if(typeof ae=="string"||typeof ae=="number"){const We=new Date(ae);Te=Number.isNaN(We.valueOf())?"":We}if(!Te){_(),i.value=null;return}i.value=Te,_(ae)}function Q(ae){_(ae),e("changed-month",ae)}function G(ae){M(ae.getTime())}function ie(){t.value&&Z(t.value),f.value&&A()}function ge(){x()}return ke(()=>t.modelValue,ae=>{Z(ae)}),ke(()=>t.value,ae=>{Z(ae)}),ke(()=>t.openDate,()=>{_()}),ke(()=>t.initialView,()=>{A()}),ie(),{pageTimestamp:s,selectedDate:i,showDayView:o,showMonthView:r,showYearView:a,calendarHeight:l,resetTypedDate:c,pageDate:d,translation:h,calendarStyle:p,isOpen:v,isInline:f,isRtl:y,setTypedDate:G,handleChangedMonthFromDayPicker:Q,selectYear:F,selectMonth:P,selectDisabledDate:X,clearDate:V,showCalendar:O,close:x,allowedToShowView:w,showYearCalendar:S,showMonthCalendar:C,setPageDate:_,selectDate:R,closeOnClickOutside:ge,showDayCalendar:k,computedInitialView:u,setDate:xf,setDate1:M,setValue:Z}}});function LG(t,e,n,s,i,o){const r=Xe("date-input"),a=Xe("picker-day"),l=Xe("picker-month"),c=Xe("picker-year"),u=it("clickoutside");return $e((b(),$("div",{class:Se(["vuejs3-datepicker",[t.isRtl?"rtl":"",`vuejs3-${t.theme}`,t.wrapperClass]])},[E(r,{selectedDate:t.selectedDate,resetTypedDate:t.resetTypedDate,format:t.format,translation:t.translation,inline:t.inline,id:t.id,name:t.name,fullMonthName:t.fullMonthName,openDate:t.openDate,placeholder:t.placeholder,inputClass:t.inputClass,typeable:t.typeable,clearButton:t.clearButton,clearButtonIcon:t.clearButtonIcon,calendarButton:t.calendarButton,calendarButtonIcon:t.calendarButtonIcon,calendarButtonIconContent:t.calendarButtonIconContent,disabled:t.disabled,required:t.required,addBootstrapClass:t.addBootstrapClass,"use-utc":t.useUtc,onShowCalendar:t.showCalendar,onCloseCalendar:t.close,onTypedDate:t.setTypedDate,onClearDate:t.clearDate,minimumView:t.minimumView,maximumView:t.maximumView,hideInput:t.hideInput,iconWidth:t.iconWidth,iconHeight:t.iconHeight,iconColor:t.iconColor,theme:t.theme},{belowDate:L(()=>[lt(t.$slots,"belowDate")]),_:3},8,["selectedDate","resetTypedDate","format","translation","inline","id","name","fullMonthName","openDate","placeholder","inputClass","typeable","clearButton","clearButtonIcon","calendarButton","calendarButtonIcon","calendarButtonIconContent","disabled","required","addBootstrapClass","use-utc","onShowCalendar","onCloseCalendar","onTypedDate","onClearDate","minimumView","maximumView","hideInput","iconWidth","iconHeight","iconColor","theme"]),t.allowedToShowView("day")?(b(),B(a,{key:0,pageDate:t.pageDate,selectedDate:t.selectedDate,showDayView:t.showDayView,fullMonthName:t.fullMonthName,allowedToShowView:t.allowedToShowView,disabledDates:t.disabledDates,highlighted:t.highlighted,calendarClass:t.calendarClass,calendarStyle:t.calendarStyle,translation:t.translation,pageTimestamp:t.pageTimestamp,isRtl:t.isRtl,mondayFirst:t.mondayFirst,dayCellContent:t.dayCellContent,onChangedMonth:t.handleChangedMonthFromDayPicker,onSelectDate:t.selectDate,onShowMonthCalendar:t.showMonthCalendar,onSelectedDisabled:t.selectDisabledDate,onShowYearCalendar:t.showYearCalendar,minimumView:t.minimumView,maximumView:t.maximumView,preventDisableDateSelection:t.preventDisableDateSelection,theme:t.theme},{customCalendarHeader:L(()=>[lt(t.$slots,"customCalendarHeader")]),formatDateTopBar:L(()=>[lt(t.$slots,"formatDateTopBar")]),_:3},8,["pageDate","selectedDate","showDayView","fullMonthName","allowedToShowView","disabledDates","highlighted","calendarClass","calendarStyle","translation","pageTimestamp","isRtl","mondayFirst","dayCellContent","onChangedMonth","onSelectDate","onShowMonthCalendar","onSelectedDisabled","onShowYearCalendar","minimumView","maximumView","preventDisableDateSelection","theme"])):N("",!0),t.allowedToShowView("month")?(b(),B(l,{key:1,pageDate:t.pageDate,selectedDate:t.selectedDate,showMonthView:t.showMonthView,allowedToShowView:t.allowedToShowView,disabledDates:t.disabledDates,calendarClass:t.calendarClass,calendarStyle:t.calendarStyle,translation:t.translation,isRtl:t.isRtl,"use-utc":t.useUtc,fullMonthName:t.fullMonthName,onSelectMonth:t.selectMonth,onShowYearCalendar:t.showYearCalendar,onChangedYear:t.setPageDate,minimumView:t.minimumView,maximumView:t.maximumView,theme:t.theme},{customCalendarHeader:L(()=>[lt(t.$slots,"customCalendarHeader")]),formatDateTopBar:L(()=>[lt(t.$slots,"formatDateTopBar")]),_:3},8,["pageDate","selectedDate","showMonthView","allowedToShowView","disabledDates","calendarClass","calendarStyle","translation","isRtl","use-utc","fullMonthName","onSelectMonth","onShowYearCalendar","onChangedYear","minimumView","maximumView","theme"])):N("",!0),t.allowedToShowView("year")?(b(),B(c,{key:2,pageDate:t.pageDate,selectedDate:t.selectedDate,showYearView:t.showYearView,allowedToShowView:t.allowedToShowView,disabledDates:t.disabledDates,calendarClass:t.calendarClass,calendarStyle:t.calendarStyle,translation:t.translation,isRtl:t.isRtl,"use-utc":t.useUtc,onSelectYear:t.selectYear,onChangedDecade:t.setPageDate,fullMonthName:t.fullMonthName,minimumView:t.minimumView,maximumView:t.maximumView,theme:t.theme},{customCalendarHeader:L(()=>[lt(t.$slots,"customCalendarHeader")]),formatDateTopBar:L(()=>[lt(t.$slots,"formatDateTopBar")]),_:3},8,["pageDate","selectedDate","showYearView","allowedToShowView","disabledDates","calendarClass","calendarStyle","translation","isRtl","use-utc","onSelectYear","onChangedDecade","fullMonthName","minimumView","maximumView","theme"])):N("",!0)],2)),[[u,{handler:t.inline?null:t.closeOnClickOutside}]])}const PG=kc(DG,[["render",LG]]),RG={class:"calendar"},VG=j({__name:"calender-datepicker",props:{modelValue:{},dayFunction:{type:Function}},emits:["update:modelValue","changed-month","changed-year"],setup(t,{emit:e}){const n=t,s=e;function i({date:o,timestamp:r}){const a=new Date(r);if(a.getDate()===new Date().getDate()&&a.getMonth()===new Date().getMonth()&&a.getFullYear()===new Date().getFullYear()&&(o=`<b>${o}</b>`),!n.dayFunction)return`<span class="date">${o}</span>`;const l=n.dayFunction(a);return`<span class="date">${o}</span><span class='tags'>`+l.map(c=>`<span class="tag" style="background:${c}"></span>`).join("")+"</span>"}return(o,r)=>(b(),$("div",RG,[E(g(PG),{inline:!0,"monday-first":!0,value:o.modelValue,"day-cell-content":i,onChangedMonth:r[0]||(r[0]=a=>s("changed-month",a)),onChangedYear:r[1]||(r[1]=a=>s("changed-year",a)),onSelected:r[2]||(r[2]=a=>s("update:modelValue",a))},null,8,["value"])]))}});const NG=J(VG,[["__scopeId","data-v-0db75cf9"]]),UG=j({__name:"user-link",props:{username:{},name:{}},setup(t){const e=t,n=Y(!1),s=Y();async function i(){D.Services.UI.setLoading(!0);try{const o=await D.Services.User.getUser(e.username);s.value=o.data,n.value=!0}catch(o){D.Services.UI.openErrorModal("Ошибка при получении пользователя",o.message)}finally{D.Services.UI.setLoading(!1)}}return(o,r)=>{const a=o9;return b(),$(ue,null,[m("span",{onClick:i,class:"user-link"},H(o.name||o.username),1),s.value?(b(),B(a,{key:0,visible:n.value,"onUpdate:visible":r[0]||(r[0]=l=>n.value=l),user:s.value},null,8,["visible","user"])):N("",!0)],64)}}});const d9=J(UG,[["__scopeId","data-v-9ac6382e"]]),BG={class:"calender-event-item__header"},jG={class:"calender-event-item__header__title"},zG={class:"calender-event-item__header__visibility"},FG={class:"calender-event-item__body"},WG={class:"calender-event-item__body__description"},HG={class:"calender-event-item__body__button"},qG=j({__name:"calender-event-item",props:{title:{},description:{},date:{},visibility:{},url:{},type:{},username:{},id:{}},emits:["remove"],setup(t){const e=t,n=q(()=>{switch(e.visibility){case"all":return"Видно всем";case"private":return"Приватное событие";case"own-mentor":return"Видно только ученику и его куратору";case"all-mentors":return"Видно всем кураторам";case"own-students":return"Видно только куратору и его ученикам";default:return"Неизвестно"}});return(s,i)=>{var a;const o=d9,r=xt;return b(),$("div",{class:Se(["calender-event-item",s.type])},[m("div",BG,[m("h3",jG,H(s.title),1),m("p",zG,[E(o,{username:s.username},{default:L(()=>[W(H(s.username),1)]),_:1},8,["username"]),W(" - "+H(n.value),1)])]),m("div",FG,[m("p",WG,H(s.description),1),m("div",HG,[s.url?(b(),B(r,{key:0,to:s.url},{default:L(()=>[W(" Перейти ")]),_:1},8,["to"])):s.type==="event"&&((a=g(D).Context.User)==null?void 0:a.username)===s.username?(b(),B(r,{key:1,onClick:i[0]||(i[0]=l=>s.$emit("remove")),design:"secondary"},{default:L(()=>[W(" Удалить ")]),_:1})):N("",!0)])])],2)}}});const GG=J(qG,[["__scopeId","data-v-019675ac"]]),YG=t=>(Ie("data-v-bcaf37ac"),t=t(),Oe(),t),KG={class:"calender-event-list"},ZG={class:"calender-event-list__header"},XG={class:"calender-event-list__header__title"},JG=kv('<ul class="calender-event-list__header__legend" data-v-bcaf37ac><li data-v-bcaf37ac><span class="calender-event-list__header__legend__color" style="background:var(--danger);" data-v-bcaf37ac></span> дедлайн сдачи работы </li><li data-v-bcaf37ac><span class="calender-event-list__header__legend__color" style="background:var(--lila);" data-v-bcaf37ac></span> дедлайн проверки работы </li><li data-v-bcaf37ac><span class="calender-event-list__header__legend__color" style="background:var(--success);" data-v-bcaf37ac></span> работа проверена </li><li data-v-bcaf37ac><span class="calender-event-list__header__legend__color" style="background:var(--warning);" data-v-bcaf37ac></span> работа сдана </li><li data-v-bcaf37ac><span class="calender-event-list__header__legend__color" style="background:var(--text-light);" data-v-bcaf37ac></span> другое событие </li></ul>',1),QG={class:"calender-event-list__events"},eY={key:0,class:"calender-event-list__events__empty"},tY=YG(()=>m("p",null,"Нет событий в этот день",-1)),nY=[tY],sY=j({__name:"calender-event-list",props:{date:{},events:{}},emits:["remove"],setup(t){const e=t,n=q(()=>_n(e.date,{precision:"day"})),s=q(()=>e.events.filter(i=>n.value.isOnSameDay(i.date)));return(i,o)=>{const r=it("auto-animate");return b(),$("div",KG,[m("div",ZG,[m("h2",XG," События "+H(n.value.toBeautiful()),1),JG]),$e((b(),$("div",QG,[(b(!0),$(ue,null,Be(s.value,a=>(b(),B(GG,bc({key:a.id,ref_for:!0},a,{onRemove:l=>i.$emit("remove",a.id)}),null,16,["onRemove"]))),128)),s.value.length?N("",!0):(b(),$("div",eY,nY))])),[[r]])])}}});const iY=J(sY,[["__scopeId","data-v-bcaf37ac"]]),oY={class:"text-area"},rY={key:0,class:"text-area__label"},aY=["placeholder","readonly"],lY={key:1,class:"text-area__error"},cY=j({__name:"text-area",props:{label:{},modelValue:{},placeholder:{},validators:{},readonly:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=e,i=q({get:()=>n.modelValue,set:r=>s("update:modelValue",r)}),o=Y([]);return ke(i,()=>{if(o.value=[],n.validators)for(const r of n.validators){const a=r(i.value);a!==!0&&o.value.push(a)}}),(r,a)=>(b(),$("div",oY,[r.label?(b(),$("label",rY,H(r.label),1)):N("",!0),$e(m("textarea",{class:Se(["text-area__textarea",{"text-area__textarea--readonly":r.readonly,"text-area__textarea--error":!!o.value.length}]),placeholder:r.placeholder,"onUpdate:modelValue":a[0]||(a[0]=l=>i.value=l),readonly:r.readonly,onFocusin:a[1]||(a[1]=()=>o.value.length=0),onFocusout:a[2]||(a[2]=()=>o.value.length=0)},null,42,aY),[[Wo,i.value]]),o.value.length?(b(),$("span",lY,H(o.value[0]),1)):N("",!0)]))}});const sr=J(cY,[["__scopeId","data-v-b310ada1"]]),uY={class:"calender-event-form"},dY={class:"calender-event-form__header"},hY={class:"calender-event-form__header__title"},fY={class:"calender-event-form__body"},pY={class:"calender-event-form__body__form"},mY={class:"form-row"},gY={class:"form-group form-group--input"},_Y={class:"form-group form-group--checkbox"},vY={class:"form-group form-group--button"},yY={class:"form-group from-group--textarea"},bY=j({__name:"calender-event-form",props:{modelValue:{},visibilityOptions:{}},emits:["update:modelValue","submit"],setup(t,{emit:e}){const n=t,s=e,i=q({get(){return n.modelValue},set(r){s("update:modelValue",r)}}),o=q(()=>_n(i.value.date,{precision:"day"}).toBeautiful());return(r,a)=>{const l=zt,c=us,u=xt,d=sr;return b(),$("div",uY,[m("div",dY,[m("h2",hY," Создать событие на "+H(o.value),1)]),m("div",fY,[m("div",pY,[m("div",mY,[m("div",gY,[E(l,{label:"Название",type:"text",modelValue:i.value.title,"onUpdate:modelValue":a[0]||(a[0]=h=>i.value.title=h)},null,8,["modelValue"])]),m("div",_Y,[E(c,{label:"Кто может видеть?",modelValue:i.value.visibility,"onUpdate:modelValue":a[1]||(a[1]=h=>i.value.visibility=h),options:r.visibilityOptions},null,8,["modelValue","options"])]),m("div",vY,[E(u,{primary:"",onClick:a[2]||(a[2]=h=>r.$emit("submit"))},{default:L(()=>[W(" Создать ")]),_:1})])]),m("div",yY,[E(d,{modelValue:i.value.description,"onUpdate:modelValue":a[3]||(a[3]=h=>i.value.description=h),label:"Описание"},null,8,["modelValue"])])])])])}}});const wY=J(bY,[["__scopeId","data-v-934ac4b9"]]),xY={class:"index-calender-view"},SY={class:"index-calender-view__calender"},kY={class:"index-calender-view__events"},$Y={key:0,class:"index-calender-view__events__loading"},CY={key:1,class:"index-calender-view__events__inner"},EY=j({__name:"calender-view",props:{username:{}},setup(t){const e=t,n=D.Services.UI,s=D.Services.Calender,i=Y(new Date),o=Y(!1),r=Y([]),a=Y(h());ke(i,()=>a.value.date=i.value),ke(i,(y,_)=>l(y,_),{immediate:!0});async function l(y,_){if(!_)_=y;else if(_.getMonth()===y.getMonth())return;o.value=!0;try{const w=new Date(y.getFullYear(),y.getMonth(),0),x=new Date(y.getFullYear(),y.getMonth()+1,1),k=await s.getEvents({"filter[date]":{type:"range",value:[w,x]},"filter[username]":{type:"string",value:e.username}});r.value=k.data}catch(w){n.openErrorModal("Ошибка при получении событий",w.message)}finally{o.value=!1}}async function c(y){try{await s.deleteEvent(y,{showLoader:!0}),r.value=r.value.filter(_=>_.id!==y)}catch(_){n.openErrorModal("Ошибка при удалении события",_.message)}}async function u(){try{const y=await s.createEvent({...a.value,id:void 0},{showLoader:!0});if(!y.data)throw new Error("Не удалось создать событие");r.value.push(y.data),a.value=h()}catch(y){n.openErrorModal("Ошибка при создании события",y.message)}}function d(y){i.value=y}function h(){return{title:"",description:"",date:i.value,visibility:"private",type:"event",username:e.username}}function f(y){const _=_n(y,{precision:"day"}),x=r.value.filter(k=>_.isOnSameDay(k.date)).map(k=>{switch(k.type){case"student-deadline":return"var(--danger)";case"mentor-deadline":return"var(--lila)";case"work-checked":return"var(--success)";case"work-made":return"var(--warning)";case"event":default:return"var(--text-light)"}});return[...new Set(x)]}const v=[{for:["admin","teacher"],value:"all",label:"Все"},{for:["mentor"],value:"own-students",label:"Мои ученики"},{for:["admin","teacher","mentor"],value:"all-mentors",label:"Все кураторы"},{for:["student"],value:"own-mentor",label:"Мой куратор"},{for:["admin","teacher","mentor","student","assistant"],value:"private",label:"Только я"}].filter(y=>y.for.includes(D.Context.User.role));return(y,_)=>{var C;const w=NG,x=Sn,k=it("auto-animate");return b(),$("div",xY,[m("div",SY,[E(w,{modelValue:i.value,"onUpdate:modelValue":_[0]||(_[0]=S=>i.value=S),"day-function":f,onChangedMonth:_[1]||(_[1]=S=>d(S))},null,8,["modelValue"])]),$e((b(),$("div",kY,[o.value?(b(),$("div",$Y,[E(x,{contrast:""})])):(b(),$("div",CY,[E(iY,{date:i.value,events:r.value,onRemove:_[2]||(_[2]=S=>c(S))},null,8,["date","events"]),((C=g(D).Context.User)==null?void 0:C.username)===y.username?(b(),B(wY,{key:0,modelValue:a.value,"onUpdate:modelValue":_[3]||(_[3]=S=>a.value=S),"visibility-options":g(v),onSubmit:_[4]||(_[4]=S=>u())},null,8,["modelValue","visibility-options"])):N("",!0)]))])),[[k]])])}}});const h9=J(EY,[["__scopeId","data-v-53f311f9"]]),TY=j({__name:"index-view",setup(t){return ys("Календарь"),(e,n)=>{const s=h9;return b(),B(s,{username:g(D).Context.User.username},null,8,["username"])}}}),AY={path:"/calender",name:"Календарь",component:gq,children:[{path:"",name:"Календарь",component:TY}]},MY={name:"calender",router:AY},um=Kt("course-students-module:course-students",()=>{const t=D.Services.Course,e=D.Services.UI,n=$n(),s=q(()=>n.params.courseSlug),i=Y(null),o=Ht(a);async function r(){try{const h=await t.getCourse(s.value,{showLoader:!0});i.value=h.data,o.trigger()}catch(h){e.openErrorModal("",h.message)}}async function a(h){if(!(D.Context.roleIs(["student","mentor","assistant"])||!i.value))try{return await t.getStudentListWithAssignments(i.value.id,h)}catch(f){e.openErrorModal("Произошла ошибка при загрузке студентов",f.message)}}async function l(h){var f;if(!i.value)return"Курс не найден";try{return await t.addStudentsToCourse(s.value,[h.id]),i.value.studentCount=(i.value.studentCount||0)+1,(f=h.courseAssignments)!=null&&f.length||(h.courseAssignments=[]),h.courseAssignments=[gn("course-assignment")],!0}catch(p){return p.message}}async function c(h){if(!i.value)return"Курс не найден";try{return await t.removeStudentsFromCourse(s.value,[h.id]),h.courseAssignments=[],i.value.studentCount=(i.value.studentCount||0)>0?(i.value.studentCount||0)-1:0,!0}catch(f){return f.message}}async function u(h){try{if(!i.value)throw new Error("Курс не найден");await t.addStudentsViaEmail(s.value,h,{showLoader:!0}),await r(),e.openSuccessModal("Ученики успешно добавлены через имейлы")}catch(f){e.openErrorModal("Произошла ошибка при синзронизации учеников через имейлы",f.message)}}async function d(h){try{if(!i.value)throw new Error("Курс не найден");await t.removeStudentsViaEmail(s.value,h,{showLoader:!0}),await r(),e.openSuccessModal("Ученики успешно удалены через имейлы")}catch(f){e.openErrorModal("Произошла ошибка при удалении учеников через имейлы",f.message)}}return{studentSearch:o,course:i,fetchCourse:r,addStudent:l,removeStudent:c,syncStudentsViaEmail:u,removeStudentsViaEmail:d}}),IY={class:"add-students-view"},OY={class:"add-students-view__search"},DY={class:"add-students-view__table"},LY={key:0,class:"add-students-view__pagination"},PY=j({__name:"add-students-view",setup(t){const e=um(),n=Y([]),s=Y([]),i=Gt([{title:"",type:"avatar",value:r=>r},{title:"Имя",value:r=>{const a=r.name;return r.verificationToken?`<span title="Пользователь не подтвержден">❌</span> ${a}`:a},type:"text",linkTo:r=>`/users/edit/${r.username}`},{title:"Никнейм",type:"text",value:r=>r.username},{title:"E-mail",type:"text",value:r=>r.email},{title:"",width:"200px",alignment:"stretch",value:r=>o(r)?"Добавлен":"Не на курсе",type:"button",design:r=>o(r)?"primary":"secondary",isLoading:r=>n.value.includes(r.id)||s.value.includes(r.id),action:async r=>{o(r)?(s.value.push(r.id),await e.removeStudent(r),s.value=s.value.filter(a=>a!==r.id)):(n.value.push(r.id),await e.addStudent(r),n.value=n.value.filter(a=>a!==r.id))}}]);function o(r){var a;return e.course?!!((a=r.courseAssignments)!=null&&a.length):!1}return(r,a)=>{const l=kn,c=cs,u=bn;return b(),$("div",IY,[m("div",OY,[E(l,{modelValue:g(e).studentSearch.pagination.search,"onUpdate:modelValue":a[0]||(a[0]=d=>g(e).studentSearch.pagination.search=d),"is-loading":g(e).studentSearch.isListLoading},null,8,["modelValue","is-loading"])]),m("div",DY,[E(c,{cols:i,data:g(e).studentSearch.results,"is-loading":g(e).studentSearch.isListLoading},null,8,["cols","data","is-loading"])]),g(e).studentSearch.pagination.page&&g(e).studentSearch.resultsMeta.total&&g(e).studentSearch.pagination.limit?(b(),$("div",LY,[E(u,{page:g(e).studentSearch.pagination.page,"onUpdate:page":a[1]||(a[1]=d=>g(e).studentSearch.pagination.page=d),total:g(e).studentSearch.resultsMeta.total,limit:g(e).studentSearch.pagination.limit},null,8,["page","total","limit"])])):N("",!0)])}}});const RY=J(PY,[["__scopeId","data-v-12a5b87d"]]);var Lt;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const o={};for(const r of i)o[r]=r;return o},t.getValidEnumValues=i=>{const o=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),r={};for(const a of o)r[a]=i[a];return t.objectValues(r)},t.objectValues=i=>t.objectKeys(i).map(function(o){return i[o]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const o=[];for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&o.push(r);return o},t.find=(i,o)=>{for(const r of i)if(o(r))return r},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function s(i,o=" | "){return i.map(r=>typeof r=="string"?`'${r}'`:r).join(o)}t.joinValues=s,t.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(Lt||(Lt={}));var g_;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(g_||(g_={}));const Ne=Lt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),br=t=>{switch(typeof t){case"undefined":return Ne.undefined;case"string":return Ne.string;case"number":return isNaN(t)?Ne.nan:Ne.number;case"boolean":return Ne.boolean;case"function":return Ne.function;case"bigint":return Ne.bigint;case"symbol":return Ne.symbol;case"object":return Array.isArray(t)?Ne.array:t===null?Ne.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Ne.promise:typeof Map<"u"&&t instanceof Map?Ne.map:typeof Set<"u"&&t instanceof Set?Ne.set:typeof Date<"u"&&t instanceof Date?Ne.date:Ne.object;default:return Ne.unknown}},xe=Lt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),VY=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Fs extends Error{constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(o){return o.message},s={_errors:[]},i=o=>{for(const r of o.issues)if(r.code==="invalid_union")r.unionErrors.map(i);else if(r.code==="invalid_return_type")i(r.returnTypeError);else if(r.code==="invalid_arguments")i(r.argumentsError);else if(r.path.length===0)s._errors.push(n(r));else{let a=s,l=0;for(;l<r.path.length;){const c=r.path[l];l===r.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(r))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return i(this),s}static assert(e){if(!(e instanceof Fs))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Lt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},s=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):s.push(e(i));return{formErrors:s,fieldErrors:n}}get formErrors(){return this.flatten()}}Fs.create=t=>new Fs(t);const oc=(t,e)=>{let n;switch(t.code){case xe.invalid_type:t.received===Ne.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case xe.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Lt.jsonStringifyReplacer)}`;break;case xe.unrecognized_keys:n=`Unrecognized key(s) in object: ${Lt.joinValues(t.keys,", ")}`;break;case xe.invalid_union:n="Invalid input";break;case xe.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Lt.joinValues(t.options)}`;break;case xe.invalid_enum_value:n=`Invalid enum value. Expected ${Lt.joinValues(t.options)}, received '${t.received}'`;break;case xe.invalid_arguments:n="Invalid function arguments";break;case xe.invalid_return_type:n="Invalid function return type";break;case xe.invalid_date:n="Invalid date";break;case xe.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Lt.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case xe.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case xe.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case xe.custom:n="Invalid input";break;case xe.invalid_intersection_types:n="Intersection results could not be merged";break;case xe.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case xe.not_finite:n="Number must be finite";break;default:n=e.defaultError,Lt.assertNever(t)}return{message:n}};let f9=oc;function NY(t){f9=t}function np(){return f9}const sp=t=>{const{data:e,path:n,errorMaps:s,issueData:i}=t,o=[...n,...i.path||[]],r={...i,path:o};if(i.message!==void 0)return{...i,path:o,message:i.message};let a="";const l=s.filter(c=>!!c).slice().reverse();for(const c of l)a=c(r,{data:e,defaultError:a}).message;return{...i,path:o,message:a}},UY=[];function De(t,e){const n=np(),s=sp({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===oc?void 0:oc].filter(i=>!!i)});t.common.issues.push(s)}class as{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const s=[];for(const i of n){if(i.status==="aborted")return ht;i.status==="dirty"&&e.dirty(),s.push(i.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,n){const s=[];for(const i of n){const o=await i.key,r=await i.value;s.push({key:o,value:r})}return as.mergeObjectSync(e,s)}static mergeObjectSync(e,n){const s={};for(const i of n){const{key:o,value:r}=i;if(o.status==="aborted"||r.status==="aborted")return ht;o.status==="dirty"&&e.dirty(),r.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof r.value<"u"||i.alwaysSet)&&(s[o.value]=r.value)}return{status:e.value,value:s}}}const ht=Object.freeze({status:"aborted"}),El=t=>({status:"dirty",value:t}),bs=t=>({status:"valid",value:t}),__=t=>t.status==="aborted",v_=t=>t.status==="dirty",od=t=>t.status==="valid",rd=t=>typeof Promise<"u"&&t instanceof Promise;function ip(t,e,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(t):s?s.value:e.get(t)}function p9(t,e,n,s,i){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}var tt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(tt||(tt={}));var Jc,Qc;class ro{constructor(e,n,s,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=s,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const mb=(t,e)=>{if(od(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Fs(t.common.issues);return this._error=n,this._error}}};function yt(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:s,description:i}=t;if(e&&(n||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(r,a)=>{var l,c;const{message:u}=t;return r.code==="invalid_enum_value"?{message:u??a.defaultError}:typeof a.data>"u"?{message:(l=u??s)!==null&&l!==void 0?l:a.defaultError}:r.code!=="invalid_type"?{message:a.defaultError}:{message:(c=u??n)!==null&&c!==void 0?c:a.defaultError}},description:i}}class St{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return br(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:br(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new as,ctx:{common:e.parent.common,data:e.data,parsedType:br(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(rd(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const s=this.safeParse(e,n);if(s.success)return s.data;throw s.error}safeParse(e,n){var s;const i={common:{issues:[],async:(s=n==null?void 0:n.async)!==null&&s!==void 0?s:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:br(e)},o=this._parseSync({data:e,path:i.path,parent:i});return mb(i,o)}async parseAsync(e,n){const s=await this.safeParseAsync(e,n);if(s.success)return s.data;throw s.error}async safeParseAsync(e,n){const s={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:br(e)},i=this._parse({data:e,path:s.path,parent:s}),o=await(rd(i)?i:Promise.resolve(i));return mb(s,o)}refine(e,n){const s=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,o)=>{const r=e(i),a=()=>o.addIssue({code:xe.custom,...s(i)});return typeof Promise<"u"&&r instanceof Promise?r.then(l=>l?!0:(a(),!1)):r?!0:(a(),!1)})}refinement(e,n){return this._refinement((s,i)=>e(s)?!0:(i.addIssue(typeof n=="function"?n(s,i):n),!1))}_refinement(e){return new Ei({schema:this,typeName:dt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Qi.create(this,this._def)}nullable(){return Wr.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return xi.create(this,this._def)}promise(){return ac.create(this,this._def)}or(e){return ud.create([this,e],this._def)}and(e){return dd.create(this,e,this._def)}transform(e){return new Ei({...yt(this._def),schema:this,typeName:dt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new gd({...yt(this._def),innerType:this,defaultValue:n,typeName:dt.ZodDefault})}brand(){return new p0({typeName:dt.ZodBranded,type:this,...yt(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new _d({...yt(this._def),innerType:this,catchValue:n,typeName:dt.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Xd.create(this,e)}readonly(){return vd.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const BY=/^c[^\s-]{8,}$/i,jY=/^[0-9a-z]+$/,zY=/^[0-9A-HJKMNP-TV-Z]{26}$/,FY=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,WY=/^[a-z0-9_-]{21}$/i,HY=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,qY=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,GY="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ug;const YY=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,KY=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ZY=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,m9="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",XY=new RegExp(`^${m9}$`);function g9(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function JY(t){return new RegExp(`^${g9(t)}$`)}function _9(t){let e=`${m9}T${g9(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function QY(t,e){return!!((e==="v4"||!e)&&YY.test(t)||(e==="v6"||!e)&&KY.test(t))}class yi extends St{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ne.string){const o=this._getOrReturnCtx(e);return De(o,{code:xe.invalid_type,expected:Ne.string,received:o.parsedType}),ht}const s=new as;let i;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(i=this._getOrReturnCtx(e,i),De(i,{code:xe.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),s.dirty());else if(o.kind==="max")e.data.length>o.value&&(i=this._getOrReturnCtx(e,i),De(i,{code:xe.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),s.dirty());else if(o.kind==="length"){const r=e.data.length>o.value,a=e.data.length<o.value;(r||a)&&(i=this._getOrReturnCtx(e,i),r?De(i,{code:xe.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):a&&De(i,{code:xe.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),s.dirty())}else if(o.kind==="email")qY.test(e.data)||(i=this._getOrReturnCtx(e,i),De(i,{validation:"email",code:xe.invalid_string,message:o.message}),s.dirty());else if(o.kind==="emoji")Ug||(Ug=new RegExp(GY,"u")),Ug.test(e.data)||(i=this._getOrReturnCtx(e,i),De(i,{validation:"emoji",code:xe.invalid_string,message:o.message}),s.dirty());else if(o.kind==="uuid")FY.test(e.data)||(i=this._getOrReturnCtx(e,i),De(i,{validation:"uuid",code:xe.invalid_string,message:o.message}),s.dirty());else if(o.kind==="nanoid")WY.test(e.data)||(i=this._getOrReturnCtx(e,i),De(i,{validation:"nanoid",code:xe.invalid_string,message:o.message}),s.dirty());else if(o.kind==="cuid")BY.test(e.data)||(i=this._getOrReturnCtx(e,i),De(i,{validation:"cuid",code:xe.invalid_string,message:o.message}),s.dirty());else if(o.kind==="cuid2")jY.test(e.data)||(i=this._getOrReturnCtx(e,i),De(i,{validation:"cuid2",code:xe.invalid_string,message:o.message}),s.dirty());else if(o.kind==="ulid")zY.test(e.data)||(i=this._getOrReturnCtx(e,i),De(i,{validation:"ulid",code:xe.invalid_string,message:o.message}),s.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),De(i,{validation:"url",code:xe.invalid_string,message:o.message}),s.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),De(i,{validation:"regex",code:xe.invalid_string,message:o.message}),s.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(i=this._getOrReturnCtx(e,i),De(i,{code:xe.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),s.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(i=this._getOrReturnCtx(e,i),De(i,{code:xe.invalid_string,validation:{startsWith:o.value},message:o.message}),s.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(i=this._getOrReturnCtx(e,i),De(i,{code:xe.invalid_string,validation:{endsWith:o.value},message:o.message}),s.dirty()):o.kind==="datetime"?_9(o).test(e.data)||(i=this._getOrReturnCtx(e,i),De(i,{code:xe.invalid_string,validation:"datetime",message:o.message}),s.dirty()):o.kind==="date"?XY.test(e.data)||(i=this._getOrReturnCtx(e,i),De(i,{code:xe.invalid_string,validation:"date",message:o.message}),s.dirty()):o.kind==="time"?JY(o).test(e.data)||(i=this._getOrReturnCtx(e,i),De(i,{code:xe.invalid_string,validation:"time",message:o.message}),s.dirty()):o.kind==="duration"?HY.test(e.data)||(i=this._getOrReturnCtx(e,i),De(i,{validation:"duration",code:xe.invalid_string,message:o.message}),s.dirty()):o.kind==="ip"?QY(e.data,o.version)||(i=this._getOrReturnCtx(e,i),De(i,{validation:"ip",code:xe.invalid_string,message:o.message}),s.dirty()):o.kind==="base64"?ZY.test(e.data)||(i=this._getOrReturnCtx(e,i),De(i,{validation:"base64",code:xe.invalid_string,message:o.message}),s.dirty()):Lt.assertNever(o);return{status:s.value,value:e.data}}_regex(e,n,s){return this.refinement(i=>e.test(i),{validation:n,code:xe.invalid_string,...tt.errToObj(s)})}_addCheck(e){return new yi({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...tt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...tt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...tt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...tt.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...tt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...tt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...tt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...tt.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...tt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...tt.errToObj(e)})}datetime(e){var n,s;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(s=e==null?void 0:e.local)!==null&&s!==void 0?s:!1,...tt.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...tt.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...tt.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...tt.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...tt.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...tt.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...tt.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...tt.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...tt.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...tt.errToObj(n)})}nonempty(e){return this.min(1,tt.errToObj(e))}trim(){return new yi({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new yi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new yi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}yi.create=t=>{var e;return new yi({checks:[],typeName:dt.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...yt(t)})};function eK(t,e){const n=(t.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,i=n>s?n:s,o=parseInt(t.toFixed(i).replace(".","")),r=parseInt(e.toFixed(i).replace(".",""));return o%r/Math.pow(10,i)}class jr extends St{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ne.number){const o=this._getOrReturnCtx(e);return De(o,{code:xe.invalid_type,expected:Ne.number,received:o.parsedType}),ht}let s;const i=new as;for(const o of this._def.checks)o.kind==="int"?Lt.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),De(s,{code:xe.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(s=this._getOrReturnCtx(e,s),De(s,{code:xe.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(s=this._getOrReturnCtx(e,s),De(s,{code:xe.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?eK(e.data,o.value)!==0&&(s=this._getOrReturnCtx(e,s),De(s,{code:xe.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),De(s,{code:xe.not_finite,message:o.message}),i.dirty()):Lt.assertNever(o);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,tt.toString(n))}gt(e,n){return this.setLimit("min",e,!1,tt.toString(n))}lte(e,n){return this.setLimit("max",e,!0,tt.toString(n))}lt(e,n){return this.setLimit("max",e,!1,tt.toString(n))}setLimit(e,n,s,i){return new jr({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:s,message:tt.toString(i)}]})}_addCheck(e){return new jr({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:tt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:tt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:tt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:tt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:tt.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:tt.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:tt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:tt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:tt.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Lt.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(n===null||s.value>n)&&(n=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(n)&&Number.isFinite(e)}}jr.create=t=>new jr({checks:[],typeName:dt.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...yt(t)});class zr extends St{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==Ne.bigint){const o=this._getOrReturnCtx(e);return De(o,{code:xe.invalid_type,expected:Ne.bigint,received:o.parsedType}),ht}let s;const i=new as;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(s=this._getOrReturnCtx(e,s),De(s,{code:xe.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(s=this._getOrReturnCtx(e,s),De(s,{code:xe.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(s=this._getOrReturnCtx(e,s),De(s,{code:xe.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):Lt.assertNever(o);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,tt.toString(n))}gt(e,n){return this.setLimit("min",e,!1,tt.toString(n))}lte(e,n){return this.setLimit("max",e,!0,tt.toString(n))}lt(e,n){return this.setLimit("max",e,!1,tt.toString(n))}setLimit(e,n,s,i){return new zr({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:s,message:tt.toString(i)}]})}_addCheck(e){return new zr({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:tt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:tt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:tt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:tt.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:tt.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}zr.create=t=>{var e;return new zr({checks:[],typeName:dt.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...yt(t)})};class ad extends St{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Ne.boolean){const s=this._getOrReturnCtx(e);return De(s,{code:xe.invalid_type,expected:Ne.boolean,received:s.parsedType}),ht}return bs(e.data)}}ad.create=t=>new ad({typeName:dt.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...yt(t)});class Pa extends St{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ne.date){const o=this._getOrReturnCtx(e);return De(o,{code:xe.invalid_type,expected:Ne.date,received:o.parsedType}),ht}if(isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return De(o,{code:xe.invalid_date}),ht}const s=new as;let i;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(i=this._getOrReturnCtx(e,i),De(i,{code:xe.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),s.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(i=this._getOrReturnCtx(e,i),De(i,{code:xe.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),s.dirty()):Lt.assertNever(o);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Pa({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:tt.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:tt.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Pa.create=t=>new Pa({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:dt.ZodDate,...yt(t)});class op extends St{_parse(e){if(this._getType(e)!==Ne.symbol){const s=this._getOrReturnCtx(e);return De(s,{code:xe.invalid_type,expected:Ne.symbol,received:s.parsedType}),ht}return bs(e.data)}}op.create=t=>new op({typeName:dt.ZodSymbol,...yt(t)});class ld extends St{_parse(e){if(this._getType(e)!==Ne.undefined){const s=this._getOrReturnCtx(e);return De(s,{code:xe.invalid_type,expected:Ne.undefined,received:s.parsedType}),ht}return bs(e.data)}}ld.create=t=>new ld({typeName:dt.ZodUndefined,...yt(t)});class cd extends St{_parse(e){if(this._getType(e)!==Ne.null){const s=this._getOrReturnCtx(e);return De(s,{code:xe.invalid_type,expected:Ne.null,received:s.parsedType}),ht}return bs(e.data)}}cd.create=t=>new cd({typeName:dt.ZodNull,...yt(t)});class rc extends St{constructor(){super(...arguments),this._any=!0}_parse(e){return bs(e.data)}}rc.create=t=>new rc({typeName:dt.ZodAny,...yt(t)});class ka extends St{constructor(){super(...arguments),this._unknown=!0}_parse(e){return bs(e.data)}}ka.create=t=>new ka({typeName:dt.ZodUnknown,...yt(t)});class Yo extends St{_parse(e){const n=this._getOrReturnCtx(e);return De(n,{code:xe.invalid_type,expected:Ne.never,received:n.parsedType}),ht}}Yo.create=t=>new Yo({typeName:dt.ZodNever,...yt(t)});class rp extends St{_parse(e){if(this._getType(e)!==Ne.undefined){const s=this._getOrReturnCtx(e);return De(s,{code:xe.invalid_type,expected:Ne.void,received:s.parsedType}),ht}return bs(e.data)}}rp.create=t=>new rp({typeName:dt.ZodVoid,...yt(t)});class xi extends St{_parse(e){const{ctx:n,status:s}=this._processInputParams(e),i=this._def;if(n.parsedType!==Ne.array)return De(n,{code:xe.invalid_type,expected:Ne.array,received:n.parsedType}),ht;if(i.exactLength!==null){const r=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(r||a)&&(De(n,{code:r?xe.too_big:xe.too_small,minimum:a?i.exactLength.value:void 0,maximum:r?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),s.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(De(n,{code:xe.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),s.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(De(n,{code:xe.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),s.dirty()),n.common.async)return Promise.all([...n.data].map((r,a)=>i.type._parseAsync(new ro(n,r,n.path,a)))).then(r=>as.mergeArray(s,r));const o=[...n.data].map((r,a)=>i.type._parseSync(new ro(n,r,n.path,a)));return as.mergeArray(s,o)}get element(){return this._def.type}min(e,n){return new xi({...this._def,minLength:{value:e,message:tt.toString(n)}})}max(e,n){return new xi({...this._def,maxLength:{value:e,message:tt.toString(n)}})}length(e,n){return new xi({...this._def,exactLength:{value:e,message:tt.toString(n)}})}nonempty(e){return this.min(1,e)}}xi.create=(t,e)=>new xi({type:t,minLength:null,maxLength:null,exactLength:null,typeName:dt.ZodArray,...yt(e)});function $l(t){if(t instanceof cn){const e={};for(const n in t.shape){const s=t.shape[n];e[n]=Qi.create($l(s))}return new cn({...t._def,shape:()=>e})}else return t instanceof xi?new xi({...t._def,type:$l(t.element)}):t instanceof Qi?Qi.create($l(t.unwrap())):t instanceof Wr?Wr.create($l(t.unwrap())):t instanceof ao?ao.create(t.items.map(e=>$l(e))):t}class cn extends St{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Lt.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==Ne.object){const c=this._getOrReturnCtx(e);return De(c,{code:xe.invalid_type,expected:Ne.object,received:c.parsedType}),ht}const{status:s,ctx:i}=this._processInputParams(e),{shape:o,keys:r}=this._getCached(),a=[];if(!(this._def.catchall instanceof Yo&&this._def.unknownKeys==="strip"))for(const c in i.data)r.includes(c)||a.push(c);const l=[];for(const c of r){const u=o[c],d=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new ro(i,d,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof Yo){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of a)l.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(c==="strict")a.length>0&&(De(i,{code:xe.unrecognized_keys,keys:a}),s.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of a){const d=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new ro(i,d,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const d=await u.key,h=await u.value;c.push({key:d,value:h,alwaysSet:u.alwaysSet})}return c}).then(c=>as.mergeObjectSync(s,c)):as.mergeObjectSync(s,l)}get shape(){return this._def.shape()}strict(e){return tt.errToObj,new cn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,s)=>{var i,o,r,a;const l=(r=(o=(i=this._def).errorMap)===null||o===void 0?void 0:o.call(i,n,s).message)!==null&&r!==void 0?r:s.defaultError;return n.code==="unrecognized_keys"?{message:(a=tt.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new cn({...this._def,unknownKeys:"strip"})}passthrough(){return new cn({...this._def,unknownKeys:"passthrough"})}extend(e){return new cn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new cn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:dt.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new cn({...this._def,catchall:e})}pick(e){const n={};return Lt.objectKeys(e).forEach(s=>{e[s]&&this.shape[s]&&(n[s]=this.shape[s])}),new cn({...this._def,shape:()=>n})}omit(e){const n={};return Lt.objectKeys(this.shape).forEach(s=>{e[s]||(n[s]=this.shape[s])}),new cn({...this._def,shape:()=>n})}deepPartial(){return $l(this)}partial(e){const n={};return Lt.objectKeys(this.shape).forEach(s=>{const i=this.shape[s];e&&!e[s]?n[s]=i:n[s]=i.optional()}),new cn({...this._def,shape:()=>n})}required(e){const n={};return Lt.objectKeys(this.shape).forEach(s=>{if(e&&!e[s])n[s]=this.shape[s];else{let o=this.shape[s];for(;o instanceof Qi;)o=o._def.innerType;n[s]=o}}),new cn({...this._def,shape:()=>n})}keyof(){return v9(Lt.objectKeys(this.shape))}}cn.create=(t,e)=>new cn({shape:()=>t,unknownKeys:"strip",catchall:Yo.create(),typeName:dt.ZodObject,...yt(e)});cn.strictCreate=(t,e)=>new cn({shape:()=>t,unknownKeys:"strict",catchall:Yo.create(),typeName:dt.ZodObject,...yt(e)});cn.lazycreate=(t,e)=>new cn({shape:t,unknownKeys:"strip",catchall:Yo.create(),typeName:dt.ZodObject,...yt(e)});class ud extends St{_parse(e){const{ctx:n}=this._processInputParams(e),s=this._def.options;function i(o){for(const a of o)if(a.result.status==="valid")return a.result;for(const a of o)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const r=o.map(a=>new Fs(a.ctx.common.issues));return De(n,{code:xe.invalid_union,unionErrors:r}),ht}if(n.common.async)return Promise.all(s.map(async o=>{const r={...n,common:{...n.common,issues:[]},parent:null};return{result:await o._parseAsync({data:n.data,path:n.path,parent:r}),ctx:r}})).then(i);{let o;const r=[];for(const l of s){const c={...n,common:{...n.common,issues:[]},parent:null},u=l._parseSync({data:n.data,path:n.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!o&&(o={result:u,ctx:c}),c.common.issues.length&&r.push(c.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;const a=r.map(l=>new Fs(l));return De(n,{code:xe.invalid_union,unionErrors:a}),ht}}get options(){return this._def.options}}ud.create=(t,e)=>new ud({options:t,typeName:dt.ZodUnion,...yt(e)});const $o=t=>t instanceof fd?$o(t.schema):t instanceof Ei?$o(t.innerType()):t instanceof pd?[t.value]:t instanceof Fr?t.options:t instanceof md?Lt.objectValues(t.enum):t instanceof gd?$o(t._def.innerType):t instanceof ld?[void 0]:t instanceof cd?[null]:t instanceof Qi?[void 0,...$o(t.unwrap())]:t instanceof Wr?[null,...$o(t.unwrap())]:t instanceof p0||t instanceof vd?$o(t.unwrap()):t instanceof _d?$o(t._def.innerType):[];class dm extends St{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ne.object)return De(n,{code:xe.invalid_type,expected:Ne.object,received:n.parsedType}),ht;const s=this.discriminator,i=n.data[s],o=this.optionsMap.get(i);return o?n.common.async?o._parseAsync({data:n.data,path:n.path,parent:n}):o._parseSync({data:n.data,path:n.path,parent:n}):(De(n,{code:xe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),ht)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,s){const i=new Map;for(const o of n){const r=$o(o.shape[e]);if(!r.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of r){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,o)}}return new dm({typeName:dt.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...yt(s)})}}function y_(t,e){const n=br(t),s=br(e);if(t===e)return{valid:!0,data:t};if(n===Ne.object&&s===Ne.object){const i=Lt.objectKeys(e),o=Lt.objectKeys(t).filter(a=>i.indexOf(a)!==-1),r={...t,...e};for(const a of o){const l=y_(t[a],e[a]);if(!l.valid)return{valid:!1};r[a]=l.data}return{valid:!0,data:r}}else if(n===Ne.array&&s===Ne.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let o=0;o<t.length;o++){const r=t[o],a=e[o],l=y_(r,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===Ne.date&&s===Ne.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class dd extends St{_parse(e){const{status:n,ctx:s}=this._processInputParams(e),i=(o,r)=>{if(__(o)||__(r))return ht;const a=y_(o.value,r.value);return a.valid?((v_(o)||v_(r))&&n.dirty(),{status:n.value,value:a.data}):(De(s,{code:xe.invalid_intersection_types}),ht)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([o,r])=>i(o,r)):i(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}dd.create=(t,e,n)=>new dd({left:t,right:e,typeName:dt.ZodIntersection,...yt(n)});class ao extends St{_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.parsedType!==Ne.array)return De(s,{code:xe.invalid_type,expected:Ne.array,received:s.parsedType}),ht;if(s.data.length<this._def.items.length)return De(s,{code:xe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ht;!this._def.rest&&s.data.length>this._def.items.length&&(De(s,{code:xe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const o=[...s.data].map((r,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new ro(s,r,s.path,a)):null}).filter(r=>!!r);return s.common.async?Promise.all(o).then(r=>as.mergeArray(n,r)):as.mergeArray(n,o)}get items(){return this._def.items}rest(e){return new ao({...this._def,rest:e})}}ao.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ao({items:t,typeName:dt.ZodTuple,rest:null,...yt(e)})};class hd extends St{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.parsedType!==Ne.object)return De(s,{code:xe.invalid_type,expected:Ne.object,received:s.parsedType}),ht;const i=[],o=this._def.keyType,r=this._def.valueType;for(const a in s.data)i.push({key:o._parse(new ro(s,a,s.path,a)),value:r._parse(new ro(s,s.data[a],s.path,a)),alwaysSet:a in s.data});return s.common.async?as.mergeObjectAsync(n,i):as.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,s){return n instanceof St?new hd({keyType:e,valueType:n,typeName:dt.ZodRecord,...yt(s)}):new hd({keyType:yi.create(),valueType:e,typeName:dt.ZodRecord,...yt(n)})}}class ap extends St{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.parsedType!==Ne.map)return De(s,{code:xe.invalid_type,expected:Ne.map,received:s.parsedType}),ht;const i=this._def.keyType,o=this._def.valueType,r=[...s.data.entries()].map(([a,l],c)=>({key:i._parse(new ro(s,a,s.path,[c,"key"])),value:o._parse(new ro(s,l,s.path,[c,"value"]))}));if(s.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of r){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return ht;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of r){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return ht;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}}}}ap.create=(t,e,n)=>new ap({valueType:e,keyType:t,typeName:dt.ZodMap,...yt(n)});class Ra extends St{_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.parsedType!==Ne.set)return De(s,{code:xe.invalid_type,expected:Ne.set,received:s.parsedType}),ht;const i=this._def;i.minSize!==null&&s.data.size<i.minSize.value&&(De(s,{code:xe.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&s.data.size>i.maxSize.value&&(De(s,{code:xe.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const o=this._def.valueType;function r(l){const c=new Set;for(const u of l){if(u.status==="aborted")return ht;u.status==="dirty"&&n.dirty(),c.add(u.value)}return{status:n.value,value:c}}const a=[...s.data.values()].map((l,c)=>o._parse(new ro(s,l,s.path,c)));return s.common.async?Promise.all(a).then(l=>r(l)):r(a)}min(e,n){return new Ra({...this._def,minSize:{value:e,message:tt.toString(n)}})}max(e,n){return new Ra({...this._def,maxSize:{value:e,message:tt.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Ra.create=(t,e)=>new Ra({valueType:t,minSize:null,maxSize:null,typeName:dt.ZodSet,...yt(e)});class zl extends St{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ne.function)return De(n,{code:xe.invalid_type,expected:Ne.function,received:n.parsedType}),ht;function s(a,l){return sp({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,np(),oc].filter(c=>!!c),issueData:{code:xe.invalid_arguments,argumentsError:l}})}function i(a,l){return sp({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,np(),oc].filter(c=>!!c),issueData:{code:xe.invalid_return_type,returnTypeError:l}})}const o={errorMap:n.common.contextualErrorMap},r=n.data;if(this._def.returns instanceof ac){const a=this;return bs(async function(...l){const c=new Fs([]),u=await a._def.args.parseAsync(l,o).catch(f=>{throw c.addIssue(s(l,f)),c}),d=await Reflect.apply(r,this,u);return await a._def.returns._def.type.parseAsync(d,o).catch(f=>{throw c.addIssue(i(d,f)),c})})}else{const a=this;return bs(function(...l){const c=a._def.args.safeParse(l,o);if(!c.success)throw new Fs([s(l,c.error)]);const u=Reflect.apply(r,this,c.data),d=a._def.returns.safeParse(u,o);if(!d.success)throw new Fs([i(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new zl({...this._def,args:ao.create(e).rest(ka.create())})}returns(e){return new zl({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,s){return new zl({args:e||ao.create([]).rest(ka.create()),returns:n||ka.create(),typeName:dt.ZodFunction,...yt(s)})}}class fd extends St{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}fd.create=(t,e)=>new fd({getter:t,typeName:dt.ZodLazy,...yt(e)});class pd extends St{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return De(n,{received:n.data,code:xe.invalid_literal,expected:this._def.value}),ht}return{status:"valid",value:e.data}}get value(){return this._def.value}}pd.create=(t,e)=>new pd({value:t,typeName:dt.ZodLiteral,...yt(e)});function v9(t,e){return new Fr({values:t,typeName:dt.ZodEnum,...yt(e)})}class Fr extends St{constructor(){super(...arguments),Jc.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),s=this._def.values;return De(n,{expected:Lt.joinValues(s),received:n.parsedType,code:xe.invalid_type}),ht}if(ip(this,Jc,"f")||p9(this,Jc,new Set(this._def.values),"f"),!ip(this,Jc,"f").has(e.data)){const n=this._getOrReturnCtx(e),s=this._def.values;return De(n,{received:n.data,code:xe.invalid_enum_value,options:s}),ht}return bs(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Fr.create(e,{...this._def,...n})}exclude(e,n=this._def){return Fr.create(this.options.filter(s=>!e.includes(s)),{...this._def,...n})}}Jc=new WeakMap;Fr.create=v9;class md extends St{constructor(){super(...arguments),Qc.set(this,void 0)}_parse(e){const n=Lt.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==Ne.string&&s.parsedType!==Ne.number){const i=Lt.objectValues(n);return De(s,{expected:Lt.joinValues(i),received:s.parsedType,code:xe.invalid_type}),ht}if(ip(this,Qc,"f")||p9(this,Qc,new Set(Lt.getValidEnumValues(this._def.values)),"f"),!ip(this,Qc,"f").has(e.data)){const i=Lt.objectValues(n);return De(s,{received:s.data,code:xe.invalid_enum_value,options:i}),ht}return bs(e.data)}get enum(){return this._def.values}}Qc=new WeakMap;md.create=(t,e)=>new md({values:t,typeName:dt.ZodNativeEnum,...yt(e)});class ac extends St{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ne.promise&&n.common.async===!1)return De(n,{code:xe.invalid_type,expected:Ne.promise,received:n.parsedType}),ht;const s=n.parsedType===Ne.promise?n.data:Promise.resolve(n.data);return bs(s.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}ac.create=(t,e)=>new ac({type:t,typeName:dt.ZodPromise,...yt(e)});class Ei extends St{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===dt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:s}=this._processInputParams(e),i=this._def.effect||null,o={addIssue:r=>{De(s,r),r.fatal?n.abort():n.dirty()},get path(){return s.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){const r=i.transform(s.data,o);if(s.common.async)return Promise.resolve(r).then(async a=>{if(n.value==="aborted")return ht;const l=await this._def.schema._parseAsync({data:a,path:s.path,parent:s});return l.status==="aborted"?ht:l.status==="dirty"||n.value==="dirty"?El(l.value):l});{if(n.value==="aborted")return ht;const a=this._def.schema._parseSync({data:r,path:s.path,parent:s});return a.status==="aborted"?ht:a.status==="dirty"||n.value==="dirty"?El(a.value):a}}if(i.type==="refinement"){const r=a=>{const l=i.refinement(a,o);if(s.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(s.common.async===!1){const a=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?ht:(a.status==="dirty"&&n.dirty(),r(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(a=>a.status==="aborted"?ht:(a.status==="dirty"&&n.dirty(),r(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(s.common.async===!1){const r=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!od(r))return r;const a=i.transform(r.value,o);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(r=>od(r)?Promise.resolve(i.transform(r.value,o)).then(a=>({status:n.value,value:a})):r);Lt.assertNever(i)}}Ei.create=(t,e,n)=>new Ei({schema:t,typeName:dt.ZodEffects,effect:e,...yt(n)});Ei.createWithPreprocess=(t,e,n)=>new Ei({schema:e,effect:{type:"preprocess",transform:t},typeName:dt.ZodEffects,...yt(n)});class Qi extends St{_parse(e){return this._getType(e)===Ne.undefined?bs(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Qi.create=(t,e)=>new Qi({innerType:t,typeName:dt.ZodOptional,...yt(e)});class Wr extends St{_parse(e){return this._getType(e)===Ne.null?bs(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Wr.create=(t,e)=>new Wr({innerType:t,typeName:dt.ZodNullable,...yt(e)});class gd extends St{_parse(e){const{ctx:n}=this._processInputParams(e);let s=n.data;return n.parsedType===Ne.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}gd.create=(t,e)=>new gd({innerType:t,typeName:dt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...yt(e)});class _d extends St{_parse(e){const{ctx:n}=this._processInputParams(e),s={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return rd(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Fs(s.common.issues)},input:s.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Fs(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}_d.create=(t,e)=>new _d({innerType:t,typeName:dt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...yt(e)});class lp extends St{_parse(e){if(this._getType(e)!==Ne.nan){const s=this._getOrReturnCtx(e);return De(s,{code:xe.invalid_type,expected:Ne.nan,received:s.parsedType}),ht}return{status:"valid",value:e.data}}}lp.create=t=>new lp({typeName:dt.ZodNaN,...yt(t)});const tK=Symbol("zod_brand");class p0 extends St{_parse(e){const{ctx:n}=this._processInputParams(e),s=n.data;return this._def.type._parse({data:s,path:n.path,parent:n})}unwrap(){return this._def.type}}class Xd extends St{_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return o.status==="aborted"?ht:o.status==="dirty"?(n.dirty(),El(o.value)):this._def.out._parseAsync({data:o.value,path:s.path,parent:s})})();{const i=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?ht:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:s.path,parent:s})}}static create(e,n){return new Xd({in:e,out:n,typeName:dt.ZodPipeline})}}class vd extends St{_parse(e){const n=this._def.innerType._parse(e),s=i=>(od(i)&&(i.value=Object.freeze(i.value)),i);return rd(n)?n.then(i=>s(i)):s(n)}unwrap(){return this._def.innerType}}vd.create=(t,e)=>new vd({innerType:t,typeName:dt.ZodReadonly,...yt(e)});function y9(t,e={},n){return t?rc.create().superRefine((s,i)=>{var o,r;if(!t(s)){const a=typeof e=="function"?e(s):typeof e=="string"?{message:e}:e,l=(r=(o=a.fatal)!==null&&o!==void 0?o:n)!==null&&r!==void 0?r:!0,c=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...c,fatal:l})}}):rc.create()}const nK={object:cn.lazycreate};var dt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(dt||(dt={}));const sK=(t,e={message:`Input not instance of ${t.name}`})=>y9(n=>n instanceof t,e),b9=yi.create,w9=jr.create,iK=lp.create,oK=zr.create,x9=ad.create,rK=Pa.create,aK=op.create,lK=ld.create,cK=cd.create,uK=rc.create,dK=ka.create,hK=Yo.create,fK=rp.create,pK=xi.create,mK=cn.create,gK=cn.strictCreate,_K=ud.create,vK=dm.create,yK=dd.create,bK=ao.create,wK=hd.create,xK=ap.create,SK=Ra.create,kK=zl.create,$K=fd.create,CK=pd.create,EK=Fr.create,TK=md.create,AK=ac.create,gb=Ei.create,MK=Qi.create,IK=Wr.create,OK=Ei.createWithPreprocess,DK=Xd.create,LK=()=>b9().optional(),PK=()=>w9().optional(),RK=()=>x9().optional(),VK={string:t=>yi.create({...t,coerce:!0}),number:t=>jr.create({...t,coerce:!0}),boolean:t=>ad.create({...t,coerce:!0}),bigint:t=>zr.create({...t,coerce:!0}),date:t=>Pa.create({...t,coerce:!0})},NK=ht;var m0=Object.freeze({__proto__:null,defaultErrorMap:oc,setErrorMap:NY,getErrorMap:np,makeIssue:sp,EMPTY_PATH:UY,addIssueToContext:De,ParseStatus:as,INVALID:ht,DIRTY:El,OK:bs,isAborted:__,isDirty:v_,isValid:od,isAsync:rd,get util(){return Lt},get objectUtil(){return g_},ZodParsedType:Ne,getParsedType:br,ZodType:St,datetimeRegex:_9,ZodString:yi,ZodNumber:jr,ZodBigInt:zr,ZodBoolean:ad,ZodDate:Pa,ZodSymbol:op,ZodUndefined:ld,ZodNull:cd,ZodAny:rc,ZodUnknown:ka,ZodNever:Yo,ZodVoid:rp,ZodArray:xi,ZodObject:cn,ZodUnion:ud,ZodDiscriminatedUnion:dm,ZodIntersection:dd,ZodTuple:ao,ZodRecord:hd,ZodMap:ap,ZodSet:Ra,ZodFunction:zl,ZodLazy:fd,ZodLiteral:pd,ZodEnum:Fr,ZodNativeEnum:md,ZodPromise:ac,ZodEffects:Ei,ZodTransformer:Ei,ZodOptional:Qi,ZodNullable:Wr,ZodDefault:gd,ZodCatch:_d,ZodNaN:lp,BRAND:tK,ZodBranded:p0,ZodPipeline:Xd,ZodReadonly:vd,custom:y9,Schema:St,ZodSchema:St,late:nK,get ZodFirstPartyTypeKind(){return dt},coerce:VK,any:uK,array:pK,bigint:oK,boolean:x9,date:rK,discriminatedUnion:vK,effect:gb,enum:EK,function:kK,instanceof:sK,intersection:yK,lazy:$K,literal:CK,map:xK,nan:iK,nativeEnum:TK,never:hK,null:cK,nullable:IK,number:w9,object:mK,oboolean:RK,onumber:PK,optional:MK,ostring:LK,pipeline:DK,preprocess:OK,promise:AK,record:wK,set:SK,strictObject:gK,string:b9,symbol:aK,transformer:gb,tuple:bK,undefined:lK,union:_K,unknown:dK,void:fK,NEVER:NK,ZodIssueCode:xe,quotelessJson:VY,ZodError:Fs});function S9(t){return m0.string().email().safeParse(t).success}function Abe(t){return m0.string().regex(/^[A-Za-z0-9_-]+$/i).safeParse(t).success}function Mbe(t){return m0.string().safeParse(t).success}const UK=t=>(Ie("data-v-38e98c34"),t=t(),Oe(),t),BK={class:"email-sync-view"},jK=UK(()=>m("br",null,null,-1)),zK=j({__name:"email-sync-view",setup(t){const e=um(),n=Y([]),s=Y(""),i=Y(0),o=Y([]);function r(){e.syncStudentsViaEmail(n.value)}function a(){o.value=[];const l=s.value.split(`
`).map(c=>c.trim()).filter(c=>c);i.value=l.length;for(const c of l)c?S9(c)||o.value.push(`Email "${c}" не валиден`):o.value.push("Email не может быть пустым");o.value.length===0&&(n.value=l)}return ke(s,a),(l,c)=>{const u=Qo,d=sr,h=xt;return b(),$("div",BK,[o.value.length>0?(b(),B(u,{key:0},{default:L(()=>[(b(!0),$(ue,null,Be(o.value,f=>(b(),$("span",{key:f},[W(H(f)+" ",1),jK]))),128))]),_:1})):N("",!0),E(d,{modelValue:s.value,"onUpdate:modelValue":c[0]||(c[0]=f=>s.value=f),label:"Список email (каждый с новой строки, пробелы не учитываются)"},null,8,["modelValue"]),m("div",null,[m("span",null,[W(" Количество email: "),m("b",null,H(i.value),1)])]),o.value.length===0&&i.value!==0?(b(),B(h,{key:1,alignment:"right",onClick:c[1]||(c[1]=f=>r())},{default:L(()=>[W(" Синхронизировать ")]),_:1})):N("",!0)])}}});const FK=J(zK,[["__scopeId","data-v-38e98c34"]]),WK=t=>(Ie("data-v-55d022b3"),t=t(),Oe(),t),HK={class:"email-remove-view"},qK=WK(()=>m("br",null,null,-1)),GK=j({__name:"email-remove-view",setup(t){const e=um(),n=Y([]),s=Y(""),i=Y(0),o=Y([]);function r(){e.removeStudentsViaEmail(n.value)}function a(){o.value=[];const l=s.value.split(`
`).map(c=>c.trim()).filter(c=>c);i.value=l.length;for(const c of l)c?S9(c)||o.value.push(`Email "${c}" не валиден`):o.value.push("Email не может быть пустым");o.value.length===0&&(n.value=l)}return ke(s,a),(l,c)=>{const u=Qo,d=sr,h=xt;return b(),$("div",HK,[o.value.length>0?(b(),B(u,{key:0},{default:L(()=>[(b(!0),$(ue,null,Be(o.value,f=>(b(),$("span",{key:f},[W(H(f)+" ",1),qK]))),128))]),_:1})):N("",!0),E(d,{modelValue:s.value,"onUpdate:modelValue":c[0]||(c[0]=f=>s.value=f),label:"Список email для удаления с курса (каждый с новой строки, пробелы не учитываются)"},null,8,["modelValue"]),m("div",null,[m("span",null,[W(" Количество email: "),m("b",null,H(i.value),1)])]),o.value.length===0&&i.value!==0?(b(),B(h,{key:1,alignment:"right",onClick:c[1]||(c[1]=f=>r())},{default:L(()=>[W(" Удалить с курса ")]),_:1})):N("",!0)])}}});const YK=J(GK,[["__scopeId","data-v-55d022b3"]]),KK={key:0,class:"index-view"},ZK={class:"index-view__header"},XK={class:"index-view__tabs"},JK=j({__name:"index-view",setup(t){const e=um();e.fetchCourse().then(()=>{var s;ys(`Ученики курса "${((s=e.course)==null?void 0:s.name)??"???"}"`)});const n=Y(0);return(s,i)=>{const o=Jo;return g(e).course?(b(),$("div",KK,[m("div",ZK,[m("h3",null,[W(" Курс: "),m("b",null,H(g(e).course.name),1)]),m("p",null,[W(" Всего учеников: "),m("b",null,H(g(e).course.studentCount??0),1)])]),m("div",XK,[E(o,{"tab-index":n.value,"onUpdate:tabIndex":i[0]||(i[0]=r=>n.value=r),titles:["Добавить/убрать учеников","Синхронизация через email","Удаление с курса по email"]},{"tab-0":L(()=>[E(RY)]),"tab-1":L(()=>[E(FK)]),"tab-2":L(()=>[E(YK)]),_:1},8,["tab-index"])])])):N("",!0)}}});const QK=J(JK,[["__scopeId","data-v-a8b099ba"]]),eZ={},tZ={class:"module-wrapper"};function nZ(t,e){const n=Xe("router-view");return b(),$("div",tZ,[(b(),B(n,{key:t.$route.fullPath}))])}const sZ=J(eZ,[["render",nZ]]),iZ={path:"/course-students",name:'Ученики курса ""',component:sZ,children:[{path:":courseSlug",name:"Ученики курса",component:QK}]},oZ={name:"course-students",router:iZ},rZ={},aZ={class:"module-wrapper"};function lZ(t,e){const n=Xe("router-view");return b(),$("div",aZ,[E(n)])}const cZ=J(rZ,[["render",lZ]]),uZ={class:"inline-user-card"},dZ={class:"inline-user-card__avatar"},hZ={class:"inline-user-card__name"},fZ=j({__name:"inline-user-card",props:{user:{}},setup(t){return(e,n)=>{const s=Ha,i=d9;return b(),$("div",uZ,[m("div",dZ,[E(s,{avatar:e.user.avatar,name:e.user.name},null,8,["avatar","name"])]),m("div",hZ,[E(i,{username:e.user.username,name:e.user.name},null,8,["username","name"]),lt(e.$slots,"under-name",{},void 0,!0)])])}}});const g0=J(fZ,[["__scopeId","data-v-a35ff88f"]]),pZ={class:"inline-user-card-list"},mZ={key:1,class:"inline-user-card-list__empty"},gZ=j({__name:"inline-user-card-list",props:{users:{}},setup(t){const e=t,n=Y(!1),s=q(()=>n.value?e.users:e.users.slice(0,1));return(i,o)=>{const r=g0,a=it("auto-animate");return $e((b(),$("div",pZ,[(b(!0),$(ue,null,Be(s.value,l=>(b(),$("div",{class:"inline-user-card-list__item",key:l.id},[E(r,{class:"inline-user-card-list__item__card",user:l},null,8,["user"])]))),128)),i.users.length>1?(b(),$("div",{key:0,class:"inline-user-card-list__more-button",onClick:o[0]||(o[0]=l=>n.value=!n.value)},[lt(i.$slots,"more-button",{isOpened:n.value},()=>[W(H(n.value?"Скрыть":"Показать еще"),1)],!0)])):N("",!0),i.users.length===0?(b(),$("div",mZ,[lt(i.$slots,"empty",{},()=>[W(" Пользователи не найдены ")],!0)])):N("",!0)])),[[a]])}}});const _Z=J(gZ,[["__scopeId","data-v-11d4af97"]]),vZ=j({__name:"back-button",props:{to:{}},setup(t){return(e,n)=>{const s=Xe("router-link");return b(),B(s,{class:"back-button",to:e.to||"#"},{default:L(()=>[W(" ‹ "),lt(e.$slots,"default",{},void 0,!0)]),_:3},8,["to"])}}});const Jd=J(vZ,[["__scopeId","data-v-6119f3a7"]]),_0=j({__name:"inline-emoji",props:{name:{}},setup(t){const e=t,n=q(()=>{var i;return(i=s.find(o=>o.name===e.name))==null?void 0:i.emoji}),s=[{emoji:"👍",name:"like",unicode:"1f44d",html:"&#128077;"},{emoji:"👎",name:"dislike",unicode:"1f44e",html:"&#128078;"},{emoji:"😢",name:"sad",unicode:"1f622",html:"&#128546;"},{emoji:"🤯",name:"mindblowing",unicode:"1f92f",html:"&#129327;"},{emoji:"😀",name:"happy",unicode:"1f600",html:"&#128512;"},{emoji:"✅",name:"check",unicode:"2705",html:"&#9989;"},{emoji:"🤔",name:"thinking",unicode:"1f914",html:"&#129300;"}];return(i,o)=>(b(),$("span",null,H(n.value),1))}}),yZ=j({__name:"materials-tree",props:{data:{},nestingLevel:{default:0},isPinned:{type:Boolean}},setup(t){const e=t,n=$n(),s=q(()=>n.params.slug),i=Y(e.data.map(r=>({...r,opened:!1})));ke(()=>e.data,r=>{i.value=r.map(a=>({...a,opened:o(a)}))},{deep:!0,immediate:!0});function o(r){var l;const a=(l=r.children)==null?void 0:l.some(c=>s.value===c.slug);return a===void 0?!1:a}return(r,a)=>{const l=It,c=am,u=_0,d=Xe("materials-tree",!0),h=it("auto-animate");return b(),$("ul",{class:Se(["materials-tree",`lvl-${r.nestingLevel}`])},[(b(!0),$(ue,null,Be(i.value,f=>$e((b(),$("li",{class:Se(["materials-tree__item",{"materials-tree__item--opened":f.opened}]),key:f.id},[f.isPinned&&r.isPinned?(b(),B(l,{key:0,class:"materials-tree__item__name__pin",name:"pin"})):N("",!0),f.children&&f.children.length?(b(),B(c,{key:1,opened:f.opened,onClick:p=>f.opened=!f.opened},null,8,["opened","onClick"])):N("",!0),(b(),B(Vn(f.children&&f.children.length?"span":"router-link"),{onClick:p=>f.opened=!f.opened,class:"materials-tree__item__name",to:`/courses/${r.$route.params.courseSlug}/${f.slug}`},{default:L(()=>[f.workId?(b(),B(l,{key:0,class:"materials-tree__item__name__icon",name:"uni-cap"})):N("",!0),m("span",{style:Qt({color:f.titleColor??"var(--form-text-color)"})},H(f.name),5),f.myReaction&&g(D).Context.roleIs(["student"])?(b(),B(u,{key:1,class:"materials-tree__item__name__reaction",name:f.myReaction},null,8,["name"])):N("",!0)]),_:2},1032,["onClick","to"])),f.children&&f.children.length&&f.opened?(b(),B(d,{key:2,data:f.children,"nesting-level":r.nestingLevel+1},null,8,["data","nesting-level"])):N("",!0)],2)),[[ai,f.isActive||g(D).Context.roleIs(["teacher"])],[h]])),128))],2)}}});const k9=J(yZ,[["__scopeId","data-v-61154d7a"]]),bZ={key:0,class:"pinned-materials-list"},wZ={key:1,class:"pinned-chapters-list"},xZ=j({__name:"pinned-materials-list",props:{chapters:{default:()=>[]}},setup(t){const e=t,n=q(()=>{var o,r,a;const i=[];for(const l of e.chapters)if((o=l.chapters)!=null&&o.length){for(const c of l.chapters)if((r=c.materials)!=null&&r.length)for(const u of c.materials)u.isPinned&&i.push(u)}else if((a=l.materials)!=null&&a.length)for(const c of l.materials)c.isPinned&&i.push(c);return i}),s=q(()=>{var o;const i=[];for(const r of e.chapters)if(r.isPinned&&i.push(r),(o=r.chapters)!=null&&o.length)for(const a of r.chapters)a.isPinned&&i.push(a);return i.map(r=>{var a;return{...r,materials:void 0,children:[...((a=r.chapters)==null?void 0:a.map(l=>({...l,materials:void 0,children:l.materials||[]})))??[],...r.materials||[]]}})});return(i,o)=>{const r=It,a=_0,l=Xe("router-link");return b(),$(ue,null,[n.value.length?(b(),$("div",bZ,[(b(!0),$(ue,null,Be(n.value,c=>(b(),$("div",{class:"pinned-materials-list__item",key:c.id},[E(l,{to:`/courses/${i.$route.params.courseSlug}/${c.slug}`,class:"pinned-materials-list__item__link"},{default:L(()=>[E(r,{class:"pinned-materials-list__item__link__icon",name:"pin"}),c.workId?(b(),B(r,{key:0,class:"pinned-materials-list__item__link__icon",name:"uni-cap"})):N("",!0),m("span",{style:Qt({color:c.titleColor??"var(--form-text-color)"})},H(c.name),5),c.myReaction&&g(D).Context.roleIs(["student"])?(b(),B(a,{key:1,class:"pinned-materials-list__item__link__reaction",name:c.myReaction},null,8,["name"])):N("",!0)]),_:2},1032,["to"])]))),128))])):N("",!0),s.value.length?(b(),$("div",wZ,[E(k9,{data:s.value,"is-pinned":""},null,8,["data"])])):N("",!0)],64)}}});const SZ=J(xZ,[["__scopeId","data-v-33f55c83"]]),kZ=j({__name:"notification-type-select",props:{label:{},modelValue:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=e,i=q({get:()=>n.modelValue,set:r=>s("update:modelValue",r)}),o=[{value:"other",label:"Другое"},{value:"announcement",label:"Объявление"},{value:"maintenance",label:"Технические работы"},{value:"new-feature",label:"Новая функция"}];return(r,a)=>{const l=us;return b(),B(l,{label:r.label,options:o,modelValue:i.value,"onUpdate:modelValue":a[0]||(a[0]=c=>i.value=c)},null,8,["label","modelValue"])}}}),$Z={class:"send-notification__form"},CZ={class:"send-notification__form__group"},EZ={class:"send-notification__form__group"},TZ={class:"send-notification__form__group"},AZ={class:"send-notification__form__group"},MZ={class:"send-notification__form__group"},IZ={class:"send-notification__form__warning"},OZ=j({__name:"send-notification-modal",props:{visible:{type:Boolean},course:{}},emits:["update:visible","send-notification"],setup(t,{emit:e}){const n=t,s=e,i=q({get:()=>n.visible,set:l=>s("update:visible",l)}),o=Y({title:"",message:"",type:"other",link:"",isBanner:!1}),r=Y([]);function a(){var l;if(r.value=[],o.value.title.trim()===""){r.value.push("Название обязательно"),setTimeout(()=>i.value=!0,1);return}if(((l=o.value.message)==null?void 0:l.trim())===""){r.value.push("Сообщение обязательно"),setTimeout(()=>i.value=!0,1);return}s("send-notification",o.value)}return(l,c)=>{const u=Qo,d=zt,h=kZ,f=sr,p=Ai,v=li,y=hn;return b(),B(y,{visible:i.value,"onUpdate:visible":c[5]||(c[5]=_=>i.value=_),onConfirm:c[6]||(c[6]=_=>a())},{title:L(()=>[m("h3",null,'Отправить уведомление ученикам курса "'+H(l.course.name)+'"',1)]),text:L(()=>[m("div",$Z,[r.value.length?(b(),B(u,{key:0},{default:L(()=>[W(H(r.value.join(", ")),1)]),_:1})):N("",!0),m("div",CZ,[E(d,{label:"Название",type:"text",modelValue:o.value.title,"onUpdate:modelValue":c[0]||(c[0]=_=>o.value.title=_),validators:[_=>!!_||"Название обязательно"]},null,8,["modelValue","validators"])]),m("div",EZ,[E(h,{label:"Тип уведомления",modelValue:o.value.type,"onUpdate:modelValue":c[1]||(c[1]=_=>o.value.type=_)},null,8,["modelValue"])]),m("div",TZ,[E(f,{modelValue:o.value.message,"onUpdate:modelValue":c[2]||(c[2]=_=>o.value.message=_),label:"Сообщение"},null,8,["modelValue"])]),m("div",AZ,[E(d,{modelValue:o.value.link,"onUpdate:modelValue":c[3]||(c[3]=_=>o.value.link=_),label:"Ссылка (необязательно)",type:"url"},null,8,["modelValue"])]),m("div",MZ,[E(p,{label:"Отправить как баннер",modelValue:o.value.isBanner,"onUpdate:modelValue":c[4]||(c[4]=_=>o.value.isBanner=_)},null,8,["modelValue"])]),m("div",IZ,[(l.course.studentCount||0)>500?(b(),B(v,{key:0},{default:L(()=>[W(" На этом курсе "+H(l.course.studentCount)+" учеников. Возможно, отправка уведомления займет некоторое время из-за большого количества адресатов. ",1)]),_:1})):N("",!0)])])]),_:1},8,["visible"])}}});const DZ=J(OZ,[["__scopeId","data-v-29ca8e66"]]),Qd=Kt("courses-module:course",()=>{const t=D.Services.Course,e=D.Services.AssignedWork,n=D.Services.Notification,s=D.Services.UI,i=$n(),o=Ws(),r=q(()=>i.params.slug),a=Y(null),l=Y(d(i.params.slug));ke([r,a],([y])=>l.value=d(y),{immediate:!0});const c=q(()=>{var y;return!a.value||!((y=a.value)!=null&&y.chapters)?[]:a.value.chapters.map(_=>{var w;return{..._,materials:void 0,children:[...(w=_.chapters)==null?void 0:w.map(x=>({...x,materials:void 0,children:x.materials||[]})).filter(Boolean),..._.materials||[]]}})});async function u(){try{const y=await t.getCourse(i.params.courseSlug,{showLoader:!0});a.value=y.data}catch(y){s.openErrorModal("Произошла ошибка при загрузке курса",y.message)}}function d(y){var _,w;if((w=(_=a.value)==null?void 0:_.chapters)!=null&&w.length)for(const x of a.value.chapters){for(const k of x.materials||[])if(k.slug===y)return k;for(const k of x.chapters||[])for(const C of k.materials||[])if(C.slug===y)return C}}async function h(){if(!a.value||!l.value){s.openErrorModal("Не удалось запросить доступ к работе","Не удалось получить информацию о курсе. Возможно, курс был удален. Попробуйте обновить страницу.");return}if(D.Context.roleIs(["teacher","admin","mentor","assistant"])){s.openErrorModal("Не удалось запросить доступ к работам","Только студенты могут запрашивать доступ к работе");return}try{const y=await e.getOrCreateAssignedWork(l.value.slug,{showLoader:!0});if(!y.data)throw new Error("Не удалось получить информацию о работе");o.push(y.data.link)}catch(y){s.openErrorModal("Произошла ошибка при запросе доступа к работам",y.message)}}async function f(y){const _={selector:"course",value:a.value.id};try{await n.createNotification(y,_,{showLoader:!0}),s.openSuccessModal("Уведомление успешно отправлено")}catch(w){s.openErrorModal("Произошла ошибка при отправке уведомления",w.message)}}const p=Y(!1);async function v(y,_){if(l.value)try{await t.toggleReaction(y,_),l.value.myReaction=l.value.myReaction===_?void 0:_}catch(w){s.openErrorModal("Произошла ошибка при отправке реакции",w.message)}}return{course:a,material:l,materialsTree:c,assignMeWork:h,fetchCourse:u,getMaterialBySlug:d,sendNotification:f,reactionLoading:p,reactToMaterial:v}}),LZ={key:0,class:"index-materials-view"},PZ={class:"index-materials-view__tree"},RZ={class:"index-materials-view__tree__back-button"},VZ={class:"index-materials-view__tree__students"},NZ={class:"index-materials-view__tree__edit-course"},UZ={class:"index-materials-view__tree__send-notification"},BZ={key:0,class:"index-materials-view__tree__subject"},jZ={class:"index-materials-view__tree__title"},zZ={key:1,class:"index-materials-view__tree__authors"},FZ={key:2,class:"index-materials-view__tree__course-id"},WZ={class:"index-materials-view__content"},HZ=j({__name:"course-view",setup(t){var s;const e=Qd();e.fetchCourse(),(s=e.course)!=null&&s.name&&ys(e.course.name),ke(()=>e.course,()=>{var i;(i=e.course)!=null&&i.name&&ys(e.course.name)},{deep:!0,immediate:!0});const n=Y(!1);return(i,o)=>{const r=Jd,a=It,l=Xe("router-link"),c=qa,u=_Z,d=zt,h=Xe("router-view"),f=fo;return b(),$(ue,null,[g(e).course?(b(),$("div",LZ,[E(f,null,{sidebar:L(()=>[m("div",PZ,[m("div",RZ,[E(r,{to:"/courses"},{default:L(()=>[W("Ко всем курсам")]),_:1})]),m("div",VZ,[g(D).Context.roleIs(["teacher","admin"])?(b(),B(l,{key:0,to:`/course-students/${g(e).course.slug}`},{default:L(()=>[E(a,{name:"user",class:"index-materials-view__tree__students__icon"}),W(" Ученики курса ("+H(g(e).course.studentCount||0)+") ",1)]),_:1},8,["to"])):N("",!0)]),m("div",NZ,[g(D).Context.roleIs(["teacher","admin"])?(b(),B(l,{key:0,to:`/create-course${g(e).course.slug}`},{default:L(()=>[E(a,{name:"edit",class:"index-materials-view__tree__edit-course__icon"}),W(" Редактировать курс ")]),_:1},8,["to"])):N("",!0)]),m("div",UZ,[g(D).Context.roleIs(["teacher","admin"])?(b(),$("span",{key:0,onClick:o[0]||(o[0]=p=>n.value=!0)},[E(a,{name:"notifications",class:"index-materials-view__tree__send-notification__icon"}),W(" Уведомление ученикам ")])):N("",!0)]),g(e).course.subject?(b(),$("div",BZ,[E(c,{subject:g(e).course.subject},null,8,["subject"])])):N("",!0),m("div",jZ,[m("h2",null,H(g(e).course.name),1)]),g(e).course.authors?(b(),$("div",zZ,[E(u,{users:g(e).course.authors},{"more-button":L(({isOpened:p})=>[W(H(p?"Скрыть":"Показать всех авторов"),1)]),empty:L(()=>[W("Авторы не указаны")]),_:1},8,["users"])])):N("",!0),E(SZ,{chapters:g(e).course.chapters},null,8,["chapters"]),E(k9,{data:g(e).materialsTree},null,8,["data"]),g(D).Context.roleIs(["admin","teacher","assistant"])?(b(),$("div",FZ,[E(d,{type:"text",label:"Идентификатор курса","model-value":g(e).course.id,readonly:"","copy-button":""},null,8,["model-value"])])):N("",!0)])]),content:L(()=>[m("div",WZ,[(b(),B(h,{key:i.$route.fullPath}))])]),_:1})])):N("",!0),E(DZ,{visible:n.value,"onUpdate:visible":o[1]||(o[1]=p=>n.value=p),course:g(e).course,onSendNotification:o[2]||(o[2]=p=>g(e).sendNotification(p))},null,8,["visible","course"])],64)}}});const qZ=J(HZ,[["__scopeId","data-v-4dd0db60"]]),GZ={class:"course-card"},YZ={class:"course-card__img"},KZ={class:"course-card__img__more-widget"},ZZ={key:0,class:"course-card__subject"},XZ={class:"course-card__title"},JZ={class:"course-card__description"},QZ=j({__name:"course-card",props:{course:{},isPinned:{type:Boolean},assignment:{}},emits:["archive","unarchive","pin","unpin"],setup(t,{emit:e}){var d,h;const n=t,s=e,i=Gt([{title:"Закрепить",icon:"pin",if:D.Context.roleIs(["student"])&&!n.isPinned,action:()=>{n.assignment&&s("pin",n.assignment)}},{title:"Открепить",icon:"pin",if:D.Context.roleIs(["student"])&&n.isPinned,action:()=>{n.assignment&&s("unpin",n.assignment)}},{title:"Редактировать",icon:"edit",if:D.Context.roleIs(["teacher"]),action:()=>{o.push(`/create-course${n.course.slug}`)}},{title:"Добавить/Убрать учеников",icon:"user",if:D.Context.roleIs(["teacher","admin"]),action:()=>{o.push(`/course-students/${n.course.slug}`)}},{title:"Скопировать ссылку",icon:"copy",stayOpened:!0,action:function(f){l(f)}},{title:"Архивировать",icon:"delete",if:D.Context.roleIs(["student"])&&n.assignment&&!((d=n.assignment)!=null&&d.isArchived),action:()=>{c()}},{title:"Разархивировать",icon:"check-green",if:D.Context.roleIs(["student"])&&n.assignment&&((h=n.assignment)==null?void 0:h.isArchived),action:()=>{u()}}]),o=Ws(),r=q(()=>`/courses/${n.course.slug}`),a=q(()=>{var f;return((f=n.course.images[0])==null?void 0:f.src)||void 0});function l(f){p5(`${D.Constants.APP_URL}${r.value}`),f.icon="check-green",f.title="Скопировано",setTimeout(()=>{f.icon="copy",f.title="Скопировать ссылку"},1e3)}async function c(){n.assignment&&s("archive",n.assignment)}async function u(){n.assignment&&s("unarchive",n.assignment)}return(f,p)=>{const v=It,y=xc,_=Xe("router-link"),w=Ov,x=qa;return b(),$("div",GZ,[m("div",YZ,[E(_,{class:"router-link",to:r.value},{default:L(()=>[f.isPinned?(b(),B(v,{key:0,name:"pin",class:"course-card__img__pinned-icon"})):N("",!0),E(y,{src:a.value,alt:"Card title"},null,8,["src"])]),_:1},8,["to"]),m("div",KZ,[E(w,{items:i},null,8,["items"])])]),f.course.subject?(b(),$("div",ZZ,[E(x,{subject:f.course.subject},null,8,["subject"])])):N("",!0),m("div",XZ,[E(_,{to:r.value},{default:L(()=>[W(H(f.course.name),1)]),_:1},8,["to"])]),m("div",JZ,H(f.course.description),1)])}}});const $9=J(QZ,[["__scopeId","data-v-69ef82bd"]]),hm=Kt("courses-module:courses",()=>{const t=D.Services.Course,e=D.Services.UI,n=Ht(r,{initialPagination:{limit:9},immediate:!0}),s=Ht(a,{initialPagination:{limit:9},immediate:!0}),i=Y(0),o=Y(0);async function r(f){if(!D.Context.roleIs(["student"]))try{return await t.getCourses(f)}catch(p){e.openErrorModal("Произошла ошибка при загрузке курсов",p.message)}}async function a(f){if(!D.Context.roleIs(["student","mentor","assistant"]))try{return await t.getOwnCourses(f)}catch(p){e.openErrorModal("Произошла ошибка при загрузке курсов",p.message)}}async function l(f){if(!D.Context.roleIs(["admin","teacher","mentor","assistant"]))try{return await t.getStudentCourses(D.Context.User.id,f)}catch(p){e.openErrorModal("Произошла ошибка при загрузке заданий",p.message)}}async function c(f){try{await t.archiveAssignment(f.id,{showLoader:!0}),e.openSuccessModal("Курс успешно архивирован")}catch(p){e.openErrorModal("Произошла ошибка при архивировании курса",p.message)}}async function u(f){try{await t.unarchiveAssignment(f.id,{showLoader:!0}),e.openSuccessModal("Курс успешно восстановлен")}catch(p){e.openErrorModal("Произошла ошибка при восстановлении курса",p.message)}}async function d(f){try{await t.pinAssignment(f.id,{showLoader:!0})}catch(p){e.openErrorModal("Произошла ошибка при закреплении курса",p.message)}}async function h(f){try{await t.unpinAssignment(f.id,{showLoader:!0})}catch(p){e.openErrorModal("Произошла ошибка при откреплении курса",p.message)}}return{allSearch:n,ownSearch:s,currentTabIndex:i,teacherTabIndex:o,fetchAssignments:l,archiveAssignment:c,unarchiveAssignment:u,pinAssignment:d,unpinAssignment:h}}),eX=t=>(Ie("data-v-ca06a9b6"),t=t(),Oe(),t),tX={class:"course-assignments-view"},nX={class:"course-assignments-view__header"},sX={class:"course-assignments-view__header__search"},iX={key:0,class:"row"},oX={key:1,class:"course-assignments-view__loading"},rX={key:2,class:"course-assignments-view__nothing-found"},aX={class:"course-assignments-view__nothing-found__image"},lX=eX(()=>m("p",{class:"course-assignments-view__nothing-found__text"}," Курсы не найдены. Попробуйте перезагрузить страницу ",-1)),cX={class:"course-assignments-view__pagination"},uX=j({__name:"course-assignments-view",props:{archived:{type:Boolean}},emits:["trigger-search"],setup(t,{emit:e}){const n=t,s=e,i=hm(),o=Ht(i.fetchAssignments,{initialPagination:{limit:9,"filter[isArchived]":{type:"boolean",value:n.archived}},immediate:!0}),r=q(()=>[...o.results.value].sort((d,h)=>Number(h.isPinned)-Number(d.isPinned)));async function a(d){await i.archiveAssignment(d),s("trigger-search")}async function l(d){await i.unarchiveAssignment(d),s("trigger-search")}async function c(d){await i.pinAssignment(d),s("trigger-search")}async function u(d){await i.unpinAssignment(d),s("trigger-search")}return(d,h)=>{const f=kn,p=$9,v=Sn,y=Gp,_=bn,w=it("auto-animate");return b(),$("div",tX,[m("div",nX,[m("div",sX,[E(f,{modelValue:g(o).pagination.value.search,"onUpdate:modelValue":h[0]||(h[0]=x=>g(o).pagination.value.search=x),"is-loading":g(o).isListLoading.value},null,8,["modelValue","is-loading"])])]),g(o).resultsMeta.value.total>0&&!g(o).isListLoading.value?$e((b(),$("div",iX,[(b(!0),$(ue,null,Be(r.value,x=>(b(),$("div",{class:"col-md-6 col-lg-4",key:x.id},[E(p,{course:x.course,assignment:x,"is-pinned":x.isPinned,onArchive:h[1]||(h[1]=k=>a(k)),onUnarchive:h[2]||(h[2]=k=>l(k)),onPin:h[3]||(h[3]=k=>c(k)),onUnpin:h[4]||(h[4]=k=>u(k))},null,8,["course","assignment","is-pinned"])]))),128))])),[[w]]):g(o).isListLoading.value?(b(),$("div",oX,[E(v,{contrast:""})])):(b(),$("div",rX,[m("div",aX,[E(y,{class:"course-assignments-view__nothing-found__image__img"})]),lX])),m("div",cX,[E(_,{page:g(o).pagination.value.page,"onUpdate:page":h[5]||(h[5]=x=>g(o).pagination.value.page=x),total:g(o).resultsMeta.value.total,limit:g(o).pagination.value.limit},null,8,["page","total","limit"])])])}}});const _b=J(uX,[["__scopeId","data-v-ca06a9b6"]]),v0=t=>(Ie("data-v-1ae2758d"),t=t(),Oe(),t),dX={class:"courses-view"},hX={class:"courses-view__header"},fX={class:"courses-view__header__search"},pX={key:0,class:"courses-view__header__create"},mX={key:0,class:"row"},gX={key:1,class:"courses-view__loading"},_X={key:2,class:"courses-view__nothing-found"},vX={class:"courses-view__nothing-found__image"},yX=v0(()=>m("p",{class:"courses-view__nothing-found__text"},"Курсы не найдены",-1)),bX={key:3,class:"courses-view__pagination"},wX={class:"courses-view"},xX={class:"courses-view__header"},SX={class:"courses-view__header__search"},kX={class:"courses-view__filters"},$X={key:0,class:"row"},CX={key:1,class:"courses-view__loading"},EX={key:2,class:"courses-view__nothing-found"},TX={class:"courses-view__nothing-found__image"},AX=v0(()=>m("p",{class:"courses-view__nothing-found__text"},"Курсы не найдены",-1)),MX={key:3,class:"courses-view__pagination"},IX={key:1,class:"courses-view-mentor"},OX={class:"courses-view"},DX={class:"courses-view__header"},LX={class:"courses-view__header__search"},PX={class:"courses-view__filters"},RX={key:0,class:"row"},VX={key:1,class:"courses-view__loading"},NX={key:2,class:"courses-view__nothing-found"},UX={class:"courses-view__nothing-found__image"},BX=v0(()=>m("p",{class:"courses-view__nothing-found__text"},"Курсы не найдены",-1)),jX={key:3,class:"courses-view__pagination"},zX=j({__name:"courses-view",setup(t){const e=hm(),n=[rm()];return(s,i)=>{const o=kn,r=xt,a=$9,l=Sn,c=Gp,u=bn,d=Bd,h=Jo,f=it("auto-animate");return g(D).Context.roleIs(["teacher"])?(b(),B(h,{key:0,titles:["Мои курсы","Все курсы"],"tab-index":g(e).teacherTabIndex,"onUpdate:tabIndex":i[5]||(i[5]=p=>g(e).teacherTabIndex=p)},{"tab-0":L(()=>[m("div",dX,[m("div",hX,[m("div",fX,[E(o,{modelValue:g(e).ownSearch.pagination.search,"onUpdate:modelValue":i[0]||(i[0]=p=>g(e).ownSearch.pagination.search=p),"is-loading":g(e).ownSearch.isListLoading},null,8,["modelValue","is-loading"])]),g(D).Context.roleIs(["teacher"])?(b(),$("div",pX,[E(r,{to:"/create-course",design:"primary"},{default:L(()=>[W(" Создать курс ")]),_:1})])):N("",!0)]),g(e).ownSearch.resultsMeta.total>0&&!g(e).ownSearch.isListLoading?$e((b(),$("div",mX,[(b(!0),$(ue,null,Be(g(e).ownSearch.results,p=>(b(),$("div",{class:"col-md-6 col-lg-4",key:p.id},[E(a,{course:p},null,8,["course"])]))),128))])),[[f]]):g(e).ownSearch.isListLoading?(b(),$("div",gX,[E(l,{contrast:""})])):(b(),$("div",_X,[m("div",vX,[E(c,{class:"courses-view__nothing-found__image__img"})]),yX])),g(e).ownSearch.resultsMeta.total>0&&g(e).ownSearch.pagination.page&&g(e).ownSearch.pagination.limit?(b(),$("div",bX,[E(u,{page:g(e).ownSearch.pagination.page,"onUpdate:page":i[1]||(i[1]=p=>g(e).ownSearch.pagination.page=p),total:g(e).ownSearch.resultsMeta.total,limit:g(e).ownSearch.pagination.limit},null,8,["page","total","limit"])])):N("",!0)])]),"tab-1":L(()=>[m("div",wX,[m("div",xX,[m("div",SX,[E(o,{modelValue:g(e).allSearch.pagination.search,"onUpdate:modelValue":i[2]||(i[2]=p=>g(e).allSearch.pagination.search=p),"is-loading":g(e).allSearch.isListLoading},null,8,["modelValue","is-loading"])])]),m("div",kX,[E(d,{filters:n,pagination:g(e).allSearch.pagination,"onUpdate:pagination":i[3]||(i[3]=p=>g(e).allSearch.pagination=p)},null,8,["pagination"])]),g(e).allSearch.resultsMeta.total>0&&!g(e).allSearch.isListLoading?$e((b(),$("div",$X,[(b(!0),$(ue,null,Be(g(e).allSearch.results,p=>(b(),$("div",{class:"col-md-6 col-lg-4",key:p.id},[E(a,{course:p},null,8,["course"])]))),128))])),[[f]]):g(e).allSearch.isListLoading?(b(),$("div",CX,[E(l,{contrast:""})])):(b(),$("div",EX,[m("div",TX,[E(c,{class:"courses-view__nothing-found__image__img"})]),AX])),g(e).allSearch.resultsMeta.total>0&&g(e).allSearch.pagination.page&&g(e).allSearch.pagination.limit?(b(),$("div",MX,[E(u,{page:g(e).allSearch.pagination.page,"onUpdate:page":i[4]||(i[4]=p=>g(e).allSearch.pagination.page=p),total:g(e).allSearch.resultsMeta.total,limit:g(e).allSearch.pagination.limit},null,8,["page","total","limit"])])):N("",!0)])]),_:1},8,["tab-index"])):(b(),$("div",IX,[m("div",OX,[m("div",DX,[m("div",LX,[E(o,{modelValue:g(e).allSearch.pagination.search,"onUpdate:modelValue":i[6]||(i[6]=p=>g(e).allSearch.pagination.search=p),"is-loading":g(e).allSearch.isListLoading},null,8,["modelValue","is-loading"])])]),m("div",PX,[E(d,{filters:n,pagination:g(e).allSearch.pagination,"onUpdate:pagination":i[7]||(i[7]=p=>g(e).allSearch.pagination=p)},null,8,["pagination"])]),g(e).allSearch.resultsMeta.total>0&&!g(e).allSearch.isListLoading?$e((b(),$("div",RX,[(b(!0),$(ue,null,Be(g(e).allSearch.results,p=>(b(),$("div",{class:"col-md-6 col-lg-4",key:p.id},[E(a,{course:p},null,8,["course"])]))),128))])),[[f]]):g(e).allSearch.isListLoading?(b(),$("div",VX,[E(l,{contrast:""})])):(b(),$("div",NX,[m("div",UX,[E(c,{class:"courses-view__nothing-found__image__img"})]),BX])),g(e).allSearch.resultsMeta.total>0&&g(e).allSearch.pagination.page&&g(e).allSearch.pagination.limit?(b(),$("div",jX,[E(u,{page:g(e).allSearch.pagination.page,"onUpdate:page":i[8]||(i[8]=p=>g(e).allSearch.pagination.page=p),total:g(e).allSearch.resultsMeta.total,limit:g(e).allSearch.pagination.limit},null,8,["page","total","limit"])])):N("",!0)])]))}}});const FX=J(zX,[["__scopeId","data-v-1ae2758d"]]),WX={class:"index-view"},HX={key:0,class:"index-view__courses"},qX={key:1,class:"index-view__course-assignments"},GX=j({__name:"index-view",setup(t){ys("Мои курсы");const e=hm(),n=Y(0);function s(){n.value++}return(i,o)=>{const r=Jo,a=it("auto-animate");return $e((b(),$("div",WX,[g(D).Context.roleIs(["admin","teacher","mentor","assistant"])?(b(),$("div",HX,[E(FX)])):(b(),$("div",qX,[E(r,{"tab-index":g(e).currentTabIndex,"onUpdate:tabIndex":o[2]||(o[2]=l=>g(e).currentTabIndex=l),titles:["Все","Архив"]},{"tab-0":L(()=>[(b(),B(_b,{onTriggerSearch:o[0]||(o[0]=l=>s()),key:n.value}))]),"tab-1":L(()=>[(b(),B(_b,{onTriggerSearch:o[1]||(o[1]=l=>s()),archived:!0,key:n.value}))]),_:1},8,["tab-index"])]))])),[[a]])}}}),YX={class:"file-card__preview"},KX={class:"file-card__label"},ZX=j({__name:"file-card",props:{selected:{type:Boolean},downloadable:{type:Boolean},name:{},src:{},extension:{},file:{}},setup(t){const e=t,n=q(()=>e.src?`https://cdn.noo-school.ru/uploads/${e.src}`:void 0);return(s,i)=>{const o=It,r=xc;return b(),B(Vn(s.downloadable?"a":"div"),{href:s.downloadable?n.value:void 0,download:s.downloadable?s.src:void 0,target:"_blank",class:Se(["file-card",{"file-card--selected":s.selected,"file-card--downloadable":s.downloadable}])},{default:L(()=>[m("div",YX,[s.extension==="pdf"||s.src.split(".").pop()==="pdf"?(b(),B(o,{key:0,name:"pdf-file"})):(b(),B(r,{key:1,src:s.src||s.file||void 0},null,8,["src"]))]),m("div",KX,[m("span",null,H(s.name||s.src),1)])]),_:1},8,["href","download","class"])}}});const XX=J(ZX,[["__scopeId","data-v-a3ff6d60"]]),JX={class:"file-list"},QX={class:"file-list__header"},eJ={class:"file-list__header__label"},tJ={class:"file-list__body"},nJ={class:"file-list__body__list"},sJ=j({__name:"file-list",props:{label:{},files:{},actions:{},selectable:{type:Boolean},selected:{}},emits:["update:files","update:selected"],setup(t,{emit:e}){const n=t,s=e,i=q({get:()=>n.files,set:l=>s("update:files",l)}),o=q({get:()=>n.files.find(l=>{var c;return l.name===((c=n.selected)==null?void 0:c.name)}),set:l=>s("update:selected",l)});function r(l){o.value=l}function a(l){if(!l||!l.includes("/"))return"pdf";switch(l.split("/")[1]){case"pdf":return"pdf";case"jpeg":case"jpg":return"jpeg";case"png":return"png";default:return"pdf"}}return(l,c)=>{const u=XX;return b(),$("div",JX,[m("div",QX,[m("div",eJ,[m("span",null,H(l.label),1)])]),m("div",tJ,[m("div",nJ,[(b(!0),$(ue,null,Be(i.value,(d,h)=>{var f;return b(),B(u,{key:h,src:d.src,extension:a(d.mimeType),file:d.file,name:d.name||d.name,actions:l.actions,selected:!!(l.selectable&&d.name===((f=o.value)==null?void 0:f.name)),downloadable:l.actions&&l.actions.includes("download"),onClick:p=>r(d)},null,8,["src","extension","file","name","actions","selected","downloadable","onClick"])}),128))])])])}}});const C9=J(sJ,[["__scopeId","data-v-db5ce681"]]),iJ={class:"user-reactions"},oJ={class:"user-reactions__list"},rJ=["onClick"],aJ={key:0,class:"user-reactions__list__item__value"},lJ={key:1,class:"user-reactions__list__item__value"},cJ=j({__name:"user-reactions",props:{reactions:{},myReaction:{},loading:{type:Boolean},hideNumbers:{type:Boolean},readonly:{type:Boolean}},emits:["react"],setup(t,{emit:e}){const n=t,s=e,i=q(()=>Object.entries(n.reactions).map(([r,a])=>({reaction:r,count:a})));function o(r){n.loading||s("react",r)}return(r,a)=>{const l=_0,c=Sn,u=it("auto-animate");return b(),$("div",iJ,[m("div",oJ,[(b(!0),$(ue,null,Be(i.value,d=>$e((b(),$("div",{class:Se(["user-reactions__list__item",{"user-reactions__list__item--active":d.reaction===r.myReaction,"user-reactions__list__item--readonly":r.readonly}]),key:d.reaction,onClick:h=>o(d.reaction)},[E(l,{name:d.reaction},null,8,["name"]),!r.loading&&!r.hideNumbers?(b(),$("span",aJ,H(d.count),1)):r.loading?(b(),$("span",lJ,[E(c,{contrast:""})])):N("",!0)],10,rJ)),[[u]])),128))])])}}});const uJ=J(cJ,[["__scopeId","data-v-51e7eef5"]]),dJ=j({__name:"user-role-select",props:{label:{},modelValue:{}},emits:["update:modelValue"],setup(t,{emit:e}){var r;const n=t,s=e,i=[{label:"Администратор",value:"admin"},{label:"Преподаватель",value:"teacher"},{label:"Куратор",value:"mentor"},{label:"Ученик",value:"student"},{label:"Ассистент",value:"assistant"}],o=Y(((r=n.modelValue)==null?void 0:r.value)||i[0].value);return ke(()=>o.value,()=>s("update:modelValue",i.find(a=>a.value===o.value)||i[0]),{immediate:!0}),(a,l)=>{const c=us;return b(),B(c,{label:a.label,options:i,modelValue:o.value,"onUpdate:modelValue":l[0]||(l[0]=u=>o.value=u)},null,8,["label","modelValue"])}}}),hJ=t=>(Ie("data-v-19726359"),t=t(),Oe(),t),fJ={key:0,class:"entity-select-input__selected"},pJ=["title"],mJ=["onClick"],gJ={class:"entity-select-input__input"},_J={key:0,class:"entity-select-input__flyout__results"},vJ=["onMouseenter"],yJ={key:1,class:"entity-select-input__flyout__loading"},bJ=hJ(()=>m("span",null," Загрузка... ",-1)),wJ=j({__name:"entity-select-input",props:{label:{},fetchFunction:{},maxCount:{},modelValue:{},labelKeys:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=e,i=q({get:()=>n.modelValue,set:_=>s("update:modelValue",_)}),o=Gt({input:!1,flyout:!1}),r=Y(!1),a=Y(null),{pagination:l,results:c,isListLoading:u}=Ht(n.fetchFunction,{immediate:!1});ke(c,()=>{var _;(c.value.length===0||u.value)&&(a.value=null),a.value=((_=c.value[0])==null?void 0:_.id)||null,r.value=(o.input||o.flyout)&&l.value.search!==""},{deep:!0}),ke(o,()=>{setTimeout(()=>{r.value=(o.input||o.flyout)&&l.value.search!==""},250)},{deep:!0});function d(_){return n.labelKeys.map(w=>w.includes(".")?w.split(".").reduce((x,k)=>x?x[k]:"",_):_[w]).join(" / ")}function h(){if(i.value.length>=n.maxCount)return;const _=c.value.find(w=>w.id===a.value);_&&(i.value=[...i.value,_],l.value.search="")}function f(_){i.value=i.value.filter((w,x)=>x!==_)}function p(){l.value.search===""&&i.value.length>0&&(i.value=i.value.slice(0,i.value.length-1))}function v(){const _=c.value.findIndex(w=>w.id===a.value);_===-1||_===c.value.length-1||(a.value=c.value[_+1].id)}function y(){const _=c.value.findIndex(w=>w.id===a.value);_===-1||_===0||(a.value=c.value[_-1].id)}return(_,w)=>{const x=Sn,k=it("auto-animate");return b(),$(ue,null,[m("label",null,H(_.label),1),$e((b(),$("div",{class:"entity-select-input",onFocusin:w[8]||(w[8]=C=>o.input=!0),onFocusout:w[9]||(w[9]=C=>o.input=!1)},[i.value.length?(b(),$("div",fJ,[(b(!0),$(ue,null,Be(i.value,(C,S)=>(b(),$("span",{class:"entity-select-input__selected__item",key:S},[m("span",{title:d(C)},H(d(C)),9,pJ),m("b",{class:"entity-select-input__selected__item__remove",onClick:A=>f(S)}," + ",8,mJ)]))),128))])):N("",!0),m("div",gJ,[$e(m("input",{type:"text","onUpdate:modelValue":w[0]||(w[0]=C=>g(l).search=C),onKeydown:[w[1]||(w[1]=vi(un(C=>h(),["prevent"]),["enter"])),w[2]||(w[2]=vi(C=>p(),["backspace"])),w[3]||(w[3]=vi(un(C=>v(),["prevent"]),["down"])),w[4]||(w[4]=vi(un(C=>y(),["prevent"]),["up"]))]},null,544),[[Wo,g(l).search]])]),r.value?(b(),$("div",{key:1,class:"entity-select-input__flyout",onFocusin:w[6]||(w[6]=C=>o.flyout=!0),onFocusout:w[7]||(w[7]=C=>o.flyout=!1)},[g(u)?(b(),$("div",yJ,[E(x,{contrast:""}),bJ])):(b(),$("ul",_J,[(b(!0),$(ue,null,Be(g(c).slice(0,5),C=>(b(),$("li",{class:Se(["entity-select-input__flyout__results__item",{"entity-select-input__flyout__results__item--hovered":a.value===C.id}]),key:C.id,onClick:w[5]||(w[5]=S=>h()),onMouseenter:S=>a.value=C.id},H(d(C)),43,vJ))),128))]))],32)):N("",!0)],32)),[[k]])],64)}}});const $c=J(wJ,[["__scopeId","data-v-19726359"]]),xJ=j({__name:"courses-select",props:{label:{},maxCount:{},separator:{},modelValue:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=e,i=D.Services.Course,o=D.Services.UI;async function r(l){try{return i.getCourses(l)}catch(c){o.openErrorModal("Произошла ошибка при загрузке курсов",c.message)}}const a=q({get:()=>n.modelValue||[],set:l=>s("update:modelValue",l)});return(l,c)=>{const u=$c;return b(),B(u,{label:l.label,"fetch-function":r,"label-keys":["subject.name","name"],"max-count":l.maxCount??1,modelValue:a.value,"onUpdate:modelValue":c[0]||(c[0]=d=>a.value=d)},null,8,["label","max-count","modelValue"])}}}),SJ={class:"pdf-preview"},kJ=["src"],$J=j({__name:"pdf-preview",props:{src:{}},setup(t){return(e,n)=>(b(),$("div",SJ,[m("embed",{src:e.src,type:"application/pdf",width:"100%",height:"100%"},null,8,kJ)]))}});function vb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function Nt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vb(Object(n),!0).forEach(function(s){ti(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vb(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function ti(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CJ(t,e){if(t==null)return{};var n,s,i=function(r,a){if(r==null)return{};var l,c,u={},d=Object.keys(r);for(c=0;c<d.length;c++)l=d[c],a.indexOf(l)>=0||(u[l]=r[l]);return u}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Va(t){return function(e){if(Array.isArray(e))return Bg(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||function(e,n){if(e){if(typeof e=="string")return Bg(e,n);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Bg(e,n)}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Bg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,s=new Array(e);n<e;n++)s[n]=t[n];return s}var yb,EJ,zh,In=(yb=function(t){/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){var e={}.hasOwnProperty;function n(){for(var s=[],i=0;i<arguments.length;i++){var o=arguments[i];if(o){var r=typeof o;if(r==="string"||r==="number")s.push(o);else if(Array.isArray(o)){if(o.length){var a=n.apply(null,o);a&&s.push(a)}}else if(r==="object")if(o.toString===Object.prototype.toString)for(var l in o)e.call(o,l)&&o[l]&&s.push(l);else s.push(o.toString())}}return s.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()},yb(zh={path:EJ,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(e==null&&zh.path)}},zh.exports),zh.exports),Di=function(t){return function(e,n){if(!e)return t;var s;typeof e=="string"?s=e:n=e;var i=t;return s&&(i+="__"+s),i+(n?Object.keys(n).reduce(function(o,r){var a=n[r];return a&&(o+=" "+(typeof a=="boolean"?i+"--"+r:i+"--"+r+"_"+a)),o},""):"")}};function b_(t,e,n){var s,i,o,r,a;function l(){var u=Date.now()-r;u<e&&u>=0?s=setTimeout(l,e-u):(s=null,n||(a=t.apply(o,i),o=i=null))}e==null&&(e=100);var c=function(){o=this,i=arguments,r=Date.now();var u=n&&!s;return s||(s=setTimeout(l,e)),u&&(a=t.apply(o,i),o=i=null),a};return c.clear=function(){s&&(clearTimeout(s),s=null)},c.flush=function(){s&&(a=t.apply(o,i),o=i=null,clearTimeout(s),s=null)},c}b_.debounce=b_;var w_=b_,nt=function(){return nt=Object.assign||function(t){for(var e,n=1,s=arguments.length;n<s;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},nt.apply(this,arguments)};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function E9(t,e){var n,s;return t&&e?(n=""+t+e[0].toUpperCase()+e.slice(1),s=t+"-"+e):(n=t||e,s=t||e),{name:n,classname:s}}function T9(t){return/^blob:/.test(t)}function bb(t){return T9(t)||function(e){return/^data:/.test(e)}(t)}function ul(t){return!!(t&&t.constructor&&t.call&&t.apply)}function Nn(t){return t===void 0}function Sf(t){return typeof t=="object"&&t!==null}function x_(t,e,n){var s={};return Sf(t)?(Object.keys(e).forEach(function(i){Nn(t[i])?s[i]=e[i]:Sf(e[i])?Sf(t[i])?s[i]=x_(t[i],e[i],n[i]):s[i]=t[i]?e[i]:n[i]:e[i]===!0||e[i]===!1?s[i]=!!t[i]:s[i]=t[i]}),s):t?e:n}function Fh(t){var e=Number(t);return Number.isNaN(e)?t:e}function wb(t){return typeof(t=="number"||function(e){return typeof e=="object"&&e!==null}(t)&&toString.call(t)=="[object Number]")&&!A9(t)}function A9(t){return t!=t}function M9(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}var $u=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),this.type="manipulateImage",this.move=t,this.scale=e},TJ=function(t,e){e===void 0&&(e={}),this.type="resize",this.directions=t,this.params=e},y0=function(t){this.type="move",this.directions=t},AJ=function(){function t(e,n,s,i,o){this.type="drag",this.nativeEvent=e,this.position=s,this.previousPosition=i,this.element=n,this.anchor=o}return t.prototype.shift=function(){var e=this,n=e.element,s=e.anchor,i=e.position;if(n){var o=n.getBoundingClientRect(),r=o.left,a=o.top;return{left:i.left-r-s.left,top:i.top-a-s.top}}return{left:0,top:0}},t}(),b0={name:"DraggableElement",props:{classname:{type:String}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){if(!this.$refs.draggable)throw new Error('You should add ref "draggable" to your root element to use draggable mixin');this.touches=[],this.hovered=!1},methods:{onMouseOver:function(){this.hovered||(this.hovered=!0,this.$emit("enter"))},onMouseLeave:function(){this.hovered&&!this.touches.length&&(this.hovered=!1,this.$emit("leave"))},onTouchStart:function(t){t.cancelable&&!this.disabled&&t.touches.length===1&&(this.touches=Va(t.touches),this.hovered||(this.$emit("enter"),this.hovered=!0),t.touches.length&&this.initAnchor(this.touches.reduce(function(e,n){return{clientX:e.clientX+n.clientX/t.touches.length,clientY:e.clientY+n.clientY/t.touches.length}},{clientX:0,clientY:0})),t.preventDefault&&t.preventDefault(),t.stopPropagation())},onTouchEnd:function(){this.processEnd()},onTouchMove:function(t){this.touches.length&&(this.processMove(t,t.touches),t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation())},onMouseDown:function(t){if(!this.disabled){var e={fake:!0,clientX:t.clientX,clientY:t.clientY};this.touches=[e],this.initAnchor(e),t.stopPropagation()}},onMouseMove:function(t){this.touches.length&&(this.processMove(t,[{fake:!0,clientX:t.clientX,clientY:t.clientY}]),t.preventDefault&&t.preventDefault())},onMouseUp:function(){this.processEnd()},initAnchor:function(t){var e=this.$refs.draggable.getBoundingClientRect(),n=e.left,s=e.right,i=e.bottom,o=e.top;this.anchor={left:t.clientX-n,top:t.clientY-o,bottom:i-t.clientY,right:s-t.clientX}},processMove:function(t,e){var n=Va(e);if(this.touches.length){if(this.touches.length===1&&n.length===1){var s=this.$refs.draggable;this.$emit("drag",new AJ(t,s,{left:n[0].clientX,top:n[0].clientY},{left:this.touches[0].clientX,top:this.touches[0].clientY},this.anchor))}this.touches=n}},processEnd:function(){this.touches.length&&this.$emit("drag-end"),this.hovered&&(this.$emit("leave"),this.hovered=!1),this.touches=[]}},emits:["drag","drag-end","leave","enter"]};b0.render=function(t,e,n,s,i,o){return b(),B("div",{ref:"draggable",class:n.classname,onTouchstart:e[1]||(e[1]=function(){return o.onTouchStart&&o.onTouchStart.apply(o,arguments)}),onMousedown:e[2]||(e[2]=function(){return o.onMouseDown&&o.onMouseDown.apply(o,arguments)}),onMouseover:e[3]||(e[3]=function(){return o.onMouseOver&&o.onMouseOver.apply(o,arguments)}),onMouseleave:e[4]||(e[4]=function(){return o.onMouseLeave&&o.onMouseLeave.apply(o,arguments)})},[lt(t.$slots,"default")],34)};var jg=Di("vue-handler-wrapper"),I9={name:"HandlerWrapper",components:{DraggableElement:b0},props:{horizontalPosition:{type:String},verticalPosition:{type:String},disabled:{type:Boolean,default:!1}},computed:{classes:function(){var t;if(this.horizontalPosition||this.verticalPosition){var e,n=E9(this.horizontalPosition,this.verticalPosition);t=jg((ti(e={},n.classname,!0),ti(e,"disabled",this.disabled),e))}else t=jg({disabled:this.disabled});return{root:t,draggable:jg("draggable")}}},emits:["leave","enter","drag","drag-end"]};I9.render=function(t,e,n,s,i,o){var r=Xe("DraggableElement");return b(),B("div",{class:o.classes.root},[E(r,{class:o.classes.draggable,onDrag:e[1]||(e[1]=function(a){return t.$emit("drag",a)}),onDragEnd:e[2]||(e[2]=function(a){return t.$emit("drag-end")}),onLeave:e[3]||(e[3]=function(a){return t.$emit("leave")}),onEnter:e[4]||(e[4]=function(a){return t.$emit("enter")})},{default:L(function(){return[lt(t.$slots,"default")]}),_:3},8,["class"])],2)};var MJ=Di("vue-line-wrapper"),O9={name:"LineWrapper",components:{DraggableElement:b0},props:{position:{type:String,required:!0},disabled:{type:Boolean,default:!1}},computed:{classname:function(){var t;return MJ((ti(t={},this.position,!0),ti(t,"disabled",this.disabled),t))}},emits:["leave","enter","drag","drag-end"]};O9.render=function(t,e,n,s,i,o){var r=Xe("DraggableElement");return b(),B(r,{class:o.classname,onDrag:e[1]||(e[1]=function(a){return t.$emit("drag",a)}),onDragEnd:e[2]||(e[2]=function(a){return t.$emit("drag-end")}),onLeave:e[3]||(e[3]=function(a){return t.$emit("leave")}),onEnter:e[4]||(e[4]=function(a){return t.$emit("enter")})},{default:L(function(){return[lt(t.$slots,"default")]}),_:3},8,["class"])};var Ki=["left","right","top","bottom"],IJ=["left","right"],OJ=["top","bottom"],DJ=["left","top"],LJ=["fill-area","fit-area","stencil","none"],xb={left:0,top:0,width:0,height:0};function Sb(t,e,n){return!(n=n||["width","height","left","top"]).some(function(s){return t[s]!==e[s]})}function lo(t){return{left:t.left,top:t.top,right:t.left+t.width,bottom:t.top+t.height}}function lc(t,e){return{left:t.left-e.left,top:t.top-e.top}}function qn(t){return{left:t.left+t.width/2,top:t.top+t.height/2}}function yd(t,e){var n={left:0,top:0,right:0,bottom:0};return Ki.forEach(function(s){var i=e[s],o=lo(t)[s];n[s]=i!==void 0&&o!==void 0?s==="left"||s==="top"?Math.max(0,i-o):Math.max(0,o-i):0}),n}function qi(t,e){return{left:t.left-e.left,top:t.top-e.top,width:t.width+e.left+e.right,height:t.height+e.top+e.bottom}}function fm(t){return{left:-t.left,top:-t.top}}function Ms(t,e){return nt(nt({},t),{left:t.left+e.left,top:t.top+e.top})}function si(t,e,n,s){if(e!==1){if(n){var i=qn(t);return{width:t.width*e,height:t.height*e,left:t.left+t.width*(1-e)/2+(n.left-i.left)*(s||1-e),top:t.top+t.height*(1-e)/2+(n.top-i.top)*(s||1-e)}}return{width:t.width*e,height:t.height*e,left:t.left+t.width*(1-e)/2,top:t.top+t.height*(1-e)/2}}return t}function Ut(t){return t.width/t.height}function cc(t,e){return Math.min(e.right!==void 0&&e.left!==void 0?(e.right-e.left)/t.width:1/0,e.bottom!==void 0&&e.top!==void 0?(e.bottom-e.top)/t.height:1/0)}function uc(t,e){var n={left:0,top:0},s=yd(t,e);return s.left&&s.left>0?n.left=s.left:s.right&&s.right>0&&(n.left=-s.right),s.top&&s.top>0?n.top=s.top:s.bottom&&s.bottom>0&&(n.top=-s.bottom),n}function zg(t,e){var n;return e.minimum&&t<e.minimum?n=e.minimum:e.maximum&&t>e.maximum&&(n=e.maximum),n}function D9(t,e){var n=Ut(t),s=Ut(e);return e.width<1/0&&e.height<1/0?n>s?{width:e.width,height:e.width/n}:{width:e.height*n,height:e.height}:e.width<1/0?{width:e.width,height:e.width/n}:e.height<1/0?{width:e.height*n,height:e.height}:t}function L9(t,e){var n=e*Math.PI/180;return{width:Math.abs(t.width*Math.cos(n))+Math.abs(t.height*Math.sin(n)),height:Math.abs(t.width*Math.sin(n))+Math.abs(t.height*Math.cos(n))}}function wr(t,e){var n=e*Math.PI/180;return{left:t.left*Math.cos(n)-t.top*Math.sin(n),top:t.left*Math.sin(n)+t.top*Math.cos(n)}}function pm(t,e){var n=yd(Gn(t,e),e);return n.left+n.right+n.top+n.bottom?n.left+n.right>n.top+n.bottom?Math.min((t.width+n.left+n.right)/t.width,cc(t,e)):Math.min((t.height+n.top+n.bottom)/t.height,cc(t,e)):1}function Gn(t,e,n){n===void 0&&(n=!1);var s=uc(t,e);return Ms(t,n?fm(s):s)}function S_(t){return{width:t.right!==void 0&&t.left!==void 0?t.right-t.left:1/0,height:t.bottom!==void 0&&t.top!==void 0?t.bottom-t.top:1/0}}function PJ(t,e){return nt(nt({},t),{minWidth:Math.min(e.width,t.minWidth),minHeight:Math.min(e.height,t.minHeight),maxWidth:Math.min(e.width,t.maxWidth),maxHeight:Math.min(e.height,t.maxHeight)})}function P9(t,e,n){n===void 0&&(n=!0);var s={};return Ki.forEach(function(i){var o=t[i],r=e[i];o!==void 0&&r!==void 0?s[i]=i==="left"||i==="top"?n?Math.max(o,r):Math.min(o,r):n?Math.min(o,r):Math.max(o,r):r!==void 0?s[i]=r:o!==void 0&&(s[i]=o)}),s}function mm(t,e){return P9(t,e,!0)}function kb(t){var e=t.size,n=t.aspectRatio,s=t.ignoreMinimum,i=t.sizeRestrictions;return!!((e.correctRatio||Ut(e)>=n.minimum&&Ut(e)<=n.maximum)&&e.height<=i.maxHeight&&e.width<=i.maxWidth&&e.width&&e.height&&(s||e.height>=i.minHeight&&e.width>=i.minWidth))}function $b(t,e){return Math.pow(t.width-e.width,2)+Math.pow(t.height-e.height,2)}function Po(t){var e=t.width,n=t.height,s=t.sizeRestrictions,i={minimum:t.aspectRatio&&t.aspectRatio.minimum||0,maximum:t.aspectRatio&&t.aspectRatio.maximum||1/0},o={width:Math.max(s.minWidth,Math.min(s.maxWidth,e)),height:Math.max(s.minHeight,Math.min(s.maxHeight,n))};function r(c,u){return u===void 0&&(u=!1),c.reduce(function(d,h){return kb({size:h,aspectRatio:i,sizeRestrictions:s,ignoreMinimum:u})&&(!d||$b(h,{width:e,height:n})<$b(d,{width:e,height:n}))?h:d},null)}var a=[];i&&[i.minimum,i.maximum].forEach(function(c){c&&a.push({width:o.width,height:o.width/c,correctRatio:!0},{width:o.height*c,height:o.height,correctRatio:!0})}),kb({size:o,aspectRatio:i,sizeRestrictions:s})&&a.push(o);var l=r(a)||r(a,!0);return l&&{width:l.width,height:l.height}}function k_(t){var e=t.event,n=t.coordinates,s=t.positionRestrictions,i=s===void 0?{}:s,o=Ms(n,e.directions);return Ms(o,uc(o,i))}function RJ(t){var e=t.coordinates,n=t.transform,s=t.imageSize,i=t.sizeRestrictions,o=t.positionRestrictions,r=t.aspectRatio,a=t.visibleArea,l=function(u,d){return k_({coordinates:u,positionRestrictions:o,event:new y0({left:d.left-u.left,top:d.top-u.top})})},c=nt({},e);return(Array.isArray(n)?n:[n]).forEach(function(u){var d={};Nn((d=typeof u=="function"?u({coordinates:c,imageSize:s,visibleArea:a}):u).width)&&Nn(d.height)||(c=function(h,f){var p=nt(nt(nt({},h),Po({width:f.width,height:f.height,sizeRestrictions:i,aspectRatio:r})),{left:0,top:0});return l(p,{left:h.left,top:h.top})}(c,nt(nt({},c),d))),Nn(d.left)&&Nn(d.top)||(c=l(c,nt(nt({},c),d)))}),c}function VJ(t){t.event;var e=t.getAreaRestrictions,n=t.boundaries,s=t.coordinates,i=t.visibleArea;t.aspectRatio;var o=t.stencilSize,r=t.sizeRestrictions,a=t.positionRestrictions;t.stencilReference;var l,c,u,d=nt({},s),h=nt({},i),f=nt({},o);l=Ut(f),c=Ut(d),u===void 0&&(u=.001),(l===0||c===0?Math.abs(c-l)<u:Math.abs(c/l)<1+u&&Math.abs(c/l)>1-u)||(d=nt(nt({},d),Po({sizeRestrictions:r,width:d.width,height:d.height,aspectRatio:{minimum:Ut(f),maximum:Ut(f)}})));var p=pm(h=si(h,d.width*n.width/(h.width*f.width)),e({visibleArea:h,type:"resize"}));return p!==1&&(h=si(h,p),d=si(d,p)),h=Gn(h=Ms(h,lc(qn(d),qn(h))),e({visibleArea:h,type:"move"})),{coordinates:d=Gn(d,mm(lo(h),a)),visibleArea:h}}function NJ(t){var e=t.event,n=t.getAreaRestrictions,s=t.boundaries,i=t.coordinates,o=t.visibleArea;t.aspectRatio,t.stencilSize,t.sizeRestrictions;var r=t.positionRestrictions;t.stencilReference;var a=nt({},i),l=nt({},o);if(i&&o&&e.type!=="manipulateImage"){var c={width:0,height:0};l.width,s.width,Ut(s)>Ut(a)?(c.height=.8*s.height,c.width=c.height*Ut(a)):(c.width=.8*s.width,c.height=c.width*Ut(a));var u=pm(l=si(l,a.width*s.width/(l.width*c.width)),n({visibleArea:l,type:"resize"}));l=si(l,u),u!==1&&(c.height/=u,c.width/=u),l=Gn(l=Ms(l,lc(qn(a),qn(l))),n({visibleArea:l,type:"move"})),a=Gn(a,mm(lo(l),r))}return{coordinates:a,visibleArea:l}}function UJ(t){var e=t.event,n=t.coordinates,s=t.visibleArea,i=t.getAreaRestrictions,o=nt({},s),r=nt({},n);if(e.type==="setCoordinates"){var a=Math.max(0,r.width-o.width),l=Math.max(0,r.height-o.height);a>l?o=si(o,Math.min(r.width/o.width,cc(o,i({visibleArea:o,type:"resize"})))):l>a&&(o=si(o,Math.min(r.height/o.height,cc(o,i({visibleArea:o,type:"resize"}))))),o=Gn(o=Ms(o,fm(uc(r,lo(o)))),i({visibleArea:o,type:"move"}))}return{visibleArea:o,coordinates:r}}function BJ(t){var e=t.imageSize,n=t.visibleArea,s=t.coordinates,i=n||e;return{left:(n?n.left:0)+i.width/2-s.width/2,top:(n?n.top:0)+i.height/2-s.height/2}}function jJ(t){var e=t.imageSize,n=t.visibleArea,s=t.aspectRatio,i=t.sizeRestrictions,o=n||e,r=Math.min(s.maximum||1/0,Math.max(s.minimum||0,Ut(o))),a=o.width<o.height?{width:.8*o.width,height:.8*o.width/r}:{height:.8*o.height,width:.8*o.height*r};return Po(nt(nt({},a),{aspectRatio:s,sizeRestrictions:i}))}function zJ(t){var e,n,s=t.imageSize,i=t.visibleArea,o=t.boundaries,r=t.aspectRatio,a=t.sizeRestrictions,l=t.stencilSize,c=i||s;return Ut(c)>Ut(o)?n=(e=l.height*c.height/o.height)*Ut(l):e=(n=l.width*c.width/o.width)/Ut(l),Po({width:n,height:e,aspectRatio:r,sizeRestrictions:a})}function FJ(t){var e=t.getAreaRestrictions,n=t.coordinates,s=t.imageSize,i=Ut(t.boundaries);if(n){var o={height:Math.max(n.height,s.height),width:Math.max(n.width,s.width)},r=D9({width:Ut(o)>i?o.width:o.height*i,height:Ut(o)>i?o.width/i:o.height},S_(e())),a={left:n.left+n.width/2-r.width/2,top:n.top+n.height/2-r.height/2,width:r.width,height:r.height},l=yd(n,lo(nt({left:0,top:0},s))),c={};return!l.left&&!l.right&&a.width<=s.width&&(c.left=0,c.right=s.width),!l.top&&!l.bottom&&a.height<=s.height&&(c.top=0,c.bottom=s.height),Gn(a,c)}var u=Ut(s);return r={height:u>i?s.height:s.width/i,width:u>i?s.height*i:s.width},{left:s.width/2-r.width/2,top:s.height/2-r.height/2,width:r.width,height:r.height}}function Wh(t,e){return P9(t,lo(e))}function WJ(t){var e=t.event,n=t.coordinates,s=t.visibleArea,i=t.sizeRestrictions,o=t.getAreaRestrictions,r=t.positionRestrictions,a=t.adjustStencil,l=e.scale,c=e.move,u=nt({},s),d=nt({},n),h=1,f=1,p=l.factor&&Math.abs(l.factor-1)>.001;u=Ms(u,{left:c.left||0,top:c.top||0});var v={stencil:{minimum:Math.max(i.minWidth?i.minWidth/d.width:0,i.minHeight?i.minHeight/d.height:0),maximum:Math.min(i.maxWidth?i.maxWidth/d.width:1/0,i.maxHeight?i.maxHeight/d.height:1/0,cc(d,r))},area:{maximum:cc(u,o({visibleArea:u,type:"resize"}))}};l.factor&&p&&(l.factor<1?(f=Math.max(l.factor,v.stencil.minimum))>1&&(f=1):l.factor>1&&(f=Math.min(l.factor,Math.min(v.area.maximum,v.stencil.maximum)))<1&&(f=1)),f&&(u=si(u,f,l.center));var y=n.left-s.left,_=s.width+s.left-(n.width+n.left),w=n.top-s.top,x=s.height+s.top-(n.height+n.top);return u=Gn(u=Ms(u,uc(u,{left:r.left!==void 0?r.left-y*f:void 0,top:r.top!==void 0?r.top-w*f:void 0,bottom:r.bottom!==void 0?r.bottom+x*f:void 0,right:r.right!==void 0?r.right+_*f:void 0})),o({visibleArea:u,type:"move"})),d.width=d.width*f,d.height=d.height*f,d.left=u.left+y*f,d.top=u.top+w*f,d=Gn(d,mm(lo(u),r)),l.factor&&p&&a&&(l.factor>1?h=Math.min(v.area.maximum,l.factor)/f:l.factor<1&&(h=Math.max(d.height/u.height,d.width/u.width,l.factor/f)),h!==1&&(u=Ms(u=Gn(u=si(u,h,l.factor>1?l.center:qn(d)),o({visibleArea:u,type:"move"})),fm(uc(d,lo(u)))))),{coordinates:d,visibleArea:u}}function HJ(t){var e=t.aspectRatio,n=t.getAreaRestrictions,s=t.coordinates,i=t.visibleArea,o=t.sizeRestrictions,r=t.positionRestrictions,a=t.imageSize,l=t.previousImageSize,c=t.angle,u=nt({},s),d=nt({},i),h=wr(qn(nt({left:0,top:0},l)),c);return(u=nt(nt({},Po({sizeRestrictions:o,aspectRatio:e,width:u.width,height:u.height})),wr(qn(u),c))).left-=h.left-a.width/2+u.width/2,u.top-=h.top-a.height/2+u.height/2,d=si(d,pm(d,n({visibleArea:d,type:"resize"}))),{coordinates:u=Gn(u,r),visibleArea:d=Gn(d=Ms(d,lc(qn(u),qn(s))),n({visibleArea:d,type:"move"}))}}function qJ(t){var e=t.flip,n=t.previousFlip,s=t.rotate;t.aspectRatio;var i=t.getAreaRestrictions,o=t.coordinates,r=t.visibleArea,a=t.imageSize,l=nt({},o),c=nt({},r),u=n.horizontal!==e.horizontal,d=n.vertical!==e.vertical;if(u||d){var h=wr({left:a.width/2,top:a.height/2},-s),f=wr(qn(l),-s),p=wr({left:u?h.left-(f.left-h.left):f.left,top:d?h.top-(f.top-h.top):f.top},s);l=Ms(l,lc(p,qn(l))),f=wr(qn(c),-s),c=Gn(c=Ms(c,lc(p=wr({left:u?h.left-(f.left-h.left):f.left,top:d?h.top-(f.top-h.top):f.top},s),qn(c))),i({visibleArea:c,type:"move"}))}return{coordinates:l,visibleArea:c}}function Cb(t){var e=t.directions,n=t.coordinates,s=t.positionRestrictions,i=s===void 0?{}:s,o=t.sizeRestrictions,r=t.preserveRatio,a=t.compensate,l=nt({},e),c=qi(n,l).width,u=qi(n,l).height;c<0&&(l.left<0&&l.right<0?(l.left=-(n.width-o.minWidth)/(l.left/l.right),l.right=-(n.width-o.minWidth)/(l.right/l.left)):l.left<0?l.left=-(n.width-o.minWidth):l.right<0&&(l.right=-(n.width-o.minWidth))),u<0&&(l.top<0&&l.bottom<0?(l.top=-(n.height-o.minHeight)/(l.top/l.bottom),l.bottom=-(n.height-o.minHeight)/(l.bottom/l.top)):l.top<0?l.top=-(n.height-o.minHeight):l.bottom<0&&(l.bottom=-(n.height-o.minHeight)));var d=yd(qi(n,l),i);a&&(d.left&&d.left>0&&d.right===0?(l.right+=d.left,l.left-=d.left):d.right&&d.right>0&&d.left===0&&(l.left+=d.right,l.right-=d.right),d.top&&d.top>0&&d.bottom===0?(l.bottom+=d.top,l.top-=d.top):d.bottom&&d.bottom>0&&d.top===0&&(l.top+=d.bottom,l.bottom-=d.bottom),d=yd(qi(n,l),i));var h={width:1/0,height:1/0,left:1/0,right:1/0,top:1/0,bottom:1/0};if(Ki.forEach(function(v){var y=d[v];y&&l[v]&&(h[v]=Math.max(0,1-y/l[v]))}),r){var f=Math.min.apply(null,Ki.map(function(v){return h[v]}));f!==1/0&&Ki.forEach(function(v){l[v]*=f})}else Ki.forEach(function(v){h[v]!==1/0&&(l[v]*=h[v])});if(c=qi(n,l).width,u=qi(n,l).height,l.right+l.left&&(c>o.maxWidth?h.width=(o.maxWidth-n.width)/(l.right+l.left):c<o.minWidth&&(h.width=(o.minWidth-n.width)/(l.right+l.left))),l.bottom+l.top&&(u>o.maxHeight?h.height=(o.maxHeight-n.height)/(l.bottom+l.top):u<o.minHeight&&(h.height=(o.minHeight-n.height)/(l.bottom+l.top))),r){var p=Math.min(h.width,h.height);p!==1/0&&Ki.forEach(function(v){l[v]*=p})}else h.width!==1/0&&IJ.forEach(function(v){l[v]*=h.width}),h.height!==1/0&&OJ.forEach(function(v){l[v]*=h.height});return l}function Hh(t,e,n){return e==0&&n==0?t/2:e==0?0:n==0?t:t*Math.abs(e/(e+n))}var GJ=Di("vue-simple-handler"),YJ=Di("vue-simple-handler-wrapper"),w0={name:"SimpleHandler",components:{HandlerWrapper:I9},props:{defaultClass:{type:String},hoverClass:{type:String},wrapperClass:{type:String},horizontalPosition:{type:String},verticalPosition:{type:String},disabled:{type:Boolean,default:!1}},data:function(){return{hover:!1}},computed:{classes:function(){var t,e=(ti(t={},this.horizontalPosition,!!this.horizontalPosition),ti(t,this.verticalPosition,!!this.verticalPosition),ti(t,"".concat(this.horizontalPosition,"-").concat(this.verticalPosition),!!(this.verticalPosition&&this.horizontalPosition)),ti(t,"hover",this.hover),t);return{default:In(GJ(e),this.defaultClass,this.hover&&this.hoverClass),wrapper:In(YJ(e),this.wrapperClass)}}},methods:{onDrag:function(t){this.$emit("drag",t)},onEnter:function(){this.hover=!0},onLeave:function(){this.hover=!1},onDragEnd:function(){this.$emit("drag-end")}},emits:["drag","drag-end"]};w0.render=function(t,e,n,s,i,o){var r=Xe("HandlerWrapper");return b(),B(r,{class:o.classes.wrapper,"vertical-position":n.verticalPosition,"horizontal-position":n.horizontalPosition,disabled:n.disabled,onDrag:o.onDrag,onDragEnd:o.onDragEnd,onEnter:o.onEnter,onLeave:o.onLeave},{default:L(function(){return[E("div",{class:o.classes.default},null,2)]}),_:1},8,["class","vertical-position","horizontal-position","disabled","onDrag","onDragEnd","onEnter","onLeave"])};var KJ=Di("vue-simple-line"),ZJ=Di("vue-simple-line-wrapper"),x0={name:"SimpleLine",components:{LineWrapper:O9},props:{defaultClass:{type:String},hoverClass:{type:String},wrapperClass:{type:String},position:{type:String},disabled:{type:Boolean,default:!1}},data:function(){return{hover:!1}},computed:{classes:function(){return{root:In(KJ(ti({},this.position,!0)),this.defaultClass,this.hover&&this.hoverClass),wrapper:In(ZJ(ti({},this.position,!0)),this.wrapperClass)}}},methods:{onDrag:function(t){this.$emit("drag",t)},onEnter:function(){this.hover=!0},onLeave:function(){this.hover=!1},onDragEnd:function(){this.$emit("drag-end")}},emits:["drag","drag-end"]};x0.render=function(t,e,n,s,i,o){var r=Xe("LineWrapper");return b(),B(r,{class:o.classes.wrapper,position:n.position,disabled:n.disabled,onDrag:o.onDrag,onDragEnd:o.onDragEnd,onEnter:o.onEnter,onLeave:o.onLeave},{default:L(function(){return[E("div",{class:o.classes.root},null,2)]}),_:1},8,["class","position","disabled","onDrag","onDragEnd","onEnter","onLeave"])};var Fg=Di("vue-bounding-box"),XJ=["east","west",null],JJ=["south","north",null],R9={name:"BoundingBox",props:{width:{type:Number},height:{type:Number},transitions:{type:Object},handlers:{type:Object,default:function(){return{eastNorth:!0,north:!0,westNorth:!0,west:!0,westSouth:!0,south:!0,eastSouth:!0,east:!0}}},handlersComponent:{type:[Object,String],default:function(){return w0}},handlersClasses:{type:Object,default:function(){return{}}},handlersWrappersClasses:{type:Object,default:function(){return{}}},lines:{type:Object,default:function(){return{west:!0,north:!0,east:!0,south:!0}}},linesComponent:{type:[Object,String],default:function(){return x0}},linesClasses:{type:Object,default:function(){return{}}},linesWrappersClasses:{type:Object,default:function(){return{}}},resizable:{type:Boolean,default:!0}},data:function(){var t=[];return XJ.forEach(function(e){JJ.forEach(function(n){if(e!==n){var s=E9(e,n),i=s.name,o=s.classname;t.push({name:i,classname:o,verticalDirection:n,horizontalDirection:e})}})}),{points:t}},computed:{style:function(){var t={};return this.width&&this.height&&(t.width="".concat(this.width,"px"),t.height="".concat(this.height,"px"),this.transitions&&this.transitions.enabled&&(t.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction))),t},classes:function(){var t=this.handlersClasses,e=this.handlersWrappersClasses,n=this.linesClasses,s=this.linesWrappersClasses;return{root:Fg(),handlers:t,handlersWrappers:e,lines:n,linesWrappers:s}},lineNodes:function(){var t=this,e=[];return this.points.forEach(function(n){n.horizontalDirection&&n.verticalDirection||!t.lines[n.name]||e.push({name:n.name,component:t.linesComponent,class:In(t.classes.lines.default,t.classes.lines[n.name],!t.resizable&&t.classes.lines.disabled),wrapperClass:In(t.classes.linesWrappers.default,t.classes.linesWrappers[n.name],!t.resizable&&t.classes.linesWrappers.disabled),hoverClass:t.classes.lines.hover,verticalDirection:n.verticalDirection,horizontalDirection:n.horizontalDirection,disabled:!t.resizable})}),e},handlerNodes:function(){var t=this,e=[],n=this.width,s=this.height;return this.points.forEach(function(i){if(t.handlers[i.name]){var o={name:i.name,component:t.handlersComponent,class:In(t.classes.handlers.default,t.classes.handlers[i.name]),wrapperClass:In(t.classes.handlersWrappers.default,t.classes.handlersWrappers[i.name]),hoverClass:t.classes.handlers.hover,verticalDirection:i.verticalDirection,horizontalDirection:i.horizontalDirection,disabled:!t.resizable};if(n&&s){var r=i.horizontalDirection,a=i.verticalDirection,l=r==="east"?n:r==="west"?0:n/2,c=a==="south"?s:a==="north"?0:s/2;o.wrapperClass=Fg("handler"),o.wrapperStyle={transform:"translate(".concat(l,"px, ").concat(c,"px)")},t.transitions&&t.transitions.enabled&&(o.wrapperStyle.transition="".concat(t.transitions.time,"ms ").concat(t.transitions.timingFunction))}else o.wrapperClass=Fg("handler",ti({},i.classname,!0));e.push(o)}}),e}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){this.touches=[]},methods:{onEnd:function(){this.$emit("resize-end")},onHandlerDrag:function(t,e,n){var s,i=t.shift(),o=i.left,r=i.top,a={left:0,right:0,top:0,bottom:0};e==="west"?a.left-=o:e==="east"&&(a.right+=o),n==="north"?a.top-=r:n==="south"&&(a.bottom+=r),!n&&e?s="width":n&&!e&&(s="height"),this.resizable&&this.$emit("resize",new TJ(a,{allowedDirections:{left:e==="west"||!e,right:e==="east"||!e,bottom:n==="south"||!n,top:n==="north"||!n},preserveAspectRatio:t.nativeEvent&&t.nativeEvent.shiftKey,respectDirection:s}))}},emits:["resize","resize-end"]};R9.render=function(t,e,n,s,i,o){return b(),B("div",{ref:"box",class:o.classes.root,style:o.style},[lt(t.$slots,"default"),E("div",null,[(b(!0),B(ue,null,Be(o.lineNodes,function(r){return b(),B(Vn(r.component),{key:r.name,"default-class":r.class,"hover-class":r.hoverClass,"wrapper-class":r.wrapperClass,position:r.name,disabled:r.disabled,onDrag:function(a){return o.onHandlerDrag(a,r.horizontalDirection,r.verticalDirection)},onDragEnd:e[1]||(e[1]=function(a){return o.onEnd()})},null,8,["default-class","hover-class","wrapper-class","position","disabled","onDrag"])}),128))]),(b(!0),B(ue,null,Be(o.handlerNodes,function(r){return b(),B("div",{key:r.name,style:r.wrapperStyle,class:r.wrapperClass},[(b(),B(Vn(r.component),{"default-class":r.class,"hover-class":r.hoverClass,"wrapper-class":r.wrapperClass,"horizontal-position":r.horizontalDirection,"vertical-position":r.verticalDirection,disabled:r.disabled,onDrag:function(a){return o.onHandlerDrag(a,r.horizontalDirection,r.verticalDirection)},onDragEnd:e[2]||(e[2]=function(a){return o.onEnd()})},null,8,["default-class","hover-class","wrapper-class","horizontal-position","vertical-position","disabled","onDrag"]))],6)}),128))],6)};var QJ=Di("vue-draggable-area"),V9={name:"DraggableArea",props:{movable:{type:Boolean,default:!0},activationDistance:{type:Number,default:20}},computed:{classnames:function(){return{default:QJ()}}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){this.touches=[],this.touchStarted=!1},methods:{onTouchStart:function(t){if(t.cancelable){var e=this.movable&&t.touches.length===1;e&&(this.touches=Va(t.touches)),(this.touchStarted||e)&&(t.preventDefault(),t.stopPropagation())}},onTouchEnd:function(){this.touchStarted=!1,this.processEnd()},onTouchMove:function(t){this.touches.length>=1&&(this.touchStarted?(this.processMove(t,t.touches),t.preventDefault(),t.stopPropagation()):M9({x:this.touches[0].clientX,y:this.touches[0].clientY},{x:t.touches[0].clientX,y:t.touches[0].clientY})>this.activationDistance&&(this.initAnchor({clientX:t.touches[0].clientX,clientY:t.touches[0].clientY}),this.touchStarted=!0))},onMouseDown:function(t){if(this.movable&&t.button===0){var e={fake:!0,clientX:t.clientX,clientY:t.clientY};this.touches=[e],this.initAnchor(e),t.stopPropagation()}},onMouseMove:function(t){this.touches.length&&(this.processMove(t,[{fake:!0,clientX:t.clientX,clientY:t.clientY}]),t.preventDefault&&t.cancelable&&t.preventDefault(),t.stopPropagation())},onMouseUp:function(){this.processEnd()},initAnchor:function(t){var e=this.$refs.container.getBoundingClientRect(),n=e.left,s=e.top;this.anchor={x:t.clientX-n,y:t.clientY-s}},processMove:function(t,e){var n=Va(e);if(this.touches.length){var s=this.$refs.container.getBoundingClientRect(),i=s.left,o=s.top;this.touches.length===1&&n.length===1&&this.$emit("move",new y0({left:n[0].clientX-(i+this.anchor.x),top:n[0].clientY-(o+this.anchor.y)}))}},processEnd:function(){this.touches.length&&this.$emit("move-end"),this.touches=[]}},emits:["move","move-end"]};V9.render=function(t,e,n,s,i,o){return b(),B("div",{ref:"container",onTouchstart:e[1]||(e[1]=function(){return o.onTouchStart&&o.onTouchStart.apply(o,arguments)}),onMousedown:e[2]||(e[2]=function(){return o.onMouseDown&&o.onMouseDown.apply(o,arguments)})},[lt(t.$slots,"default")],544)};function Wg(t){var e,n;return{rotate:t.rotate||0,flip:{horizontal:((e=t==null?void 0:t.flip)===null||e===void 0?void 0:e.horizontal)||!1,vertical:((n=t==null?void 0:t.flip)===null||n===void 0?void 0:n.vertical)||!1}}}function eQ(t){return new Promise(function(e,n){try{if(t)if(/^data:/i.test(t))e(function(l){l=l.replace(/^data:([^;]+);base64,/gim,"");for(var c=atob(l),u=c.length,d=new ArrayBuffer(u),h=new Uint8Array(d),f=0;f<u;f++)h[f]=c.charCodeAt(f);return d}(t));else if(/^blob:/i.test(t)){var s=new FileReader;s.onload=function(l){e(l.target.result)},o=t,r=function(l){s.readAsArrayBuffer(l)},(a=new XMLHttpRequest).open("GET",o,!0),a.responseType="blob",a.onload=function(){this.status!=200&&this.status!==0||r(this.response)},a.send()}else{var i=new XMLHttpRequest;i.onreadystatechange=function(){i.readyState===4&&(i.status===200||i.status===0?e(i.response):n("Warning: could not load an image to parse its orientation"),i=null)},i.onprogress=function(){i.getResponseHeader("content-type")!=="image/jpeg"&&i.abort()},i.withCredentials=!1,i.open("GET",t,!0),i.responseType="arraybuffer",i.send(null)}else n("Error: the image is empty")}catch(l){n(l)}var o,r,a})}function N9(t){var e=t.rotate,n=t.flip,s=t.scaleX,i=t.scaleY,o="";return o+=" rotate("+e+"deg) ",o+=" scaleX("+s*(n.horizontal?-1:1)+") ",o+=" scaleY("+i*(n.vertical?-1:1)+") "}function tQ(t){try{var e,n=new DataView(t),s=void 0,i=void 0,o=void 0,r=void 0;if(n.getUint8(0)===255&&n.getUint8(1)===216)for(var a=n.byteLength,l=2;l+1<a;){if(n.getUint8(l)===255&&n.getUint8(l+1)===225){o=l;break}l++}if(o&&(s=o+10,function(f,p,v){var y,_="";for(y=p,v+=p;y<v;y++)_+=String.fromCharCode(f.getUint8(y));return _}(n,o+4,4)==="Exif")){var c=n.getUint16(s);if(((i=c===18761)||c===19789)&&n.getUint16(s+2,i)===42){var u=n.getUint32(s+4,i);u>=8&&(r=s+u)}}if(r){for(var d=n.getUint16(r,i),h=0;h<d;h++)if(l=r+12*h+2,n.getUint16(l,i)===274){l+=8,e=n.getUint16(l,i),n.setUint16(l,1,i);break}}return e}catch{return null}}function Eb(t,e){var n=e.getBoundingClientRect(),s=n.left,i=n.top,o={left:0,top:0},r=0;return t.forEach(function(a){o.left+=(a.clientX-s)/t.length,o.top+=(a.clientY-i)/t.length}),t.forEach(function(a){r+=M9({x:o.left,y:o.top},{x:a.clientX-s,y:a.clientY-i})}),{centerMass:o,spread:r,count:t.length}}var U9={props:{touchMove:{type:Boolean,required:!0},mouseMove:{type:Boolean,required:!0},touchResize:{type:Boolean,required:!0},wheelResize:{type:[Boolean,Object],required:!0},eventsFilter:{type:Function,required:!1}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},created:function(){this.transforming=!1,this.debouncedProcessEnd=w_(this.processEnd),this.touches=[]},methods:{processMove:function(t,e){if(this.touches.length){if(this.touches.length===1&&e.length===1)this.$emit("move",new $u({left:this.touches[0].clientX-e[0].clientX,top:this.touches[0].clientY-e[0].clientY}));else if(this.touches.length>1&&this.touchResize){var n=Eb(e,this.$refs.container),s=this.oldGeometricProperties;s.count===n.count&&s.count>1&&this.$emit("resize",new $u({left:s.centerMass.left-n.centerMass.left,top:s.centerMass.top-n.centerMass.top},{factor:s.spread/n.spread,center:n.centerMass})),this.oldGeometricProperties=n}this.touches=e}},processEnd:function(){this.transforming&&(this.transforming=!1,this.$emit("transform-end"))},processStart:function(){this.transforming=!0,this.debouncedProcessEnd.clear()},processEvent:function(t){return this.eventsFilter?this.eventsFilter(t,this.transforming)!==!1:(t.preventDefault(),t.stopPropagation(),!0)},onTouchStart:function(t){if(t.cancelable&&(this.touchMove||this.touchResize&&t.touches.length>1)&&this.processEvent(t)){var e=this.$refs.container,n=e.getBoundingClientRect(),s=n.left,i=n.top,o=n.bottom,r=n.right;this.touches=Va(t.touches).filter(function(a){return a.clientX>s&&a.clientX<r&&a.clientY>i&&a.clientY<o}),this.oldGeometricProperties=Eb(this.touches,e)}},onTouchEnd:function(t){t.touches.length===0&&(this.touches=[],this.processEnd())},onTouchMove:function(t){var e=this;if(this.touches.length){var n=Va(t.touches).filter(function(s){return!s.identifier||e.touches.find(function(i){return i.identifier===s.identifier})});this.processEvent(t)&&(this.processMove(t,n),this.processStart())}},onMouseDown:function(t){if(this.mouseMove&&"buttons"in t&&t.buttons===1&&this.processEvent(t)){var e={fake:!0,clientX:t.clientX,clientY:t.clientY};this.touches=[e],this.processStart()}},onMouseMove:function(t){this.touches.length&&this.processEvent(t)&&this.processMove(t,[{clientX:t.clientX,clientY:t.clientY}])},onMouseUp:function(){this.touches=[],this.processEnd()},onWheel:function(t){if(this.wheelResize&&this.processEvent(t)){var e=this.$refs.container.getBoundingClientRect(),n=e.left,s=e.top,i=1+this.wheelResize.ratio*(r=t.deltaY||t.detail||t.wheelDelta,(a=+r)==0||A9(a)?a:a>0?1:-1),o={left:t.clientX-n,top:t.clientY-s};this.$emit("resize",new $u({},{factor:i,center:o})),this.touches.length||this.debouncedProcessEnd()}var r,a}},emits:["resize","move","transform-end"]};U9.render=function(t,e,n,s,i,o){return b(),B("div",{ref:"container",onTouchstart:e[1]||(e[1]=function(){return o.onTouchStart&&o.onTouchStart.apply(o,arguments)}),onMousedown:e[2]||(e[2]=function(){return o.onMouseDown&&o.onMouseDown.apply(o,arguments)}),onWheel:e[3]||(e[3]=function(){return o.onWheel&&o.onWheel.apply(o,arguments)})},[lt(t.$slots,"default")],544)};var $_={components:{TransformableImage:U9},props:{touchMove:{type:Boolean,required:!0},mouseMove:{type:Boolean,required:!0},touchResize:{type:Boolean,required:!0},wheelResize:{type:[Boolean,Object],required:!0}},emits:["resize","move"]};$_.render=function(t,e,n,s,i,o){var r=Xe("transformable-image");return b(),B(r,{"touch-move":n.touchMove,"touch-resize":n.touchResize,"mouse-move":n.mouseMove,"wheel-resize":n.wheelResize,onMove:e[1]||(e[1]=function(a){return t.$emit("move",a)}),onResize:e[2]||(e[2]=function(a){return t.$emit("resize",a)})},{default:L(function(){return[lt(t.$slots,"default")]}),_:3},8,["touch-move","touch-resize","mouse-move","wheel-resize"])};var qh=Di("vue-preview"),B9={props:{coordinates:{type:Object},transitions:{type:Object},image:{type:Object,default:function(){return{}}},imageClass:{type:String},width:{type:Number},height:{type:Number},fill:{type:Boolean}},data:function(){return{calculatedImageSize:{width:0,height:0},calculatedSize:{width:0,height:0}}},computed:{classes:function(){return{root:qh({fill:this.fill}),wrapper:qh("wrapper"),imageWrapper:qh("image-wrapper"),image:In(qh("image"),this.imageClass)}},style:function(){if(this.fill)return{};var t={};return this.width&&(t.width="".concat(this.size.width,"px")),this.height&&(t.height="".concat(this.size.height,"px")),this.transitions&&this.transitions.enabled&&(t.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),t},wrapperStyle:function(){var t={width:"".concat(this.size.width,"px"),height:"".concat(this.size.height,"px"),left:"calc(50% - ".concat(this.size.width/2,"px)"),top:"calc(50% - ".concat(this.size.height/2,"px)")};return this.transitions&&this.transitions.enabled&&(t.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),t},imageStyle:function(){if(this.coordinates&&this.image){var t=this.coordinates.width/this.size.width,e=Nt(Nt({rotate:0,flip:{horizontal:!1,vertical:!1}},this.image.transforms),{},{scaleX:1/t,scaleY:1/t}),n=this.imageSize.width,s=this.imageSize.height,i=L9({width:n,height:s},e.rotate),o={width:"".concat(n,"px"),height:"".concat(s,"px"),left:"0px",top:"0px"},r={rotate:{left:(n-i.width)*e.scaleX/2,top:(s-i.height)*e.scaleY/2},scale:{left:(1-e.scaleX)*n/2,top:(1-e.scaleY)*s/2}};return o.transform=`translate(
				`.concat(-this.coordinates.left/t-r.rotate.left-r.scale.left,"px,").concat(-this.coordinates.top/t-r.rotate.top-r.scale.top,"px) ")+N9(e),this.transitions&&this.transitions.enabled&&(o.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),o}return{}},size:function(){return{width:this.width||this.calculatedSize.width,height:this.height||this.calculatedSize.height}},imageSize:function(){return{width:this.image.width||this.calculatedImageSize.width,height:this.image.height||this.calculatedImageSize.height}}},watch:{image:function(t){(t.width||t.height)&&this.onChangeImage()}},mounted:function(){var t=this;this.onChangeImage(),this.$refs.image.addEventListener("load",function(){t.refreshImage()}),window.addEventListener("resize",this.refresh),window.addEventListener("orientationchange",this.refresh)},unmounted:function(){window.removeEventListener("resize",this.refresh),window.removeEventListener("orientationchange",this.refresh)},methods:{refreshImage:function(){var t=this.$refs.image;this.calculatedImageSize.height=t.naturalHeight,this.calculatedImageSize.width=t.naturalWidth},refresh:function(){var t=this.$refs.root;this.width||(this.calculatedSize.width=t.clientWidth),this.height||(this.calculatedSize.height=t.clientHeight)},onChangeImage:function(){var t=this.$refs.image;t&&t.complete&&this.refreshImage(),this.refresh()}}};B9.render=function(t,e,n,s,i,o){return b(),B("div",{ref:"root",class:o.classes.root,style:o.style},[E("div",{ref:"wrapper",class:o.classes.wrapper,style:o.wrapperStyle},[$e(E("img",{ref:"image",src:n.image&&n.image.src,class:o.classes.image,style:o.imageStyle},null,14,["src"]),[[ai,n.image&&n.image.src]])],6)],6)};var j9={components:{Preview:B9},inheritAttrs:!1};j9.render=function(t,e,n,s,i,o){var r=Xe("preview");return b(),B(r,bc(t.$attrs,{fill:!0}),null,16)};var Hg=Di("vue-rectangle-stencil"),z9={name:"RectangleStencil",components:{StencilPreview:j9,BoundingBox:R9,DraggableArea:V9},props:{image:{type:Object},coordinates:{type:Object},stencilCoordinates:{type:Object},handlers:{type:Object},handlersComponent:{type:[Object,String],default:function(){return w0}},lines:{type:Object},linesComponent:{type:[Object,String],default:function(){return x0}},aspectRatio:{type:[Number,String]},minAspectRatio:{type:[Number,String]},maxAspectRatio:{type:[Number,String]},movable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},transitions:{type:Object},movingClass:{type:String},resizingClass:{type:String},previewClass:{type:String},boundingBoxClass:{type:String},linesClasses:{type:Object,default:function(){return{}}},linesWrappersClasses:{type:Object,default:function(){return{}}},handlersClasses:{type:Object,default:function(){return{}}},handlersWrappersClasses:{type:Object,default:function(){return{}}}},data:function(){return{moving:!1,resizing:!1}},computed:{classes:function(){return{stencil:In(Hg({movable:this.movable,moving:this.moving,resizing:this.resizing}),this.moving&&this.movingClass,this.resizing&&this.resizingClass),preview:In(Hg("preview"),this.previewClass),boundingBox:In(Hg("bounding-box"),this.boundingBoxClass)}},style:function(){var t=this.stencilCoordinates,e=t.height,n=t.width,s=t.left,i=t.top,o={width:"".concat(n,"px"),height:"".concat(e,"px"),transform:"translate(".concat(s,"px, ").concat(i,"px)")};return this.transitions&&this.transitions.enabled&&(o.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),o}},methods:{onMove:function(t){this.$emit("move",t),this.moving=!0},onMoveEnd:function(){this.$emit("move-end"),this.moving=!1},onResize:function(t){this.$emit("resize",t),this.resizing=!0},onResizeEnd:function(){this.$emit("resize-end"),this.resizing=!1},aspectRatios:function(){return{minimum:this.aspectRatio||this.minAspectRatio,maximum:this.aspectRatio||this.maxAspectRatio}}},emits:["resize","resize-end","move","move-end"]};z9.render=function(t,e,n,s,i,o){var r=Xe("stencil-preview"),a=Xe("draggable-area"),l=Xe("bounding-box");return b(),B("div",{class:o.classes.stencil,style:o.style},[E(l,{width:n.stencilCoordinates.width,height:n.stencilCoordinates.height,transitions:n.transitions,class:o.classes.boundingBox,handlers:n.handlers,"handlers-component":n.handlersComponent,"handlers-classes":n.handlersClasses,"handlers-wrappers-classes":n.handlersWrappersClasses,lines:n.lines,"lines-component":n.linesComponent,"lines-classes":n.linesClasses,"lines-wrappers-classes":n.linesWrappersClasses,resizable:n.resizable,onResize:o.onResize,onResizeEnd:o.onResizeEnd},{default:L(function(){return[E(a,{movable:n.movable,onMove:o.onMove,onMoveEnd:o.onMoveEnd},{default:L(function(){return[E(r,{image:n.image,coordinates:n.coordinates,width:n.stencilCoordinates.width,height:n.stencilCoordinates.height,class:o.classes.preview,transitions:n.transitions},null,8,["image","coordinates","width","height","class","transitions"])]}),_:1},8,["movable","onMove","onMoveEnd"])]}),_:1},8,["width","height","transitions","class","handlers","handlers-component","handlers-classes","handlers-wrappers-classes","lines","lines-component","lines-classes","lines-wrappers-classes","resizable","onResize","onResizeEnd"])],6)};var nQ=["transitions"],xo=Di("vue-advanced-cropper"),F9={name:"Cropper",components:{BackgroundWrapper:$_},props:{src:{type:String,default:null},stencilComponent:{type:[Object,String],default:function(){return z9}},backgroundWrapperComponent:{type:[Object,String],default:function(){return $_}},stencilProps:{type:Object,default:function(){return{}}},autoZoom:{type:Boolean,default:!1},imageClass:{type:String},boundariesClass:{type:String},backgroundClass:{type:String},foregroundClass:{type:String},minWidth:{type:[Number,String]},minHeight:{type:[Number,String]},maxWidth:{type:[Number,String]},maxHeight:{type:[Number,String]},debounce:{type:[Boolean,Number],default:500},transitions:{type:Boolean,default:!0},checkOrientation:{type:Boolean,default:!0},canvas:{type:[Object,Boolean],default:!0},crossOrigin:{type:[Boolean,String],default:void 0},transitionTime:{type:Number,default:300},imageRestriction:{type:String,default:"fit-area",validator:function(t){return LJ.indexOf(t)!==-1}},roundResult:{type:Boolean,default:!0},defaultSize:{type:[Function,Object]},defaultPosition:{type:[Function,Object]},defaultVisibleArea:{type:[Function,Object]},defaultTransforms:{type:[Function,Object]},defaultBoundaries:{type:[Function,String],validator:function(t){return!(typeof t=="string"&&t!=="fill"&&t!=="fit")}},priority:{type:String,default:"coordinates"},stencilSize:{type:[Object,Function]},resizeImage:{type:[Boolean,Object],default:!0},moveImage:{type:[Boolean,Object],default:!0},autoZoomAlgorithm:{type:Function},resizeAlgorithm:{type:Function,default:function(t){var e=t.event,n=t.coordinates,s=t.aspectRatio,i=t.positionRestrictions,o=t.sizeRestrictions,r=nt(nt({},n),{right:n.left+n.width,bottom:n.top+n.height}),a=e.params||{},l=nt({},e.directions),c=a.allowedDirections||{left:!0,right:!0,bottom:!0,top:!0};o.widthFrozen&&(l.left=0,l.right=0),o.heightFrozen&&(l.top=0,l.bottom=0),Ki.forEach(function(k){c[k]||(l[k]=0)});var u=qi(r,l=Cb({coordinates:r,directions:l,sizeRestrictions:o,positionRestrictions:i})).width,d=qi(r,l).height,h=a.preserveRatio?Ut(r):zg(u/d,s);if(h){var f=a.respectDirection;if(f||(f=r.width>=r.height||h===1?"width":"height"),f==="width"){var p=u/h-r.height;if(c.top&&c.bottom){var v=l.top,y=l.bottom;l.bottom=Hh(p,y,v),l.top=Hh(p,v,y)}else c.bottom?l.bottom=p:c.top?l.top=p:c.right?l.right=0:c.left&&(l.left=0)}else if(f==="height"){var _=r.width-d*h;if(c.left&&c.right){var w=l.left,x=l.right;l.left=-Hh(_,w,x),l.right=-Hh(_,x,w)}else c.left?l.left=-_:c.right?l.right=-_:c.top?l.top=0:c.bottom&&(l.bottom=0)}l=Cb({directions:l,coordinates:r,sizeRestrictions:o,positionRestrictions:i,preserveRatio:!0,compensate:a.compensate})}return u=qi(r,l).width,d=qi(r,l).height,(h=a.preserveRatio?Ut(r):zg(u/d,s))&&Math.abs(h-u/d)>.001&&Ki.forEach(function(k){c[k]||(l[k]=0)}),k_({event:new y0({left:-l.left,top:-l.top}),coordinates:{width:n.width+l.right+l.left,height:n.height+l.top+l.bottom,left:n.left,top:n.top},positionRestrictions:i})}},moveAlgorithm:{type:Function,default:k_},initStretcher:{type:Function,default:function(t){var e=t.stretcher,n=t.imageSize,s=Ut(n);e.style.width=n.width+"px",e.style.height=e.clientWidth/s+"px",e.style.width=e.clientWidth+"px"}},fitCoordinates:{type:Function,default:function(t){var e=t.visibleArea,n=t.coordinates,s=t.aspectRatio,i=t.sizeRestrictions,o=t.positionRestrictions,r=nt(nt({},n),Po({width:n.width,height:n.height,aspectRatio:s,sizeRestrictions:{maxWidth:e.width,maxHeight:e.height,minHeight:Math.min(e.height,i.minHeight),minWidth:Math.min(e.width,i.minWidth)}}));return r=Gn(r=Ms(r,lc(qn(n),qn(r))),mm(lo(e),o))}},fitVisibleArea:{type:Function,default:function(t){var e=t.visibleArea,n=t.boundaries,s=t.getAreaRestrictions,i=t.coordinates,o=nt({},e);o.height=o.width/Ut(n),o.top+=(e.height-o.height)/2,(i.height-o.height>0||i.width-o.width>0)&&(o=si(o,Math.max(i.height/o.height,i.width/o.width)));var r=fm(uc(i,lo(o=si(o,pm(o,s({visibleArea:o,type:"resize"}))))));return o.width<i.width&&(r.left=0),o.height<i.height&&(r.top=0),o=Gn(o=Ms(o,r),s({visibleArea:o,type:"move"}))}},areaRestrictionsAlgorithm:{type:Function,default:function(t){var e=t.visibleArea,n=t.boundaries,s=t.imageSize,i=t.imageRestriction,o=t.type,r={};return i==="fill-area"?r={left:0,top:0,right:s.width,bottom:s.height}:i==="fit-area"&&(Ut(n)>Ut(s)?(r={top:0,bottom:s.height},e&&o==="move"&&(e.width>s.width?(r.left=-(e.width-s.width)/2,r.right=s.width-r.left):(r.left=0,r.right=s.width))):(r={left:0,right:s.width},e&&o==="move"&&(e.height>s.height?(r.top=-(e.height-s.height)/2,r.bottom=s.height-r.top):(r.top=0,r.bottom=s.height)))),r}},sizeRestrictionsAlgorithm:{type:Function,default:function(t){return{minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight}}},positionRestrictionsAlgorithm:{type:Function,default:function(t){var e=t.imageSize,n={};return t.imageRestriction!=="none"&&(n={left:0,top:0,right:e.width,bottom:e.height}),n}}},data:function(){return{transitionsActive:!1,imageLoaded:!1,imageAttributes:{width:null,height:null,crossOrigin:null,src:null},defaultImageTransforms:{rotate:0,flip:{horizontal:!1,vertical:!1}},appliedImageTransforms:{rotate:0,flip:{horizontal:!1,vertical:!1}},boundaries:{width:0,height:0},visibleArea:null,coordinates:Nt({},xb)}},computed:{image:function(){return{src:this.imageAttributes.src,width:this.imageAttributes.width,height:this.imageAttributes.height,transforms:this.imageTransforms}},imageTransforms:function(){return{rotate:this.appliedImageTransforms.rotate,flip:{horizontal:this.appliedImageTransforms.flip.horizontal,vertical:this.appliedImageTransforms.flip.vertical},translateX:this.visibleArea?this.visibleArea.left/this.coefficient:0,translateY:this.visibleArea?this.visibleArea.top/this.coefficient:0,scaleX:1/this.coefficient,scaleY:1/this.coefficient}},imageSize:function(){var t=function(e){return e*Math.PI/180}(this.imageTransforms.rotate);return{width:Math.abs(this.imageAttributes.width*Math.cos(t))+Math.abs(this.imageAttributes.height*Math.sin(t)),height:Math.abs(this.imageAttributes.width*Math.sin(t))+Math.abs(this.imageAttributes.height*Math.cos(t))}},initialized:function(){return!!(this.visibleArea&&this.imageLoaded)},settings:function(){var t=x_(this.resizeImage,{touch:!0,wheel:{ratio:.1},adjustStencil:!0},{touch:!1,wheel:!1,adjustStencil:!1});return{moveImage:x_(this.moveImage,{touch:!0,mouse:!0},{touch:!1,mouse:!1}),resizeImage:t}},coefficient:function(){return this.visibleArea?this.visibleArea.width/this.boundaries.width:0},areaRestrictions:function(){return this.imageLoaded?this.areaRestrictionsAlgorithm({imageSize:this.imageSize,imageRestriction:this.imageRestriction,boundaries:this.boundaries}):{}},transitionsOptions:function(){return{enabled:this.transitionsActive,timingFunction:"ease-in-out",time:350}},sizeRestrictions:function(){if(this.boundaries.width&&this.boundaries.height&&this.imageSize.width&&this.imageSize.height){var t=this.sizeRestrictionsAlgorithm({imageSize:this.imageSize,minWidth:Nn(this.minWidth)?0:Fh(this.minWidth),minHeight:Nn(this.minHeight)?0:Fh(this.minHeight),maxWidth:Nn(this.maxWidth)?1/0:Fh(this.maxWidth),maxHeight:Nn(this.maxHeight)?1/0:Fh(this.maxHeight)});if(t=function(s){var i=s.areaRestrictions,o=s.sizeRestrictions;s.imageSize;var r=s.boundaries,a=s.positionRestrictions;s.imageRestriction;var l=nt(nt({},o),{minWidth:o.minWidth!==void 0?o.minWidth:0,minHeight:o.minHeight!==void 0?o.minHeight:0,maxWidth:o.maxWidth!==void 0?o.maxWidth:1/0,maxHeight:o.maxHeight!==void 0?o.maxHeight:1/0});a.left!==void 0&&a.right!==void 0&&(l.maxWidth=Math.min(l.maxWidth,a.right-a.left)),a.bottom!==void 0&&a.top!==void 0&&(l.maxHeight=Math.min(l.maxHeight,a.bottom-a.top));var c=S_(i),u=D9(r,c);return c.width<1/0&&(!l.maxWidth||l.maxWidth>u.width)&&(l.maxWidth=Math.min(l.maxWidth,u.width)),c.height<1/0&&(!l.maxHeight||l.maxHeight>u.height)&&(l.maxHeight=Math.min(l.maxHeight,u.height)),l.minWidth>l.maxWidth&&(l.minWidth=l.maxWidth,l.widthFrozen=!0),l.minHeight>l.maxHeight&&(l.minHeight=l.maxHeight,l.heightFrozen=!0),l}({sizeRestrictions:t,areaRestrictions:this.getAreaRestrictions({visibleArea:this.visibleArea,type:"resize"}),imageSize:this.imageSize,boundaries:this.boundaries,positionRestrictions:this.positionRestrictions,imageRestriction:this.imageRestriction,visibleArea:this.visibleArea,stencilSize:this.getStencilSize()}),this.visibleArea&&this.stencilSize){var e=this.getStencilSize(),n=S_(this.getAreaRestrictions({visibleArea:this.visibleArea,type:"resize"}));t.maxWidth=Math.min(t.maxWidth,n.width*e.width/this.boundaries.width),t.maxHeight=Math.min(t.maxHeight,n.height*e.height/this.boundaries.height),t.maxWidth<t.minWidth&&(t.minWidth=t.maxWidth),t.maxHeight<t.minHeight&&(t.minHeight=t.maxHeight)}return t}return{minWidth:0,minHeight:0,maxWidth:0,maxHeight:0}},positionRestrictions:function(){return this.positionRestrictionsAlgorithm({imageSize:this.imageSize,imageRestriction:this.imageRestriction})},classes:function(){return{cropper:xo(),image:In(xo("image"),this.imageClass),stencil:xo("stencil"),boundaries:In(xo("boundaries"),this.boundariesClass),stretcher:In(xo("stretcher")),background:In(xo("background"),this.backgroundClass),foreground:In(xo("foreground"),this.foregroundClass),imageWrapper:In(xo("image-wrapper")),cropperWrapper:In(xo("cropper-wrapper"))}},stencilCoordinates:function(){if(this.initialized){var t=this.coordinates,e=t.width,n=t.height,s=t.left,i=t.top;return{width:e/this.coefficient,height:n/this.coefficient,left:(s-this.visibleArea.left)/this.coefficient,top:(i-this.visibleArea.top)/this.coefficient}}return this.defaultCoordinates()},boundariesStyle:function(){var t={width:this.boundaries.width?"".concat(Math.round(this.boundaries.width),"px"):"auto",height:this.boundaries.height?"".concat(Math.round(this.boundaries.height),"px"):"auto",transition:"opacity ".concat(this.transitionTime,"ms"),pointerEvents:this.imageLoaded?"all":"none"};return this.imageLoaded||(t.opacity="0"),t},imageStyle:function(){var t=this.imageAttributes.width>this.imageAttributes.height?{width:Math.min(1024,this.imageAttributes.width),height:Math.min(1024,this.imageAttributes.width)/(this.imageAttributes.width/this.imageAttributes.height)}:{height:Math.min(1024,this.imageAttributes.height),width:Math.min(1024,this.imageAttributes.height)*(this.imageAttributes.width/this.imageAttributes.height)},e={left:(t.width-this.imageSize.width)/(2*this.coefficient),top:(t.height-this.imageSize.height)/(2*this.coefficient)},n={left:(1-1/this.coefficient)*t.width/2,top:(1-1/this.coefficient)*t.height/2},s=Nt(Nt({},this.imageTransforms),{},{scaleX:this.imageTransforms.scaleX*(this.imageAttributes.width/t.width),scaleY:this.imageTransforms.scaleY*(this.imageAttributes.height/t.height)}),i={width:"".concat(t.width,"px"),height:"".concat(t.height,"px"),left:"0px",top:"0px",transform:"translate(".concat(-e.left-n.left-this.imageTransforms.translateX,"px, ").concat(-e.top-n.top-this.imageTransforms.translateY,"px)")+N9(s)};return this.transitionsOptions.enabled&&(i.transition="".concat(this.transitionsOptions.time,"ms ").concat(this.transitionsOptions.timingFunction)),i}},watch:{src:function(){this.onChangeImage()},stencilComponent:function(){var t=this;this.$nextTick(function(){t.resetCoordinates(),t.runAutoZoom("setCoordinates"),t.onChange()})},minWidth:function(){this.onPropsChange()},maxWidth:function(){this.onPropsChange()},minHeight:function(){this.onPropsChange()},maxHeight:function(){this.onPropsChange()},imageRestriction:function(){this.reset()},stencilProps:function(t,e){["aspectRatio","minAspectRatio","maxAspectRatio"].find(function(n){return t[n]!==e[n]})&&this.$nextTick(this.onPropsChange)}},created:function(){this.debouncedUpdate=w_(this.update,this.debounce),this.debouncedDisableTransitions=w_(this.disableTransitions,this.transitionsOptions.time),this.awaiting=!1},mounted:function(){this.$refs.image.addEventListener("load",this.onSuccessLoadImage),this.$refs.image.addEventListener("error",this.onFailLoadImage),this.onChangeImage(),window.addEventListener("resize",this.refresh),window.addEventListener("orientationchange",this.refresh)},unmounted:function(){window.removeEventListener("resize",this.refresh),window.removeEventListener("orientationchange",this.refresh),this.imageAttributes.revoke&&this.imageAttributes.src&&URL.revokeObjectURL(this.imageAttributes.src),this.debouncedUpdate.clear(),this.debouncedDisableTransitions.clear()},methods:{getResult:function(){var t=this.initialized?this.prepareResult(Nt({},this.coordinates)):this.defaultCoordinates(),e={rotate:this.imageTransforms.rotate%360,flip:Nt({},this.imageTransforms.flip)};if(this.src&&this.imageLoaded){var n=this;return{image:this.image,coordinates:t,visibleArea:this.visibleArea?Nt({},this.visibleArea):null,imageTransforms:e,get canvas(){return n.canvas?n.getCanvas():void 0}}}return{image:this.image,coordinates:t,visibleArea:this.visibleArea?Nt({},this.visibleArea):null,canvas:void 0,imageTransforms:e}},zoom:function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=n.transitions,i=s===void 0||s;this.onManipulateImage(new $u({},{factor:1/t,center:e}),{normalize:!1,transitions:i})},move:function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=n.transitions,i=s===void 0||s;this.onManipulateImage(new $u({left:t||0,top:e||0}),{normalize:!1,transitions:i})},setCoordinates:function(t){var e=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.autoZoom,i=s===void 0||s,o=n.transitions,r=o===void 0||o;this.$nextTick(function(){e.imageLoaded?(e.transitionsActive||(r&&e.enableTransitions(),e.coordinates=e.applyTransform(t),i&&e.runAutoZoom("setCoordinates"),r&&e.debouncedDisableTransitions()),e.onChange()):e.delayedTransforms=t})},refresh:function(){var t=this,e=this.$refs.image;if(this.src&&e)return this.initialized?this.updateVisibleArea().then(function(){t.onChange()}):this.resetVisibleArea().then(function(){t.onChange()})},reset:function(){var t=this;return this.resetVisibleArea().then(function(){t.onChange(!1)})},awaitRender:function(t){var e=this;this.awaiting||(this.awaiting=!0,this.$nextTick(function(){t(),e.awaiting=!1}))},prepareResult:function(t){return this.roundResult?function(e){var n=e.coordinates,s=e.sizeRestrictions,i=e.positionRestrictions,o={width:Math.round(n.width),height:Math.round(n.height),left:Math.round(n.left),top:Math.round(n.top)};return o.width>s.maxWidth?o.width=Math.floor(n.width):o.width<s.minWidth&&(o.width=Math.ceil(n.width)),o.height>s.maxHeight?o.height=Math.floor(n.height):o.height<s.minHeight&&(o.height=Math.ceil(n.height)),Gn(o,i)}(Nt(Nt({},this.getPublicProperties()),{},{positionRestrictions:Wh(this.positionRestrictions,this.visibleArea),coordinates:t})):t},processAutoZoom:function(t,e,n,s){var i=this.autoZoomAlgorithm;i||(i=this.stencilSize?VJ:this.autoZoom?NJ:UJ);var o=i({event:{type:t,params:s},visibleArea:e,coordinates:n,boundaries:this.boundaries,aspectRatio:this.getAspectRatio(),positionRestrictions:this.positionRestrictions,getAreaRestrictions:this.getAreaRestrictions,sizeRestrictions:this.sizeRestrictions,stencilSize:this.getStencilSize()});return Nt(Nt({},o),{},{changed:!Sb(o.visibleArea,e)||!Sb(o.coordinates,n)})},runAutoZoom:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.transitions,s=n!==void 0&&n,i=CJ(e,nQ),o=this.processAutoZoom(t,this.visibleArea,this.coordinates,i),r=o.visibleArea,a=o.coordinates,l=o.changed;s&&l&&this.enableTransitions(),this.visibleArea=r,this.coordinates=a,s&&l&&this.debouncedDisableTransitions()},normalizeEvent:function(t){return function(e){var n=e.event,s=e.visibleArea,i=e.coefficient;if(n.type==="manipulateImage")return nt(nt({},n),{move:{left:n.move&&n.move.left?i*n.move.left:0,top:n.move&&n.move.top?i*n.move.top:0},scale:{factor:n.scale&&n.scale.factor?n.scale.factor:1,center:n.scale&&n.scale.center?{left:n.scale.center.left*i+s.left,top:n.scale.center.top*i+s.top}:null}});if(n.type==="resize"){var o=nt(nt({},n),{directions:nt({},n.directions)});return Ki.forEach(function(a){o.directions[a]*=i}),o}if(n.type==="move"){var r=nt(nt({},n),{directions:nt({},n.directions)});return DJ.forEach(function(a){r.directions[a]*=i}),r}return n}(Nt(Nt({},this.getPublicProperties()),{},{event:t}))},getCanvas:function(){if(this.$refs.canvas){var t=this.$refs.canvas,e=this.$refs.image,n=this.imageTransforms.rotate!==0||this.imageTransforms.flip.horizontal||this.imageTransforms.flip.vertical?function(a,l,c){var u=c.rotate,d=c.flip,h={width:l.naturalWidth,height:l.naturalHeight},f=L9(h,u),p=a.getContext("2d");a.height=f.height,a.width=f.width,p.save();var v=wr(qn(nt({left:0,top:0},h)),u);return p.translate(-(v.left-f.width/2),-(v.top-f.height/2)),p.rotate(u*Math.PI/180),p.translate(d.horizontal?h.width:0,d.vertical?h.height:0),p.scale(d.horizontal?-1:1,d.vertical?-1:1),p.drawImage(l,0,0,h.width,h.height),p.restore(),a}(this.$refs.sourceCanvas,e,this.imageTransforms):e,s=Nt({minWidth:0,minHeight:0,maxWidth:1/0,maxHeight:1/0,maxArea:this.maxCanvasSize,imageSmoothingEnabled:!0,imageSmoothingQuality:"high",fillColor:"transparent"},this.canvas),i=function(a){return a.find(function(l){return c=l,!Number.isNaN(parseFloat(c))&&isFinite(c);var c})},o=Po({sizeRestrictions:{minWidth:i([s.width,s.minWidth])||0,minHeight:i([s.height,s.minHeight])||0,maxWidth:i([s.width,s.maxWidth])||1/0,maxHeight:i([s.height,s.maxHeight])||1/0},width:this.coordinates.width,height:this.coordinates.height,aspectRatio:{minimum:this.coordinates.width/this.coordinates.height,maximum:this.coordinates.width/this.coordinates.height}});if(s.maxArea&&o.width*o.height>s.maxArea){var r=Math.sqrt(s.maxArea/(o.width*o.height));o={width:Math.round(r*o.width),height:Math.round(r*o.height)}}return function(a,l,c,u,d){a.width=u?u.width:c.width,a.height=u?u.height:c.height;var h=a.getContext("2d");h.clearRect(0,0,a.width,a.height),d&&(d.imageSmoothingEnabled&&(h.imageSmoothingEnabled=d.imageSmoothingEnabled),d.imageSmoothingQuality&&(h.imageSmoothingQuality=d.imageSmoothingQuality),d.fillColor&&(h.fillStyle=d.fillColor,h.fillRect(0,0,a.width,a.height),h.save()));var f=c.left<0?-c.left:0,p=c.top<0?-c.top:0;h.drawImage(l,c.left+f,c.top+p,c.width,c.height,f*(a.width/c.width),p*(a.height/c.height),a.width,a.height)}(t,n,this.coordinates,o,s),t}},update:function(){this.$emit("change",this.getResult())},applyTransform:function(t){var e=arguments.length>1&&arguments[1]!==void 0&&arguments[1],n=this.visibleArea&&e?PJ(this.sizeRestrictions,this.visibleArea):this.sizeRestrictions,s=this.visibleArea&&e?Wh(this.positionRestrictions,this.visibleArea):this.positionRestrictions;return RJ({transform:t,coordinates:this.coordinates,imageSize:this.imageSize,sizeRestrictions:n,positionRestrictions:s,aspectRatio:this.getAspectRatio(),visibleArea:this.visibleArea})},resetCoordinates:function(){var t=this;if(this.$refs.image){this.$refs.cropper,this.$refs.image;var e=this.defaultSize;e||(e=this.stencilSize?zJ:jJ);var n=this.sizeRestrictions;n.minWidth,n.minHeight,n.maxWidth,n.maxHeight;var s=ul(e)?e({boundaries:this.boundaries,imageSize:this.imageSize,aspectRatio:this.getAspectRatio(),sizeRestrictions:this.sizeRestrictions,stencilSize:this.getStencilSize(),visibleArea:this.visibleArea}):e,i=this.defaultPosition||BJ,o=[s,function(r){var a=r.coordinates;return Nt({},ul(i)?i({coordinates:a,imageSize:t.imageSize,visibleArea:t.visibleArea}):t.defaultPosition)}];this.delayedTransforms&&o.push.apply(o,Va(Array.isArray(this.delayedTransforms)?this.delayedTransforms:[this.delayedTransforms])),this.coordinates=this.applyTransform(o,!0),this.delayedTransforms=null}},clearImage:function(){var t=this;this.imageLoaded=!1,setTimeout(function(){var e=t.$refs.stretcher;e&&(e.style.height="auto",e.style.width="auto"),t.coordinates=t.defaultCoordinates(),t.boundaries={width:0,height:0}},this.transitionTime)},enableTransitions:function(){this.transitions&&(this.transitionsActive=!0)},disableTransitions:function(){this.transitionsActive=!1},updateBoundaries:function(){var t=this,e=this.$refs.stretcher,n=this.$refs.cropper;return this.initStretcher({cropper:n,stretcher:e,imageSize:this.imageSize}),this.$nextTick().then(function(){var s={cropper:n,imageSize:t.imageSize};if(ul(t.defaultBoundaries)?t.boundaries=t.defaultBoundaries(s):t.defaultBoundaries==="fit"?t.boundaries=function(i){var o=i.cropper,r=i.imageSize,a=o.clientHeight,l=o.clientWidth,c=a,u=r.width*a/r.height;return u>l&&(u=l,c=r.height*l/r.width),{width:u,height:c}}(s):t.boundaries=function(i){var o=i.cropper;return{width:o.clientWidth,height:o.clientHeight}}(s),!t.boundaries.width||!t.boundaries.height)throw new Error("It's impossible to fit the cropper in the current container")})},resetVisibleArea:function(){var t=this;return this.appliedImageTransforms=Nt(Nt({},this.defaultImageTransforms),{},{flip:Nt({},this.defaultImageTransforms.flip)}),this.updateBoundaries().then(function(){t.priority!=="visible-area"&&(t.visibleArea=null,t.resetCoordinates());var e,n,s,i,o,r,a=t.defaultVisibleArea||FJ;t.visibleArea=ul(a)?a({imageSize:t.imageSize,boundaries:t.boundaries,coordinates:t.priority!=="visible-area"?t.coordinates:null,getAreaRestrictions:t.getAreaRestrictions,stencilSize:t.getStencilSize()}):t.defaultVisibleArea,t.visibleArea=(e={visibleArea:t.visibleArea,boundaries:t.boundaries,getAreaRestrictions:t.getAreaRestrictions},n=e.visibleArea,s=e.boundaries,i=e.getAreaRestrictions,o=nt({},n),r=Ut(s),o.width/o.height!==r&&(o.height=o.width/r),Gn(o,i({visibleArea:o,type:"move"}))),t.priority==="visible-area"?t.resetCoordinates():t.coordinates=t.fitCoordinates({visibleArea:t.visibleArea,coordinates:t.coordinates,aspectRatio:t.getAspectRatio(),positionRestrictions:t.positionRestrictions,sizeRestrictions:t.sizeRestrictions}),t.runAutoZoom("resetVisibleArea")}).catch(function(){t.visibleArea=null})},updateVisibleArea:function(){var t=this;return this.updateBoundaries().then(function(){t.visibleArea=t.fitVisibleArea({imageSize:t.imageSize,boundaries:t.boundaries,visibleArea:t.visibleArea,coordinates:t.coordinates,getAreaRestrictions:t.getAreaRestrictions}),t.coordinates=t.fitCoordinates({visibleArea:t.visibleArea,coordinates:t.coordinates,aspectRatio:t.getAspectRatio(),positionRestrictions:t.positionRestrictions,sizeRestrictions:t.sizeRestrictions}),t.runAutoZoom("updateVisibleArea")}).catch(function(){t.visibleArea=null})},onChange:function(){var t=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];t&&this.debounce?this.debouncedUpdate():this.update()},onChangeImage:function(){var t,e=this;if(this.imageLoaded=!1,this.delayedTransforms=null,this.src){if(function(i){if(bb(i))return!1;var o=window.location,r=/(\w+:)?(?:\/\/)([\w.-]+)?(?::(\d+))?\/?/.exec(i)||[],a={protocol:r[1]||"",host:r[2]||"",port:r[3]||""},l=function(c){return c.port||((c.protocol||o.protocol)==="http"?80:433)};return!(!a.protocol&&!a.host&&!a.port||a.protocol&&a.protocol==o.protocol&&a.host&&a.host==o.host&&a.host&&l(a)==l(o))}(this.src)){var n=Nn(this.crossOrigin)?this.canvas:this.crossOrigin;n===!0&&(n="anonymous"),this.imageAttributes.crossOrigin=n||null}if(this.checkOrientation){var s=(t=this.src,new Promise(function(i){eQ(t).then(function(o){var r=tQ(o);i(o?{source:t,arrayBuffer:o,orientation:r}:{source:t,arrayBuffer:null,orientation:null})}).catch(function(o){console.warn(o),i({source:t,arrayBuffer:null,orientation:null})})}));setTimeout(function(){s.then(e.onParseImage)},this.transitionTime)}else setTimeout(function(){e.onParseImage({source:e.src})},this.transitionTime)}else this.clearImage()},onFailLoadImage:function(){this.imageAttributes.src&&(this.clearImage(),this.$emit("error"))},onSuccessLoadImage:function(){var t=this,e=this.$refs.image;e&&!this.imageLoaded&&(this.imageAttributes.height=e.naturalHeight,this.imageAttributes.width=e.naturalWidth,this.imageLoaded=!0,this.resetVisibleArea().then(function(){t.$emit("ready"),t.onChange(!1)}))},onParseImage:function(t){var e=this,n=t.source,s=t.arrayBuffer,i=t.orientation;this.imageAttributes.revoke&&this.imageAttributes.src&&URL.revokeObjectURL(this.imageAttributes.src),this.imageAttributes.revoke=!1,s&&i&&i>1?T9(n)||!bb(n)?(this.imageAttributes.src=URL.createObjectURL(new Blob([s])),this.imageAttributes.revoke=!0):this.imageAttributes.src=function(o){for(var r=[],a=new Uint8Array(o);a.length>0;){var l=a.subarray(0,8192);r.push(String.fromCharCode.apply(null,Array.from?Array.from(l):l.slice())),a=a.subarray(8192)}return"data:image/jpeg;base64,"+btoa(r.join(""))}(s):this.imageAttributes.src=n,ul(this.defaultTransforms)?this.appliedImageTransforms=Wg(this.defaultTransforms()):Sf(this.defaultTransforms)?this.appliedImageTransforms=Wg(this.defaultTransforms):this.appliedImageTransforms=function(o){var r=Wg({});if(o)switch(o){case 2:r.flip.horizontal=!0;break;case 3:r.rotate=-180;break;case 4:r.flip.vertical=!0;break;case 5:r.rotate=90,r.flip.vertical=!0;break;case 6:r.rotate=90;break;case 7:r.rotate=90,r.flip.horizontal=!0;break;case 8:r.rotate=-90}return r}(i),this.defaultImageTransforms=Nt(Nt({},this.appliedImageTransforms),{},{flip:Nt({},this.appliedImageTransforms.flip)}),this.$nextTick(function(){var o=e.$refs.image;o&&o.complete&&(function(r){return!!r.naturalWidth}(o)?e.onSuccessLoadImage():e.onFailLoadImage())})},onResizeEnd:function(){this.runAutoZoom("resize",{transitions:!0})},onMoveEnd:function(){this.runAutoZoom("move",{transitions:!0})},onMove:function(t){var e=this;this.transitionsOptions.enabled||this.awaitRender(function(){e.coordinates=e.moveAlgorithm(Nt(Nt({},e.getPublicProperties()),{},{positionRestrictions:Wh(e.positionRestrictions,e.visibleArea),coordinates:e.coordinates,event:e.normalizeEvent(t)})),e.onChange()})},onResize:function(t){var e=this;this.transitionsOptions.enabled||this.stencilSize&&!this.autoZoom||this.awaitRender(function(){var n=e.sizeRestrictions,s=Math.min(e.coordinates.width,e.coordinates.height,20*e.coefficient);e.coordinates=e.resizeAlgorithm(Nt(Nt({},e.getPublicProperties()),{},{positionRestrictions:Wh(e.positionRestrictions,e.visibleArea),sizeRestrictions:{maxWidth:Math.min(n.maxWidth,e.visibleArea.width),maxHeight:Math.min(n.maxHeight,e.visibleArea.height),minWidth:Math.max(n.minWidth,s),minHeight:Math.max(n.minHeight,s)},event:e.normalizeEvent(t)})),e.onChange(),e.ticking=!1})},onManipulateImage:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.transitionsOptions.enabled){var n=e.transitions,s=n!==void 0&&n,i=e.normalize,o=i===void 0||i;s&&this.enableTransitions();var r=WJ(Nt(Nt({},this.getPublicProperties()),{},{event:o?this.normalizeEvent(t):t,getAreaRestrictions:this.getAreaRestrictions,imageRestriction:this.imageRestriction,adjustStencil:!this.stencilSize&&this.settings.resizeImage.adjustStencil})),a=r.visibleArea,l=r.coordinates;this.visibleArea=a,this.coordinates=l,this.runAutoZoom("manipulateImage"),this.onChange(),s&&this.debouncedDisableTransitions()}},onPropsChange:function(){this.coordinates=this.applyTransform(this.coordinates,!0),this.onChange(!1)},getAreaRestrictions:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.visibleArea,n=t.type,s=n===void 0?"move":n;return this.areaRestrictionsAlgorithm({boundaries:this.boundaries,imageSize:this.imageSize,imageRestriction:this.imageRestriction,visibleArea:e,type:s})},getAspectRatio:function(t){var e,n,s=this.stencilProps,i=s.aspectRatio,o=s.minAspectRatio,r=s.maxAspectRatio;if(this.$refs.stencil&&this.$refs.stencil.aspectRatios){var a=this.$refs.stencil.aspectRatios();e=a.minimum,n=a.maximum}if(Nn(e)&&(e=Nn(i)?o:i),Nn(n)&&(n=Nn(i)?r:i),!t&&(Nn(e)||Nn(n))){var l=this.getStencilSize(),c=l?Ut(l):null;Nn(e)&&(e=wb(c)?c:void 0),Nn(n)&&(n=wb(c)?c:void 0)}return{minimum:e,maximum:n}},getStencilSize:function(){if(this.stencilSize)return t={currentStencilSize:{width:this.stencilCoordinates.width,height:this.stencilCoordinates.height},stencilSize:this.stencilSize,boundaries:this.boundaries,coefficient:this.coefficient,coordinates:this.coordinates,aspectRatio:this.getAspectRatio(!0)},e=t.boundaries,n=t.stencilSize,s=t.aspectRatio,zg(Ut(i=ul(n)?n({boundaries:e,aspectRatio:s}):n),s)&&(i=Po({sizeRestrictions:{maxWidth:e.width,maxHeight:e.height,minWidth:0,minHeight:0},width:i.width,height:i.height,aspectRatio:{minimum:s.minimum,maximum:s.maximum}})),(i.width>e.width||i.height>e.height)&&(i=Po({sizeRestrictions:{maxWidth:e.width,maxHeight:e.height,minWidth:0,minHeight:0},width:i.width,height:i.height,aspectRatio:{minimum:Ut(i),maximum:Ut(i)}})),i;var t,e,n,s,i},getPublicProperties:function(){return{coefficient:this.coefficient,visibleArea:this.visibleArea,coordinates:this.coordinates,boundaries:this.boundaries,sizeRestrictions:this.sizeRestrictions,positionRestrictions:this.positionRestrictions,aspectRatio:this.getAspectRatio(),imageRestriction:this.imageRestriction}},defaultCoordinates:function(){return Nt({},xb)},flip:function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=n.transitions,i=s===void 0||s;if(!this.transitionsActive){i&&this.enableTransitions();var o=Nt({},this.imageTransforms.flip),r=qJ({flip:{horizontal:t?!o.horizontal:o.horizontal,vertical:e?!o.vertical:o.vertical},previousFlip:o,rotate:this.imageTransforms.rotate,visibleArea:this.visibleArea,coordinates:this.coordinates,imageSize:this.imageSize,positionRestrictions:this.positionRestrictions,sizeRestrictions:this.sizeRestrictions,getAreaRestrictions:this.getAreaRestrictions,aspectRatio:this.getAspectRatio()}),a=r.visibleArea,l=r.coordinates;t&&(this.appliedImageTransforms.flip.horizontal=!this.appliedImageTransforms.flip.horizontal),e&&(this.appliedImageTransforms.flip.vertical=!this.appliedImageTransforms.flip.vertical),this.visibleArea=a,this.coordinates=l,this.onChange(),i&&this.debouncedDisableTransitions()}},rotate:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.transitions,s=n===void 0||n;if(!this.transitionsActive){s&&this.enableTransitions();var i=Nt({},this.imageSize);this.appliedImageTransforms.rotate+=t;var o=HJ({visibleArea:this.visibleArea,coordinates:this.coordinates,previousImageSize:i,imageSize:this.imageSize,angle:t,positionRestrictions:this.positionRestrictions,sizeRestrictions:this.sizeRestrictions,getAreaRestrictions:this.getAreaRestrictions,aspectRatio:this.getAspectRatio()}),r=o.visibleArea,a=o.coordinates,l=this.processAutoZoom("rotateImage",r,a);r=l.visibleArea,a=l.coordinates,this.visibleArea=r,this.coordinates=a,this.onChange(),s&&this.debouncedDisableTransitions()}}},emits:["change","error","ready"]},sQ={key:0,ref:"canvas",style:{display:"none"}},iQ={key:1,ref:"sourceCanvas",style:{display:"none"}};F9.render=function(t,e,n,s,i,o){return b(),B("div",{ref:"cropper",class:o.classes.cropper},[E("div",{ref:"stretcher",class:o.classes.stretcher},null,2),E("div",{class:o.classes.boundaries,style:o.boundariesStyle},[(b(),B(Vn(n.backgroundWrapperComponent),{class:o.classes.cropperWrapper,"wheel-resize":o.settings.resizeImage.wheel,"touch-resize":o.settings.resizeImage.touch,"touch-move":o.settings.moveImage.touch,"mouse-move":o.settings.moveImage.mouse,onMove:o.onManipulateImage,onResize:o.onManipulateImage},{default:L(function(){return[E("div",{class:o.classes.background,style:o.boundariesStyle},null,6),E("div",{class:o.classes.imageWrapper},[E("img",{ref:"image",crossorigin:i.imageAttributes.crossOrigin,src:i.imageAttributes.src,class:o.classes.image,style:o.imageStyle,onMousedown:e[1]||(e[1]=un(function(){},["prevent"]))},null,46,["crossorigin","src"])],2),E("div",{class:o.classes.foreground,style:o.boundariesStyle},null,6),$e((b(),B(Vn(n.stencilComponent),bc({ref:"stencil",image:o.image,coordinates:i.coordinates,"stencil-coordinates":o.stencilCoordinates,transitions:o.transitionsOptions},n.stencilProps,{onResize:o.onResize,onResizeEnd:o.onResizeEnd,onMove:o.onMove,onMoveEnd:o.onMoveEnd}),null,16,["image","coordinates","stencil-coordinates","transitions","onResize","onResizeEnd","onMove","onMoveEnd"])),[[ai,i.imageLoaded]]),n.canvas?(b(),B("canvas",sQ,null,512)):N("",!0),n.canvas?(b(),B("canvas",iQ,null,512)):N("",!0)]}),_:1},8,["class","wheel-resize","touch-resize","touch-move","mouse-move","onMove","onResize"]))],6)],2)};const oQ=t=>(Ie("data-v-f5cef84c"),t=t(),Oe(),t),rQ={key:0,class:"crop-modal"},aQ={class:"crop-modal__inner"},lQ={class:"crop-modal__preview"},cQ={key:0,class:"crop-modal__preview__image-preview"},uQ={class:"crop-modal__preview__image-preview__actions"},dQ={key:1,class:"crop-modal__preview__pdf-preview"},hQ={class:"crop-modal__menu"},fQ=oQ(()=>m("div",{class:"crop-modal__menu__header"},[m("h3",null,"Файлы")],-1)),pQ={class:"crop-modal__menu__file-list"},mQ={class:"crop-modal__menu__error-list"},gQ={class:"crop-modal__menu__actions"},_Q={class:"row"},vQ={class:"col"},yQ={class:"col"},bQ=j({__name:"crop-modal",props:{visible:{type:Boolean},files:{},filesWithErrors:{}},emits:["update:visible","update:files","confirm","cancel"],setup(t,{emit:e}){const n=t,s=e,i=q({get:()=>n.files,set:y=>s("update:files",y)}),o=Y(),r=Y(""),a=q(()=>{var y,_;return((y=o.value)==null?void 0:y.mimeType)==="image/jpeg"||((_=o.value)==null?void 0:_.mimeType)==="image/png"}),l=Y();ke(()=>n.visible,()=>{var y;o.value=(y=n.files)==null?void 0:y.at(0)},{immediate:!0}),ke(o,()=>{o.value&&setTimeout(()=>h(o.value),25)},{immediate:!0});function c({canvas:y}){l.value=y}function u(){if(!o.value||!l.value)return;const y=d(l.value.toDataURL(),o.value.name);i.value=i.value.map(_=>{var w;return _.name===((w=o.value)==null?void 0:w.name)?{..._,file:y}:_})}function d(y,_){const w=y.split(","),x=w[0].match(/:(.*?);/)[1],k=atob(w[1]);let C=k.length;const S=new Uint8Array(C);for(;C--;)S[C]=k.charCodeAt(C);return new File([S],_,{type:x})}function h(y){if(!y.file){r.value="";return}r.value="";const _=new FileReader;_.readAsDataURL(y.file),_.onload=()=>{r.value=_.result}}function f(y){return URL.createObjectURL(y)}function p(){s("confirm")}function v(){i.value=[],s("update:visible",!1),s("cancel")}return(y,_)=>{var C;const w=xt,x=$J,k=C9;return b(),B(Ti,{to:"body"},[y.visible?(b(),$("div",rQ,[m("div",aQ,[m("div",lQ,[r.value&&a.value?(b(),$("div",cQ,[E(g(F9),{class:"crop-modal__preview__image-preview__cropper",src:r.value,onChange:_[0]||(_[0]=S=>c(S))},null,8,["src"]),m("div",uQ,[E(w,{alignment:"stretch",design:"secondary",onClick:_[1]||(_[1]=S=>u())},{default:L(()=>[W(" Обрезать ")]),_:1})])])):((C=o.value)==null?void 0:C.mimeType)==="application/pdf"?(b(),$("div",dQ,[E(x,{src:f(o.value.file)},null,8,["src"])])):N("",!0)]),m("div",hQ,[fQ,m("div",pQ,[E(k,{selectable:"",files:i.value,"onUpdate:files":_[2]||(_[2]=S=>i.value=S),selected:o.value,"onUpdate:selected":_[3]||(_[3]=S=>o.value=S)},null,8,["files","selected"])]),m("div",mQ,[(b(!0),$(ue,null,Be(y.filesWithErrors,S=>(b(),$("p",{class:"crop-modal__menu__error-list__error",key:S.order},[m("b",null,H(S.name)+": ",1),m("span",null,H(S.error),1)]))),128))]),m("div",gQ,[m("div",_Q,[m("div",vQ,[E(w,{onClick:_[4]||(_[4]=S=>v()),design:"danger",alignment:"stretch"},{default:L(()=>[W(" Отмена ")]),_:1})]),m("div",yQ,[E(w,{onClick:_[5]||(_[5]=S=>p()),design:"primary",alignment:"stretch"},{default:L(()=>[W(" Загрузить ")]),_:1})])])])])])])):N("",!0)])}}});const wQ=J(bQ,[["__scopeId","data-v-f5cef84c"]]);var W9={exports:{}};const xQ=_6(Fk);/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Tb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function co(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tb(Object(n),!0).forEach(function(s){SQ(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tb(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function kf(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?kf=function(e){return typeof e}:kf=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(t)}function SQ(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oi(){return oi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},oi.apply(this,arguments)}function kQ(t,e){if(t==null)return{};var n={},s=Object.keys(t),i,o;for(o=0;o<s.length;o++)i=s[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function $Q(t,e){if(t==null)return{};var n=kQ(t,e),s,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)s=o[i],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function CQ(t){return EQ(t)||TQ(t)||AQ(t)||MQ()}function EQ(t){if(Array.isArray(t))return C_(t)}function TQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function AQ(t,e){if(t){if(typeof t=="string")return C_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C_(t,e)}}function C_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,s=new Array(e);n<e;n++)s[n]=t[n];return s}function MQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var IQ="1.14.0";function Fo(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var ir=Fo(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),eh=Fo(/Edge/i),Ab=Fo(/firefox/i),Cu=Fo(/safari/i)&&!Fo(/chrome/i)&&!Fo(/android/i),H9=Fo(/iP(ad|od|hone)/i),OQ=Fo(/chrome/i)&&Fo(/android/i),q9={capture:!1,passive:!1};function At(t,e,n){t.addEventListener(e,n,!ir&&q9)}function Et(t,e,n){t.removeEventListener(e,n,!ir&&q9)}function cp(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function DQ(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function mi(t,e,n,s){if(t){n=n||document;do{if(e!=null&&(e[0]===">"?t.parentNode===n&&cp(t,e):cp(t,e))||s&&t===n)return t;if(t===n)break}while(t=DQ(t))}return null}var Mb=/\s+/g;function ln(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var s=(" "+t.className+" ").replace(Mb," ").replace(" "+e+" "," ");t.className=(s+(n?" "+e:"")).replace(Mb," ")}}function Ge(t,e,n){var s=t&&t.style;if(s){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),e===void 0?n:n[e];!(e in s)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),s[e]=n+(typeof n=="string"?"":"px")}}function $a(t,e){var n="";if(typeof t=="string")n=t;else do{var s=Ge(t,"transform");s&&s!=="none"&&(n=s+" "+n)}while(!e&&(t=t.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function G9(t,e,n){if(t){var s=t.getElementsByTagName(e),i=0,o=s.length;if(n)for(;i<o;i++)n(s[i],i);return s}return[]}function eo(){var t=document.scrollingElement;return t||document.documentElement}function rn(t,e,n,s,i){if(!(!t.getBoundingClientRect&&t!==window)){var o,r,a,l,c,u,d;if(t!==window&&t.parentNode&&t!==eo()?(o=t.getBoundingClientRect(),r=o.top,a=o.left,l=o.bottom,c=o.right,u=o.height,d=o.width):(r=0,a=0,l=window.innerHeight,c=window.innerWidth,u=window.innerHeight,d=window.innerWidth),(e||n)&&t!==window&&(i=i||t.parentNode,!ir))do if(i&&i.getBoundingClientRect&&(Ge(i,"transform")!=="none"||n&&Ge(i,"position")!=="static")){var h=i.getBoundingClientRect();r-=h.top+parseInt(Ge(i,"border-top-width")),a-=h.left+parseInt(Ge(i,"border-left-width")),l=r+o.height,c=a+o.width;break}while(i=i.parentNode);if(s&&t!==window){var f=$a(i||t),p=f&&f.a,v=f&&f.d;f&&(r/=v,a/=p,d/=p,u/=v,l=r+u,c=a+d)}return{top:r,left:a,bottom:l,right:c,width:d,height:u}}}function Ib(t,e,n){for(var s=Cr(t,!0),i=rn(t)[e];s;){var o=rn(s)[n],r=void 0;if(n==="top"||n==="left"?r=i>=o:r=i<=o,!r)return s;if(s===eo())break;s=Cr(s,!1)}return!1}function dc(t,e,n,s){for(var i=0,o=0,r=t.children;o<r.length;){if(r[o].style.display!=="none"&&r[o]!==ut.ghost&&(s||r[o]!==ut.dragged)&&mi(r[o],n.draggable,t,!1)){if(i===e)return r[o];i++}o++}return null}function S0(t,e){for(var n=t.lastElementChild;n&&(n===ut.ghost||Ge(n,"display")==="none"||e&&!cp(n,e));)n=n.previousElementSibling;return n||null}function mn(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==ut.clone&&(!e||cp(t,e))&&n++;return n}function Ob(t){var e=0,n=0,s=eo();if(t)do{var i=$a(t),o=i.a,r=i.d;e+=t.scrollLeft*o,n+=t.scrollTop*r}while(t!==s&&(t=t.parentNode));return[e,n]}function LQ(t,e){for(var n in t)if(t.hasOwnProperty(n)){for(var s in e)if(e.hasOwnProperty(s)&&e[s]===t[n][s])return Number(n)}return-1}function Cr(t,e){if(!t||!t.getBoundingClientRect)return eo();var n=t,s=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=Ge(n);if(n.clientWidth<n.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return eo();if(s||e)return n;s=!0}}while(n=n.parentNode);return eo()}function PQ(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function qg(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var Eu;function Y9(t,e){return function(){if(!Eu){var n=arguments,s=this;n.length===1?t.call(s,n[0]):t.apply(s,n),Eu=setTimeout(function(){Eu=void 0},e)}}}function RQ(){clearTimeout(Eu),Eu=void 0}function K9(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function k0(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function Db(t,e){Ge(t,"position","absolute"),Ge(t,"top",e.top),Ge(t,"left",e.left),Ge(t,"width",e.width),Ge(t,"height",e.height)}function Gg(t){Ge(t,"position",""),Ge(t,"top",""),Ge(t,"left",""),Ge(t,"width",""),Ge(t,"height","")}var ns="Sortable"+new Date().getTime();function VQ(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var s=[].slice.call(this.el.children);s.forEach(function(i){if(!(Ge(i,"display")==="none"||i===ut.ghost)){t.push({target:i,rect:rn(i)});var o=co({},t[t.length-1].rect);if(i.thisAnimationDuration){var r=$a(i,!0);r&&(o.top-=r.f,o.left-=r.e)}i.fromRect=o}})}},addAnimationState:function(s){t.push(s)},removeAnimationState:function(s){t.splice(LQ(t,{target:s}),1)},animateAll:function(s){var i=this;if(!this.options.animation){clearTimeout(e),typeof s=="function"&&s();return}var o=!1,r=0;t.forEach(function(a){var l=0,c=a.target,u=c.fromRect,d=rn(c),h=c.prevFromRect,f=c.prevToRect,p=a.rect,v=$a(c,!0);v&&(d.top-=v.f,d.left-=v.e),c.toRect=d,c.thisAnimationDuration&&qg(h,d)&&!qg(u,d)&&(p.top-d.top)/(p.left-d.left)===(u.top-d.top)/(u.left-d.left)&&(l=UQ(p,h,f,i.options)),qg(d,u)||(c.prevFromRect=u,c.prevToRect=d,l||(l=i.options.animation),i.animate(c,p,d,l)),l&&(o=!0,r=Math.max(r,l),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},l),c.thisAnimationDuration=l)}),clearTimeout(e),o?e=setTimeout(function(){typeof s=="function"&&s()},r):typeof s=="function"&&s(),t=[]},animate:function(s,i,o,r){if(r){Ge(s,"transition",""),Ge(s,"transform","");var a=$a(this.el),l=a&&a.a,c=a&&a.d,u=(i.left-o.left)/(l||1),d=(i.top-o.top)/(c||1);s.animatingX=!!u,s.animatingY=!!d,Ge(s,"transform","translate3d("+u+"px,"+d+"px,0)"),this.forRepaintDummy=NQ(s),Ge(s,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),Ge(s,"transform","translate3d(0,0,0)"),typeof s.animated=="number"&&clearTimeout(s.animated),s.animated=setTimeout(function(){Ge(s,"transition",""),Ge(s,"transform",""),s.animated=!1,s.animatingX=!1,s.animatingY=!1},r)}}}}function NQ(t){return t.offsetWidth}function UQ(t,e,n,s){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*s.animation}var dl=[],Yg={initializeByDefault:!0},th={mount:function(e){for(var n in Yg)Yg.hasOwnProperty(n)&&!(n in e)&&(e[n]=Yg[n]);dl.forEach(function(s){if(s.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),dl.push(e)},pluginEvent:function(e,n,s){var i=this;this.eventCanceled=!1,s.cancel=function(){i.eventCanceled=!0};var o=e+"Global";dl.forEach(function(r){n[r.pluginName]&&(n[r.pluginName][o]&&n[r.pluginName][o](co({sortable:n},s)),n.options[r.pluginName]&&n[r.pluginName][e]&&n[r.pluginName][e](co({sortable:n},s)))})},initializePlugins:function(e,n,s,i){dl.forEach(function(a){var l=a.pluginName;if(!(!e.options[l]&&!a.initializeByDefault)){var c=new a(e,n,e.options);c.sortable=e,c.options=e.options,e[l]=c,oi(s,c.defaults)}});for(var o in e.options)if(e.options.hasOwnProperty(o)){var r=this.modifyOption(e,o,e.options[o]);typeof r<"u"&&(e.options[o]=r)}},getEventProperties:function(e,n){var s={};return dl.forEach(function(i){typeof i.eventProperties=="function"&&oi(s,i.eventProperties.call(n[i.pluginName],e))}),s},modifyOption:function(e,n,s){var i;return dl.forEach(function(o){e[o.pluginName]&&o.optionListeners&&typeof o.optionListeners[n]=="function"&&(i=o.optionListeners[n].call(e[o.pluginName],s))}),i}};function eu(t){var e=t.sortable,n=t.rootEl,s=t.name,i=t.targetEl,o=t.cloneEl,r=t.toEl,a=t.fromEl,l=t.oldIndex,c=t.newIndex,u=t.oldDraggableIndex,d=t.newDraggableIndex,h=t.originalEvent,f=t.putSortable,p=t.extraEventProperties;if(e=e||n&&n[ns],!!e){var v,y=e.options,_="on"+s.charAt(0).toUpperCase()+s.substr(1);window.CustomEvent&&!ir&&!eh?v=new CustomEvent(s,{bubbles:!0,cancelable:!0}):(v=document.createEvent("Event"),v.initEvent(s,!0,!0)),v.to=r||n,v.from=a||n,v.item=i||n,v.clone=o,v.oldIndex=l,v.newIndex=c,v.oldDraggableIndex=u,v.newDraggableIndex=d,v.originalEvent=h,v.pullMode=f?f.lastPutMode:void 0;var w=co(co({},p),th.getEventProperties(s,e));for(var x in w)v[x]=w[x];n&&n.dispatchEvent(v),y[_]&&y[_].call(e,v)}}var BQ=["evt"],Ss=function(e,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=s.evt,o=$Q(s,BQ);th.pluginEvent.bind(ut)(e,n,co({dragEl:Ee,parentEl:fn,ghostEl:_t,rootEl:on,nextEl:ha,lastDownEl:$f,cloneEl:pn,cloneHidden:xr,dragStarted:tu,putSortable:Hn,activeSortable:ut.active,originalEvent:i,oldIndex:Tl,oldDraggableIndex:Tu,newIndex:Ps,newDraggableIndex:vr,hideGhostForTarget:Q9,unhideGhostForTarget:ew,cloneNowHidden:function(){xr=!0},cloneNowShown:function(){xr=!1},dispatchSortableEvent:function(a){ps({sortable:n,name:a,originalEvent:i})}},o))};function ps(t){eu(co({putSortable:Hn,cloneEl:pn,targetEl:Ee,rootEl:on,oldIndex:Tl,oldDraggableIndex:Tu,newIndex:Ps,newDraggableIndex:vr},t))}var Ee,fn,_t,on,ha,$f,pn,xr,Tl,Ps,Tu,vr,Gh,Hn,Cl=!1,up=!1,dp=[],ia,hi,Kg,Zg,Lb,Pb,tu,hl,Au,Mu=!1,Yh=!1,Cf,Jn,Xg=[],E_=!1,hp=[],gm=typeof document<"u",Kh=H9,Rb=eh||ir?"cssFloat":"float",jQ=gm&&!OQ&&!H9&&"draggable"in document.createElement("div"),Z9=function(){if(gm){if(ir)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),X9=function(e,n){var s=Ge(e),i=parseInt(s.width)-parseInt(s.paddingLeft)-parseInt(s.paddingRight)-parseInt(s.borderLeftWidth)-parseInt(s.borderRightWidth),o=dc(e,0,n),r=dc(e,1,n),a=o&&Ge(o),l=r&&Ge(r),c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+rn(o).width,u=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+rn(r).width;if(s.display==="flex")return s.flexDirection==="column"||s.flexDirection==="column-reverse"?"vertical":"horizontal";if(s.display==="grid")return s.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&a.float&&a.float!=="none"){var d=a.float==="left"?"left":"right";return r&&(l.clear==="both"||l.clear===d)?"vertical":"horizontal"}return o&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||c>=i&&s[Rb]==="none"||r&&s[Rb]==="none"&&c+u>i)?"vertical":"horizontal"},zQ=function(e,n,s){var i=s?e.left:e.top,o=s?e.right:e.bottom,r=s?e.width:e.height,a=s?n.left:n.top,l=s?n.right:n.bottom,c=s?n.width:n.height;return i===a||o===l||i+r/2===a+c/2},FQ=function(e,n){var s;return dp.some(function(i){var o=i[ns].options.emptyInsertThreshold;if(!(!o||S0(i))){var r=rn(i),a=e>=r.left-o&&e<=r.right+o,l=n>=r.top-o&&n<=r.bottom+o;if(a&&l)return s=i}}),s},J9=function(e){function n(o,r){return function(a,l,c,u){var d=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(o==null&&(r||d))return!0;if(o==null||o===!1)return!1;if(r&&o==="clone")return o;if(typeof o=="function")return n(o(a,l,c,u),r)(a,l,c,u);var h=(r?a:l).options.group.name;return o===!0||typeof o=="string"&&o===h||o.join&&o.indexOf(h)>-1}}var s={},i=e.group;(!i||kf(i)!="object")&&(i={name:i}),s.name=i.name,s.checkPull=n(i.pull,!0),s.checkPut=n(i.put),s.revertClone=i.revertClone,e.group=s},Q9=function(){!Z9&&_t&&Ge(_t,"display","none")},ew=function(){!Z9&&_t&&Ge(_t,"display","")};gm&&document.addEventListener("click",function(t){if(up)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),up=!1,!1},!0);var oa=function(e){if(Ee){e=e.touches?e.touches[0]:e;var n=FQ(e.clientX,e.clientY);if(n){var s={};for(var i in e)e.hasOwnProperty(i)&&(s[i]=e[i]);s.target=s.rootEl=n,s.preventDefault=void 0,s.stopPropagation=void 0,n[ns]._onDragOver(s)}}},WQ=function(e){Ee&&Ee.parentNode[ns]._isOutsideThisEl(e.target)};function ut(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=oi({},e),t[ns]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return X9(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(r,a){r.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:ut.supportPointer!==!1&&"PointerEvent"in window&&!Cu,emptyInsertThreshold:5};th.initializePlugins(this,t,n);for(var s in n)!(s in e)&&(e[s]=n[s]);J9(e);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=e.forceFallback?!1:jQ,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?At(t,"pointerdown",this._onTapStart):(At(t,"mousedown",this._onTapStart),At(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(At(t,"dragover",this),At(t,"dragenter",this)),dp.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),oi(this,VQ())}ut.prototype={constructor:ut,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(hl=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,Ee):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,s=this.el,i=this.options,o=i.preventOnFilter,r=e.type,a=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(a||e).target,c=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,u=i.filter;if(JQ(s),!Ee&&!(/mousedown|pointerdown/.test(r)&&e.button!==0||i.disabled)&&!c.isContentEditable&&!(!this.nativeDraggable&&Cu&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=mi(l,i.draggable,s,!1),!(l&&l.animated)&&$f!==l)){if(Tl=mn(l),Tu=mn(l,i.draggable),typeof u=="function"){if(u.call(this,e,l,this)){ps({sortable:n,rootEl:c,name:"filter",targetEl:l,toEl:s,fromEl:s}),Ss("filter",n,{evt:e}),o&&e.cancelable&&e.preventDefault();return}}else if(u&&(u=u.split(",").some(function(d){if(d=mi(c,d.trim(),s,!1),d)return ps({sortable:n,rootEl:d,name:"filter",targetEl:l,fromEl:s,toEl:s}),Ss("filter",n,{evt:e}),!0}),u)){o&&e.cancelable&&e.preventDefault();return}i.handle&&!mi(c,i.handle,s,!1)||this._prepareDragStart(e,a,l)}}},_prepareDragStart:function(e,n,s){var i=this,o=i.el,r=i.options,a=o.ownerDocument,l;if(s&&!Ee&&s.parentNode===o){var c=rn(s);if(on=o,Ee=s,fn=Ee.parentNode,ha=Ee.nextSibling,$f=s,Gh=r.group,ut.dragged=Ee,ia={target:Ee,clientX:(n||e).clientX,clientY:(n||e).clientY},Lb=ia.clientX-c.left,Pb=ia.clientY-c.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,Ee.style["will-change"]="all",l=function(){if(Ss("delayEnded",i,{evt:e}),ut.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!Ab&&i.nativeDraggable&&(Ee.draggable=!0),i._triggerDragStart(e,n),ps({sortable:i,name:"choose",originalEvent:e}),ln(Ee,r.chosenClass,!0)},r.ignore.split(",").forEach(function(u){G9(Ee,u.trim(),Jg)}),At(a,"dragover",oa),At(a,"mousemove",oa),At(a,"touchmove",oa),At(a,"mouseup",i._onDrop),At(a,"touchend",i._onDrop),At(a,"touchcancel",i._onDrop),Ab&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Ee.draggable=!0),Ss("delayStart",this,{evt:e}),r.delay&&(!r.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(eh||ir))){if(ut.eventCanceled){this._onDrop();return}At(a,"mouseup",i._disableDelayedDrag),At(a,"touchend",i._disableDelayedDrag),At(a,"touchcancel",i._disableDelayedDrag),At(a,"mousemove",i._delayedDragTouchMoveHandler),At(a,"touchmove",i._delayedDragTouchMoveHandler),r.supportPointer&&At(a,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(l,r.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Ee&&Jg(Ee),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;Et(e,"mouseup",this._disableDelayedDrag),Et(e,"touchend",this._disableDelayedDrag),Et(e,"touchcancel",this._disableDelayedDrag),Et(e,"mousemove",this._delayedDragTouchMoveHandler),Et(e,"touchmove",this._delayedDragTouchMoveHandler),Et(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?At(document,"pointermove",this._onTouchMove):n?At(document,"touchmove",this._onTouchMove):At(document,"mousemove",this._onTouchMove):(At(Ee,"dragend",this),At(on,"dragstart",this._onDragStart));try{document.selection?Ef(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,n){if(Cl=!1,on&&Ee){Ss("dragStarted",this,{evt:n}),this.nativeDraggable&&At(document,"dragover",WQ);var s=this.options;!e&&ln(Ee,s.dragClass,!1),ln(Ee,s.ghostClass,!0),ut.active=this,e&&this._appendGhost(),ps({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(hi){this._lastX=hi.clientX,this._lastY=hi.clientY,Q9();for(var e=document.elementFromPoint(hi.clientX,hi.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(hi.clientX,hi.clientY),e!==n);)n=e;if(Ee.parentNode[ns]._isOutsideThisEl(e),n)do{if(n[ns]){var s=void 0;if(s=n[ns]._onDragOver({clientX:hi.clientX,clientY:hi.clientY,target:e,rootEl:n}),s&&!this.options.dragoverBubble)break}e=n}while(n=n.parentNode);ew()}},_onTouchMove:function(e){if(ia){var n=this.options,s=n.fallbackTolerance,i=n.fallbackOffset,o=e.touches?e.touches[0]:e,r=_t&&$a(_t,!0),a=_t&&r&&r.a,l=_t&&r&&r.d,c=Kh&&Jn&&Ob(Jn),u=(o.clientX-ia.clientX+i.x)/(a||1)+(c?c[0]-Xg[0]:0)/(a||1),d=(o.clientY-ia.clientY+i.y)/(l||1)+(c?c[1]-Xg[1]:0)/(l||1);if(!ut.active&&!Cl){if(s&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<s)return;this._onDragStart(e,!0)}if(_t){r?(r.e+=u-(Kg||0),r.f+=d-(Zg||0)):r={a:1,b:0,c:0,d:1,e:u,f:d};var h="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")");Ge(_t,"webkitTransform",h),Ge(_t,"mozTransform",h),Ge(_t,"msTransform",h),Ge(_t,"transform",h),Kg=u,Zg=d,hi=o}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!_t){var e=this.options.fallbackOnBody?document.body:on,n=rn(Ee,!0,Kh,!0,e),s=this.options;if(Kh){for(Jn=e;Ge(Jn,"position")==="static"&&Ge(Jn,"transform")==="none"&&Jn!==document;)Jn=Jn.parentNode;Jn!==document.body&&Jn!==document.documentElement?(Jn===document&&(Jn=eo()),n.top+=Jn.scrollTop,n.left+=Jn.scrollLeft):Jn=eo(),Xg=Ob(Jn)}_t=Ee.cloneNode(!0),ln(_t,s.ghostClass,!1),ln(_t,s.fallbackClass,!0),ln(_t,s.dragClass,!0),Ge(_t,"transition",""),Ge(_t,"transform",""),Ge(_t,"box-sizing","border-box"),Ge(_t,"margin",0),Ge(_t,"top",n.top),Ge(_t,"left",n.left),Ge(_t,"width",n.width),Ge(_t,"height",n.height),Ge(_t,"opacity","0.8"),Ge(_t,"position",Kh?"absolute":"fixed"),Ge(_t,"zIndex","100000"),Ge(_t,"pointerEvents","none"),ut.ghost=_t,e.appendChild(_t),Ge(_t,"transform-origin",Lb/parseInt(_t.style.width)*100+"% "+Pb/parseInt(_t.style.height)*100+"%")}},_onDragStart:function(e,n){var s=this,i=e.dataTransfer,o=s.options;if(Ss("dragStart",this,{evt:e}),ut.eventCanceled){this._onDrop();return}Ss("setupClone",this),ut.eventCanceled||(pn=k0(Ee),pn.draggable=!1,pn.style["will-change"]="",this._hideClone(),ln(pn,this.options.chosenClass,!1),ut.clone=pn),s.cloneId=Ef(function(){Ss("clone",s),!ut.eventCanceled&&(s.options.removeCloneOnHide||on.insertBefore(pn,Ee),s._hideClone(),ps({sortable:s,name:"clone"}))}),!n&&ln(Ee,o.dragClass,!0),n?(up=!0,s._loopId=setInterval(s._emulateDragOver,50)):(Et(document,"mouseup",s._onDrop),Et(document,"touchend",s._onDrop),Et(document,"touchcancel",s._onDrop),i&&(i.effectAllowed="move",o.setData&&o.setData.call(s,i,Ee)),At(document,"drop",s),Ge(Ee,"transform","translateZ(0)")),Cl=!0,s._dragStartId=Ef(s._dragStarted.bind(s,n,e)),At(document,"selectstart",s),tu=!0,Cu&&Ge(document.body,"user-select","none")},_onDragOver:function(e){var n=this.el,s=e.target,i,o,r,a=this.options,l=a.group,c=ut.active,u=Gh===l,d=a.sort,h=Hn||c,f,p=this,v=!1;if(E_)return;function y(ie,ge){Ss(ie,p,co({evt:e,isOwner:u,axis:f?"vertical":"horizontal",revert:r,dragRect:i,targetRect:o,canSort:d,fromSortable:h,target:s,completed:w,onMove:function(Te,We){return Zh(on,n,Ee,i,Te,rn(Te),e,We)},changed:x},ge))}function _(){y("dragOverAnimationCapture"),p.captureAnimationState(),p!==h&&h.captureAnimationState()}function w(ie){return y("dragOverCompleted",{insertion:ie}),ie&&(u?c._hideClone():c._showClone(p),p!==h&&(ln(Ee,Hn?Hn.options.ghostClass:c.options.ghostClass,!1),ln(Ee,a.ghostClass,!0)),Hn!==p&&p!==ut.active?Hn=p:p===ut.active&&Hn&&(Hn=null),h===p&&(p._ignoreWhileAnimating=s),p.animateAll(function(){y("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(s===Ee&&!Ee.animated||s===n&&!s.animated)&&(hl=null),!a.dragoverBubble&&!e.rootEl&&s!==document&&(Ee.parentNode[ns]._isOutsideThisEl(e.target),!ie&&oa(e)),!a.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),v=!0}function x(){Ps=mn(Ee),vr=mn(Ee,a.draggable),ps({sortable:p,name:"change",toEl:n,newIndex:Ps,newDraggableIndex:vr,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),s=mi(s,a.draggable,n,!0),y("dragOver"),ut.eventCanceled)return v;if(Ee.contains(e.target)||s.animated&&s.animatingX&&s.animatingY||p._ignoreWhileAnimating===s)return w(!1);if(up=!1,c&&!a.disabled&&(u?d||(r=fn!==on):Hn===this||(this.lastPutMode=Gh.checkPull(this,c,Ee,e))&&l.checkPut(this,c,Ee,e))){if(f=this._getDirection(e,s)==="vertical",i=rn(Ee),y("dragOverValid"),ut.eventCanceled)return v;if(r)return fn=on,_(),this._hideClone(),y("revert"),ut.eventCanceled||(ha?on.insertBefore(Ee,ha):on.appendChild(Ee)),w(!0);var k=S0(n,a.draggable);if(!k||YQ(e,f,this)&&!k.animated){if(k===Ee)return w(!1);if(k&&n===e.target&&(s=k),s&&(o=rn(s)),Zh(on,n,Ee,i,s,o,e,!!s)!==!1)return _(),n.appendChild(Ee),fn=n,x(),w(!0)}else if(k&&GQ(e,f,this)){var C=dc(n,0,a,!0);if(C===Ee)return w(!1);if(s=C,o=rn(s),Zh(on,n,Ee,i,s,o,e,!1)!==!1)return _(),n.insertBefore(Ee,C),fn=n,x(),w(!0)}else if(s.parentNode===n){o=rn(s);var S=0,A,O=Ee.parentNode!==n,M=!zQ(Ee.animated&&Ee.toRect||i,s.animated&&s.toRect||o,f),V=f?"top":"left",R=Ib(s,"top","top")||Ib(Ee,"top","top"),X=R?R.scrollTop:void 0;hl!==s&&(A=o[V],Mu=!1,Yh=!M&&a.invertSwap||O),S=KQ(e,s,o,f,M?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,Yh,hl===s);var P;if(S!==0){var F=mn(Ee);do F-=S,P=fn.children[F];while(P&&(Ge(P,"display")==="none"||P===_t))}if(S===0||P===s)return w(!1);hl=s,Au=S;var Z=s.nextElementSibling,Q=!1;Q=S===1;var G=Zh(on,n,Ee,i,s,o,e,Q);if(G!==!1)return(G===1||G===-1)&&(Q=G===1),E_=!0,setTimeout(qQ,30),_(),Q&&!Z?n.appendChild(Ee):s.parentNode.insertBefore(Ee,Q?Z:s),R&&K9(R,0,X-R.scrollTop),fn=Ee.parentNode,A!==void 0&&!Yh&&(Cf=Math.abs(A-rn(s)[V])),x(),w(!0)}if(n.contains(Ee))return w(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Et(document,"mousemove",this._onTouchMove),Et(document,"touchmove",this._onTouchMove),Et(document,"pointermove",this._onTouchMove),Et(document,"dragover",oa),Et(document,"mousemove",oa),Et(document,"touchmove",oa)},_offUpEvents:function(){var e=this.el.ownerDocument;Et(e,"mouseup",this._onDrop),Et(e,"touchend",this._onDrop),Et(e,"pointerup",this._onDrop),Et(e,"touchcancel",this._onDrop),Et(document,"selectstart",this)},_onDrop:function(e){var n=this.el,s=this.options;if(Ps=mn(Ee),vr=mn(Ee,s.draggable),Ss("drop",this,{evt:e}),fn=Ee&&Ee.parentNode,Ps=mn(Ee),vr=mn(Ee,s.draggable),ut.eventCanceled){this._nulling();return}Cl=!1,Yh=!1,Mu=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),T_(this.cloneId),T_(this._dragStartId),this.nativeDraggable&&(Et(document,"drop",this),Et(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Cu&&Ge(document.body,"user-select",""),Ge(Ee,"transform",""),e&&(tu&&(e.cancelable&&e.preventDefault(),!s.dropBubble&&e.stopPropagation()),_t&&_t.parentNode&&_t.parentNode.removeChild(_t),(on===fn||Hn&&Hn.lastPutMode!=="clone")&&pn&&pn.parentNode&&pn.parentNode.removeChild(pn),Ee&&(this.nativeDraggable&&Et(Ee,"dragend",this),Jg(Ee),Ee.style["will-change"]="",tu&&!Cl&&ln(Ee,Hn?Hn.options.ghostClass:this.options.ghostClass,!1),ln(Ee,this.options.chosenClass,!1),ps({sortable:this,name:"unchoose",toEl:fn,newIndex:null,newDraggableIndex:null,originalEvent:e}),on!==fn?(Ps>=0&&(ps({rootEl:fn,name:"add",toEl:fn,fromEl:on,originalEvent:e}),ps({sortable:this,name:"remove",toEl:fn,originalEvent:e}),ps({rootEl:fn,name:"sort",toEl:fn,fromEl:on,originalEvent:e}),ps({sortable:this,name:"sort",toEl:fn,originalEvent:e})),Hn&&Hn.save()):Ps!==Tl&&Ps>=0&&(ps({sortable:this,name:"update",toEl:fn,originalEvent:e}),ps({sortable:this,name:"sort",toEl:fn,originalEvent:e})),ut.active&&((Ps==null||Ps===-1)&&(Ps=Tl,vr=Tu),ps({sortable:this,name:"end",toEl:fn,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){Ss("nulling",this),on=Ee=fn=_t=ha=pn=$f=xr=ia=hi=tu=Ps=vr=Tl=Tu=hl=Au=Hn=Gh=ut.dragged=ut.ghost=ut.clone=ut.active=null,hp.forEach(function(e){e.checked=!0}),hp.length=Kg=Zg=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":Ee&&(this._onDragOver(e),HQ(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],n,s=this.el.children,i=0,o=s.length,r=this.options;i<o;i++)n=s[i],mi(n,r.draggable,this.el,!1)&&e.push(n.getAttribute(r.dataIdAttr)||XQ(n));return e},sort:function(e,n){var s={},i=this.el;this.toArray().forEach(function(o,r){var a=i.children[r];mi(a,this.options.draggable,i,!1)&&(s[o]=a)},this),n&&this.captureAnimationState(),e.forEach(function(o){s[o]&&(i.removeChild(s[o]),i.appendChild(s[o]))}),n&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return mi(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var s=this.options;if(n===void 0)return s[e];var i=th.modifyOption(this,e,n);typeof i<"u"?s[e]=i:s[e]=n,e==="group"&&J9(s)},destroy:function(){Ss("destroy",this);var e=this.el;e[ns]=null,Et(e,"mousedown",this._onTapStart),Et(e,"touchstart",this._onTapStart),Et(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(Et(e,"dragover",this),Et(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),dp.splice(dp.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!xr){if(Ss("hideClone",this),ut.eventCanceled)return;Ge(pn,"display","none"),this.options.removeCloneOnHide&&pn.parentNode&&pn.parentNode.removeChild(pn),xr=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(xr){if(Ss("showClone",this),ut.eventCanceled)return;Ee.parentNode==on&&!this.options.group.revertClone?on.insertBefore(pn,Ee):ha?on.insertBefore(pn,ha):on.appendChild(pn),this.options.group.revertClone&&this.animate(Ee,pn),Ge(pn,"display",""),xr=!1}}};function HQ(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function Zh(t,e,n,s,i,o,r,a){var l,c=t[ns],u=c.options.onMove,d;return window.CustomEvent&&!ir&&!eh?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=t,l.dragged=n,l.draggedRect=s,l.related=i||e,l.relatedRect=o||rn(e),l.willInsertAfter=a,l.originalEvent=r,t.dispatchEvent(l),u&&(d=u.call(c,l,r)),d}function Jg(t){t.draggable=!1}function qQ(){E_=!1}function GQ(t,e,n){var s=rn(dc(n.el,0,n.options,!0)),i=10;return e?t.clientX<s.left-i||t.clientY<s.top&&t.clientX<s.right:t.clientY<s.top-i||t.clientY<s.bottom&&t.clientX<s.left}function YQ(t,e,n){var s=rn(S0(n.el,n.options.draggable)),i=10;return e?t.clientX>s.right+i||t.clientX<=s.right&&t.clientY>s.bottom&&t.clientX>=s.left:t.clientX>s.right&&t.clientY>s.top||t.clientX<=s.right&&t.clientY>s.bottom+i}function KQ(t,e,n,s,i,o,r,a){var l=s?t.clientY:t.clientX,c=s?n.height:n.width,u=s?n.top:n.left,d=s?n.bottom:n.right,h=!1;if(!r){if(a&&Cf<c*i){if(!Mu&&(Au===1?l>u+c*o/2:l<d-c*o/2)&&(Mu=!0),Mu)h=!0;else if(Au===1?l<u+Cf:l>d-Cf)return-Au}else if(l>u+c*(1-i)/2&&l<d-c*(1-i)/2)return ZQ(e)}return h=h||r,h&&(l<u+c*o/2||l>d-c*o/2)?l>u+c/2?1:-1:0}function ZQ(t){return mn(Ee)<mn(t)?1:-1}function XQ(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,s=0;n--;)s+=e.charCodeAt(n);return s.toString(36)}function JQ(t){hp.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var s=e[n];s.checked&&hp.push(s)}}function Ef(t){return setTimeout(t,0)}function T_(t){return clearTimeout(t)}gm&&At(document,"touchmove",function(t){(ut.active||Cl)&&t.cancelable&&t.preventDefault()});ut.utils={on:At,off:Et,css:Ge,find:G9,is:function(e,n){return!!mi(e,n,e,!1)},extend:PQ,throttle:Y9,closest:mi,toggleClass:ln,clone:k0,index:mn,nextTick:Ef,cancelNextTick:T_,detectDirection:X9,getChild:dc};ut.get=function(t){return t[ns]};ut.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(s){if(!s.prototype||!s.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(s));s.utils&&(ut.utils=co(co({},ut.utils),s.utils)),th.mount(s)})};ut.create=function(t,e){return new ut(t,e)};ut.version=IQ;var Tn=[],nu,A_,M_=!1,Qg,e1,fp,su;function QQ(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(n){var s=n.originalEvent;this.sortable.nativeDraggable?At(document,"dragover",this._handleAutoScroll):this.options.supportPointer?At(document,"pointermove",this._handleFallbackAutoScroll):s.touches?At(document,"touchmove",this._handleFallbackAutoScroll):At(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var s=n.originalEvent;!this.options.dragOverBubble&&!s.rootEl&&this._handleAutoScroll(s)},drop:function(){this.sortable.nativeDraggable?Et(document,"dragover",this._handleAutoScroll):(Et(document,"pointermove",this._handleFallbackAutoScroll),Et(document,"touchmove",this._handleFallbackAutoScroll),Et(document,"mousemove",this._handleFallbackAutoScroll)),Vb(),Tf(),RQ()},nulling:function(){fp=A_=nu=M_=su=Qg=e1=null,Tn.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,s){var i=this,o=(n.touches?n.touches[0]:n).clientX,r=(n.touches?n.touches[0]:n).clientY,a=document.elementFromPoint(o,r);if(fp=n,s||this.options.forceAutoScrollFallback||eh||ir||Cu){t1(n,this.options,a,s);var l=Cr(a,!0);M_&&(!su||o!==Qg||r!==e1)&&(su&&Vb(),su=setInterval(function(){var c=Cr(document.elementFromPoint(o,r),!0);c!==l&&(l=c,Tf()),t1(n,i.options,c,s)},10),Qg=o,e1=r)}else{if(!this.options.bubbleScroll||Cr(a,!0)===eo()){Tf();return}t1(n,this.options,Cr(a,!1),!1)}}},oi(t,{pluginName:"scroll",initializeByDefault:!0})}function Tf(){Tn.forEach(function(t){clearInterval(t.pid)}),Tn=[]}function Vb(){clearInterval(su)}var t1=Y9(function(t,e,n,s){if(e.scroll){var i=(t.touches?t.touches[0]:t).clientX,o=(t.touches?t.touches[0]:t).clientY,r=e.scrollSensitivity,a=e.scrollSpeed,l=eo(),c=!1,u;A_!==n&&(A_=n,Tf(),nu=e.scroll,u=e.scrollFn,nu===!0&&(nu=Cr(n,!0)));var d=0,h=nu;do{var f=h,p=rn(f),v=p.top,y=p.bottom,_=p.left,w=p.right,x=p.width,k=p.height,C=void 0,S=void 0,A=f.scrollWidth,O=f.scrollHeight,M=Ge(f),V=f.scrollLeft,R=f.scrollTop;f===l?(C=x<A&&(M.overflowX==="auto"||M.overflowX==="scroll"||M.overflowX==="visible"),S=k<O&&(M.overflowY==="auto"||M.overflowY==="scroll"||M.overflowY==="visible")):(C=x<A&&(M.overflowX==="auto"||M.overflowX==="scroll"),S=k<O&&(M.overflowY==="auto"||M.overflowY==="scroll"));var X=C&&(Math.abs(w-i)<=r&&V+x<A)-(Math.abs(_-i)<=r&&!!V),P=S&&(Math.abs(y-o)<=r&&R+k<O)-(Math.abs(v-o)<=r&&!!R);if(!Tn[d])for(var F=0;F<=d;F++)Tn[F]||(Tn[F]={});(Tn[d].vx!=X||Tn[d].vy!=P||Tn[d].el!==f)&&(Tn[d].el=f,Tn[d].vx=X,Tn[d].vy=P,clearInterval(Tn[d].pid),(X!=0||P!=0)&&(c=!0,Tn[d].pid=setInterval((function(){s&&this.layer===0&&ut.active._onTouchMove(fp);var Z=Tn[this.layer].vy?Tn[this.layer].vy*a:0,Q=Tn[this.layer].vx?Tn[this.layer].vx*a:0;typeof u=="function"&&u.call(ut.dragged.parentNode[ns],Q,Z,t,fp,Tn[this.layer].el)!=="continue"||K9(Tn[this.layer].el,Q,Z)}).bind({layer:d}),24))),d++}while(e.bubbleScroll&&h!==l&&(h=Cr(h,!1)));M_=c}},30),tw=function(e){var n=e.originalEvent,s=e.putSortable,i=e.dragEl,o=e.activeSortable,r=e.dispatchSortableEvent,a=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(n){var c=s||o;a();var u=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,d=document.elementFromPoint(u.clientX,u.clientY);l(),c&&!c.el.contains(d)&&(r("spill"),this.onSpill({dragEl:i,putSortable:s}))}};function $0(){}$0.prototype={startIndex:null,dragStart:function(e){var n=e.oldDraggableIndex;this.startIndex=n},onSpill:function(e){var n=e.dragEl,s=e.putSortable;this.sortable.captureAnimationState(),s&&s.captureAnimationState();var i=dc(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(n,i):this.sortable.el.appendChild(n),this.sortable.animateAll(),s&&s.animateAll()},drop:tw};oi($0,{pluginName:"revertOnSpill"});function C0(){}C0.prototype={onSpill:function(e){var n=e.dragEl,s=e.putSortable,i=s||this.sortable;i.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),i.animateAll()},drop:tw};oi(C0,{pluginName:"removeOnSpill"});var Ys;function eee(){function t(){this.defaults={swapClass:"sortable-swap-highlight"}}return t.prototype={dragStart:function(n){var s=n.dragEl;Ys=s},dragOverValid:function(n){var s=n.completed,i=n.target,o=n.onMove,r=n.activeSortable,a=n.changed,l=n.cancel;if(r.options.swap){var c=this.sortable.el,u=this.options;if(i&&i!==c){var d=Ys;o(i)!==!1?(ln(i,u.swapClass,!0),Ys=i):Ys=null,d&&d!==Ys&&ln(d,u.swapClass,!1)}a(),s(!0),l()}},drop:function(n){var s=n.activeSortable,i=n.putSortable,o=n.dragEl,r=i||this.sortable,a=this.options;Ys&&ln(Ys,a.swapClass,!1),Ys&&(a.swap||i&&i.options.swap)&&o!==Ys&&(r.captureAnimationState(),r!==s&&s.captureAnimationState(),tee(o,Ys),r.animateAll(),r!==s&&s.animateAll())},nulling:function(){Ys=null}},oi(t,{pluginName:"swap",eventProperties:function(){return{swapItem:Ys}}})}function tee(t,e){var n=t.parentNode,s=e.parentNode,i,o;!n||!s||n.isEqualNode(e)||s.isEqualNode(t)||(i=mn(t),o=mn(e),n.isEqualNode(s)&&i<o&&o++,n.insertBefore(e,n.children[i]),s.insertBefore(t,s.children[o]))}var mt=[],Ls=[],jc,fi,zc=!1,ks=!1,fl=!1,Zt,Fc,Xh;function nee(){function t(e){for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));e.options.supportPointer?At(document,"pointerup",this._deselectMultiDrag):(At(document,"mouseup",this._deselectMultiDrag),At(document,"touchend",this._deselectMultiDrag)),At(document,"keydown",this._checkKeyDown),At(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(i,o){var r="";mt.length&&fi===e?mt.forEach(function(a,l){r+=(l?", ":"")+a.textContent}):r=o.textContent,i.setData("Text",r)}}}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(n){var s=n.dragEl;Zt=s},delayEnded:function(){this.isMultiDrag=~mt.indexOf(Zt)},setupClone:function(n){var s=n.sortable,i=n.cancel;if(this.isMultiDrag){for(var o=0;o<mt.length;o++)Ls.push(k0(mt[o])),Ls[o].sortableIndex=mt[o].sortableIndex,Ls[o].draggable=!1,Ls[o].style["will-change"]="",ln(Ls[o],this.options.selectedClass,!1),mt[o]===Zt&&ln(Ls[o],this.options.chosenClass,!1);s._hideClone(),i()}},clone:function(n){var s=n.sortable,i=n.rootEl,o=n.dispatchSortableEvent,r=n.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||mt.length&&fi===s&&(Nb(!0,i),o("clone"),r()))},showClone:function(n){var s=n.cloneNowShown,i=n.rootEl,o=n.cancel;this.isMultiDrag&&(Nb(!1,i),Ls.forEach(function(r){Ge(r,"display","")}),s(),Xh=!1,o())},hideClone:function(n){var s=this;n.sortable;var i=n.cloneNowHidden,o=n.cancel;this.isMultiDrag&&(Ls.forEach(function(r){Ge(r,"display","none"),s.options.removeCloneOnHide&&r.parentNode&&r.parentNode.removeChild(r)}),i(),Xh=!0,o())},dragStartGlobal:function(n){n.sortable,!this.isMultiDrag&&fi&&fi.multiDrag._deselectMultiDrag(),mt.forEach(function(s){s.sortableIndex=mn(s)}),mt=mt.sort(function(s,i){return s.sortableIndex-i.sortableIndex}),fl=!0},dragStarted:function(n){var s=this,i=n.sortable;if(this.isMultiDrag){if(this.options.sort&&(i.captureAnimationState(),this.options.animation)){mt.forEach(function(r){r!==Zt&&Ge(r,"position","absolute")});var o=rn(Zt,!1,!0,!0);mt.forEach(function(r){r!==Zt&&Db(r,o)}),ks=!0,zc=!0}i.animateAll(function(){ks=!1,zc=!1,s.options.animation&&mt.forEach(function(r){Gg(r)}),s.options.sort&&Jh()})}},dragOver:function(n){var s=n.target,i=n.completed,o=n.cancel;ks&&~mt.indexOf(s)&&(i(!1),o())},revert:function(n){var s=n.fromSortable,i=n.rootEl,o=n.sortable,r=n.dragRect;mt.length>1&&(mt.forEach(function(a){o.addAnimationState({target:a,rect:ks?rn(a):r}),Gg(a),a.fromRect=r,s.removeAnimationState(a)}),ks=!1,see(!this.options.removeCloneOnHide,i))},dragOverCompleted:function(n){var s=n.sortable,i=n.isOwner,o=n.insertion,r=n.activeSortable,a=n.parentEl,l=n.putSortable,c=this.options;if(o){if(i&&r._hideClone(),zc=!1,c.animation&&mt.length>1&&(ks||!i&&!r.options.sort&&!l)){var u=rn(Zt,!1,!0,!0);mt.forEach(function(h){h!==Zt&&(Db(h,u),a.appendChild(h))}),ks=!0}if(!i)if(ks||Jh(),mt.length>1){var d=Xh;r._showClone(s),r.options.animation&&!Xh&&d&&Ls.forEach(function(h){r.addAnimationState({target:h,rect:Fc}),h.fromRect=Fc,h.thisAnimationDuration=null})}else r._showClone(s)}},dragOverAnimationCapture:function(n){var s=n.dragRect,i=n.isOwner,o=n.activeSortable;if(mt.forEach(function(a){a.thisAnimationDuration=null}),o.options.animation&&!i&&o.multiDrag.isMultiDrag){Fc=oi({},s);var r=$a(Zt,!0);Fc.top-=r.f,Fc.left-=r.e}},dragOverAnimationComplete:function(){ks&&(ks=!1,Jh())},drop:function(n){var s=n.originalEvent,i=n.rootEl,o=n.parentEl,r=n.sortable,a=n.dispatchSortableEvent,l=n.oldIndex,c=n.putSortable,u=c||this.sortable;if(s){var d=this.options,h=o.children;if(!fl)if(d.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),ln(Zt,d.selectedClass,!~mt.indexOf(Zt)),~mt.indexOf(Zt))mt.splice(mt.indexOf(Zt),1),jc=null,eu({sortable:r,rootEl:i,name:"deselect",targetEl:Zt,originalEvt:s});else{if(mt.push(Zt),eu({sortable:r,rootEl:i,name:"select",targetEl:Zt,originalEvt:s}),s.shiftKey&&jc&&r.el.contains(jc)){var f=mn(jc),p=mn(Zt);if(~f&&~p&&f!==p){var v,y;for(p>f?(y=f,v=p):(y=p,v=f+1);y<v;y++)~mt.indexOf(h[y])||(ln(h[y],d.selectedClass,!0),mt.push(h[y]),eu({sortable:r,rootEl:i,name:"select",targetEl:h[y],originalEvt:s}))}}else jc=Zt;fi=u}if(fl&&this.isMultiDrag){if(ks=!1,(o[ns].options.sort||o!==i)&&mt.length>1){var _=rn(Zt),w=mn(Zt,":not(."+this.options.selectedClass+")");if(!zc&&d.animation&&(Zt.thisAnimationDuration=null),u.captureAnimationState(),!zc&&(d.animation&&(Zt.fromRect=_,mt.forEach(function(k){if(k.thisAnimationDuration=null,k!==Zt){var C=ks?rn(k):_;k.fromRect=C,u.addAnimationState({target:k,rect:C})}})),Jh(),mt.forEach(function(k){h[w]?o.insertBefore(k,h[w]):o.appendChild(k),w++}),l===mn(Zt))){var x=!1;mt.forEach(function(k){if(k.sortableIndex!==mn(k)){x=!0;return}}),x&&a("update")}mt.forEach(function(k){Gg(k)}),u.animateAll()}fi=u}(i===o||c&&c.lastPutMode!=="clone")&&Ls.forEach(function(k){k.parentNode&&k.parentNode.removeChild(k)})}},nullingGlobal:function(){this.isMultiDrag=fl=!1,Ls.length=0},destroyGlobal:function(){this._deselectMultiDrag(),Et(document,"pointerup",this._deselectMultiDrag),Et(document,"mouseup",this._deselectMultiDrag),Et(document,"touchend",this._deselectMultiDrag),Et(document,"keydown",this._checkKeyDown),Et(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(n){if(!(typeof fl<"u"&&fl)&&fi===this.sortable&&!(n&&mi(n.target,this.options.draggable,this.sortable.el,!1))&&!(n&&n.button!==0))for(;mt.length;){var s=mt[0];ln(s,this.options.selectedClass,!1),mt.shift(),eu({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:s,originalEvt:n})}},_checkKeyDown:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},oi(t,{pluginName:"multiDrag",utils:{select:function(n){var s=n.parentNode[ns];!s||!s.options.multiDrag||~mt.indexOf(n)||(fi&&fi!==s&&(fi.multiDrag._deselectMultiDrag(),fi=s),ln(n,s.options.selectedClass,!0),mt.push(n))},deselect:function(n){var s=n.parentNode[ns],i=mt.indexOf(n);!s||!s.options.multiDrag||!~i||(ln(n,s.options.selectedClass,!1),mt.splice(i,1))}},eventProperties:function(){var n=this,s=[],i=[];return mt.forEach(function(o){s.push({multiDragElement:o,index:o.sortableIndex});var r;ks&&o!==Zt?r=-1:ks?r=mn(o,":not(."+n.options.selectedClass+")"):r=mn(o),i.push({multiDragElement:o,index:r})}),{items:CQ(mt),clones:[].concat(Ls),oldIndicies:s,newIndicies:i}},optionListeners:{multiDragKey:function(n){return n=n.toLowerCase(),n==="ctrl"?n="Control":n.length>1&&(n=n.charAt(0).toUpperCase()+n.substr(1)),n}}})}function see(t,e){mt.forEach(function(n,s){var i=e.children[n.sortableIndex+(t?Number(s):0)];i?e.insertBefore(n,i):e.appendChild(n)})}function Nb(t,e){Ls.forEach(function(n,s){var i=e.children[n.sortableIndex+(t?Number(s):0)];i?e.insertBefore(n,i):e.appendChild(n)})}function Jh(){mt.forEach(function(t){t!==Zt&&t.parentNode&&t.parentNode.removeChild(t)})}ut.mount(new QQ);ut.mount(C0,$0);const iee=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:nee,Sortable:ut,Swap:eee,default:ut},Symbol.toStringTag,{value:"Module"})),oee=_6(iee);(function(t,e){(function(s,i){t.exports=i(xQ,oee)})(typeof self<"u"?self:Lo,function(n,s){return function(i){var o={};function r(a){if(o[a])return o[a].exports;var l=o[a]={i:a,l:!1,exports:{}};return i[a].call(l.exports,l,l.exports,r),l.l=!0,l.exports}return r.m=i,r.c=o,r.d=function(a,l,c){r.o(a,l)||Object.defineProperty(a,l,{enumerable:!0,get:c})},r.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},r.t=function(a,l){if(l&1&&(a=r(a)),l&8||l&4&&typeof a=="object"&&a&&a.__esModule)return a;var c=Object.create(null);if(r.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:a}),l&2&&typeof a!="string")for(var u in a)r.d(c,u,(function(d){return a[d]}).bind(null,u));return c},r.n=function(a){var l=a&&a.__esModule?function(){return a.default}:function(){return a};return r.d(l,"a",l),l},r.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)},r.p="",r(r.s="fb15")}({"00ee":function(i,o,r){var a=r("b622"),l=a("toStringTag"),c={};c[l]="z",i.exports=String(c)==="[object z]"},"0366":function(i,o,r){var a=r("1c0b");i.exports=function(l,c,u){if(a(l),c===void 0)return l;switch(u){case 0:return function(){return l.call(c)};case 1:return function(d){return l.call(c,d)};case 2:return function(d,h){return l.call(c,d,h)};case 3:return function(d,h,f){return l.call(c,d,h,f)}}return function(){return l.apply(c,arguments)}}},"057f":function(i,o,r){var a=r("fc6a"),l=r("241c").f,c={}.toString,u=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],d=function(h){try{return l(h)}catch{return u.slice()}};i.exports.f=function(f){return u&&c.call(f)=="[object Window]"?d(f):l(a(f))}},"06cf":function(i,o,r){var a=r("83ab"),l=r("d1e7"),c=r("5c6c"),u=r("fc6a"),d=r("c04e"),h=r("5135"),f=r("0cfb"),p=Object.getOwnPropertyDescriptor;o.f=a?p:function(y,_){if(y=u(y),_=d(_,!0),f)try{return p(y,_)}catch{}if(h(y,_))return c(!l.f.call(y,_),y[_])}},"0cfb":function(i,o,r){var a=r("83ab"),l=r("d039"),c=r("cc12");i.exports=!a&&!l(function(){return Object.defineProperty(c("div"),"a",{get:function(){return 7}}).a!=7})},"13d5":function(i,o,r){var a=r("23e7"),l=r("d58f").left,c=r("a640"),u=r("ae40"),d=c("reduce"),h=u("reduce",{1:0});a({target:"Array",proto:!0,forced:!d||!h},{reduce:function(p){return l(this,p,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(i,o,r){var a=r("c6b6"),l=r("9263");i.exports=function(c,u){var d=c.exec;if(typeof d=="function"){var h=d.call(c,u);if(typeof h!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return h}if(a(c)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return l.call(c,u)}},"159b":function(i,o,r){var a=r("da84"),l=r("fdbc"),c=r("17c2"),u=r("9112");for(var d in l){var h=a[d],f=h&&h.prototype;if(f&&f.forEach!==c)try{u(f,"forEach",c)}catch{f.forEach=c}}},"17c2":function(i,o,r){var a=r("b727").forEach,l=r("a640"),c=r("ae40"),u=l("forEach"),d=c("forEach");i.exports=!u||!d?function(f){return a(this,f,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1be4":function(i,o,r){var a=r("d066");i.exports=a("document","documentElement")},"1c0b":function(i,o){i.exports=function(r){if(typeof r!="function")throw TypeError(String(r)+" is not a function");return r}},"1c7e":function(i,o,r){var a=r("b622"),l=a("iterator"),c=!1;try{var u=0,d={next:function(){return{done:!!u++}},return:function(){c=!0}};d[l]=function(){return this},Array.from(d,function(){throw 2})}catch{}i.exports=function(h,f){if(!f&&!c)return!1;var p=!1;try{var v={};v[l]=function(){return{next:function(){return{done:p=!0}}}},h(v)}catch{}return p}},"1d80":function(i,o){i.exports=function(r){if(r==null)throw TypeError("Can't call method on "+r);return r}},"1dde":function(i,o,r){var a=r("d039"),l=r("b622"),c=r("2d00"),u=l("species");i.exports=function(d){return c>=51||!a(function(){var h=[],f=h.constructor={};return f[u]=function(){return{foo:1}},h[d](Boolean).foo!==1})}},"23cb":function(i,o,r){var a=r("a691"),l=Math.max,c=Math.min;i.exports=function(u,d){var h=a(u);return h<0?l(h+d,0):c(h,d)}},"23e7":function(i,o,r){var a=r("da84"),l=r("06cf").f,c=r("9112"),u=r("6eeb"),d=r("ce4e"),h=r("e893"),f=r("94ca");i.exports=function(p,v){var y=p.target,_=p.global,w=p.stat,x,k,C,S,A,O;if(_?k=a:w?k=a[y]||d(y,{}):k=(a[y]||{}).prototype,k)for(C in v){if(A=v[C],p.noTargetGet?(O=l(k,C),S=O&&O.value):S=k[C],x=f(_?C:y+(w?".":"#")+C,p.forced),!x&&S!==void 0){if(typeof A==typeof S)continue;h(A,S)}(p.sham||S&&S.sham)&&c(A,"sham",!0),u(k,C,A,p)}}},"241c":function(i,o,r){var a=r("ca84"),l=r("7839"),c=l.concat("length","prototype");o.f=Object.getOwnPropertyNames||function(d){return a(d,c)}},"25f0":function(i,o,r){var a=r("6eeb"),l=r("825a"),c=r("d039"),u=r("ad6d"),d="toString",h=RegExp.prototype,f=h[d],p=c(function(){return f.call({source:"a",flags:"b"})!="/a/b"}),v=f.name!=d;(p||v)&&a(RegExp.prototype,d,function(){var _=l(this),w=String(_.source),x=_.flags,k=String(x===void 0&&_ instanceof RegExp&&!("flags"in h)?u.call(_):x);return"/"+w+"/"+k},{unsafe:!0})},"2ca0":function(i,o,r){var a=r("23e7"),l=r("06cf").f,c=r("50c4"),u=r("5a34"),d=r("1d80"),h=r("ab13"),f=r("c430"),p="".startsWith,v=Math.min,y=h("startsWith"),_=!f&&!y&&!!function(){var w=l(String.prototype,"startsWith");return w&&!w.writable}();a({target:"String",proto:!0,forced:!_&&!y},{startsWith:function(x){var k=String(d(this));u(x);var C=c(v(arguments.length>1?arguments[1]:void 0,k.length)),S=String(x);return p?p.call(k,S,C):k.slice(C,C+S.length)===S}})},"2d00":function(i,o,r){var a=r("da84"),l=r("342f"),c=a.process,u=c&&c.versions,d=u&&u.v8,h,f;d?(h=d.split("."),f=h[0]+h[1]):l&&(h=l.match(/Edge\/(\d+)/),(!h||h[1]>=74)&&(h=l.match(/Chrome\/(\d+)/),h&&(f=h[1]))),i.exports=f&&+f},"342f":function(i,o,r){var a=r("d066");i.exports=a("navigator","userAgent")||""},"35a1":function(i,o,r){var a=r("f5df"),l=r("3f8c"),c=r("b622"),u=c("iterator");i.exports=function(d){if(d!=null)return d[u]||d["@@iterator"]||l[a(d)]}},"37e8":function(i,o,r){var a=r("83ab"),l=r("9bf2"),c=r("825a"),u=r("df75");i.exports=a?Object.defineProperties:function(h,f){c(h);for(var p=u(f),v=p.length,y=0,_;v>y;)l.f(h,_=p[y++],f[_]);return h}},"3bbe":function(i,o,r){var a=r("861d");i.exports=function(l){if(!a(l)&&l!==null)throw TypeError("Can't set "+String(l)+" as a prototype");return l}},"3ca3":function(i,o,r){var a=r("6547").charAt,l=r("69f3"),c=r("7dd0"),u="String Iterator",d=l.set,h=l.getterFor(u);c(String,"String",function(f){d(this,{type:u,string:String(f),index:0})},function(){var p=h(this),v=p.string,y=p.index,_;return y>=v.length?{value:void 0,done:!0}:(_=a(v,y),p.index+=_.length,{value:_,done:!1})})},"3f8c":function(i,o){i.exports={}},4160:function(i,o,r){var a=r("23e7"),l=r("17c2");a({target:"Array",proto:!0,forced:[].forEach!=l},{forEach:l})},"428f":function(i,o,r){var a=r("da84");i.exports=a},"44ad":function(i,o,r){var a=r("d039"),l=r("c6b6"),c="".split;i.exports=a(function(){return!Object("z").propertyIsEnumerable(0)})?function(u){return l(u)=="String"?c.call(u,""):Object(u)}:Object},"44d2":function(i,o,r){var a=r("b622"),l=r("7c73"),c=r("9bf2"),u=a("unscopables"),d=Array.prototype;d[u]==null&&c.f(d,u,{configurable:!0,value:l(null)}),i.exports=function(h){d[u][h]=!0}},"44e7":function(i,o,r){var a=r("861d"),l=r("c6b6"),c=r("b622"),u=c("match");i.exports=function(d){var h;return a(d)&&((h=d[u])!==void 0?!!h:l(d)=="RegExp")}},4930:function(i,o,r){var a=r("d039");i.exports=!!Object.getOwnPropertySymbols&&!a(function(){return!String(Symbol())})},"4d64":function(i,o,r){var a=r("fc6a"),l=r("50c4"),c=r("23cb"),u=function(d){return function(h,f,p){var v=a(h),y=l(v.length),_=c(p,y),w;if(d&&f!=f){for(;y>_;)if(w=v[_++],w!=w)return!0}else for(;y>_;_++)if((d||_ in v)&&v[_]===f)return d||_||0;return!d&&-1}};i.exports={includes:u(!0),indexOf:u(!1)}},"4de4":function(i,o,r){var a=r("23e7"),l=r("b727").filter,c=r("1dde"),u=r("ae40"),d=c("filter"),h=u("filter");a({target:"Array",proto:!0,forced:!d||!h},{filter:function(p){return l(this,p,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(i,o,r){var a=r("0366"),l=r("7b0b"),c=r("9bdd"),u=r("e95a"),d=r("50c4"),h=r("8418"),f=r("35a1");i.exports=function(v){var y=l(v),_=typeof this=="function"?this:Array,w=arguments.length,x=w>1?arguments[1]:void 0,k=x!==void 0,C=f(y),S=0,A,O,M,V,R,X;if(k&&(x=a(x,w>2?arguments[2]:void 0,2)),C!=null&&!(_==Array&&u(C)))for(V=C.call(y),R=V.next,O=new _;!(M=R.call(V)).done;S++)X=k?c(V,x,[M.value,S],!0):M.value,h(O,S,X);else for(A=d(y.length),O=new _(A);A>S;S++)X=k?x(y[S],S):y[S],h(O,S,X);return O.length=S,O}},"4fad":function(i,o,r){var a=r("23e7"),l=r("6f53").entries;a({target:"Object",stat:!0},{entries:function(u){return l(u)}})},"50c4":function(i,o,r){var a=r("a691"),l=Math.min;i.exports=function(c){return c>0?l(a(c),9007199254740991):0}},5135:function(i,o){var r={}.hasOwnProperty;i.exports=function(a,l){return r.call(a,l)}},5319:function(i,o,r){var a=r("d784"),l=r("825a"),c=r("7b0b"),u=r("50c4"),d=r("a691"),h=r("1d80"),f=r("8aa5"),p=r("14c3"),v=Math.max,y=Math.min,_=Math.floor,w=/\$([$&'`]|\d\d?|<[^>]*>)/g,x=/\$([$&'`]|\d\d?)/g,k=function(C){return C===void 0?C:String(C)};a("replace",2,function(C,S,A,O){var M=O.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,V=O.REPLACE_KEEPS_$0,R=M?"$":"$0";return[function(F,Z){var Q=h(this),G=F==null?void 0:F[C];return G!==void 0?G.call(F,Q,Z):S.call(String(Q),F,Z)},function(P,F){if(!M&&V||typeof F=="string"&&F.indexOf(R)===-1){var Z=A(S,P,this,F);if(Z.done)return Z.value}var Q=l(P),G=String(this),ie=typeof F=="function";ie||(F=String(F));var ge=Q.global;if(ge){var ae=Q.unicode;Q.lastIndex=0}for(var Te=[];;){var We=p(Q,G);if(We===null||(Te.push(We),!ge))break;var Ke=String(We[0]);Ke===""&&(Q.lastIndex=f(G,u(Q.lastIndex),ae))}for(var He="",Ue=0,qe=0;qe<Te.length;qe++){We=Te[qe];for(var re=String(We[0]),be=v(y(d(We.index),G.length),0),ye=[],Me=1;Me<We.length;Me++)ye.push(k(We[Me]));var ft=We.groups;if(ie){var kt=[re].concat(ye,be,G);ft!==void 0&&kt.push(ft);var U=String(F.apply(void 0,kt))}else U=X(re,G,be,ye,ft,F);be>=Ue&&(He+=G.slice(Ue,be)+U,Ue=be+re.length)}return He+G.slice(Ue)}];function X(P,F,Z,Q,G,ie){var ge=Z+P.length,ae=Q.length,Te=x;return G!==void 0&&(G=c(G),Te=w),S.call(ie,Te,function(We,Ke){var He;switch(Ke.charAt(0)){case"$":return"$";case"&":return P;case"`":return F.slice(0,Z);case"'":return F.slice(ge);case"<":He=G[Ke.slice(1,-1)];break;default:var Ue=+Ke;if(Ue===0)return We;if(Ue>ae){var qe=_(Ue/10);return qe===0?We:qe<=ae?Q[qe-1]===void 0?Ke.charAt(1):Q[qe-1]+Ke.charAt(1):We}He=Q[Ue-1]}return He===void 0?"":He})}})},5692:function(i,o,r){var a=r("c430"),l=r("c6cd");(i.exports=function(c,u){return l[c]||(l[c]=u!==void 0?u:{})})("versions",[]).push({version:"3.6.5",mode:a?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(i,o,r){var a=r("d066"),l=r("241c"),c=r("7418"),u=r("825a");i.exports=a("Reflect","ownKeys")||function(h){var f=l.f(u(h)),p=c.f;return p?f.concat(p(h)):f}},"5a34":function(i,o,r){var a=r("44e7");i.exports=function(l){if(a(l))throw TypeError("The method doesn't accept regular expressions");return l}},"5c6c":function(i,o){i.exports=function(r,a){return{enumerable:!(r&1),configurable:!(r&2),writable:!(r&4),value:a}}},"5db7":function(i,o,r){var a=r("23e7"),l=r("a2bf"),c=r("7b0b"),u=r("50c4"),d=r("1c0b"),h=r("65f0");a({target:"Array",proto:!0},{flatMap:function(p){var v=c(this),y=u(v.length),_;return d(p),_=h(v,0),_.length=l(_,v,v,y,0,1,p,arguments.length>1?arguments[1]:void 0),_}})},6547:function(i,o,r){var a=r("a691"),l=r("1d80"),c=function(u){return function(d,h){var f=String(l(d)),p=a(h),v=f.length,y,_;return p<0||p>=v?u?"":void 0:(y=f.charCodeAt(p),y<55296||y>56319||p+1===v||(_=f.charCodeAt(p+1))<56320||_>57343?u?f.charAt(p):y:u?f.slice(p,p+2):(y-55296<<10)+(_-56320)+65536)}};i.exports={codeAt:c(!1),charAt:c(!0)}},"65f0":function(i,o,r){var a=r("861d"),l=r("e8b5"),c=r("b622"),u=c("species");i.exports=function(d,h){var f;return l(d)&&(f=d.constructor,typeof f=="function"&&(f===Array||l(f.prototype))?f=void 0:a(f)&&(f=f[u],f===null&&(f=void 0))),new(f===void 0?Array:f)(h===0?0:h)}},"69f3":function(i,o,r){var a=r("7f9a"),l=r("da84"),c=r("861d"),u=r("9112"),d=r("5135"),h=r("f772"),f=r("d012"),p=l.WeakMap,v,y,_,w=function(M){return _(M)?y(M):v(M,{})},x=function(M){return function(V){var R;if(!c(V)||(R=y(V)).type!==M)throw TypeError("Incompatible receiver, "+M+" required");return R}};if(a){var k=new p,C=k.get,S=k.has,A=k.set;v=function(M,V){return A.call(k,M,V),V},y=function(M){return C.call(k,M)||{}},_=function(M){return S.call(k,M)}}else{var O=h("state");f[O]=!0,v=function(M,V){return u(M,O,V),V},y=function(M){return d(M,O)?M[O]:{}},_=function(M){return d(M,O)}}i.exports={set:v,get:y,has:_,enforce:w,getterFor:x}},"6eeb":function(i,o,r){var a=r("da84"),l=r("9112"),c=r("5135"),u=r("ce4e"),d=r("8925"),h=r("69f3"),f=h.get,p=h.enforce,v=String(String).split("String");(i.exports=function(y,_,w,x){var k=x?!!x.unsafe:!1,C=x?!!x.enumerable:!1,S=x?!!x.noTargetGet:!1;if(typeof w=="function"&&(typeof _=="string"&&!c(w,"name")&&l(w,"name",_),p(w).source=v.join(typeof _=="string"?_:"")),y===a){C?y[_]=w:u(_,w);return}else k?!S&&y[_]&&(C=!0):delete y[_];C?y[_]=w:l(y,_,w)})(Function.prototype,"toString",function(){return typeof this=="function"&&f(this).source||d(this)})},"6f53":function(i,o,r){var a=r("83ab"),l=r("df75"),c=r("fc6a"),u=r("d1e7").f,d=function(h){return function(f){for(var p=c(f),v=l(p),y=v.length,_=0,w=[],x;y>_;)x=v[_++],(!a||u.call(p,x))&&w.push(h?[x,p[x]]:p[x]);return w}};i.exports={entries:d(!0),values:d(!1)}},"73d9":function(i,o,r){var a=r("44d2");a("flatMap")},7418:function(i,o){o.f=Object.getOwnPropertySymbols},"746f":function(i,o,r){var a=r("428f"),l=r("5135"),c=r("e538"),u=r("9bf2").f;i.exports=function(d){var h=a.Symbol||(a.Symbol={});l(h,d)||u(h,d,{value:c.f(d)})}},7839:function(i,o){i.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(i,o,r){var a=r("1d80");i.exports=function(l){return Object(a(l))}},"7c73":function(i,o,r){var a=r("825a"),l=r("37e8"),c=r("7839"),u=r("d012"),d=r("1be4"),h=r("cc12"),f=r("f772"),p=">",v="<",y="prototype",_="script",w=f("IE_PROTO"),x=function(){},k=function(M){return v+_+p+M+v+"/"+_+p},C=function(M){M.write(k("")),M.close();var V=M.parentWindow.Object;return M=null,V},S=function(){var M=h("iframe"),V="java"+_+":",R;return M.style.display="none",d.appendChild(M),M.src=String(V),R=M.contentWindow.document,R.open(),R.write(k("document.F=Object")),R.close(),R.F},A,O=function(){try{A=document.domain&&new ActiveXObject("htmlfile")}catch{}O=A?C(A):S();for(var M=c.length;M--;)delete O[y][c[M]];return O()};u[w]=!0,i.exports=Object.create||function(V,R){var X;return V!==null?(x[y]=a(V),X=new x,x[y]=null,X[w]=V):X=O(),R===void 0?X:l(X,R)}},"7dd0":function(i,o,r){var a=r("23e7"),l=r("9ed3"),c=r("e163"),u=r("d2bb"),d=r("d44e"),h=r("9112"),f=r("6eeb"),p=r("b622"),v=r("c430"),y=r("3f8c"),_=r("ae93"),w=_.IteratorPrototype,x=_.BUGGY_SAFARI_ITERATORS,k=p("iterator"),C="keys",S="values",A="entries",O=function(){return this};i.exports=function(M,V,R,X,P,F,Z){l(R,V,X);var Q=function(qe){if(qe===P&&Te)return Te;if(!x&&qe in ge)return ge[qe];switch(qe){case C:return function(){return new R(this,qe)};case S:return function(){return new R(this,qe)};case A:return function(){return new R(this,qe)}}return function(){return new R(this)}},G=V+" Iterator",ie=!1,ge=M.prototype,ae=ge[k]||ge["@@iterator"]||P&&ge[P],Te=!x&&ae||Q(P),We=V=="Array"&&ge.entries||ae,Ke,He,Ue;if(We&&(Ke=c(We.call(new M)),w!==Object.prototype&&Ke.next&&(!v&&c(Ke)!==w&&(u?u(Ke,w):typeof Ke[k]!="function"&&h(Ke,k,O)),d(Ke,G,!0,!0),v&&(y[G]=O))),P==S&&ae&&ae.name!==S&&(ie=!0,Te=function(){return ae.call(this)}),(!v||Z)&&ge[k]!==Te&&h(ge,k,Te),y[V]=Te,P)if(He={values:Q(S),keys:F?Te:Q(C),entries:Q(A)},Z)for(Ue in He)(x||ie||!(Ue in ge))&&f(ge,Ue,He[Ue]);else a({target:V,proto:!0,forced:x||ie},He);return He}},"7f9a":function(i,o,r){var a=r("da84"),l=r("8925"),c=a.WeakMap;i.exports=typeof c=="function"&&/native code/.test(l(c))},"825a":function(i,o,r){var a=r("861d");i.exports=function(l){if(!a(l))throw TypeError(String(l)+" is not an object");return l}},"83ab":function(i,o,r){var a=r("d039");i.exports=!a(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},8418:function(i,o,r){var a=r("c04e"),l=r("9bf2"),c=r("5c6c");i.exports=function(u,d,h){var f=a(d);f in u?l.f(u,f,c(0,h)):u[f]=h}},"861d":function(i,o){i.exports=function(r){return typeof r=="object"?r!==null:typeof r=="function"}},8875:function(i,o,r){var a,l,c;(function(u,d){l=[],a=d,c=typeof a=="function"?a.apply(o,l):a,c!==void 0&&(i.exports=c)})(typeof self<"u"?self:this,function(){function u(){var d=Object.getOwnPropertyDescriptor(document,"currentScript");if(!d&&"currentScript"in document&&document.currentScript||d&&d.get!==u&&document.currentScript)return document.currentScript;try{throw new Error}catch(A){var h=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,f=/@([^@]*):(\d+):(\d+)\s*$/ig,p=h.exec(A.stack)||f.exec(A.stack),v=p&&p[1]||!1,y=p&&p[2]||!1,_=document.location.href.replace(document.location.hash,""),w,x,k,C=document.getElementsByTagName("script");v===_&&(w=document.documentElement.outerHTML,x=new RegExp("(?:[^\\n]+?\\n){0,"+(y-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),k=w.replace(x,"$1").trim());for(var S=0;S<C.length;S++)if(C[S].readyState==="interactive"||C[S].src===v||v===_&&C[S].innerHTML&&C[S].innerHTML.trim()===k)return C[S];return null}}return u})},8925:function(i,o,r){var a=r("c6cd"),l=Function.toString;typeof a.inspectSource!="function"&&(a.inspectSource=function(c){return l.call(c)}),i.exports=a.inspectSource},"8aa5":function(i,o,r){var a=r("6547").charAt;i.exports=function(l,c,u){return c+(u?a(l,c).length:1)}},"8bbf":function(i,o){i.exports=n},"90e3":function(i,o){var r=0,a=Math.random();i.exports=function(l){return"Symbol("+String(l===void 0?"":l)+")_"+(++r+a).toString(36)}},9112:function(i,o,r){var a=r("83ab"),l=r("9bf2"),c=r("5c6c");i.exports=a?function(u,d,h){return l.f(u,d,c(1,h))}:function(u,d,h){return u[d]=h,u}},9263:function(i,o,r){var a=r("ad6d"),l=r("9f7f"),c=RegExp.prototype.exec,u=String.prototype.replace,d=c,h=function(){var y=/a/,_=/b*/g;return c.call(y,"a"),c.call(_,"a"),y.lastIndex!==0||_.lastIndex!==0}(),f=l.UNSUPPORTED_Y||l.BROKEN_CARET,p=/()??/.exec("")[1]!==void 0,v=h||p||f;v&&(d=function(_){var w=this,x,k,C,S,A=f&&w.sticky,O=a.call(w),M=w.source,V=0,R=_;return A&&(O=O.replace("y",""),O.indexOf("g")===-1&&(O+="g"),R=String(_).slice(w.lastIndex),w.lastIndex>0&&(!w.multiline||w.multiline&&_[w.lastIndex-1]!==`
`)&&(M="(?: "+M+")",R=" "+R,V++),k=new RegExp("^(?:"+M+")",O)),p&&(k=new RegExp("^"+M+"$(?!\\s)",O)),h&&(x=w.lastIndex),C=c.call(A?k:w,R),A?C?(C.input=C.input.slice(V),C[0]=C[0].slice(V),C.index=w.lastIndex,w.lastIndex+=C[0].length):w.lastIndex=0:h&&C&&(w.lastIndex=w.global?C.index+C[0].length:x),p&&C&&C.length>1&&u.call(C[0],k,function(){for(S=1;S<arguments.length-2;S++)arguments[S]===void 0&&(C[S]=void 0)}),C}),i.exports=d},"94ca":function(i,o,r){var a=r("d039"),l=/#|\.prototype\./,c=function(p,v){var y=d[u(p)];return y==f?!0:y==h?!1:typeof v=="function"?a(v):!!v},u=c.normalize=function(p){return String(p).replace(l,".").toLowerCase()},d=c.data={},h=c.NATIVE="N",f=c.POLYFILL="P";i.exports=c},"99af":function(i,o,r){var a=r("23e7"),l=r("d039"),c=r("e8b5"),u=r("861d"),d=r("7b0b"),h=r("50c4"),f=r("8418"),p=r("65f0"),v=r("1dde"),y=r("b622"),_=r("2d00"),w=y("isConcatSpreadable"),x=9007199254740991,k="Maximum allowed index exceeded",C=_>=51||!l(function(){var M=[];return M[w]=!1,M.concat()[0]!==M}),S=v("concat"),A=function(M){if(!u(M))return!1;var V=M[w];return V!==void 0?!!V:c(M)},O=!C||!S;a({target:"Array",proto:!0,forced:O},{concat:function(V){var R=d(this),X=p(R,0),P=0,F,Z,Q,G,ie;for(F=-1,Q=arguments.length;F<Q;F++)if(ie=F===-1?R:arguments[F],A(ie)){if(G=h(ie.length),P+G>x)throw TypeError(k);for(Z=0;Z<G;Z++,P++)Z in ie&&f(X,P,ie[Z])}else{if(P>=x)throw TypeError(k);f(X,P++,ie)}return X.length=P,X}})},"9bdd":function(i,o,r){var a=r("825a");i.exports=function(l,c,u,d){try{return d?c(a(u)[0],u[1]):c(u)}catch(f){var h=l.return;throw h!==void 0&&a(h.call(l)),f}}},"9bf2":function(i,o,r){var a=r("83ab"),l=r("0cfb"),c=r("825a"),u=r("c04e"),d=Object.defineProperty;o.f=a?d:function(f,p,v){if(c(f),p=u(p,!0),c(v),l)try{return d(f,p,v)}catch{}if("get"in v||"set"in v)throw TypeError("Accessors not supported");return"value"in v&&(f[p]=v.value),f}},"9ed3":function(i,o,r){var a=r("ae93").IteratorPrototype,l=r("7c73"),c=r("5c6c"),u=r("d44e"),d=r("3f8c"),h=function(){return this};i.exports=function(f,p,v){var y=p+" Iterator";return f.prototype=l(a,{next:c(1,v)}),u(f,y,!1,!0),d[y]=h,f}},"9f7f":function(i,o,r){var a=r("d039");function l(c,u){return RegExp(c,u)}o.UNSUPPORTED_Y=a(function(){var c=l("a","y");return c.lastIndex=2,c.exec("abcd")!=null}),o.BROKEN_CARET=a(function(){var c=l("^r","gy");return c.lastIndex=2,c.exec("str")!=null})},a2bf:function(i,o,r){var a=r("e8b5"),l=r("50c4"),c=r("0366"),u=function(d,h,f,p,v,y,_,w){for(var x=v,k=0,C=_?c(_,w,3):!1,S;k<p;){if(k in f){if(S=C?C(f[k],k,h):f[k],y>0&&a(S))x=u(d,h,S,l(S.length),x,y-1)-1;else{if(x>=9007199254740991)throw TypeError("Exceed the acceptable array length");d[x]=S}x++}k++}return x};i.exports=u},a352:function(i,o){i.exports=s},a434:function(i,o,r){var a=r("23e7"),l=r("23cb"),c=r("a691"),u=r("50c4"),d=r("7b0b"),h=r("65f0"),f=r("8418"),p=r("1dde"),v=r("ae40"),y=p("splice"),_=v("splice",{ACCESSORS:!0,0:0,1:2}),w=Math.max,x=Math.min,k=9007199254740991,C="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!y||!_},{splice:function(A,O){var M=d(this),V=u(M.length),R=l(A,V),X=arguments.length,P,F,Z,Q,G,ie;if(X===0?P=F=0:X===1?(P=0,F=V-R):(P=X-2,F=x(w(c(O),0),V-R)),V+P-F>k)throw TypeError(C);for(Z=h(M,F),Q=0;Q<F;Q++)G=R+Q,G in M&&f(Z,Q,M[G]);if(Z.length=F,P<F){for(Q=R;Q<V-F;Q++)G=Q+F,ie=Q+P,G in M?M[ie]=M[G]:delete M[ie];for(Q=V;Q>V-F+P;Q--)delete M[Q-1]}else if(P>F)for(Q=V-F;Q>R;Q--)G=Q+F-1,ie=Q+P-1,G in M?M[ie]=M[G]:delete M[ie];for(Q=0;Q<P;Q++)M[Q+R]=arguments[Q+2];return M.length=V-F+P,Z}})},a4d3:function(i,o,r){var a=r("23e7"),l=r("da84"),c=r("d066"),u=r("c430"),d=r("83ab"),h=r("4930"),f=r("fdbf"),p=r("d039"),v=r("5135"),y=r("e8b5"),_=r("861d"),w=r("825a"),x=r("7b0b"),k=r("fc6a"),C=r("c04e"),S=r("5c6c"),A=r("7c73"),O=r("df75"),M=r("241c"),V=r("057f"),R=r("7418"),X=r("06cf"),P=r("9bf2"),F=r("d1e7"),Z=r("9112"),Q=r("6eeb"),G=r("5692"),ie=r("f772"),ge=r("d012"),ae=r("90e3"),Te=r("b622"),We=r("e538"),Ke=r("746f"),He=r("d44e"),Ue=r("69f3"),qe=r("b727").forEach,re=ie("hidden"),be="Symbol",ye="prototype",Me=Te("toPrimitive"),ft=Ue.set,kt=Ue.getterFor(be),U=Object[ye],z=l.Symbol,se=c("JSON","stringify"),he=X.f,le=P.f,_e=V.f,Ce=F.f,ve=G("symbols"),we=G("op-symbols"),pe=G("string-to-symbol-registry"),Ae=G("symbol-to-string-registry"),Le=G("wks"),Re=l.QObject,st=!Re||!Re[ye]||!Re[ye].findChild,ot=d&&p(function(){return A(le({},"a",{get:function(){return le(this,"a",{value:7}).a}})).a!=7})?function(Je,Pe,Qe){var bt=he(U,Pe);bt&&delete U[Pe],le(Je,Pe,Qe),bt&&Je!==U&&le(U,Pe,bt)}:le,Ct=function(Je,Pe){var Qe=ve[Je]=A(z[ye]);return ft(Qe,{type:be,tag:Je,description:Pe}),d||(Qe.description=Pe),Qe},te=f?function(Je){return typeof Je=="symbol"}:function(Je){return Object(Je)instanceof z},ne=function(Pe,Qe,bt){Pe===U&&ne(we,Qe,bt),w(Pe);var wt=C(Qe,!0);return w(bt),v(ve,wt)?(bt.enumerable?(v(Pe,re)&&Pe[re][wt]&&(Pe[re][wt]=!1),bt=A(bt,{enumerable:S(0,!1)})):(v(Pe,re)||le(Pe,re,S(1,{})),Pe[re][wt]=!0),ot(Pe,wt,bt)):le(Pe,wt,bt)},oe=function(Pe,Qe){w(Pe);var bt=k(Qe),wt=O(bt).concat(at(bt));return qe(wt,function(Cn){(!d||Ve.call(bt,Cn))&&ne(Pe,Cn,bt[Cn])}),Pe},me=function(Pe,Qe){return Qe===void 0?A(Pe):oe(A(Pe),Qe)},Ve=function(Pe){var Qe=C(Pe,!0),bt=Ce.call(this,Qe);return this===U&&v(ve,Qe)&&!v(we,Qe)?!1:bt||!v(this,Qe)||!v(ve,Qe)||v(this,re)&&this[re][Qe]?bt:!0},Ze=function(Pe,Qe){var bt=k(Pe),wt=C(Qe,!0);if(!(bt===U&&v(ve,wt)&&!v(we,wt))){var Cn=he(bt,wt);return Cn&&v(ve,wt)&&!(v(bt,re)&&bt[re][wt])&&(Cn.enumerable=!0),Cn}},rt=function(Pe){var Qe=_e(k(Pe)),bt=[];return qe(Qe,function(wt){!v(ve,wt)&&!v(ge,wt)&&bt.push(wt)}),bt},at=function(Pe){var Qe=Pe===U,bt=_e(Qe?we:k(Pe)),wt=[];return qe(bt,function(Cn){v(ve,Cn)&&(!Qe||v(U,Cn))&&wt.push(ve[Cn])}),wt};if(h||(z=function(){if(this instanceof z)throw TypeError("Symbol is not a constructor");var Pe=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),Qe=ae(Pe),bt=function(wt){this===U&&bt.call(we,wt),v(this,re)&&v(this[re],Qe)&&(this[re][Qe]=!1),ot(this,Qe,S(1,wt))};return d&&st&&ot(U,Qe,{configurable:!0,set:bt}),Ct(Qe,Pe)},Q(z[ye],"toString",function(){return kt(this).tag}),Q(z,"withoutSetter",function(Je){return Ct(ae(Je),Je)}),F.f=Ve,P.f=ne,X.f=Ze,M.f=V.f=rt,R.f=at,We.f=function(Je){return Ct(Te(Je),Je)},d&&(le(z[ye],"description",{configurable:!0,get:function(){return kt(this).description}}),u||Q(U,"propertyIsEnumerable",Ve,{unsafe:!0}))),a({global:!0,wrap:!0,forced:!h,sham:!h},{Symbol:z}),qe(O(Le),function(Je){Ke(Je)}),a({target:be,stat:!0,forced:!h},{for:function(Je){var Pe=String(Je);if(v(pe,Pe))return pe[Pe];var Qe=z(Pe);return pe[Pe]=Qe,Ae[Qe]=Pe,Qe},keyFor:function(Pe){if(!te(Pe))throw TypeError(Pe+" is not a symbol");if(v(Ae,Pe))return Ae[Pe]},useSetter:function(){st=!0},useSimple:function(){st=!1}}),a({target:"Object",stat:!0,forced:!h,sham:!d},{create:me,defineProperty:ne,defineProperties:oe,getOwnPropertyDescriptor:Ze}),a({target:"Object",stat:!0,forced:!h},{getOwnPropertyNames:rt,getOwnPropertySymbols:at}),a({target:"Object",stat:!0,forced:p(function(){R.f(1)})},{getOwnPropertySymbols:function(Pe){return R.f(x(Pe))}}),se){var $t=!h||p(function(){var Je=z();return se([Je])!="[null]"||se({a:Je})!="{}"||se(Object(Je))!="{}"});a({target:"JSON",stat:!0,forced:$t},{stringify:function(Pe,Qe,bt){for(var wt=[Pe],Cn=1,ci;arguments.length>Cn;)wt.push(arguments[Cn++]);if(ci=Qe,!(!_(Qe)&&Pe===void 0||te(Pe)))return y(Qe)||(Qe=function(Jr,Pi){if(typeof ci=="function"&&(Pi=ci.call(this,Jr,Pi)),!te(Pi))return Pi}),wt[1]=Qe,se.apply(null,wt)}})}z[ye][Me]||Z(z[ye],Me,z[ye].valueOf),He(z,be),ge[re]=!0},a630:function(i,o,r){var a=r("23e7"),l=r("4df4"),c=r("1c7e"),u=!c(function(d){Array.from(d)});a({target:"Array",stat:!0,forced:u},{from:l})},a640:function(i,o,r){var a=r("d039");i.exports=function(l,c){var u=[][l];return!!u&&a(function(){u.call(null,c||function(){throw 1},1)})}},a691:function(i,o){var r=Math.ceil,a=Math.floor;i.exports=function(l){return isNaN(l=+l)?0:(l>0?a:r)(l)}},ab13:function(i,o,r){var a=r("b622"),l=a("match");i.exports=function(c){var u=/./;try{"/./"[c](u)}catch{try{return u[l]=!1,"/./"[c](u)}catch{}}return!1}},ac1f:function(i,o,r){var a=r("23e7"),l=r("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==l},{exec:l})},ad6d:function(i,o,r){var a=r("825a");i.exports=function(){var l=a(this),c="";return l.global&&(c+="g"),l.ignoreCase&&(c+="i"),l.multiline&&(c+="m"),l.dotAll&&(c+="s"),l.unicode&&(c+="u"),l.sticky&&(c+="y"),c}},ae40:function(i,o,r){var a=r("83ab"),l=r("d039"),c=r("5135"),u=Object.defineProperty,d={},h=function(f){throw f};i.exports=function(f,p){if(c(d,f))return d[f];p||(p={});var v=[][f],y=c(p,"ACCESSORS")?p.ACCESSORS:!1,_=c(p,0)?p[0]:h,w=c(p,1)?p[1]:void 0;return d[f]=!!v&&!l(function(){if(y&&!a)return!0;var x={length:-1};y?u(x,1,{enumerable:!0,get:h}):x[1]=1,v.call(x,_,w)})}},ae93:function(i,o,r){var a=r("e163"),l=r("9112"),c=r("5135"),u=r("b622"),d=r("c430"),h=u("iterator"),f=!1,p=function(){return this},v,y,_;[].keys&&(_=[].keys(),"next"in _?(y=a(a(_)),y!==Object.prototype&&(v=y)):f=!0),v==null&&(v={}),!d&&!c(v,h)&&l(v,h,p),i.exports={IteratorPrototype:v,BUGGY_SAFARI_ITERATORS:f}},b041:function(i,o,r){var a=r("00ee"),l=r("f5df");i.exports=a?{}.toString:function(){return"[object "+l(this)+"]"}},b0c0:function(i,o,r){var a=r("83ab"),l=r("9bf2").f,c=Function.prototype,u=c.toString,d=/^\s*function ([^ (]*)/,h="name";a&&!(h in c)&&l(c,h,{configurable:!0,get:function(){try{return u.call(this).match(d)[1]}catch{return""}}})},b622:function(i,o,r){var a=r("da84"),l=r("5692"),c=r("5135"),u=r("90e3"),d=r("4930"),h=r("fdbf"),f=l("wks"),p=a.Symbol,v=h?p:p&&p.withoutSetter||u;i.exports=function(y){return c(f,y)||(d&&c(p,y)?f[y]=p[y]:f[y]=v("Symbol."+y)),f[y]}},b64b:function(i,o,r){var a=r("23e7"),l=r("7b0b"),c=r("df75"),u=r("d039"),d=u(function(){c(1)});a({target:"Object",stat:!0,forced:d},{keys:function(f){return c(l(f))}})},b727:function(i,o,r){var a=r("0366"),l=r("44ad"),c=r("7b0b"),u=r("50c4"),d=r("65f0"),h=[].push,f=function(p){var v=p==1,y=p==2,_=p==3,w=p==4,x=p==6,k=p==5||x;return function(C,S,A,O){for(var M=c(C),V=l(M),R=a(S,A,3),X=u(V.length),P=0,F=O||d,Z=v?F(C,X):y?F(C,0):void 0,Q,G;X>P;P++)if((k||P in V)&&(Q=V[P],G=R(Q,P,M),p)){if(v)Z[P]=G;else if(G)switch(p){case 3:return!0;case 5:return Q;case 6:return P;case 2:h.call(Z,Q)}else if(w)return!1}return x?-1:_||w?w:Z}};i.exports={forEach:f(0),map:f(1),filter:f(2),some:f(3),every:f(4),find:f(5),findIndex:f(6)}},c04e:function(i,o,r){var a=r("861d");i.exports=function(l,c){if(!a(l))return l;var u,d;if(c&&typeof(u=l.toString)=="function"&&!a(d=u.call(l))||typeof(u=l.valueOf)=="function"&&!a(d=u.call(l))||!c&&typeof(u=l.toString)=="function"&&!a(d=u.call(l)))return d;throw TypeError("Can't convert object to primitive value")}},c430:function(i,o){i.exports=!1},c6b6:function(i,o){var r={}.toString;i.exports=function(a){return r.call(a).slice(8,-1)}},c6cd:function(i,o,r){var a=r("da84"),l=r("ce4e"),c="__core-js_shared__",u=a[c]||l(c,{});i.exports=u},c740:function(i,o,r){var a=r("23e7"),l=r("b727").findIndex,c=r("44d2"),u=r("ae40"),d="findIndex",h=!0,f=u(d);d in[]&&Array(1)[d](function(){h=!1}),a({target:"Array",proto:!0,forced:h||!f},{findIndex:function(v){return l(this,v,arguments.length>1?arguments[1]:void 0)}}),c(d)},c8ba:function(i,o){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch{typeof window=="object"&&(r=window)}i.exports=r},c975:function(i,o,r){var a=r("23e7"),l=r("4d64").indexOf,c=r("a640"),u=r("ae40"),d=[].indexOf,h=!!d&&1/[1].indexOf(1,-0)<0,f=c("indexOf"),p=u("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:h||!f||!p},{indexOf:function(y){return h?d.apply(this,arguments)||0:l(this,y,arguments.length>1?arguments[1]:void 0)}})},ca84:function(i,o,r){var a=r("5135"),l=r("fc6a"),c=r("4d64").indexOf,u=r("d012");i.exports=function(d,h){var f=l(d),p=0,v=[],y;for(y in f)!a(u,y)&&a(f,y)&&v.push(y);for(;h.length>p;)a(f,y=h[p++])&&(~c(v,y)||v.push(y));return v}},caad:function(i,o,r){var a=r("23e7"),l=r("4d64").includes,c=r("44d2"),u=r("ae40"),d=u("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:!d},{includes:function(f){return l(this,f,arguments.length>1?arguments[1]:void 0)}}),c("includes")},cc12:function(i,o,r){var a=r("da84"),l=r("861d"),c=a.document,u=l(c)&&l(c.createElement);i.exports=function(d){return u?c.createElement(d):{}}},ce4e:function(i,o,r){var a=r("da84"),l=r("9112");i.exports=function(c,u){try{l(a,c,u)}catch{a[c]=u}return u}},d012:function(i,o){i.exports={}},d039:function(i,o){i.exports=function(r){try{return!!r()}catch{return!0}}},d066:function(i,o,r){var a=r("428f"),l=r("da84"),c=function(u){return typeof u=="function"?u:void 0};i.exports=function(u,d){return arguments.length<2?c(a[u])||c(l[u]):a[u]&&a[u][d]||l[u]&&l[u][d]}},d1e7:function(i,o,r){var a={}.propertyIsEnumerable,l=Object.getOwnPropertyDescriptor,c=l&&!a.call({1:2},1);o.f=c?function(d){var h=l(this,d);return!!h&&h.enumerable}:a},d28b:function(i,o,r){var a=r("746f");a("iterator")},d2bb:function(i,o,r){var a=r("825a"),l=r("3bbe");i.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var c=!1,u={},d;try{d=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,d.call(u,[]),c=u instanceof Array}catch{}return function(f,p){return a(f),l(p),c?d.call(f,p):f.__proto__=p,f}}():void 0)},d3b7:function(i,o,r){var a=r("00ee"),l=r("6eeb"),c=r("b041");a||l(Object.prototype,"toString",c,{unsafe:!0})},d44e:function(i,o,r){var a=r("9bf2").f,l=r("5135"),c=r("b622"),u=c("toStringTag");i.exports=function(d,h,f){d&&!l(d=f?d:d.prototype,u)&&a(d,u,{configurable:!0,value:h})}},d58f:function(i,o,r){var a=r("1c0b"),l=r("7b0b"),c=r("44ad"),u=r("50c4"),d=function(h){return function(f,p,v,y){a(p);var _=l(f),w=c(_),x=u(_.length),k=h?x-1:0,C=h?-1:1;if(v<2)for(;;){if(k in w){y=w[k],k+=C;break}if(k+=C,h?k<0:x<=k)throw TypeError("Reduce of empty array with no initial value")}for(;h?k>=0:x>k;k+=C)k in w&&(y=p(y,w[k],k,_));return y}};i.exports={left:d(!1),right:d(!0)}},d784:function(i,o,r){r("ac1f");var a=r("6eeb"),l=r("d039"),c=r("b622"),u=r("9263"),d=r("9112"),h=c("species"),f=!l(function(){var w=/./;return w.exec=function(){var x=[];return x.groups={a:"7"},x},"".replace(w,"$<a>")!=="7"}),p=function(){return"a".replace(/./,"$0")==="$0"}(),v=c("replace"),y=function(){return/./[v]?/./[v]("a","$0")==="":!1}(),_=!l(function(){var w=/(?:)/,x=w.exec;w.exec=function(){return x.apply(this,arguments)};var k="ab".split(w);return k.length!==2||k[0]!=="a"||k[1]!=="b"});i.exports=function(w,x,k,C){var S=c(w),A=!l(function(){var P={};return P[S]=function(){return 7},""[w](P)!=7}),O=A&&!l(function(){var P=!1,F=/a/;return w==="split"&&(F={},F.constructor={},F.constructor[h]=function(){return F},F.flags="",F[S]=/./[S]),F.exec=function(){return P=!0,null},F[S](""),!P});if(!A||!O||w==="replace"&&!(f&&p&&!y)||w==="split"&&!_){var M=/./[S],V=k(S,""[w],function(P,F,Z,Q,G){return F.exec===u?A&&!G?{done:!0,value:M.call(F,Z,Q)}:{done:!0,value:P.call(Z,F,Q)}:{done:!1}},{REPLACE_KEEPS_$0:p,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:y}),R=V[0],X=V[1];a(String.prototype,w,R),a(RegExp.prototype,S,x==2?function(P,F){return X.call(P,this,F)}:function(P){return X.call(P,this)})}C&&d(RegExp.prototype[S],"sham",!0)}},d81d:function(i,o,r){var a=r("23e7"),l=r("b727").map,c=r("1dde"),u=r("ae40"),d=c("map"),h=u("map");a({target:"Array",proto:!0,forced:!d||!h},{map:function(p){return l(this,p,arguments.length>1?arguments[1]:void 0)}})},da84:function(i,o,r){(function(a){var l=function(c){return c&&c.Math==Math&&c};i.exports=l(typeof globalThis=="object"&&globalThis)||l(typeof window=="object"&&window)||l(typeof self=="object"&&self)||l(typeof a=="object"&&a)||Function("return this")()}).call(this,r("c8ba"))},dbb4:function(i,o,r){var a=r("23e7"),l=r("83ab"),c=r("56ef"),u=r("fc6a"),d=r("06cf"),h=r("8418");a({target:"Object",stat:!0,sham:!l},{getOwnPropertyDescriptors:function(p){for(var v=u(p),y=d.f,_=c(v),w={},x=0,k,C;_.length>x;)C=y(v,k=_[x++]),C!==void 0&&h(w,k,C);return w}})},dbf1:function(i,o,r){(function(a){r.d(o,"a",function(){return c});function l(){return typeof window<"u"?window.console:a.console}var c=l()}).call(this,r("c8ba"))},ddb0:function(i,o,r){var a=r("da84"),l=r("fdbc"),c=r("e260"),u=r("9112"),d=r("b622"),h=d("iterator"),f=d("toStringTag"),p=c.values;for(var v in l){var y=a[v],_=y&&y.prototype;if(_){if(_[h]!==p)try{u(_,h,p)}catch{_[h]=p}if(_[f]||u(_,f,v),l[v]){for(var w in c)if(_[w]!==c[w])try{u(_,w,c[w])}catch{_[w]=c[w]}}}}},df75:function(i,o,r){var a=r("ca84"),l=r("7839");i.exports=Object.keys||function(u){return a(u,l)}},e01a:function(i,o,r){var a=r("23e7"),l=r("83ab"),c=r("da84"),u=r("5135"),d=r("861d"),h=r("9bf2").f,f=r("e893"),p=c.Symbol;if(l&&typeof p=="function"&&(!("description"in p.prototype)||p().description!==void 0)){var v={},y=function(){var S=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),A=this instanceof y?new p(S):S===void 0?p():p(S);return S===""&&(v[A]=!0),A};f(y,p);var _=y.prototype=p.prototype;_.constructor=y;var w=_.toString,x=String(p("test"))=="Symbol(test)",k=/^Symbol\((.*)\)[^)]+$/;h(_,"description",{configurable:!0,get:function(){var S=d(this)?this.valueOf():this,A=w.call(S);if(u(v,S))return"";var O=x?A.slice(7,-1):A.replace(k,"$1");return O===""?void 0:O}}),a({global:!0,forced:!0},{Symbol:y})}},e163:function(i,o,r){var a=r("5135"),l=r("7b0b"),c=r("f772"),u=r("e177"),d=c("IE_PROTO"),h=Object.prototype;i.exports=u?Object.getPrototypeOf:function(f){return f=l(f),a(f,d)?f[d]:typeof f.constructor=="function"&&f instanceof f.constructor?f.constructor.prototype:f instanceof Object?h:null}},e177:function(i,o,r){var a=r("d039");i.exports=!a(function(){function l(){}return l.prototype.constructor=null,Object.getPrototypeOf(new l)!==l.prototype})},e260:function(i,o,r){var a=r("fc6a"),l=r("44d2"),c=r("3f8c"),u=r("69f3"),d=r("7dd0"),h="Array Iterator",f=u.set,p=u.getterFor(h);i.exports=d(Array,"Array",function(v,y){f(this,{type:h,target:a(v),index:0,kind:y})},function(){var v=p(this),y=v.target,_=v.kind,w=v.index++;return!y||w>=y.length?(v.target=void 0,{value:void 0,done:!0}):_=="keys"?{value:w,done:!1}:_=="values"?{value:y[w],done:!1}:{value:[w,y[w]],done:!1}},"values"),c.Arguments=c.Array,l("keys"),l("values"),l("entries")},e439:function(i,o,r){var a=r("23e7"),l=r("d039"),c=r("fc6a"),u=r("06cf").f,d=r("83ab"),h=l(function(){u(1)}),f=!d||h;a({target:"Object",stat:!0,forced:f,sham:!d},{getOwnPropertyDescriptor:function(v,y){return u(c(v),y)}})},e538:function(i,o,r){var a=r("b622");o.f=a},e893:function(i,o,r){var a=r("5135"),l=r("56ef"),c=r("06cf"),u=r("9bf2");i.exports=function(d,h){for(var f=l(h),p=u.f,v=c.f,y=0;y<f.length;y++){var _=f[y];a(d,_)||p(d,_,v(h,_))}}},e8b5:function(i,o,r){var a=r("c6b6");i.exports=Array.isArray||function(c){return a(c)=="Array"}},e95a:function(i,o,r){var a=r("b622"),l=r("3f8c"),c=a("iterator"),u=Array.prototype;i.exports=function(d){return d!==void 0&&(l.Array===d||u[c]===d)}},f5df:function(i,o,r){var a=r("00ee"),l=r("c6b6"),c=r("b622"),u=c("toStringTag"),d=l(function(){return arguments}())=="Arguments",h=function(f,p){try{return f[p]}catch{}};i.exports=a?l:function(f){var p,v,y;return f===void 0?"Undefined":f===null?"Null":typeof(v=h(p=Object(f),u))=="string"?v:d?l(p):(y=l(p))=="Object"&&typeof p.callee=="function"?"Arguments":y}},f772:function(i,o,r){var a=r("5692"),l=r("90e3"),c=a("keys");i.exports=function(u){return c[u]||(c[u]=l(u))}},fb15:function(i,o,r){if(r.r(o),typeof window<"u"){var a=window.document.currentScript;{var l=r("8875");a=l(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:l})}var c=a&&a.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);c&&(r.p=c[1])}r("99af"),r("4de4"),r("4160"),r("c975"),r("d81d"),r("a434"),r("159b"),r("a4d3"),r("e439"),r("dbb4"),r("b64b");function u(te,ne,oe){return ne in te?Object.defineProperty(te,ne,{value:oe,enumerable:!0,configurable:!0,writable:!0}):te[ne]=oe,te}function d(te,ne){var oe=Object.keys(te);if(Object.getOwnPropertySymbols){var me=Object.getOwnPropertySymbols(te);ne&&(me=me.filter(function(Ve){return Object.getOwnPropertyDescriptor(te,Ve).enumerable})),oe.push.apply(oe,me)}return oe}function h(te){for(var ne=1;ne<arguments.length;ne++){var oe=arguments[ne]!=null?arguments[ne]:{};ne%2?d(Object(oe),!0).forEach(function(me){u(te,me,oe[me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(te,Object.getOwnPropertyDescriptors(oe)):d(Object(oe)).forEach(function(me){Object.defineProperty(te,me,Object.getOwnPropertyDescriptor(oe,me))})}return te}function f(te){if(Array.isArray(te))return te}r("e01a"),r("d28b"),r("e260"),r("d3b7"),r("3ca3"),r("ddb0");function p(te,ne){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(te)))){var oe=[],me=!0,Ve=!1,Ze=void 0;try{for(var rt=te[Symbol.iterator](),at;!(me=(at=rt.next()).done)&&(oe.push(at.value),!(ne&&oe.length===ne));me=!0);}catch($t){Ve=!0,Ze=$t}finally{try{!me&&rt.return!=null&&rt.return()}finally{if(Ve)throw Ze}}return oe}}r("a630"),r("fb6a"),r("b0c0"),r("25f0");function v(te,ne){(ne==null||ne>te.length)&&(ne=te.length);for(var oe=0,me=new Array(ne);oe<ne;oe++)me[oe]=te[oe];return me}function y(te,ne){if(te){if(typeof te=="string")return v(te,ne);var oe=Object.prototype.toString.call(te).slice(8,-1);if(oe==="Object"&&te.constructor&&(oe=te.constructor.name),oe==="Map"||oe==="Set")return Array.from(te);if(oe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(oe))return v(te,ne)}}function _(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w(te,ne){return f(te)||p(te,ne)||y(te,ne)||_()}function x(te){if(Array.isArray(te))return v(te)}function k(te){if(typeof Symbol<"u"&&Symbol.iterator in Object(te))return Array.from(te)}function C(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S(te){return x(te)||k(te)||y(te)||C()}var A=r("a352"),O=r.n(A);function M(te){te.parentElement!==null&&te.parentElement.removeChild(te)}function V(te,ne,oe){var me=oe===0?te.children[0]:te.children[oe-1].nextSibling;te.insertBefore(ne,me)}var R=r("dbf1");r("13d5"),r("4fad"),r("ac1f"),r("5319");function X(te){var ne=Object.create(null);return function(me){var Ve=ne[me];return Ve||(ne[me]=te(me))}}var P=/-(\w)/g,F=X(function(te){return te.replace(P,function(ne,oe){return oe.toUpperCase()})});r("5db7"),r("73d9");var Z=["Start","Add","Remove","Update","End"],Q=["Choose","Unchoose","Sort","Filter","Clone"],G=["Move"],ie=[G,Z,Q].flatMap(function(te){return te}).map(function(te){return"on".concat(te)}),ge={manage:G,manageAndEmit:Z,emit:Q};function ae(te){return ie.indexOf(te)!==-1}r("caad"),r("2ca0");var Te=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function We(te){return Te.includes(te)}function Ke(te){return["transition-group","TransitionGroup"].includes(te)}function He(te){return["id","class","role","style"].includes(te)||te.startsWith("data-")||te.startsWith("aria-")||te.startsWith("on")}function Ue(te){return te.reduce(function(ne,oe){var me=w(oe,2),Ve=me[0],Ze=me[1];return ne[Ve]=Ze,ne},{})}function qe(te){var ne=te.$attrs,oe=te.componentData,me=oe===void 0?{}:oe,Ve=Ue(Object.entries(ne).filter(function(Ze){var rt=w(Ze,2),at=rt[0];return rt[1],He(at)}));return h(h({},Ve),me)}function re(te){var ne=te.$attrs,oe=te.callBackBuilder,me=Ue(be(ne));Object.entries(oe).forEach(function(Ze){var rt=w(Ze,2),at=rt[0],$t=rt[1];ge[at].forEach(function(Je){me["on".concat(Je)]=$t(Je)})});var Ve="[data-draggable]".concat(me.draggable||"");return h(h({},me),{},{draggable:Ve})}function be(te){return Object.entries(te).filter(function(ne){var oe=w(ne,2),me=oe[0];return oe[1],!He(me)}).map(function(ne){var oe=w(ne,2),me=oe[0],Ve=oe[1];return[F(me),Ve]}).filter(function(ne){var oe=w(ne,2),me=oe[0];return oe[1],!ae(me)})}r("c740");function ye(te,ne){if(!(te instanceof ne))throw new TypeError("Cannot call a class as a function")}function Me(te,ne){for(var oe=0;oe<ne.length;oe++){var me=ne[oe];me.enumerable=me.enumerable||!1,me.configurable=!0,"value"in me&&(me.writable=!0),Object.defineProperty(te,me.key,me)}}function ft(te,ne,oe){return ne&&Me(te.prototype,ne),oe&&Me(te,oe),te}var kt=function(ne){var oe=ne.el;return oe},U=function(ne,oe){return ne.__draggable_context=oe},z=function(ne){return ne.__draggable_context},se=function(){function te(ne){var oe=ne.nodes,me=oe.header,Ve=oe.default,Ze=oe.footer,rt=ne.root,at=ne.realList;ye(this,te),this.defaultNodes=Ve,this.children=[].concat(S(me),S(Ve),S(Ze)),this.externalComponent=rt.externalComponent,this.rootTransition=rt.transition,this.tag=rt.tag,this.realList=at}return ft(te,[{key:"render",value:function(oe,me){var Ve=this.tag,Ze=this.children,rt=this._isRootComponent,at=rt?{default:function(){return Ze}}:Ze;return oe(Ve,me,at)}},{key:"updated",value:function(){var oe=this.defaultNodes,me=this.realList;oe.forEach(function(Ve,Ze){U(kt(Ve),{element:me[Ze],index:Ze})})}},{key:"getUnderlyingVm",value:function(oe){return z(oe)}},{key:"getVmIndexFromDomIndex",value:function(oe,me){var Ve=this.defaultNodes,Ze=Ve.length,rt=me.children,at=rt.item(oe);if(at===null)return Ze;var $t=z(at);if($t)return $t.index;if(Ze===0)return 0;var Je=kt(Ve[0]),Pe=S(rt).findIndex(function(Qe){return Qe===Je});return oe<Pe?0:Ze}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),te}(),he=r("8bbf");function le(te,ne){var oe=te[ne];return oe?oe():[]}function _e(te){var ne=te.$slots,oe=te.realList,me=te.getKey,Ve=oe||[],Ze=["header","footer"].map(function(Qe){return le(ne,Qe)}),rt=w(Ze,2),at=rt[0],$t=rt[1],Je=ne.item;if(!Je)throw new Error("draggable element must have an item slot");var Pe=Ve.flatMap(function(Qe,bt){return Je({element:Qe,index:bt}).map(function(wt){return wt.key=me(Qe),wt.props=h(h({},wt.props||{}),{},{"data-draggable":!0}),wt})});if(Pe.length!==Ve.length)throw new Error("Item slot must have only one child");return{header:at,footer:$t,default:Pe}}function Ce(te){var ne=Ke(te),oe=!We(te)&&!ne;return{transition:ne,externalComponent:oe,tag:oe?Object(he.resolveComponent)(te):ne?he.TransitionGroup:te}}function ve(te){var ne=te.$slots,oe=te.tag,me=te.realList,Ve=te.getKey,Ze=_e({$slots:ne,realList:me,getKey:Ve}),rt=Ce(oe);return new se({nodes:Ze,root:rt,realList:me})}function we(te,ne){var oe=this;Object(he.nextTick)(function(){return oe.$emit(te.toLowerCase(),ne)})}function pe(te){var ne=this;return function(oe,me){if(ne.realList!==null)return ne["onDrag".concat(te)](oe,me)}}function Ae(te){var ne=this,oe=pe.call(this,te);return function(me,Ve){oe.call(ne,me,Ve),we.call(ne,te,me)}}var Le=null,Re={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(ne){return ne}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},st=["update:modelValue","change"].concat(S([].concat(S(ge.manageAndEmit),S(ge.emit)).map(function(te){return te.toLowerCase()}))),ot=Object(he.defineComponent)({name:"draggable",inheritAttrs:!1,props:Re,emits:st,data:function(){return{error:!1}},render:function(){try{this.error=!1;var ne=this.$slots,oe=this.$attrs,me=this.tag,Ve=this.componentData,Ze=this.realList,rt=this.getKey,at=ve({$slots:ne,tag:me,realList:Ze,getKey:rt});this.componentStructure=at;var $t=qe({$attrs:oe,componentData:Ve});return at.render(he.h,$t)}catch(Je){return this.error=!0,Object(he.h)("pre",{style:{color:"red"}},Je.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&R.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var ne=this;if(!this.error){var oe=this.$attrs,me=this.$el,Ve=this.componentStructure;Ve.updated();var Ze=re({$attrs:oe,callBackBuilder:{manageAndEmit:function($t){return Ae.call(ne,$t)},emit:function($t){return we.bind(ne,$t)},manage:function($t){return pe.call(ne,$t)}}}),rt=me.nodeType===1?me:me.parentElement;this._sortable=new O.a(rt,Ze),this.targetDomElement=rt,rt.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var ne=this.list;return ne||this.modelValue},getKey:function(){var ne=this.itemKey;return typeof ne=="function"?ne:function(oe){return oe[ne]}}},watch:{$attrs:{handler:function(ne){var oe=this._sortable;oe&&be(ne).forEach(function(me){var Ve=w(me,2),Ze=Ve[0],rt=Ve[1];oe.option(Ze,rt)})},deep:!0}},methods:{getUnderlyingVm:function(ne){return this.componentStructure.getUnderlyingVm(ne)||null},getUnderlyingPotencialDraggableComponent:function(ne){return ne.__draggable_component__},emitChanges:function(ne){var oe=this;Object(he.nextTick)(function(){return oe.$emit("change",ne)})},alterList:function(ne){if(this.list){ne(this.list);return}var oe=S(this.modelValue);ne(oe),this.$emit("update:modelValue",oe)},spliceList:function(){var ne=arguments,oe=function(Ve){return Ve.splice.apply(Ve,S(ne))};this.alterList(oe)},updatePosition:function(ne,oe){var me=function(Ze){return Ze.splice(oe,0,Ze.splice(ne,1)[0])};this.alterList(me)},getRelatedContextFromMoveEvent:function(ne){var oe=ne.to,me=ne.related,Ve=this.getUnderlyingPotencialDraggableComponent(oe);if(!Ve)return{component:Ve};var Ze=Ve.realList,rt={list:Ze,component:Ve};if(oe!==me&&Ze){var at=Ve.getUnderlyingVm(me)||{};return h(h({},at),rt)}return rt},getVmIndexFromDomIndex:function(ne){return this.componentStructure.getVmIndexFromDomIndex(ne,this.targetDomElement)},onDragStart:function(ne){this.context=this.getUnderlyingVm(ne.item),ne.item._underlying_vm_=this.clone(this.context.element),Le=ne.item},onDragAdd:function(ne){var oe=ne.item._underlying_vm_;if(oe!==void 0){M(ne.item);var me=this.getVmIndexFromDomIndex(ne.newIndex);this.spliceList(me,0,oe);var Ve={element:oe,newIndex:me};this.emitChanges({added:Ve})}},onDragRemove:function(ne){if(V(this.$el,ne.item,ne.oldIndex),ne.pullMode==="clone"){M(ne.clone);return}var oe=this.context,me=oe.index,Ve=oe.element;this.spliceList(me,1);var Ze={element:Ve,oldIndex:me};this.emitChanges({removed:Ze})},onDragUpdate:function(ne){M(ne.item),V(ne.from,ne.item,ne.oldIndex);var oe=this.context.index,me=this.getVmIndexFromDomIndex(ne.newIndex);this.updatePosition(oe,me);var Ve={element:this.context.element,oldIndex:oe,newIndex:me};this.emitChanges({moved:Ve})},computeFutureIndex:function(ne,oe){if(!ne.element)return 0;var me=S(oe.to.children).filter(function(at){return at.style.display!=="none"}),Ve=me.indexOf(oe.related),Ze=ne.component.getVmIndexFromDomIndex(Ve),rt=me.indexOf(Le)!==-1;return rt||!oe.willInsertAfter?Ze:Ze+1},onDragMove:function(ne,oe){var me=this.move,Ve=this.realList;if(!me||!Ve)return!0;var Ze=this.getRelatedContextFromMoveEvent(ne),rt=this.computeFutureIndex(Ze,ne),at=h(h({},this.context),{},{futureIndex:rt}),$t=h(h({},ne),{},{relatedContext:Ze,draggedContext:at});return me($t,oe)},onDragEnd:function(){Le=null}}}),Ct=ot;o.default=Ct},fb6a:function(i,o,r){var a=r("23e7"),l=r("861d"),c=r("e8b5"),u=r("23cb"),d=r("50c4"),h=r("fc6a"),f=r("8418"),p=r("b622"),v=r("1dde"),y=r("ae40"),_=v("slice"),w=y("slice",{ACCESSORS:!0,0:0,1:2}),x=p("species"),k=[].slice,C=Math.max;a({target:"Array",proto:!0,forced:!_||!w},{slice:function(A,O){var M=h(this),V=d(M.length),R=u(A,V),X=u(O===void 0?V:O,V),P,F,Z;if(c(M)&&(P=M.constructor,typeof P=="function"&&(P===Array||c(P.prototype))?P=void 0:l(P)&&(P=P[x],P===null&&(P=void 0)),P===Array||P===void 0))return k.call(M,R,X);for(F=new(P===void 0?Array:P)(C(X-R,0)),Z=0;R<X;R++,Z++)R in M&&f(F,Z,M[R]);return F.length=Z,F}})},fc6a:function(i,o,r){var a=r("44ad"),l=r("1d80");i.exports=function(c){return a(l(c))}},fdbc:function(i,o){i.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(i,o,r){var a=r("4930");i.exports=a&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}}).default})})(W9);var ree=W9.exports;const aee=Hv(ree),_m=j({__name:"draggable-list",props:{modelValue:{},handle:{},group:{},promptBeforeDrag:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=e,i=q({get:()=>n.modelValue,set:c=>{if(n.promptBeforeDrag){o.value=!0,r.value=sd(c,!1);return}s("update:modelValue",c)}}),o=so(!1),r=so([]);function a(){s("update:modelValue",r.value)}function l(){r.value=[]}return(c,u)=>{const d=hn;return b(),$(ue,null,[E(g(aee),{modelValue:i.value,"onUpdate:modelValue":u[0]||(u[0]=h=>i.value=h),"item-key":"id",handle:c.handle,group:c.group,class:Se(c.$attrs.class)},{item:L(({element:h})=>[m("div",null,[lt(c.$slots,"default",{item:h})])]),_:3},8,["modelValue","handle","group","class"]),(b(),B(Ti,{to:"body"},[E(d,{visible:o.value,"onUpdate:visible":u[1]||(u[1]=h=>o.value=h),onConfirm:u[2]||(u[2]=h=>a()),onCancel:u[3]||(u[3]=h=>l())},{title:L(()=>[lt(c.$slots,"title",{},()=>[W("Подтвердите перемещение")])]),text:L(()=>[lt(c.$slots,"text",{},()=>[W(" Вы уверены, что хотите переместить этот элемент? ")])]),_:3},8,["visible"])]))],64)}}}),lee={class:"progress-bar"},cee={class:"progress-bar__bar"},uee=j({__name:"progress-bar",props:{value:{}},setup(t){return(e,n)=>(b(),$("div",lee,[m("div",cee,[m("div",{class:"progress-bar__bar__progress",style:Qt({width:`${e.value}%`})},null,4)])]))}});const E0=J(uee,[["__scopeId","data-v-ce817108"]]),dee={class:"file-input"},hee=["accept","multiple"],fee={class:"file-input__label"},pee={class:"file-input__files"},mee={class:"file-input__files__file"},gee=["href","target"],_ee={class:"file-input__files__file__data"},vee={class:"file-input__files__file__data__name"},yee={key:0,class:"file-input__files__file__data__error"},bee={key:1,class:"file-input__files__file__data__progress"},wee={key:0,class:"file-input__files__file__actions"},xee={class:"file-input__files__file__actions__delete"},See=j({__name:"file-input",props:{label:{},modelValue:{},allowedMimeTypes:{default:()=>["image/png","image/jpeg"]},maxFileSize:{default:10*1024*1024},maxCount:{default:5},readonly:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=e,i=q({get(){return(n.modelValue||[]).map(S=>({...S,progress:100,isUploaded:!0,error:void 0,file:null}))},set(S){s("update:modelValue",S)}}),o=Y([]),r=Y([]),a=Y(null),l=Y(!1),c=Y(!1);let u=0;function d(){l.value=!0,clearTimeout(u)}function h(){u=setTimeout(()=>{l.value=!1},50)}function f(S){i.value=S.map((A,O)=>({...A,order:O}))}function p(){var A;const S=Array.from(((A=a.value)==null?void 0:A.files)||[]);S.length&&(r.value=S.map(C),y())}function v(S){var O;const A=Array.from(((O=S.dataTransfer)==null?void 0:O.files)||[]);A.length&&(r.value=A.map(C),y())}function y(){if(r.value.length>n.maxCount){D.Services.UI.openErrorModal(`Максимальное количество файлов (${n.maxCount}) превышено`),r.value=[];return}for(const S of r.value)if(S.file){if(!n.allowedMimeTypes.includes(S.file.type)){S.error="Этот тип файла не поддерживается, разрешены: "+n.allowedMimeTypes.join(", ");continue}if(S.file.size>n.maxFileSize){S.error=`Размер файла превышает допустимый (${Math.floor(n.maxFileSize/1024/1024)} МБ})`;continue}}o.value=r.value.filter(S=>S.error),r.value=r.value.filter(S=>!S.error),k()}async function _(){c.value=!1;for(const S of r.value)try{i.value.push(S);const A=await D.Services.Media.upload([S.file],O=>{S.progress=O});if(!A||!A.data)throw new Error("Ошибка при загрузке файлов");S.src=A.data[0].src,S.name=A.data[0].name,S.mimeType=A.data[0].mimeType,S.isUploaded=!0,S.progress=100,S.error=void 0}catch(A){S.error=A.message}if(i.value=i.value.filter(S=>!S.error).map((S,A)=>({...S,order:A})),o.value=r.value.filter(S=>S.error),r.value=[],o.value.length){const S=o.value.map(A=>`Файл "${A.name}": ${A.error}`).join(", ");D.Services.UI.openErrorModal("Ошибка с загрузкой некоторых файлов",S),o.value=[]}}function w(S){n.readonly||(i.value=i.value.filter(A=>A.name!==S.name))}function x(){r.value=[],o.value=[]}function k(){c.value=!0}function C(S){return{name:S.name,src:"",mimeType:S.type,progress:1,isUploaded:!1,error:void 0,order:i.value.length,file:S}}return(S,A)=>{const O=It,M=xc,V=E0,R=_m,X=wQ,P=it("auto-animate");return b(),$(ue,null,[m("div",dee,[m("input",{ref_key:"fileInput",ref:a,type:"file",accept:S.allowedMimeTypes.join(", "),multiple:!!S.maxCount&&S.maxCount>1,onChange:A[0]||(A[0]=F=>p()),"area-hidden":"true",hidden:""},null,40,hee),m("label",fee,H(S.label),1),!n.readonly&&S.modelValue.length<n.maxCount?(b(),$("div",{key:0,class:Se(["file-input__area",{"file-input__area--drag":l.value}]),onClick:A[1]||(A[1]=F=>{S.$refs.fileInput.click()}),onDragenter:A[2]||(A[2]=un(F=>d(),["prevent"])),onDragleave:A[3]||(A[3]=un(F=>h(),["prevent"])),onDragover:A[4]||(A[4]=un(()=>{},["prevent"])),onMouseleave:A[5]||(A[5]=F=>h()),onDrop:A[6]||(A[6]=un(F=>v(F),["prevent"]))}," Перетащите сюда файл или кликните, чтобы загрузить ",34)):N("",!0),$e((b(),$("div",pee,[(b(),B(R,{key:i.value.length,modelValue:i.value,"onUpdate:modelValue":[A[7]||(A[7]=F=>i.value=F),A[8]||(A[8]=F=>f(F))],"item-key":"id"},{default:L(({item:F})=>[m("div",mee,[m("a",{href:F.src?`${g(D).Constants.MEDIA_URL}/${F.src}`:void 0,target:F.src?"_blank":void 0,class:"file-input__files__file__preview"},[F.src&&F.mimeType==="application/pdf"?(b(),B(O,{key:0,name:"pdf-file"})):(b(),B(M,{key:1,src:F.src},null,8,["src"]))],8,gee),m("div",_ee,[m("p",vee,H(F.name),1),F.error?(b(),$("div",yee,[m("p",null,"Ошибка: "+H(F.error),1)])):F.isUploaded?N("",!0):(b(),$("div",bee,[E(V,{value:F.progress},null,8,["value"])]))]),n.readonly?N("",!0):(b(),$("div",wee,[m("div",xee,[E(O,{name:"delete",onClick:Z=>w(F)},null,8,["onClick"])])]))])]),_:1},8,["modelValue"]))])),[[P]])]),E(X,{visible:c.value,"onUpdate:visible":A[9]||(A[9]=F=>c.value=F),files:r.value,"onUpdate:files":A[10]||(A[10]=F=>r.value=F),"files-with-errors":o.value,onConfirm:A[11]||(A[11]=F=>_()),onCancel:A[12]||(A[12]=F=>x())},null,8,["visible","files","files-with-errors"])],64)}}});const vm=J(See,[["__scopeId","data-v-58a54aa9"]]),kee={class:"video-update-form"},$ee={class:"form-group"},Cee={class:"form-group"},Eee={class:"form-group"},Tee={class:"form-group"},Aee={class:"row"},Mee={class:"col-lg-4"},Iee={key:0,class:"col-lg-4"},Oee={key:1,class:"col-lg-4"},Dee={class:"form-group error-block"},Lee=j({__name:"video-update-form",props:{video:{},valid:{type:Boolean}},emits:["submit","update:valid","update:video"],setup(t,{emit:e}){const n=t,s=e,i=q({get:()=>n.video,set:u=>s("update:video",u)}),o=Y(n.video.thumbnail?[n.video.thumbnail]:[]);ke(o,u=>{i.value.thumbnail=u[0]||null});const r=Y(null);ke(r,u=>{switch(i.value.accessType){case"courseId":i.value.accessValue=u.map(d=>d.id).join(",");break;case"role":i.value.accessValue=(u==null?void 0:u.value)||"student";break;case"everyone":default:i.value.accessValue=null;break}}),ke(()=>i.value.accessType,()=>{switch(i.value.accessType){case"role":i.value.accessValue="student";break;case"courseId":case"everyone":default:i.value.accessValue=null;break}});const a=[{value:"everyone",label:"Всем"},{value:"courseId",label:"Участникам курса"},{value:"role",label:"По роли"}],l=Y(null);function c(){return!i.value.title.length||i.value.title.length>100?(l.value="Название не должно быть пустым или превышать 100 символов",!1):i.value.serviceType?(l.value=null,!0):(l.value="Выберите сервис для загрузки видео",!1)}return ke(()=>i.value,()=>{if(!c()){s("update:valid",!1);return}s("update:valid",!0)},{immediate:!0,deep:!0}),(u,d)=>{const h=zt,f=vm,p=nr,v=us,y=xJ,_=dJ,w=Qo,x=it("auto-animate");return b(),$("div",kee,[m("div",$ee,[E(h,{label:"Название",modelValue:i.value.title,"onUpdate:modelValue":d[0]||(d[0]=k=>i.value.title=k),type:"text",validators:[k=>k.length>0||"Введите название видео",k=>k.length<=100||"Название не должно превышать 100 символов"]},null,8,["modelValue","validators"])]),m("div",Cee,[E(f,{modelValue:o.value,"onUpdate:modelValue":d[1]||(d[1]=k=>o.value=k),label:"Превью-изображение","max-count":1,"allowed-mime-types":["image/jpeg","image/png"]},null,8,["modelValue"])]),m("div",Eee,[E(p,{label:"Описание",modelValue:i.value.description,"onUpdate:modelValue":d[2]||(d[2]=k=>i.value.description=k)},null,8,["modelValue"])]),m("div",Tee,[m("div",Aee,[m("div",Mee,[E(h,{label:"Дата публикации",modelValue:i.value.publishedAt,"onUpdate:modelValue":d[3]||(d[3]=k=>i.value.publishedAt=k),type:"date"},null,8,["modelValue"])]),g(D).Context.roleIs(["admin","teacher"])?(b(),$("div",Iee,[E(v,{label:"Видео доступно",modelValue:i.value.accessType,"onUpdate:modelValue":d[4]||(d[4]=k=>i.value.accessType=k),options:a},null,8,["modelValue"])])):N("",!0),g(D).Context.roleIs(["admin","teacher"])?(b(),$("div",Oee,[i.value.accessType==="courseId"?(b(),B(y,{key:0,label:"Курс","max-count":10,modelValue:r.value,"onUpdate:modelValue":d[5]||(d[5]=k=>r.value=k)},null,8,["modelValue"])):i.value.accessType==="role"?(b(),B(_,{key:1,label:"Роль",modelValue:r.value,"onUpdate:modelValue":d[6]||(d[6]=k=>r.value=k)},null,8,["modelValue"])):N("",!0)])):N("",!0)])]),$e((b(),$("div",Dee,[l.value?(b(),B(w,{key:0},{default:L(()=>[W(H(l.value),1)]),_:1})):N("",!0)])),[[x]])])}}});const Pee=J(Lee,[["__scopeId","data-v-0b3bc7c6"]]),Ree=j({__name:"edit-video-modal",props:{visible:{type:Boolean},video:{}},emits:["update:visible","edited"],setup(t,{emit:e}){const n=t,s=e,i=D.Services.Video,o=D.Services.UI,r=Y(sd(n.video,!1)),a=q({get:()=>n.visible,set:u=>s("update:visible",u)}),l=Y(!0);async function c(){if(l.value)try{await i.updateVideo(r.value.id,r.value,{showLoader:!0}),s("edited",r.value)}catch(u){o.openErrorModal("Ошибка при обновлении видео",u.message)}}return(u,d)=>{const h=Pee,f=hn;return b(),B(f,{visible:a.value,"onUpdate:visible":d[2]||(d[2]=p=>a.value=p),type:"info",onConfirm:d[3]||(d[3]=p=>c()),"confirm-disabled":!l.value},{title:L(()=>[W('Редактирование "'+H(u.video.title)+'"',1)]),text:L(()=>[E(h,{video:r.value,"onUpdate:video":d[0]||(d[0]=p=>r.value=p),valid:l.value,"onUpdate:valid":d[1]||(d[1]=p=>l.value=p)},null,8,["video","valid"])]),_:1},8,["visible","confirm-disabled"])}}});function Vee(t){const e=Math.floor(t/3600),n=Math.floor(t%3600/60),s=t%60;return`${e?e+":":""}${n.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`}function Nee(t){switch(t.accessType){case"everyone":return"Доступно всем";case"role":switch(t.accessValue){case"admin":return"Доступно администраторам";case"teacher":return"Доступно преподавателям";case"mentor":return"Доступно кураторам";case"assistant":return"Доступно ассистентам";case"student":return"Доступно ученикам"}break;case"mentorId":return"Для учеников куратора";case"courseId":return"Для учеников курса"}}const Uee={key:0,class:"video-card__preview__view-button"},Bee={class:"video-card__preview__image"},jee={class:"video-card__preview__duration"},zee={key:0,class:"video-card__preview__actions"},Fee={class:"video-card__info"},Wee={class:"video-card__info__header"},Hee={class:"video-card__info__title"},qee={class:"video-card__info__author"},Gee={class:"video-card__info__author__info"},Yee=j({__name:"video-card",props:{video:{},small:{type:Boolean},showActions:{type:Boolean},selectable:{type:Boolean},isSelected:{type:Boolean}},emits:["delete-video","updated","select"],setup(t,{emit:e}){var u,d;const n=t,s=e,i=q(()=>`/nootube/video/${n.video.id}`),o=q(()=>Vee(n.video.duration)),r=Y(!1),a=Y(!1),l=Gt([{title:"Изменить",icon:"edit",if:D.Context.roleIs(["teacher","admin"])||D.Context.User.id===((u=n.video.uploadedBy)==null?void 0:u.id),action:()=>{r.value=!0}},{title:"Удалить",icon:"delete",if:D.Context.roleIs(["teacher","admin"])||D.Context.User.id===((d=n.video.uploadedBy)==null?void 0:d.id),action:()=>{a.value=!0}}]);function c(){s("updated")}return(h,f)=>{const p=It,v=xc,y=Xe("router-link"),_=Ov,w=g0,x=zd,k=Ree;return b(),$(ue,null,[m("div",{class:Se(["video-card",{"video-card--small":h.small,"video-card--selected":h.selectable&&h.isSelected}])},[E(y,{class:"video-card__preview",to:h.selectable?"":i.value,onClick:f[0]||(f[0]=un(C=>h.selectable&&h.$emit("select"),["prevent"]))},{default:L(()=>{var C;return[h.small?N("",!0):(b(),$("div",Uee,[E(p,{name:"play"})])),m("div",Bee,[E(v,{src:(C=h.video.thumbnail)==null?void 0:C.src},null,8,["src"])]),m("div",jee,H(o.value),1)]}),_:1},8,["to"]),g(D).Context.roleIs(["teacher","admin","mentor"])&&h.showActions?(b(),$("div",zee,[E(_,{items:l},null,8,["items"])])):N("",!0),m("div",Fee,[m("div",Wee,[m("h3",Hee,[E(y,{to:h.selectable?"":i.value,onClick:f[1]||(f[1]=un(C=>h.selectable&&h.$emit("select"),["prevent"]))},{default:L(()=>[W(H(h.video.title),1)]),_:1},8,["to"])])]),m("div",qee,[h.video.uploadedBy?(b(),B(w,{key:0,user:h.video.uploadedBy},{"under-name":L(()=>[m("span",Gee," Опубликовано "+H(g(_n)(h.video.publishedAt,{precision:"day"}).toBeautiful())+" • "+H(g(Nee)(h.video)),1)]),_:1},8,["user"])):N("",!0)])])],2),E(x,{visible:a.value,"onUpdate:visible":f[2]||(f[2]=C=>a.value=C),onConfirm:f[3]||(f[3]=C=>h.$emit("delete-video",h.video.id))},{title:L(()=>[W("Удаление видео")]),text:L(()=>[W(' Вы уверены, что хотите удалить видео "'+H(h.video.title)+'"? ',1)]),_:1},8,["visible"]),E(k,{visible:r.value,"onUpdate:visible":f[4]||(f[4]=C=>r.value=C),video:h.video,onEdited:f[5]||(f[5]=C=>c())},null,8,["visible","video"])],64)}}});const nw=J(Yee,[["__scopeId","data-v-d9219c1a"]]),Kee=t=>(Ie("data-v-e231c45c"),t=t(),Oe(),t),Zee={class:"video-list-view"},Xee={key:0,class:"video-list-view__loading"},Jee={key:1,class:"video-list-view__list"},Qee={key:2,class:"video-list-view__nothing-found"},ete=Kee(()=>m("h4",null,"Видео не найдено",-1)),tte=j({__name:"video-list",props:{videos:{},isLoading:{type:Boolean},small:{type:Boolean},showActions:{type:Boolean},selectable:{type:Boolean},isSelected:{type:Function}},emits:["delete-video","updated","select"],setup(t){return(e,n)=>{var a;const s=Sn,i=nw,o=Gp,r=it("auto-animate");return b(),$("div",Zee,[e.isLoading?(b(),$("div",Xee,[E(s,{contrast:""})])):!e.isLoading&&((a=e.videos)!=null&&a.length)?$e((b(),$("div",Jee,[(b(!0),$(ue,null,Be(e.videos,l=>(b(),$("div",{class:"video-list-view__list__item",key:l.id},[E(i,{video:l,onDeleteVideo:n[0]||(n[0]=c=>e.$emit("delete-video",c)),onUpdated:n[1]||(n[1]=c=>e.$emit("updated")),small:e.small,"show-actions":e.showActions,selectable:e.selectable,"is-selected":e.isSelected?e.isSelected(l):!1,onSelect:c=>e.$emit("select",l)},null,8,["video","small","show-actions","selectable","is-selected","onSelect"])]))),128))])),[[r]]):(b(),$("div",Qee,[E(o),ete]))])}}});const ym=J(tte,[["__scopeId","data-v-e231c45c"]]),nte={key:0,class:"assigned-work-progress"},ste=j({__name:"assigned-work-progress",props:{workId:{},hideNotStarted:{type:Boolean}},setup(t){const e=t,n=Y(!0),s=D.Services.AssignedWork,i=Y(null),o=q(()=>{if(n.value)return{id:"loading",color:"var(--text-light)",text:"Загрузка..."};if(i.value instanceof Error)return{id:"error",color:"var(--danger)",text:"Ошибка загрузки прогресса"};if(i.value===null)return{id:"not-started",color:"var(--text-light)",text:"Работа не начата"};const l=i.value.checkStatus,c=`${(i.value.score/i.value.maxScore*100).toFixed(2)}%`;if(l==="checked-after-deadline"||l==="checked-automatically"||l==="checked-in-deadline")return{id:"checked",color:"var(--success)",text:`Работа проверена, результат: ${c}`};const u=i.value.solveStatus;return u==="in-progress"?{id:"in-progress",color:"var(--warning)",text:"Работа в процессе"}:u==="made-in-deadline"?{id:"made-in-deadline",color:"var(--success)",text:"Работа сдана в дедлайн"}:u==="made-after-deadline"?{id:"made-after-deadline",color:"var(--warning)",text:"Работа сдана после дедлайна"}:{id:"not-started",color:"var(--text-light)",text:"Работа не начата"}}),r=q(()=>!(e.hideNotStarted&&o.value.id==="not-started"));async function a(){n.value=!0;try{const l=await s.getAssignedWorkProgress(e.workId);i.value=l.data}catch(l){i.value=l}finally{n.value=!1}}return ke(()=>e.workId,a,{immediate:!0}),(l,c)=>r.value?(b(),$("div",nte,[m("span",{class:"assigned-work-progress__text",style:Qt({color:o.value.color})},H(o.value.text),5)])):N("",!0)}});const ite=J(ste,[["__scopeId","data-v-d794c3f6"]]);function ote(t){return t.toISOString()}function rte(t){return new Date(t)}function ate(){const t=new Date;return t.setDate(t.getDate()+1),t}function lte(t){const e=new Date;return e.setDate(e.getDate()+t),e}const _a={dateToIsoString:ote,isoStringToDate:rte,tomorrow:ate,inDays:lte},T0=Kt("courses-module:assign-work",()=>{var x;const t=D.Services.UI,e=D.Services.Work,n=D.Services.Course,s=Qd(),i=$n(),{pagination:o,results:r,resultsMeta:a,isListLoading:l}=Ht(y),c=q(()=>i.params.slug),u=Y([(x=s.getMaterialBySlug(c.value))==null?void 0:x.workId]),d=Y(_a.inDays(3)),h=Y(_a.inDays(0)),f=Y(!1);ke(c,()=>{if(D.Context.roleIs(["admin","student","mentor","assistant"]))return;const k=s.getMaterialBySlug(c.value);k&&(u.value=[k.workId],d.value=k.workCheckDeadline||_a.inDays(3),h.value=k.workSolveDeadline||_a.inDays(0),f.value=!!k.workCheckDeadline||!!k.workSolveDeadline)},{immediate:!0});const p=Y(!1),v=Y(!1);async function y(k){if(!D.Context.roleIs(["admin","student","mentor","assistant"]))try{return await e.getWorks(k)}catch(C){t.openErrorModal("Произошла ошибка при загрузке работ",C.message)}}async function _(){if(!D.Context.roleIs(["student","mentor","assistant"])){if(u.value.length!==1||!u.value[0]){t.openWarningModal("Выберите одну работу для добавления");return}try{await n.assignWorkToMaterial(c.value,u.value[0],f.value?{checkDeadline:d.value,solveDeadline:h.value}:{},{showLoader:!0}),t.openSuccessModal("Работа успешно добавлена к материалу"),p.value=!1,await s.fetchCourse()}catch(k){t.openErrorModal("Произошла ошибка при добавлении работы к материалу",k.message)}}}async function w(){var k;if(!D.Context.roleIs(["student","mentor","assistant"])){if(!((k=s.getMaterialBySlug(c.value))!=null&&k.workId)){t.openWarningModal("Материал не содержит работы");return}try{await n.unassignWorkFromMaterial(c.value,{showLoader:!0}),t.openSuccessModal("Работа успешно удалена из материала"),v.value=!1,s.material&&(s.material.work=void 0,s.material.workId=void 0,s.material.workCheckDeadline=null,s.material.workSolveDeadline=null)}catch(C){t.openErrorModal("Произошла ошибка при удалении работы из материала",C.message)}}}return{pagination:o,results:r,resultsMeta:a,isListLoading:l,assign:_,unassign:w,modalVisible:p,unassignModalVisible:v,selectedWorkId:u,checkDeadline:d,solveDeadline:h,deadlinesAvailable:f}}),sw=t=>(Ie("data-v-4a30e520"),t=t(),Oe(),t),cte=sw(()=>m("h3",null,"Открепить работу",-1)),ute={class:"assign-work-to-material-modal"},dte=sw(()=>m("p",null,"Вы уверены, что хотите открепить эту работу?",-1)),hte={key:0},fte=j({__name:"unassign-work-modal",setup(t){const e=T0(),n=Qd();return(s,i)=>{const o=li,r=Xe("router-link"),a=hn;return b(),B(a,{visible:g(e).unassignModalVisible,"onUpdate:visible":i[0]||(i[0]=l=>g(e).unassignModalVisible=l),onConfirm:i[1]||(i[1]=l=>g(e).unassign())},{title:L(()=>[cte]),text:L(()=>{var l,c;return[m("div",ute,[dte,E(o,null,{default:L(()=>[W(" Ученики, которые приступили к выполнению этой работы, все равно смогут продолжить её выполнение ")]),_:1}),g(e).selectedWorkId.length?(b(),$("p",hte,[W(" Сейчас присвоена: "),E(r,{class:"assign-work-to-material-modal__current-work-link",to:`/create-work${(c=(l=g(n).material)==null?void 0:l.work)==null?void 0:c.slug}`},{default:L(()=>{var u,d;return[W(H((d=(u=g(n).material)==null?void 0:u.work)==null?void 0:d.name),1)]}),_:1},8,["to"])])):N("",!0)])]}),_:1},8,["visible"])}}});const pte=J(fte,[["__scopeId","data-v-4a30e520"]]),A0=t=>(Ie("data-v-55cd3345"),t=t(),Oe(),t),mte=A0(()=>m("h3",null,"Присвоить работу",-1)),gte={class:"assign-work-to-material-modal"},_te={key:0},vte={class:"assign-work-to-material-modal__search"},yte=A0(()=>m("br",null,null,-1)),bte={class:"assign-work-to-material-modal__list"},wte={class:"assign-work-to-material-modal__deadline-toggle"},xte={key:1,class:"assign-work-to-material-modal__deadlines"},Ste=A0(()=>m("br",null,null,-1)),kte=j({__name:"assign-work-modal",setup(t){const e=T0(),n=Qd();return(s,i)=>{const o=Xe("router-link"),r=kn,a=Wa,l=bn,c=Ai,u=zt,d=li,h=hn,f=it("auto-animate");return b(),B(h,{visible:g(e).modalVisible,"onUpdate:visible":i[6]||(i[6]=p=>g(e).modalVisible=p),onConfirm:i[7]||(i[7]=p=>g(e).assign())},{title:L(()=>[mte]),text:L(()=>{var p,v;return[$e((b(),$("div",gte,[g(e).selectedWorkId.length?(b(),$("p",_te,[W(" Сейчас присвоена: "),E(o,{class:"assign-work-to-material-modal__current-work-link",to:`/create-work${(v=(p=g(n).material)==null?void 0:p.work)==null?void 0:v.slug}`},{default:L(()=>{var y,_;return[W(H((_=(y=g(n).material)==null?void 0:y.work)==null?void 0:_.name),1)]}),_:1},8,["to"])])):N("",!0),m("div",vte,[E(r,{modelValue:g(e).pagination.search,"onUpdate:modelValue":i[0]||(i[0]=y=>g(e).pagination.search=y),"is-loading":g(e).isListLoading},null,8,["modelValue","is-loading"])]),yte,m("div",bte,[E(a,{modelValue:g(e).selectedWorkId,"onUpdate:modelValue":i[1]||(i[1]=y=>g(e).selectedWorkId=y),items:g(e).results,"item-label-key":"subject.name,name","item-key":"id"},null,8,["modelValue","items"]),g(e).pagination.page&&g(e).pagination.limit?(b(),B(l,{key:0,page:g(e).pagination.page,"onUpdate:page":i[2]||(i[2]=y=>g(e).pagination.page=y),limit:g(e).pagination.limit,total:g(e).resultsMeta.total},null,8,["page","limit","total"])):N("",!0)]),m("div",wte,[E(c,{type:"datetime-local",modelValue:g(e).deadlinesAvailable,"onUpdate:modelValue":i[3]||(i[3]=y=>g(e).deadlinesAvailable=y),label:"Установить дедлайны"},null,8,["modelValue"])]),g(e).deadlinesAvailable?(b(),$("div",xte,[E(u,{type:"date",modelValue:g(e).solveDeadline,"onUpdate:modelValue":i[4]||(i[4]=y=>g(e).solveDeadline=y),label:"Дедлайн решения"},null,8,["modelValue"]),E(u,{type:"date",modelValue:g(e).checkDeadline,"onUpdate:modelValue":i[5]||(i[5]=y=>g(e).checkDeadline=y),label:"Дедлайн проверки"},null,8,["modelValue"])])):N("",!0),Ste,g(e).deadlinesAvailable?(b(),B(d,{key:2},{default:L(()=>[W(" Время и дата указываются в МСК ")]),_:1})):N("",!0)])),[[f]])]}),_:1},8,["visible"])}}});const $te=J(kte,[["__scopeId","data-v-55cd3345"]]),nh=t=>(Ie("data-v-3be301f5"),t=t(),Oe(),t),Cte={key:0,class:"material-view"},Ete={class:"material-view__header"},Tte={class:"material-view__header__title"},Ate={key:0,class:"material-view__change-assigned-work"},Mte={key:0},Ite=nh(()=>m("br",null,null,-1)),Ote={key:0},Dte={key:1},Lte=nh(()=>m("br",null,null,-1)),Pte={key:1},Rte={class:"material-view__change-assigned-work__actions"},Vte={key:1,class:"material-view__assigned-work"},Nte={key:0,class:"material-view__assigned-work__link"},Ute={class:"material-view__assigned-work__progress"},Bte={key:2,class:"material-view__description"},jte=["innerHTML"],zte={class:"material-view__content"},Fte={key:3,class:"material-view__video"},Wte={class:"material-view__videos"},Hte={key:4,class:"material-view__reactions"},qte=nh(()=>m("p",{class:"material-view__reactions__hint"},[W(" ✅ - тема пройдена, 🤔 - стоит вернуться "),m("br"),W(" Эти реакции видны только вам. Они помогают Вам понять, что вы уже прошли, а к чему еще стоит вернуться. ")],-1)),Gte={key:5,class:"material-view__poll"},Yte=nh(()=>m("h3",null,"К этому материалу прикреплен опрос",-1)),Kte={key:0},Zte=nh(()=>m("br",null,null,-1)),Xte={key:6,class:"material-view__files"},Jte={key:1,class:"no-material-selected"},Qte=j({__name:"material-view",setup(t){const e=Qd(),n=T0();return(s,i)=>{var p;const o=Xe("router-link"),r=xt,a=ite,l=ho,c=d5,u=ym,d=uJ,h=C9,f=it("auto-animate");return b(),$(ue,null,[g(e).material?$e((b(),$("div",Cte,[m("div",Ete,[m("div",Tte,[m("h1",null,H(g(e).material.name),1)])]),g(D).Context.roleIs(["teacher","admin"])?(b(),$("div",Ate,[g(e).material.work?(b(),$("p",Mte,[W(" Присвоенная работа: "),E(o,{to:`/create-work${g(e).material.work.slug}`},{default:L(()=>[W(H(g(e).material.work.name),1)]),_:1},8,["to"]),Ite,g(e).material.workSolveDeadline?(b(),$("span",Ote,[W(" Дедлайн сдачи: "),m("b",null,H(g(_n)(g(e).material.workSolveDeadline,{precision:"day"}).toBeautiful()),1)])):N("",!0),g(e).material.workCheckDeadline?(b(),$("span",Dte,[Lte,W(" Дедлайн проверки: "),m("b",null,H(g(_n)(g(e).material.workCheckDeadline,{precision:"day"}).toBeautiful()),1)])):N("",!0)])):(b(),$("p",Pte,"Работа не присвоена")),m("div",Rte,[E(r,{onClick:i[0]||(i[0]=v=>g(n).modalVisible=!0)},{default:L(()=>[W(H(g(e).material.work?"Поменять работу":"Присвоить работу"),1)]),_:1}),g(e).material.work?(b(),B(r,{key:0,onClick:i[1]||(i[1]=v=>g(n).unassignModalVisible=!0),design:"secondary"},{default:L(()=>[W(" Открепить работу ")]),_:1})):N("",!0)])])):N("",!0),g(e).material.workId&&g(D).Context.roleIs(["student"])?(b(),$("div",Vte,[g(e).material.isWorkAvailable?(b(),$("div",Nte,[E(r,{onClick:i[2]||(i[2]=v=>g(e).assignMeWork())},{default:L(()=>[W(" К работе ")]),_:1})])):N("",!0),m("div",Ute,[E(a,{workId:g(e).material.workId,"hide-not-started":!g(e).material.isWorkAvailable},null,8,["workId","hide-not-started"])])])):N("",!0),g(e).material.description?(b(),$("div",Bte,[m("div",{innerHTML:g(e).material.description},null,8,jte)])):N("",!0),m("div",zte,[E(l,{content:g(e).material.content},null,8,["content"])]),(p=g(e).material.videos)!=null&&p.length?(b(),$("div",Fte,[m("h3",null,[W("К этому материалу прикреплены видео на НОО.Tube "),E(c)]),m("div",Wte,[E(u,{videos:g(e).material.videos},null,8,["videos"])])])):N("",!0),g(D).Context.roleIs(["student"])?(b(),$("div",Hte,[E(d,{reactions:{check:0,thinking:0},loading:g(e).reactionLoading,"my-reaction":g(e).material.myReaction,onReact:i[3]||(i[3]=v=>g(e).reactToMaterial(g(e).material.id,v)),"hide-numbers":""},null,8,["loading","my-reaction"]),qte])):N("",!0),g(e).material.pollId?(b(),$("div",Gte,[Yte,g(e).material.poll?(b(),$("p",Kte,[W(H(g(e).material.poll.title)+" ",1),Zte,W(" "+H(g(e).material.poll.description),1)])):N("",!0),E(r,{design:"primary",to:`/polls/${g(e).material.pollId}`},{default:L(()=>[W(" Пройти опрос ")]),_:1},8,["to"])])):N("",!0),g(e).material.files.length?(b(),$("div",Xte,[E(h,{files:g(e).material.files,label:"Файлы курса",actions:["download"]},null,8,["files"])])):N("",!0)])),[[f]]):(b(),$("p",Jte," Выберите материал из списка ")),E($te),E(pte)],64)}}});const ene=J(Qte,[["__scopeId","data-v-3be301f5"]]),tne={path:"/courses",name:"Мои курсы",component:cZ,children:[{path:"",name:"Мои курсы",component:GX},{path:":courseSlug",name:"Курс",component:qZ,children:[{path:":slug?",name:"Просмотр курса",component:ene}]}]},nne={name:"courses",router:tne},sne={},ine={class:"module-wrapper"};function one(t,e){const n=Xe("router-view");return b(),$("div",ine,[E(n)])}const rne=J(sne,[["render",one]]),iw=j({__name:"subject-select",props:{label:{},modelValue:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=e,i=D.Services.Subject,o=D.Services.UI;async function r(l){try{return i.getSubjects(l)}catch(c){o.openErrorModal("Произошла ошибка при загрузке предметов",c.message)}}const a=q({get:()=>n.modelValue?[n.modelValue]:[],set:l=>{l.length===0&&s("update:modelValue",null),s("update:modelValue",l[0])}});return(l,c)=>{const u=$c;return b(),B(u,{label:l.label,"fetch-function":r,"label-keys":["name"],"max-count":1,modelValue:a.value,"onUpdate:modelValue":c[0]||(c[0]=d=>a.value=d)},null,8,["label","modelValue"])}}}),ane=j({__name:"users-select",props:{label:{},modelValue:{},role:{},maxCount:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=e,i=D.Services.User,o=D.Services.UI;async function r(l){try{switch(n.role){case"teacher":return i.getTeachers(l);case"mentor":return i.getMentors(l);case"student":return i.getStudents(l);default:return i.getUsers(l)}}catch(c){o.openErrorModal("Произошла ошибка при загрузке пользователей",c.message)}}const a=q({get:()=>n.modelValue,set:l=>s("update:modelValue",l)});return(l,c)=>{const u=$c;return b(),B(u,{label:l.label,"fetch-function":r,"label-keys":["name","username"],"max-count":l.maxCount,modelValue:a.value,"onUpdate:modelValue":c[0]||(c[0]=d=>a.value=d)},null,8,["label","max-count","modelValue"])}}});function Do(t,e){var n;for(const s of t){if(s.slug===e)return s;if((n=s.chapters)!=null&&n.length){const i=Do(s.chapters,e);if(i)return i}}}function I_(t,e){var n,s;for(const i of t){if((n=i.chapters)!=null&&n.find(o=>o.slug===e))return i;if((s=i.chapters)!=null&&s.length){const o=I_(i.chapters,e);if(o)return o}}}const Fl=Kt("create-course-module:create-course",()=>{const t=D.Services.Course,e=D.Services.User,n=D.Services.UI,s=$n(),i=Ws(),o=hm(),r=()=>({name:"",description:"",chapters:[],images:[],authors:[],editors:[],subject:null}),a=Y(r()),l=Y(""),c=Y(!1);async function u(){if(!s.params.courseSlug){a.value=r();return}try{const S=await t.getCourse(s.params.courseSlug,{showLoader:!0});if(!(S!=null&&S.data)){n.openErrorModal("Курс не найден");return}a.value=S.data}catch(S){a.value=r(),n.openErrorModal("Произошла ошибка при загрузке курса",S.message)}}function d(){if(!l.value.trim()){n.openWarningModal("У главы должно быть название");return}a.value.chapters.push({name:l.value,slug:Ci(),materials:[]}),l.value=""}function h(S,A){const O=Do(a.value.chapters,S);O&&(O.name=A)}function f(S,A){var M;const O=Do(a.value.chapters,S);if(O)return A==="new"?p():(M=O==null?void 0:O.materials)==null?void 0:M.find(V=>V.slug===A)}function p(S){return{name:S||"Новый материал",isPinned:!1,titleColor:void 0,slug:Ci(),description:"",files:[],content:{ops:[{insert:`
`}]},order:0,isActive:!0,activateAt:null,isWorkAvailable:!0,workSolveDeadline:null,workCheckDeadline:null,videos:[]}}function v(S){var A;S||(S=Do(a.value.chapters,s.params.chapterSlug)),S&&S.materials.push(p(`Новый материал ${((A=S.materials)==null?void 0:A.length)||0}`))}function y(S){var O,M;const A=(O=a.value.chapters)==null?void 0:O.findIndex(V=>V.slug===S);A!==void 0&&((M=a.value.chapters)==null||M.splice(A,1))}function _(S){var M,V,R;const A=(M=a.value.chapters)==null?void 0:M.findIndex(X=>X.slug===s.params.chapterSlug);if(A===void 0)return;const O=(V=a.value.chapters[A].materials)==null?void 0:V.findIndex(X=>X.slug===S);O!==void 0&&((R=a.value.chapters[A].materials)==null||R.splice(O,1))}async function w(){var S,A,O;if(!a.value.name.trim()){n.openWarningModal("У курса должно быть название");return}if(!a.value.subject){n.openWarningModal("У курса должен быть предмет");return}if(!((S=a.value.chapters)!=null&&S.length)){n.openWarningModal("Курс должен иметь хотя бы одну главу");return}for(const M of a.value.chapters){if(!M.name.trim()){n.openWarningModal("У главы должно быть название");return}if(!((A=M.materials)!=null&&A.length)&&!((O=M.chapters)!=null&&O.length)){n.openWarningModal("Глава должна иметь хотя бы один материал или подглаву");return}for(const V of M.materials){if(!V.name.trim()){n.openWarningModal("У материала должно быть название");return}if(!V.content.ops.length){n.openWarningModal("Материал не должен быть пустым");return}}}if(x(a.value.chapters),s.params.courseSlug)try{await t.updateCourse(a.value.id,a.value,{showLoader:!0}),n.openSuccessModal("Курс успешно обновлен","",[{label:"Вернуться к списку курсов",design:"primary",handler:()=>{o.allSearch.trigger(),o.ownSearch.trigger(),i.push("/courses")}}])}catch(M){n.openErrorModal("Произошла ошибка при обновлении курса",M.message)}else try{await t.createCourse(a.value,{showLoader:!0}),n.openSuccessModal("Курс успешно создан","",[{label:"Вернуться к списку курсов",design:"primary",handler:()=>{o.allSearch.trigger(),o.ownSearch.trigger(),i.push("/courses")}}])}catch(M){n.openErrorModal("Произошла ошибка при создании курса",M.message)}}function x(S){return S.forEach((A,O)=>{var M;A.order=O+1,(M=A.materials)==null||M.forEach((V,R)=>{V.order=R+1}),A.chapters&&(A.chapters=x(A.chapters))}),S}async function k(){if(!c.value){c.value=!0;return}try{await t.deleteCourse(a.value.id,{showLoader:!0}),n.openSuccessModal("Курс успешно удален","",[{label:"Вернуться к списку курсов",design:"primary",handler:()=>{o.allSearch.trigger(),o.ownSearch.trigger(),i.push("/courses")}}])}catch{n.openErrorModal("Произошла ошибка при удалении курса","Для удаления курса необходимо сначала убрать всех учеников")}finally{c.value=!1}}async function C(S){try{return await e.getTeachers(S)}catch{n.openErrorModal("Произошла ошибка при загрузке учителей")}}return{course:a,addChapter:d,changeChapterName:h,publishCourse:w,removeCourse:k,newChapterName:l,emptyMaterial:p,getMaterial:f,removeChapter:y,removeMaterial:_,addMaterial:v,removeCourseModalVisible:c,fetchCourse:u,fetchTeachers:C}}),lne={class:"general-info-view"},cne=m("h3",{class:"general-info-view__title"},"Общая информация о курсе",-1),une={class:"form-group"},dne={class:"row"},hne={class:"col-md-12"},fne={class:"form-group"},pne={class:"col-md-12"},mne={class:"form-group"},gne={class:"col-md-12"},_ne={class:"form-group"},vne={class:"form-group"},yne={class:"form-group"},bne=j({__name:"general-info-view",setup(t){const e=Fl();return(n,s)=>{const i=zt,o=ane,r=iw,a=vm,l=sr;return b(),$("div",lne,[cne,m("div",une,[E(i,{modelValue:g(e).course.name,"onUpdate:modelValue":s[0]||(s[0]=c=>g(e).course.name=c),label:"Название курса",type:"text"},null,8,["modelValue"])]),m("div",dne,[m("div",hne,[m("div",fne,[E(o,{label:"Автор(ы) курса (до 10)",modelValue:g(e).course.authors,"onUpdate:modelValue":s[1]||(s[1]=c=>g(e).course.authors=c),role:"teacher","max-count":10},null,8,["modelValue"])])]),m("div",pne,[m("div",mne,[E(o,{label:"Редакторы курса(ы) курса (до 10)",modelValue:g(e).course.editors,"onUpdate:modelValue":s[2]||(s[2]=c=>g(e).course.editors=c),role:"teacher","max-count":10},null,8,["modelValue"])])]),m("div",gne,[m("div",_ne,[E(r,{label:"Предмет",modelValue:g(e).course.subject,"onUpdate:modelValue":s[3]||(s[3]=c=>g(e).course.subject=c)},null,8,["modelValue"])])])]),m("div",vne,[E(a,{label:"Картинка курса","max-count":1,"allowed-mime-types":["image/jpeg","image/png"],modelValue:g(e).course.images,"onUpdate:modelValue":s[4]||(s[4]=c=>g(e).course.images=c)},null,8,["modelValue"])]),m("div",yne,[E(l,{label:"Описание курса",modelValue:g(e).course.description,"onUpdate:modelValue":s[5]||(s[5]=c=>g(e).course.description=c)},null,8,["modelValue"])])])}}}),ow=t=>(Ie("data-v-a140082f"),t=t(),Oe(),t),wne={class:"chapter-tree__item"},xne={class:"chapter-tree__item__title"},Sne={class:"chapter-tree__item__title__text"},kne=ow(()=>m("span",{class:"chapter-tree__item__title__dragger handle-chapters"}," :: ",-1)),$ne={class:"chapter-tree__item__title__actions"},Cne={class:"chapter-tree__item__title__is-active",title:"Активировать/деактивировать главу"},Ene=["onClick"],Tne=["onClick"],Ane={class:"chapter-tree__item__title__remove",title:"Удалить главу"},Mne={key:0,class:"chapter-tree__item__chapters"},Ine={class:"chapter-tree__item__materials"},One={class:"chapter-tree__item__materials__item"},Dne=ow(()=>m("span",{class:"chapter-tree__item__materials__item__dragger handle-materials"}," :: ",-1)),Lne={class:"chapter-tree__item__materials__item__title"},Pne={class:"chapter-tree__item__materials__item__is-active"},Rne={class:"chapter-tree__item__materials__item__remove"},Vne={key:0},Nne=["onClick"],Une={class:"chapter-tree__item__materials__add"},Bne=["onClick"],jne={class:"chapter-tree__item__materials__add"},zne={key:0,class:"chapter-tree__add-chapter"},Fne={class:"sure-modal-container"},Wne=j({__name:"chapter-tree",props:{allChapters:{},chapters:{},courseSlug:{},nestingLevel:{}},emits:["update:chapters"],setup(t,{emit:e}){const n=t,s=e,i=q({get:()=>n.chapters,set:y=>s("update:chapters",y)}),o=Gt({visible:!1,title:"",text:"",input:"",colorInput:!1,color:null,pinnedInput:!1,isPinned:!1,inputLabel:"",action:()=>{}});function r(y,_){const w=Do(n.chapters,y);o.title="Изменение названия главы",o.text="",o.inputLabel="Введите новое название главы",o.input=_,o.colorInput=!0,o.color=(w==null?void 0:w.titleColor)??null,o.pinnedInput=!0,o.isPinned=(w==null?void 0:w.isPinned)??!1,o.visible=!0,o.action=()=>{o.input&&h(y,o.input,o.color,o.isPinned)}}function a(y){o.title="Удаление главы",o.text="Вы уверены, что хотите удалить главу?",o.visible=!0,o.inputLabel="",o.colorInput=!1,o.pinnedInput=!1,o.action=()=>{d(y)}}function l(y,_){o.title="Удаление материала",o.text="Вы уверены, что хотите удалить материал?",o.visible=!0,o.inputLabel="",o.colorInput=!1,o.pinnedInput=!1,o.action=()=>{f(y,_)}}function c(y){y.isActive=!y.isActive;for(const _ of y.materials||[])_.isActive=y.isActive}function u(y){var x,k;const _=gn("chapter");_.name=`${y.name} (копия)`,_.isActive=y.isActive,_.order=y.order,_.materials=(x=y.materials)==null?void 0:x.map(C=>{const S=gn("material");return S.name=`${C.name} (копия)`,S.isActive=C.isActive,S.order=C.order,S.content=C.content,S.description=C.description,S}),_.chapters=(k=y.chapters)==null?void 0:k.map(C=>{const S=gn("chapter");return S.name=`${C.name} (копия)`,S.isActive=C.isActive,S});const w=I_(n.allChapters,y.slug);w?w.chapters=[...w.chapters||[],_]:i.value=[...n.chapters,_]}function d(y){var w;const _=I_(n.allChapters,y);_?_.chapters=(w=_.chapters)==null?void 0:w.filter(x=>x.slug!==y):i.value=n.chapters.filter(x=>x.slug!==y)}function h(y,_,w,x){const k=Do(n.chapters,y);k&&(k.name=_,k.titleColor=w,k.isPinned=x)}function f(y,_){var x;const w=Do(n.chapters,y);w&&(w.materials=(x=w.materials)==null?void 0:x.filter(k=>k.slug!==_))}function p(y){const _=gn("material");_.name="Новый материал";const w=Do(n.chapters,y);w&&(w.materials=[...w.materials||[],_])}function v(y){const _=gn("chapter");if(_.name="Новая глава",y){const w=Do(n.chapters,y);w&&(w.chapters=[...w.chapters||[],_])}else i.value=[...n.chapters,_]}return(y,_)=>{const w=It,x=Xe("chapter-tree",!0),k=Xe("router-link"),C=_m,S=xt,A=zt,O=us,M=Ai,V=hn;return b(),$(ue,null,[E(C,{modelValue:i.value,"onUpdate:modelValue":_[0]||(_[0]=R=>i.value=R),"item-key":"slug",handle:".handle-chapters",group:"chapters"},{default:L(R=>{var X;return[m("div",wne,[m("div",xne,[m("span",Sne,[kne,W("   "),m("b",{style:Qt({color:R.item.titleColor})},[R.item.isPinned?(b(),B(w,{key:0,class:"chapter-tree__item__title__pin",name:"pin"})):N("",!0),W(" "+H(R.item.name),1)],4)]),m("div",$ne,[m("div",Cne,[(b(),B(w,{key:R.item.isActive,name:R.item.isActive?"check-green":"cross-red",title:R.item.isActive?"Глава активна":"Глава не активна",onClick:P=>c(R.item)},null,8,["name","title","onClick"]))]),m("div",{class:"chapter-tree__item__title__edit",onClick:P=>u(R.item),title:"Копировать главу"},[E(w,{name:"copy"})],8,Ene),m("div",{class:"chapter-tree__item__title__edit",onClick:P=>r(R.item.slug,R.item.name),title:"Изменить название главы"},[E(w,{name:"edit"})],8,Tne),m("span",Ane,[E(w,{name:"delete",onClick:P=>a(R.item.slug)},null,8,["onClick"])])])]),(X=R.item.chapters)!=null&&X.length?(b(),$("div",Mne,[E(x,{"all-chapters":n.allChapters,chapters:R.item.chapters,"onUpdate:chapters":P=>R.item.chapters=P,"course-slug":y.courseSlug,"nesting-level":(n.nestingLevel||0)+1},null,8,["all-chapters","chapters","onUpdate:chapters","course-slug","nesting-level"])])):N("",!0),m("ul",Ine,[E(C,{modelValue:R.item.materials,"onUpdate:modelValue":P=>R.item.materials=P,"item-key":"slug",handle:".handle-materials",group:"materials"},{default:L(({item:P})=>[m("li",One,[Dne,m("div",Lne,[E(k,{to:`/create-course${y.courseSlug||""}/${R.item.slug}--${P.slug}`},{default:L(()=>[W(H(P.name),1)]),_:2},1032,["to"])]),m("span",Pne,[(b(),B(w,{key:P.isActive,name:P.isActive?"check-green":"cross-red",title:P.isActive?"Материал активен":"Материал не активен",onClick:F=>P.isActive=!P.isActive},null,8,["name","title","onClick"]))]),m("span",Rne,[E(w,{name:"delete",onClick:F=>l(R.item.slug,P.slug),title:"Удалить материал"},null,8,["onClick"])])])]),_:2},1032,["modelValue","onUpdate:modelValue"]),y.nestingLevel?N("",!0):(b(),$("li",Vne,[m("span",{onClick:P=>v(R.item.slug)},[m("span",Une,[E(w,{name:"add"}),W(" Добавить главу ")])],8,Nne)])),m("li",null,[m("span",{onClick:P=>p(R.item.slug)},[m("span",jne,[E(w,{name:"add"}),W(" Добавить материал ")])],8,Bne)])])])]}),_:1},8,["modelValue"]),n.nestingLevel?N("",!0):(b(),$("div",zne,[E(S,{design:"inline",alignment:"stretch",onClick:_[1]||(_[1]=R=>v())},{default:L(()=>[W(" Добавить главу ")]),_:1})])),E(V,{visible:o.visible,"onUpdate:visible":_[5]||(_[5]=R=>o.visible=R),onConfirm:o.action},{title:L(()=>[W(H(o.title),1)]),text:L(()=>[m("div",Fne,[m("p",null,H(o.text),1),o.inputLabel?(b(),B(A,{key:0,modelValue:o.input,"onUpdate:modelValue":_[2]||(_[2]=R=>o.input=R),type:"text",label:o.inputLabel},null,8,["modelValue","label"])):N("",!0),o.colorInput?(b(),B(O,{key:1,type:"color",modelValue:o.color,"onUpdate:modelValue":_[3]||(_[3]=R=>o.color=R),label:"Цвет заголовка",options:[{label:"Без цвета",value:null},{label:"Основной зеленый",value:"var(--primary)"},{label:"Основной фиолетовый",value:"var(--lila)"},{label:"Красный",value:"var(--danger)"},{label:"Желтый",value:"var(--warning)"}]},null,8,["modelValue"])):N("",!0),E(M,{modelValue:o.isPinned,"onUpdate:modelValue":_[4]||(_[4]=R=>o.isPinned=R),label:"Закрепить главу"},null,8,["modelValue"])])]),_:1},8,["visible","onConfirm"])],64)}}});const Hne=J(Wne,[["__scopeId","data-v-a140082f"]]),qne=[{keys:["Ctrl","Enter"],description:"Сохранить",shortcut:["Ctrl","Enter"],handler:()=>{Fl().publishCourse()}},{keys:["Ctrl","l"],description:"Добавить главу",shortcut:["Ctrl","l"],handler:()=>{const t=Fl();t.newChapterName="Новая глава",t.addChapter()}},{keys:["Ctrl","u"],description:"Добавить материал",shortcut:["Ctrl","u"],handler:()=>{Fl().addMaterial()}}],M0=t=>(Ie("data-v-4e20ab4d"),t=t(),Oe(),t),Gne={class:"index-create-course-view"},Yne={class:"index-create-course-view__sidebar"},Kne={class:"index-create-course-view__sidebar__back-button"},Zne={key:0,class:"index-create-course-view__sidebar__general-view-link"},Xne=M0(()=>m("h3",{class:"index-create-course-view__sidebar__title"},"Главы",-1)),Jne={key:1,class:"index-create-course-view__sidebar__chapters"},Qne={class:"index-create-course-view__sidebar__buttons"},ese={class:"index-create-course-view__sidebar__buttons__publish"},tse={class:"index-create-course-view__sidebar__buttons__delete"},nse={class:"index-create-course-view__content"},sse=M0(()=>m("h3",null,"Вы уверены, что хотите удалить курс?",-1)),ise=M0(()=>m("p",null,"Все данные курса будут удалены безвозвратно",-1)),ose=j({__name:"index-view",setup(t){const e=Fl();e.fetchCourse(),ys("Создание/редактирование курса");const n=d0(qne);return Zo(()=>n()),(s,i)=>{const o=Jd,r=Xe("router-link"),a=xt,l=Xe("router-view"),c=fo,u=hn;return b(),$(ue,null,[m("div",Gne,[E(c,null,{sidebar:L(()=>[m("div",Yne,[m("div",Kne,[E(o,{to:"/courses"},{default:L(()=>[W("Назад к курсам")]),_:1})]),g(e).course?(b(),$("div",Zne,[E(r,{to:`/create-course${g(e).course.slug||""}/general`},{default:L(()=>[W(" Общая информация ")]),_:1},8,["to"])])):N("",!0),Xne,g(e).course.chapters?(b(),$("div",Jne,[E(Hne,{chapters:g(e).course.chapters,"onUpdate:chapters":i[0]||(i[0]=d=>g(e).course.chapters=d),"all-chapters":g(e).course.chapters,"course-slug":s.$route.params.courseSlug},null,8,["chapters","all-chapters","course-slug"])])):N("",!0),m("div",Qne,[m("div",ese,[E(a,{design:"primary",alignment:"stretch",onClick:i[1]||(i[1]=d=>g(e).publishCourse())},{default:L(()=>[W(H(s.$route.params.courseSlug?"Обновить":"Опубликовать"),1)]),_:1})]),m("div",tse,[s.$route.params.courseSlug?(b(),B(a,{key:0,design:"danger",alignment:"center",onClick:i[2]||(i[2]=d=>g(e).removeCourse())},{default:L(()=>[W(" Удалить курс ")]),_:1})):N("",!0)])])])]),content:L(()=>[m("div",nse,[(b(),B(l,{key:s.$route.fullPath}))])]),_:1})]),E(u,{visible:g(e).removeCourseModalVisible,"onUpdate:visible":i[3]||(i[3]=d=>g(e).removeCourseModalVisible=d),onConfirm:i[4]||(i[4]=d=>g(e).removeCourse())},{title:L(()=>[sse]),text:L(()=>[ise]),_:1},8,["visible"])],64)}}});const rse=J(ose,[["__scopeId","data-v-4e20ab4d"]]),ase={class:"nootube-select-input"},lse={class:"nootube-select-input__selected-list"},cse={key:0,class:"nootube-select-input__selected-list__empty"},use={class:"nootube-select-input__selected-list__item"},dse={class:"nootube-select-input__actions"},hse={class:"nootube-select-input__modal"},fse={class:"nootube-select-input__modal__search"},pse={class:"nootube-select-input__modal__results"},mse={class:"nootube-select-input__modal__pagination"},gse=j({__name:"nootube-select-input",props:{maxCount:{},modelValue:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=e,i=D.Services.Video,o=q({get:()=>n.modelValue,set:f=>s("update:modelValue",f)}),r=Y(!1),a=Ht(h,{immediate:!1});function l(){r.value=!0,a.trigger()}function c(){o.value=[]}function u(f){if(o.value.length>=n.maxCount)return;o.value.some(v=>v.id===f.id)?d(f.id):o.value=[...o.value,f]}function d(f){o.value=o.value.filter(p=>p.id!==f)}async function h(f){try{return await i.getVideos(f)}catch{return}}return(f,p)=>{const v=nw,y=_m,_=xt,w=kn,x=ym,k=bn,C=hn;return b(),$(ue,null,[m("div",ase,[m("div",lse,[o.value.length?N("",!0):(b(),$("p",cse," Нет выбранных видео ")),E(y,{modelValue:o.value,"onUpdate:modelValue":p[0]||(p[0]=S=>o.value=S),"item-key":"id"},{default:L(({item:S})=>[m("div",use,[E(v,{video:S,small:"",selectable:"","is-selected":"",onSelect:A=>d(S.id)},null,8,["video","onSelect"])])]),_:1},8,["modelValue"])]),m("div",dse,[E(_,{design:"secondary",alignment:"left",onClick:p[1]||(p[1]=S=>c())},{default:L(()=>[W(" Удалить все ")]),_:1}),E(_,{design:"primary",alignment:"left",onClick:p[2]||(p[2]=S=>l())},{default:L(()=>[W(H(o.value.length?"Добавить еще":"Добавить видео"),1)]),_:1})])]),E(C,{visible:r.value,"onUpdate:visible":p[6]||(p[6]=S=>r.value=S)},{title:L(()=>[W("Выберите видео")]),text:L(()=>[m("div",hse,[m("div",fse,[E(w,{modelValue:g(a).pagination.value.search,"onUpdate:modelValue":p[3]||(p[3]=S=>g(a).pagination.value.search=S),"is-loading":g(a).isListLoading.value},null,8,["modelValue","is-loading"])]),m("div",pse,[E(x,{videos:g(a).results.value,"is-loading":g(a).isListLoading.value,"is-selected":S=>o.value.some(A=>A.id===S.id),onSelect:p[4]||(p[4]=S=>u(S)),small:"",selectable:""},null,8,["videos","is-loading","is-selected"])]),m("div",mse,[E(k,{page:g(a).pagination.value.page,"onUpdate:page":p[5]||(p[5]=S=>g(a).pagination.value.page=S),total:g(a).resultsMeta.value.total,limit:g(a).pagination.value.limit},null,8,["page","total","limit"])])])]),_:1},8,["visible"])],64)}}});const _se=J(gse,[["__scopeId","data-v-16c2530b"]]),rw=j({__name:"work-select",props:{label:{},modelValue:{},subjectId:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=e,i=D.Services.Work,o=D.Services.UI;async function r(l){try{return n.subjectId&&(l={...l,"filter[subjectId]":{type:"string",value:n.subjectId}}),i.getWorks(l)}catch(c){o.openErrorModal("Произошла ошибка при загрузке пользователей",c.message)}}const a=q({get:()=>n.modelValue?[n.modelValue]:[],set:l=>{l.length===0&&s("update:modelValue",null),s("update:modelValue",l[0])}});return(l,c)=>{const u=$c;return b(),B(u,{label:l.label,"fetch-function":r,"label-keys":["subject.name","name"],"max-count":1,modelValue:a.value,"onUpdate:modelValue":c[0]||(c[0]=d=>a.value=d)},null,8,["label","modelValue"])}}}),vse=j({__name:"poll-select",props:{label:{},modelValue:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=e,i=D.Services.Poll,o=D.Services.UI;async function r(l){try{return i.getPolls(l)}catch(c){o.openErrorModal("Произошла ошибка при загрузке опросов",c.message)}}const a=q({get:()=>n.modelValue?[n.modelValue]:[],set:l=>{l.length===0&&s("update:modelValue",null),s("update:modelValue",l[0])}});return(l,c)=>{const u=$c;return b(),B(u,{label:l.label,"fetch-function":r,"label-keys":["title"],"max-count":1,modelValue:a.value,"onUpdate:modelValue":c[0]||(c[0]=d=>a.value=d)},null,8,["label","modelValue"])}}}),aw=t=>(Ie("data-v-889dccd4"),t=t(),Oe(),t),yse={class:"material-form"},bse={class:"material-form__title"},wse={class:"form-group"},xse={class:"row"},Sse={class:"col-md-6"},kse={class:"form-group"},$se={class:"col-md-6"},Cse={class:"form-group dimmed-checkbox checkbox-centered"},Ese={class:"form-group"},Tse={class:"form-group"},Ase={class:"form-group"},Mse={class:"row"},Ise={class:"col-md-6"},Ose={class:"form-group dimmed-checkbox"},Dse={class:"col-md-6"},Lse={class:"form-group dimmed-checkbox"},Pse={class:"form-group"},Rse={key:0,class:"form-group"},Vse=aw(()=>m("h3",null,"Прикрепить работу",-1)),Nse={class:"form-group"},Use={class:"row"},Bse={class:"col-md-6"},jse={class:"form-group dimmed-checkbox"},zse={class:"col-md-6"},Fse={class:"form-group dimmed-checkbox"},Wse={key:0,class:"row"},Hse={class:"col-lg-6"},qse={class:"form-group"},Gse={class:"col-lg-6"},Yse={class:"form-group"},Kse={key:1,class:"form-group subejct-not-selected"},Zse={class:"form-group"},Xse=aw(()=>m("br",null,null,-1)),Jse=j({__name:"material-form",props:{modelValue:{},subjectId:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=e,i=q({get:()=>n.modelValue,set:l=>s("update:modelValue",l)}),o=q({get:()=>!!i.value.activateAt,set:l=>{l?i.value.activateAt||(i.value.activateAt=_a.tomorrow(),i.value.isActive=!1):i.value.activateAt=null}}),r=Y(!1);ke(r,a),(i.value.workCheckDeadline||i.value.workSolveDeadline)&&(r.value=!0);function a(l){l?!i.value.workCheckDeadline&&!i.value.workSolveDeadline&&(i.value.workSolveDeadline=_a.inDays(3),i.value.workCheckDeadline=_a.inDays(7)):(i.value.workSolveDeadline=null,i.value.workCheckDeadline=null)}return(l,c)=>{const u=zt,d=us,h=Ai,f=sr,p=nr,v=vse,y=vm,_=rw,w=li,x=h5,k=_se,C=it("auto-animate");return b(),$("div",yse,[m("div",bse,[m("h3",{style:Qt({color:i.value.titleColor??"var(--form-text-color)"})},H(i.value.name),5)]),m("div",wse,[E(u,{type:"text",modelValue:i.value.name,"onUpdate:modelValue":c[0]||(c[0]=S=>i.value.name=S),label:"Название материала"},null,8,["modelValue"])]),m("div",xse,[m("div",Sse,[m("div",kse,[E(d,{type:"color",modelValue:i.value.titleColor,"onUpdate:modelValue":c[1]||(c[1]=S=>i.value.titleColor=S),label:"Цвет заголовка",options:[{label:"Без цвета",value:null},{label:"Основной зеленый",value:"var(--primary)"},{label:"Основной фиолетовый",value:"var(--lila)"},{label:"Красный",value:"var(--danger)"},{label:"Желтый",value:"var(--warning)"}]},null,8,["modelValue"])])]),m("div",$se,[m("div",Cse,[E(h,{modelValue:i.value.isPinned,"onUpdate:modelValue":c[2]||(c[2]=S=>i.value.isPinned=S),label:"Закрепить материал"},null,8,["modelValue"])])])]),m("div",Ese,[E(f,{label:"Описание",modelValue:i.value.description,"onUpdate:modelValue":c[3]||(c[3]=S=>i.value.description=S)},null,8,["modelValue"])]),m("div",Tse,[E(p,{label:"Содержание",modelValue:i.value.content,"onUpdate:modelValue":c[4]||(c[4]=S=>i.value.content=S)},null,8,["modelValue"])]),m("div",Ase,[E(v,{label:"Прикрепленный опрос (необязательно)",modelValue:i.value.poll,"onUpdate:modelValue":c[5]||(c[5]=S=>i.value.poll=S)},null,8,["modelValue"])]),m("div",Mse,[m("div",Ise,[m("div",Ose,[E(h,{label:"Запланировать публикацию",modelValue:o.value,"onUpdate:modelValue":c[6]||(c[6]=S=>o.value=S)},null,8,["modelValue"])])]),m("div",Dse,[$e((b(),$("div",Lse,[i.value.activateAt?(b(),B(u,{key:0,type:"datetime-local",label:"Дата публикации (МСК)",modelValue:i.value.activateAt,"onUpdate:modelValue":c[7]||(c[7]=S=>i.value.activateAt=S)},null,8,["modelValue"])):N("",!0)])),[[C]])])]),m("div",Pse,[E(y,{label:"Файлы, прикрепленные к материалу","max-count":20,"allowed-mime-types":["application/pdf","image/jpeg","image/png"],"max-file-size":150*1024*1024,modelValue:i.value.files,"onUpdate:modelValue":c[8]||(c[8]=S=>i.value.files=S)},null,8,["modelValue"])]),l.subjectId?$e((b(),$("div",Rse,[Vse,m("div",Nse,[E(_,{"subject-id":l.subjectId,label:"Прикрепленная работа (необязательно)",modelValue:i.value.work,"onUpdate:modelValue":c[9]||(c[9]=S=>i.value.work=S)},null,8,["subject-id","modelValue"])]),m("div",Use,[m("div",Bse,[m("div",jse,[E(h,{label:"Установить дедлайны",modelValue:r.value,"onUpdate:modelValue":c[10]||(c[10]=S=>r.value=S)},null,8,["modelValue"])])]),m("div",zse,[m("div",Fse,[E(h,{label:"Работа доступна для сдачи",modelValue:i.value.isWorkAvailable,"onUpdate:modelValue":c[11]||(c[11]=S=>i.value.isWorkAvailable=S)},null,8,["modelValue"])])])]),r.value?(b(),$("div",Wse,[m("div",Hse,[m("div",qse,[E(u,{type:"date",label:"Дедлайн сдачи",modelValue:i.value.workSolveDeadline,"onUpdate:modelValue":c[12]||(c[12]=S=>i.value.workSolveDeadline=S)},null,8,["modelValue"])])]),m("div",Gse,[m("div",Yse,[E(u,{type:"date",label:"Дедлайн проверки",modelValue:i.value.workCheckDeadline,"onUpdate:modelValue":c[13]||(c[13]=S=>i.value.workCheckDeadline=S)},null,8,["modelValue"])])])])):N("",!0)])),[[C]]):(b(),$("div",Kse,[E(w,null,{default:L(()=>[W(" Для прикрепления работы выберите предмет курса ")]),_:1})])),m("div",Zse,[m("h3",null,[W("Прикрепить видео из НОО.Tube "),E(x)]),Xse,E(k,{"max-count":3,modelValue:i.value.videos,"onUpdate:modelValue":c[14]||(c[14]=S=>i.value.videos=S)},null,8,["modelValue"])])])}}});const Qse=J(Jse,[["__scopeId","data-v-889dccd4"]]),eie={key:0,class:"material-view"},tie=j({__name:"material-view",setup(t){const e=$n(),n=Fl(),s=q(()=>e.params.chapterSlug),i=q(()=>e.params.materialSlug),o=Y();return ke(()=>{var r;return(r=n.course)==null?void 0:r.id},async()=>{o.value=await n.getMaterial(s.value,i.value)},{immediate:!0}),(r,a)=>{var c;const l=Qse;return o.value?(b(),$("div",eie,[E(l,{modelValue:o.value,"onUpdate:modelValue":a[0]||(a[0]=u=>o.value=u),"subject-id":(c=g(n).course.subject)==null?void 0:c.id},null,8,["modelValue","subject-id"])])):N("",!0)}}}),nie={path:"/create-course:courseSlug?",name:"create-course",component:rne,children:[{path:"",name:"Создать курс",component:rse,children:[{name:"Общая информация курса",path:"general",component:bne},{name:"Создать материал",path:":chapterSlug--:materialSlug",component:tie}]}]},sie={name:"create-course",router:nie},iie={},oie={class:"module-wrapper"};function rie(t,e){const n=Xe("router-view");return b(),$("div",oie,[E(n)])}const aie=J(iie,[["render",rie]]),lie=j({__name:"work-type-select",props:{label:{},modelValue:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=e,i=q({get:()=>n.modelValue,set:r=>s("update:modelValue",r)}),o=[{value:"trial-work",label:"Пробник"},{value:"mini-test",label:"Мини-зачет"},{value:"test",label:"Тест"},{value:"second-part",label:"Вторая часть"},{value:"phrase",label:"Фраза"}];return(r,a)=>{const l=us;return b(),B(l,{label:r.label,options:o,modelValue:i.value,"onUpdate:modelValue":a[0]||(a[0]=c=>i.value=c)},null,8,["label","modelValue"])}}}),lw=Kt("works-module",()=>{const t=D.Services.UI,e=D.Services.Work,{pagination:n,results:s,resultsMeta:i,isListLoading:o,trigger:r}=Ht(a);async function a(u){try{return await e.getWorks(u)}catch(d){t.openErrorModal("Произошла ошибка при получении списка работ",d.message)}}async function l(u){try{await e.copyWork(u,{showLoader:!0}),n.value.page=1,r()}catch(d){t.openErrorModal("Произошла ошибка при копировании работы",d.message)}}async function c(u){if(u)try{await e.deleteWork(u.id,{showLoader:!0}),r()}catch(d){t.openErrorModal("Произошла ошибка при удалении работы",d.message)}}return{triggerSearch:r,pagination:n,results:s,resultsMeta:i,isListLoading:o,fetchWorks:a,copyWork:l,deleteWork:c}}),Sr=Kt("create-work-module:create-work",()=>{const t=D.Services.Work,e=D.Services.UI,n=Ws(),s=$n(),i=lw(),o=()=>({name:"",description:"",tasks:[],type:"trial-work",solveHint:"",checkHint:"",subject:null}),r=Y(o()),a=q(()=>s.params.taskSlug?s.path.split("/").slice(0,-1).join("/"):s.path);async function l(){if(!s.params.workSlug){r.value=o();return}try{const w=await t.getWork(s.params.workSlug,{showLoader:!0});if(!w.data){e.openErrorModal("Работа не найдена");return}r.value=w.data}catch{r.value=o(),e.openErrorModal("Произошла ошибка при загрузке работы")}}function c(w){return r.value.tasks.find(x=>x.slug===w)}function u(){r.value.tasks.push({...gn("task"),order:r.value.tasks.length+1})}function d(w,x,k="type1",C=1){const S=Array.from({length:x},(A,O)=>({...gn("task"),type:w,checkingStrategy:k,highestScore:C??void 0,order:r.value.tasks.length+O+1}));r.value.tasks=[...r.value.tasks,...S]}function h(w){switch(w){case"trial-work":r.value.type="trial-work",r.value.name="Пробник",d("word",21),d("text",7);break;case"dictation":r.value.name="Диктант",r.value.type="second-part",d("dictation",1,void 0,50),d("text",10,void 0,5);break;case"test-50":r.value.name="Тест (50)",r.value.type="test",d("word",50);break;case"test-100":r.value.name="Тест (100)",r.value.type="test",d("word",100);break}}function f(w){r.value.tasks=r.value.tasks.filter(x=>x.slug!==w)}function p(){var S;if(!r.value)return;const w=s.params.taskSlug,x=r.value.tasks.findIndex(A=>A.slug===w),k=(S=r.value.tasks[x+1])==null?void 0:S.slug;if(!k)return;const C=`${a.value}/${k}`;n.push(C)}function v(){var S;if(!r.value)return;const w=s.params.taskSlug,x=r.value.tasks.findIndex(A=>A.slug===w),k=(S=r.value.tasks[x-1])==null?void 0:S.slug;if(!k)return;const C=`${a.value}/${k}`;n.push(C)}function y(){n.push(`${a.value}/general-info`)}async function _(){const w=r.value;if(!w.name.trim()){e.openWarningModal("У работы должно быть название");return}if(!w.tasks.length){e.openWarningModal("У работы должны быть задания");return}if(!w.subject){e.openWarningModal("У работы должен быть предмет");return}if(w.tasks=w.tasks.map((x,k)=>({...x,order:k+1})),s.params.workSlug&&s.params.workSlug.length)try{await t.updateWork(r.value.id,w,{showLoader:!0}),e.openSuccessModal("Работа успешно обновлена",void 0,[{label:"Вернуться к списку работ",design:"primary",handler:()=>{i.triggerSearch(),n.push("/works")}}])}catch(x){e.openErrorModal("Произошла ошибка при обновлении работы",x.message)}else try{const x=await t.createWork(w,{showLoader:!0});e.openSuccessModal("Работа успешно создана",void 0,[{label:"Вернуться к списку работ",design:"primary",handler:()=>{i.triggerSearch(),n.push("/works")}}]),x.data&&n.push(`/create-work${x.data.slug}`)}catch(x){e.openErrorModal("Произошла ошибка при создании работы",x.message)}}return{work:r,addTask:u,createFromTemplate:h,removeTask:f,getTask:c,submitWork:_,fetchWork:l,toNextTask:p,toPrevTask:v,showGeneralInfo:y}}),cie=t=>(Ie("data-v-880efe8e"),t=t(),Oe(),t),uie={class:"general-info-view"},die={class:"row"},hie={class:"col-md-6"},fie={class:"form-group"},pie={class:"col-md-3"},mie={class:"col-md-3"},gie={class:"form-group"},_ie=cie(()=>m("label",{class:"general-info-view__work-description"}," Описание работы ",-1)),vie=j({__name:"general-info-view",setup(t){const e=Sr();return(n,s)=>{const i=zt,o=lie,r=iw,a=sr;return b(),$("div",uie,[m("div",die,[m("div",hie,[m("div",fie,[E(i,{modelValue:g(e).work.name,"onUpdate:modelValue":s[0]||(s[0]=l=>g(e).work.name=l),label:"Название работы",type:"text"},null,8,["modelValue"])])]),m("div",pie,[E(o,{label:"Тип работы",modelValue:g(e).work.type,"onUpdate:modelValue":s[1]||(s[1]=l=>g(e).work.type=l)},null,8,["modelValue"])]),m("div",mie,[E(r,{label:"Предмет",modelValue:g(e).work.subject,"onUpdate:modelValue":s[2]||(s[2]=l=>g(e).work.subject=l)},null,8,["modelValue"])])]),m("div",gie,[_ie,E(a,{modelValue:g(e).work.description,"onUpdate:modelValue":s[3]||(s[3]=l=>g(e).work.description=l)},null,8,["modelValue"])])])}}});const yie=J(vie,[["__scopeId","data-v-880efe8e"]]),bie={class:"task-list"},wie={key:0,class:"task-list__add"},xie={key:1,class:"task-list__add"},Sie=j({__name:"create-work-task-list",props:{modelValue:{},currentTaskId:{}},emits:["update:modelValue","create-task","create-from-template"],setup(t,{emit:e}){const n=t,s=e,i=q({get:()=>n.modelValue,set:o=>{s("update:modelValue",o.map((r,a)=>(r.order=a+1,r)))}});return(o,r)=>{const a=Xe("router-link"),l=_m,c=i9,u=it("auto-animate");return $e((b(),$("div",bie,[E(l,{modelValue:i.value,"onUpdate:modelValue":r[0]||(r[0]=d=>i.value=d),"item-key":"slug",class:"task-list__items","prompt-before-drag":!0},{default:L(({item:d})=>[m("div",{class:Se(["task-list__item",{"task-list__item--new":d.id===void 0}])},[E(a,{to:`/create-work${o.$route.params.workSlug}/${d.slug}`},{default:L(()=>[W(H(d.order),1)]),_:2},1032,["to"])],2)]),_:1},8,["modelValue"]),o.currentTaskId!=="new"?(b(),$("div",wie,[E(c,{icon:"add",onClick:r[1]||(r[1]=d=>o.$emit("create-task"))},{default:L(()=>[W(" Добавить вопрос ")]),_:1})])):N("",!0),i.value.length===0?(b(),$("div",xie,[E(c,{icon:"add",onClick:r[2]||(r[2]=d=>o.$emit("create-from-template","trial-work"))},{default:L(()=>[W(" Создать пробник ")]),_:1}),E(c,{icon:"add",onClick:r[3]||(r[3]=d=>o.$emit("create-from-template","dictation"))},{default:L(()=>[W(" Создать диктант ")]),_:1}),E(c,{icon:"add",onClick:r[4]||(r[4]=d=>o.$emit("create-from-template","test-50"))},{default:L(()=>[W(" Создать тест (50) ")]),_:1}),E(c,{icon:"add",onClick:r[5]||(r[5]=d=>o.$emit("create-from-template","test-100"))},{default:L(()=>[W(" Создать тест (100) ")]),_:1})])):N("",!0)])),[[u]])}}});const kie=J(Sie,[["__scopeId","data-v-11d53d56"]]),$ie=[{keys:["Ctrl","Enter"],description:"Сохранить",shortcut:["Ctrl","Enter"],handler:()=>{Sr().submitWork()}},{keys:["Ctrl","n"],description:"Добавить задание",shortcut:["Ctrl","n"],handler:()=>{Sr().addTask()}},{keys:["Ctrl","g"],description:"Общая информация",shortcut:["Ctrl","g"],handler:()=>{Sr().showGeneralInfo()}},{keys:["Ctrl","ArrowLeft"],description:"Предыдущее задание",shortcut:["Ctrl","ArrowLeft"],handler:()=>{Sr().toPrevTask()}},{keys:["Ctrl","ArrowRight"],description:"Следующее задание",shortcut:["Ctrl","ArrowRight"],handler:()=>{Sr().toNextTask()}}],cw=t=>(Ie("data-v-4d501e86"),t=t(),Oe(),t),Cie={class:"index-create-work-view"},Eie={class:"index-create-work-view__sidebar"},Tie={key:0,class:"index-create-work-view__sidebar__workname"},Aie=cw(()=>m("h2",{class:"index-create-work-view__sidebar__title"},"Вопросы",-1)),Mie={class:"index-create-work-view__sidebar__general-info"},Iie={class:"index-create-work-view__sidebar__list"},Oie={key:1,class:"index-create-work-view__sidebar__create-button"},Die=cw(()=>m("br",null,null,-1)),Lie={key:2,class:"index-create-work-view__sidebar__attention"},Pie={class:"index-create-work-view__content"},Rie=j({__name:"index-view",setup(t){const e=Sr(),n=$n(),s=q(()=>n.params.taskId);ke(()=>n.params.workSlug,()=>{e.fetchWork()},{immediate:!0}),ys("Создание/редактирование работы");const i=d0($ie);return Zo(()=>i()),(o,r)=>{const a=Xe("router-link"),l=xt,c=li,u=Xe("router-view"),d=fo;return b(),$("div",Cie,[E(d,null,{sidebar:L(()=>[m("div",Eie,[g(e).work.name?(b(),$("h2",Tie,H(g(e).work.name),1)):N("",!0),Aie,m("div",Mie,[E(a,{to:`/create-work${o.$route.params.workSlug}/general-info`},{default:L(()=>[W(" Общая информация ")]),_:1},8,["to"])]),m("div",Iie,[E(kie,{modelValue:g(e).work.tasks,"onUpdate:modelValue":r[0]||(r[0]=h=>g(e).work.tasks=h),"current-task-id":s.value,onCreateTask:r[1]||(r[1]=h=>g(e).addTask()),onCreateFromTemplate:r[2]||(r[2]=h=>g(e).createFromTemplate(h))},null,8,["modelValue","current-task-id"])]),g(e).work.tasks.length!==0?(b(),$("div",Oie,[E(l,{design:"primary",onClick:r[3]||(r[3]=h=>g(e).submitWork())},{default:L(()=>[W(H(o.$route.params.workSlug&&o.$route.params.workSlug.length?"Обновить работу":"Опубликовать"),1)]),_:1})])):N("",!0),Die,g(e).work.id?(b(),$("div",Lie,[E(c,null,{default:L(()=>[W(" При изменении работы будут изменены все её экземпляры, присвоенные ученикам ")]),_:1})])):N("",!0)])]),content:L(()=>[m("div",Pie,[(b(),B(u,{key:o.$route.fullPath}))])]),_:1})])}}});const Vie=J(Rie,[["__scopeId","data-v-4d501e86"]]),Nie=j({__name:"task-checking-strategy-select",props:{label:{},modelValue:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=e,i=q({get:()=>n.modelValue,set:r=>s("update:modelValue",r)}),o=[{label:"1 символ неверный: 0 б.",value:"type1"},{label:"1 символ неверный: -1 б.",value:"type2"},{label:"1 символ неверный, включая лишний/недостающий: -1 б.",value:"type3"},{label:"Последовательность",value:"type4"}];return(r,a)=>{const l=us;return b(),B(l,{label:r.label,options:o,modelValue:i.value,"onUpdate:modelValue":a[0]||(a[0]=c=>i.value=c)},null,8,["label","modelValue"])}}}),Uie=j({__name:"task-type-select",props:{label:{},modelValue:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=e,i=q({get:()=>n.modelValue,set:r=>s("update:modelValue",r)}),o=[{label:"Ответ в одну строку",value:"word"},{label:"Открытый вопрос",value:"text"},{label:"Сочинение",value:"essay"},{label:"Итоговое сочинение",value:"final-essay"},{label:"Диктант",value:"dictation"}];return(r,a)=>{const l=us;return b(),B(l,{label:r.label,options:o,modelValue:i.value,"onUpdate:modelValue":a[0]||(a[0]=c=>i.value=c)},null,8,["label","modelValue"])}}}),Bie={class:"task-create-form"},jie={class:"row"},zie={class:"col-lg-4 col-12"},Fie={class:"col-lg-4 col-12"},Wie={key:0,class:"col-lg-4 col-12"},Hie={class:"row"},qie={class:"col-lg-4 col-12"},Gie={key:0,class:"task-create-form__checkbox"},Yie={class:"col-lg-4 col-12"},Kie={key:0,class:"task-create-form__checkbox"},Zie={class:"form-group"},Xie={key:0,class:"form-group"},Jie={class:"form-group"},Qie={class:"form-group"},eoe=j({__name:"task-create-form",props:{modelValue:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=e,i=q({get:()=>n.modelValue||gn("task"),set:r=>s("update:modelValue",r)});ke(()=>i.value.type,()=>{i.value.highestScore=o(i.value.type)??i.value.highestScore,i.value.type!=="word"?i.value.rightAnswer=null:i.value.rightAnswer="",i.value.type!=="word"?i.value.checkingStrategy=null:i.value.checkingStrategy="type1"});function o(r){switch(r){case"word":case"text":return null;case"essay":return 22;case"final-essay":return 5;case"dictation":return 50}}return(r,a)=>{const l=Uie,c=zt,u=Nie,d=Ai,h=nr,f=f5,p=it("auto-animate");return $e((b(),$("div",Bie,[$e((b(),$("div",jie,[m("div",zie,[E(l,{label:"Тип задания",modelValue:i.value.type,"onUpdate:modelValue":a[0]||(a[0]=v=>i.value.type=v)},null,8,["modelValue"])]),m("div",Fie,[E(c,{modelValue:i.value.highestScore,"onUpdate:modelValue":a[1]||(a[1]=v=>i.value.highestScore=v),label:"Максимальный балл",type:"number",readonly:o(i.value.type)!==null,validators:[v=>v>0||"Максимальный балл должен быть больше 0"]},null,8,["modelValue","readonly","validators"])]),i.value.type==="word"?(b(),$("div",Wie,[E(u,{modelValue:i.value.checkingStrategy,"onUpdate:modelValue":a[2]||(a[2]=v=>i.value.checkingStrategy=v),label:"Способ проверки"},null,8,["modelValue"])])):N("",!0)])),[[p]]),m("div",Hie,[$e((b(),$("div",qie,[i.value.type==="word"?(b(),$("div",Gie,[E(d,{modelValue:i.value.isAnswerVisibleBeforeCheck,"onUpdate:modelValue":a[3]||(a[3]=v=>i.value.isAnswerVisibleBeforeCheck=v),label:"Показывать ответ до проверки"},null,8,["modelValue"])])):N("",!0)])),[[p]]),$e((b(),$("div",Yie,[i.value.type==="word"?(b(),$("div",Kie,[E(d,{modelValue:i.value.isCheckOneByOneEnabled,"onUpdate:modelValue":a[4]||(a[4]=v=>i.value.isCheckOneByOneEnabled=v),label:"Проверка сразу"},null,8,["modelValue"])])):N("",!0)])),[[p]])]),m("div",Zie,[E(h,{modelValue:i.value.content,"onUpdate:modelValue":a[5]||(a[5]=v=>i.value.content=v),label:"Задание"},null,8,["modelValue"])]),i.value.type==="word"?(b(),$("div",Xie,[E(f,{label:"Правильные ответы (нажмите Enter для добавления)",modelValue:i.value.rightAnswer,"onUpdate:modelValue":a[6]||(a[6]=v=>i.value.rightAnswer=v),separator:"|"},null,8,["modelValue"])])):N("",!0),m("div",Jie,[E(h,{modelValue:i.value.solveHint,"onUpdate:modelValue":a[7]||(a[7]=v=>i.value.solveHint=v),label:"Подсказка для ученика"},null,8,["modelValue"])]),m("div",Qie,[E(h,{modelValue:i.value.checkHint,"onUpdate:modelValue":a[8]||(a[8]=v=>i.value.checkHint=v),label:"Подсказка/пояснение для проверяющего (видна также ученику после проверки)"},null,8,["modelValue"])])])),[[p]])}}});const toe=J(eoe,[["__scopeId","data-v-4d808fad"]]),noe=t=>(Ie("data-v-7c79f783"),t=t(),Oe(),t),soe={class:"task-form-view"},ioe={key:0,class:"task-form-view__form"},ooe={key:1,class:"task-form-view__actions"},roe={key:2,class:"task-form-view__no-tasks"},aoe=noe(()=>m("p",null,"Создайте задание",-1)),loe=[aoe],coe=j({__name:"task-form-view",setup(t){const e=Sr(),n=$n(),s=q(()=>n.params.taskSlug),i=q(()=>e.getTask(s.value));return(o,r)=>{const a=toe,l=xt;return b(),$("div",soe,[i.value?(b(),$("div",ioe,[E(a,{modelValue:i.value,"onUpdate:modelValue":r[0]||(r[0]=c=>i.value=c)},null,8,["modelValue"])])):N("",!0),i.value?(b(),$("div",ooe,[E(l,{onClick:r[1]||(r[1]=c=>g(e).removeTask(s.value)),design:"danger",alignment:"right"},{default:L(()=>[W(" Удалить задание ")]),_:1})])):(b(),$("div",roe,loe))])}}});const uoe=J(coe,[["__scopeId","data-v-7c79f783"]]),doe={path:"/create-work:workSlug?",name:"Создание работы",component:aie,children:[{path:"",name:"Создание работы",component:Vie,children:[{path:"general-info",name:"О работе",component:yie},{path:":taskSlug",name:"Список заданий",component:uoe}]}]},hoe={name:"create-work",router:doe},foe={},poe={class:"module-wrapper"};function moe(t,e){const n=Xe("router-view");return b(),$("div",poe,[E(n)])}const goe=J(foe,[["render",moe]]),_oe=["onClick"],voe=j({__name:"faq-category-tree",props:{categories:{},nestingLevel:{}},setup(t){const e=t,n=Y(s(e.categories));ke(()=>e.categories,()=>{n.value=s(e.categories)},{deep:!0});function s(i){return i.map(o=>({...o,opened:!1,childCategories:s(o.childCategories||[])}))}return(i,o)=>{const r=am,a=Xe("faq-category-tree",!0),l=Xe("router-link"),c=it("auto-animate");return b(!0),$(ue,null,Be(n.value,u=>{var d,h,f,p,v;return b(),$("ul",{class:Se(["faq-category-tree",i.nestingLevel?`faq-category-tree--nested-${i.nestingLevel}`:""]),key:u.id},[$e((b(),$("li",null,[m("h4",{class:"faq-category-tree__category-title",onClick:y=>u.opened=!u.opened},[(d=u.childCategories)!=null&&d.length||(h=u.articles)!=null&&h.length?(b(),B(r,{key:0,class:"faq-category-tree__category-title__opener",opened:u.opened},null,8,["opened"])):N("",!0),W(" "+H(u.name),1)],8,_oe),(f=u.childCategories)!=null&&f.length&&u.opened?(b(),B(a,{key:0,categories:u.childCategories,nestingLevel:i.nestingLevel?i.nestingLevel+1:1},null,8,["categories","nestingLevel"])):N("",!0),((p=u.childCategories)!=null&&p.length||(v=u.articles)!=null&&v.length)&&u.opened?(b(),$("ul",{key:1,class:Se(["faq-category-tree__article-list",`faq-category-tree__article-list--nested-${(i.nestingLevel||0)+1}`])},[(b(!0),$(ue,null,Be(u.articles,y=>(b(),$("li",{key:y.id,class:"faq-category-tree__article-list__item"},[E(l,{to:`/help/article-${y.id}`},{default:L(()=>[W(H(y.title),1)]),_:2},1032,["to"])]))),128))],2)):N("",!0)])),[[c]])],2)}),128)}}});const yoe=J(voe,[["__scopeId","data-v-c1f859cb"]]),boe=Kt("help-module:help",()=>{const t=D.Services.UI,e=D.Services.FAQ,n=Y([]),s=Y([]);async function i(){try{const o=await e.getCategoryTreeWithArticles();s.value=o.data}catch(o){t.openErrorModal("Не удалось загрузить категории",o.message)}}return{articleTree:n,categories:s,fetchCategoryTree:i}}),woe={class:"index-view"},xoe={class:"index-view__sidebar"},Soe=m("div",{class:"index-view__sidebar__header"},[m("h3",null,"Категории")],-1),koe={class:"index-view__sidebar__categories"},$oe=j({__name:"index-view",setup(t){const e=boe();return e.fetchCategoryTree(),(n,s)=>{const i=Xe("router-view"),o=fo;return b(),$("div",woe,[E(o,null,{sidebar:L(()=>[m("aside",xoe,[Soe,m("div",koe,[E(yoe,{categories:g(e).categories},null,8,["categories"])])])]),content:L(()=>[(b(),B(i,{key:n.$route.fullPath}))]),_:1})])}}}),Coe={path:"/help",name:"Помощь",component:goe,children:[{path:"",name:"Помощь",component:$oe,children:[{path:"article-:id",name:"Статья",component:()=>fe(()=>import("./article-view-eb5cae69.js"),["assets/article-view-eb5cae69.js","assets/article-view-f8a6513e.css"])}]}]},Eoe={name:"help",router:Coe},Toe={},Aoe={class:"module-wrapper"};function Moe(t,e){const n=Xe("router-view");return b(),$("div",Aoe,[E(n)])}const Ioe=J(Toe,[["render",Moe]]),Ooe={class:"feature-block"},Doe={class:"feature-block__icon"},Loe={class:"feature-block__text"},Poe=j({__name:"feature-block",props:{version:{}},setup(t){return(e,n)=>{const s=It;return b(),$("div",Ooe,[m("div",Doe,[E(s,{name:"info"})]),m("div",Loe," Функционал будет доступен в версии "+H(e.version),1)])}}});const Roe=J(Poe,[["__scopeId","data-v-104ffa24"]]),Voe="/nootube-image-thin.svg",Noe={src:Voe,alt:"НОО.Tube"},Uoe=j({__name:"nootube-image",setup(t){return(e,n)=>(b(),$("img",Noe))}}),I0=Kt("nootube-module:nootube",()=>{const t=D.Services.UI,e=D.Services.Video,n=Y(0),s=Ht(o),i=Ht(r);async function o(l){try{return e.getVideos(l)}catch(c){t.openErrorModal("Ошибка при загрузке видео",c.message)}}async function r(l){try{return e.getSavedVideos(l)}catch(c){t.openErrorModal("Ошибка при загрузке сохраненных видео",c.message)}}async function a(l){try{await e.deleteVideo(l,{showLoader:!0}),s.trigger()}catch(c){t.openErrorModal("Ошибка при удалении видео",c.message)}}return{videoSearch:s,savedVideoSearch:i,deleteVideo:a,activeTabIndex:n}}),Boe={class:"video-list-view"},joe={class:"video-list-view__search"},zoe={class:"video-list-view__search__field"},Foe={key:0,class:"video-list-view__search__actions"},Woe={class:"video-list-view__list"},Hoe={class:"video-list-view__list__item"},qoe={class:"video-list-view__pagination"},Goe=j({__name:"video-list-view",setup(t){const e=I0();return(n,s)=>{const i=kn,o=xt,r=ym,a=bn;return b(),$("div",Boe,[m("div",joe,[m("div",zoe,[E(i,{modelValue:g(e).videoSearch.pagination.search,"onUpdate:modelValue":s[0]||(s[0]=l=>g(e).videoSearch.pagination.search=l),"is-loading":g(e).videoSearch.isListLoading},null,8,["modelValue","is-loading"])]),g(D).Context.roleIs(["mentor","teacher"])?(b(),$("div",Foe,[E(o,{to:"/nootube/upload-video"},{default:L(()=>[W(" Загрузить видео ")]),_:1})])):N("",!0)]),m("div",Woe,[m("div",Hoe,[E(r,{videos:g(e).videoSearch.results,"is-loading":g(e).videoSearch.isListLoading,onDeleteVideo:s[1]||(s[1]=l=>g(e).deleteVideo(l)),onUpdated:s[2]||(s[2]=l=>g(e).videoSearch.trigger()),"show-actions":""},null,8,["videos","is-loading"])])]),m("div",qoe,[E(a,{page:g(e).videoSearch.pagination.page,"onUpdate:page":s[3]||(s[3]=l=>g(e).videoSearch.pagination.page=l),total:g(e).videoSearch.resultsMeta.total,limit:g(e).videoSearch.pagination.limit},null,8,["page","total","limit"])])])}}});const Yoe=J(Goe,[["__scopeId","data-v-7ab90174"]]),Koe={class:"video-list-view"},Zoe={class:"video-list-view__search"},Xoe={class:"video-list-view__search__field"},Joe={class:"video-list-view__list"},Qoe={class:"video-list-view__list__item"},ere={class:"video-list-view__pagination"},tre=j({__name:"saved-video-list-view",setup(t){const e=I0();return(n,s)=>{const i=kn,o=ym,r=bn;return b(),$("div",Koe,[m("div",Zoe,[m("div",Xoe,[E(i,{modelValue:g(e).savedVideoSearch.pagination.search,"onUpdate:modelValue":s[0]||(s[0]=a=>g(e).savedVideoSearch.pagination.search=a),"is-loading":g(e).savedVideoSearch.isListLoading},null,8,["modelValue","is-loading"])])]),m("div",Joe,[m("div",Qoe,[E(o,{videos:g(e).savedVideoSearch.results,"is-loading":g(e).savedVideoSearch.isListLoading,onDeleteVideo:s[1]||(s[1]=a=>g(e).deleteVideo(a)),onUpdated:s[2]||(s[2]=a=>g(e).savedVideoSearch.trigger()),"show-actions":""},null,8,["videos","is-loading"])])]),m("div",ere,[E(r,{page:g(e).savedVideoSearch.pagination.page,"onUpdate:page":s[3]||(s[3]=a=>g(e).savedVideoSearch.pagination.page=a),total:g(e).savedVideoSearch.resultsMeta.total,limit:g(e).savedVideoSearch.pagination.limit},null,8,["page","total","limit"])])])}}});const nre=J(tre,[["__scopeId","data-v-6d087cb7"]]),sre=t=>(Ie("data-v-6bc4a47f"),t=t(),Oe(),t),ire={class:"index-view"},ore={class:"index-view__banner-image"},rre=sre(()=>m("div",{class:"index-view__greeting"},[m("div",{class:"index-view__greeting__text-block"},[m("h3",null,[W("Теперь на "),m("b",null,"НОО."),W("Платформе доступны видео и стримы!")]),m("p",null,[m("b",null,"НОО."),W("Tube - это место, где вы можете просматривать видео и стримы. Больше не нужно переключаться между разными платформами, всё собрано в одном месте! ")])])],-1)),are={class:"index-view__videos"},lre={class:"index-view__saved-videos"},cre={class:"index-view__streams"},ure=j({__name:"index-view",setup(t){const e=I0();return ys("НОО.Tube"),(n,s)=>{const i=Uoe,o=Roe,r=Jo;return b(),$("div",ire,[m("div",ore,[E(i)]),E(r,{titles:["Видео","Избранное","Стримы (coming soon)"],"tab-index":g(e).activeTabIndex,"onUpdate:tabIndex":s[0]||(s[0]=a=>g(e).activeTabIndex=a)},{"tab-0":L(()=>[rre,m("div",are,[E(Yoe)])]),"tab-1":L(()=>[m("div",lre,[E(nre)])]),"tab-2":L(()=>[m("div",cre,[E(o,{version:"3.6.0"})])]),_:1},8,["tab-index"])])}}});const dre=J(ure,[["__scopeId","data-v-6bc4a47f"]]),hre={path:"/nootube",name:"nootube",component:Ioe,children:[{path:"",name:"НОО.Tube",component:dre},{path:"video/:id",name:"Видео",component:()=>fe(()=>import("./video-view-f3de09d5.js"),["assets/video-view-f3de09d5.js","assets/video-view-d1b9430b.css"])},{path:"upload-video",name:"Загрузка видео",component:()=>fe(()=>import("./upload-video-view-1c1ee07c.js"),["assets/upload-video-view-1c1ee07c.js","assets/upload-video-view-2e31ede6.css"])}]},fre={name:"nootube",router:hre},pre={},mre={class:"module-wrapper"};function gre(t,e){const n=Xe("router-view");return b(),$("div",mre,[(b(),B(n,{key:t.$route.fullPath}))])}const _re=J(pre,[["render",gre]]),vre=Kt("polls-module:polls",()=>{const t=D.Services.Poll,e=D.Services.UI,n=Ht(s);async function s(o){try{return t.getPolls(o)}catch(r){e.openErrorModal("Не удалось получить список опросов",r.message)}}async function i(o){try{await t.deletePoll(o),n.trigger()}catch(r){e.openErrorModal("Не удалось удалить опрос",r.message)}}return{pollSearch:n,deletePoll:i}}),yre={class:"index-view"},bre={class:"index-view__search"},wre={class:"index-view__search__input"},xre={class:"index-view__search__actions"},Sre={class:"index-view__results"},kre={class:"index-view__pagination"},$re=j({__name:"index-view",setup(t){const e=vre(),n=Ws(),s=Y({poll:null,isVisible:!1}),i=[{title:"Название",type:"text",value:r=>r.title,linkTo:r=>`/polls/${r.id}/results`},{title:"Количество проголосовавших",type:"text",value:r=>r.votedCount},{title:"Требуется авторизация",type:"text",value:r=>r.requireAuth?'<span style="color:var(--success)">Да</span>':'<span style="color:var(--danger)">Нет</span>'},{title:"Дата создания",type:"date",value:r=>r.createdAt}];function o(r){return[{title:"Результаты",icon:"user",action:()=>n.push(`/polls/${r.id}/results`)},{title:"Редактировать",icon:"edit",action:()=>n.push(`/polls/create-poll${r.id}`)},{title:"Удалить",icon:"delete",action:()=>{s.value.poll=r,s.value.isVisible=!0}}]}return(r,a)=>{const l=kn,c=xt,u=cs,d=bn,h=zd;return b(),$(ue,null,[m("div",yre,[m("div",bre,[m("div",wre,[E(l,{modelValue:g(e).pollSearch.pagination.search,"onUpdate:modelValue":a[0]||(a[0]=f=>g(e).pollSearch.pagination.search=f),"is-loading":g(e).pollSearch.isListLoading},null,8,["modelValue","is-loading"])]),m("div",xre,[E(c,{to:"/polls/create-poll"},{default:L(()=>[W("Создать опрос")]),_:1})])]),m("div",Sre,[E(u,{"is-loading":g(e).pollSearch.isListLoading,data:g(e).pollSearch.results,cols:i,actions:o},null,8,["is-loading","data"])]),m("div",kre,[E(d,{page:g(e).pollSearch.pagination.page,"onUpdate:page":a[1]||(a[1]=f=>g(e).pollSearch.pagination.page=f),limit:g(e).pollSearch.pagination.limit,total:g(e).pollSearch.resultsMeta.total},null,8,["page","limit","total"])])]),E(h,{visible:s.value.isVisible,"onUpdate:visible":a[2]||(a[2]=f=>s.value.isVisible=f),onConfirm:a[3]||(a[3]=f=>g(e).deletePoll(s.value.poll.id))},{title:L(()=>[W(" Удаление опроса ")]),text:L(()=>{var f;return[W(' Вы уверены, что хотите удалить опрос "'+H((f=s.value.poll)==null?void 0:f.title)+'"? ',1)]}),_:1},8,["visible"])],64)}}});const Cre=J($re,[["__scopeId","data-v-82fd86cb"]]);const Ere={},Tre={class:"info-block"},Are={class:"info-block__icon"},Mre={class:"info-block__text"};function Ire(t,e){const n=It;return b(),$("div",Tre,[m("div",Are,[E(n,{name:"info"})]),m("div",Mre,[lt(t.$slots,"default",{},void 0,!0)])])}const Ore=J(Ere,[["render",Ire],["__scopeId","data-v-18f8825e"]]),Dre={class:"create-poll-form-question"},Lre={class:"create-poll-form-question__title"},Pre={class:"create-poll-form-question__title__delete-button"},Rre={class:"create-poll-form-question__form"},Vre={class:"create-poll-form-question__type-specific-form"},Nre=j({__name:"create-poll-form-question",props:{index:{},modelValue:{},changeableType:{type:Boolean}},emits:["update:modelValue","remove"],setup(t,{emit:e}){const n=t,s=e,i=q({get:()=>n.modelValue,set:a=>s("update:modelValue",a)}),o=[{value:"date",label:"Дата"},{value:"text",label:"Текст"},{value:"number",label:"Число"},{value:"file",label:"Файл"},{value:"rating",label:"Рейтинг"},{value:"choice",label:"Варианты ответа"}],r=so();return ke(()=>i.value.type,a=>{Ud(Object.assign({"./poll-question-forms/choice-form.vue":()=>fe(()=>import("./choice-form-9c800c5a.js"),[]),"./poll-question-forms/date-form.vue":()=>fe(()=>import("./date-form-fe8a133b.js"),["assets/date-form-fe8a133b.js","assets/date-form-5440a69e.css"]),"./poll-question-forms/file-form.vue":()=>fe(()=>import("./file-form-a40f51fc.js"),[]),"./poll-question-forms/number-form.vue":()=>fe(()=>import("./number-form-650d16c3.js"),[]),"./poll-question-forms/rating-form.vue":()=>fe(()=>import("./rating-form-bec3fe98.js"),[]),"./poll-question-forms/text-form.vue":()=>fe(()=>import("./text-form-5907c1e2.js"),[])}),`./poll-question-forms/${a}-form.vue`).then(l=>{r.value=l.default})},{immediate:!0}),(a,l)=>{const c=It,u=Ai,d=us,h=zt,f=sr,p=it("auto-animate");return b(),$("div",Dre,[m("div",Lre,[m("h4",null,"Вопрос "+H(a.index+1),1),m("span",Pre,[E(c,{name:"delete",onClick:l[0]||(l[0]=v=>a.$emit("remove"))})])]),m("div",Rre,[E(u,{label:"Обязательный",modelValue:i.value.required,"onUpdate:modelValue":l[1]||(l[1]=v=>i.value.required=v)},null,8,["modelValue"]),E(d,{modelValue:i.value.type,"onUpdate:modelValue":l[2]||(l[2]=v=>i.value.type=v),label:"Тип вопроса",options:o,readonly:!n.changeableType},null,8,["modelValue","readonly"]),E(h,{type:"text",modelValue:i.value.text,"onUpdate:modelValue":l[3]||(l[3]=v=>i.value.text=v),label:"Текст вопроса",validators:[v=>!!v||"Введите название опроса",v=>v.length<=150||"Максимальная длина 150 символов"]},null,8,["modelValue","validators"]),E(f,{type:"text",modelValue:i.value.description,"onUpdate:modelValue":l[4]||(l[4]=v=>i.value.description=v),label:"Описание вопроса"},null,8,["modelValue"])]),$e((b(),$("div",Vre,[(b(),B(Vn(r.value),{modelValue:i.value,"onUpdate:modelValue":l[5]||(l[5]=v=>i.value=v)},null,8,["modelValue"]))])),[[p]])])}}});const Ure=J(Nre,[["__scopeId","data-v-eea4dc0b"]]),Bre=Kt("polls-module:create-poll",()=>{const t=D.Services.Poll,e=D.Services.UI,n=Ws(),s=Y(gn("poll"));async function i(a){try{const l=await t.getPoll(a,{showLoader:!0});l.data&&(s.value=l.data)}catch(l){e.openErrorModal("Не удалось получить опрос",l.message)}}async function o(){if(r(s.value)){s.value.questions=s.value.questions.map((a,l)=>({...a,order:l+1}));try{let a=s.value.id;a?await t.updatePoll(s.value.id,s.value,{showLoader:!0}):a=(await t.createPoll(s.value,{showLoader:!0})).data.id,e.openSuccessModal("Опрос успешно сохранен",void 0,[{label:"Ко всем опросам",design:"primary",handler:()=>{n.push("/polls")}}]),n.push(`/polls/create-poll${a}`)}catch(a){e.openErrorModal("Не удалось сохранить опрос",a.message)}}}function r(a){var l,c;if(a.title.length<3)return e.openWarningModal("Заголовок должен быть не менее 3 символов"),!1;if(a.title.length>150)return e.openWarningModal("Заголовок должен быть не более 150 символов"),!1;if(a.questions.length===0)return e.openWarningModal("Опрос должен содержать хотя бы один вопрос"),!1;if(a.stopAt<new Date)return e.openWarningModal("Дата окончания опроса должна быть больше текущей даты"),!1;if(((l=a.canVote)==null?void 0:l.length)===0)return e.openWarningModal("Выберите хотя бы один вариант доступа к голосованию"),!1;if(((c=a.canSeeResults)==null?void 0:c.length)===0)return e.openWarningModal("Выберите хотя бы один вариант доступа к результатам"),!1;for(const u of a.questions){if(u.text.length<3)return e.openWarningModal("Текст вопроса должен быть не менее 3 символов"),!1;if(u.text.length>150)return e.openWarningModal("Текст вопроса должен быть не более 150 символов"),!1}return!0}return{poll:s,fetchPoll:i,savePoll:o}}),O0=t=>(Ie("data-v-051e883c"),t=t(),Oe(),t),jre={class:"create-poll-view"},zre={class:"create-poll-view__info"},Fre={class:"row create-poll-view__info__main-info-row"},Wre={class:"col-md-6"},Hre={class:"col-md-3 only-for-registered"},qre={class:"col-md-3"},Gre={class:"row"},Yre={class:"col-md-6"},Kre=O0(()=>m("label",{class:"create-poll-view__info__label"}," Кто может пройти опрос ",-1)),Zre={class:"col-md-6"},Xre=O0(()=>m("label",{class:"create-poll-view__info__label"}," Кто может видеть результаты ",-1)),Jre={class:"create-poll-view__questions"},Qre=O0(()=>m("div",{class:"create-poll-view__questions__add-question__inner"},[m("span",{class:"create-poll-view__questions__add-question__icon"}," + "),m("span",{class:"create-poll-view__questions__add-question__label"}," Добавить вопрос ")],-1)),eae=[Qre],tae={class:"create-poll-view__actions"},nae=j({__name:"create-poll-view",setup(t){const e=Bre(),n=$n();ke(()=>n.params.pollId,()=>{n.params.pollId&&e.fetchPoll(n.params.pollId)},{immediate:!0});const s=[{label:"Преподаватели",role:"teacher"},{label:"Ученики",role:"student"},{label:"Кураторы",role:"mentor"},{label:"Все",role:"everyone"}];function i(){e.poll.questions.push(r())}function o(a){e.poll.questions.splice(a,1)}function r(){return{id:void 0,answers:void 0,text:"",description:"",type:"text",required:!1,choices:[],minChoices:1,maxChoices:2,minRating:0,maxRating:5,onlyIntegerRating:!0,maxFileSize:5,maxFileCount:1,allowedFileTypes:["image/jpeg","image/png"],minLength:1,maxLength:100,minValue:0,maxValue:100,onlyIntegerValue:!0,onlyFutureDate:!1,onlyPastDate:!1}}return ke(()=>e.poll.canVote,()=>{const a=e.poll.canVote;a[a.length-1]==="everyone"&&a.length>1?e.poll.canVote=["everyone"]:a[0]==="everyone"&&a.length>1&&(e.poll.canVote=a.filter(l=>l!=="everyone"))}),ke(()=>e.poll.canSeeResults,()=>{const a=e.poll.canSeeResults;a[a.length-1]==="everyone"&&a.length>1?e.poll.canSeeResults=["everyone"]:a[0]==="everyone"&&a.length>1&&(e.poll.canSeeResults=a.filter(l=>l!=="everyone"))}),(a,l)=>{const c=zt,u=Ai,d=Wa,h=sr,f=Ore,p=xt,v=it("auto-animate");return b(),$("div",jre,[m("div",zre,[m("div",Fre,[m("div",Wre,[E(c,{type:"text",modelValue:g(e).poll.title,"onUpdate:modelValue":l[0]||(l[0]=y=>g(e).poll.title=y),label:"Название опроса",validators:[y=>!!y||"Введите название опроса",y=>y.length<=150||"Максимальная длина 150 символов"]},null,8,["modelValue","validators"])]),m("div",Hre,[E(u,{label:"Только для зарегистрированных",modelValue:g(e).poll.requireAuth,"onUpdate:modelValue":l[1]||(l[1]=y=>g(e).poll.requireAuth=y)},null,8,["modelValue"])]),m("div",qre,[E(c,{type:"date",modelValue:g(e).poll.stopAt,"onUpdate:modelValue":l[2]||(l[2]=y=>g(e).poll.stopAt=y),label:"Дата окончания"},null,8,["modelValue"])])]),m("div",Gre,[m("div",Yre,[Kre,E(d,{items:s,"item-label-key":"label","item-key":"role",multiple:"",modelValue:g(e).poll.canVote,"onUpdate:modelValue":l[3]||(l[3]=y=>g(e).poll.canVote=y)},null,8,["modelValue"])]),m("div",Zre,[Xre,E(d,{items:s,"item-label-key":"label","item-key":"role",multiple:"",modelValue:g(e).poll.canSeeResults,"onUpdate:modelValue":l[4]||(l[4]=y=>g(e).poll.canSeeResults=y)},null,8,["modelValue"])])]),E(h,{label:"Описание",modelValue:g(e).poll.description,"onUpdate:modelValue":l[5]||(l[5]=y=>g(e).poll.description=y),validators:[y=>y.length>500||"Максимальная длина 500 символов"]},null,8,["modelValue","validators"]),E(f,null,{default:L(()=>[W(" После создания опроса нельзя изменить типы вопросов ")]),_:1})]),$e((b(),$("div",Jre,[(b(!0),$(ue,null,Be(g(e).poll.questions,(y,_)=>(b(),$("div",{class:"create-poll-view__question",key:y.id},[E(Ure,{index:_,modelValue:y,"changeable-type":!g(e).poll.id,"onUpdate:modelValue":w=>g(e).poll.questions[_]=w,onRemove:w=>o(_)},null,8,["index","modelValue","changeable-type","onUpdate:modelValue","onRemove"])]))),128)),m("div",{class:"create-poll-view__questions__add-question",onClick:l[6]||(l[6]=y=>i())},eae)])),[[v]]),m("div",tae,[E(p,{onClick:l[7]||(l[7]=y=>g(e).savePoll()),alignment:"right"},{default:L(()=>[W(" Сохранить ")]),_:1})])])}}});const sae=J(nae,[["__scopeId","data-v-051e883c"]]),iae={class:"poll-question"},oae={class:"poll-question__title"},rae={key:0,class:"poll-question__title__index"},aae={key:1,class:"poll-question__title__optional"},lae={key:1,class:"poll-question__description"},cae={key:2,class:"poll-question__form"},uae={key:3,class:"poll-question__form--loading"},dae=j({__name:"poll-question",props:{question:{},index:{},answer:{},readonly:{type:Boolean}},emits:["update:answer","edit"],setup(t,{emit:e}){const n=t,s=e,i=q({get:()=>n.answer,set:r=>s("update:answer",r)}),o=so(null);return xv(()=>{switch(n.question.type){case"date":fe(()=>import("./poll-question-date-1a71666c.js"),[]).then(r=>o.value=r.default);break;case"number":fe(()=>import("./poll-question-number-3366bb5d.js"),[]).then(r=>o.value=r.default);break;case"choice":fe(()=>import("./poll-question-choice-ff7bdfff.js"),["assets/poll-question-choice-ff7bdfff.js","assets/poll-question-choice-db34cdca.css"]).then(r=>o.value=r.default);break;case"rating":fe(()=>import("./poll-question-rating-1d9e979b.js"),["assets/poll-question-rating-1d9e979b.js","assets/poll-question-rating-a328e2f5.css"]).then(r=>o.value=r.default);break;case"file":fe(()=>import("./poll-question-file-f5b338e1.js"),["assets/poll-question-file-f5b338e1.js","assets/poll-question-file-13218b62.css"]).then(r=>o.value=r.default);break;case"text":default:fe(()=>import("./poll-question-text-789f3ce7.js"),[]).then(r=>o.value=r.default);break}}),(r,a)=>{const l=Sn,c=it("auto-animate");return $e((b(),$("div",iae,[r.readonly&&g(D).Context.roleIs(["admin","teacher"])?(b(),$("span",{key:0,class:"poll-question__edit-button",onClick:a[0]||(a[0]=u=>r.$emit("edit"))}," Редактировать ")):N("",!0),m("div",oae,[m("h3",null,[r.index!==void 0?(b(),$("span",rae,H(r.index+1)+". ",1)):N("",!0),W(" "+H(r.question.text)+" ",1),r.question.required?N("",!0):(b(),$("span",aae," Необязательно "))])]),r.question.description?(b(),$("div",lae,[m("p",null,H(r.question.description),1)])):N("",!0),o.value&&i.value?(b(),$("div",cae,[(b(),B(Vn(o.value),{question:r.question,readonly:r.readonly,answer:i.value,"onUpdate:answer":a[1]||(a[1]=u=>i.value=u)},null,40,["question","readonly","answer"]))])):(b(),$("div",uae,[E(l,{contrast:""})]))])),[[c]])}}});const D0=J(dae,[["__scopeId","data-v-de6a5ba1"]]),hae={class:"poll-form"},fae={class:"poll-form__questions"},pae=j({__name:"poll-form",props:{questions:{},answers:{}},emits:["update:answers"],setup(t,{emit:e}){const n=t,s=e,i=q({get:()=>n.answers,set:o=>s("update:answers",o)});return(o,r)=>{const a=it("auto-animate");return b(),$("div",hae,[$e((b(),$("div",fae,[(b(!0),$(ue,null,Be(o.questions,(l,c)=>(b(),B(D0,{key:l.id,question:l,index:c,answer:i.value[c],"onUpdate:answer":u=>i.value[c]=u},null,8,["question","index","answer","onUpdate:answer"]))),128))])),[[a]])])}}});const mae=J(pae,[["__scopeId","data-v-70638923"]]),gae=Kt("polls-module:poll",()=>{const t=D.Services.Poll,e=D.Services.UI,n=$n(),s=Y(),i=Y([]);async function o(){try{const _=await t.getPoll(n.params.pollId,{showLoader:!0});if(!(_!=null&&_.data))throw new Error("Опрос не найден или недоступен");s.value=_.data,r(s.value.questions)}catch(_){e.openErrorModal("Произошла ошибка при получении опроса",_.message,[{label:"Назад к блогу/новостям",design:"primary",handler:()=>window.location.replace("/blog")}])}}function r(_){i.value=_.map(w=>a(w))}function a(_){return{id:Ci(),questionId:_.id,questionType:_.type,date:new Date,text:"",choices:[],rating:0,files:[],number:0}}async function l(){if(s.value)try{const _=c(s.value.questions,i.value);if(_.length>0)throw new Error(_.join(`, 
`));const w=i.value.map(x=>({...x,id:void 0}));await t.saveAnswers(s.value.id,w,{showLoader:!0}),e.openSuccessModal("Спасибо за участие в опросе!","Ваши ответы успешно сохранены")}catch(_){e.openErrorModal("Произошла ошибка при сохранении ответов",_.message)}}function c(_,w){const x=[];for(const k of _){const C=w.find(A=>A.questionId===k.id);if(k.required&&!C)throw new Error(`Ответ на вопрос "${k.text}" обязателен`);const S=u(k,C);S!==!0&&x.push(`Вопрос "${k.text}": ${S}`)}return x}function u(_,w){switch(_.type){case"text":return d(_,w.text);case"choice":return f(_,w.choices);case"rating":return p(_,w.rating);case"number":return h(_,w.number);case"date":return v(_,w.date);case"file":return y(_,w.files);default:return!0}}function d(_,w){return!_.required&&!(w!=null&&w.length)?!0:_.maxLength&&_.maxLength<w.length?"Ответ слишком длинный, максимальная длина: "+_.maxLength:_.minLength&&_.minLength>w.length?"Ответ слишком короткий, минимальная длина: "+_.minLength:!0}function h(_,w){return!_.required&&w===void 0?!0:w===void 0?"Ответ обязателен":_.maxValue&&_.maxValue<w?"Ответ слишком большой, максимальное значение: "+_.maxValue:_.minValue&&_.minValue>w?"Ответ слишком маленький, минимальное значение: "+_.minValue:_.onlyIntegerValue&&!Number.isInteger(w)?"Ответ должен быть целым числом":!0}function f(_,w){return!_.required&&!(w!=null&&w.length)?!0:w===void 0?"Ответ обязателен":_.minChoices&&_.minChoices>w.length?"Выберите как минимум "+_.minChoices+" вариантов ответа":_.maxChoices&&_.maxChoices<w.length?"Выберите не более "+_.maxChoices+" вариантов ответа":!0}function p(_,w){return!_.required&&w===void 0?!0:w===void 0?"Ответ обязателен":_.maxRating&&_.maxRating<w?"Ответ слишком большой, максимальный рейтинг: "+_.maxRating:_.minRating&&_.minRating>w?"Ответ слишком маленький, минимальный рейтинг: "+_.minRating:_.onlyIntegerRating&&!Number.isInteger(w)?"Рейтинг должен быть целым числом":!0}function v(_,w){return!_.required&&!w?!0:w?_.onlyFutureDate&&w<new Date?"Дата должна быть в будущем":_.onlyPastDate&&w>new Date?"Дата должна быть в прошлом":!0:"Ответ обязателен"}function y(_,w){if(!_.required&&!(w!=null&&w.length))return!0;if(!(w!=null&&w.length))return"Ответ обязателен";if(_.maxFileCount&&_.maxFileCount<w.length)return"Вы можете загрузить не более "+_.maxFileCount+" файлов";for(const x of w)if(_.allowedFileTypes&&!_.allowedFileTypes.includes(x.mimeType))return`Файл "${x.name}" имеет недопустимый тип. Допустимые типы: ${_.allowedFileTypes.join(", ")}`;return!0}return{poll:s,fetchPoll:o,answers:i,saveAnswers:l}}),_ae={key:0,class:"index-view"},vae={class:"index-view__header"},yae={class:"index-view__description"},bae={class:"index-view__actions"},wae={class:"index-view__poll-form"},xae=j({__name:"poll-view",setup(t){const e=gae();return e.fetchPoll(),(n,s)=>{const i=xt,o=fo;return g(e).poll?(b(),$("div",_ae,[E(o,null,{sidebar:L(()=>[m("div",vae,[m("h2",null,H(g(e).poll.title),1)]),m("div",yae,[m("p",null,H(g(e).poll.description),1)]),m("div",bae,[E(i,{onClick:s[0]||(s[0]=r=>g(e).saveAnswers()),alignment:"stretch"},{default:L(()=>[W(" Завершить опрос ")]),_:1})])]),content:L(()=>[m("div",wae,[E(mae,{questions:g(e).poll.questions,answers:g(e).answers,"onUpdate:answers":s[1]||(s[1]=r=>g(e).answers=r)},null,8,["questions","answers"])])]),_:1})])):N("",!0)}}});const Sae=J(xae,[["__scopeId","data-v-e3088f6d"]]),kae=j({__name:"unregistered-results-table",props:{results:{},isLoading:{type:Boolean},pollId:{}},setup(t){const e=t,n=[{title:"",type:"avatar",value:s=>({avatar:{telegramAvatarUrl:s.avatarUrl,avatarType:"telegram"},name:s.firstName+" "+s.lastName})},{title:"Имя",type:"text",joinType:",",value:s=>[s.firstName,s.lastName]},{title:"Telegram",type:"button",design:"telegram",alignment:"left",value:s=>s.username,linkTo:({username:s})=>`https://t.me/${s}`},{title:"",value:()=>"Посмотреть",type:"button",design:"secondary",linkTo:({identifier:s})=>`/polls/${e.pollId}/results/${s}?unregistered`}];return(s,i)=>{const o=cs;return b(),B(o,{cols:n,data:s.results,"is-loading":s.isLoading},null,8,["data","is-loading"])}}}),$ae=j({__name:"results-table",props:{results:{},isLoading:{type:Boolean},pollId:{}},setup(t){const e=t,n=[{title:"",type:"avatar",value:s=>s},{title:"Имя",type:"text",value:s=>s.name},{title:"Никнейм",type:"text",value:s=>s.username},{title:"E-mail",type:"text",value:s=>s.email},{title:"Telegram",type:"button",design:"telegram",value:s=>s.telegramUsername,linkTo:s=>`https://t.me/${s.telegramUsername}`},{title:"",value:()=>"Посмотреть",type:"button",design:"secondary",linkTo:s=>`/polls/${e.pollId}/results/${s.username}`}];return(s,i)=>{const o=cs;return b(),B(o,{cols:n,data:s.results,"is-loading":s.isLoading},null,8,["cols","data","is-loading"])}}}),Cae=Kt("polls-module:results",()=>{const t=D.Services.Poll,e=D.Services.UI,n=$n(),s=q(()=>n.params.pollId),i=Y(),o=Y(0);ke(o,d=>{d===1&&a.triggerOnce()});const r=Ht(l),a=Ht(c,{immediate:!1});async function l(d){if(!s.value)return[];try{return await t.searchWhoVoted(s.value,d)}catch(h){e.openErrorModal("Произошла ошибка при получении ответов",h.message)}}async function c(d){if(!s.value)return[];try{return await t.searchWhoVotedUnregistered(s.value,d)}catch(h){e.openErrorModal("Произошла ошибка при получении ответов",h.message)}}async function u(){try{const d=await t.getPollInfo(s.value,{showLoader:!0});i.value=d.data}catch(d){e.openErrorModal("Произошла ошибка при получении опроса",d.message,[{label:"Назад к блогу/новостям",design:"primary",handler:()=>window.location.replace("/blog")}])}}return{poll:i,currentTabIndex:o,resultsSearch:r,unregisteredResultsSearch:a,fetchPoll:u}}),Eae={key:0,class:"results-view"},Tae={class:"results-view__head"},Aae={class:"results-view__search-input"},Mae={class:"results-view__results"},Iae={key:0,class:"results-view__pagination"},Oae={class:"results-view__search-input"},Dae={class:"results-view__results"},Lae={key:0,class:"results-view__pagination"},Pae=j({__name:"results-view",setup(t){const e=Cae(),n=$n();return ke(()=>n.params.pollId,()=>{e.fetchPoll()},{immediate:!0}),(s,i)=>{const o=Jd,r=kn,a=bn,l=Jo;return g(e).poll?(b(),$("div",Eae,[m("div",Tae,[E(o,{to:"/polls"},{default:L(()=>[W(" Назад к опросам")]),_:1}),m("h1",null,H(g(e).poll.title),1)]),E(l,{titles:["Зарегистрированные","Не зарегистрированные"],"tab-index":g(e).currentTabIndex,"onUpdate:tabIndex":i[4]||(i[4]=c=>g(e).currentTabIndex=c)},{"tab-0":L(()=>[m("div",Aae,[E(r,{modelValue:g(e).resultsSearch.pagination.search,"onUpdate:modelValue":i[0]||(i[0]=c=>g(e).resultsSearch.pagination.search=c)},null,8,["modelValue"])]),m("div",Mae,[E($ae,{results:g(e).resultsSearch.results,"is-loading":g(e).resultsSearch.isListLoading,"poll-id":g(e).poll.id},null,8,["results","is-loading","poll-id"])]),g(e).resultsSearch.pagination.page&&g(e).resultsSearch.pagination.limit&&g(e).resultsSearch.resultsMeta.total?(b(),$("div",Iae,[E(a,{page:g(e).resultsSearch.pagination.page,"onUpdate:page":i[1]||(i[1]=c=>g(e).resultsSearch.pagination.page=c),limit:g(e).resultsSearch.pagination.limit,total:g(e).resultsSearch.resultsMeta.total},null,8,["page","limit","total"])])):N("",!0)]),"tab-1":L(()=>[m("div",Oae,[E(r,{modelValue:g(e).unregisteredResultsSearch.pagination.search,"onUpdate:modelValue":i[2]||(i[2]=c=>g(e).unregisteredResultsSearch.pagination.search=c)},null,8,["modelValue"])]),m("div",Dae,[E(kae,{results:g(e).unregisteredResultsSearch.results,"is-loading":g(e).unregisteredResultsSearch.isListLoading,"poll-id":g(e).poll.id},null,8,["results","is-loading","poll-id"])]),g(e).unregisteredResultsSearch.pagination.page&&g(e).unregisteredResultsSearch.pagination.limit&&g(e).unregisteredResultsSearch.resultsMeta.total?(b(),$("div",Lae,[E(a,{page:g(e).unregisteredResultsSearch.pagination.page,"onUpdate:page":i[3]||(i[3]=c=>g(e).unregisteredResultsSearch.pagination.page=c),limit:g(e).unregisteredResultsSearch.pagination.limit,total:g(e).unregisteredResultsSearch.resultsMeta.total},null,8,["page","limit","total"])])):N("",!0)]),_:1},8,["tab-index"])])):N("",!0)}}});const Rae=J(Pae,[["__scopeId","data-v-b0e56b49"]]),Vae=j({__name:"edit-answer-modal",props:{visible:{type:Boolean},question:{},answer:{}},emits:["update:visible","update:answer","submit"],setup(t,{emit:e}){const n=t,s=e,i=q({get:()=>n.answer,set:r=>s("update:answer",r)}),o=q({get:()=>n.visible,set:r=>s("update:visible",r)});return(r,a)=>{const l=Qa;return b(),B(l,{visible:o.value,"onUpdate:visible":a[1]||(a[1]=c=>o.value=c),title:"Редактирование ответа",type:"warning",actions:[{label:"Сохранить",design:"primary",handler:()=>s("submit")}]},{default:L(()=>[E(D0,{answer:i.value,"onUpdate:answer":a[0]||(a[0]=c=>i.value=c),question:r.question,readonly:!1},null,8,["answer","question"])]),_:1},8,["visible","actions"])}}}),Nae=t=>(Ie("data-v-da84771c"),t=t(),Oe(),t),Uae={class:"answer-list"},Bae=Nae(()=>m("div",{class:"answer-list__head"},[m("h2",null,"Ответы")],-1)),jae={class:"answer-list__list"},zae=j({__name:"answer-list",props:{questions:{},answers:{}},emits:["edit"],setup(t,{emit:e}){const n=t,s=e;function i(o){return n.answers.find(r=>r.questionId===o)}return(o,r)=>(b(),$("div",Uae,[Bae,m("div",jae,[(b(!0),$(ue,null,Be(n.questions,(a,l)=>(b(),$("div",{class:"answer-list__list__item",key:a.id},[i(a.id)?(b(),B(D0,{key:0,readonly:"",question:a,answer:i(a.id),index:l,onEdit:c=>s("edit",i(a.id).id)},null,8,["question","answer","index","onEdit"])):N("",!0)]))),128))])]))}});const Fae=J(zae,[["__scopeId","data-v-da84771c"]]),Wae=Kt("polls-module:user-result",()=>{const t=D.Services.UI,e=D.Services.Poll,n=D.Services.User,s=$n(),i=Y([]),o=Y(),r=q(()=>{var _;return(_=c.value)==null?void 0:_.questions.find(w=>{var x;return w.id===((x=o.value)==null?void 0:x.questionId)})}),a=q(()=>s.params.username),l=q(()=>s.params.pollId),c=Y(),u=Y(),d=Y("");async function h(){var _;try{typeof s.query.unregistered<"u"?await p():await f(),await v();const w=await e.getAnswers(l.value,((_=u.value)==null?void 0:_.id)||d.value);i.value=w.data}catch(w){t.openErrorModal("Не удалось загрузить ответы пользователя",w.message)}}async function f(){try{const _=await n.getUser(a.value,{showLoader:!0});u.value=_.data}catch(_){t.openErrorModal("Не удалось загрузить пользователя",_.message)}}async function p(){d.value=a.value}async function v(){try{const _=await e.getPoll(l.value,{showLoader:!0});c.value=_.data}catch(_){t.openErrorModal("Не удалось загрузить опрос",_.message)}}async function y(){if(!o.value){t.openErrorModal("Ответ не выбран");return}try{await e.editAnswer(o.value.id,o.value,{showLoader:!0}),t.openSuccessModal("Ответы сохранены")}catch(_){t.openErrorModal("Не удалось сохранить ответы",_.message)}}return{user:u,telegramUsername:d,poll:c,answers:i,fetchAnswers:h,submitAnswer:y,answerToEdit:o,currentQuestion:r}}),Hae={key:0,class:"user-result-view"},qae={class:"user-result-view__sidebar"},Gae=m("h3",null,"Опрос:",-1),Yae=m("h3",null,"Дата голосования:",-1),Kae=m("h3",null,"Пользователь:",-1),Zae={key:4,class:""},Xae=j({__name:"user-result-view",setup(t){const e=Wae(),n=Y(!1);e.fetchAnswers();function s(i){e.answerToEdit=e.answers.find(o=>o.id===i),n.value=!0}return(i,o)=>{const r=Jd,a=u0,l=a0,c=fo;return b(),$(ue,null,[g(e).answers.length&&g(e).poll&&(g(e).user||g(e).telegramUsername)?(b(),$("div",Hae,[E(c,null,{sidebar:L(()=>{var u;return[m("div",qae,[g(D).Context.roleIs(["student","mentor"])?(b(),B(r,{key:0,to:"/profile"},{default:L(()=>[W(" Назад к профилю ")]),_:1})):(b(),B(r,{key:1,to:`/polls/${g(e).poll.id}/results`},{default:L(()=>[W(" Назад ко всем результатам ")]),_:1},8,["to"])),Gae,m("p",null,H(g(e).poll.title),1),Yae,m("p",null,H(g(_n)((u=g(e).answers[0])==null?void 0:u.createdAt,{precision:"day"}).toBeautiful()),1),Kae,g(e).user?(b(),B(a,{key:2,user:g(e).user},null,8,["user"])):g(e).telegramUsername.includes("_telegram_id_")?(b(),$("p",Zae," Настройки конфиденциальности Telegram не позволяют показать информацию о пользователе ")):(b(),B(l,{key:3,username:g(e).telegramUsername},null,8,["username"]))])]}),content:L(()=>[E(Fae,{answers:g(e).answers,questions:g(e).poll.questions,onEdit:o[0]||(o[0]=u=>s(u))},null,8,["answers","questions"])]),_:1})])):N("",!0),g(e).currentQuestion&&g(e).answerToEdit?(b(),B(Vae,{key:1,answer:g(e).answerToEdit,"onUpdate:answer":o[1]||(o[1]=u=>g(e).answerToEdit=u),visible:n.value,"onUpdate:visible":o[2]||(o[2]=u=>n.value=u),question:g(e).currentQuestion,onSubmit:o[3]||(o[3]=u=>g(e).submitAnswer())},null,8,["answer","visible","question"])):N("",!0)],64)}}}),Jae={path:"/polls",name:"Polls",component:_re,children:[{path:"",name:"Опросы",component:Cre},{path:"create-poll:pollId?",name:"Создание опроса",component:sae},{path:":pollId",name:"Опрос",component:Sae},{path:":pollId/results",name:"Результаты опроса",component:Rae},{path:":pollId/results/:username",name:"Результаты пользователя",component:Xae}]},Qae={name:"polls",router:Jae},ele={},tle={class:"module-wrapper"};function nle(t,e){const n=Xe("router-view");return b(),$("div",tle,[E(n)])}const sle=J(ele,[["render",nle]]),ile=t=>(Ie("data-v-b5872e39"),t=t(),Oe(),t),ole={class:"subject"},rle=ile(()=>m("br",null,null,-1)),ale={class:"search"},lle={class:"list"},cle={class:"pagination"},ule=j({__name:"student-mentors-view-modal",props:{visible:{type:Boolean},subject:{},currentMentor:{},student:{}},emits:["update:visible","mentor-assigned"],setup(t,{emit:e}){const n=t,s=e,i=q({get:()=>n.visible,set:c=>s("update:visible",c)}),o=Ht(a),r=Y([]);async function a(c){if(!D.Context.roleIs(["student"]))try{return D.Services.User.getMentors(c)}catch(u){D.Services.UI.openErrorModal("Не удалось загрузить список кураторов",u.message)}}async function l(){const c=r.value.at(0),u=n.student.id,d=n.subject.id;try{if(!c)throw new Error("Не выбран куратор");if(!u)throw new Error("Не указан ученик");if(!d)throw new Error("Не указан предмет");await D.Services.User.assignMentor(u,c,d,{showLoader:!0}),s("mentor-assigned")}catch(h){D.Services.UI.openErrorModal("Не удалось назначить куратора",h.message)}}return(c,u)=>{const d=qa,h=kn,f=Wa,p=bn,v=hn;return b(),B(v,{visible:i.value,"onUpdate:visible":u[3]||(u[3]=y=>i.value=y),onConfirm:u[4]||(u[4]=y=>l()),onCancel:u[5]||(u[5]=y=>r.value=[])},{title:L(()=>[m("div",ole,[E(d,{subject:c.subject},null,8,["subject"])]),m("h2",null,[W("Выбор куратора для учника "),rle,W(H(c.student.name),1)])]),text:L(()=>[m("div",ale,[E(h,{modelValue:g(o).pagination.value.search,"onUpdate:modelValue":u[0]||(u[0]=y=>g(o).pagination.value.search=y),"is-loading":g(o).isListLoading.value},null,8,["modelValue","is-loading"])]),m("div",lle,[E(f,{modelValue:r.value,"onUpdate:modelValue":u[1]||(u[1]=y=>r.value=y),items:g(o).results.value,"item-label-key":"name,username","item-key":"id"},null,8,["modelValue","items"])]),m("div",cle,[E(p,{page:g(o).pagination.value.page,"onUpdate:page":u[2]||(u[2]=y=>g(o).pagination.value.page=y),total:g(o).resultsMeta.value.total,limit:g(o).pagination.value.limit},null,8,["page","total","limit"])])]),_:1},8,["visible"])}}});const dle=J(ule,[["__scopeId","data-v-b5872e39"]]),hle=["onClick"],fle={class:"student-mentors-action__label"},ple=j({__name:"student-mentors-action",props:{mentorId:{}},emits:["assign-mentor","assign-me-student","remove-mentor","change-mentor"],setup(t,{emit:e}){const n=t,s=e,i=Gt([{label:"Назначить куратора",icon:"add",action:()=>s("assign-mentor"),roles:["admin","teacher","assistant"],visible:r=>!r},{label:"Сменить куратора",icon:"edit",action:()=>s("assign-mentor"),roles:["admin","teacher","assistant"],visible:r=>!!r},{label:"Открепить куратора",icon:"cross-red",action:()=>s("remove-mentor"),roles:["admin","teacher","assistant"],visible:r=>!!r},{label:"Стать куратором",icon:"add",action:()=>s("assign-me-student"),roles:["mentor"],visible:r=>r!==D.Context.User.id},{label:"Перестать быть куратором",icon:"cross-red",action:()=>s("remove-mentor"),roles:["mentor"],visible:r=>r===D.Context.User.id}]),o=q(()=>i.filter(r=>{const a=D.Context.User;return r.roles.includes(a.role)&&r.visible(n.mentorId)}));return(r,a)=>{const l=It;return b(!0),$(ue,null,Be(o.value,c=>(b(),$("div",{class:"student-mentors-action",key:c.label,onClick:u=>c.action()},[(b(),$("div",{class:"student-mentors-action__icon",key:c.icon},[E(l,{name:c.icon},null,8,["name"])])),m("div",fle,[m("span",null,H(c.label),1)])],8,hle))),128)}}});const mle=J(ple,[["__scopeId","data-v-b154ee7b"]]),gle=t=>(Ie("data-v-26b08da1"),t=t(),Oe(),t),_le={key:0,class:"student-mentors-view"},vle={class:"row"},yle={class:"student-mentors-view__card"},ble={class:"student-mentors-view__card__subject"},wle={class:"student-mentors-view__card__mentor"},xle={key:0,class:"student-mentors-view__card__mentor__current"},Sle={class:"student-mentors-view__card__mentor__card"},kle={key:1,class:"student-mentors-view__no-mentors"},$le=gle(()=>m("p",null,"Кураторы пока не назначены",-1)),Cle=[$le],Ele=j({__name:"student-mentors-view",props:{student:{},mentorAssignments:{}},emits:["mentor-assigned"],setup(t,{emit:e}){const n=t,s=e,i=D.Services.User,o=D.Services.Subject,r=D.Services.UI,a=Y([]),l=Y(!1),c=Gt({visibility:l,subject:null,currentMentor:null,student:null}),u=q(()=>a.value.map(p=>({...p,assignment:n.mentorAssignments.find(v=>v.subject.id===p.id)||null})).filter(p=>D.Context.roleIs(["admin","teacher","mentor","assistant"])||p.assignment));function d(p,v){D.Context.roleIs(["student"])||p&&(c.subject=p,c.currentMentor=v,c.student=n.student,l.value=!0)}async function h(p){try{await i.assignMentor(n.student.id,D.Context.User.id,p.id,{showLoader:!0}),s("mentor-assigned")}catch(v){r.openErrorModal("Не удалось назначить куратора",v.message)}}async function f(p){try{await i.removeMentor(n.student.id,p.id,{showLoader:!0}),s("mentor-assigned")}catch(v){r.openErrorModal("Не удалось отвязать куратора",v.message)}}return ri(async()=>{a.value=(await o.getSubjects()).data}),(p,v)=>{const y=qa,_=u0,w=mle,x=dle;return b(),$(ue,null,[u.value.length>0?(b(),$("div",_le,[m("div",vle,[(b(!0),$(ue,null,Be(u.value,k=>{var C,S,A;return b(),$("div",{class:"col-lg-6",key:k.id},[m("div",yle,[m("div",ble,[E(y,{subject:k},null,8,["subject"])]),m("div",wle,[(C=k.assignment)!=null&&C.mentor?(b(),$("div",xle,[m("div",Sle,[E(_,{user:k.assignment.mentor},null,8,["user"])])])):N("",!0),E(w,{"mentor-id":((A=(S=k.assignment)==null?void 0:S.mentor)==null?void 0:A.id)||null,onAssignMentor:O=>{var M;return d(k,((M=k.assignment)==null?void 0:M.mentor)||null)},onAssignMeStudent:O=>h(k),onRemoveMentor:O=>f(k)},null,8,["mentor-id","onAssignMentor","onAssignMeStudent","onRemoveMentor"])])])])}),128))])])):N("",!0),u.value.length===0?(b(),$("div",kle,Cle)):N("",!0),E(x,{visible:c.visibility,"onUpdate:visible":v[0]||(v[0]=k=>c.visibility=k),subject:c.subject,"current-mentor":c.currentMentor,student:c.student,onMentorAssigned:v[1]||(v[1]=k=>p.$emit("mentor-assigned"))},null,8,["visible","subject","current-mentor","student"])],64)}}});const uw=J(Ele,[["__scopeId","data-v-26b08da1"]]),Tle={class:"statistics-entry-card__inner"},Ale={class:"statistics-entry-card__value"},Mle={class:"statistics-entry-card__value__main"},Ile={key:0,class:"statistics-entry-card__value__percentage"},Ole={class:"statistics-entry-card__title"},Dle={class:"statistics-entry-card__modal-inner"},Lle={class:"statistics-entry-card__sub-entries"},Ple={class:"statistics-entry-card__sub-entries__item__value"},Rle={class:"statistics-entry-card__sub-entries__item__value__main"},Vle={key:0,class:"statistics-entry-card__sub-entries__item__value__percentage"},Nle={class:"statistics-entry-card__sub-entries__item__name"},Ule=j({__name:"statistics-entry-card",props:{entry:{}},setup(t){const e=t,n=q(()=>{var i;return(i=e.entry.subEntries)!=null&&i.length?"col-12 col-md-12 col-lg-6":"col-6 col-md-4 col-lg-3"});function s(i){return i.toLocaleString("ru-RU")}return(i,o)=>{const r=h0;return b(),$("div",{class:Se(["statistics-entry-card",n.value])},[m("div",Tle,[m("h1",Ale,[m("span",Mle,H(s(i.entry.value)),1),i.entry.percentage?(b(),$("span",Ile,H(i.entry.percentage)+"% ",1)):N("",!0)]),m("p",Ole,[W(H(i.entry.name)+" ",1),i.entry.description?(b(),B(r,{key:0,title:i.entry.name},{default:L(()=>[m("p",Dle,H(i.entry.description),1)]),_:1},8,["title"])):N("",!0)]),m("div",Lle,[(b(!0),$(ue,null,Be(i.entry.subEntries,a=>(b(),$("div",{class:"statistics-entry-card__sub-entries__item",key:a.name},[m("h4",Ple,[m("span",Rle,H(s(a.value)),1),a.percentage?(b(),$("span",Vle,H(a.percentage)+"% ",1)):N("",!0)]),m("p",Nle,H(a.name),1)]))),128))])])],2)}}});const Ble=J(Ule,[["__scopeId","data-v-47a89625"]]);/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function sh(t){return t+.5|0}const Er=(t,e,n)=>Math.max(Math.min(t,n),e);function iu(t){return Er(sh(t*2.55),0,255)}function Lr(t){return Er(sh(t*255),0,255)}function Ao(t){return Er(sh(t/2.55)/100,0,1)}function Ub(t){return Er(sh(t*100),0,100)}const Ks={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},O_=[..."0123456789ABCDEF"],jle=t=>O_[t&15],zle=t=>O_[(t&240)>>4]+O_[t&15],Qh=t=>(t&240)>>4===(t&15),Fle=t=>Qh(t.r)&&Qh(t.g)&&Qh(t.b)&&Qh(t.a);function Wle(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Ks[t[1]]*17,g:255&Ks[t[2]]*17,b:255&Ks[t[3]]*17,a:e===5?Ks[t[4]]*17:255}:(e===7||e===9)&&(n={r:Ks[t[1]]<<4|Ks[t[2]],g:Ks[t[3]]<<4|Ks[t[4]],b:Ks[t[5]]<<4|Ks[t[6]],a:e===9?Ks[t[7]]<<4|Ks[t[8]]:255})),n}const Hle=(t,e)=>t<255?e(t):"";function qle(t){var e=Fle(t)?jle:zle;return t?"#"+e(t.r)+e(t.g)+e(t.b)+Hle(t.a,e):void 0}const Gle=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function dw(t,e,n){const s=e*Math.min(n,1-n),i=(o,r=(o+t/30)%12)=>n-s*Math.max(Math.min(r-3,9-r,1),-1);return[i(0),i(8),i(4)]}function Yle(t,e,n){const s=(i,o=(i+t/60)%6)=>n-n*e*Math.max(Math.min(o,4-o,1),0);return[s(5),s(3),s(1)]}function Kle(t,e,n){const s=dw(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)s[i]*=1-e-n,s[i]+=e;return s}function Zle(t,e,n,s,i){return t===i?(e-n)/s+(e<n?6:0):e===i?(n-t)/s+2:(t-e)/s+4}function L0(t){const n=t.r/255,s=t.g/255,i=t.b/255,o=Math.max(n,s,i),r=Math.min(n,s,i),a=(o+r)/2;let l,c,u;return o!==r&&(u=o-r,c=a>.5?u/(2-o-r):u/(o+r),l=Zle(n,s,i,u,o),l=l*60+.5),[l|0,c||0,a]}function P0(t,e,n,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,s)).map(Lr)}function R0(t,e,n){return P0(dw,t,e,n)}function Xle(t,e,n){return P0(Kle,t,e,n)}function Jle(t,e,n){return P0(Yle,t,e,n)}function hw(t){return(t%360+360)%360}function Qle(t){const e=Gle.exec(t);let n=255,s;if(!e)return;e[5]!==s&&(n=e[6]?iu(+e[5]):Lr(+e[5]));const i=hw(+e[2]),o=+e[3]/100,r=+e[4]/100;return e[1]==="hwb"?s=Xle(i,o,r):e[1]==="hsv"?s=Jle(i,o,r):s=R0(i,o,r),{r:s[0],g:s[1],b:s[2],a:n}}function ece(t,e){var n=L0(t);n[0]=hw(n[0]+e),n=R0(n),t.r=n[0],t.g=n[1],t.b=n[2]}function tce(t){if(!t)return;const e=L0(t),n=e[0],s=Ub(e[1]),i=Ub(e[2]);return t.a<255?`hsla(${n}, ${s}%, ${i}%, ${Ao(t.a)})`:`hsl(${n}, ${s}%, ${i}%)`}const Bb={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},jb={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function nce(){const t={},e=Object.keys(jb),n=Object.keys(Bb);let s,i,o,r,a;for(s=0;s<e.length;s++){for(r=a=e[s],i=0;i<n.length;i++)o=n[i],a=a.replace(o,Bb[o]);o=parseInt(jb[r],16),t[a]=[o>>16&255,o>>8&255,o&255]}return t}let ef;function sce(t){ef||(ef=nce(),ef.transparent=[0,0,0,0]);const e=ef[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const ice=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function oce(t){const e=ice.exec(t);let n=255,s,i,o;if(e){if(e[7]!==s){const r=+e[7];n=e[8]?iu(r):Er(r*255,0,255)}return s=+e[1],i=+e[3],o=+e[5],s=255&(e[2]?iu(s):Er(s,0,255)),i=255&(e[4]?iu(i):Er(i,0,255)),o=255&(e[6]?iu(o):Er(o,0,255)),{r:s,g:i,b:o,a:n}}}function rce(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Ao(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const n1=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,pl=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function ace(t,e,n){const s=pl(Ao(t.r)),i=pl(Ao(t.g)),o=pl(Ao(t.b));return{r:Lr(n1(s+n*(pl(Ao(e.r))-s))),g:Lr(n1(i+n*(pl(Ao(e.g))-i))),b:Lr(n1(o+n*(pl(Ao(e.b))-o))),a:t.a+n*(e.a-t.a)}}function tf(t,e,n){if(t){let s=L0(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*n,e===0?360:1)),s=R0(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function fw(t,e){return t&&Object.assign(e||{},t)}function zb(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Lr(t[3]))):(e=fw(t,{r:0,g:0,b:0,a:1}),e.a=Lr(e.a)),e}function lce(t){return t.charAt(0)==="r"?oce(t):Qle(t)}class bd{constructor(e){if(e instanceof bd)return e;const n=typeof e;let s;n==="object"?s=zb(e):n==="string"&&(s=Wle(e)||sce(e)||lce(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=fw(this._rgb);return e&&(e.a=Ao(e.a)),e}set rgb(e){this._rgb=zb(e)}rgbString(){return this._valid?rce(this._rgb):void 0}hexString(){return this._valid?qle(this._rgb):void 0}hslString(){return this._valid?tce(this._rgb):void 0}mix(e,n){if(e){const s=this.rgb,i=e.rgb;let o;const r=n===o?.5:n,a=2*r-1,l=s.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;o=1-c,s.r=255&c*s.r+o*i.r+.5,s.g=255&c*s.g+o*i.g+.5,s.b=255&c*s.b+o*i.b+.5,s.a=r*s.a+(1-r)*i.a,this.rgb=s}return this}interpolate(e,n){return e&&(this._rgb=ace(this._rgb,e._rgb,n)),this}clone(){return new bd(this.rgb)}alpha(e){return this._rgb.a=Lr(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=sh(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return tf(this._rgb,2,e),this}darken(e){return tf(this._rgb,2,-e),this}saturate(e){return tf(this._rgb,1,e),this}desaturate(e){return tf(this._rgb,1,-e),this}rotate(e){return ece(this._rgb,e),this}}/*!
 * Chart.js v4.4.3
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function So(){}const cce=(()=>{let t=0;return()=>t++})();function Vt(t){return t===null||typeof t>"u"}function tn(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Mt(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function vn(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Rs(t,e){return vn(t)?t:e}function vt(t,e){return typeof t>"u"?e:t}const uce=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,pw=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Jt(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Wt(t,e,n,s){let i,o,r;if(tn(t))if(o=t.length,s)for(i=o-1;i>=0;i--)e.call(n,t[i],i);else for(i=0;i<o;i++)e.call(n,t[i],i);else if(Mt(t))for(r=Object.keys(t),o=r.length,i=0;i<o;i++)e.call(n,t[r[i]],r[i])}function pp(t,e){let n,s,i,o;if(!t||!e||t.length!==e.length)return!1;for(n=0,s=t.length;n<s;++n)if(i=t[n],o=e[n],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function mp(t){if(tn(t))return t.map(mp);if(Mt(t)){const e=Object.create(null),n=Object.keys(t),s=n.length;let i=0;for(;i<s;++i)e[n[i]]=mp(t[n[i]]);return e}return t}function mw(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function dce(t,e,n,s){if(!mw(t))return;const i=e[t],o=n[t];Mt(i)&&Mt(o)?wd(i,o,s):e[t]=mp(o)}function wd(t,e,n){const s=tn(e)?e:[e],i=s.length;if(!Mt(t))return t;n=n||{};const o=n.merger||dce;let r;for(let a=0;a<i;++a){if(r=s[a],!Mt(r))continue;const l=Object.keys(r);for(let c=0,u=l.length;c<u;++c)o(l[c],t,r,n)}return t}function Iu(t,e){return wd(t,e,{merger:hce})}function hce(t,e,n){if(!mw(t))return;const s=e[t],i=n[t];Mt(s)&&Mt(i)?Iu(s,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=mp(i))}const Fb={"":t=>t,x:t=>t.x,y:t=>t.y};function fce(t){const e=t.split("."),n=[];let s="";for(const i of e)s+=i,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function pce(t){const e=fce(t);return n=>{for(const s of e){if(s==="")break;n=n&&n[s]}return n}}function Hr(t,e){return(Fb[e]||(Fb[e]=pce(e)))(t)}function V0(t){return t.charAt(0).toUpperCase()+t.slice(1)}const xd=t=>typeof t<"u",qr=t=>typeof t=="function",Wb=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function mce(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const sn=Math.PI,nn=2*sn,gce=nn+sn,gp=Number.POSITIVE_INFINITY,_ce=sn/180,wn=sn/2,ra=sn/4,Hb=sn*2/3,Tr=Math.log10,to=Math.sign;function Ou(t,e,n){return Math.abs(t-e)<n}function qb(t){const e=Math.round(t);t=Ou(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Tr(t))),s=t/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function vce(t){const e=[],n=Math.sqrt(t);let s;for(s=1;s<n;s++)t%s===0&&(e.push(s),e.push(t/s));return n===(n|0)&&e.push(n),e.sort((i,o)=>i-o).pop(),e}function hc(t){return!isNaN(parseFloat(t))&&isFinite(t)}function yce(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function gw(t,e,n){let s,i,o;for(s=0,i=t.length;s<i;s++)o=t[s][n],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function bi(t){return t*(sn/180)}function N0(t){return t*(180/sn)}function Gb(t){if(!vn(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function _w(t,e){const n=e.x-t.x,s=e.y-t.y,i=Math.sqrt(n*n+s*s);let o=Math.atan2(s,n);return o<-.5*sn&&(o+=nn),{angle:o,distance:i}}function D_(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function bce(t,e){return(t-e+gce)%nn-sn}function Us(t){return(t%nn+nn)%nn}function Sd(t,e,n,s){const i=Us(t),o=Us(e),r=Us(n),a=Us(o-i),l=Us(r-i),c=Us(i-o),u=Us(i-r);return i===o||i===r||s&&o===r||a>l&&c<u}function Bn(t,e,n){return Math.max(e,Math.min(n,t))}function wce(t){return Bn(t,-32768,32767)}function Ro(t,e,n,s=1e-6){return t>=Math.min(e,n)-s&&t<=Math.max(e,n)+s}function U0(t,e,n){n=n||(r=>t[r]<e);let s=t.length-1,i=0,o;for(;s-i>1;)o=i+s>>1,n(o)?i=o:s=o;return{lo:i,hi:s}}const Vo=(t,e,n,s)=>U0(t,n,s?i=>{const o=t[i][e];return o<n||o===n&&t[i+1][e]===n}:i=>t[i][e]<n),xce=(t,e,n)=>U0(t,n,s=>t[s][e]>=n);function Sce(t,e,n){let s=0,i=t.length;for(;s<i&&t[s]<e;)s++;for(;i>s&&t[i-1]>n;)i--;return s>0||i<t.length?t.slice(s,i):t}const vw=["push","pop","shift","splice","unshift"];function kce(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),vw.forEach(n=>{const s="_onData"+V0(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...o){const r=i.apply(this,o);return t._chartjs.listeners.forEach(a=>{typeof a[s]=="function"&&a[s](...o)}),r}})})}function Yb(t,e){const n=t._chartjs;if(!n)return;const s=n.listeners,i=s.indexOf(e);i!==-1&&s.splice(i,1),!(s.length>0)&&(vw.forEach(o=>{delete t[o]}),delete t._chartjs)}function yw(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const bw=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function ww(t,e){let n=[],s=!1;return function(...i){n=i,s||(s=!0,bw.call(window,()=>{s=!1,t.apply(e,n)}))}}function $ce(t,e){let n;return function(...s){return e?(clearTimeout(n),n=setTimeout(t,e,s)):t.apply(this,s),e}}const B0=t=>t==="start"?"left":t==="end"?"right":"center",Qn=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,Cce=(t,e,n,s)=>t===(s?"left":"right")?n:t==="center"?(e+n)/2:e;function xw(t,e,n){const s=e.length;let i=0,o=s;if(t._sorted){const{iScale:r,_parsed:a}=t,l=r.axis,{min:c,max:u,minDefined:d,maxDefined:h}=r.getUserBounds();d&&(i=Bn(Math.min(Vo(a,l,c).lo,n?s:Vo(e,l,r.getPixelForValue(c)).lo),0,s-1)),h?o=Bn(Math.max(Vo(a,r.axis,u,!0).hi+1,n?0:Vo(e,l,r.getPixelForValue(u),!0).hi+1),i,s)-i:o=s-i}return{start:i,count:o}}function Sw(t){const{xScale:e,yScale:n,_scaleRanges:s}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!s)return t._scaleRanges=i,!0;const o=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==n.min||s.ymax!==n.max;return Object.assign(s,i),o}const nf=t=>t===0||t===1,Kb=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*nn/n)),Zb=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*nn/n)+1,Du={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*wn)+1,easeOutSine:t=>Math.sin(t*wn),easeInOutSine:t=>-.5*(Math.cos(sn*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>nf(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>nf(t)?t:Kb(t,.075,.3),easeOutElastic:t=>nf(t)?t:Zb(t,.075,.3),easeInOutElastic(t){return nf(t)?t:t<.5?.5*Kb(t*2,.1125,.45):.5+.5*Zb(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Du.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Du.easeInBounce(t*2)*.5:Du.easeOutBounce(t*2-1)*.5+.5};function j0(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Xb(t){return j0(t)?t:new bd(t)}function s1(t){return j0(t)?t:new bd(t).saturate(.5).darken(.1).hexString()}const Ece=["x","y","borderWidth","radius","tension"],Tce=["color","borderColor","backgroundColor"];function Ace(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:Tce},numbers:{type:"number",properties:Ece}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Mce(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Jb=new Map;function Ice(t,e){e=e||{};const n=t+JSON.stringify(e);let s=Jb.get(n);return s||(s=new Intl.NumberFormat(t,e),Jb.set(n,s)),s}function ih(t,e,n){return Ice(e,n).format(t)}const kw={values(t){return tn(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const s=this.chart.options.locale;let i,o=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),o=Oce(t,n)}const r=Tr(Math.abs(o)),a=isNaN(r)?1:Math.max(Math.min(-1*Math.floor(r),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),ih(t,s,l)},logarithmic(t,e,n){if(t===0)return"0";const s=n[e].significand||t/Math.pow(10,Math.floor(Tr(t)));return[1,2,3,5,10,15].includes(s)||e>.8*n.length?kw.numeric.call(this,t,e,n):""}};function Oce(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var bm={formatters:kw};function Dce(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:bm.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Na=Object.create(null),L_=Object.create(null);function Lu(t,e){if(!e)return t;const n=e.split(".");for(let s=0,i=n.length;s<i;++s){const o=n[s];t=t[o]||(t[o]=Object.create(null))}return t}function i1(t,e,n){return typeof e=="string"?wd(Lu(t,e),n):wd(Lu(t,""),e)}class Lce{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,i)=>s1(i.backgroundColor),this.hoverBorderColor=(s,i)=>s1(i.borderColor),this.hoverColor=(s,i)=>s1(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return i1(this,e,n)}get(e){return Lu(this,e)}describe(e,n){return i1(L_,e,n)}override(e,n){return i1(Na,e,n)}route(e,n,s,i){const o=Lu(this,e),r=Lu(this,s),a="_"+n;Object.defineProperties(o,{[a]:{value:o[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=r[i];return Mt(l)?Object.assign({},c,l):vt(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var yn=new Lce({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Ace,Mce,Dce]);function Pce(t){return!t||Vt(t.size)||Vt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function _p(t,e,n,s,i){let o=e[i];return o||(o=e[i]=t.measureText(i).width,n.push(i)),o>s&&(s=o),s}function Rce(t,e,n,s){s=s||{};let i=s.data=s.data||{},o=s.garbageCollect=s.garbageCollect||[];s.font!==e&&(i=s.data={},o=s.garbageCollect=[],s.font=e),t.save(),t.font=e;let r=0;const a=n.length;let l,c,u,d,h;for(l=0;l<a;l++)if(d=n[l],d!=null&&!tn(d))r=_p(t,i,o,r,d);else if(tn(d))for(c=0,u=d.length;c<u;c++)h=d[c],h!=null&&!tn(h)&&(r=_p(t,i,o,r,h));t.restore();const f=o.length/2;if(f>n.length){for(l=0;l<f;l++)delete i[o[l]];o.splice(0,f)}return r}function aa(t,e,n){const s=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*s)/s+i}function Qb(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function P_(t,e,n,s){$w(t,e,n,s,null)}function $w(t,e,n,s,i){let o,r,a,l,c,u,d,h;const f=e.pointStyle,p=e.rotation,v=e.radius;let y=(p||0)*_ce;if(f&&typeof f=="object"&&(o=f.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){t.save(),t.translate(n,s),t.rotate(y),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(v)||v<=0)){switch(t.beginPath(),f){default:i?t.ellipse(n,s,i/2,v,0,0,nn):t.arc(n,s,v,0,nn),t.closePath();break;case"triangle":u=i?i/2:v,t.moveTo(n+Math.sin(y)*u,s-Math.cos(y)*v),y+=Hb,t.lineTo(n+Math.sin(y)*u,s-Math.cos(y)*v),y+=Hb,t.lineTo(n+Math.sin(y)*u,s-Math.cos(y)*v),t.closePath();break;case"rectRounded":c=v*.516,l=v-c,r=Math.cos(y+ra)*l,d=Math.cos(y+ra)*(i?i/2-c:l),a=Math.sin(y+ra)*l,h=Math.sin(y+ra)*(i?i/2-c:l),t.arc(n-d,s-a,c,y-sn,y-wn),t.arc(n+h,s-r,c,y-wn,y),t.arc(n+d,s+a,c,y,y+wn),t.arc(n-h,s+r,c,y+wn,y+sn),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*v,u=i?i/2:l,t.rect(n-u,s-l,2*u,2*l);break}y+=ra;case"rectRot":d=Math.cos(y)*(i?i/2:v),r=Math.cos(y)*v,a=Math.sin(y)*v,h=Math.sin(y)*(i?i/2:v),t.moveTo(n-d,s-a),t.lineTo(n+h,s-r),t.lineTo(n+d,s+a),t.lineTo(n-h,s+r),t.closePath();break;case"crossRot":y+=ra;case"cross":d=Math.cos(y)*(i?i/2:v),r=Math.cos(y)*v,a=Math.sin(y)*v,h=Math.sin(y)*(i?i/2:v),t.moveTo(n-d,s-a),t.lineTo(n+d,s+a),t.moveTo(n+h,s-r),t.lineTo(n-h,s+r);break;case"star":d=Math.cos(y)*(i?i/2:v),r=Math.cos(y)*v,a=Math.sin(y)*v,h=Math.sin(y)*(i?i/2:v),t.moveTo(n-d,s-a),t.lineTo(n+d,s+a),t.moveTo(n+h,s-r),t.lineTo(n-h,s+r),y+=ra,d=Math.cos(y)*(i?i/2:v),r=Math.cos(y)*v,a=Math.sin(y)*v,h=Math.sin(y)*(i?i/2:v),t.moveTo(n-d,s-a),t.lineTo(n+d,s+a),t.moveTo(n+h,s-r),t.lineTo(n-h,s+r);break;case"line":r=i?i/2:Math.cos(y)*v,a=Math.sin(y)*v,t.moveTo(n-r,s-a),t.lineTo(n+r,s+a);break;case"dash":t.moveTo(n,s),t.lineTo(n+Math.cos(y)*(i?i/2:v),s+Math.sin(y)*v);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function No(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function wm(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function xm(t){t.restore()}function Vce(t,e,n,s,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const o=(e.x+n.x)/2;t.lineTo(o,e.y),t.lineTo(o,n.y)}else i==="after"!=!!s?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function Nce(t,e,n,s){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function Uce(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Vt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function Bce(t,e,n,s,i){if(i.strikethrough||i.underline){const o=t.measureText(s),r=e-o.actualBoundingBoxLeft,a=e+o.actualBoundingBoxRight,l=n-o.actualBoundingBoxAscent,c=n+o.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(r,u),t.lineTo(a,u),t.stroke()}}function jce(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Ua(t,e,n,s,i,o={}){const r=tn(e)?e:[e],a=o.strokeWidth>0&&o.strokeColor!=="";let l,c;for(t.save(),t.font=i.string,Uce(t,o),l=0;l<r.length;++l)c=r[l],o.backdrop&&jce(t,o.backdrop),a&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),Vt(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(c,n,s,o.maxWidth)),t.fillText(c,n,s,o.maxWidth),Bce(t,n,s,c,o),s+=Number(i.lineHeight);t.restore()}function kd(t,e){const{x:n,y:s,w:i,h:o,radius:r}=e;t.arc(n+r.topLeft,s+r.topLeft,r.topLeft,1.5*sn,sn,!0),t.lineTo(n,s+o-r.bottomLeft),t.arc(n+r.bottomLeft,s+o-r.bottomLeft,r.bottomLeft,sn,wn,!0),t.lineTo(n+i-r.bottomRight,s+o),t.arc(n+i-r.bottomRight,s+o-r.bottomRight,r.bottomRight,wn,0,!0),t.lineTo(n+i,s+r.topRight),t.arc(n+i-r.topRight,s+r.topRight,r.topRight,0,-wn,!0),t.lineTo(n+r.topLeft,s)}const zce=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Fce=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Wce(t,e){const n=(""+t).match(zce);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const Hce=t=>+t||0;function z0(t,e){const n={},s=Mt(e),i=s?Object.keys(e):e,o=Mt(t)?s?r=>vt(t[r],t[e[r]]):r=>t[r]:()=>t;for(const r of i)n[r]=Hce(o(r));return n}function Cw(t){return z0(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Ca(t){return z0(t,["topLeft","topRight","bottomLeft","bottomRight"])}function ls(t){const e=Cw(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Rn(t,e){t=t||{},e=e||yn.font;let n=vt(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let s=vt(t.style,e.style);s&&!(""+s).match(Fce)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const i={family:vt(t.family,e.family),lineHeight:Wce(vt(t.lineHeight,e.lineHeight),n),size:n,style:s,weight:vt(t.weight,e.weight),string:""};return i.string=Pce(i),i}function ou(t,e,n,s){let i=!0,o,r,a;for(o=0,r=t.length;o<r;++o)if(a=t[o],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),i=!1),n!==void 0&&tn(a)&&(a=a[n%a.length],i=!1),a!==void 0))return s&&!i&&(s.cacheable=!1),a}function qce(t,e,n){const{min:s,max:i}=t,o=pw(e,(i-s)/2),r=(a,l)=>n&&a===0?0:a+l;return{min:r(s,-Math.abs(o)),max:r(i,o)}}function Xr(t,e){return Object.assign(Object.create(t),e)}function F0(t,e=[""],n,s,i=()=>t[0]){const o=n||t;typeof s>"u"&&(s=Mw("_fallback",t));const r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:o,_fallback:s,_getTarget:i,override:a=>F0([a,...t],e,o,s)};return new Proxy(r,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return Tw(a,l,()=>eue(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return t3(a).includes(l)},ownKeys(a){return t3(a)},set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function fc(t,e,n,s){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:Ew(t,s),setContext:o=>fc(t,o,n,s),override:o=>fc(t.override(o),e,n,s)};return new Proxy(i,{deleteProperty(o,r){return delete o[r],delete t[r],!0},get(o,r,a){return Tw(o,r,()=>Yce(o,r,a))},getOwnPropertyDescriptor(o,r){return o._descriptors.allKeys?Reflect.has(t,r)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,r)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(o,r){return Reflect.has(t,r)},ownKeys(){return Reflect.ownKeys(t)},set(o,r,a){return t[r]=a,delete o[r],!0}})}function Ew(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:s=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:s,isScriptable:qr(n)?n:()=>n,isIndexable:qr(s)?s:()=>s}}const Gce=(t,e)=>t?t+V0(e):e,W0=(t,e)=>Mt(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Tw(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const s=n();return t[e]=s,s}function Yce(t,e,n){const{_proxy:s,_context:i,_subProxy:o,_descriptors:r}=t;let a=s[e];return qr(a)&&r.isScriptable(e)&&(a=Kce(e,a,t,n)),tn(a)&&a.length&&(a=Zce(e,a,t,r.isIndexable)),W0(e,a)&&(a=fc(a,i,o&&o[e],r)),a}function Kce(t,e,n,s){const{_proxy:i,_context:o,_subProxy:r,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(o,r||s);return a.delete(t),W0(t,l)&&(l=H0(i._scopes,i,t,l)),l}function Zce(t,e,n,s){const{_proxy:i,_context:o,_subProxy:r,_descriptors:a}=n;if(typeof o.index<"u"&&s(t))return e[o.index%e.length];if(Mt(e[0])){const l=e,c=i._scopes.filter(u=>u!==l);e=[];for(const u of l){const d=H0(c,i,t,u);e.push(fc(d,o,r&&r[t],a))}}return e}function Aw(t,e,n){return qr(t)?t(e,n):t}const Xce=(t,e)=>t===!0?e:typeof t=="string"?Hr(e,t):void 0;function Jce(t,e,n,s,i){for(const o of e){const r=Xce(n,o);if(r){t.add(r);const a=Aw(r._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==s)return a}else if(r===!1&&typeof s<"u"&&n!==s)return null}return!1}function H0(t,e,n,s){const i=e._rootScopes,o=Aw(e._fallback,n,s),r=[...t,...i],a=new Set;a.add(s);let l=e3(a,r,n,o||n,s);return l===null||typeof o<"u"&&o!==n&&(l=e3(a,r,o,l,s),l===null)?!1:F0(Array.from(a),[""],i,o,()=>Qce(e,n,s))}function e3(t,e,n,s,i){for(;n;)n=Jce(t,e,n,s,i);return n}function Qce(t,e,n){const s=t._getTarget();e in s||(s[e]={});const i=s[e];return tn(i)&&Mt(n)?n:i||{}}function eue(t,e,n,s){let i;for(const o of e)if(i=Mw(Gce(o,t),n),typeof i<"u")return W0(t,i)?H0(n,s,t,i):i}function Mw(t,e){for(const n of e){if(!n)continue;const s=n[t];if(typeof s<"u")return s}}function t3(t){let e=t._keys;return e||(e=t._keys=tue(t._scopes)),e}function tue(t){const e=new Set;for(const n of t)for(const s of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(s);return Array.from(e)}function Iw(t,e,n,s){const{iScale:i}=t,{key:o="r"}=this._parsing,r=new Array(s);let a,l,c,u;for(a=0,l=s;a<l;++a)c=a+n,u=e[c],r[a]={r:i.parse(Hr(u,o),c)};return r}const nue=Number.EPSILON||1e-14,pc=(t,e)=>e<t.length&&!t[e].skip&&t[e],Ow=t=>t==="x"?"y":"x";function sue(t,e,n,s){const i=t.skip?e:t,o=e,r=n.skip?e:n,a=D_(o,i),l=D_(r,o);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=s*c,h=s*u;return{previous:{x:o.x-d*(r.x-i.x),y:o.y-d*(r.y-i.y)},next:{x:o.x+h*(r.x-i.x),y:o.y+h*(r.y-i.y)}}}function iue(t,e,n){const s=t.length;let i,o,r,a,l,c=pc(t,0);for(let u=0;u<s-1;++u)if(l=c,c=pc(t,u+1),!(!l||!c)){if(Ou(e[u],0,nue)){n[u]=n[u+1]=0;continue}i=n[u]/e[u],o=n[u+1]/e[u],a=Math.pow(i,2)+Math.pow(o,2),!(a<=9)&&(r=3/Math.sqrt(a),n[u]=i*r*e[u],n[u+1]=o*r*e[u])}}function oue(t,e,n="x"){const s=Ow(n),i=t.length;let o,r,a,l=pc(t,0);for(let c=0;c<i;++c){if(r=a,a=l,l=pc(t,c+1),!a)continue;const u=a[n],d=a[s];r&&(o=(u-r[n])/3,a[`cp1${n}`]=u-o,a[`cp1${s}`]=d-o*e[c]),l&&(o=(l[n]-u)/3,a[`cp2${n}`]=u+o,a[`cp2${s}`]=d+o*e[c])}}function rue(t,e="x"){const n=Ow(e),s=t.length,i=Array(s).fill(0),o=Array(s);let r,a,l,c=pc(t,0);for(r=0;r<s;++r)if(a=l,l=c,c=pc(t,r+1),!!l){if(c){const u=c[e]-l[e];i[r]=u!==0?(c[n]-l[n])/u:0}o[r]=a?c?to(i[r-1])!==to(i[r])?0:(i[r-1]+i[r])/2:i[r-1]:i[r]}iue(t,i,o),oue(t,o,e)}function sf(t,e,n){return Math.max(Math.min(t,n),e)}function aue(t,e){let n,s,i,o,r,a=No(t[0],e);for(n=0,s=t.length;n<s;++n)r=o,o=a,a=n<s-1&&No(t[n+1],e),o&&(i=t[n],r&&(i.cp1x=sf(i.cp1x,e.left,e.right),i.cp1y=sf(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=sf(i.cp2x,e.left,e.right),i.cp2y=sf(i.cp2y,e.top,e.bottom)))}function lue(t,e,n,s,i){let o,r,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")rue(t,i);else{let c=s?t[t.length-1]:t[0];for(o=0,r=t.length;o<r;++o)a=t[o],l=sue(c,a,t[Math.min(o+1,r-(s?0:1))%r],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&aue(t,n)}function q0(){return typeof window<"u"&&typeof document<"u"}function G0(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function vp(t,e,n){let s;return typeof t=="string"?(s=parseInt(t,10),t.indexOf("%")!==-1&&(s=s/100*e.parentNode[n])):s=t,s}const Sm=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function cue(t,e){return Sm(t).getPropertyValue(e)}const uue=["top","right","bottom","left"];function Ea(t,e,n){const s={};n=n?"-"+n:"";for(let i=0;i<4;i++){const o=uue[i];s[o]=parseFloat(t[e+"-"+o+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const due=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function hue(t,e){const n=t.touches,s=n&&n.length?n[0]:t,{offsetX:i,offsetY:o}=s;let r=!1,a,l;if(due(i,o,t.target))a=i,l=o;else{const c=e.getBoundingClientRect();a=s.clientX-c.left,l=s.clientY-c.top,r=!0}return{x:a,y:l,box:r}}function fa(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:s}=e,i=Sm(n),o=i.boxSizing==="border-box",r=Ea(i,"padding"),a=Ea(i,"border","width"),{x:l,y:c,box:u}=hue(t,n),d=r.left+(u&&a.left),h=r.top+(u&&a.top);let{width:f,height:p}=e;return o&&(f-=r.width+a.width,p-=r.height+a.height),{x:Math.round((l-d)/f*n.width/s),y:Math.round((c-h)/p*n.height/s)}}function fue(t,e,n){let s,i;if(e===void 0||n===void 0){const o=t&&G0(t);if(!o)e=t.clientWidth,n=t.clientHeight;else{const r=o.getBoundingClientRect(),a=Sm(o),l=Ea(a,"border","width"),c=Ea(a,"padding");e=r.width-c.width-l.width,n=r.height-c.height-l.height,s=vp(a.maxWidth,o,"clientWidth"),i=vp(a.maxHeight,o,"clientHeight")}}return{width:e,height:n,maxWidth:s||gp,maxHeight:i||gp}}const of=t=>Math.round(t*10)/10;function pue(t,e,n,s){const i=Sm(t),o=Ea(i,"margin"),r=vp(i.maxWidth,t,"clientWidth")||gp,a=vp(i.maxHeight,t,"clientHeight")||gp,l=fue(t,e,n);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const h=Ea(i,"border","width"),f=Ea(i,"padding");c-=f.width+h.width,u-=f.height+h.height}return c=Math.max(0,c-o.width),u=Math.max(0,s?c/s:u-o.height),c=of(Math.min(c,r,l.maxWidth)),u=of(Math.min(u,a,l.maxHeight)),c&&!u&&(u=of(c/2)),(e!==void 0||n!==void 0)&&s&&l.height&&u>l.height&&(u=l.height,c=of(Math.floor(u*s))),{width:c,height:u}}function n3(t,e,n){const s=e||1,i=Math.floor(t.height*s),o=Math.floor(t.width*s);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const r=t.canvas;return r.style&&(n||!r.style.height&&!r.style.width)&&(r.style.height=`${t.height}px`,r.style.width=`${t.width}px`),t.currentDevicePixelRatio!==s||r.height!==i||r.width!==o?(t.currentDevicePixelRatio=s,r.height=i,r.width=o,t.ctx.setTransform(s,0,0,s,0,0),!0):!1}const mue=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};q0()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function s3(t,e){const n=cue(t,e),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function pa(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function gue(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:s==="middle"?n<.5?t.y:e.y:s==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function _ue(t,e,n,s){const i={x:t.cp2x,y:t.cp2y},o={x:e.cp1x,y:e.cp1y},r=pa(t,i,n),a=pa(i,o,n),l=pa(o,e,n),c=pa(r,a,n),u=pa(a,l,n);return pa(c,u,n)}const vue=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},yue=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Wl(t,e,n){return t?vue(e,n):yue()}function Dw(t,e){let n,s;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=s)}function Lw(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Pw(t){return t==="angle"?{between:Sd,compare:bce,normalize:Us}:{between:Ro,compare:(e,n)=>e-n,normalize:e=>e}}function i3({start:t,end:e,count:n,loop:s,style:i}){return{start:t%n,end:e%n,loop:s&&(e-t+1)%n===0,style:i}}function bue(t,e,n){const{property:s,start:i,end:o}=n,{between:r,normalize:a}=Pw(s),l=e.length;let{start:c,end:u,loop:d}=t,h,f;if(d){for(c+=l,u+=l,h=0,f=l;h<f&&r(a(e[c%l][s]),i,o);++h)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:t.style}}function Rw(t,e,n){if(!n)return[t];const{property:s,start:i,end:o}=n,r=e.length,{compare:a,between:l,normalize:c}=Pw(s),{start:u,end:d,loop:h,style:f}=bue(t,e,n),p=[];let v=!1,y=null,_,w,x;const k=()=>l(i,x,_)&&a(i,x)!==0,C=()=>a(o,_)===0||l(o,x,_),S=()=>v||k(),A=()=>!v||C();for(let O=u,M=u;O<=d;++O)w=e[O%r],!w.skip&&(_=c(w[s]),_!==x&&(v=l(_,i,o),y===null&&S()&&(y=a(_,i)===0?O:M),y!==null&&A()&&(p.push(i3({start:y,end:O,loop:h,count:r,style:f})),y=null),M=O,x=_));return y!==null&&p.push(i3({start:y,end:d,loop:h,count:r,style:f})),p}function Vw(t,e){const n=[],s=t.segments;for(let i=0;i<s.length;i++){const o=Rw(s[i],t.points,e);o.length&&n.push(...o)}return n}function wue(t,e,n,s){let i=0,o=e-1;if(n&&!s)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(o+=i);o>i&&t[o%e].skip;)o--;return o%=e,{start:i,end:o}}function xue(t,e,n,s){const i=t.length,o=[];let r=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%i];c.skip||c.stop?a.skip||(s=!1,o.push({start:e%i,end:(l-1)%i,loop:s}),e=r=c.stop?l:null):(r=l,a.skip&&(e=l)),a=c}return r!==null&&o.push({start:e%i,end:r%i,loop:s}),o}function Sue(t,e){const n=t.points,s=t.options.spanGaps,i=n.length;if(!i)return[];const o=!!t._loop,{start:r,end:a}=wue(n,i,o,s);if(s===!0)return o3(t,[{start:r,end:a,loop:o}],n,e);const l=a<r?a+i:a,c=!!t._fullLoop&&r===0&&a===i-1;return o3(t,xue(n,r,l,c),n,e)}function o3(t,e,n,s){return!s||!s.setContext||!n?e:kue(t,e,n,s)}function kue(t,e,n,s){const i=t._chart.getContext(),o=r3(t.options),{_datasetIndex:r,options:{spanGaps:a}}=t,l=n.length,c=[];let u=o,d=e[0].start,h=d;function f(p,v,y,_){const w=a?-1:1;if(p!==v){for(p+=l;n[p%l].skip;)p-=w;for(;n[v%l].skip;)v+=w;p%l!==v%l&&(c.push({start:p%l,end:v%l,loop:y,style:_}),u=_,d=v%l)}}for(const p of e){d=a?d:p.start;let v=n[d%l],y;for(h=d+1;h<=p.end;h++){const _=n[h%l];y=r3(s.setContext(Xr(i,{type:"segment",p0:v,p1:_,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:r}))),$ue(y,u)&&f(d,h-1,p.loop,u),v=_,u=y}d<h-1&&f(d,h-1,p.loop,u)}return c}function r3(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function $ue(t,e){if(!e)return!1;const n=[],s=function(i,o){return j0(o)?(n.includes(o)||n.push(o),n.indexOf(o)):o};return JSON.stringify(t,s)!==JSON.stringify(e,s)}/*!
 * Chart.js v4.4.3
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class Cue{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,s,i){const o=n.listeners[i],r=n.duration;o.forEach(a=>a({chart:e,initial:n.initial,numSteps:r,currentStep:Math.min(s-n.start,r)}))}_refresh(){this._request||(this._running=!0,this._request=bw.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((s,i)=>{if(!s.running||!s.items.length)return;const o=s.items;let r=o.length-1,a=!1,l;for(;r>=0;--r)l=o[r],l._active?(l._total>s.duration&&(s.duration=l._total),l.tick(e),a=!0):(o[r]=o[o.length-1],o.pop());a&&(i.draw(),this._notify(i,s,e,"progress")),o.length||(s.running=!1,this._notify(i,s,e,"complete"),s.initial=!1),n+=o.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let s=n.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,s)),s}listen(e,n,s){this._getAnims(e).listeners[n].push(s)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,i)=>Math.max(s,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const s=n.items;let i=s.length-1;for(;i>=0;--i)s[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Co=new Cue;const a3="transparent",Eue={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const s=Xb(t||a3),i=s.valid&&Xb(e||a3);return i&&i.valid?i.mix(s,n).hexString():e},number(t,e,n){return t+(e-t)*n}};let Tue=class{constructor(e,n,s,i){const o=n[s];i=ou([e.to,i,o,e.from]);const r=ou([e.from,o,i]);this._active=!0,this._fn=e.fn||Eue[e.type||typeof r],this._easing=Du[e.easing]||Du.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=s,this._from=r,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,s){if(this._active){this._notify(!1);const i=this._target[this._prop],o=s-this._start,r=this._duration-o;this._start=s,this._duration=Math.floor(Math.max(r,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=ou([e.to,n,i,e.from]),this._from=ou([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,s=this._duration,i=this._prop,o=this._from,r=this._loop,a=this._to;let l;if(this._active=o!==a&&(r||n<s),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=o;return}l=n/s%2,l=r&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(o,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,s)=>{e.push({res:n,rej:s})})}_notify(e){const n=e?"res":"rej",s=this._promises||[];for(let i=0;i<s.length;i++)s[i][n]()}};class Nw{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Mt(e))return;const n=Object.keys(yn.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const o=e[i];if(!Mt(o))return;const r={};for(const a of n)r[a]=o[a];(tn(o.properties)&&o.properties||[i]).forEach(a=>{(a===i||!s.has(a))&&s.set(a,r)})})}_animateOptions(e,n){const s=n.options,i=Mue(e,s);if(!i)return[];const o=this._createAnimations(i,s);return s.$shared&&Aue(e.options.$animations,s).then(()=>{e.options=s},()=>{}),o}_createAnimations(e,n){const s=this._properties,i=[],o=e.$animations||(e.$animations={}),r=Object.keys(n),a=Date.now();let l;for(l=r.length-1;l>=0;--l){const c=r[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,n));continue}const u=n[c];let d=o[c];const h=s.get(c);if(d)if(h&&d.active()){d.update(h,u,a);continue}else d.cancel();if(!h||!h.duration){e[c]=u;continue}o[c]=d=new Tue(h,e,c,u),i.push(d)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const s=this._createAnimations(e,n);if(s.length)return Co.add(this._chart,s),!0}}function Aue(t,e){const n=[],s=Object.keys(e);for(let i=0;i<s.length;i++){const o=t[s[i]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}function Mue(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function l3(t,e){const n=t&&t.options||{},s=n.reverse,i=n.min===void 0?e:0,o=n.max===void 0?e:0;return{start:s?o:i,end:s?i:o}}function Iue(t,e,n){if(n===!1)return!1;const s=l3(t,n),i=l3(e,n);return{top:i.end,right:s.end,bottom:i.start,left:s.start}}function Oue(t){let e,n,s,i;return Mt(t)?(e=t.top,n=t.right,s=t.bottom,i=t.left):e=n=s=i=t,{top:e,right:n,bottom:s,left:i,disabled:t===!1}}function Uw(t,e){const n=[],s=t._getSortedDatasetMetas(e);let i,o;for(i=0,o=s.length;i<o;++i)n.push(s[i].index);return n}function c3(t,e,n,s={}){const i=t.keys,o=s.mode==="single";let r,a,l,c;if(e!==null){for(r=0,a=i.length;r<a;++r){if(l=+i[r],l===n){if(s.all)continue;break}c=t.values[l],vn(c)&&(o||e===0||to(e)===to(c))&&(e+=c)}return e}}function Due(t,e){const{iScale:n,vScale:s}=e,i=n.axis==="x"?"x":"y",o=s.axis==="x"?"x":"y",r=Object.keys(t),a=new Array(r.length);let l,c,u;for(l=0,c=r.length;l<c;++l)u=r[l],a[l]={[i]:u,[o]:t[u]};return a}function u3(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function Lue(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function Pue(t){const{min:e,max:n,minDefined:s,maxDefined:i}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function Rue(t,e,n){const s=t[e]||(t[e]={});return s[n]||(s[n]={})}function d3(t,e,n,s){for(const i of e.getMatchingVisibleMetas(s).reverse()){const o=t[i.index];if(n&&o>0||!n&&o<0)return i.index}return null}function h3(t,e){const{chart:n,_cachedMeta:s}=t,i=n._stacks||(n._stacks={}),{iScale:o,vScale:r,index:a}=s,l=o.axis,c=r.axis,u=Lue(o,r,s),d=e.length;let h;for(let f=0;f<d;++f){const p=e[f],{[l]:v,[c]:y}=p,_=p._stacks||(p._stacks={});h=_[c]=Rue(i,u,v),h[a]=y,h._top=d3(h,r,!0,s.type),h._bottom=d3(h,r,!1,s.type);const w=h._visualValues||(h._visualValues={});w[a]=y}}function o1(t,e){const n=t.scales;return Object.keys(n).filter(s=>n[s].axis===e).shift()}function Vue(t,e){return Xr(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Nue(t,e,n){return Xr(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Wc(t,e){const n=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const i of e){const o=i._stacks;if(!o||o[s]===void 0||o[s][n]===void 0)return;delete o[s][n],o[s]._visualValues!==void 0&&o[s]._visualValues[n]!==void 0&&delete o[s]._visualValues[n]}}}const r1=t=>t==="reset"||t==="none",f3=(t,e)=>e?t:Object.assign({},t),Uue=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:Uw(n,!0),values:null};class Si{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=u3(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Wc(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,s=this.getDataset(),i=(d,h,f,p)=>d==="x"?h:d==="r"?p:f,o=n.xAxisID=vt(s.xAxisID,o1(e,"x")),r=n.yAxisID=vt(s.yAxisID,o1(e,"y")),a=n.rAxisID=vt(s.rAxisID,o1(e,"r")),l=n.indexAxis,c=n.iAxisID=i(l,o,r,a),u=n.vAxisID=i(l,r,o,a);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(r),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Yb(this._data,this),e._stacked&&Wc(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),s=this._data;if(Mt(n)){const i=this._cachedMeta;this._data=Due(n,i)}else if(s!==n){if(s){Yb(s,this);const i=this._cachedMeta;Wc(i),i._parsed=[]}n&&Object.isExtensible(n)&&kce(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,s=this.getDataset();let i=!1;this._dataCheck();const o=n._stacked;n._stacked=u3(n.vScale,n),n.stack!==s.stack&&(i=!0,Wc(n),n.stack=s.stack),this._resyncElements(e),(i||o!==n._stacked)&&h3(this,n._parsed)}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:s,_data:i}=this,{iScale:o,_stacked:r}=s,a=o.axis;let l=e===0&&n===i.length?!0:s._sorted,c=e>0&&s._parsed[e-1],u,d,h;if(this._parsing===!1)s._parsed=i,s._sorted=!0,h=i;else{tn(i[e])?h=this.parseArrayData(s,i,e,n):Mt(i[e])?h=this.parseObjectData(s,i,e,n):h=this.parsePrimitiveData(s,i,e,n);const f=()=>d[a]===null||c&&d[a]<c[a];for(u=0;u<n;++u)s._parsed[u+e]=d=h[u],l&&(f()&&(l=!1),c=d);s._sorted=l}r&&h3(this,h)}parsePrimitiveData(e,n,s,i){const{iScale:o,vScale:r}=e,a=o.axis,l=r.axis,c=o.getLabels(),u=o===r,d=new Array(i);let h,f,p;for(h=0,f=i;h<f;++h)p=h+s,d[h]={[a]:u||o.parse(c[p],p),[l]:r.parse(n[p],p)};return d}parseArrayData(e,n,s,i){const{xScale:o,yScale:r}=e,a=new Array(i);let l,c,u,d;for(l=0,c=i;l<c;++l)u=l+s,d=n[u],a[l]={x:o.parse(d[0],u),y:r.parse(d[1],u)};return a}parseObjectData(e,n,s,i){const{xScale:o,yScale:r}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,d,h,f;for(u=0,d=i;u<d;++u)h=u+s,f=n[h],c[u]={x:o.parse(Hr(f,a),h),y:r.parse(Hr(f,l),h)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,s){const i=this.chart,o=this._cachedMeta,r=n[e.axis],a={keys:Uw(i,!0),values:n._stacks[e.axis]._visualValues};return c3(a,r,o.index,{mode:s})}updateRangeFromParsed(e,n,s,i){const o=s[n.axis];let r=o===null?NaN:o;const a=i&&s._stacks[n.axis];i&&a&&(i.values=a,r=c3(i,o,this._cachedMeta.index)),e.min=Math.min(e.min,r),e.max=Math.max(e.max,r)}getMinMax(e,n){const s=this._cachedMeta,i=s._parsed,o=s._sorted&&e===s.iScale,r=i.length,a=this._getOtherScale(e),l=Uue(n,s,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=Pue(a);let h,f;function p(){f=i[h];const v=f[a.axis];return!vn(f[e.axis])||u>v||d<v}for(h=0;h<r&&!(!p()&&(this.updateRangeFromParsed(c,e,f,l),o));++h);if(o){for(h=r-1;h>=0;--h)if(!p()){this.updateRangeFromParsed(c,e,f,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,s=[];let i,o,r;for(i=0,o=n.length;i<o;++i)r=n[i][e.axis],vn(r)&&s.push(r);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,s=n.iScale,i=n.vScale,o=this.getParsed(e);return{label:s?""+s.getLabelForValue(o[s.axis]):"",value:i?""+i.getLabelForValue(o[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=Oue(vt(this.options.clip,Iue(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,s=this._cachedMeta,i=s.data||[],o=n.chartArea,r=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(s.dataset&&s.dataset.draw(e,o,a,l),u=a;u<a+l;++u){const d=i[u];d.hidden||(d.active&&c?r.push(d):d.draw(e,o))}for(u=0;u<r.length;++u)r[u].draw(e,o)}getStyle(e,n){const s=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,n,s){const i=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const r=this._cachedMeta.data[e];o=r.$context||(r.$context=Nue(this.getContext(),e,r)),o.parsed=this.getParsed(e),o.raw=i.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=Vue(this.chart.getContext(),this.index)),o.dataset=i,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=s,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",s){const i=n==="active",o=this._cachedDataOpts,r=e+"-"+n,a=o[r],l=this.enableOptionSharing&&xd(s);if(a)return f3(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),d=i?[`${e}Hover`,"hover",e,""]:[e,""],h=c.getOptionScopes(this.getDataset(),u),f=Object.keys(yn.elements[e]),p=()=>this.getContext(s,i,n),v=c.resolveNamedOptions(h,f,p,d);return v.$shared&&(v.$shared=l,o[r]=Object.freeze(f3(v,l))),v}_resolveAnimations(e,n,s){const i=this.chart,o=this._cachedDataOpts,r=`animation-${n}`,a=o[r];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,n),h=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(h,this.getContext(e,s,n))}const c=new Nw(i,l&&l.animations);return l&&l._cacheable&&(o[r]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||r1(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const s=this.resolveDataElementOptions(e,n),i=this._sharedOptions,o=this.getSharedOptions(s),r=this.includeOptions(n,o)||o!==i;return this.updateSharedOptions(o,n,s),{sharedOptions:o,includeOptions:r}}updateElement(e,n,s,i){r1(i)?Object.assign(e,s):this._resolveAnimations(n,i).update(e,s)}updateSharedOptions(e,n,s){e&&!r1(n)&&this._resolveAnimations(void 0,n).update(e,s)}_setStyle(e,n,s,i){e.active=i;const o=this.getStyle(n,i);this._resolveAnimations(n,s,i).update(e,{options:!i&&this.getSharedOptions(o)||o})}removeHoverStyle(e,n,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,n,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,s=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=s.length,o=n.length,r=Math.min(o,i);r&&this.parse(0,r),o>i?this._insertElements(i,o-i,e):o<i&&this._removeElements(o,i-o)}_insertElements(e,n,s=!0){const i=this._cachedMeta,o=i.data,r=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=r;a--)c[a]=c[a-n]};for(l(o),a=e;a<r;++a)o[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,n),s&&this.updateElements(o,e,n,"reset")}updateElements(e,n,s,i){}_removeElements(e,n){const s=this._cachedMeta;if(this._parsing){const i=s._parsed.splice(e,n);s._stacked&&Wc(s,i)}s.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,s,i]=e;this[n](s,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ee(Si,"defaults",{}),ee(Si,"datasetElementType",null),ee(Si,"dataElementType",null);function Bue(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let s=[];for(let i=0,o=n.length;i<o;i++)s=s.concat(n[i].controller.getAllParsedValues(t));t._cache.$bar=yw(s.sort((i,o)=>i-o))}return t._cache.$bar}function jue(t){const e=t.iScale,n=Bue(e,t.type);let s=e._length,i,o,r,a;const l=()=>{r===32767||r===-32768||(xd(a)&&(s=Math.min(s,Math.abs(r-a)||s)),a=r)};for(i=0,o=n.length;i<o;++i)r=e.getPixelForValue(n[i]),l();for(a=void 0,i=0,o=e.ticks.length;i<o;++i)r=e.getPixelForTick(i),l();return s}function zue(t,e,n,s){const i=n.barThickness;let o,r;return Vt(i)?(o=e.min*n.categoryPercentage,r=n.barPercentage):(o=i*s,r=1),{chunk:o/s,ratio:r,start:e.pixels[t]-o/2}}function Fue(t,e,n,s){const i=e.pixels,o=i[t];let r=t>0?i[t-1]:null,a=t<i.length-1?i[t+1]:null;const l=n.categoryPercentage;r===null&&(r=o-(a===null?e.end-e.start:a-o)),a===null&&(a=o+o-r);const c=o-(o-Math.min(r,a))/2*l;return{chunk:Math.abs(a-r)/2*l/s,ratio:n.barPercentage,start:c}}function Wue(t,e,n,s){const i=n.parse(t[0],s),o=n.parse(t[1],s),r=Math.min(i,o),a=Math.max(i,o);let l=r,c=a;Math.abs(r)>Math.abs(a)&&(l=a,c=r),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:i,end:o,min:r,max:a}}function Bw(t,e,n,s){return tn(t)?Wue(t,e,n,s):e[n.axis]=n.parse(t,s),e}function p3(t,e,n,s){const i=t.iScale,o=t.vScale,r=i.getLabels(),a=i===o,l=[];let c,u,d,h;for(c=n,u=n+s;c<u;++c)h=e[c],d={},d[i.axis]=a||i.parse(r[c],c),l.push(Bw(h,d,o,c));return l}function a1(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function Hue(t,e,n){return t!==0?to(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function que(t){let e,n,s,i,o;return t.horizontal?(e=t.base>t.x,n="left",s="right"):(e=t.base<t.y,n="bottom",s="top"),e?(i="end",o="start"):(i="start",o="end"),{start:n,end:s,reverse:e,top:i,bottom:o}}function Gue(t,e,n,s){let i=e.borderSkipped;const o={};if(!i){t.borderSkipped=o;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:r,end:a,reverse:l,top:c,bottom:u}=que(t);i==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===s?i=c:(n._bottom||0)===s?i=u:(o[m3(u,r,a,l)]=!0,i=c)),o[m3(i,r,a,l)]=!0,t.borderSkipped=o}function m3(t,e,n,s){return s?(t=Yue(t,e,n),t=g3(t,n,e)):t=g3(t,e,n),t}function Yue(t,e,n){return t===e?n:t===n?e:t}function g3(t,e,n){return t==="start"?e:t==="end"?n:t}function Kue(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Af extends Si{parsePrimitiveData(e,n,s,i){return p3(e,n,s,i)}parseArrayData(e,n,s,i){return p3(e,n,s,i)}parseObjectData(e,n,s,i){const{iScale:o,vScale:r}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=o.axis==="x"?a:l,u=r.axis==="x"?a:l,d=[];let h,f,p,v;for(h=s,f=s+i;h<f;++h)v=n[h],p={},p[o.axis]=o.parse(Hr(v,c),h),d.push(Bw(Hr(v,u),p,r,h));return d}updateRangeFromParsed(e,n,s,i){super.updateRangeFromParsed(e,n,s,i);const o=s._custom;o&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:s,vScale:i}=n,o=this.getParsed(e),r=o._custom,a=a1(r)?"["+r.start+", "+r.end+"]":""+i.getLabelForValue(o[i.axis]);return{label:""+s.getLabelForValue(o[s.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,s,i){const o=i==="reset",{index:r,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:d,includeOptions:h}=this._getSharedOptions(n,i);for(let f=n;f<n+s;f++){const p=this.getParsed(f),v=o||Vt(p[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),y=this._calculateBarIndexPixels(f,u),_=(p._stacks||{})[a.axis],w={horizontal:c,base:v.base,enableBorderRadius:!_||a1(p._custom)||r===_._top||r===_._bottom,x:c?v.head:y.center,y:c?y.center:v.head,height:c?y.size:Math.abs(v.size),width:c?Math.abs(v.size):y.size};h&&(w.options=d||this.resolveDataElementOptions(f,e[f].active?"active":i));const x=w.options||e[f].options;Gue(w,x,_,r),Kue(w,x,u.ratio),this.updateElement(e[f],f,w,i)}}_getStacks(e,n){const{iScale:s}=this._cachedMeta,i=s.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),o=s.options.stacked,r=[],a=l=>{const c=l.controller.getParsed(n),u=c&&c[l.vScale.axis];if(Vt(u)||isNaN(u))return!0};for(const l of i)if(!(n!==void 0&&a(l))&&((o===!1||r.indexOf(l.stack)===-1||o===void 0&&l.stack===void 0)&&r.push(l.stack),l.index===e))break;return r.length||r.push(void 0),r}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,s){const i=this._getStacks(e,s),o=n!==void 0?i.indexOf(n):-1;return o===-1?i.length-1:o}_getRuler(){const e=this.options,n=this._cachedMeta,s=n.iScale,i=[];let o,r;for(o=0,r=n.data.length;o<r;++o)i.push(s.getPixelForValue(this.getParsed(o)[s.axis],o));const a=e.barThickness;return{min:a||jue(n),pixels:i,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:s,index:i},options:{base:o,minBarLength:r}}=this,a=o||0,l=this.getParsed(e),c=l._custom,u=a1(c);let d=l[n.axis],h=0,f=s?this.applyStack(n,l,s):d,p,v;f!==d&&(h=f-d,f=d),u&&(d=c.barStart,f=c.barEnd-c.barStart,d!==0&&to(d)!==to(c.barEnd)&&(h=0),h+=d);const y=!Vt(o)&&!u?o:h;let _=n.getPixelForValue(y);if(this.chart.getDataVisibility(e)?p=n.getPixelForValue(h+f):p=_,v=p-_,Math.abs(v)<r){v=Hue(v,n,a)*r,d===a&&(_-=v/2);const w=n.getPixelForDecimal(0),x=n.getPixelForDecimal(1),k=Math.min(w,x),C=Math.max(w,x);_=Math.max(Math.min(_,C),k),p=_+v,s&&!u&&(l._stacks[n.axis]._visualValues[i]=n.getValueForPixel(p)-n.getValueForPixel(_))}if(_===n.getPixelForValue(a)){const w=to(v)*n.getLineWidthForValue(a)/2;_+=w,v-=w}return{size:v,base:_,head:p,center:p+v/2}}_calculateBarIndexPixels(e,n){const s=n.scale,i=this.options,o=i.skipNull,r=vt(i.maxBarThickness,1/0);let a,l;if(n.grouped){const c=o?this._getStackCount(e):n.stackCount,u=i.barThickness==="flex"?Fue(e,n,i,c):zue(e,n,i,c),d=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0);a=u.start+u.chunk*d+u.chunk/2,l=Math.min(r,u.chunk*u.ratio)}else a=s.getPixelForValue(this.getParsed(e)[s.axis],e),l=Math.min(r,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,s=e.data,i=s.length;let o=0;for(;o<i;++o)this.getParsed(o)[n.axis]!==null&&!s[o].hidden&&s[o].draw(this._ctx)}}ee(Af,"id","bar"),ee(Af,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ee(Af,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Mf extends Si{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,s,i){const o=super.parsePrimitiveData(e,n,s,i);for(let r=0;r<o.length;r++)o[r]._custom=this.resolveDataElementOptions(r+s).radius;return o}parseArrayData(e,n,s,i){const o=super.parseArrayData(e,n,s,i);for(let r=0;r<o.length;r++){const a=n[s+r];o[r]._custom=vt(a[2],this.resolveDataElementOptions(r+s).radius)}return o}parseObjectData(e,n,s,i){const o=super.parseObjectData(e,n,s,i);for(let r=0;r<o.length;r++){const a=n[s+r];o[r]._custom=vt(a&&a.r&&+a.r,this.resolveDataElementOptions(r+s).radius)}return o}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let s=e.length-1;s>=0;--s)n=Math.max(n,e[s].size(this.resolveDataElementOptions(s))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart.data.labels||[],{xScale:i,yScale:o}=n,r=this.getParsed(e),a=i.getLabelForValue(r.x),l=o.getLabelForValue(r.y),c=r._custom;return{label:s[e]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,s,i){const o=i==="reset",{iScale:r,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(n,i),u=r.axis,d=a.axis;for(let h=n;h<n+s;h++){const f=e[h],p=!o&&this.getParsed(h),v={},y=v[u]=o?r.getPixelForDecimal(.5):r.getPixelForValue(p[u]),_=v[d]=o?a.getBasePixel():a.getPixelForValue(p[d]);v.skip=isNaN(y)||isNaN(_),c&&(v.options=l||this.resolveDataElementOptions(h,f.active?"active":i),o&&(v.options.radius=0)),this.updateElement(f,h,v,i)}}resolveDataElementOptions(e,n){const s=this.getParsed(e);let i=super.resolveDataElementOptions(e,n);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const o=i.radius;return n!=="active"&&(i.radius=0),i.radius+=vt(s&&s._custom,o),i}}ee(Mf,"id","bubble"),ee(Mf,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),ee(Mf,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function Zue(t,e,n){let s=1,i=1,o=0,r=0;if(e<nn){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),d=Math.cos(l),h=Math.sin(l),f=(x,k,C)=>Sd(x,a,l,!0)?1:Math.max(k,k*n,C,C*n),p=(x,k,C)=>Sd(x,a,l,!0)?-1:Math.min(k,k*n,C,C*n),v=f(0,c,d),y=f(wn,u,h),_=p(sn,c,d),w=p(sn+wn,u,h);s=(v-_)/2,i=(y-w)/2,o=-(v+_)/2,r=-(y+w)/2}return{ratioX:s,ratioY:i,offsetX:o,offsetY:r}}class va extends Si{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const s=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=s;else{let o=l=>+s[l];if(Mt(s[e])){const{key:l="value"}=this._parsing;o=c=>+Hr(s[c],l)}let r,a;for(r=e,a=e+n;r<a;++r)i._parsed[r]=o(r)}}_getRotation(){return bi(this.options.rotation-90)}_getCircumference(){return bi(this.options.circumference)}_getRotationExtents(){let e=nn,n=-nn;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const i=this.chart.getDatasetMeta(s).controller,o=i._getRotation(),r=i._getCircumference();e=Math.min(e,o),n=Math.max(n,o+r)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:s}=n,i=this._cachedMeta,o=i.data,r=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,a=Math.max((Math.min(s.width,s.height)-r)/2,0),l=Math.min(uce(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:d}=this._getRotationExtents(),{ratioX:h,ratioY:f,offsetX:p,offsetY:v}=Zue(d,u,l),y=(s.width-r)/h,_=(s.height-r)/f,w=Math.max(Math.min(y,_)/2,0),x=pw(this.options.radius,w),k=Math.max(x*l,0),C=(x-k)/this._getVisibleDatasetWeightTotal();this.offsetX=p*x,this.offsetY=v*x,i.total=this.calculateTotal(),this.outerRadius=x-C*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-C*c,0),this.updateElements(o,0,o.length,e)}_circumference(e,n){const s=this.options,i=this._cachedMeta,o=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*o/nn)}updateElements(e,n,s,i){const o=i==="reset",r=this.chart,a=r.chartArea,c=r.options.animation,u=(a.left+a.right)/2,d=(a.top+a.bottom)/2,h=o&&c.animateScale,f=h?0:this.innerRadius,p=h?0:this.outerRadius,{sharedOptions:v,includeOptions:y}=this._getSharedOptions(n,i);let _=this._getRotation(),w;for(w=0;w<n;++w)_+=this._circumference(w,o);for(w=n;w<n+s;++w){const x=this._circumference(w,o),k=e[w],C={x:u+this.offsetX,y:d+this.offsetY,startAngle:_,endAngle:_+x,circumference:x,outerRadius:p,innerRadius:f};y&&(C.options=v||this.resolveDataElementOptions(w,k.active?"active":i)),_+=x,this.updateElement(k,w,C,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let s=0,i;for(i=0;i<n.length;i++){const o=e._parsed[i];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(s+=Math.abs(o))}return s}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?nn*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart,i=s.data.labels||[],o=ih(n._parsed[e],s.options.locale);return{label:i[e]||"",value:o}}getMaxBorderWidth(e){let n=0;const s=this.chart;let i,o,r,a,l;if(!e){for(i=0,o=s.data.datasets.length;i<o;++i)if(s.isDatasetVisible(i)){r=s.getDatasetMeta(i),e=r.data,a=r.controller;break}}if(!e)return 0;for(i=0,o=e.length;i<o;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let s=0,i=e.length;s<i;++s){const o=this.resolveDataElementOptions(s);n=Math.max(n,o.offset||0,o.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(e){return Math.max(vt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ee(va,"id","doughnut"),ee(va,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ee(va,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),ee(va,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:s,color:i}}=e.legend.options;return n.labels.map((o,r)=>{const l=e.getDatasetMeta(0).controller.getStyle(r);return{text:o,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(r),index:r}})}return[]}},onClick(e,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}}});class If extends Si{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:s,data:i=[],_dataset:o}=n,r=this.chart._animationsDisabled;let{start:a,count:l}=xw(n,i,r);this._drawStart=a,this._drawCount=l,Sw(n)&&(a=0,l=i.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!o._decimated,s.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(s,void 0,{animated:!r,options:c},e),this.updateElements(i,a,l,e)}updateElements(e,n,s,i){const o=i==="reset",{iScale:r,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(n,i),h=r.axis,f=a.axis,{spanGaps:p,segment:v}=this.options,y=hc(p)?p:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||o||i==="none",w=n+s,x=e.length;let k=n>0&&this.getParsed(n-1);for(let C=0;C<x;++C){const S=e[C],A=_?S:{};if(C<n||C>=w){A.skip=!0;continue}const O=this.getParsed(C),M=Vt(O[f]),V=A[h]=r.getPixelForValue(O[h],C),R=A[f]=o||M?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,O,l):O[f],C);A.skip=isNaN(V)||isNaN(R)||M,A.stop=C>0&&Math.abs(O[h]-k[h])>y,v&&(A.parsed=O,A.raw=c.data[C]),d&&(A.options=u||this.resolveDataElementOptions(C,S.active?"active":i)),_||this.updateElement(S,C,A,i),k=O}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,s=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return s;const o=i[0].size(this.resolveDataElementOptions(0)),r=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,o,r)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}ee(If,"id","line"),ee(If,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ee(If,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Pu extends Si{constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart,i=s.data.labels||[],o=ih(n._parsed[e].r,s.options.locale);return{label:i[e]||"",value:o}}parseObjectData(e,n,s,i){return Iw.bind(this)(e,n,s,i)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((s,i)=>{const o=this.getParsed(i).r;!isNaN(o)&&this.chart.getDataVisibility(i)&&(o<n.min&&(n.min=o),o>n.max&&(n.max=o))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,s=e.options,i=Math.min(n.right-n.left,n.bottom-n.top),o=Math.max(i/2,0),r=Math.max(s.cutoutPercentage?o/100*s.cutoutPercentage:1,0),a=(o-r)/e.getVisibleDatasetCount();this.outerRadius=o-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,n,s,i){const o=i==="reset",r=this.chart,l=r.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,d=c.yCenter,h=c.getIndexAngle(0)-.5*sn;let f=h,p;const v=360/this.countVisibleElements();for(p=0;p<n;++p)f+=this._computeAngle(p,i,v);for(p=n;p<n+s;p++){const y=e[p];let _=f,w=f+this._computeAngle(p,i,v),x=r.getDataVisibility(p)?c.getDistanceFromCenterForValue(this.getParsed(p).r):0;f=w,o&&(l.animateScale&&(x=0),l.animateRotate&&(_=w=h));const k={x:u,y:d,innerRadius:0,outerRadius:x,startAngle:_,endAngle:w,options:this.resolveDataElementOptions(p,y.active?"active":i)};this.updateElement(y,p,k,i)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((s,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&n++}),n}_computeAngle(e,n,s){return this.chart.getDataVisibility(e)?bi(this.resolveDataElementOptions(e,n).angle||s):0}}ee(Pu,"id","polarArea"),ee(Pu,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),ee(Pu,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:s,color:i}}=e.legend.options;return n.labels.map((o,r)=>{const l=e.getDatasetMeta(0).controller.getStyle(r);return{text:o,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(r),index:r}})}return[]}},onClick(e,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class R_ extends va{}ee(R_,"id","pie"),ee(R_,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Of extends Si{getLabelAndValue(e){const n=this._cachedMeta.vScale,s=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(s[n.axis])}}parseObjectData(e,n,s,i){return Iw.bind(this)(e,n,s,i)}update(e){const n=this._cachedMeta,s=n.dataset,i=n.data||[],o=n.iScale.getLabels();if(s.points=i,e!=="resize"){const r=this.resolveDatasetElementOptions(e);this.options.showLine||(r.borderWidth=0);const a={_loop:!0,_fullLoop:o.length===i.length,options:r};this.updateElement(s,void 0,a,e)}this.updateElements(i,0,i.length,e)}updateElements(e,n,s,i){const o=this._cachedMeta.rScale,r=i==="reset";for(let a=n;a<n+s;a++){const l=e[a],c=this.resolveDataElementOptions(a,l.active?"active":i),u=o.getPointPositionForValue(a,this.getParsed(a).r),d=r?o.xCenter:u.x,h=r?o.yCenter:u.y,f={x:d,y:h,angle:u.angle,skip:isNaN(d)||isNaN(h),options:c};this.updateElement(l,a,f,i)}}}ee(Of,"id","radar"),ee(Of,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),ee(Of,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Df extends Si{getLabelAndValue(e){const n=this._cachedMeta,s=this.chart.data.labels||[],{xScale:i,yScale:o}=n,r=this.getParsed(e),a=i.getLabelForValue(r.x),l=o.getLabelForValue(r.y);return{label:s[e]||"",value:"("+a+", "+l+")"}}update(e){const n=this._cachedMeta,{data:s=[]}=n,i=this.chart._animationsDisabled;let{start:o,count:r}=xw(n,s,i);if(this._drawStart=o,this._drawCount=r,Sw(n)&&(o=0,r=s.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=s;const c=this.resolveDatasetElementOptions(e);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!i,options:c},e)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(s,o,r,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,s,i){const o=i==="reset",{iScale:r,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(n,i),d=this.getSharedOptions(u),h=this.includeOptions(i,d),f=r.axis,p=a.axis,{spanGaps:v,segment:y}=this.options,_=hc(v)?v:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||o||i==="none";let x=n>0&&this.getParsed(n-1);for(let k=n;k<n+s;++k){const C=e[k],S=this.getParsed(k),A=w?C:{},O=Vt(S[p]),M=A[f]=r.getPixelForValue(S[f],k),V=A[p]=o||O?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,S,l):S[p],k);A.skip=isNaN(M)||isNaN(V)||O,A.stop=k>0&&Math.abs(S[f]-x[f])>_,y&&(A.parsed=S,A.raw=c.data[k]),h&&(A.options=d||this.resolveDataElementOptions(k,C.active?"active":i)),w||this.updateElement(C,k,A,i),x=S}this.updateSharedOptions(d,i,u)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const s=e.dataset,i=s.options&&s.options.borderWidth||0;if(!n.length)return i;const o=n[0].size(this.resolveDataElementOptions(0)),r=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,o,r)/2}}ee(Df,"id","scatter"),ee(Df,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),ee(Df,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var Xue=Object.freeze({__proto__:null,BarController:Af,BubbleController:Mf,DoughnutController:va,LineController:If,PieController:R_,PolarAreaController:Pu,RadarController:Of,ScatterController:Df});function la(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Y0{constructor(e){ee(this,"options");this.options=e||{}}static override(e){Object.assign(Y0.prototype,e)}init(){}formats(){return la()}parse(){return la()}format(){return la()}add(){return la()}diff(){return la()}startOf(){return la()}endOf(){return la()}}var Jue={_date:Y0};function Que(t,e,n,s){const{controller:i,data:o,_sorted:r}=t,a=i._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&r&&o.length){const l=a._reversePixels?xce:Vo;if(s){if(i._sharedOptions){const c=o[0],u=typeof c.getRange=="function"&&c.getRange(e);if(u){const d=l(o,e,n-u),h=l(o,e,n+u);return{lo:d.lo,hi:h.hi}}}}else return l(o,e,n)}return{lo:0,hi:o.length-1}}function oh(t,e,n,s,i){const o=t.getSortedVisibleDatasetMetas(),r=n[e];for(let a=0,l=o.length;a<l;++a){const{index:c,data:u}=o[a],{lo:d,hi:h}=Que(o[a],e,r,i);for(let f=d;f<=h;++f){const p=u[f];p.skip||s(p,c,f)}}}function ede(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(s,i){const o=e?Math.abs(s.x-i.x):0,r=n?Math.abs(s.y-i.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(r,2))}}function l1(t,e,n,s,i){const o=[];return!i&&!t.isPointInArea(e)||oh(t,n,e,function(a,l,c){!i&&!No(a,t.chartArea,0)||a.inRange(e.x,e.y,s)&&o.push({element:a,datasetIndex:l,index:c})},!0),o}function tde(t,e,n,s){let i=[];function o(r,a,l){const{startAngle:c,endAngle:u}=r.getProps(["startAngle","endAngle"],s),{angle:d}=_w(r,{x:e.x,y:e.y});Sd(d,c,u)&&i.push({element:r,datasetIndex:a,index:l})}return oh(t,n,e,o),i}function nde(t,e,n,s,i,o){let r=[];const a=ede(n);let l=Number.POSITIVE_INFINITY;function c(u,d,h){const f=u.inRange(e.x,e.y,i);if(s&&!f)return;const p=u.getCenterPoint(i);if(!(!!o||t.isPointInArea(p))&&!f)return;const y=a(e,p);y<l?(r=[{element:u,datasetIndex:d,index:h}],l=y):y===l&&r.push({element:u,datasetIndex:d,index:h})}return oh(t,n,e,c),r}function c1(t,e,n,s,i,o){return!o&&!t.isPointInArea(e)?[]:n==="r"&&!s?tde(t,e,n,i):nde(t,e,n,s,i,o)}function _3(t,e,n,s,i){const o=[],r=n==="x"?"inXRange":"inYRange";let a=!1;return oh(t,n,e,(l,c,u)=>{l[r](e[n],i)&&(o.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,i))}),s&&!a?[]:o}var sde={evaluateInteractionItems:oh,modes:{index(t,e,n,s){const i=fa(e,t),o=n.axis||"x",r=n.includeInvisible||!1,a=n.intersect?l1(t,i,o,s,r):c1(t,i,o,!1,s,r),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,s){const i=fa(e,t),o=n.axis||"xy",r=n.includeInvisible||!1;let a=n.intersect?l1(t,i,o,s,r):c1(t,i,o,!1,s,r);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,s){const i=fa(e,t),o=n.axis||"xy",r=n.includeInvisible||!1;return l1(t,i,o,s,r)},nearest(t,e,n,s){const i=fa(e,t),o=n.axis||"xy",r=n.includeInvisible||!1;return c1(t,i,o,n.intersect,s,r)},x(t,e,n,s){const i=fa(e,t);return _3(t,i,"x",n.intersect,s)},y(t,e,n,s){const i=fa(e,t);return _3(t,i,"y",n.intersect,s)}}};const jw=["left","top","right","bottom"];function Hc(t,e){return t.filter(n=>n.pos===e)}function v3(t,e){return t.filter(n=>jw.indexOf(n.pos)===-1&&n.box.axis===e)}function qc(t,e){return t.sort((n,s)=>{const i=e?s:n,o=e?n:s;return i.weight===o.weight?i.index-o.index:i.weight-o.weight})}function ide(t){const e=[];let n,s,i,o,r,a;for(n=0,s=(t||[]).length;n<s;++n)i=t[n],{position:o,options:{stack:r,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:r&&o+r,stackWeight:a});return e}function ode(t){const e={};for(const n of t){const{stack:s,pos:i,stackWeight:o}=n;if(!s||!jw.includes(i))continue;const r=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=o}return e}function rde(t,e){const n=ode(t),{vBoxMaxWidth:s,hBoxMaxHeight:i}=e;let o,r,a;for(o=0,r=t.length;o<r;++o){a=t[o];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*s:l&&e.availableWidth,a.height=i):(a.width=s,a.height=u?u*i:l&&e.availableHeight)}return n}function ade(t){const e=ide(t),n=qc(e.filter(c=>c.box.fullSize),!0),s=qc(Hc(e,"left"),!0),i=qc(Hc(e,"right")),o=qc(Hc(e,"top"),!0),r=qc(Hc(e,"bottom")),a=v3(e,"x"),l=v3(e,"y");return{fullSize:n,leftAndTop:s.concat(o),rightAndBottom:i.concat(l).concat(r).concat(a),chartArea:Hc(e,"chartArea"),vertical:s.concat(i).concat(l),horizontal:o.concat(r).concat(a)}}function y3(t,e,n,s){return Math.max(t[n],e[n])+Math.max(t[s],e[s])}function zw(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function lde(t,e,n,s){const{pos:i,box:o}=n,r=t.maxPadding;if(!Mt(i)){n.size&&(t[i]-=n.size);const d=s[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?o.height:o.width),n.size=d.size/d.count,t[i]+=n.size}o.getPadding&&zw(r,o.getPadding());const a=Math.max(0,e.outerWidth-y3(r,t,"left","right")),l=Math.max(0,e.outerHeight-y3(r,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function cde(t){const e=t.maxPadding;function n(s){const i=Math.max(e[s]-t[s],0);return t[s]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function ude(t,e){const n=e.maxPadding;function s(i){const o={left:0,top:0,right:0,bottom:0};return i.forEach(r=>{o[r]=Math.max(e[r],n[r])}),o}return s(t?["left","right"]:["top","bottom"])}function ru(t,e,n,s){const i=[];let o,r,a,l,c,u;for(o=0,r=t.length,c=0;o<r;++o){a=t[o],l=a.box,l.update(a.width||e.w,a.height||e.h,ude(a.horizontal,e));const{same:d,other:h}=lde(e,n,a,s);c|=d&&i.length,u=u||h,l.fullSize||i.push(a)}return c&&ru(i,e,n,s)||u}function rf(t,e,n,s,i){t.top=n,t.left=e,t.right=e+s,t.bottom=n+i,t.width=s,t.height=i}function b3(t,e,n,s){const i=n.padding;let{x:o,y:r}=e;for(const a of t){const l=a.box,c=s[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const d=e.w*u,h=c.size||l.height;xd(c.start)&&(r=c.start),l.fullSize?rf(l,i.left,r,n.outerWidth-i.right-i.left,h):rf(l,e.left+c.placed,r,d,h),c.start=r,c.placed+=d,r=l.bottom}else{const d=e.h*u,h=c.size||l.width;xd(c.start)&&(o=c.start),l.fullSize?rf(l,o,i.top,h,n.outerHeight-i.bottom-i.top):rf(l,o,e.top+c.placed,h,d),c.start=o,c.placed+=d,o=l.right}}e.x=o,e.y=r}var is={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,s){if(!t)return;const i=ls(t.options.layout.padding),o=Math.max(e-i.width,0),r=Math.max(n-i.height,0),a=ade(t.boxes),l=a.vertical,c=a.horizontal;Wt(t.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});const u=l.reduce((v,y)=>y.box.options&&y.box.options.display===!1?v:v+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:o,availableHeight:r,vBoxMaxWidth:o/2/u,hBoxMaxHeight:r/2}),h=Object.assign({},i);zw(h,ls(s));const f=Object.assign({maxPadding:h,w:o,h:r,x:i.left,y:i.top},i),p=rde(l.concat(c),d);ru(a.fullSize,f,d,p),ru(l,f,d,p),ru(c,f,d,p)&&ru(l,f,d,p),cde(f),b3(a.leftAndTop,f,d,p),f.x+=f.w,f.y+=f.h,b3(a.rightAndBottom,f,d,p),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},Wt(a.chartArea,v=>{const y=v.box;Object.assign(y,t.chartArea),y.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class Fw{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,s){}removeEventListener(e,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,s,i){return n=Math.max(0,n||e.width),s=s||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):s)}}isAttached(e){return!0}updateConfig(e){}}class dde extends Fw{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Lf="$chartjs",hde={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},w3=t=>t===null||t==="";function fde(t,e){const n=t.style,s=t.getAttribute("height"),i=t.getAttribute("width");if(t[Lf]={initial:{height:s,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",w3(i)){const o=s3(t,"width");o!==void 0&&(t.width=o)}if(w3(s))if(t.style.height==="")t.height=t.width/(e||2);else{const o=s3(t,"height");o!==void 0&&(t.height=o)}return t}const Ww=mue?{passive:!0}:!1;function pde(t,e,n){t&&t.addEventListener(e,n,Ww)}function mde(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,Ww)}function gde(t,e){const n=hde[t.type]||t.type,{x:s,y:i}=fa(t,e);return{type:n,chart:e,native:t,x:s!==void 0?s:null,y:i!==void 0?i:null}}function yp(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function _de(t,e,n){const s=t.canvas,i=new MutationObserver(o=>{let r=!1;for(const a of o)r=r||yp(a.addedNodes,s),r=r&&!yp(a.removedNodes,s);r&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function vde(t,e,n){const s=t.canvas,i=new MutationObserver(o=>{let r=!1;for(const a of o)r=r||yp(a.removedNodes,s),r=r&&!yp(a.addedNodes,s);r&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const $d=new Map;let x3=0;function Hw(){const t=window.devicePixelRatio;t!==x3&&(x3=t,$d.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function yde(t,e){$d.size||window.addEventListener("resize",Hw),$d.set(t,e)}function bde(t){$d.delete(t),$d.size||window.removeEventListener("resize",Hw)}function wde(t,e,n){const s=t.canvas,i=s&&G0(s);if(!i)return;const o=ww((a,l)=>{const c=i.clientWidth;n(a,l),c<i.clientWidth&&n()},window),r=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||o(c,u)});return r.observe(i),yde(t,o),r}function u1(t,e,n){n&&n.disconnect(),e==="resize"&&bde(t)}function xde(t,e,n){const s=t.canvas,i=ww(o=>{t.ctx!==null&&n(gde(o,t))},t);return pde(s,e,i),i}class Sde extends Fw{acquireContext(e,n){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(fde(e,n),s):null}releaseContext(e){const n=e.canvas;if(!n[Lf])return!1;const s=n[Lf].initial;["height","width"].forEach(o=>{const r=s[o];Vt(r)?n.removeAttribute(o):n.setAttribute(o,r)});const i=s.style||{};return Object.keys(i).forEach(o=>{n.style[o]=i[o]}),n.width=n.width,delete n[Lf],!0}addEventListener(e,n,s){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),r={attach:_de,detach:vde,resize:wde}[n]||xde;i[n]=r(e,n,s)}removeEventListener(e,n){const s=e.$proxies||(e.$proxies={}),i=s[n];if(!i)return;({attach:u1,detach:u1,resize:u1}[n]||mde)(e,n,i),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,s,i){return pue(e,n,s,i)}isAttached(e){const n=e&&G0(e);return!!(n&&n.isConnected)}}function kde(t){return!q0()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?dde:Sde}var pf;let or=(pf=class{constructor(){ee(this,"x");ee(this,"y");ee(this,"active",!1);ee(this,"options");ee(this,"$animations")}tooltipPosition(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}hasValue(){return hc(this.x)&&hc(this.y)}getProps(e,n){const s=this.$animations;if(!n||!s)return this;const i={};return e.forEach(o=>{i[o]=s[o]&&s[o].active()?s[o]._to:this[o]}),i}},ee(pf,"defaults",{}),ee(pf,"defaultRoutes"),pf);function $de(t,e){const n=t.options.ticks,s=Cde(t),i=Math.min(n.maxTicksLimit||s,s),o=n.major.enabled?Tde(e):[],r=o.length,a=o[0],l=o[r-1],c=[];if(r>i)return Ade(e,c,o,r/i),c;const u=Ede(o,e,i);if(r>0){let d,h;const f=r>1?Math.round((l-a)/(r-1)):null;for(af(e,c,u,Vt(f)?0:a-f,a),d=0,h=r-1;d<h;d++)af(e,c,u,o[d],o[d+1]);return af(e,c,u,l,Vt(f)?e.length:l+f),c}return af(e,c,u),c}function Cde(t){const e=t.options.offset,n=t._tickSize(),s=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(s,i))}function Ede(t,e,n){const s=Mde(t),i=e.length/n;if(!s)return Math.max(i,1);const o=vce(s);for(let r=0,a=o.length-1;r<a;r++){const l=o[r];if(l>i)return l}return Math.max(i,1)}function Tde(t){const e=[];let n,s;for(n=0,s=t.length;n<s;n++)t[n].major&&e.push(n);return e}function Ade(t,e,n,s){let i=0,o=n[0],r;for(s=Math.ceil(s),r=0;r<t.length;r++)r===o&&(e.push(t[r]),i++,o=n[i*s])}function af(t,e,n,s,i){const o=vt(s,0),r=Math.min(vt(i,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),i&&(l=i-s,n=l/Math.floor(l/n)),u=o;u<0;)a++,u=Math.round(o+a*n);for(c=Math.max(o,0);c<r;c++)c===u&&(e.push(t[c]),a++,u=Math.round(o+a*n))}function Mde(t){const e=t.length;let n,s;if(e<2)return!1;for(s=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==s)return!1;return s}const Ide=t=>t==="left"?"right":t==="right"?"left":t,S3=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,k3=(t,e)=>Math.min(e||t,t);function $3(t,e){const n=[],s=t.length/e,i=t.length;let o=0;for(;o<i;o+=s)n.push(t[Math.floor(o)]);return n}function Ode(t,e,n){const s=t.ticks.length,i=Math.min(e,s-1),o=t._startPixel,r=t._endPixel,a=1e-6;let l=t.getPixelForTick(i),c;if(!(n&&(s===1?c=Math.max(l-o,r-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<o-a||l>r+a)))return l}function Dde(t,e){Wt(t,n=>{const s=n.gc,i=s.length/2;let o;if(i>e){for(o=0;o<i;++o)delete n.data[s[o]];s.splice(0,i)}})}function Gc(t){return t.drawTicks?t.tickLength:0}function C3(t,e){if(!t.display)return 0;const n=Rn(t.font,e),s=ls(t.padding);return(tn(t.text)?t.text.length:1)*n.lineHeight+s.height}function Lde(t,e){return Xr(t,{scale:e,type:"scale"})}function Pde(t,e,n){return Xr(t,{tick:n,index:e,type:"tick"})}function Rde(t,e,n){let s=B0(t);return(n&&e!=="right"||!n&&e==="right")&&(s=Ide(s)),s}function Vde(t,e,n,s){const{top:i,left:o,bottom:r,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let d=0,h,f,p;const v=r-i,y=a-o;if(t.isHorizontal()){if(f=Qn(s,o,a),Mt(n)){const _=Object.keys(n)[0],w=n[_];p=u[_].getPixelForValue(w)+v-e}else n==="center"?p=(c.bottom+c.top)/2+v-e:p=S3(t,n,e);h=a-o}else{if(Mt(n)){const _=Object.keys(n)[0],w=n[_];f=u[_].getPixelForValue(w)-y+e}else n==="center"?f=(c.left+c.right)/2-y+e:f=S3(t,n,e);p=Qn(s,r,i),d=n==="left"?-wn:wn}return{titleX:f,titleY:p,maxWidth:h,rotation:d}}class el extends or{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:s,_suggestedMax:i}=this;return e=Rs(e,Number.POSITIVE_INFINITY),n=Rs(n,Number.NEGATIVE_INFINITY),s=Rs(s,Number.POSITIVE_INFINITY),i=Rs(i,Number.NEGATIVE_INFINITY),{min:Rs(e,s),max:Rs(n,i),minDefined:vn(e),maxDefined:vn(n)}}getMinMax(e){let{min:n,max:s,minDefined:i,maxDefined:o}=this.getUserBounds(),r;if(i&&o)return{min:n,max:s};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)r=a[l].controller.getMinMax(this,e),i||(n=Math.min(n,r.min)),o||(s=Math.max(s,r.max));return n=o&&n>s?s:n,s=i&&n>s?n:s,{min:Rs(n,Rs(s,n)),max:Rs(s,Rs(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Jt(this.options.beforeUpdate,[this])}update(e,n,s){const{beginAtZero:i,grace:o,ticks:r}=this.options,a=r.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=qce(this,o,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?$3(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||r.source==="auto")&&(this.ticks=$de(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,e=!e),this._startPixel=n,this._endPixel=s,this._reversePixels=e,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Jt(this.options.afterUpdate,[this])}beforeSetDimensions(){Jt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Jt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Jt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Jt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let s,i,o;for(s=0,i=e.length;s<i;s++)o=e[s],o.label=Jt(n.callback,[o.value,s,e],this)}afterTickToLabelConversion(){Jt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Jt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,s=k3(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,o=n.maxRotation;let r=i,a,l,c;if(!this._isVisible()||!n.display||i>=o||s<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),d=u.widest.width,h=u.highest.height,f=Bn(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/s:f/(s-1),d+6>a&&(a=f/(s-(e.offset?.5:1)),l=this.maxHeight-Gc(e.grid)-n.padding-C3(e.title,this.chart.options.font),c=Math.sqrt(d*d+h*h),r=N0(Math.min(Math.asin(Bn((u.highest.height+6)/a,-1,1)),Math.asin(Bn(l/c,-1,1))-Math.asin(Bn(h/c,-1,1)))),r=Math.max(i,Math.min(o,r))),this.labelRotation=r}afterCalculateLabelRotation(){Jt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Jt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:s,title:i,grid:o}}=this,r=this._isVisible(),a=this.isHorizontal();if(r){const l=C3(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=Gc(o)+l):(e.height=this.maxHeight,e.width=Gc(o)+l),s.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:h}=this._getLabelSizes(),f=s.padding*2,p=bi(this.labelRotation),v=Math.cos(p),y=Math.sin(p);if(a){const _=s.mirror?0:y*d.width+v*h.height;e.height=Math.min(this.maxHeight,e.height+_+f)}else{const _=s.mirror?0:v*d.width+y*h.height;e.width=Math.min(this.maxWidth,e.width+_+f)}this._calculatePadding(c,u,y,v)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,s,i){const{ticks:{align:o,padding:r},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,f=0;l?c?(h=i*e.width,f=s*n.height):(h=s*e.height,f=i*n.width):o==="start"?f=n.width:o==="end"?h=e.width:o!=="inner"&&(h=e.width/2,f=n.width/2),this.paddingLeft=Math.max((h-u+r)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-d+r)*this.width/(this.width-d),0)}else{let u=n.height/2,d=e.height/2;o==="start"?(u=0,d=e.height):o==="end"&&(u=n.height,d=0),this.paddingTop=u+r,this.paddingBottom=d+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Jt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,s;for(n=0,s=e.length;n<s;n++)Vt(e[n].label)&&(e.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=$3(s,n)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,s){const{ctx:i,_longestTextCache:o}=this,r=[],a=[],l=Math.floor(n/k3(n,s));let c=0,u=0,d,h,f,p,v,y,_,w,x,k,C;for(d=0;d<n;d+=l){if(p=e[d].label,v=this._resolveTickFontOptions(d),i.font=y=v.string,_=o[y]=o[y]||{data:{},gc:[]},w=v.lineHeight,x=k=0,!Vt(p)&&!tn(p))x=_p(i,_.data,_.gc,x,p),k=w;else if(tn(p))for(h=0,f=p.length;h<f;++h)C=p[h],!Vt(C)&&!tn(C)&&(x=_p(i,_.data,_.gc,x,C),k+=w);r.push(x),a.push(k),c=Math.max(x,c),u=Math.max(k,u)}Dde(o,n);const S=r.indexOf(c),A=a.indexOf(u),O=M=>({width:r[M]||0,height:a[M]||0});return{first:O(0),last:O(n-1),widest:O(S),highest:O(A),widths:r,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return wce(this._alignToPixels?aa(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const s=n[e];return s.$context||(s.$context=Pde(this.getContext(),e,s))}return this.$context||(this.$context=Lde(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=bi(this.labelRotation),s=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),o=this._getLabelSizes(),r=e.autoSkipPadding||0,a=o?o.widest.width+r:0,l=o?o.highest.height+r:0;return this.isHorizontal()?l*s>a*i?a/s:l/i:l*i<a*s?l/s:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,s=this.chart,i=this.options,{grid:o,position:r,border:a}=i,l=o.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),h=Gc(o),f=[],p=a.setContext(this.getContext()),v=p.display?p.width:0,y=v/2,_=function(Q){return aa(s,Q,v)};let w,x,k,C,S,A,O,M,V,R,X,P;if(r==="top")w=_(this.bottom),A=this.bottom-h,M=w-y,R=_(e.top)+y,P=e.bottom;else if(r==="bottom")w=_(this.top),R=e.top,P=_(e.bottom)-y,A=w+y,M=this.top+h;else if(r==="left")w=_(this.right),S=this.right-h,O=w-y,V=_(e.left)+y,X=e.right;else if(r==="right")w=_(this.left),V=e.left,X=_(e.right)-y,S=w+y,O=this.left+h;else if(n==="x"){if(r==="center")w=_((e.top+e.bottom)/2+.5);else if(Mt(r)){const Q=Object.keys(r)[0],G=r[Q];w=_(this.chart.scales[Q].getPixelForValue(G))}R=e.top,P=e.bottom,A=w+y,M=A+h}else if(n==="y"){if(r==="center")w=_((e.left+e.right)/2);else if(Mt(r)){const Q=Object.keys(r)[0],G=r[Q];w=_(this.chart.scales[Q].getPixelForValue(G))}S=w-y,O=S-h,V=e.left,X=e.right}const F=vt(i.ticks.maxTicksLimit,d),Z=Math.max(1,Math.ceil(d/F));for(x=0;x<d;x+=Z){const Q=this.getContext(x),G=o.setContext(Q),ie=a.setContext(Q),ge=G.lineWidth,ae=G.color,Te=ie.dash||[],We=ie.dashOffset,Ke=G.tickWidth,He=G.tickColor,Ue=G.tickBorderDash||[],qe=G.tickBorderDashOffset;k=Ode(this,x,l),k!==void 0&&(C=aa(s,k,ge),c?S=O=V=X=C:A=M=R=P=C,f.push({tx1:S,ty1:A,tx2:O,ty2:M,x1:V,y1:R,x2:X,y2:P,width:ge,color:ae,borderDash:Te,borderDashOffset:We,tickWidth:Ke,tickColor:He,tickBorderDash:Ue,tickBorderDashOffset:qe}))}return this._ticksLength=d,this._borderValue=w,f}_computeLabelItems(e){const n=this.axis,s=this.options,{position:i,ticks:o}=s,r=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=o,h=Gc(s.grid),f=h+u,p=d?-u:f,v=-bi(this.labelRotation),y=[];let _,w,x,k,C,S,A,O,M,V,R,X,P="middle";if(i==="top")S=this.bottom-p,A=this._getXAxisLabelAlignment();else if(i==="bottom")S=this.top+p,A=this._getXAxisLabelAlignment();else if(i==="left"){const Z=this._getYAxisLabelAlignment(h);A=Z.textAlign,C=Z.x}else if(i==="right"){const Z=this._getYAxisLabelAlignment(h);A=Z.textAlign,C=Z.x}else if(n==="x"){if(i==="center")S=(e.top+e.bottom)/2+f;else if(Mt(i)){const Z=Object.keys(i)[0],Q=i[Z];S=this.chart.scales[Z].getPixelForValue(Q)+f}A=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")C=(e.left+e.right)/2-f;else if(Mt(i)){const Z=Object.keys(i)[0],Q=i[Z];C=this.chart.scales[Z].getPixelForValue(Q)}A=this._getYAxisLabelAlignment(h).textAlign}n==="y"&&(l==="start"?P="top":l==="end"&&(P="bottom"));const F=this._getLabelSizes();for(_=0,w=a.length;_<w;++_){x=a[_],k=x.label;const Z=o.setContext(this.getContext(_));O=this.getPixelForTick(_)+o.labelOffset,M=this._resolveTickFontOptions(_),V=M.lineHeight,R=tn(k)?k.length:1;const Q=R/2,G=Z.color,ie=Z.textStrokeColor,ge=Z.textStrokeWidth;let ae=A;r?(C=O,A==="inner"&&(_===w-1?ae=this.options.reverse?"left":"right":_===0?ae=this.options.reverse?"right":"left":ae="center"),i==="top"?c==="near"||v!==0?X=-R*V+V/2:c==="center"?X=-F.highest.height/2-Q*V+V:X=-F.highest.height+V/2:c==="near"||v!==0?X=V/2:c==="center"?X=F.highest.height/2-Q*V:X=F.highest.height-R*V,d&&(X*=-1),v!==0&&!Z.showLabelBackdrop&&(C+=V/2*Math.sin(v))):(S=O,X=(1-R)*V/2);let Te;if(Z.showLabelBackdrop){const We=ls(Z.backdropPadding),Ke=F.heights[_],He=F.widths[_];let Ue=X-We.top,qe=0-We.left;switch(P){case"middle":Ue-=Ke/2;break;case"bottom":Ue-=Ke;break}switch(A){case"center":qe-=He/2;break;case"right":qe-=He;break;case"inner":_===w-1?qe-=He:_>0&&(qe-=He/2);break}Te={left:qe,top:Ue,width:He+We.width,height:Ke+We.height,color:Z.backdropColor}}y.push({label:k,font:M,textOffset:X,options:{rotation:v,color:G,strokeColor:ie,strokeWidth:ge,textAlign:ae,textBaseline:P,translation:[C,S],backdrop:Te}})}return y}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-bi(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:s,mirror:i,padding:o}}=this.options,r=this._getLabelSizes(),a=e+o,l=r.widest.width;let c,u;return n==="left"?i?(u=this.right+o,s==="near"?c="left":s==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,s==="near"?c="right":s==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?i?(u=this.left+o,s==="near"?c="right":s==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,s==="near"?c="left":s==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:s,top:i,width:o,height:r}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(s,i,o,r),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(o=>o.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,s=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,r;const a=(l,c,u)=>{!u.width||!u.color||(s.save(),s.lineWidth=u.width,s.strokeStyle=u.color,s.setLineDash(u.borderDash||[]),s.lineDashOffset=u.borderDashOffset,s.beginPath(),s.moveTo(l.x,l.y),s.lineTo(c.x,c.y),s.stroke(),s.restore())};if(n.display)for(o=0,r=i.length;o<r;++o){const l=i[o];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:s,grid:i}}=this,o=s.setContext(this.getContext()),r=s.display?o.width:0;if(!r)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,h;this.isHorizontal()?(c=aa(e,this.left,r)-r/2,u=aa(e,this.right,a)+a/2,d=h=l):(d=aa(e,this.top,r)-r/2,h=aa(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=o.width,n.strokeStyle=o.color,n.beginPath(),n.moveTo(c,d),n.lineTo(u,h),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,i=this._computeLabelArea();i&&wm(s,i);const o=this.getLabelItems(e);for(const r of o){const a=r.options,l=r.font,c=r.label,u=r.textOffset;Ua(s,c,0,u,l,a)}i&&xm(s)}drawTitle(){const{ctx:e,options:{position:n,title:s,reverse:i}}=this;if(!s.display)return;const o=Rn(s.font),r=ls(s.padding),a=s.align;let l=o.lineHeight/2;n==="bottom"||n==="center"||Mt(n)?(l+=r.bottom,tn(s.text)&&(l+=o.lineHeight*(s.text.length-1))):l+=r.top;const{titleX:c,titleY:u,maxWidth:d,rotation:h}=Vde(this,l,n,a);Ua(e,s.text,0,0,o,{color:s.color,maxWidth:d,rotation:h,textAlign:Rde(a,n,i),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,s=vt(e.grid&&e.grid.z,-1),i=vt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==el.prototype.draw?[{z:n,draw:o=>{this.draw(o)}}]:[{z:s,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",i=[];let o,r;for(o=0,r=n.length;o<r;++o){const a=n[o];a[s]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Rn(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class lf{constructor(e,n,s){this.type=e,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let s;Bde(n)&&(s=this.register(n));const i=this.items,o=e.id,r=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in i||(i[o]=e,Nde(e,r,s),this.override&&yn.override(e.id,e.overrides)),r}get(e){return this.items[e]}unregister(e){const n=this.items,s=e.id,i=this.scope;s in n&&delete n[s],i&&s in yn[i]&&(delete yn[i][s],this.override&&delete Na[s])}}function Nde(t,e,n){const s=wd(Object.create(null),[n?yn.get(n):{},yn.get(e),t.defaults]);yn.set(e,s),t.defaultRoutes&&Ude(e,t.defaultRoutes),t.descriptors&&yn.describe(e,t.descriptors)}function Ude(t,e){Object.keys(e).forEach(n=>{const s=n.split("."),i=s.pop(),o=[t].concat(s).join("."),r=e[n].split("."),a=r.pop(),l=r.join(".");yn.route(o,i,l,a)})}function Bde(t){return"id"in t&&"defaults"in t}class jde{constructor(){this.controllers=new lf(Si,"datasets",!0),this.elements=new lf(or,"elements"),this.plugins=new lf(Object,"plugins"),this.scales=new lf(el,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,s){[...n].forEach(i=>{const o=s||this._getRegistryForType(i);s||o.isForType(i)||o===this.plugins&&i.id?this._exec(e,o,i):Wt(i,r=>{const a=s||this._getRegistryForType(r);this._exec(e,a,r)})})}_exec(e,n,s){const i=V0(e);Jt(s["before"+i],[],s),n[e](s),Jt(s["after"+i],[],s)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(e))return s}return this.plugins}_get(e,n,s){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return i}}var ji=new jde;class zde{constructor(){this._init=[]}notify(e,n,s,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const o=i?this._descriptors(e).filter(i):this._descriptors(e),r=this._notify(o,e,n,s);return n==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall")),r}_notify(e,n,s,i){i=i||{};for(const o of e){const r=o.plugin,a=r[s],l=[n,i,o.options];if(Jt(a,l,r)===!1&&i.cancelable)return!1}return!0}invalidate(){Vt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const s=e&&e.config,i=vt(s.options&&s.options.plugins,{}),o=Fde(s);return i===!1&&!n?[]:Hde(e,o,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],s=this._cache,i=(o,r)=>o.filter(a=>!r.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,s),e,"stop"),this._notify(i(s,n),e,"start")}}function Fde(t){const e={},n=[],s=Object.keys(ji.plugins.items);for(let o=0;o<s.length;o++)n.push(ji.getPlugin(s[o]));const i=t.plugins||[];for(let o=0;o<i.length;o++){const r=i[o];n.indexOf(r)===-1&&(n.push(r),e[r.id]=!0)}return{plugins:n,localIds:e}}function Wde(t,e){return!e&&t===!1?null:t===!0?{}:t}function Hde(t,{plugins:e,localIds:n},s,i){const o=[],r=t.getContext();for(const a of e){const l=a.id,c=Wde(s[l],i);c!==null&&o.push({plugin:a,options:qde(t.config,{plugin:a,local:n[l]},c,r)})}return o}function qde(t,{plugin:e,local:n},s,i){const o=t.pluginScopeKeys(e),r=t.getOptionScopes(s,o);return n&&e.defaults&&r.push(e.defaults),t.createResolver(r,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function V_(t,e){const n=yn.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function Gde(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function Yde(t,e){return t===e?"_index_":"_value_"}function E3(t){if(t==="x"||t==="y"||t==="r")return t}function Kde(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function N_(t,...e){if(E3(t))return t;for(const n of e){const s=n.axis||Kde(n.position)||t.length>1&&E3(t[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function T3(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function Zde(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(s=>s.xAxisID===t||s.yAxisID===t);if(n.length)return T3(t,"x",n[0])||T3(t,"y",n[0])}return{}}function Xde(t,e){const n=Na[t.type]||{scales:{}},s=e.scales||{},i=V_(t.type,e),o=Object.create(null);return Object.keys(s).forEach(r=>{const a=s[r];if(!Mt(a))return console.error(`Invalid scale configuration for scale: ${r}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${r}`);const l=N_(r,a,Zde(r,t),yn.scales[a.type]),c=Yde(l,i),u=n.scales||{};o[r]=Iu(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(r=>{const a=r.type||t.type,l=r.indexAxis||V_(a,e),u=(Na[a]||{}).scales||{};Object.keys(u).forEach(d=>{const h=Gde(d,l),f=r[h+"AxisID"]||h;o[f]=o[f]||Object.create(null),Iu(o[f],[{axis:h},s[f],u[d]])})}),Object.keys(o).forEach(r=>{const a=o[r];Iu(a,[yn.scales[a.type],yn.scale])}),o}function qw(t){const e=t.options||(t.options={});e.plugins=vt(e.plugins,{}),e.scales=Xde(t,e)}function Gw(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Jde(t){return t=t||{},t.data=Gw(t.data),qw(t),t}const A3=new Map,Yw=new Set;function cf(t,e){let n=A3.get(t);return n||(n=e(),A3.set(t,n),Yw.add(n)),n}const Yc=(t,e,n)=>{const s=Hr(e,n);s!==void 0&&t.add(s)};class Qde{constructor(e){this._config=Jde(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Gw(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),qw(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return cf(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return cf(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return cf(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,s=this.type;return cf(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const s=this._scopeCache;let i=s.get(e);return(!i||n)&&(i=new Map,s.set(e,i)),i}getOptionScopes(e,n,s){const{options:i,type:o}=this,r=this._cachedScopes(e,s),a=r.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(d=>Yc(l,e,d))),u.forEach(d=>Yc(l,i,d)),u.forEach(d=>Yc(l,Na[o]||{},d)),u.forEach(d=>Yc(l,yn,d)),u.forEach(d=>Yc(l,L_,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),Yw.has(n)&&r.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,Na[n]||{},yn.datasets[n]||{},{type:n},yn,L_]}resolveNamedOptions(e,n,s,i=[""]){const o={$shared:!0},{resolver:r,subPrefixes:a}=M3(this._resolverCache,e,i);let l=r;if(the(r,n)){o.$shared=!1,s=qr(s)?s():s;const c=this.createResolver(e,s,a);l=fc(r,s,c)}for(const c of n)o[c]=l[c];return o}createResolver(e,n,s=[""],i){const{resolver:o}=M3(this._resolverCache,e,s);return Mt(n)?fc(o,n,void 0,i):o}}function M3(t,e,n){let s=t.get(e);s||(s=new Map,t.set(e,s));const i=n.join();let o=s.get(i);return o||(o={resolver:F0(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},s.set(i,o)),o}const ehe=t=>Mt(t)&&Object.getOwnPropertyNames(t).some(e=>qr(t[e]));function the(t,e){const{isScriptable:n,isIndexable:s}=Ew(t);for(const i of e){const o=n(i),r=s(i),a=(r||o)&&t[i];if(o&&(qr(a)||ehe(a))||r&&tn(a))return!0}return!1}var nhe="4.4.3";const she=["top","bottom","left","right","chartArea"];function I3(t,e){return t==="top"||t==="bottom"||she.indexOf(t)===-1&&e==="x"}function O3(t,e){return function(n,s){return n[t]===s[t]?n[e]-s[e]:n[t]-s[t]}}function D3(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Jt(n&&n.onComplete,[t],e)}function ihe(t){const e=t.chart,n=e.options.animation;Jt(n&&n.onProgress,[t],e)}function Kw(t){return q0()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Pf={},L3=t=>{const e=Kw(t);return Object.values(Pf).filter(n=>n.canvas===e).pop()};function ohe(t,e,n){const s=Object.keys(t);for(const i of s){const o=+i;if(o>=e){const r=t[i];delete t[i],(n>0||o>e)&&(t[o+n]=r)}}}function rhe(t,e,n,s){return!n||t.type==="mouseout"?null:s?e:t}function uf(t,e,n){return t.options.clip?t[n]:e[n]}function ahe(t,e){const{xScale:n,yScale:s}=t;return n&&s?{left:uf(n,e,"left"),right:uf(n,e,"right"),top:uf(s,e,"top"),bottom:uf(s,e,"bottom")}:e}class Gi{static register(...e){ji.add(...e),P3()}static unregister(...e){ji.remove(...e),P3()}constructor(e,n){const s=this.config=new Qde(n),i=Kw(e),o=L3(i);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const r=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||kde(i)),this.platform.updateConfig(s);const a=this.platform.acquireContext(i,r.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=cce(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=r,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new zde,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=$ce(d=>this.update(d),r.resizeDelay||0),this._dataChanges=[],Pf[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Co.listen(this,"complete",D3),Co.listen(this,"progress",ihe),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:s,height:i,_aspectRatio:o}=this;return Vt(e)?n&&o?o:i?s/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ji}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():n3(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Qb(this.canvas,this.ctx),this}stop(){return Co.stop(this),this}resize(e,n){Co.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const s=this.options,i=this.canvas,o=s.maintainAspectRatio&&this.aspectRatio,r=this.platform.getMaximumSize(i,e,n,o),a=s.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=r.width,this.height=r.height,this._aspectRatio=this.aspectRatio,n3(this,a,!0)&&(this.notifyPlugins("resize",{size:r}),Jt(s.onResize,[this,r],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Wt(n,(s,i)=>{s.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,s=this.scales,i=Object.keys(s).reduce((r,a)=>(r[a]=!1,r),{});let o=[];n&&(o=o.concat(Object.keys(n).map(r=>{const a=n[r],l=N_(r,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),Wt(o,r=>{const a=r.options,l=a.id,c=N_(l,a),u=vt(a.type,r.dtype);(a.position===void 0||I3(a.position,c)!==I3(r.dposition))&&(a.position=r.dposition),i[l]=!0;let d=null;if(l in s&&s[l].type===u)d=s[l];else{const h=ji.getScale(u);d=new h({id:l,type:u,ctx:this.ctx,chart:this}),s[d.id]=d}d.init(a,e)}),Wt(i,(r,a)=>{r||delete s[a]}),Wt(s,r=>{is.configure(this,r,r.options),is.addBox(this,r)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,s=e.length;if(e.sort((i,o)=>i.index-o.index),s>n){for(let i=n;i<s;++i)this._destroyDatasetMeta(i);e.splice(n,s-n)}this._sortedMetasets=e.slice(0).sort(O3("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((s,i)=>{n.filter(o=>o===s._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let s,i;for(this._removeUnreferencedMetasets(),s=0,i=n.length;s<i;s++){const o=n[s];let r=this.getDatasetMeta(s);const a=o.type||this.config.type;if(r.type&&r.type!==a&&(this._destroyDatasetMeta(s),r=this.getDatasetMeta(s)),r.type=a,r.indexAxis=o.indexAxis||V_(a,this.options),r.order=o.order||0,r.index=s,r.label=""+o.label,r.visible=this.isDatasetVisible(s),r.controller)r.controller.updateIndex(s),r.controller.linkScales();else{const l=ji.getController(a),{datasetElementType:c,dataElementType:u}=yn.datasets[a];Object.assign(l,{dataElementType:ji.getElement(u),datasetElementType:c&&ji.getElement(c)}),r.controller=new l(this,s),e.push(r.controller)}}return this._updateMetasets(),e}_resetElements(){Wt(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let r=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),h=!i&&o.indexOf(d)===-1;d.buildOrUpdateElements(h),r=Math.max(+d.getMaxOverflow(),r)}r=this._minPadding=s.layout.autoPadding?r:0,this._updateLayout(r),i||Wt(o,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(O3("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Wt(this.scales,e=>{is.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!Wb(n,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:i,count:o}of n){const r=s==="_removeElements"?-o:o;ohe(e,i,r)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=o=>new Set(e.filter(r=>r[0]===o).map((r,a)=>a+","+r.splice(1).join(","))),i=s(0);for(let o=1;o<n;o++)if(!Wb(i,s(o)))return;return Array.from(i).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;is.update(this,this.width,this.height,e);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],Wt(this.boxes,i=>{s&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,o)=>{i._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,qr(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const s=this.getDatasetMeta(e),i={meta:s,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(s.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Co.has(this)?this.attached&&!Co.running(this)&&Co.start(this):(this.draw(),D3({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:i}=this._resizeBeforeDraw;this._resize(s,i),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,s=[];let i,o;for(i=0,o=n.length;i<o;++i){const r=n[i];(!e||r.visible)&&s.push(r)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,s=e._clip,i=!s.disabled,o=ahe(e,this.chartArea),r={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&wm(n,{left:s.left===!1?0:o.left-s.left,right:s.right===!1?this.width:o.right+s.right,top:s.top===!1?0:o.top-s.top,bottom:s.bottom===!1?this.height:o.bottom+s.bottom}),e.controller.draw(),i&&xm(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return No(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,s,i){const o=sde.modes[n];return typeof o=="function"?o(this,e,s,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],s=this._metasets;let i=s.filter(o=>o&&o._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},s.push(i)),i}getContext(){return this.$context||(this.$context=Xr(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(e,n){const s=this.getDatasetMeta(e);s.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,s){const i=s?"show":"hide",o=this.getDatasetMeta(e),r=o.controller._resolveAnimations(void 0,i);xd(n)?(o.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),r.update(o,{visible:s}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Co.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Qb(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Pf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,s=(o,r)=>{n.addEventListener(this,o,r),e[o]=r},i=(o,r,a)=>{o.offsetX=r,o.offsetY=a,this._eventHandler(o)};Wt(this.options.events,o=>s(o,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,s=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},o=(l,c)=>{this.canvas&&this.resize(l,c)};let r;const a=()=>{i("attach",a),this.attached=!0,this.resize(),s("resize",o),s("detach",r)};r=()=>{this.attached=!1,i("resize",o),this._stop(),this._resize(0,0),s("attach",a)},n.isAttached(this.canvas)?a():r()}unbindEvents(){Wt(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Wt(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,s){const i=s?"set":"remove";let o,r,a,l;for(n==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){r=e[a];const c=r&&this.getDatasetMeta(r.datasetIndex).controller;c&&c[i+"HoverStyle"](r.element,r.datasetIndex,r.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],s=e.map(({datasetIndex:o,index:r})=>{const a=this.getDatasetMeta(o);if(!a)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:a.data[r],index:r}});!pp(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(e,n,s){return this._plugins.notify(this,e,n,s)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,s){const i=this.options.hover,o=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),r=o(n,e),a=s?e:o(e,n);r.length&&this.updateHoverStyle(r,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,n){const s={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=r=>(r.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,i)===!1)return;const o=this._handleEvent(e,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,i),(o||s.changed)&&this.render(),this}_handleEvent(e,n,s){const{_active:i=[],options:o}=this,r=n,a=this._getActiveElements(e,i,s,r),l=mce(e),c=rhe(e,this._lastEvent,s,l);s&&(this._lastEvent=null,Jt(o.onHover,[e,a,this],this),l&&Jt(o.onClick,[e,a,this],this));const u=!pp(a,i);return(u||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=c,u}_getActiveElements(e,n,s,i){if(e.type==="mouseout")return[];if(!s)return n;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,i)}}ee(Gi,"defaults",yn),ee(Gi,"instances",Pf),ee(Gi,"overrides",Na),ee(Gi,"registry",ji),ee(Gi,"version",nhe),ee(Gi,"getChart",L3);function P3(){return Wt(Gi.instances,t=>t._plugins.invalidate())}function lhe(t,e,n){const{startAngle:s,pixelMargin:i,x:o,y:r,outerRadius:a,innerRadius:l}=e;let c=i/a;t.beginPath(),t.arc(o,r,a,s-c,n+c),l>i?(c=i/l,t.arc(o,r,l,n+c,s-c,!0)):t.arc(o,r,i,n+wn,s-wn),t.closePath(),t.clip()}function che(t){return z0(t,["outerStart","outerEnd","innerStart","innerEnd"])}function uhe(t,e,n,s){const i=che(t.options.borderRadius),o=(n-e)/2,r=Math.min(o,s*e/2),a=l=>{const c=(n-Math.min(o,l))*s/2;return Bn(l,0,Math.min(o,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:Bn(i.innerStart,0,r),innerEnd:Bn(i.innerEnd,0,r)}}function ml(t,e,n,s){return{x:n+t*Math.cos(e),y:s+t*Math.sin(e)}}function bp(t,e,n,s,i,o){const{x:r,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,d=Math.max(e.outerRadius+s+n-c,0),h=u>0?u+s+n+c:0;let f=0;const p=i-l;if(s){const Z=u>0?u-s:0,Q=d>0?d-s:0,G=(Z+Q)/2,ie=G!==0?p*G/(G+s):p;f=(p-ie)/2}const v=Math.max(.001,p*d-n/sn)/d,y=(p-v)/2,_=l+y+f,w=i-y-f,{outerStart:x,outerEnd:k,innerStart:C,innerEnd:S}=uhe(e,h,d,w-_),A=d-x,O=d-k,M=_+x/A,V=w-k/O,R=h+C,X=h+S,P=_+C/R,F=w-S/X;if(t.beginPath(),o){const Z=(M+V)/2;if(t.arc(r,a,d,M,Z),t.arc(r,a,d,Z,V),k>0){const ge=ml(O,V,r,a);t.arc(ge.x,ge.y,k,V,w+wn)}const Q=ml(X,w,r,a);if(t.lineTo(Q.x,Q.y),S>0){const ge=ml(X,F,r,a);t.arc(ge.x,ge.y,S,w+wn,F+Math.PI)}const G=(w-S/h+(_+C/h))/2;if(t.arc(r,a,h,w-S/h,G,!0),t.arc(r,a,h,G,_+C/h,!0),C>0){const ge=ml(R,P,r,a);t.arc(ge.x,ge.y,C,P+Math.PI,_-wn)}const ie=ml(A,_,r,a);if(t.lineTo(ie.x,ie.y),x>0){const ge=ml(A,M,r,a);t.arc(ge.x,ge.y,x,_-wn,M)}}else{t.moveTo(r,a);const Z=Math.cos(M)*d+r,Q=Math.sin(M)*d+a;t.lineTo(Z,Q);const G=Math.cos(V)*d+r,ie=Math.sin(V)*d+a;t.lineTo(G,ie)}t.closePath()}function dhe(t,e,n,s,i){const{fullCircles:o,startAngle:r,circumference:a}=e;let l=e.endAngle;if(o){bp(t,e,n,s,l,i);for(let c=0;c<o;++c)t.fill();isNaN(a)||(l=r+(a%nn||nn))}return bp(t,e,n,s,l,i),t.fill(),l}function hhe(t,e,n,s,i){const{fullCircles:o,startAngle:r,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:h}=l,f=l.borderAlign==="inner";if(!c)return;t.setLineDash(d||[]),t.lineDashOffset=h,f?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let p=e.endAngle;if(o){bp(t,e,n,s,p,i);for(let v=0;v<o;++v)t.stroke();isNaN(a)||(p=r+(a%nn||nn))}f&&lhe(t,e,p),o||(bp(t,e,n,s,p,i),t.stroke())}class au extends or{constructor(n){super();ee(this,"circumference");ee(this,"endAngle");ee(this,"fullCircles");ee(this,"innerRadius");ee(this,"outerRadius");ee(this,"pixelMargin");ee(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,s,i){const o=this.getProps(["x","y"],i),{angle:r,distance:a}=_w(o,{x:n,y:s}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:d,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),f=(this.options.spacing+this.options.borderWidth)/2,v=vt(h,c-l)>=nn||Sd(r,l,c),y=Ro(a,u+f,d+f);return v&&y}getCenterPoint(n){const{x:s,y:i,startAngle:o,endAngle:r,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:u}=this.options,d=(o+r)/2,h=(a+l+u+c)/2;return{x:s+Math.cos(d)*h,y:i+Math.sin(d)*h}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:s,circumference:i}=this,o=(s.offset||0)/4,r=(s.spacing||0)/2,a=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=i>nn?Math.floor(i/nn):0,i===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*o,Math.sin(l)*o);const c=1-Math.sin(Math.min(sn,i||0)),u=o*c;n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,dhe(n,this,u,r,a),hhe(n,this,u,r,a),n.restore()}}ee(au,"id","arc"),ee(au,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),ee(au,"defaultRoutes",{backgroundColor:"backgroundColor"}),ee(au,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function Zw(t,e,n=e){t.lineCap=vt(n.borderCapStyle,e.borderCapStyle),t.setLineDash(vt(n.borderDash,e.borderDash)),t.lineDashOffset=vt(n.borderDashOffset,e.borderDashOffset),t.lineJoin=vt(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=vt(n.borderWidth,e.borderWidth),t.strokeStyle=vt(n.borderColor,e.borderColor)}function fhe(t,e,n){t.lineTo(n.x,n.y)}function phe(t){return t.stepped?Vce:t.tension||t.cubicInterpolationMode==="monotone"?Nce:fhe}function Xw(t,e,n={}){const s=t.length,{start:i=0,end:o=s-1}=n,{start:r,end:a}=e,l=Math.max(i,r),c=Math.min(o,a),u=i<r&&o<r||i>a&&o>a;return{count:s,start:l,loop:e.loop,ilen:c<l&&!u?s+c-l:c-l}}function mhe(t,e,n,s){const{points:i,options:o}=e,{count:r,start:a,loop:l,ilen:c}=Xw(i,n,s),u=phe(o);let{move:d=!0,reverse:h}=s||{},f,p,v;for(f=0;f<=c;++f)p=i[(a+(h?c-f:f))%r],!p.skip&&(d?(t.moveTo(p.x,p.y),d=!1):u(t,v,p,h,o.stepped),v=p);return l&&(p=i[(a+(h?c:0))%r],u(t,v,p,h,o.stepped)),!!l}function ghe(t,e,n,s){const i=e.points,{count:o,start:r,ilen:a}=Xw(i,n,s),{move:l=!0,reverse:c}=s||{};let u=0,d=0,h,f,p,v,y,_;const w=k=>(r+(c?a-k:k))%o,x=()=>{v!==y&&(t.lineTo(u,y),t.lineTo(u,v),t.lineTo(u,_))};for(l&&(f=i[w(0)],t.moveTo(f.x,f.y)),h=0;h<=a;++h){if(f=i[w(h)],f.skip)continue;const k=f.x,C=f.y,S=k|0;S===p?(C<v?v=C:C>y&&(y=C),u=(d*u+k)/++d):(x(),t.lineTo(k,C),p=S,d=0,v=y=C),_=C}x()}function U_(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?ghe:mhe}function _he(t){return t.stepped?gue:t.tension||t.cubicInterpolationMode==="monotone"?_ue:pa}function vhe(t,e,n,s){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,s)&&i.closePath()),Zw(t,e.options),t.stroke(i)}function yhe(t,e,n,s){const{segments:i,options:o}=e,r=U_(e);for(const a of i)Zw(t,o,a.style),t.beginPath(),r(t,e,a,{start:n,end:n+s-1})&&t.closePath(),t.stroke()}const bhe=typeof Path2D=="function";function whe(t,e,n,s){bhe&&!e.options.segment?vhe(t,e,n,s):yhe(t,e,n,s)}class Ar extends or{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const i=s.spanGaps?this._loop:this._fullLoop;lue(this._points,s,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Sue(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,s=e.length;return s&&n[e[s-1].end]}interpolate(e,n){const s=this.options,i=e[n],o=this.points,r=Vw(this,{property:n,start:i,end:i});if(!r.length)return;const a=[],l=_he(s);let c,u;for(c=0,u=r.length;c<u;++c){const{start:d,end:h}=r[c],f=o[d],p=o[h];if(f===p){a.push(f);continue}const v=Math.abs((i-f[n])/(p[n]-f[n])),y=l(f,p,v,s.stepped);y[n]=e[n],a.push(y)}return a.length===1?a[0]:a}pathSegment(e,n,s){return U_(this)(e,this,n,s)}path(e,n,s){const i=this.segments,o=U_(this);let r=this._loop;n=n||0,s=s||this.points.length-n;for(const a of i)r&=o(e,this,a,{start:n,end:n+s-1});return!!r}draw(e,n,s,i){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),whe(e,this,s,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ee(Ar,"id","line"),ee(Ar,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ee(Ar,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ee(Ar,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function R3(t,e,n,s){const i=t.options,{[n]:o}=t.getProps([n],s);return Math.abs(e-o)<i.radius+i.hitRadius}class Rf extends or{constructor(n){super();ee(this,"parsed");ee(this,"skip");ee(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,s,i){const o=this.options,{x:r,y:a}=this.getProps(["x","y"],i);return Math.pow(n-r,2)+Math.pow(s-a,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(n,s){return R3(this,n,"x",s)}inYRange(n,s){return R3(this,n,"y",s)}getCenterPoint(n){const{x:s,y:i}=this.getProps(["x","y"],n);return{x:s,y:i}}size(n){n=n||this.options||{};let s=n.radius||0;s=Math.max(s,s&&n.hoverRadius||0);const i=s&&n.borderWidth||0;return(s+i)*2}draw(n,s){const i=this.options;this.skip||i.radius<.1||!No(this,s,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,P_(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}ee(Rf,"id","point"),ee(Rf,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ee(Rf,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Jw(t,e){const{x:n,y:s,base:i,width:o,height:r}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,d;return t.horizontal?(d=r/2,a=Math.min(n,i),l=Math.max(n,i),c=s-d,u=s+d):(d=o/2,a=n-d,l=n+d,c=Math.min(s,i),u=Math.max(s,i)),{left:a,top:c,right:l,bottom:u}}function Mr(t,e,n,s){return t?0:Bn(e,n,s)}function xhe(t,e,n){const s=t.options.borderWidth,i=t.borderSkipped,o=Cw(s);return{t:Mr(i.top,o.top,0,n),r:Mr(i.right,o.right,0,e),b:Mr(i.bottom,o.bottom,0,n),l:Mr(i.left,o.left,0,e)}}function She(t,e,n){const{enableBorderRadius:s}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,o=Ca(i),r=Math.min(e,n),a=t.borderSkipped,l=s||Mt(i);return{topLeft:Mr(!l||a.top||a.left,o.topLeft,0,r),topRight:Mr(!l||a.top||a.right,o.topRight,0,r),bottomLeft:Mr(!l||a.bottom||a.left,o.bottomLeft,0,r),bottomRight:Mr(!l||a.bottom||a.right,o.bottomRight,0,r)}}function khe(t){const e=Jw(t),n=e.right-e.left,s=e.bottom-e.top,i=xhe(t,n/2,s/2),o=She(t,n/2,s/2);return{outer:{x:e.left,y:e.top,w:n,h:s,radius:o},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:s-i.t-i.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,o.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(i.b,i.r))}}}}function d1(t,e,n,s){const i=e===null,o=n===null,a=t&&!(i&&o)&&Jw(t,s);return a&&(i||Ro(e,a.left,a.right))&&(o||Ro(n,a.top,a.bottom))}function $he(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function Che(t,e){t.rect(e.x,e.y,e.w,e.h)}function h1(t,e,n={}){const s=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,o=(t.x+t.w!==n.x+n.w?e:0)-s,r=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+s,y:t.y+i,w:t.w+o,h:t.h+r,radius:t.radius}}class Vf extends or{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:s,backgroundColor:i}}=this,{inner:o,outer:r}=khe(this),a=$he(r.radius)?kd:Che;e.save(),(r.w!==o.w||r.h!==o.h)&&(e.beginPath(),a(e,h1(r,n,o)),e.clip(),a(e,h1(o,-n,r)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),a(e,h1(o,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,s){return d1(this,e,n,s)}inXRange(e,n){return d1(this,e,null,n)}inYRange(e,n){return d1(this,null,e,n)}getCenterPoint(e){const{x:n,y:s,base:i,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(n+i)/2:n,y:o?s:(s+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}ee(Vf,"id","bar"),ee(Vf,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ee(Vf,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var Ehe=Object.freeze({__proto__:null,ArcElement:au,BarElement:Vf,LineElement:Ar,PointElement:Rf});const B_=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],V3=B_.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function Qw(t){return B_[t%B_.length]}function e7(t){return V3[t%V3.length]}function The(t,e){return t.borderColor=Qw(e),t.backgroundColor=e7(e),++e}function Ahe(t,e){return t.backgroundColor=t.data.map(()=>Qw(e++)),e}function Mhe(t,e){return t.backgroundColor=t.data.map(()=>e7(e++)),e}function Ihe(t){let e=0;return(n,s)=>{const i=t.getDatasetMeta(s).controller;i instanceof va?e=Ahe(n,e):i instanceof Pu?e=Mhe(n,e):i&&(e=The(n,e))}}function N3(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function Ohe(t){return t&&(t.borderColor||t.backgroundColor)}var Dhe={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:s},options:i}=t.config,{elements:o}=i;if(!n.forceOverride&&(N3(s)||Ohe(i)||o&&N3(o)))return;const r=Ihe(t);s.forEach(r)}};function Lhe(t,e,n,s,i){const o=i.samples||s;if(o>=n)return t.slice(e,e+n);const r=[],a=(n-2)/(o-2);let l=0;const c=e+n-1;let u=e,d,h,f,p,v;for(r[l++]=t[u],d=0;d<o-2;d++){let y=0,_=0,w;const x=Math.floor((d+1)*a)+1+e,k=Math.min(Math.floor((d+2)*a)+1,n)+e,C=k-x;for(w=x;w<k;w++)y+=t[w].x,_+=t[w].y;y/=C,_/=C;const S=Math.floor(d*a)+1+e,A=Math.min(Math.floor((d+1)*a)+1,n)+e,{x:O,y:M}=t[u];for(f=p=-1,w=S;w<A;w++)p=.5*Math.abs((O-y)*(t[w].y-M)-(O-t[w].x)*(_-M)),p>f&&(f=p,h=t[w],v=w);r[l++]=h,u=v}return r[l++]=t[c],r}function Phe(t,e,n,s){let i=0,o=0,r,a,l,c,u,d,h,f,p,v;const y=[],_=e+n-1,w=t[e].x,k=t[_].x-w;for(r=e;r<e+n;++r){a=t[r],l=(a.x-w)/k*s,c=a.y;const C=l|0;if(C===u)c<p?(p=c,d=r):c>v&&(v=c,h=r),i=(o*i+a.x)/++o;else{const S=r-1;if(!Vt(d)&&!Vt(h)){const A=Math.min(d,h),O=Math.max(d,h);A!==f&&A!==S&&y.push({...t[A],x:i}),O!==f&&O!==S&&y.push({...t[O],x:i})}r>0&&S!==f&&y.push(t[S]),y.push(a),u=C,o=0,p=v=c,d=h=f=r}}return y}function t7(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function U3(t){t.data.datasets.forEach(e=>{t7(e)})}function Rhe(t,e){const n=e.length;let s=0,i;const{iScale:o}=t,{min:r,max:a,minDefined:l,maxDefined:c}=o.getUserBounds();return l&&(s=Bn(Vo(e,o.axis,r).lo,0,n-1)),c?i=Bn(Vo(e,o.axis,a).hi+1,s,n)-s:i=n-s,{start:s,count:i}}var Vhe={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){U3(t);return}const s=t.width;t.data.datasets.forEach((i,o)=>{const{_data:r,indexAxis:a}=i,l=t.getDatasetMeta(o),c=r||i.data;if(ou([a,t.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=t.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||t.options.parsing)return;let{start:d,count:h}=Rhe(l,c);const f=n.threshold||4*s;if(h<=f){t7(i);return}Vt(r)&&(i._data=c,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(v){this._data=v}}));let p;switch(n.algorithm){case"lttb":p=Lhe(c,d,h,s,n);break;case"min-max":p=Phe(c,d,h,s);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}i._decimated=p})},destroy(t){U3(t)}};function Nhe(t,e,n){const s=t.segments,i=t.points,o=e.points,r=[];for(const a of s){let{start:l,end:c}=a;c=K0(l,c,i);const u=j_(n,i[l],i[c],a.loop);if(!e.segments){r.push({source:a,target:u,start:i[l],end:i[c]});continue}const d=Vw(e,u);for(const h of d){const f=j_(n,o[h.start],o[h.end],h.loop),p=Rw(a,i,f);for(const v of p)r.push({source:v,target:h,start:{[n]:B3(u,f,"start",Math.max)},end:{[n]:B3(u,f,"end",Math.min)}})}}return r}function j_(t,e,n,s){if(s)return;let i=e[t],o=n[t];return t==="angle"&&(i=Us(i),o=Us(o)),{property:t,start:i,end:o}}function Uhe(t,e){const{x:n=null,y:s=null}=t||{},i=e.points,o=[];return e.segments.forEach(({start:r,end:a})=>{a=K0(r,a,i);const l=i[r],c=i[a];s!==null?(o.push({x:l.x,y:s}),o.push({x:c.x,y:s})):n!==null&&(o.push({x:n,y:l.y}),o.push({x:n,y:c.y}))}),o}function K0(t,e,n){for(;e>t;e--){const s=n[e];if(!isNaN(s.x)&&!isNaN(s.y))break}return e}function B3(t,e,n,s){return t&&e?s(t[n],e[n]):t?t[n]:e?e[n]:0}function n7(t,e){let n=[],s=!1;return tn(t)?(s=!0,n=t):n=Uhe(t,e),n.length?new Ar({points:n,options:{tension:0},_loop:s,_fullLoop:s}):null}function j3(t){return t&&t.fill!==!1}function Bhe(t,e,n){let i=t[e].fill;const o=[e];let r;if(!n)return i;for(;i!==!1&&o.indexOf(i)===-1;){if(!vn(i))return i;if(r=t[i],!r)return!1;if(r.visible)return i;o.push(i),i=r.fill}return!1}function jhe(t,e,n){const s=Hhe(t);if(Mt(s))return isNaN(s.value)?!1:s;let i=parseFloat(s);return vn(i)&&Math.floor(i)===i?zhe(s[0],e,i,n):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function zhe(t,e,n,s){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=s?!1:n}function Fhe(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:Mt(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function Whe(t,e,n){let s;return t==="start"?s=n:t==="end"?s=e.options.reverse?e.min:e.max:Mt(t)?s=t.value:s=e.getBaseValue(),s}function Hhe(t){const e=t.options,n=e.fill;let s=vt(n&&n.target,n);return s===void 0&&(s=!!e.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function qhe(t){const{scale:e,index:n,line:s}=t,i=[],o=s.segments,r=s.points,a=Ghe(e,n);a.push(n7({x:null,y:e.bottom},s));for(let l=0;l<o.length;l++){const c=o[l];for(let u=c.start;u<=c.end;u++)Yhe(i,r[u],a)}return new Ar({points:i,options:{}})}function Ghe(t,e){const n=[],s=t.getMatchingVisibleMetas("line");for(let i=0;i<s.length;i++){const o=s[i];if(o.index===e)break;o.hidden||n.unshift(o.dataset)}return n}function Yhe(t,e,n){const s=[];for(let i=0;i<n.length;i++){const o=n[i],{first:r,last:a,point:l}=Khe(o,e,"x");if(!(!l||r&&a)){if(r)s.unshift(l);else if(t.push(l),!a)break}}t.push(...s)}function Khe(t,e,n){const s=t.interpolate(e,n);if(!s)return{};const i=s[n],o=t.segments,r=t.points;let a=!1,l=!1;for(let c=0;c<o.length;c++){const u=o[c],d=r[u.start][n],h=r[u.end][n];if(Ro(i,d,h)){a=i===d,l=i===h;break}}return{first:a,last:l,point:s}}class s7{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,s){const{x:i,y:o,radius:r}=this;return n=n||{start:0,end:nn},e.arc(i,o,r,n.end,n.start,!0),!s.bounds}interpolate(e){const{x:n,y:s,radius:i}=this,o=e.angle;return{x:n+Math.cos(o)*i,y:s+Math.sin(o)*i,angle:o}}}function Zhe(t){const{chart:e,fill:n,line:s}=t;if(vn(n))return Xhe(e,n);if(n==="stack")return qhe(t);if(n==="shape")return!0;const i=Jhe(t);return i instanceof s7?i:n7(i,s)}function Xhe(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function Jhe(t){return(t.scale||{}).getPointPositionForValue?efe(t):Qhe(t)}function Qhe(t){const{scale:e={},fill:n}=t,s=Fhe(n,e);if(vn(s)){const i=e.isHorizontal();return{x:i?s:null,y:i?null:s}}return null}function efe(t){const{scale:e,fill:n}=t,s=e.options,i=e.getLabels().length,o=s.reverse?e.max:e.min,r=Whe(n,e,o),a=[];if(s.grid.circular){const l=e.getPointPositionForValue(0,o);return new s7({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(r)})}for(let l=0;l<i;++l)a.push(e.getPointPositionForValue(l,r));return a}function f1(t,e,n){const s=Zhe(e),{line:i,scale:o,axis:r}=e,a=i.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:d=c}=l||{};s&&i.points.length&&(wm(t,n),tfe(t,{line:i,target:s,above:u,below:d,area:n,scale:o,axis:r}),xm(t))}function tfe(t,e){const{line:n,target:s,above:i,below:o,area:r,scale:a}=e,l=n._loop?"angle":e.axis;t.save(),l==="x"&&o!==i&&(z3(t,s,r.top),F3(t,{line:n,target:s,color:i,scale:a,property:l}),t.restore(),t.save(),z3(t,s,r.bottom)),F3(t,{line:n,target:s,color:o,scale:a,property:l}),t.restore()}function z3(t,e,n){const{segments:s,points:i}=e;let o=!0,r=!1;t.beginPath();for(const a of s){const{start:l,end:c}=a,u=i[l],d=i[K0(l,c,i)];o?(t.moveTo(u.x,u.y),o=!1):(t.lineTo(u.x,n),t.lineTo(u.x,u.y)),r=!!e.pathSegment(t,a,{move:r}),r?t.closePath():t.lineTo(d.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function F3(t,e){const{line:n,target:s,property:i,color:o,scale:r}=e,a=Nhe(n,s,i);for(const{source:l,target:c,start:u,end:d}of a){const{style:{backgroundColor:h=o}={}}=l,f=s!==!0;t.save(),t.fillStyle=h,nfe(t,r,f&&j_(i,u,d)),t.beginPath();const p=!!n.pathSegment(t,l);let v;if(f){p?t.closePath():W3(t,s,d,i);const y=!!s.pathSegment(t,c,{move:p,reverse:!0});v=p&&y,v||W3(t,s,u,i)}t.closePath(),t.fill(v?"evenodd":"nonzero"),t.restore()}}function nfe(t,e,n){const{top:s,bottom:i}=e.chart.chartArea,{property:o,start:r,end:a}=n||{};o==="x"&&(t.beginPath(),t.rect(r,s,a-r,i-s),t.clip())}function W3(t,e,n,s){const i=e.interpolate(n,s);i&&t.lineTo(i.x,i.y)}var sfe={id:"filler",afterDatasetsUpdate(t,e,n){const s=(t.data.datasets||[]).length,i=[];let o,r,a,l;for(r=0;r<s;++r)o=t.getDatasetMeta(r),a=o.dataset,l=null,a&&a.options&&a instanceof Ar&&(l={visible:t.isDatasetVisible(r),index:r,fill:jhe(a,r,s),chart:t,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=l,i.push(l);for(r=0;r<s;++r)l=i[r],!(!l||l.fill===!1)&&(l.fill=Bhe(i,r,n.propagate))},beforeDraw(t,e,n){const s=n.drawTime==="beforeDraw",i=t.getSortedVisibleDatasetMetas(),o=t.chartArea;for(let r=i.length-1;r>=0;--r){const a=i[r].$filler;a&&(a.line.updateControlPoints(o,a.axis),s&&a.fill&&f1(t.ctx,a,o))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const s=t.getSortedVisibleDatasetMetas();for(let i=s.length-1;i>=0;--i){const o=s[i].$filler;j3(o)&&f1(t.ctx,o,t.chartArea)}},beforeDatasetDraw(t,e,n){const s=e.meta.$filler;!j3(s)||n.drawTime!=="beforeDatasetDraw"||f1(t.ctx,s,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const H3=(t,e)=>{let{boxHeight:n=e,boxWidth:s=e}=t;return t.usePointStyle&&(n=Math.min(n,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(e,n)}},ife=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class q3 extends or{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,s){this.maxWidth=e,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Jt(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(s=>e.filter(s,this.chart.data))),e.sort&&(n=n.sort((s,i)=>e.sort(s,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,i=Rn(s.font),o=i.size,r=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=H3(s,o);let c,u;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(r,o,a,l)+10):(u=this.maxHeight,c=this._fitCols(r,i,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,s,i){const{ctx:o,maxWidth:r,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let d=e;o.textAlign="left",o.textBaseline="middle";let h=-1,f=-u;return this.legendItems.forEach((p,v)=>{const y=s+n/2+o.measureText(p.text).width;(v===0||c[c.length-1]+y+2*a>r)&&(d+=u,c[c.length-(v>0?0:1)]=0,f+=u,h++),l[v]={left:0,top:f,row:h,width:y,height:i},c[c.length-1]+=y+a}),d}_fitCols(e,n,s,i){const{ctx:o,maxHeight:r,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=r-e;let d=a,h=0,f=0,p=0,v=0;return this.legendItems.forEach((y,_)=>{const{itemWidth:w,itemHeight:x}=ofe(s,n,o,y,i);_>0&&f+x+2*a>u&&(d+=h+a,c.push({width:h,height:f}),p+=h+a,v++,h=f=0),l[_]={left:p,top:f,col:v,width:w,height:x},h=Math.max(h,w),f+=x+a}),d+=h,c.push({width:h,height:f}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:i},rtl:o}}=this,r=Wl(o,this.left,this.width);if(this.isHorizontal()){let a=0,l=Qn(s,this.left+i,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=Qn(s,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+e+i,c.left=r.leftForLtr(r.x(l),c.width),l+=c.width+i}else{let a=0,l=Qn(s,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=Qn(s,this.top+e+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=r.leftForLtr(r.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;wm(e,this),this._draw(),xm(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:s,ctx:i}=this,{align:o,labels:r}=e,a=yn.color,l=Wl(e.rtl,this.left,this.width),c=Rn(r.font),{padding:u}=r,d=c.size,h=d/2;let f;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:p,boxHeight:v,itemHeight:y}=H3(r,d),_=function(S,A,O){if(isNaN(p)||p<=0||isNaN(v)||v<0)return;i.save();const M=vt(O.lineWidth,1);if(i.fillStyle=vt(O.fillStyle,a),i.lineCap=vt(O.lineCap,"butt"),i.lineDashOffset=vt(O.lineDashOffset,0),i.lineJoin=vt(O.lineJoin,"miter"),i.lineWidth=M,i.strokeStyle=vt(O.strokeStyle,a),i.setLineDash(vt(O.lineDash,[])),r.usePointStyle){const V={radius:v*Math.SQRT2/2,pointStyle:O.pointStyle,rotation:O.rotation,borderWidth:M},R=l.xPlus(S,p/2),X=A+h;$w(i,V,R,X,r.pointStyleWidth&&p)}else{const V=A+Math.max((d-v)/2,0),R=l.leftForLtr(S,p),X=Ca(O.borderRadius);i.beginPath(),Object.values(X).some(P=>P!==0)?kd(i,{x:R,y:V,w:p,h:v,radius:X}):i.rect(R,V,p,v),i.fill(),M!==0&&i.stroke()}i.restore()},w=function(S,A,O){Ua(i,O.text,S,A+y/2,c,{strikethrough:O.hidden,textAlign:l.textAlign(O.textAlign)})},x=this.isHorizontal(),k=this._computeTitleHeight();x?f={x:Qn(o,this.left+u,this.right-s[0]),y:this.top+u+k,line:0}:f={x:this.left+u,y:Qn(o,this.top+k+u,this.bottom-n[0].height),line:0},Dw(this.ctx,e.textDirection);const C=y+u;this.legendItems.forEach((S,A)=>{i.strokeStyle=S.fontColor,i.fillStyle=S.fontColor;const O=i.measureText(S.text).width,M=l.textAlign(S.textAlign||(S.textAlign=r.textAlign)),V=p+h+O;let R=f.x,X=f.y;l.setWidth(this.width),x?A>0&&R+V+u>this.right&&(X=f.y+=C,f.line++,R=f.x=Qn(o,this.left+u,this.right-s[f.line])):A>0&&X+C>this.bottom&&(R=f.x=R+n[f.line].width+u,f.line++,X=f.y=Qn(o,this.top+k+u,this.bottom-n[f.line].height));const P=l.x(R);if(_(P,X,S),R=Cce(M,R+p+h,x?R+V:this.right,e.rtl),w(l.x(R),X,S),x)f.x+=V+u;else if(typeof S.text!="string"){const F=c.lineHeight;f.y+=i7(S,F)+u}else f.y+=C}),Lw(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,s=Rn(n.font),i=ls(n.padding);if(!n.display)return;const o=Wl(e.rtl,this.left,this.width),r=this.ctx,a=n.position,l=s.size/2,c=i.top+l;let u,d=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+c,d=Qn(e.align,d,this.right-h);else{const p=this.columnSizes.reduce((v,y)=>Math.max(v,y.height),0);u=c+Qn(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}const f=Qn(a,d,d+h);r.textAlign=o.textAlign(B0(a)),r.textBaseline="middle",r.strokeStyle=n.color,r.fillStyle=n.color,r.font=s.string,Ua(r,n.text,f,u,s)}_computeTitleHeight(){const e=this.options.title,n=Rn(e.font),s=ls(e.padding);return e.display?n.lineHeight+s.height:0}_getLegendItemAt(e,n){let s,i,o;if(Ro(e,this.left,this.right)&&Ro(n,this.top,this.bottom)){for(o=this.legendHitBoxes,s=0;s<o.length;++s)if(i=o[s],Ro(e,i.left,i.left+i.width)&&Ro(n,i.top,i.top+i.height))return this.legendItems[s]}return null}handleEvent(e){const n=this.options;if(!lfe(e.type,n))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,o=ife(i,s);i&&!o&&Jt(n.onLeave,[e,i,this],this),this._hoveredItem=s,s&&!o&&Jt(n.onHover,[e,s,this],this)}else s&&Jt(n.onClick,[e,s,this],this)}}function ofe(t,e,n,s,i){const o=rfe(s,t,e,n),r=afe(i,s,e.lineHeight);return{itemWidth:o,itemHeight:r}}function rfe(t,e,n,s){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((o,r)=>o.length>r.length?o:r)),e+n.size/2+s.measureText(i).width}function afe(t,e,n){let s=t;return typeof e.text!="string"&&(s=i7(e,n)),s}function i7(t,e){const n=t.text?t.text.length:0;return e*n}function lfe(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var cfe={id:"legend",_element:q3,start(t,e,n){const s=t.legend=new q3({ctx:t.ctx,options:n,chart:t});is.configure(t,s,n),is.addBox(t,s)},stop(t){is.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const s=t.legend;is.configure(t,s,n),s.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const s=e.datasetIndex,i=n.chart;i.isDatasetVisible(s)?(i.hide(s),e.hidden=!0):(i.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:i,color:o,useBorderRadius:r,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=ls(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:o,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:s||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:r&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Z0 extends or{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=tn(s.text)?s.text.length:1;this._padding=ls(s.padding);const o=i*Rn(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:s,bottom:i,right:o,options:r}=this,a=r.align;let l=0,c,u,d;return this.isHorizontal()?(u=Qn(a,s,o),d=n+e,c=o-s):(r.position==="left"?(u=s+e,d=Qn(a,i,n),l=sn*-.5):(u=o-e,d=Qn(a,n,i),l=sn*.5),c=i-n),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const s=Rn(n.font),o=s.lineHeight/2+this._padding.top,{titleX:r,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(o);Ua(e,n.text,0,0,s,{color:n.color,maxWidth:l,rotation:c,textAlign:B0(n.align),textBaseline:"middle",translation:[r,a]})}}function ufe(t,e){const n=new Z0({ctx:t.ctx,options:e,chart:t});is.configure(t,n,e),is.addBox(t,n),t.titleBlock=n}var dfe={id:"title",_element:Z0,start(t,e,n){ufe(t,n)},stop(t){const e=t.titleBlock;is.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const s=t.titleBlock;is.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const df=new WeakMap;var hfe={id:"subtitle",start(t,e,n){const s=new Z0({ctx:t.ctx,options:n,chart:t});is.configure(t,s,n),is.addBox(t,s),df.set(t,s)},stop(t){is.removeBox(t,df.get(t)),df.delete(t)},beforeUpdate(t,e,n){const s=df.get(t);is.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const lu={average(t){if(!t.length)return!1;let e,n,s=new Set,i=0,o=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();s.add(l.x),i+=l.y,++o}}return{x:[...s].reduce((a,l)=>a+l)/s.size,y:i/o}},nearest(t,e){if(!t.length)return!1;let n=e.x,s=e.y,i=Number.POSITIVE_INFINITY,o,r,a;for(o=0,r=t.length;o<r;++o){const l=t[o].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=D_(e,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,s=l.y}return{x:n,y:s}}};function Bi(t,e){return e&&(tn(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Eo(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function ffe(t,e){const{element:n,datasetIndex:s,index:i}=e,o=t.getDatasetMeta(s).controller,{label:r,value:a}=o.getLabelAndValue(i);return{chart:t,label:r,parsed:o.getParsed(i),raw:t.data.datasets[s].data[i],formattedValue:a,dataset:o.getDataset(),dataIndex:i,datasetIndex:s,element:n}}function G3(t,e){const n=t.chart.ctx,{body:s,footer:i,title:o}=t,{boxWidth:r,boxHeight:a}=e,l=Rn(e.bodyFont),c=Rn(e.titleFont),u=Rn(e.footerFont),d=o.length,h=i.length,f=s.length,p=ls(e.padding);let v=p.height,y=0,_=s.reduce((k,C)=>k+C.before.length+C.lines.length+C.after.length,0);if(_+=t.beforeBody.length+t.afterBody.length,d&&(v+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),_){const k=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;v+=f*k+(_-f)*l.lineHeight+(_-1)*e.bodySpacing}h&&(v+=e.footerMarginTop+h*u.lineHeight+(h-1)*e.footerSpacing);let w=0;const x=function(k){y=Math.max(y,n.measureText(k).width+w)};return n.save(),n.font=c.string,Wt(t.title,x),n.font=l.string,Wt(t.beforeBody.concat(t.afterBody),x),w=e.displayColors?r+2+e.boxPadding:0,Wt(s,k=>{Wt(k.before,x),Wt(k.lines,x),Wt(k.after,x)}),w=0,n.font=u.string,Wt(t.footer,x),n.restore(),y+=p.width,{width:y,height:v}}function pfe(t,e){const{y:n,height:s}=e;return n<s/2?"top":n>t.height-s/2?"bottom":"center"}function mfe(t,e,n,s){const{x:i,width:o}=s,r=n.caretSize+n.caretPadding;if(t==="left"&&i+o+r>e.width||t==="right"&&i-o-r<0)return!0}function gfe(t,e,n,s){const{x:i,width:o}=n,{width:r,chartArea:{left:a,right:l}}=t;let c="center";return s==="center"?c=i<=(a+l)/2?"left":"right":i<=o/2?c="left":i>=r-o/2&&(c="right"),mfe(c,t,e,n)&&(c="center"),c}function Y3(t,e,n){const s=n.yAlign||e.yAlign||pfe(t,n);return{xAlign:n.xAlign||e.xAlign||gfe(t,e,n,s),yAlign:s}}function _fe(t,e){let{x:n,width:s}=t;return e==="right"?n-=s:e==="center"&&(n-=s/2),n}function vfe(t,e,n){let{y:s,height:i}=t;return e==="top"?s+=n:e==="bottom"?s-=i+n:s-=i/2,s}function K3(t,e,n,s){const{caretSize:i,caretPadding:o,cornerRadius:r}=t,{xAlign:a,yAlign:l}=n,c=i+o,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:f}=Ca(r);let p=_fe(e,a);const v=vfe(e,l,c);return l==="center"?a==="left"?p+=c:a==="right"&&(p-=c):a==="left"?p-=Math.max(u,h)+i:a==="right"&&(p+=Math.max(d,f)+i),{x:Bn(p,0,s.width-e.width),y:Bn(v,0,s.height-e.height)}}function hf(t,e,n){const s=ls(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-s.right:t.x+s.left}function Z3(t){return Bi([],Eo(t))}function yfe(t,e,n){return Xr(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function X3(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const o7={beforeTitle:So,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return n[e.dataIndex]}return""},afterTitle:So,beforeBody:So,beforeLabel:So,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Vt(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:So,afterBody:So,beforeFooter:So,footer:So,afterFooter:So};function $s(t,e,n,s){const i=t[e].call(n,s);return typeof i>"u"?o7[e].call(n,s):i}class z_ extends or{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,s=this.options.setContext(this.getContext()),i=s.enabled&&n.options.animation&&s.animations,o=new Nw(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=yfe(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:s}=n,i=$s(s,"beforeTitle",this,e),o=$s(s,"title",this,e),r=$s(s,"afterTitle",this,e);let a=[];return a=Bi(a,Eo(i)),a=Bi(a,Eo(o)),a=Bi(a,Eo(r)),a}getBeforeBody(e,n){return Z3($s(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:s}=n,i=[];return Wt(e,o=>{const r={before:[],lines:[],after:[]},a=X3(s,o);Bi(r.before,Eo($s(a,"beforeLabel",this,o))),Bi(r.lines,$s(a,"label",this,o)),Bi(r.after,Eo($s(a,"afterLabel",this,o))),i.push(r)}),i}getAfterBody(e,n){return Z3($s(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:s}=n,i=$s(s,"beforeFooter",this,e),o=$s(s,"footer",this,e),r=$s(s,"afterFooter",this,e);let a=[];return a=Bi(a,Eo(i)),a=Bi(a,Eo(o)),a=Bi(a,Eo(r)),a}_createItems(e){const n=this._active,s=this.chart.data,i=[],o=[],r=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(ffe(this.chart,n[l]));return e.filter&&(a=a.filter((u,d,h)=>e.filter(u,d,h,s))),e.itemSort&&(a=a.sort((u,d)=>e.itemSort(u,d,s))),Wt(a,u=>{const d=X3(e.callbacks,u);i.push($s(d,"labelColor",this,u)),o.push($s(d,"labelPointStyle",this,u)),r.push($s(d,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=o,this.labelTextColors=r,this.dataPoints=a,a}update(e,n){const s=this.options.setContext(this.getContext()),i=this._active;let o,r=[];if(!i.length)this.opacity!==0&&(o={opacity:0});else{const a=lu[s.position].call(this,i,this._eventPosition);r=this._createItems(s),this.title=this.getTitle(r,s),this.beforeBody=this.getBeforeBody(r,s),this.body=this.getBody(r,s),this.afterBody=this.getAfterBody(r,s),this.footer=this.getFooter(r,s);const l=this._size=G3(this,s),c=Object.assign({},a,l),u=Y3(this.chart,s,c),d=K3(s,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,o={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=r,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,s,i){const o=this.getCaretPosition(e,s,i);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(e,n,s){const{xAlign:i,yAlign:o}=this,{caretSize:r,cornerRadius:a}=s,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=Ca(a),{x:h,y:f}=e,{width:p,height:v}=n;let y,_,w,x,k,C;return o==="center"?(k=f+v/2,i==="left"?(y=h,_=y-r,x=k+r,C=k-r):(y=h+p,_=y+r,x=k-r,C=k+r),w=y):(i==="left"?_=h+Math.max(l,u)+r:i==="right"?_=h+p-Math.max(c,d)-r:_=this.caretX,o==="top"?(x=f,k=x-r,y=_-r,w=_+r):(x=f+v,k=x+r,y=_+r,w=_-r),C=x),{x1:y,x2:_,x3:w,y1:x,y2:k,y3:C}}drawTitle(e,n,s){const i=this.title,o=i.length;let r,a,l;if(o){const c=Wl(s.rtl,this.x,this.width);for(e.x=hf(this,s.titleAlign,s),n.textAlign=c.textAlign(s.titleAlign),n.textBaseline="middle",r=Rn(s.titleFont),a=s.titleSpacing,n.fillStyle=s.titleColor,n.font=r.string,l=0;l<o;++l)n.fillText(i[l],c.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+a,l+1===o&&(e.y+=s.titleMarginBottom-a)}}_drawColorBox(e,n,s,i,o){const r=this.labelColors[s],a=this.labelPointStyles[s],{boxHeight:l,boxWidth:c}=o,u=Rn(o.bodyFont),d=hf(this,"left",o),h=i.x(d),f=l<u.lineHeight?(u.lineHeight-l)/2:0,p=n.y+f;if(o.usePointStyle){const v={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},y=i.leftForLtr(h,c)+c/2,_=p+l/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,P_(e,v,y,_),e.strokeStyle=r.borderColor,e.fillStyle=r.backgroundColor,P_(e,v,y,_)}else{e.lineWidth=Mt(r.borderWidth)?Math.max(...Object.values(r.borderWidth)):r.borderWidth||1,e.strokeStyle=r.borderColor,e.setLineDash(r.borderDash||[]),e.lineDashOffset=r.borderDashOffset||0;const v=i.leftForLtr(h,c),y=i.leftForLtr(i.xPlus(h,1),c-2),_=Ca(r.borderRadius);Object.values(_).some(w=>w!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,kd(e,{x:v,y:p,w:c,h:l,radius:_}),e.fill(),e.stroke(),e.fillStyle=r.backgroundColor,e.beginPath(),kd(e,{x:y,y:p+1,w:c-2,h:l-2,radius:_}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(v,p,c,l),e.strokeRect(v,p,c,l),e.fillStyle=r.backgroundColor,e.fillRect(y,p+1,c-2,l-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,n,s){const{body:i}=this,{bodySpacing:o,bodyAlign:r,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=s,d=Rn(s.bodyFont);let h=d.lineHeight,f=0;const p=Wl(s.rtl,this.x,this.width),v=function(O){n.fillText(O,p.x(e.x+f),e.y+h/2),e.y+=h+o},y=p.textAlign(r);let _,w,x,k,C,S,A;for(n.textAlign=r,n.textBaseline="middle",n.font=d.string,e.x=hf(this,y,s),n.fillStyle=s.bodyColor,Wt(this.beforeBody,v),f=a&&y!=="right"?r==="center"?c/2+u:c+2+u:0,k=0,S=i.length;k<S;++k){for(_=i[k],w=this.labelTextColors[k],n.fillStyle=w,Wt(_.before,v),x=_.lines,a&&x.length&&(this._drawColorBox(n,e,k,p,s),h=Math.max(d.lineHeight,l)),C=0,A=x.length;C<A;++C)v(x[C]),h=d.lineHeight;Wt(_.after,v)}f=0,h=d.lineHeight,Wt(this.afterBody,v),e.y-=o}drawFooter(e,n,s){const i=this.footer,o=i.length;let r,a;if(o){const l=Wl(s.rtl,this.x,this.width);for(e.x=hf(this,s.footerAlign,s),e.y+=s.footerMarginTop,n.textAlign=l.textAlign(s.footerAlign),n.textBaseline="middle",r=Rn(s.footerFont),n.fillStyle=s.footerColor,n.font=r.string,a=0;a<o;++a)n.fillText(i[a],l.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+s.footerSpacing}}drawBackground(e,n,s,i){const{xAlign:o,yAlign:r}=this,{x:a,y:l}=e,{width:c,height:u}=s,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:p}=Ca(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+d,l),r==="top"&&this.drawCaret(e,n,s,i),n.lineTo(a+c-h,l),n.quadraticCurveTo(a+c,l,a+c,l+h),r==="center"&&o==="right"&&this.drawCaret(e,n,s,i),n.lineTo(a+c,l+u-p),n.quadraticCurveTo(a+c,l+u,a+c-p,l+u),r==="bottom"&&this.drawCaret(e,n,s,i),n.lineTo(a+f,l+u),n.quadraticCurveTo(a,l+u,a,l+u-f),r==="center"&&o==="left"&&this.drawCaret(e,n,s,i),n.lineTo(a,l+d),n.quadraticCurveTo(a,l,a+d,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,s=this.$animations,i=s&&s.x,o=s&&s.y;if(i||o){const r=lu[e.position].call(this,this._active,this._eventPosition);if(!r)return;const a=this._size=G3(this,e),l=Object.assign({},r,this._size),c=Y3(n,e,l),u=K3(e,l,c,n);(i._to!==u.x||o._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=r.x,this.caretY=r.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},o={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const r=ls(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=s,this.drawBackground(o,e,i,n),Dw(e,n.textDirection),o.y+=r.top,this.drawTitle(o,e,n),this.drawBody(o,e,n),this.drawFooter(o,e,n),Lw(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const s=this._active,i=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),o=!pp(s,i),r=this._positionChanged(i,n);(o||r)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,o=this._active||[],r=this._getActiveElements(e,o,n,s),a=this._positionChanged(r,e),l=n||!pp(r,o)||a;return l&&(this._active=r,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,s,i){const o=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const r=this.chart.getElementsAtEventForMode(e,o.mode,o,s);return o.reverse&&r.reverse(),r}_positionChanged(e,n){const{caretX:s,caretY:i,options:o}=this,r=lu[o.position].call(this,e,n);return r!==!1&&(s!==r.x||i!==r.y)}}ee(z_,"positioners",lu);var bfe={id:"tooltip",_element:z_,positioners:lu,afterInit(t,e,n){n&&(t.tooltip=new z_({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:o7},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},wfe=Object.freeze({__proto__:null,Colors:Dhe,Decimation:Vhe,Filler:sfe,Legend:cfe,SubTitle:hfe,Title:dfe,Tooltip:bfe});const xfe=(t,e,n,s)=>(typeof e=="string"?(n=t.push(e)-1,s.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function Sfe(t,e,n,s){const i=t.indexOf(e);if(i===-1)return xfe(t,e,n,s);const o=t.lastIndexOf(e);return i!==o?n:i}const kfe=(t,e)=>t===null?null:Bn(Math.round(t),0,e);function J3(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class F_ extends el{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:i,label:o}of n)s[i]===o&&s.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Vt(e))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===e?n:Sfe(s,e,vt(n,e),this._addedLabels),kfe(n,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:s,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),n||(i=this.getLabels().length-1)),this.min=s,this.max=i}buildTicks(){const e=this.min,n=this.max,s=this.options.offset,i=[];let o=this.getLabels();o=e===0&&n===o.length-1?o:o.slice(e,n+1),this._valueRange=Math.max(o.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let r=e;r<=n;r++)i.push({value:r});return i}getLabelForValue(e){return J3.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}ee(F_,"id","category"),ee(F_,"defaults",{ticks:{callback:J3}});function $fe(t,e){const n=[],{bounds:i,step:o,min:r,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:h}=t,f=o||1,p=u-1,{min:v,max:y}=e,_=!Vt(r),w=!Vt(a),x=!Vt(c),k=(y-v)/(d+1);let C=qb((y-v)/p/f)*f,S,A,O,M;if(C<1e-14&&!_&&!w)return[{value:v},{value:y}];M=Math.ceil(y/C)-Math.floor(v/C),M>p&&(C=qb(M*C/p/f)*f),Vt(l)||(S=Math.pow(10,l),C=Math.ceil(C*S)/S),i==="ticks"?(A=Math.floor(v/C)*C,O=Math.ceil(y/C)*C):(A=v,O=y),_&&w&&o&&yce((a-r)/o,C/1e3)?(M=Math.round(Math.min((a-r)/C,u)),C=(a-r)/M,A=r,O=a):x?(A=_?r:A,O=w?a:O,M=c-1,C=(O-A)/M):(M=(O-A)/C,Ou(M,Math.round(M),C/1e3)?M=Math.round(M):M=Math.ceil(M));const V=Math.max(Gb(C),Gb(A));S=Math.pow(10,Vt(l)?V:l),A=Math.round(A*S)/S,O=Math.round(O*S)/S;let R=0;for(_&&(h&&A!==r?(n.push({value:r}),A<r&&R++,Ou(Math.round((A+R*C)*S)/S,r,Q3(r,k,t))&&R++):A<r&&R++);R<M;++R){const X=Math.round((A+R*C)*S)/S;if(w&&X>a)break;n.push({value:X})}return w&&h&&O!==a?n.length&&Ou(n[n.length-1].value,a,Q3(a,k,t))?n[n.length-1].value=a:n.push({value:a}):(!w||O===a)&&n.push({value:O}),n}function Q3(t,e,{horizontal:n,minRotation:s}){const i=bi(s),o=(n?Math.sin(i):Math.cos(i))||.001,r=.75*e*(""+t).length;return Math.min(e/o,r)}class wp extends el{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Vt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:i,max:o}=this;const r=l=>i=n?i:l,a=l=>o=s?o:l;if(e){const l=to(i),c=to(o);l<0&&c<0?a(0):l>0&&c>0&&r(0)}if(i===o){let l=o===0?1:Math.abs(o*.05);a(o+l),e||r(i-l)}this.min=i,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=e,i;return s?(i=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const i={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},o=this._range||this,r=$fe(i,o);return e.bounds==="ticks"&&gw(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const e=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const i=(s-n)/Math.max(e.length-1,1)/2;n-=i,s+=i}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(e){return ih(e,this.chart.options.locale,this.options.ticks.format)}}class W_ extends wp{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=vn(e)?e:0,this.max=vn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,s=bi(this.options.ticks.minRotation),i=(e?Math.sin(s):Math.cos(s))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}ee(W_,"id","linear"),ee(W_,"defaults",{ticks:{callback:bm.formatters.numeric}});const Cd=t=>Math.floor(Tr(t)),ca=(t,e)=>Math.pow(10,Cd(t)+e);function e8(t){return t/Math.pow(10,Cd(t))===1}function t8(t,e,n){const s=Math.pow(10,n),i=Math.floor(t/s);return Math.ceil(e/s)-i}function Cfe(t,e){const n=e-t;let s=Cd(n);for(;t8(t,e,s)>10;)s++;for(;t8(t,e,s)<10;)s--;return Math.min(s,Cd(t))}function Efe(t,{min:e,max:n}){e=Rs(t.min,e);const s=[],i=Cd(e);let o=Cfe(e,n),r=o<0?Math.pow(10,Math.abs(o)):1;const a=Math.pow(10,o),l=i>o?Math.pow(10,i):0,c=Math.round((e-l)*r)/r,u=Math.floor((e-l)/a/10)*a*10;let d=Math.floor((c-u)/Math.pow(10,o)),h=Rs(t.min,Math.round((l+u+d*Math.pow(10,o))*r)/r);for(;h<n;)s.push({value:h,major:e8(h),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(o++,d=2,r=o>=0?1:r),h=Math.round((l+u+d*Math.pow(10,o))*r)/r;const f=Rs(t.max,h);return s.push({value:f,major:e8(f),significand:d}),s}class H_ extends el{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const s=wp.prototype.parse.apply(this,[e,n]);if(s===0){this._zero=!0;return}return vn(s)&&s>0?s:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=vn(e)?Math.max(0,e):null,this.max=vn(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!vn(this._userMin)&&(this.min=e===ca(this.min,0)?ca(this.min,-1):ca(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let s=this.min,i=this.max;const o=a=>s=e?s:a,r=a=>i=n?i:a;s===i&&(s<=0?(o(1),r(10)):(o(ca(s,-1)),r(ca(i,1)))),s<=0&&o(ca(i,-1)),i<=0&&r(ca(s,1)),this.min=s,this.max=i}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},s=Efe(n,this);return e.bounds==="ticks"&&gw(s,this,"value"),e.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}getLabelForValue(e){return e===void 0?"0":ih(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Tr(e),this._valueRange=Tr(this.max)-Tr(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Tr(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}ee(H_,"id","logarithmic"),ee(H_,"defaults",{ticks:{callback:bm.formatters.logarithmic,major:{enabled:!0}}});function q_(t){const e=t.ticks;if(e.display&&t.display){const n=ls(e.backdropPadding);return vt(e.font&&e.font.size,yn.font.size)+n.height}return 0}function Tfe(t,e,n){return n=tn(n)?n:[n],{w:Rce(t,e.string,n),h:n.length*e.lineHeight}}function n8(t,e,n,s,i){return t===s||t===i?{start:e-n/2,end:e+n/2}:t<s||t>i?{start:e-n,end:e}:{start:e,end:e+n}}function Afe(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),s=[],i=[],o=t._pointLabels.length,r=t.options.pointLabels,a=r.centerPointLabels?sn/o:0;for(let l=0;l<o;l++){const c=r.setContext(t.getPointLabelContext(l));i[l]=c.padding;const u=t.getPointPosition(l,t.drawingArea+i[l],a),d=Rn(c.font),h=Tfe(t.ctx,d,t._pointLabels[l]);s[l]=h;const f=Us(t.getIndexAngle(l)+a),p=Math.round(N0(f)),v=n8(p,u.x,h.w,0,180),y=n8(p,u.y,h.h,90,270);Mfe(n,e,f,v,y)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=Dfe(t,s,i)}function Mfe(t,e,n,s,i){const o=Math.abs(Math.sin(n)),r=Math.abs(Math.cos(n));let a=0,l=0;s.start<e.l?(a=(e.l-s.start)/o,t.l=Math.min(t.l,e.l-a)):s.end>e.r&&(a=(s.end-e.r)/o,t.r=Math.max(t.r,e.r+a)),i.start<e.t?(l=(e.t-i.start)/r,t.t=Math.min(t.t,e.t-l)):i.end>e.b&&(l=(i.end-e.b)/r,t.b=Math.max(t.b,e.b+l))}function Ife(t,e,n){const s=t.drawingArea,{extra:i,additionalAngle:o,padding:r,size:a}=n,l=t.getPointPosition(e,s+i+r,o),c=Math.round(N0(Us(l.angle+wn))),u=Rfe(l.y,a.h,c),d=Lfe(c),h=Pfe(l.x,a.w,d);return{visible:!0,x:l.x,y:u,textAlign:d,left:h,top:u,right:h+a.w,bottom:u+a.h}}function Ofe(t,e){if(!e)return!0;const{left:n,top:s,right:i,bottom:o}=t;return!(No({x:n,y:s},e)||No({x:n,y:o},e)||No({x:i,y:s},e)||No({x:i,y:o},e))}function Dfe(t,e,n){const s=[],i=t._pointLabels.length,o=t.options,{centerPointLabels:r,display:a}=o.pointLabels,l={extra:q_(o)/2,additionalAngle:r?sn/i:0};let c;for(let u=0;u<i;u++){l.padding=n[u],l.size=e[u];const d=Ife(t,u,l);s.push(d),a==="auto"&&(d.visible=Ofe(d,c),d.visible&&(c=d))}return s}function Lfe(t){return t===0||t===180?"center":t<180?"left":"right"}function Pfe(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function Rfe(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function Vfe(t,e,n){const{left:s,top:i,right:o,bottom:r}=n,{backdropColor:a}=e;if(!Vt(a)){const l=Ca(e.borderRadius),c=ls(e.backdropPadding);t.fillStyle=a;const u=s-c.left,d=i-c.top,h=o-s+c.width,f=r-i+c.height;Object.values(l).some(p=>p!==0)?(t.beginPath(),kd(t,{x:u,y:d,w:h,h:f,radius:l}),t.fill()):t.fillRect(u,d,h,f)}}function Nfe(t,e){const{ctx:n,options:{pointLabels:s}}=t;for(let i=e-1;i>=0;i--){const o=t._pointLabelItems[i];if(!o.visible)continue;const r=s.setContext(t.getPointLabelContext(i));Vfe(n,r,o);const a=Rn(r.font),{x:l,y:c,textAlign:u}=o;Ua(n,t._pointLabels[i],l,c+a.lineHeight/2,a,{color:r.color,textAlign:u,textBaseline:"middle"})}}function r7(t,e,n,s){const{ctx:i}=t;if(n)i.arc(t.xCenter,t.yCenter,e,0,nn);else{let o=t.getPointPosition(0,e);i.moveTo(o.x,o.y);for(let r=1;r<s;r++)o=t.getPointPosition(r,e),i.lineTo(o.x,o.y)}}function Ufe(t,e,n,s,i){const o=t.ctx,r=e.circular,{color:a,lineWidth:l}=e;!r&&!s||!a||!l||n<0||(o.save(),o.strokeStyle=a,o.lineWidth=l,o.setLineDash(i.dash),o.lineDashOffset=i.dashOffset,o.beginPath(),r7(t,n,r,s),o.closePath(),o.stroke(),o.restore())}function Bfe(t,e,n){return Xr(t,{label:n,index:e,type:"pointLabel"})}class cu extends wp{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=ls(q_(this.options)/2),n=this.width=this.maxWidth-e.width,s=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+s/2+e.top),this.drawingArea=Math.floor(Math.min(n,s)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=vn(e)&&!isNaN(e)?e:0,this.max=vn(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/q_(this.options))}generateTickLabels(e){wp.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,s)=>{const i=Jt(this.options.pointLabels.callback,[n,s],this);return i||i===0?i:""}).filter((n,s)=>this.chart.getDataVisibility(s))}fit(){const e=this.options;e.display&&e.pointLabels.display?Afe(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,s,i){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((s-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,s,i))}getIndexAngle(e){const n=nn/(this._pointLabels.length||1),s=this.options.startAngle||0;return Us(e*n+bi(s))}getDistanceFromCenterForValue(e){if(Vt(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(Vt(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const s=n[e];return Bfe(this.getContext(),e,s)}}getPointPosition(e,n,s=0){const i=this.getIndexAngle(e)-wn+s;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:s,right:i,bottom:o}=this._pointLabelItems[e];return{left:n,top:s,right:i,bottom:o}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const s=this.ctx;s.save(),s.beginPath(),r7(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),s.closePath(),s.fillStyle=e,s.fill(),s.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:s,grid:i,border:o}=n,r=this._pointLabels.length;let a,l,c;if(n.pointLabels.display&&Nfe(this,r),i.display&&this.ticks.forEach((u,d)=>{if(d!==0||d===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const h=this.getContext(d),f=i.setContext(h),p=o.setContext(h);Ufe(this,f,l,r,p)}}),s.display){for(e.save(),a=r-1;a>=0;a--){const u=s.setContext(this.getPointLabelContext(a)),{color:d,lineWidth:h}=u;!h||!d||(e.lineWidth=h,e.strokeStyle=d,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,s=n.ticks;if(!s.display)return;const i=this.getIndexAngle(0);let o,r;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;const c=s.setContext(this.getContext(l)),u=Rn(c.font);if(o=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,r=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const d=ls(c.backdropPadding);e.fillRect(-r/2-d.left,-o-u.size/2-d.top,r+d.width,u.size+d.height)}Ua(e,a.label,0,-o,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}ee(cu,"id","radialLinear"),ee(cu,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:bm.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),ee(cu,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),ee(cu,"descriptors",{angleLines:{_fallback:"grid"}});const km={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},As=Object.keys(km);function s8(t,e){return t-e}function i8(t,e){if(Vt(e))return null;const n=t._adapter,{parser:s,round:i,isoWeekday:o}=t._parseOpts;let r=e;return typeof s=="function"&&(r=s(r)),vn(r)||(r=typeof s=="string"?n.parse(r,s):n.parse(r)),r===null?null:(i&&(r=i==="week"&&(hc(o)||o===!0)?n.startOf(r,"isoWeek",o):n.startOf(r,i)),+r)}function o8(t,e,n,s){const i=As.length;for(let o=As.indexOf(t);o<i-1;++o){const r=km[As[o]],a=r.steps?r.steps:Number.MAX_SAFE_INTEGER;if(r.common&&Math.ceil((n-e)/(a*r.size))<=s)return As[o]}return As[i-1]}function jfe(t,e,n,s,i){for(let o=As.length-1;o>=As.indexOf(n);o--){const r=As[o];if(km[r].common&&t._adapter.diff(i,s,r)>=e-1)return r}return As[n?As.indexOf(n):0]}function zfe(t){for(let e=As.indexOf(t)+1,n=As.length;e<n;++e)if(km[As[e]].common)return As[e]}function r8(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:s,hi:i}=U0(n,e),o=n[s]>=e?n[s]:n[i];t[o]=!0}}function Ffe(t,e,n,s){const i=t._adapter,o=+i.startOf(e[0].value,s),r=e[e.length-1].value;let a,l;for(a=o;a<=r;a=+i.add(a,1,s))l=n[a],l>=0&&(e[l].major=!0);return e}function a8(t,e,n){const s=[],i={},o=e.length;let r,a;for(r=0;r<o;++r)a=e[r],i[a]=r,s.push({value:a,major:!1});return o===0||!n?s:Ffe(t,s,i,n)}class Ed extends el{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const s=e.time||(e.time={}),i=this._adapter=new Jue._date(e.adapters.date);i.init(n),Iu(s.displayFormats,i.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:i8(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,s=e.time.unit||"day";let{min:i,max:o,minDefined:r,maxDefined:a}=this.getUserBounds();function l(c){!r&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(o=Math.max(o,c.max))}(!r||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=vn(i)&&!isNaN(i)?i:+n.startOf(Date.now(),s),o=vn(o)&&!isNaN(o)?o:+n.endOf(Date.now(),s)+1,this.min=Math.min(i,o-1),this.max=Math.max(i+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],s=e[e.length-1]),{min:n,max:s}}buildTicks(){const e=this.options,n=e.time,s=e.ticks,i=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const o=this.min,r=this.max,a=Sce(i,o,r);return this._unit=n.unit||(s.autoSkip?o8(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):jfe(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:zfe(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),a8(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,s=0,i,o;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?s=o:s=(o-this.getDecimalForValue(e[e.length-2]))/2);const r=e.length<3?.5:.25;n=Bn(n,0,r),s=Bn(s,0,r),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const e=this._adapter,n=this.min,s=this.max,i=this.options,o=i.time,r=o.unit||o8(o.minUnit,n,s,this._getLabelCapacity(n)),a=vt(i.ticks.stepSize,1),l=r==="week"?o.isoWeekday:!1,c=hc(l)||l===!0,u={};let d=n,h,f;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":r),e.diff(s,n,r)>1e5*a)throw new Error(n+" and "+s+" are too far apart with stepSize of "+a+" "+r);const p=i.ticks.source==="data"&&this.getDataTimestamps();for(h=d,f=0;h<s;h=+e.add(h,a,r),f++)r8(u,h,p);return(h===s||i.bounds==="ticks"||f===1)&&r8(u,h,p),Object.keys(u).sort(s8).map(v=>+v)}getLabelForValue(e){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(e,s.tooltipFormat):n.format(e,s.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,o=this._unit,r=n||i[o];return this._adapter.format(e,r)}_tickFormatFunction(e,n,s,i){const o=this.options,r=o.ticks.callback;if(r)return Jt(r,[e,n,s],this);const a=o.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],d=c&&a[c],h=s[n],f=c&&d&&h&&h.major;return this._adapter.format(e,i||(f?d:u))}generateTickLabels(e){let n,s,i;for(n=0,s=e.length;n<s;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,s=this.ctx.measureText(e).width,i=bi(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(i),r=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:s*o+a*r,h:s*r+a*o}}_getLabelCapacity(e){const n=this.options.time,s=n.displayFormats,i=s[n.unit]||s.millisecond,o=this._tickFormatFunction(e,0,a8(this,[e],this._majorUnit),i),r=this._getLabelSize(o),a=Math.floor(this.isHorizontal()?this.width/r.w:this.height/r.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,s;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,s=i.length;n<s;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,s;if(e.length)return e;const i=this.getLabels();for(n=0,s=i.length;n<s;++n)e.push(i8(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return yw(e.sort(s8))}}ee(Ed,"id","time"),ee(Ed,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function ff(t,e,n){let s=0,i=t.length-1,o,r,a,l;n?(e>=t[s].pos&&e<=t[i].pos&&({lo:s,hi:i}=Vo(t,"pos",e)),{pos:o,time:a}=t[s],{pos:r,time:l}=t[i]):(e>=t[s].time&&e<=t[i].time&&({lo:s,hi:i}=Vo(t,"time",e)),{time:o,pos:a}=t[s],{time:r,pos:l}=t[i]);const c=r-o;return c?a+(l-a)*(e-o)/c:a}class G_ extends Ed{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=ff(n,this.min),this._tableRange=ff(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:s}=this,i=[],o=[];let r,a,l,c,u;for(r=0,a=e.length;r<a;++r)c=e[r],c>=n&&c<=s&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(r=0,a=i.length;r<a;++r)u=i[r+1],l=i[r-1],c=i[r],Math.round((u+l)/2)!==c&&o.push({time:c,pos:r/(a-1)});return o}_generate(){const e=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((i,o)=>i-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?e=this.normalize(n.concat(s)):e=n.length?n:s,e=this._cache.all=e,e}getDecimalForValue(e){return(ff(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return ff(this._table,s*this._tableRange+this._minPos,!0)}}ee(G_,"id","timeseries"),ee(G_,"defaults",Ed.defaults);var Wfe=Object.freeze({__proto__:null,CategoryScale:F_,LinearScale:W_,LogarithmicScale:H_,RadialLinearScale:cu,TimeScale:Ed,TimeSeriesScale:G_});const l8=[Xue,Ehe,wfe,Wfe];var Hfe=Object.defineProperty,c8=Object.getOwnPropertySymbols,qfe=Object.prototype.hasOwnProperty,Gfe=Object.prototype.propertyIsEnumerable,u8=(t,e,n)=>e in t?Hfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ua=(t,e)=>{for(var n in e||(e={}))qfe.call(e,n)&&u8(t,n,e[n]);if(c8)for(var n of c8(e))Gfe.call(e,n)&&u8(t,n,e[n]);return t};const d8=["install","start","stop","beforeInit","afterInit","beforeUpdate","afterUpdate","beforeElementsUpdate","reset","beforeDatasetsUpdate","afterDatasetsUpdate","beforeDatasetUpdate","afterDatasetUpdate","beforeLayout","afterLayout","afterLayout","beforeRender","afterRender","resize","destroy","uninstall","afterTooltipDraw","beforeTooltipDraw"];function Yfe(t,e=null){return{type:t,chartRef:e,preventDefault(){this._defaultPrevented=!0},isDefaultPrevented(){return!this._defaultPrevented},_defaultPrevented:!1}}function Kfe(t,e){return{[e.type]:()=>(t(e.type,e),e.isDefaultPrevented())}}l8!==void 0&&Gi.register(...l8);const Zfe=j({name:"Vue3ChartJs",props:{type:{type:String,required:!0},height:{type:Number,required:!1,default:null},width:{type:Number,required:!1,default:null},data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]}},emits:d8,setup(t,{emit:e}){const n=Y(null),i={chart:null,plugins:[d8.reduce((c,u)=>{const d=Yfe(u,n);return ua(ua({},c),Kfe(e,d))},{id:"Vue3ChartJsEventHookPlugin"}),...t.plugins],props:ua({},t)},o=()=>{i.chart&&(i.chart.destroy(),i.chart=null)},r=(c=750)=>{i.chart.data=ua(ua({},i.chart.data),i.props.data),i.chart.options=ua(ua({},i.chart.options),i.props.options),i.chart.update(c)},a=()=>i.chart&&i.chart.resize(),l=()=>i.chart?i.chart.update():i.chart=new Gi(n.value.getContext("2d"),{type:i.props.type,data:i.props.data,options:i.props.options,plugins:i.plugins});return ri(()=>l()),{chartJSState:i,chartRef:n,render:l,resize:a,update:r,destroy:o}},render(t){return Nd("canvas",{ref:"chartRef",height:t.height,width:t.width})}}),Al=Zfe;Al.registerGlobalPlugins=t=>{Gi.register(...t)};Al.install=(t,e={})=>{var n;t.component(Al.name,Al),(n=e==null?void 0:e.plugins)!=null&&n.length&&Al.registerGlobalPlugins(e.plugins)};const Xfe=j({__name:"line-chart",props:{plot:{}},setup(t){const e=t,n=q(()=>({type:"line",options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}}},data:{labels:e.plot.data.map(i=>i.key),datasets:[{label:!1,backgroundColor:"black",borderColor:s(e.plot.color),data:e.plot.data.map(i=>i.value),fill:!1,cubicInterpolationMode:"monotone",tension:.4}]}}));function s(i){return getComputedStyle(document.body).getPropertyValue(`--${i}`)}return(i,o)=>i.plot?(b(),B(g(Al),y8(bc({key:0},n.value)),null,16)):N("",!0)}}),Jfe=t=>(Ie("data-v-413251b4"),t=t(),Oe(),t),Qfe={class:"statistics-plot-card"},epe={key:0,class:"statistics-plot-card__plot"},tpe={key:1,class:"statistics-plot-card__title"},npe={key:2,class:"statistics-plot-card__no-data"},spe=Jfe(()=>m("p",null,"Нет данных для отображения",-1)),ipe=[spe],ope=j({__name:"statistics-plot-card",props:{plot:{}},setup(t){return(e,n)=>{const s=Xfe;return b(),$("div",Qfe,[e.plot.data.length?(b(),$("div",epe,[E(s,{plot:e.plot},null,8,["plot"])])):N("",!0),e.plot.data.length?(b(),$("div",tpe,[m("h3",null,H(e.plot.name),1)])):(b(),$("div",npe,ipe))])}}});const rpe=J(ope,[["__scopeId","data-v-413251b4"]]),ape={class:"statistics-section"},lpe={class:"statistics-section__header"},cpe={class:"statistics-section__header__title"},upe={class:"statistics-section__header__description"},dpe={class:"statistics-section__content"},hpe={class:"statistics-section__content__plots"},fpe={class:"statistics-section__content__entries"},ppe={class:"row"},mpe=j({__name:"statistics-section",props:{section:{}},setup(t){return(e,n)=>{const s=rpe,i=Ble;return b(),$("div",ape,[m("div",lpe,[m("h3",cpe,H(e.section.name),1),m("p",upe,H(e.section.description),1)]),m("div",dpe,[m("div",hpe,[(b(!0),$(ue,null,Be(e.section.plots,o=>(b(),B(s,{key:o.name,plot:o},null,8,["plot"]))),128))]),m("div",fpe,[m("div",ppe,[(b(!0),$(ue,null,Be(e.section.entries,o=>(b(),B(i,{key:o.name,entry:o},null,8,["entry"]))),128))])])])])}}});const gpe=J(mpe,[["__scopeId","data-v-c4f6b1fe"]]),_pe=t=>(Ie("data-v-70fab937"),t=t(),Oe(),t),vpe={key:0,class:"statistics-view"},ype={class:"statistics-view__header"},bpe={class:"row"},wpe={class:"col-md-4 col-12"},xpe={class:"col-md-4 col-12"},Spe={class:"col-md-4 col-12"},kpe={key:0,class:"statistics-view__content"},$pe={key:1,class:"statistics-view__content--loading"},Cpe={key:2,class:"statistics-view__content--not-loaded"},Epe={key:1,class:"statistics-view__admin"},Tpe=_pe(()=>m("p",null,"Нет статистики для администраторов",-1)),Ape=[Tpe],Mpe=j({__name:"statistics-view",props:{username:{}},setup(t){const e=t,n=D.Services.Statistics,s=D.Services.UI,i=Y(!0),o=Y(),r=Gt({from:l().from,to:l().to,type:void 0});ke(r,jd(a,500),{deep:!0,immediate:!0}),ke(r,()=>{i.value=!0},{deep:!0,immediate:!0});async function a(){if(!(!r.from||!r.to))try{const c=await n.getStatistics(e.username,r.to,r.from,r.type);if(!c.data)throw new Error("Нет данных");o.value=c.data}catch(c){s.openErrorModal("Произошла ошибка при получении статистики пользователя",c.message)}finally{i.value=!1}}function l(){const c=new Date;let u=new Date,d=new Date;return d.setDate(17),c.getDate()<=17&&d.setMonth(d.getMonth()-1),{from:d,to:u}}return(c,u)=>{const d=zt,h=us,f=gpe,p=Sn,v=Qo,y=it("auto-animate");return g(D).Context.roleIs(["student","teacher","mentor","assistant"])?$e((b(),$("div",vpe,[m("div",ype,[m("div",bpe,[m("div",wpe,[E(d,{type:"date",modelValue:r.from,"onUpdate:modelValue":u[0]||(u[0]=_=>r.from=_),label:"Начало статистики"},null,8,["modelValue"])]),m("div",xpe,[E(d,{type:"date",modelValue:r.to,"onUpdate:modelValue":u[1]||(u[1]=_=>r.to=_),label:"Конец статистики"},null,8,["modelValue"])]),m("div",Spe,[E(h,{label:"Тип работы",options:[{label:"Все",value:void 0},{label:"Мини-зачет",value:"mini-test"},{label:"Тест",value:"test"},{label:"Вторая часть",value:"second-part"},{label:"Фраза",value:"phrase"},{label:"Пробник",value:"trial-work"}],modelValue:r.type,"onUpdate:modelValue":u[2]||(u[2]=_=>r.type=_)},null,8,["modelValue"])])])]),o.value&&!i.value?(b(),$("div",kpe,[(b(!0),$(ue,null,Be(o.value.sections,_=>(b(),B(f,{key:_.name,section:_},null,8,["section"]))),128))])):i.value?(b(),$("div",$pe,[E(p,{contrast:""})])):(b(),$("div",Cpe,[E(v,null,{default:L(()=>[W(" Произошла ошибка при получении статистики пользователя ")]),_:1})]))])),[[y]]):(b(),$("div",Epe,Ape))}}});const a7=J(Mpe,[["__scopeId","data-v-70fab937"]]),Ipe={class:"my-students-view"},Ope={class:"my-students-view__search"},Dpe={class:"my-students-view__results"},Lpe={key:0,class:"my-students-view__pagination"},Ppe=j({__name:"my-students-view",setup(t){const e=D.Services.User,n=D.Services.UI,s=Ht(o),i=[{title:"",type:"avatar",value:r=>r},{title:"Имя",value:r=>{const a=r.name;return r.verificationToken?`<span title="Пользователь не подтвержден">⛔</span> ${a}`:a},type:"text",linkTo:r=>`/users/edit/${r.username}`},{title:"Предмет",type:"subject",value:r=>r.subject},{title:"Никнейм",type:"text",value:r=>r.username},{title:"E-mail",type:"text",value:r=>r.email},{title:"Дата регистрации",type:"date",value:r=>r.createdAt}];async function o(r){try{return await e.getOwnStudents(void 0,r)}catch(a){n.openErrorModal("Произошла ошибка при получении списка студентов",a.message)}}return(r,a)=>{const l=kn,c=cs,u=bn;return b(),$("div",Ipe,[m("div",Ope,[E(l,{modelValue:g(s).pagination.value.search,"onUpdate:modelValue":a[0]||(a[0]=d=>g(s).pagination.value.search=d),"is-loading":g(s).isListLoading.value},null,8,["modelValue","is-loading"])]),m("div",Dpe,[E(c,{cols:i,data:g(s).results.value,"is-loading":g(s).isListLoading.value},null,8,["data","is-loading"])]),g(s).resultsMeta.value.total&&g(s).pagination.value.page&&g(s).pagination.value.limit?(b(),$("div",Lpe,[E(u,{page:g(s).pagination.value.page,"onUpdate:page":a[1]||(a[1]=d=>g(s).pagination.value.page=d),total:g(s).resultsMeta.value.total,limit:g(s).pagination.value.limit},null,8,["page","total","limit"])])):N("",!0)])}}});const Rpe=J(Ppe,[["__scopeId","data-v-e831107d"]]),Vpe={class:"my-polls-view"},Npe={class:"my-polls-view__search"},Upe={class:"my-polls-view__results"},Bpe={class:"my-polls-view__pagination"},jpe=j({__name:"my-polls-view",setup(t){const e=D.Services.Poll,n=D.Services.UI,s=Ht(i);async function i(r){try{return await e.getMyPolls(r)}catch(a){n.openErrorModal("Ошибка при загрузке опросов",a.message)}}const o=[{title:"Название",type:"text",value:r=>r.title},{title:"",type:"button",alignment:"right",value:()=>"Посмотреть",linkTo:r=>{var a;return`/polls/${r.id}/results/${(a=D.Context.User)==null?void 0:a.username}`}}];return(r,a)=>{const l=kn,c=cs,u=bn;return b(),$("div",Vpe,[m("div",Npe,[E(l,{modelValue:g(s).pagination.value.search,"onUpdate:modelValue":a[0]||(a[0]=d=>g(s).pagination.value.search=d),"is-loading":g(s).isListLoading.value},null,8,["modelValue","is-loading"])]),m("div",Upe,[E(c,{cols:o,data:g(s).results.value,"is-loading":g(s).isListLoading.value},null,8,["data","is-loading"])]),m("div",Bpe,[E(u,{page:g(s).pagination.value.page,"onUpdate:page":a[1]||(a[1]=d=>g(s).pagination.value.page=d),total:g(s).resultsMeta.value.total,limit:g(s).pagination.value.limit},null,8,["page","total","limit"])])])}}});const zpe=J(jpe,[["__scopeId","data-v-bd2cb04f"]]),X0=t=>(Ie("data-v-66dce72b"),t=t(),Oe(),t),Fpe=X0(()=>m("h2",null,"Смена почты",-1)),Wpe=X0(()=>m("br",null,null,-1)),Hpe=X0(()=>m("p",{class:"hint"}," После смены почты Вы должны будете подтвердить новый адрес. На почту, введенную ниже, будет отправлено письмо с подтверждением. До подтверждения новой почты будет активна старая. ",-1)),qpe=j({__name:"change-email-modal",props:{visible:{type:Boolean}},emits:["update:visible","confirm"],setup(t,{emit:e}){const n=t,s=e,i=q({get:()=>n.visible,set:a=>s("update:visible",a)}),o=Y("");function r(){s("confirm",o.value)}return(a,l)=>{const c=zt,u=li,d=hn;return b(),B(d,{visible:i.value,"onUpdate:visible":l[1]||(l[1]=h=>i.value=h),onConfirm:l[2]||(l[2]=h=>r())},{title:L(()=>[Fpe]),text:L(()=>[E(c,{modelValue:o.value,"onUpdate:modelValue":l[0]||(l[0]=h=>o.value=h),label:"Новый email",type:"email"},null,8,["modelValue"]),Wpe,E(u,null,{default:L(()=>[Hpe]),_:1})]),_:1},8,["visible"])}}});const Gpe=J(qpe,[["__scopeId","data-v-66dce72b"]]),l7=t=>(Ie("data-v-2841ff2e"),t=t(),Oe(),t),Ype=l7(()=>m("h2",null,"Смена аватарки",-1)),Kpe={class:"change-avatar-modal__content"},Zpe=l7(()=>m("p",{class:"change-avatar-modal__content__hint"}," Вы можете загрузить свою аватарку или использовать аватарку из Telegram, если у Вас привязан Telegram и настройки конфиденциальности позволяют видеть её всем. ",-1)),Xpe={class:"change-avatar-modal__content__use-telegram"},Jpe={key:0,class:"change-avatar-modal__content__upload"},Qpe=j({__name:"change-avatar-modal",props:{existingAvatarMedia:{},visible:{type:Boolean}},emits:["update:visible","confirm"],setup(t,{emit:e}){const n=t,s=e,i=q({get:()=>n.visible,set:a=>s("update:visible",a)}),o=Gt({media:n.existingAvatarMedia?[n.existingAvatarMedia]:[],useTelegramAvatar:!1});function r(){s("confirm",o)}return(a,l)=>{const c=Ai,u=vm,d=hn,h=it("auto-animate");return b(),B(d,{visible:i.value,"onUpdate:visible":l[2]||(l[2]=f=>i.value=f),onConfirm:l[3]||(l[3]=f=>r())},{title:L(()=>[Ype]),text:L(()=>[$e((b(),$("div",Kpe,[Zpe,m("div",Xpe,[E(c,{modelValue:o.useTelegramAvatar,"onUpdate:modelValue":l[0]||(l[0]=f=>o.useTelegramAvatar=f),label:"Использовать аватарку из Telegram"},null,8,["modelValue"])]),o.useTelegramAvatar?N("",!0):(b(),$("div",Jpe,[E(u,{label:"Загрузить аватарку",modelValue:o.media,"onUpdate:modelValue":l[1]||(l[1]=f=>o.media=f),"allowed-mime-types":["image/png","image/jpeg"],"max-count":1},null,8,["modelValue"])]))])),[[h]])]),_:1},8,["visible"])}}});const eme=J(Qpe,[["__scopeId","data-v-2841ff2e"]]),tme=t=>(Ie("data-v-7e75fed9"),t=t(),Oe(),t),nme={class:"profile-credentials"},sme={class:"profile-credentials__avatar"},ime={class:"profile-credentials__avatar__image"},ome={class:"profile-credentials__online-status"},rme={class:"profile-credentials__name"},ame={class:"profile-credentials__username"},lme={class:"profile-credentials__email"},cme={key:0,class:"profile-credentials__email__change"},ume={key:1,class:"profile-credentials__email__change-requested"},dme=tme(()=>m("br",null,null,-1)),hme={class:"profile-credentials__role"},fme={class:"profile-credentials__save-button"},pme=j({__name:"profile-credentials",props:{modelValue:{}},emits:["update:modelValue","save","add-telegram","remove-telegram","change-email","cancel-email-change","change-avatar"],setup(t,{emit:e}){const n=t,s=e,i=q({get:()=>n.modelValue,set:l=>s("update:modelValue",l)}),o=Y(!1),r=Y(!1);function a(){o.value=!0}return(l,c)=>{var w;const u=Ha,d=It,h=l0,f=zt,p=li,v=r0,y=xt,_=it("auto-animate");return b(),$(ue,null,[m("div",nme,[m("div",sme,[m("div",ime,[E(u,{avatar:i.value.avatar,name:i.value.name},null,8,["avatar","name"])]),m("div",{class:"profile-credentials__avatar__edit-overlay",onClick:c[0]||(c[0]=x=>r.value=!0)},[E(d,{name:"edit"})])]),m("div",ome,[E(h,{"is-online":i.value.isOnline,"last-seen":i.value.lastRequestAt,"is-mobile":i.value.isLastRequestMobile},null,8,["is-online","last-seen","is-mobile"])]),m("div",rme,[E(f,{type:"text",label:"Имя","onUpdate:modelValue":[c[1]||(c[1]=x=>a()),c[2]||(c[2]=x=>i.value.name=x)],modelValue:i.value.name,class:"input"},null,8,["modelValue"])]),m("div",ame,[E(f,{label:"Никнейм",type:"text",modelValue:i.value.username,"onUpdate:modelValue":c[3]||(c[3]=x=>i.value.username=x),class:"input",readonly:""},null,8,["modelValue"])]),m("div",lme,[E(f,{label:"Email",type:"text",readonly:"","onUpdate:modelValue":[c[4]||(c[4]=x=>a()),c[5]||(c[5]=x=>i.value.email=x)],modelValue:i.value.email,class:"input"},null,8,["modelValue"]),i.value.newEmail?(b(),$("div",ume,[E(p,null,{default:L(()=>[m("p",null,[W(" На почту "),m("b",null,H(i.value.newEmail),1),W(" отправлено письмо с подтверждением смены почты. Пожалуйста, проверьте почту и подтвердите новый адрес. "),dme,m("a",{href:"javascript:void(0)",onClick:c[7]||(c[7]=x=>l.$emit("cancel-email-change"))}," Отменить смену почты ")])]),_:1})])):(b(),$("span",cme,[E(d,{name:"edit",onClick:c[6]||(c[6]=x=>l.$emit("change-email"))})]))]),m("div",hme,[E(v,{role:i.value.role},null,8,["role"])]),$e((b(),$("div",fme,[o.value?(b(),B(y,{key:0,alignment:"center",onClick:c[8]||(c[8]=x=>l.$emit("save"))},{default:L(()=>[W(" Сохранить ")]),_:1})):N("",!0)])),[[_]])]),E(eme,{visible:r.value,"onUpdate:visible":c[9]||(c[9]=x=>r.value=x),"existing-avatar-media":((w=i.value.avatar)==null?void 0:w.media)||null,onConfirm:c[10]||(c[10]=x=>l.$emit("change-avatar",x))},null,8,["visible","existing-avatar-media"])],64)}}});const mme=J(pme,[["__scopeId","data-v-7e75fed9"]]),gme=Kt("profile-module:profile",()=>{const t=D.Services.User,e=D.Services.Auth,n=D.Services.UI,s=Y(),i=Y(0);async function o(){var u;if((u=D.Context.User)!=null&&u.username)try{const d=await t.getUser(D.Context.User.username,{showLoader:!0});s.value=d.data,D.Context.setUser(s.value)}catch(d){n.openErrorModal("Произошла ошибка при загрузке данных пользователя","Возможно, Вам поможет перезайти. Ошибка: "+d.message,[{label:"Перезайти",design:"warning",handler:()=>e.logout()}])}}async function r(){var u;if(s.value)try{await t.updateUser(s.value.id,{id:s.value.id,name:s.value.name,telegramUsername:(u=s.value.telegramUsername)==null?void 0:u.replace("@","")},{showLoader:!0}),await o(),n.openSuccessModal("Данные успешно обновлены","Изменения вступят полностью в силу после следующего входа на платформу",[{label:"Обновить страницу",design:"primary",handler:()=>window.location.reload()}])}catch(d){n.openErrorModal("Произошла ошибка при обновлении данных",d.message)}}async function a(u){if(s.value)try{await t.requestChangeEmail(s.value.id,u,{showLoader:!0}),n.openWarningModal("Запрос на изменение почты отправлен","Проверьте почту для подтверждения")}catch(d){n.openErrorModal("Произошла ошибка при запросе на изменение почты",d.message)}}async function l(){try{await t.cancelChangeEmail(D.Context.User.id,{showLoader:!0}),await o(),n.openSuccessModal("Запрос на изменение почты отменен")}catch(u){n.openErrorModal("Произошла ошибка при отмене запроса на изменение почты",u.message)}}async function c(u){if(s.value)try{await t.updateUser(s.value.id,{id:s.value.id,avatar:{...s.value.avatar,media:u.media.at(0)||null,avatarType:u.useTelegramAvatar?"telegram":"custom"}}),await o(),n.openSuccessModal("Аватар успешно изменен","Обновите страницу")}catch(d){n.openErrorModal("Произошла ошибка при изменении аватара",d.message)}}return{user:s,currentTab:i,updateCredentials:r,fetchUser:o,requestChangeEmail:a,cancelChangeEmail:l,changeAvatar:c}}),_me={key:0,class:"index-profile-view"},vme={class:"index-profile-view__user-info"},yme={class:"index-profile-view__credentials"},bme={key:0,class:"index-profile-view__content"},wme={class:"index-profile-view__charts"},xme={key:0,class:"index-profile-view__mentor"},Sme={key:0,class:"index-profile-view__students"},kme={class:"index-profile-view__polls"},$me=j({__name:"index-view",setup(t){const e=gme();ys("Мой профиль"),e.fetchUser();const n=Y(!1);return(s,i)=>{const o=a7,r=uw,a=Jo,l=fo;return b(),$(ue,null,[g(e).user?(b(),$("div",_me,[E(l,null,{sidebar:L(()=>[m("div",vme,[m("div",yme,[E(mme,{modelValue:g(e).user,"onUpdate:modelValue":i[0]||(i[0]=c=>g(e).user=c),onSave:i[1]||(i[1]=c=>g(e).updateCredentials()),onChangeEmail:i[2]||(i[2]=c=>n.value=!0),onCancelEmailChange:i[3]||(i[3]=c=>g(e).cancelChangeEmail()),onChangeAvatar:i[4]||(i[4]=c=>g(e).changeAvatar(c))},null,8,["modelValue"])])])]),content:L(()=>[g(D).Context.User&&g(D).Context.roleIs(["teacher","mentor","student"])?(b(),$("div",bme,[E(a,{titles:["Моя статистика",g(D).Context.roleIs(["student"])?"Мои кураторы":"",g(D).Context.roleIs(["mentor"])?"Мои ученики":"",g(D).Context.roleIs(["student","mentor"])?"Мои опросы":""],"tab-index":g(e).currentTab,"onUpdate:tabIndex":i[6]||(i[6]=c=>g(e).currentTab=c)},{"tab-0":L(()=>{var c;return[m("div",wme,[i[5]||(Wu(-1),(i[5]=E(o,{username:(c=g(D).Context.User)==null?void 0:c.username},null,8,["username"])).cacheIndex=5,Wu(1),i[5])])]}),"tab-1":L(()=>[g(D).Context.roleIs(["student"])?(b(),$("div",xme,[E(r,{"mentor-assignments":g(e).user.mentorAssignmentsAsStudent,student:g(D).Context.User},null,8,["mentor-assignments","student"])])):N("",!0)]),"tab-2":L(()=>[g(e).currentTab===2?(b(),$("div",Sme,[E(Rpe)])):N("",!0)]),"tab-3":L(()=>[m("div",kme,[g(e).currentTab===3?(b(),B(zpe,{key:0})):N("",!0)])]),_:1},8,["titles","tab-index"])])):N("",!0)]),_:1})])):N("",!0),E(Gpe,{visible:n.value,"onUpdate:visible":i[7]||(i[7]=c=>n.value=c),onConfirm:i[8]||(i[8]=c=>g(e).requestChangeEmail(c))},null,8,["visible"])],64)}}});const Cme=J($me,[["__scopeId","data-v-8e932024"]]),Eme={path:"/profile",name:"Профиль",component:sle,children:[{path:"",name:"Профиль",component:Cme}]},Tme={name:"profile",router:Eme},Ame={},Mme={class:"module-wrapper"};function Ime(t,e){const n=Xe("router-view");return b(),$("div",Mme,[E(n)])}const Ome=J(Ame,[["render",Ime]]),Dme={class:"settings-menu"},Lme={class:"settings-menu__icon"},Pme={class:"settings-menu__text"},Rme={class:"settings-menu__text__title"},Vme={class:"settings-menu__text__description"},Nme=j({__name:"settings-menu",props:{navEntries:{}},setup(t){return(e,n)=>{const s=It,i=Xe("router-link");return b(),$("ul",Dme,[(b(!0),$(ue,null,Be(e.navEntries,o=>(b(),$("li",{class:"settings-menu__item",key:o.title},[E(i,{to:o.route,class:"settings-menu__link"},{default:L(()=>[m("div",Lme,[E(s,{name:o.icon},null,8,["name"])]),m("div",Pme,[m("span",Rme,H(o.title),1),m("span",Vme,H(o.description),1)])]),_:2},1032,["to"])]))),128))])}}});const Ume=J(Nme,[["__scopeId","data-v-dc26c72f"]]),Bme=Kt("settings-module:settings",()=>{const t=[{title:"Аккаунт",description:"Смена пароля, активные сессии, удаление аккаунта",icon:"user",route:"/settings/account",for:["student","teacher","mentor","admin","assistant"]},{title:"Telegram",description:"Привязка Telegram к профилю, уведомления",icon:"telegram-blue",route:"/settings/telegram",for:["student","mentor","teacher","admin","assistant"]},{title:"Персонализация",description:"Настройка фона",icon:"brush",route:"/settings/personalization",for:["student","mentor","teacher","admin","assistant"]},{title:"Google Sheets",description:"Интеграции с Google Sheets и Google Drive",icon:"google-sheets",route:"/settings/google-sheets",for:["teacher","admin"]},{title:"Сниппеты",description:"Создание и редактирование сниппетов",icon:"keyboard",route:"/settings/mentor-snippets",for:["mentor"]},{title:"Предметы",description:"Просмотр, создание и редактирование предметов",icon:"subject",route:"/settings/subjects",for:["teacher","admin","mentor","assistant"]},{title:"Страница помощи",description:"Редактирование страницы помощи",icon:"help",route:"/settings/help-page",for:["admin","teacher"]},{title:"Уведомления",description:"Управление уведомлениями",icon:"notifications",route:"/settings/notifications",for:["admin","teacher"]},{title:"Общая информация",description:"Информация о платформе, версиях и changelog",icon:"info",route:"/settings/platform-info",for:["teacher","admin","student","mentor"]},{title:"Опасная зона",description:"Удаление данных, сброс настроек, опасные действия",icon:"cross-red",route:"/settings/danger-zone",for:["admin"]}];return{navEntries:q(()=>t.filter(n=>{var s;return n.for.includes((s=D.Context.User)==null?void 0:s.role)}))}}),jme={class:"index-view"},zme=j({__name:"index-view",setup(t){const e=Bme();return(n,s)=>{const i=Xe("router-view"),o=fo;return b(),$("div",jme,[E(o,null,{sidebar:L(()=>[E(Ume,{"nav-entries":g(e).navEntries},null,8,["nav-entries"])]),content:L(()=>[E(i)]),_:1})])}}}),Fme={path:"/settings",name:"Найтройки",component:Ome,children:[{path:"",name:"Настройки",component:zme,children:[{path:"account",name:"Аккаунт",component:()=>fe(()=>import("./account-view-34265bb6.js"),["assets/account-view-34265bb6.js","assets/settings-section-06d842fd.js","assets/settings-section-eedeb9d2.css","assets/account-view-a8289ec7.css"])},{path:"telegram",name:"Telegram",component:()=>fe(()=>import("./telegram-view-7447120a.js"),["assets/telegram-view-7447120a.js","assets/settings-section-06d842fd.js","assets/settings-section-eedeb9d2.css","assets/telegram-view-f9459c9f.css"])},{path:"personalization",name:"Персонализация",component:()=>fe(()=>import("./personalization-view-13fa1ed7.js"),["assets/personalization-view-13fa1ed7.js","assets/settings-section-06d842fd.js","assets/settings-section-eedeb9d2.css","assets/personalization-view-88f0e90e.css"])},{path:"google-sheets",name:"Google Sheets",component:()=>fe(()=>import("./google-sheets-view-75ad0899.js"),["assets/google-sheets-view-75ad0899.js","assets/settings-section-06d842fd.js","assets/settings-section-eedeb9d2.css","assets/google-sheets-view-dcc68046.css"])},{path:"mentor-snippets",name:"Сниппеты",component:()=>fe(()=>import("./snippets-view-da8857c1.js"),["assets/snippets-view-da8857c1.js","assets/settings-section-06d842fd.js","assets/settings-section-eedeb9d2.css","assets/snippets-view-22bb3ec8.css"])},{path:"subjects",name:"Предметы",component:()=>fe(()=>import("./subjects-view-16bdb2f1.js"),["assets/subjects-view-16bdb2f1.js","assets/settings-section-06d842fd.js","assets/settings-section-eedeb9d2.css","assets/subjects-view-b30426b1.css"])},{path:"help-page",name:"Страница помощи",component:()=>fe(()=>import("./help-page-view-4b3ad2a0.js"),["assets/help-page-view-4b3ad2a0.js","assets/settings-section-06d842fd.js","assets/settings-section-eedeb9d2.css","assets/help-page-view-83dac2de.css"])},{path:"notifications",name:"Уведомления",component:()=>fe(()=>import("./notifications-view-44dad1dd.js"),["assets/notifications-view-44dad1dd.js","assets/settings-section-06d842fd.js","assets/settings-section-eedeb9d2.css","assets/notifications-view-b570163b.css"])},{path:"platform-info",name:"Общая информация",component:()=>fe(()=>import("./platform-info-view-5f5c29b8.js"),["assets/platform-info-view-5f5c29b8.js","assets/settings-section-06d842fd.js","assets/settings-section-eedeb9d2.css","assets/platform-info-view-55213657.css"])},{path:"danger-zone",name:"Опасная зона",component:()=>fe(()=>import("./danger-zone-view-476f5aa7.js"),["assets/danger-zone-view-476f5aa7.js","assets/settings-section-06d842fd.js","assets/settings-section-eedeb9d2.css","assets/danger-zone-view-203b4049.css"])}]}]},Wme={name:"profile",router:Fme},Hme={},qme={class:"module-wrapper"};function Gme(t,e){const n=Xe("router-view");return b(),$("div",qme,[E(n)])}const Yme=J(Hme,[["render",Gme]]),Kme=Kt("students-module:students",()=>{const t=D.Services.User,e=D.Services.UI,{pagination:n,results:s,resultsMeta:i,isListLoading:o}=Ht(r);async function r(a){try{return await t.getOwnStudents(void 0,a)}catch(l){e.openErrorModal("Произошла ошибка при получении списка студентов",l.message)}}return{pagination:n,results:s,resultsMeta:i,isListLoading:o}}),Zme={class:"index-students-view"},Xme={class:"index-students-view__search"},Jme={key:0,class:"index-students-view__pagination"},Qme=j({__name:"index-view",setup(t){const e=[{title:"",type:"avatar",value:s=>s},{title:"Имя",value:s=>{const i=s.name;return s.verificationToken?`<span title="Пользователь не подтвержден">⛔</span> ${i}`:i},type:"text",linkTo:s=>`/users/edit/${s.username}`},{title:"Предмет",type:"subject",value:s=>s.subject},{title:"Никнейм",type:"text",value:s=>s.username},{title:"E-mail",type:"text",value:s=>s.email},{title:"Дата регистрации",type:"date",value:s=>s.createdAt}],n=Kme();return ys("Мои ученики"),(s,i)=>{const o=kn,r=cs,a=bn;return b(),$("div",Zme,[m("div",Xme,[E(o,{modelValue:g(n).pagination.search,"onUpdate:modelValue":i[0]||(i[0]=l=>g(n).pagination.search=l),"is-loading":g(n).isListLoading},null,8,["modelValue","is-loading"])]),E(r,{cols:e,data:g(n).results,"is-loading":g(n).isListLoading},null,8,["data","is-loading"]),g(n).resultsMeta.total&&g(n).pagination.page&&g(n).pagination.limit?(b(),$("div",Jme,[E(a,{page:g(n).pagination.page,"onUpdate:page":i[1]||(i[1]=l=>g(n).pagination.page=l),total:g(n).resultsMeta.total,limit:g(n).pagination.limit},null,8,["page","total","limit"])])):N("",!0)])}}});const ege=J(Qme,[["__scopeId","data-v-b33a2c3c"]]),tge={path:"/students",name:"Мои ученики",component:Yme,children:[{path:"",name:"Мои ученики",component:ege}]},nge={name:"students",router:tge},sge={},ige={class:"module"};function oge(t,e){const n=Xe("router-view");return b(),$("div",ige,[E(n)])}const rge=J(sge,[["render",oge]]),age=t=>(Ie("data-v-2b84375e"),t=t(),Oe(),t),lge={class:"form-color-select"},cge={class:"form-color-select__label"},uge={class:"form-color-select__select"},dge=age(()=>m("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[m("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),m("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)),hge=[dge],fge=["onClick"],pge=j({__name:"form-color-select",props:{modelValue:{},allowEmpty:{type:Boolean},label:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=["var(--primary)","var(--secondary)","var(--success)","var(--danger)","var(--warning)","var(--info)"],s=t,i=e,o=q({get:()=>s.modelValue,set:r=>i("update:modelValue",r)});return(r,a)=>(b(),$("div",lge,[m("label",cge,H(r.label),1),m("div",uge,[m("div",{class:Se(["form-color-select__select__color form-color-select__select__no-color",{"form-color-select__select__color--selected":o.value===null}]),onClick:a[0]||(a[0]=l=>o.value=null)},hge,2),(b(),$(ue,null,Be(n,l=>m("div",{class:Se(["form-color-select__select__color",{"form-color-select__select__color--selected":o.value===l}]),key:l,style:Qt({background:l}),onClick:c=>o.value=l},null,14,fge)),64))])]))}});const mge=J(pge,[["__scopeId","data-v-2b84375e"]]),gge={class:"cell-style-input"},_ge={class:"cell-style-input__background"},c7=j({__name:"cell-style-input",props:{modelValue:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=e,i=q({get:()=>n.modelValue,set:o=>s("update:modelValue",o)});return(o,r)=>{const a=mge;return b(),$("div",gge,[m("div",_ge,[E(a,{label:"Цвет фона",modelValue:i.value.background,"onUpdate:modelValue":r[0]||(r[0]=l=>i.value.background=l),"allow-empty":""},null,8,["modelValue"])])])}}}),u7=j({__name:"noo-table-cell-edit-date",props:{modelValue:{},isValid:{}},emits:["update:modelValue","update:isValid"],setup(t,{emit:e}){const n=t,s=e,i=q({get:()=>n.modelValue,set:a=>s("update:modelValue",a)}),o=q({get:()=>n.isValid,set:a=>s("update:isValid",a)});ke(i,r,{immediate:!0,deep:!0});function r(){o.value=[!0]}return(a,l)=>{const c=zt;return b(),B(c,{type:"date",label:"Значение ячейки",modelValue:i.value.value,"onUpdate:modelValue":l[0]||(l[0]=u=>i.value.value=u),min:0,max:100},null,8,["modelValue"])}}}),vge=j({__name:"user-select",props:{label:{},modelValue:{},role:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=e,i=D.Services.User,o=D.Services.UI;async function r(l){try{switch(n.role){case"teacher":return i.getTeachers(l);case"mentor":return i.getMentors(l);case"student":return i.getStudents(l);default:return i.getUsers(l)}}catch(c){o.openErrorModal("Произошла ошибка при загрузке пользователей",c.message)}}const a=q({get:()=>n.modelValue?[n.modelValue]:[],set:l=>{l.length===0&&s("update:modelValue",null),s("update:modelValue",l[0])}});return(l,c)=>{const u=$c;return b(),B(u,{label:l.label,"fetch-function":r,"label-keys":["name","username"],"max-count":1,modelValue:a.value,"onUpdate:modelValue":c[0]||(c[0]=d=>a.value=d)},null,8,["label","modelValue"])}}}),d7=j({__name:"noo-table-cell-edit-user",props:{modelValue:{},isValid:{}},emits:["update:modelValue","update:isValid"],setup(t,{emit:e}){const n=t,s=e,i=q({get:()=>n.modelValue.metadata||null,set:a=>{s("update:modelValue",{...n.modelValue,value:(a==null?void 0:a.id)||"",metadata:Y(a)||null})}}),o=q({get:()=>n.isValid,set:a=>s("update:isValid",a)});ke(i,r,{immediate:!0});function r(){i.value?o.value=[!0]:o.value=[!1,"Необходимо выбрать пользователя"]}return(a,l)=>{const c=vge;return b(),B(c,{label:"Выберите пользователя",modelValue:i.value,"onUpdate:modelValue":l[0]||(l[0]=u=>i.value=u)},null,8,["modelValue"])}}}),xp=j({__name:"noo-table-cell-edit-text",props:{modelValue:{},isValid:{}},emits:["update:modelValue","update:isValid"],setup(t,{emit:e}){const n=t,s=e,i=q({get:()=>n.modelValue,set:a=>s("update:modelValue",a)}),o=q({get:()=>n.isValid,set:a=>s("update:isValid",a)});ke(i,r,{immediate:!0,deep:!0});function r(){i.value.value?o.value=[!0]:o.value=[!1,"Необходимо заполнить значение ячейки"]}return(a,l)=>{const c=zt;return b(),B(c,{type:"text",label:"Значение ячейки",modelValue:i.value.value,"onUpdate:modelValue":l[0]||(l[0]=u=>i.value.value=u)},null,8,["modelValue"])}}}),h7=j({__name:"noo-table-cell-edit-number",props:{modelValue:{},isValid:{}},emits:["update:modelValue","update:isValid"],setup(t,{emit:e}){const n=t,s=e,i=q({get:()=>n.modelValue,set:a=>{a.value===""&&(a.value="0"),s("update:modelValue",a)}}),o=q({get:()=>n.isValid,set:a=>s("update:isValid",a)});ke(i,r,{immediate:!0,deep:!0});function r(){o.value=[!0]}return(a,l)=>{const c=zt;return b(),B(c,{type:"number",label:"Значение ячейки",modelValue:i.value.value,"onUpdate:modelValue":l[0]||(l[0]=u=>i.value.value=u)},null,8,["modelValue"])}}}),f7=j({__name:"noo-table-cell-edit-percentage",props:{modelValue:{},isValid:{}},emits:["update:modelValue","update:isValid"],setup(t,{emit:e}){const n=t,s=e,i=q({get:()=>n.modelValue,set:a=>{a.value===""&&(a.value="0"),s("update:modelValue",a)}}),o=q({get:()=>n.isValid,set:a=>s("update:isValid",a)});ke(i,r,{immediate:!0,deep:!0});function r(){parseFloat(i.value.value)<0?o.value=[!1,"Значение не может быть меньше 0"]:o.value=[!0]}return(a,l)=>{const c=zt;return b(),B(c,{type:"number",label:"Значение ячейки (в %)",modelValue:i.value.value,"onUpdate:modelValue":l[0]||(l[0]=u=>i.value.value=u),min:0,max:100},null,8,["modelValue"])}}}),p7=j({__name:"noo-table-cell-edit-work",props:{modelValue:{},isValid:{}},emits:["update:modelValue","update:isValid"],setup(t,{emit:e}){const n=t,s=e,i=q({get:()=>n.modelValue.metadata||null,set:a=>{s("update:modelValue",{...n.modelValue,value:(a==null?void 0:a.id)||"",metadata:Y(a)||null})}}),o=q({get:()=>n.isValid,set:a=>s("update:isValid",a)});ke(i,r,{immediate:!0});function r(){i.value?o.value=[!0]:o.value=[!1,"Необходимо выбрать работу"]}return(a,l)=>{const c=rw;return b(),B(c,{label:"Выберите работу",modelValue:i.value,"onUpdate:modelValue":l[0]||(l[0]=u=>i.value=u)},null,8,["modelValue"])}}});var kp;class m7{constructor(e){qs(this,kp,void 0);vo(this,kp,e)}static validate(e){return e.length>0}}kp=new WeakMap;const g7=j({__name:"noo-table-cell-edit-formula",props:{modelValue:{},isValid:{}},emits:["update:modelValue","update:isValid"],setup(t,{emit:e}){const n=t,s=e,i=q({get:()=>n.modelValue,set:a=>s("update:modelValue",a)}),o=q({get:()=>n.isValid,set:a=>s("update:isValid",a)});ke(i,r,{immediate:!0,deep:!0});function r(){m7.validate(i.value.value)?o.value=[!0]:o.value=[!1,"Некорректная формула"]}return(a,l)=>{const c=zt;return b(),B(c,{type:"text",label:"Значение ячейки",modelValue:i.value.value,"onUpdate:modelValue":l[0]||(l[0]=u=>i.value.value=u)},null,8,["modelValue"])}}}),yge=[{value:"text",label:"Текст"},{value:"number",label:"Число"},{value:"percentage",label:"Процент"},{value:"date",label:"Дата"},{value:"user",label:"Пользователь"},{value:"work",label:"Работа"},{value:"formula",label:"Формула"}];var ql,Hi,Gl,Mo,Td,Ad,Md,Io,ma,$p,_7,Cp,v7;class J0 extends Map{constructor(n,s,i,o){super();qs(this,Io);qs(this,$p);qs(this,Cp);qs(this,ql,void 0);qs(this,Hi,void 0);qs(this,Gl,void 0);qs(this,Mo,void 0);qs(this,Td,{});qs(this,Ad,void 0);qs(this,Md,void 0);n.forEach(r=>this.setValue(r,!1)),vo(this,ql,yo(this,$p,_7).call(this,n)),vo(this,Gl,yo(this,Cp,v7).call(this,n)),vo(this,Hi,Fn(this,ql)+s.emptyXSpan),vo(this,Mo,Fn(this,Gl)+s.emptyYSpan),vo(this,Ad,i),vo(this,Md,o)}setValue(n,s=!1){super.set(`${n.row}-${n.col}`,n),s&&yo(this,Io,ma).call(this)}getValue(n,s){return super.get(`${n}-${s}`)}getRow(n){const s=[];for(let i=1;i<=Fn(this,Hi);i++)s.push(this.getValue(n,i));return s}removeValue(n,s){super.delete(`${n}-${s}`),yo(this,Io,ma).call(this)}get dimX(){return Fn(this,ql)}get dimY(){return Fn(this,Gl)}get sizeX(){return Fn(this,Hi)}get sizeY(){return Fn(this,Mo)}get isModified(){return Object.entries(Fn(this,Td)).length>0}onmodify(n){Fn(this,Td)[n.id]=n,this.setValue(n)}addRow(){Lc(this,Mo)._++,yo(this,Io,ma).call(this)}addColumn(){Lc(this,Hi)._++,yo(this,Io,ma).call(this)}removeRow(){Fn(this,Mo)<3||(Lc(this,Mo)._--,this.delete(`${Fn(this,Mo)}-`),yo(this,Io,ma).call(this))}removeColumn(){Fn(this,Hi)<3||(Lc(this,Hi)._--,this.delete(`-${Fn(this,Hi)}`),yo(this,Io,ma).call(this))}}ql=new WeakMap,Hi=new WeakMap,Gl=new WeakMap,Mo=new WeakMap,Td=new WeakMap,Ad=new WeakMap,Md=new WeakMap,Io=new WeakSet,ma=function(){Fn(this,Md).call(this,Array.from(this.values())),Fn(this,Ad).value++},$p=new WeakSet,_7=function(n){return n.length?Math.max(...n.map(s=>s.col)):10},Cp=new WeakSet,v7=function(n){return n.length?Math.max(...n.map(s=>s.row)):5},ee(J0,"cellTypeOptions",yge);function bge(t,e,n){return{type:t,row:e,col:n,value:wge(t),id:Ci(),background:null}}function wge(t){switch(t){case"text":return"";case"number":case"percentage":return"0";case"formula":return"";case"date":return new Date().toISOString();case"user":case"work":default:return""}}const xge={key:0,class:"error-block"},Sge=j({__name:"noo-table-cell-create-modal",props:{visible:{type:Boolean},x:{},y:{}},emits:["update:visible","confirm"],setup(t,{emit:e}){const n=t,s=e,i=q({get:()=>n.visible,set:c=>s("update:visible",c)}),o=Y(),r=Y([!0]);ke(()=>n.visible,c=>{c&&(o.value=bge("text",n.y,n.x))},{immediate:!0});const a=q(()=>{var c;switch((c=o.value)==null?void 0:c.type){case"date":return u7;case"user":return d7;case"text":return xp;case"number":return h7;case"percentage":return f7;case"work":return p7;case"formula":return g7;default:return xp}});function l(){r.value[0]&&s("confirm",o.value)}return(c,u)=>{const d=us,h=c7,f=hn;return o.value?(b(),B(f,{key:0,visible:i.value,"onUpdate:visible":u[4]||(u[4]=p=>i.value=p),onConfirm:u[5]||(u[5]=p=>l())},{title:L(()=>[W(" Создание ячейки ")]),text:L(()=>[E(d,{label:"Выберите тип ячейки",modelValue:o.value.type,"onUpdate:modelValue":u[0]||(u[0]=p=>o.value.type=p),options:g(J0).cellTypeOptions},null,8,["modelValue","options"]),(b(),B(Vn(a.value),{key:o.value.id,modelValue:o.value,"onUpdate:modelValue":u[1]||(u[1]=p=>o.value=p),"is-valid":r.value,"onUpdate:isValid":u[2]||(u[2]=p=>r.value=p)},null,40,["modelValue","is-valid"])),r.value[0]?N("",!0):(b(),$("div",xge,H(r.value[1]),1)),E(h,{modelValue:o.value,"onUpdate:modelValue":u[3]||(u[3]=p=>o.value=p),class:"style-input"},null,8,["modelValue"])]),_:1},8,["visible"])):N("",!0)}}});const kge=J(Sge,[["__scopeId","data-v-96db00d3"]]),$ge=j({__name:"noo-table-cell-edit-modal",props:{visible:{type:Boolean},cell:{}},emits:["update:visible","confirm"],setup(t,{emit:e}){const n=t,s=e,i=q({get:()=>n.visible,set:c=>s("update:visible",c)}),o=Y([!0]),r=Y(n.cell);function a(){o.value[0]&&s("confirm",r.value)}const l=q(()=>{switch(r.value.type){case"date":return u7;case"user":return d7;case"text":return xp;case"number":return h7;case"percentage":return f7;case"work":return p7;case"formula":return g7;default:return xp}});return(c,u)=>{const d=c7,h=Qo,f=hn;return b(),B(f,{visible:i.value,"onUpdate:visible":u[3]||(u[3]=p=>i.value=p),onConfirm:u[4]||(u[4]=p=>a())},{title:L(()=>[W(" Изменение ячейки ")]),text:L(()=>[(b(),B(Vn(l.value),{key:r.value.id,type:c.cell.type,modelValue:r.value,"onUpdate:modelValue":u[0]||(u[0]=p=>r.value=p),"is-valid":o.value,"onUpdate:isValid":u[1]||(u[1]=p=>o.value=p)},null,40,["type","modelValue","is-valid"])),E(d,{modelValue:r.value,"onUpdate:modelValue":u[2]||(u[2]=p=>r.value=p),class:"style-input"},null,8,["modelValue"]),o.value[0]?N("",!0):(b(),B(h,{key:0,class:"error-block"},{default:L(()=>[W(H(o.value[1]),1)]),_:1}))]),_:1},8,["visible"])}}});const Cge=J($ge,[["__scopeId","data-v-0e60158a"]]),Ege={class:"noo-table-cell-text"},Tge=j({__name:"noo-table-cell-text",props:{value:{}},setup(t){return(e,n)=>(b(),$("div",Ege,H(e.value),1))}}),Age={class:"noo-table-cell-number"},Mge=j({__name:"noo-table-cell-number",props:{value:{}},setup(t){return(e,n)=>(b(),$("div",Age,H(e.value),1))}}),Ige={class:"noo-table-cell-percentage"},Oge=j({__name:"noo-table-cell-percentage",props:{value:{}},setup(t){return(e,n)=>(b(),$("div",Ige,H(e.value)+"%",1))}}),Dge={class:"noo-table-cell-user"},Lge=j({__name:"noo-table-cell-user",props:{value:{}},setup(t){return(e,n)=>{const s=g0;return b(),$("div",Dge,[E(s,{class:"noo-table-cell-user__card",user:e.value},null,8,["user"])])}}});const Pge=J(Lge,[["__scopeId","data-v-9cde7973"]]),Rge={class:"noo-table-cell-work"},Vge={class:"noo-table-cell-work__name"},Nge=j({__name:"noo-table-cell-work",props:{value:{}},setup(t){return(e,n)=>{const s=qa;return b(),$("div",Rge,[E(s,{subject:e.value.subject,class:"noo-table-cell-work__subject"},null,8,["subject"]),m("span",Vge,H(e.value.name),1)])}}});const Uge=J(Nge,[["__scopeId","data-v-be12ee5b"]]),Bge={class:"noo-table-cell-date"},jge=j({__name:"noo-table-cell-date",props:{value:{}},setup(t){return(e,n)=>(b(),$("div",Bge,H(g(_n)(e.value,{precision:"day"}).toBeautiful()),1))}}),zge={class:"noo-table-cell-formula"},Fge=j({__name:"noo-table-cell-formula",props:{value:{}},setup(t){return(e,n)=>(b(),$("div",zge,"[FORMULA]"))}}),Wge=j({__name:"noo-table-cell",props:{cell:{},editable:{type:Boolean}},setup(t){const e=t,n=q(()=>{if(!e.cell)return null;switch(e.cell.type){case"text":return e.cell.value;case"user":case"work":return e.cell.metadata;case"number":case"percentage":return parseFloat(e.cell.value);case"date":return new Date(e.cell.value);case"formula":return new m7(e.cell.value);default:return e.cell.value}}),s=q(()=>{if(!e.cell)return"span";switch(e.cell.type){case"text":return Tge;case"number":return Mge;case"percentage":return Oge;case"user":return Pge;case"work":return Uge;case"date":return jge;case"formula":return Fge;default:return"span"}});return(i,o)=>i.cell?(b(),B(Vn(s.value),{key:i.cell.value,value:n.value,editable:i.editable},null,8,["value","editable"])):N("",!0)}}),y7=t=>(Ie("data-v-a63d7a95"),t=t(),Oe(),t),Hge={class:"noo-table"},qge=["data-i","data-size"],Gge={key:0,class:"noo-table__table__actions"},Yge=y7(()=>m("span",null,"Добавить строку",-1)),Kge=y7(()=>m("span",null,"Добавить столбец",-1)),Zge=j({__name:"noo-table",props:{data:{},firstRowFixed:{type:Boolean},firstColumnFixed:{type:Boolean},editable:{type:Boolean}},emits:["update:data"],setup(t,{emit:e}){const n={emptyXSpan:1,emptyYSpan:1},s=t,i=e,o=Y(0),r=new J0(s.data.cells,n,o,h=>i("update:data",{...s.data,cells:h})),a=Gt({visible:!1,cell:null}),l=Gt({visible:!1,x:0,y:0});function c(h,f){l.x=f,l.y=h,l.visible=!0}function u(h){a.cell=sd(h,!1),setTimeout(()=>{a.visible=!0},0)}function d(h,f){r.removeValue(h,f)}return(h,f)=>{var w;const p=Wge,v=It,y=Cge,_=kge;return b(),$(ue,null,[m("div",Hge,[(b(),$("table",{class:"noo-table__table",key:o.value},[(b(!0),$(ue,null,Be(g(r).sizeY,x=>(b(),$("tr",{key:`row-${x}`,"data-i":x,"data-size":g(r).sizeY},[(b(!0),$(ue,null,Be(g(r).getRow(x),(k,C)=>(b(),$("td",{key:`cell-${x}-${C+1}`,style:Qt({background:(k==null?void 0:k.background)||""})},[(b(),B(p,{cell:k,key:k==null?void 0:k.value},null,8,["cell"])),s.editable?(b(),$("div",Gge,[k?N("",!0):(b(),B(v,{key:0,class:"noo-table__table__actions__add",name:"add",onClick:S=>c(x,C+1)},null,8,["onClick"])),k?(b(),B(v,{key:1,class:"noo-table__table__actions__edit",name:"edit",onClick:S=>u(k)},null,8,["onClick"])):N("",!0),k?(b(),B(v,{key:2,class:"noo-table__table__actions__delete",name:"delete",onClick:S=>d(x,C+1)},null,8,["onClick"])):N("",!0)])):N("",!0)],4))),128))],8,qge))),128))])),m("div",{class:"add-row-button",onClick:f[0]||(f[0]=x=>g(r).addRow())},[E(v,{class:"add-row-button__icon",name:"add"}),Yge]),m("div",{class:"add-col-button",onClick:f[1]||(f[1]=x=>g(r).addColumn())},[E(v,{class:"add-col-button__icon",name:"add"}),Kge])]),a.cell?(b(),B(y,{key:(w=a.cell)==null?void 0:w.id,visible:a.visible,"onUpdate:visible":f[2]||(f[2]=x=>a.visible=x),cell:a.cell,onConfirm:f[3]||(f[3]=x=>g(r).onmodify(x))},null,8,["visible","cell"])):N("",!0),E(_,{visible:l.visible,"onUpdate:visible":f[4]||(f[4]=x=>l.visible=x),x:l.x,y:l.y,onConfirm:f[5]||(f[5]=x=>g(r).onmodify(x))},null,8,["visible","x","y"])],64)}}});const Xge=J(Zge,[["__scopeId","data-v-a63d7a95"]]),b7=Kt("tables-module:table",()=>{const t=D.Services.UI,e=D.Services.Table,n=Ws(),s=Ht(i,{immediate:!1});async function i(c){try{return e.getTables(c)}catch(u){t.openErrorModal("Не удалось загрузить список таблиц",u.message)}}const o=Y(gn("table"));async function r(c){try{const u=await e.getTable(c,{showLoader:!0});o.value=u.data}catch(u){t.openErrorModal("Произошла ошибка при загрузке таблицы",u==null?void 0:u.message)}}async function a(){try{if(!l(o.value))return;o.value.cells=o.value.cells.map(u=>({...u,id:void 0}));const c=await e.createTable(o.value,{showLoader:!0});o.value.id=c.data.id,t.openSuccessModal("Таблица сохранена",void 0,[{label:"Вернуться в список",design:"primary",handler:()=>{n.push("/tables")}}])}catch(c){t.openErrorModal("Не удалось сохранить таблицу",c.message)}}function l(c){return c.title.length<2||c.title.length>250?(t.openWarningModal("Название таблицы должно содержать от 2 до 250 символов"),!1):!0}return{search:s,currentTable:o,loadTable:r,saveTable:a}}),Jge={key:0,class:"table-view"},Qge={class:"table-view__info"},e1e={class:"table-view__info__back-button"},t1e={class:"table-view__info__head"},n1e={class:"table-view__info__head__title"},s1e={class:"table-view__info__head__actions"},i1e=j({__name:"table-view",setup(t){const e=$n(),n=b7();return ke(()=>e.params.tableId,()=>{e.params.tableId&&n.loadTable(e.params.tableId)},{immediate:!0}),(s,i)=>{const o=Jd,r=zt,a=xt,l=Xge;return g(n).currentTable?(b(),$("div",Jge,[m("div",Qge,[m("div",e1e,[E(o,{to:"/tables"},{default:L(()=>[W("Назад к списку")]),_:1})]),m("div",t1e,[m("div",n1e,[E(r,{label:"Название таблицы",modelValue:g(n).currentTable.title,"onUpdate:modelValue":i[0]||(i[0]=c=>g(n).currentTable.title=c),type:"text"},null,8,["modelValue"])]),m("div",s1e,[E(a,{onClick:i[1]||(i[1]=c=>g(n).saveTable())},{default:L(()=>[W(" Сохранить ")]),_:1})])])]),(b(),$("div",{class:"table-view__table",key:g(n).currentTable.id},[E(l,{data:g(n).currentTable,"onUpdate:data":i[2]||(i[2]=c=>g(n).currentTable=c),editable:""},null,8,["data"])]))])):N("",!0)}}});const o1e=J(i1e,[["__scopeId","data-v-3d3133dc"]]),r1e={class:"index-view"},a1e={class:"index-view__search"},l1e={class:"index-view__search__input"},c1e={class:"index-view__search__actions"},u1e={class:"index-view__list"},d1e={class:"index-view__pagination"},h1e=j({__name:"index-view",setup(t){const e=b7();e.search.trigger();const n=[{title:"Название",type:"text",value:s=>s.title},{title:"Дата изменения",type:"date",value:s=>s.updatedAt},{title:"Дата создания",type:"date",value:s=>s.createdAt},{title:"",type:"button",value:()=>D.Context.roleIs(["teacher"])?"Посмотреть/редактировать":"Посмотреть",linkTo:s=>`/tables/create${s.id}`}];return(s,i)=>{const o=kn,r=xt,a=cs,l=bn;return b(),$("div",r1e,[m("div",a1e,[m("div",l1e,[E(o,{modelValue:g(e).search.pagination.search,"onUpdate:modelValue":i[0]||(i[0]=c=>g(e).search.pagination.search=c),"is-loading":g(e).search.isListLoading},null,8,["modelValue","is-loading"])]),m("div",c1e,[E(r,{to:"/tables/create"},{default:L(()=>[W(" Создать таблицу ")]),_:1})])]),m("div",u1e,[E(a,{data:g(e).search.results,"is-loading":g(e).search.isListLoading,cols:n},null,8,["data","is-loading"])]),m("div",d1e,[E(l,{page:g(e).search.pagination.page,"onUpdate:page":i[1]||(i[1]=c=>g(e).search.pagination.page=c),limit:g(e).search.pagination.limit,total:g(e).search.resultsMeta.total},null,8,["page","limit","total"])])])}}});const f1e=J(h1e,[["__scopeId","data-v-a36f6fc2"]]),p1e={path:"/tables",name:"tables",component:rge,children:[{path:"",name:"Список таблиц",component:f1e},{path:"create:tableId?",name:"Просмотр таблицы",component:o1e}]},m1e={name:"tables",router:p1e},g1e={},_1e={class:"module-wrapper"};function v1e(t,e){const n=Xe("router-view");return b(),$("div",_1e,[(b(),B(n,{key:t.$route.fullPath}))])}const y1e=J(g1e,[["render",v1e]]);const b1e={},w1e={class:"danger-block"},x1e={class:"danger-block__icon"},S1e={class:"danger-block__text"};function k1e(t,e){const n=It;return b(),$("div",w1e,[m("div",x1e,[E(n,{name:"danger"})]),m("div",S1e,[lt(t.$slots,"default",{},void 0,!0)])])}const $1e=J(b1e,[["render",k1e],["__scopeId","data-v-c346f7e1"]]),Li=t=>(Ie("data-v-ad8da28a"),t=t(),Oe(),t),C1e={class:"change-role-form"},E1e=Li(()=>m("h3",null,"Изменение роли",-1)),T1e={key:0,class:"change-role-form__actions"},A1e={key:1,class:"change-role-form__not-available"},M1e=Li(()=>m("p",null,"Изменение роли недоступно",-1)),I1e=[M1e],O1e=Li(()=>m("p",null,"Вы уверены, что хотите изменить роль пользователя?",-1)),D1e=Li(()=>m("br",null,null,-1)),L1e=Li(()=>m("br",null,null,-1)),P1e=Li(()=>m("br",null,null,-1)),R1e=Li(()=>m("br",null,null,-1)),V1e=Li(()=>m("br",null,null,-1)),N1e=Li(()=>m("br",null,null,-1)),U1e=Li(()=>m("br",null,null,-1)),B1e=Li(()=>m("br",null,null,-1)),j1e=j({__name:"change-role-form",props:{available:{type:Boolean}},emits:["change-role"],setup(t){const e=Gt({visible:!1,role:"mentor"});function n(s){e.role=s,e.visible=!0}return(s,i)=>{const o=xt,r=$1e,a=li,l=hn;return b(),$(ue,null,[m("div",C1e,[E1e,s.available?(b(),$("div",T1e,[E(o,{alignment:"stretch",design:"inline",onClick:i[0]||(i[0]=c=>n("admin")),class:"change-role-form__actions__button"},{default:L(()=>[W(" Администратор ")]),_:1}),E(o,{alignment:"stretch",design:"inline",onClick:i[1]||(i[1]=c=>n("teacher")),class:"change-role-form__actions__button"},{default:L(()=>[W(" Преподаватель ")]),_:1}),E(o,{alignment:"stretch",design:"inline",onClick:i[2]||(i[2]=c=>n("mentor")),class:"change-role-form__actions__button"},{default:L(()=>[W(" Куратор ")]),_:1}),E(o,{alignment:"stretch",design:"inline",onClick:i[3]||(i[3]=c=>n("assistant")),class:"change-role-form__actions__button"},{default:L(()=>[W(" Ассистент ")]),_:1})])):N("",!0),s.available?N("",!0):(b(),$("div",A1e,I1e))]),E(l,{visible:e.visible,"onUpdate:visible":i[4]||(i[4]=c=>e.visible=c),onConfirm:i[5]||(i[5]=c=>s.$emit("change-role",e.role))},{title:L(()=>[W("Изменение роли")]),text:L(()=>[O1e,e.role==="admin"?(b(),B(r,{key:0},{default:L(()=>[W(" Пользователь получит доступ ко всем функциям системы. "),D1e,W(" Это действие нельзя отменить. "),L1e,W(" Вы уверены, что хотите продолжить? ")]),_:1})):e.role==="teacher"?(b(),B(r,{key:1},{default:L(()=>[W(" Пользователь получит доступ к управлению курсами. "),P1e,W(" Это действие нельзя отменить. "),R1e,W(" Вы уверены, что хотите продолжить? ")]),_:1})):e.role==="assistant"?(b(),B(a,{key:2},{default:L(()=>[W(" Пользователь получит доступ к работам и пользователям. "),V1e,W(" Это действие нельзя отменить. "),N1e,W(" Вы уверены, что хотите продолжить? ")]),_:1})):(b(),B(a,{key:3},{default:L(()=>[W(" Пользователь получит доступ к управлению учениками. "),U1e,W(" Это действие нельзя отменить. "),B1e,W(" Вы уверены, что хотите продолжить? ")]),_:1}))]),_:1},8,["visible"])],64)}}});const z1e=J(j1e,[["__scopeId","data-v-ad8da28a"]]),F1e=t=>(Ie("data-v-f86a9a89"),t=t(),Oe(),t),W1e={key:0},H1e={key:1},q1e={class:"change-mentor-modal__search"},G1e={class:"change-mentor-modal__list"},Y1e={key:0,class:"change-mentor-modal__progress"},K1e=F1e(()=>m("p",null,"Пожалуйста, не закрывайте это окно",-1)),Z1e=j({__name:"change-mentor-modal",props:{assignedWorks:{},opened:{type:Boolean},mentorId:{}},emits:["update:opened","update:mentorId","confirm"],setup(t,{emit:e}){const n=t,s=e,i=q({get:()=>n.opened,set:u=>s("update:opened",u)}),o=q({get:()=>[n.mentorId],set:u=>s("update:mentorId",u[0])}),r=Ht(a,{immediate:!0});async function a(u){try{return await D.Services.User.getMentors(u)}catch(d){D.Services.UI.openErrorModal("Произошла ошибка при получении списка кураторов",d.message)}}const l=Y(0);async function c(){if(!o.value.at(0))return D.Services.UI.openWarningModal("Куратор не выбран");l.value=.01;try{for(const u of n.assignedWorks)await D.Services.AssignedWork.changeMentor(u.id,o.value.at(0)),l.value+=100/n.assignedWorks.length}catch(u){D.Services.UI.openErrorModal("Произошла ошибка при изменении куратора",u.message)}finally{i.value=!1,l.value=0}s("confirm")}return(u,d)=>{const h=kn,f=Wa,p=bn,v=E0,y=hn;return b(),B(y,{visible:i.value,"onUpdate:visible":d[3]||(d[3]=_=>i.value=_),onConfirm:d[4]||(d[4]=_=>c()),"actions-disabled":l.value!==0,"stay-open":""},{title:L(()=>{var _;return[u.assignedWorks.length===1?(b(),$("h3",W1e,' Изменить куратора у работы "'+H((_=u.assignedWorks[0].work)==null?void 0:_.name)+'" ',1)):(b(),$("h3",H1e,"Изменить куратора у "+H(u.assignedWorks.length)+" работ",1))]}),text:L(()=>[m("div",q1e,[E(h,{modelValue:g(r).pagination.value.search,"onUpdate:modelValue":d[0]||(d[0]=_=>g(r).pagination.value.search=_),"is-loading":g(r).isListLoading.value||l.value!==0},null,8,["modelValue","is-loading"])]),m("div",G1e,[E(f,{items:g(r).results.value,"item-label-key":"name","item-key":"id",modelValue:o.value,"onUpdate:modelValue":d[1]||(d[1]=_=>o.value=_),readonly:l.value!==0},null,8,["items","modelValue","readonly"]),g(r).pagination.value.page&&g(r).pagination.value.limit?(b(),B(p,{key:0,page:g(r).pagination.value.page,"onUpdate:page":d[2]||(d[2]=_=>g(r).pagination.value.page=_),total:g(r).resultsMeta.value.total,limit:g(r).pagination.value.limit},null,8,["page","total","limit"])):N("",!0)]),l.value!=0?(b(),$("div",Y1e,[K1e,E(v,{value:l.value},null,8,["value"])])):N("",!0)]),_:1},8,["visible","actions-disabled"])}}});const X1e=J(Z1e,[["__scopeId","data-v-f86a9a89"]]);function J1e(t){return{name:"Статус решения",type:"arr",key:t?`${t}.solveStatus`:"solveStatus",arrayOptions:[{label:"Не начато",value:"not-started"},{label:"В процессе",value:"in-progress"},{label:"Сдано в дедлайн",value:"made-in-deadline"},{label:"Сдано после дедлайна",value:"made-after-deadline"}]}}function Q1e(t){return{name:"Статус проверки",type:"arr",key:t?`${t}.checkStatus`:"checkStatus",arrayOptions:[{label:"Не проверено",value:"not-checked"},{label:"В процессе",value:"in-progress"},{label:"Проверено в дедлайн",value:"checked-in-deadline"},{label:"Проверено после дедлайна",value:"checked-after-deadline"},{label:"Проверено автоматически",value:"checked-automatically"}]}}function w7(t){return{name:"Тип работы",type:"arr",key:t?`${t}.type`:"type",arrayOptions:[{label:"Тест",value:"test"},{label:"Мини-зачет",value:"mini-test"},{label:"Вторая часть",value:"second-part"},{label:"Пробник",value:"trial-work"},{label:"Фраза",value:"phrase"}]}}const e_e={class:"assigned-works-view"},t_e={class:"assigned-works-view__search"},n_e={class:"assigned-works-view__filters"},s_e={key:0,class:"assigned-works-view__selection"},i_e={class:"assigned-works-view__selection__title"},o_e={class:"assigned-works-view__selection__actions"},r_e={class:"assigned-works-view__results"},a_e={key:1,class:"assigned-works-view__pagination"},l_e=j({__name:"assigned-works-view",props:{user:{}},setup(t){const e=t,n=Ws(),s=Ht(a,{immediate:!0,initialPagination:D.Context.roleIs(["assistant"])?{"filter[isArchivedByAssistants]":{type:"boolean",value:!1}}:void 0}),i=Y({opened:!1,mentorId:null,assignedWorks:[]}),o=Y({opened:!1,assignedWorks:[]}),r=Y({opened:!1,assignedWorks:[]});async function a(S){try{return await D.Services.AssignedWork.getAssignedWorksFromUser(e.user.id,S)}catch(A){D.Services.UI.openErrorModal("Произошла ошибка при получении списка работ",A.message)}}const l=[w7("work"),rm("work"),J1e(),Q1e(),{name:"Ученик сдвинул дедлайн",type:"boolean",key:"solveDeadlineShifted",booleanLabels:["Нет","Да"]},{name:"Куратор сдвинул дедлайн",type:"boolean",key:"checkDeadlineShifted",booleanLabels:["Нет","Да"]},{name:"Пересдача",type:"boolean",key:"isNewAttempt",booleanLabels:["Нет","Да"]},{name:D.Context.roleIs(["assistant"])?"Архивированные":"Архивировано ассистентами",type:"boolean",key:"isArchivedByAssistants",booleanLabels:["Нет","Да"]}],c=[{title:"",value:S=>f(S).icon,type:"icon"},{title:"Название работы / Ученик / Куратор(ы)",type:"text",joinType:"br",value:S=>{var A,O,M;return[((A=S.work)==null?void 0:A.name)||"-",`<small>${((O=S.student)==null?void 0:O.name)||"-"}</small>`,`<small>Кураторы: ${((M=S.mentors)==null?void 0:M.map(V=>V.name).join(", "))||"-"}</small> ${S.isArchivedByMentors?'<span style="color: var(--text-light)">[Архивировано]</span>':""}`]}},{title:"Дедлайн сдачи/сдано",type:"date",joinType:"br",value:S=>[S.solveDeadlineAt,S.solvedAt]},{title:"Дедлайн проверки/проверено",type:"date",joinType:"br",value:S=>[S.checkDeadlineAt,S.checkedAt]},{title:"Статус работы",type:"text",joinType:"br",value:S=>[h(S),d(S)]},{title:"Результат",type:"text",joinType:"/",value:S=>[S.score===null?"-":S.score,S.maxScore]}];function u(S){return[{title:"Посмотреть",icon:"eye",action:()=>{n.push(`/assigned-works/${S.id}/read`)}},{title:"Поменять куратора",icon:"change-user",if:S.checkStatus==="not-checked"||S.checkStatus==="in-progress",action:()=>y([S])},{title:"Архивировать",icon:"delete",if:D.Context.roleIs(["assistant"])&&!S.isArchivedByAssistants,action:()=>_([S])},{title:"Разархивировать",icon:"check-green",if:D.Context.roleIs(["assistant"])&&S.isArchivedByAssistants,action:()=>w([S])}]}function d(S){switch(S.checkStatus){case"checked-in-deadline":return'<span style="color: var(--text-light)">Проверено в дедлайн</span>';case"checked-after-deadline":return'<span style="color: var(--warning)">Проверено после дедлайна</span>';case"checked-automatically":return'<span style="color: var(--success)">Проверено автоматически</span>';case"not-checked":return'<span style="color: var(--text-light)">Не проверено</span>';case"in-progress":return'<span style="color: var(--text-light)">В процессе</span>';default:return'<span style="color: var(--info)">-</span>'}}function h(S){switch(S.solveStatus){case"made-in-deadline":return'<span style="color:var(--success)">Сдано в дедлайн</span>';case"made-after-deadline":return'<span style="color:var(--danger)">Сдано после дедлайна</span>';case"in-progress":return'<span style="color:var(--warning)">В процессе</span>';case"not-started":default:return'<span style="color:var(--text-light)">-</span>'}}function f(S){const A=D.Context.User.role;return A==="admin"||A==="teacher"?{action:"Просмотреть",link:`/assigned-works/${S.id}/read`,icon:S.checkStatus==="not-checked"?"attention-yellow":"check-green"}:A==="mentor"?S.solveStatus==="not-started"||S.solveStatus==="in-progress"?{action:"Просмотреть",link:`/assigned-works/${S.id}/read`,icon:"cross-red"}:S.checkStatus==="not-checked"&&(S.solveStatus==="made-in-deadline"||S.solveStatus==="made-after-deadline")?{action:"Ожидает проверки",link:`/assigned-works/${S.id}/check`,icon:"attention-yellow"}:S.checkStatus==="not-checked"?{action:"Проверить",link:`/assigned-works/${S.id}/check`,icon:"attention-yellow"}:S.checkStatus==="in-progress"?{action:"Продолжить проверку",link:`/assigned-works/${S.id}/check`,icon:"attention-yellow"}:{action:"Просмотреть",link:`/assigned-works/${S.id}/read`,icon:"check-green"}:S.solveStatus==="not-started"?{action:"Начать выполнение",link:`/assigned-works/${S.id}/solve`,icon:"cross-red"}:S.solveStatus==="in-progress"?{action:"Продолжить выполнение",link:`/assigned-works/${S.id}/solve`,icon:"cross-red"}:S.checkStatus==="not-checked"&&(S.solveStatus==="made-in-deadline"||S.solveStatus==="made-after-deadline")?{action:"Ожидает проверки",link:`/assigned-works/${S.id}/read`,icon:"attention-yellow"}:{action:"Просмотреть",link:`/assigned-works/${S.id}/read`,icon:"check-green"}}const p=Y([]);function v(S){p.value=s.results.value.filter(A=>S.includes(A.id))}function y(S){i.value={opened:!0,mentorId:null,assignedWorks:S}}function _(S){o.value={opened:!0,assignedWorks:S}}function w(S){r.value={opened:!0,assignedWorks:S}}function x(){p.value=[],s.trigger()}async function k(){D.Services.UI.setLoading(!0);try{for(const S of o.value.assignedWorks)await D.Services.AssignedWork.archiveAssignedWork(S.id);D.Services.UI.openSuccessModal("Работы успешно архивированы"),p.value=[],s.trigger()}catch(S){D.Services.UI.openErrorModal("Произошла ошибка при архивировании работ",S.message)}finally{D.Services.UI.setLoading(!1)}}async function C(){D.Services.UI.setLoading(!0);try{for(const S of r.value.assignedWorks)await D.Services.AssignedWork.unarchiveAssignedWork(S.id);D.Services.UI.openSuccessModal("Работы успешно разархивированы"),p.value=[],s.trigger()}catch(S){D.Services.UI.openErrorModal("Произошла ошибка при разархивировании работ",S.message)}finally{D.Services.UI.setLoading(!1)}}return(S,A)=>{const O=kn,M=Bd,V=xt,R=cs,X=bn,P=hn,F=it("auto-animate");return b(),$(ue,null,[$e((b(),$("div",e_e,[m("div",t_e,[E(O,{modelValue:g(s).pagination.value.search,"onUpdate:modelValue":A[0]||(A[0]=Z=>g(s).pagination.value.search=Z)},null,8,["modelValue"])]),m("div",n_e,[E(M,{pagination:g(s).pagination.value,"onUpdate:pagination":A[1]||(A[1]=Z=>g(s).pagination.value=Z),"is-loading":g(s).isListLoading.value,filters:l},null,8,["pagination","is-loading"])]),p.value.length?(b(),$("div",s_e,[m("p",i_e," Выбрано работ: "+H(p.value.length),1),m("div",o_e,[E(V,{design:"secondary",onClick:A[2]||(A[2]=Z=>y(p.value))},{default:L(()=>[W(" Поменять куратора ")]),_:1}),g(D).Context.roleIs(["assistant"])?(b(),B(V,{key:0,design:"danger",onClick:A[3]||(A[3]=Z=>_(p.value))},{default:L(()=>[W(" Архивировать ")]),_:1})):N("",!0)])])):N("",!0),m("div",r_e,[E(R,{data:g(s).results.value,cols:c,actions:u,"is-loading":g(s).isListLoading.value,onSelect:A[4]||(A[4]=Z=>v(Z)),editable:""},null,8,["data","is-loading"])]),g(s).pagination.value.page&&g(s).resultsMeta.value.total&&g(s).pagination.value.limit?(b(),$("div",a_e,[E(X,{page:g(s).pagination.value.page,"onUpdate:page":A[5]||(A[5]=Z=>g(s).pagination.value.page=Z),total:g(s).resultsMeta.value.total,limit:g(s).pagination.value.limit},null,8,["page","total","limit"])])):N("",!0)])),[[F]]),E(X1e,{opened:i.value.opened,"onUpdate:opened":A[6]||(A[6]=Z=>i.value.opened=Z),mentorId:i.value.mentorId,"onUpdate:mentorId":A[7]||(A[7]=Z=>i.value.mentorId=Z),"assigned-works":i.value.assignedWorks,onConfirm:A[8]||(A[8]=Z=>x())},null,8,["opened","mentorId","assigned-works"]),E(P,{visible:o.value.opened,"onUpdate:visible":A[9]||(A[9]=Z=>o.value.opened=Z),onConfirm:A[10]||(A[10]=Z=>k())},{title:L(()=>[W(H(o.value.assignedWorks.length>1?"Архивировать работы":"Архивировать работу"),1)]),text:L(()=>{var Z,Q;return[m("p",null,H(o.value.assignedWorks.length>1?`Вы уверены, что хотите архивировать выбранные работы (${o.value.assignedWorks.length})?`:`Вы уверены, что хотите архивировать работу "${(Q=(Z=o.value.assignedWorks[0])==null?void 0:Z.work)==null?void 0:Q.name}"?`),1)]}),_:1},8,["visible"]),E(P,{visible:r.value.opened,"onUpdate:visible":A[11]||(A[11]=Z=>r.value.opened=Z),onConfirm:A[12]||(A[12]=Z=>C())},{title:L(()=>[W(H(r.value.assignedWorks.length>1?"Разархивировать работы":"Разархивировать работу"),1)]),text:L(()=>{var Z,Q;return[m("p",null,H(r.value.assignedWorks.length>1?`Вы уверены, что хотите разархивировать выбранные работы (${r.value.assignedWorks.length})?`:`Вы уверены, что хотите разархивировать работу "${(Q=(Z=r.value.assignedWorks[0])==null?void 0:Z.work)==null?void 0:Q.name}"?`),1)]}),_:1},8,["visible"])],64)}}});const c_e=J(l_e,[["__scopeId","data-v-bead174b"]]),u_e={class:"password-criteria"},d_e=j({__name:"password-criteria",props:{password:{},modelValue:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=e;return ke(()=>n.password,()=>{const i=D.Services.User.passwordCriteria().every(o=>o.isValid(n.password));s("update:modelValue",i)}),(i,o)=>{const r=It;return b(),$("div",u_e,[(b(!0),$(ue,null,Be(g(D).Services.User.passwordCriteria(),(a,l)=>(b(),$("span",{key:l,class:"password-criteria__item"},[(b(),B(r,{name:a.isValid(i.password)?"check-green":"cross-red",key:a.isValid(i.password)?"check-green":"cross-red"},null,8,["name"])),W(" "+H(a.label),1)]))),128))])}}});const h_e=J(d_e,[["__scopeId","data-v-c54b7917"]]),f_e={class:"input-group"},p_e={class:"input-group"},m_e=m("br",null,null,-1),g_e=j({__name:"change-password-modal",props:{user:{},visible:{type:Boolean}},emits:["confirm","update:visible"],setup(t,{emit:e}){const n=t,s=e,i=Gt({newPassword:"",repeatPassword:"",error:"",passwordIsStrong:!1}),o=q({get:()=>n.visible,set:a=>{a||(i.newPassword="",i.repeatPassword="",i.error=""),s("update:visible",a)}});function r(){if(D.Services.UI.setLoading(!0),i.newPassword!==i.repeatPassword){setTimeout(()=>{D.Services.UI.setLoading(!1),o.value=!0,i.error="Пароли не совпадают"},500);return}if(!i.passwordIsStrong){setTimeout(()=>{D.Services.UI.setLoading(!1),o.value=!0,i.error="Пароль не удовлетворяет требованиям"},500);return}s("confirm",i.newPassword),o.value=!1}return(a,l)=>{const c=zt,u=h_e,d=Qo,h=hn;return b(),B(h,{onConfirm:r,visible:o.value,"onUpdate:visible":l[3]||(l[3]=f=>o.value=f)},{title:L(()=>[m("h3",null," Поменять пароль пользователю "+H(a.user.name)+" ("+H(a.user.username)+") ",1)]),text:L(()=>[m("div",f_e,[E(c,{type:"password",modelValue:i.newPassword,"onUpdate:modelValue":l[0]||(l[0]=f=>i.newPassword=f),label:"Новый пароль:"},null,8,["modelValue"])]),m("div",p_e,[E(c,{type:"password",modelValue:i.repeatPassword,"onUpdate:modelValue":l[1]||(l[1]=f=>i.repeatPassword=f),label:"Повторите новый пароль:"},null,8,["modelValue"])]),E(u,{password:i.newPassword,modelValue:i.passwordIsStrong,"onUpdate:modelValue":l[2]||(l[2]=f=>i.passwordIsStrong=f)},null,8,["password","modelValue"]),m_e,i.error?(b(),B(d,{key:0},{default:L(()=>[W(H(i.error),1)]),_:1})):N("",!0)]),_:1},8,["visible"])}}}),__e={class:"add-student-to-courses__search"},v_e={class:"add-student-to-courses__list"},y_e={class:"add-student-to-courses__pagination"},b_e=j({__name:"add-student-to-courses-modal",props:{courseSlugs:{},userId:{},visible:{type:Boolean}},emits:["add","update:visible"],setup(t,{emit:e}){const n=t,s=e,i=D.Services.Course,o=D.Services.UI,r=Ht(c),a=Y(n.courseSlugs);ke(()=>n.visible,()=>a.value=n.courseSlugs);const l=q({get:()=>n.visible,set:u=>s("update:visible",u)});async function c(u){try{return i.getCourses(u)}catch(d){o.openErrorModal("Ну удалось получить список курсов",d.message)}}return(u,d)=>{const h=kn,f=Wa,p=bn,v=hn;return b(),B(v,{visible:l.value,"onUpdate:visible":d[3]||(d[3]=y=>l.value=y),onConfirm:d[4]||(d[4]=y=>u.$emit("add",a.value))},{title:L(()=>[W(" Добавить ученика на курсы ")]),text:L(()=>[m("div",__e,[E(h,{modelValue:g(r).pagination.value.search,"onUpdate:modelValue":d[0]||(d[0]=y=>g(r).pagination.value.search=y),"is-loading":g(r).isListLoading.value},null,8,["modelValue","is-loading"])]),m("div",v_e,[E(f,{items:g(r).results.value,modelValue:a.value,"onUpdate:modelValue":d[1]||(d[1]=y=>a.value=y),"item-key":"slug","item-label-key":"name",multiple:""},null,8,["items","modelValue"])]),m("div",y_e,[E(p,{page:g(r).pagination.value.page,"onUpdate:page":d[2]||(d[2]=y=>g(r).pagination.value.page=y),limit:g(r).pagination.value.limit,total:g(r).resultsMeta.value.total},null,8,["page","limit","total"])])]),_:1},8,["visible"])}}});const w_e=J(b_e,[["__scopeId","data-v-e2b1e411"]]),x_e=t=>(Ie("data-v-11504016"),t=t(),Oe(),t),S_e={class:"student-courses-view"},k_e=x_e(()=>m("div",{class:"student-courses-view__header"},[m("h3",null,"Курсы ученика")],-1)),$_e={key:0,class:"student-courses-view__list"},C_e={key:1,class:"student-courses-view__list-loading"},E_e=j({__name:"student-courses-view",props:{userId:{}},setup(t){const e=t,n=D.Services.Course,s=D.Services.UI,i=Y([]),o=q(()=>i.value.map(p=>p.course.slug)),r=Y(!1),a=Y(!1),l=Y({isVisible:!1,course:null}),c=[{title:"",type:"image",value:p=>{var v;return((v=p.course.images)==null?void 0:v.at(0))||null}},{title:"Название курса",type:"text",value:p=>p.course.name},{title:"Добавил(а)",type:"text",value:p=>p.assigner.name},{title:"Дата добавления",type:"date",value:p=>p.createdAt},{title:"",type:"button",value:()=>"Убрать с курса",design:"danger",alignment:"right",action:p=>d(p.course)}];async function u(){r.value=!0;try{const p=await n.getStudentCourses(e.userId);i.value=p.data}catch{s.openErrorModal("Ошибка при загрузке курсов","Попробуйте обновить страницу или обратитесь к администратору")}finally{r.value=!1}}function d(p){l.value.course=p,l.value.isVisible=!0}async function h(){if(!l.value.course)return;const p=l.value.course.slug;try{await n.removeStudentsFromCourse(p,[e.userId],{showLoader:!0}),await u(),l.value.isVisible=!1}catch(v){s.openErrorModal("Не удалось убрать ученика с курса",v.message)}}async function f(p){const v=p.filter(_=>!o.value.includes(_)),y=o.value.filter(_=>!p.includes(_));try{for(const _ of v)await n.addStudentsToCourse(_,[e.userId],{showLoader:!0});for(const _ of y)await n.removeStudentsFromCourse(_,[e.userId],{showLoader:!0});await u()}catch(_){s.openErrorModal("Не удалось добавить ученика на курсы",_.message)}}return ke(()=>e.userId,u,{immediate:!0}),(p,v)=>{const y=cs,_=xt,w=Sn,x=zd,k=it("auto-animate");return b(),$(ue,null,[$e((b(),$("div",S_e,[k_e,r.value?(b(),$("div",C_e,[E(w,{contrast:""})])):(b(),$("div",$_e,[E(y,{cols:c,data:i.value,"empty-text":"Ученик не записан ни на один курс"},null,8,["data"]),g(D).Context.roleIs(["admin","teacher"])?(b(),B(_,{key:0,alignment:"right",design:"inline",onClick:v[0]||(v[0]=C=>a.value=!0)},{default:L(()=>[W(" Добавить на курс ")]),_:1})):N("",!0)]))])),[[k]]),E(x,{visible:l.value.isVisible,"onUpdate:visible":v[1]||(v[1]=C=>l.value.isVisible=C),onConfirm:v[2]||(v[2]=C=>h())},{title:L(()=>[W(" Удаление ученика с курса ")]),text:L(()=>{var C;return[W(' Вы уверены, что хотите убрать ученика с курса "'+H((C=l.value.course)==null?void 0:C.name)+'"? ',1)]}),_:1},8,["visible"]),g(D).Context.roleIs(["admin","teacher"])?(b(),B(w_e,{key:0,visible:a.value,"onUpdate:visible":v[3]||(v[3]=C=>a.value=C),"user-id":p.userId,"course-slugs":o.value,onAdd:v[4]||(v[4]=C=>f(C))},null,8,["visible","user-id","course-slugs"])):N("",!0)],64)}}});const T_e=J(E_e,[["__scopeId","data-v-11504016"]]),A_e=t=>(Ie("data-v-179512b1"),t=t(),Oe(),t),M_e={class:"mentor-form"},I_e=A_e(()=>m("h3",null,"Ученики куратора",-1)),O_e=j({__name:"mentor-form",props:{students:{}},setup(t){const e=[{title:"#",type:"iterator"},{title:"Имя",type:"text",value:n=>n.name,linkTo:n=>`/users/edit/${n.username}`},{title:"Предмет",type:"subject",value:n=>n.subject},{title:"Никнейм",type:"text",value:n=>n.username},{title:"Email",type:"text",value:n=>n.email}];return(n,s)=>{const i=cs;return b(),$("div",M_e,[I_e,E(i,{cols:e,data:n.students||[]},null,8,["data"])])}}});const D_e=J(O_e,[["__scopeId","data-v-179512b1"]]),L_e={class:"teacher-form"},P_e=m("h3",null,"Курсы преподавателя",-1),R_e=j({__name:"teacher-form",props:{courses:{}},setup(t){const e=[{title:"",type:"image",value:n=>n.images.at(0)},{title:"Название",type:"text",value:n=>n.name,linkTo:n=>`/courses/${n.slug}`},{title:"Предмет",type:"subject",value:n=>n.subject},{title:"Участники",type:"text",value:n=>(n.students||[]).length}];return(n,s)=>{const i=cs;return b(),$("div",L_e,[P_e,E(i,{cols:e,data:n.courses||[]},null,8,["data"])])}}}),x7=t=>(Ie("data-v-6ed58fe0"),t=t(),Oe(),t),V_e={class:"user-form"},N_e=x7(()=>m("h3",null,"Данные пользователя",-1)),U_e={class:"row"},B_e={class:"col-lg-6"},j_e={class:"form-group registration-date"},z_e={class:"col-lg-6"},F_e={key:0,class:"form-group is-blocked"},W_e={class:"row"},H_e={class:"col-12"},q_e={key:0,class:"form-group__course-list"},G_e={key:1,class:"form-group__student-list"},Y_e={key:2,class:"form-group__student-mentors-list"},K_e=x7(()=>m("h3",{class:"form-group__student-mentors-list__title"},"Кураторы",-1)),Z_e={key:3,class:"form-group__student-mentors-list"},X_e=j({__name:"user-form",props:{modelValue:{},studentsWithSubjects:{}},emits:["update:modelValue","mentor-assigned","course-toggle","blocked","unblocked"],setup(t,{emit:e}){const n=t,s=e,i=q({get:()=>n.modelValue,set:o=>s("update:modelValue",o)});return ke(()=>i.value.isBlocked,o=>{s(o===!0?"blocked":"unblocked")}),(o,r)=>{var u,d;const a=zt,l=wc,c=uw;return b(),$("div",V_e,[N_e,m("div",U_e,[m("div",B_e,[m("div",j_e,[E(a,{modelValue:i.value.createdAt,"onUpdate:modelValue":r[0]||(r[0]=h=>i.value.createdAt=h),label:"Дата регистрации",type:"datetime-local",readonly:""},null,8,["modelValue"])])]),m("div",z_e,[g(D).Context.roleIs(["admin","teacher"])&&i.value.id!==((u=g(D).Context.User)==null?void 0:u.id)?(b(),$("div",F_e,[E(l,{modelValue:i.value.isBlocked,"onUpdate:modelValue":r[1]||(r[1]=h=>i.value.isBlocked=h),values:[{value:!1,label:"Пользователь разблокирован"},{value:!0,label:"Пользователь заблокирован"}]},null,8,["modelValue"])])):N("",!0)])]),m("div",W_e,[m("div",H_e,[i.value.role==="teacher"?(b(),$("div",q_e,[E(R_e,{courses:i.value.courses},null,8,["courses"])])):i.value.role==="mentor"?(b(),$("div",G_e,[E(D_e,{students:o.studentsWithSubjects},null,8,["students"])])):((d=i.value)==null?void 0:d.role)==="student"?(b(),$("div",Y_e,[K_e,E(c,{"mentor-assignments":i.value.mentorAssignmentsAsStudent,student:i.value,onMentorAssigned:r[2]||(r[2]=h=>o.$emit("mentor-assigned"))},null,8,["mentor-assignments","student"])])):N("",!0),i.value.role==="student"?(b(),$("div",Z_e,[E(T_e,{"user-id":i.value.id},null,8,["user-id"])])):N("",!0)])])])}}});const J_e=J(X_e,[["__scopeId","data-v-6ed58fe0"]]),Q_e=Kt("users-module:user",()=>{const t=D.Services.User,e=D.Services.UI,n=$n(),s=Y(null),i=Y([]),o=Y(0);async function r(){var f;try{const p=await t.getUser(n.params.username,{showLoader:!0});if(s.value=p.data,((f=s.value)==null?void 0:f.role)==="mentor"){const v=await t.getOwnStudents(s.value.id,{page:1,limit:500},{showLoader:!0});i.value=v.data}}catch(p){e.openErrorModal("Произошла ошибка при получении данных пользователя",p.message)}}async function a(){if(s.value)try{await t.updateUser(s.value.id,s.value,{showLoader:!0}),e.openSuccessModal("Данные успешно сохранены")}catch(f){e.openErrorModal("Произошла ошибка при сохранении данных пользователя",f.message)}}async function l(){if(s.value)try{await t.confirmUser(s.value.username,{showLoader:!0}),e.openSuccessModal("Пользователь подтвержден"),s.value.verificationToken=void 0}catch(f){e.openErrorModal("Произошла ошибка при подтверждении пользователя",f.message)}}async function c(f){if(s.value){if(D.Context.roleIs(["mentor","student","assistant"])){e.openErrorModal("Недостаточно прав для изменения пароля");return}try{await t.changePassword(s.value.id,void 0,f,{showLoader:!0}),e.openSuccessModal("Пароль успешно изменен")}catch(p){e.openErrorModal("Произошла ошибка при изменении пароля",p.message)}}}async function u(f){if(s.value)try{await t.changeRole(s.value.id,f,{showLoader:!0}),e.openSuccessModal("Роль успешно изменена"),await r()}catch(p){e.openErrorModal("Произошла ошибка при изменении роли",p.message)}}async function d(){if(s.value)try{await t.block(s.value.id,{showLoader:!0}),e.openSuccessModal("Пользователь заблокирован")}catch(f){e.openErrorModal("Произошла ошибка при блокировке пользователя",f.message)}}async function h(){if(s.value)try{await t.unblock(s.value.id,{showLoader:!0}),e.openSuccessModal("Пользователь разблокирован"),await r()}catch(f){e.openErrorModal("Произошла ошибка при разблокировке пользователя",f.message)}}return{user:s,currentTab:o,studentsWithSubjects:i,fetchUser:r,saveUser:a,confirmUser:l,changePassword:c,changeRole:u,block:d,unblock:h}}),S7=t=>(Ie("data-v-3752d1d5"),t=t(),Oe(),t),eve={class:"edit-user-view"},tve={class:"edit-user-view__credentials"},nve={class:"edit-user-view__credentials__avatar"},sve={class:"edit-user-view__credentials__name"},ive={class:"edit-user-view__credentials__online-status"},ove={class:"edit-user-view__credentials__username"},rve={class:"edit-user-view__credentials__email"},ave={class:"edit-user-view__credentials__role"},lve={key:0,class:"edit-user-view__credentials__telegram"},cve={key:1,class:"edit-user-view__credentials__change-password"},uve={class:"edit-user-view__content"},dve={class:"edit-user-view__content__unverified-block"},hve=S7(()=>m("p",{class:"edit-user-view__content__unverified-block__text"},[m("b",null,"Пользователь не подтвержден"),m("br"),W(" Пользователь не сможет войти в систему, пока не подтвердит свой аккаунт через имейл ")],-1)),fve={class:"edit-user-view__content__unverified-block__actions"},pve={class:"edit-user-view__content__role"},mve={class:"edit-user-view__content__form"},gve={class:"edit-user-view__content__actions"},_ve={class:"edit-user-view__content__actions__return"},vve={class:"edit-user-view__calender"},yve={class:"edit-user-view__statistics"},bve={key:0,class:"edit-user-view__assigned-works"},wve={key:1,class:"edit-user-view__no-assigned-works"},xve=S7(()=>m("p",null," Работы есть только у студентов и кураторов, просматривать их может только админ или преподаватель. Кураторы и ученики могут видеть только свои работы ",-1)),Sve=[xve],kve=j({__name:"edit-user-view",setup(t){const e=Q_e();e.fetchUser();const n=Y(!1);return ke(()=>e.user,()=>{e.user&&(ys(e.user.name),document.querySelector(".pane-layout__header .header__page-title h1").innerHTML=e.user.name)},{immediate:!0,deep:!0}),(s,i)=>{const o=Ha,r=l0,a=zt,l=r0,c=a0,u=xt,d=li,h=fo,f=h9,p=a7,v=Jo;return b(),B(v,{titles:["Данные","Календарь","Статистика","Работы"],"tab-index":g(e).currentTab,"onUpdate:tabIndex":i[11]||(i[11]=y=>g(e).currentTab=y)},{"tab-0":L(()=>[m("div",eve,[g(e).user?(b(),B(h,{key:0},{sidebar:L(()=>[m("div",tve,[m("div",nve,[E(o,{avatar:g(e).user.avatar,name:g(e).user.name},null,8,["avatar","name"])]),m("div",sve,[m("h2",null,H(g(e).user.name),1)]),m("div",ive,[E(r,{"is-online":g(e).user.isOnline,"last-seen":g(e).user.lastRequestAt,"is-mobile":g(e).user.isLastRequestMobile},null,8,["is-online","last-seen","is-mobile"])]),m("div",ove,[E(a,{modelValue:g(e).user.username,"onUpdate:modelValue":i[0]||(i[0]=y=>g(e).user.username=y),type:"text",label:"Никнейм",readonly:""},null,8,["modelValue"])]),m("div",rve,[E(a,{modelValue:g(e).user.email,"onUpdate:modelValue":i[1]||(i[1]=y=>g(e).user.email=y),type:"email",label:"E-mail",readonly:""},null,8,["modelValue"])]),m("div",ave,[E(l,{role:g(e).user.role},null,8,["role"])]),g(e).user.telegramUsername?(b(),$("div",lve,[E(c,{username:g(e).user.telegramUsername},null,8,["username"])])):N("",!0),g(D).Context.roleIs(["admin","teacher"])?(b(),$("div",cve,[E(u,{design:"danger",alignment:"center",onClick:i[2]||(i[2]=y=>n.value=!0)},{default:L(()=>[W(" Сменить пароль ")]),_:1}),E(g_e,{visible:n.value,"onUpdate:visible":i[3]||(i[3]=y=>n.value=y),user:g(e).user,onConfirm:i[4]||(i[4]=y=>g(e).changePassword(y))},null,8,["visible","user"])])):N("",!0)])]),content:L(()=>[m("div",uve,[g(e).user.verificationToken?(b(),B(d,{key:0},{default:L(()=>[m("div",dve,[hve,m("div",fve,[g(D).Context.roleIs(["admin","teacher"])?(b(),B(u,{key:0,design:"warning",alignment:"stretch",onClick:i[5]||(i[5]=y=>g(e).confirmUser())},{default:L(()=>[W(" Подтвердить ")]),_:1})):N("",!0)])])]),_:1})):N("",!0),m("div",pve,[E(z1e,{available:g(D).Context.roleIs(["admin","teacher"])&&g(e).user.role==="student",onChangeRole:i[6]||(i[6]=y=>g(e).changeRole(y))},null,8,["available"])]),m("div",mve,[E(J_e,{modelValue:g(e).user,"onUpdate:modelValue":i[7]||(i[7]=y=>g(e).user=y),"students-with-subjects":g(e).studentsWithSubjects,onMentorAssigned:i[8]||(i[8]=y=>g(e).fetchUser()),onBlocked:i[9]||(i[9]=y=>g(e).block()),onUnblocked:i[10]||(i[10]=y=>g(e).unblock())},null,8,["modelValue","students-with-subjects"])]),m("div",gve,[m("div",_ve,[E(u,{to:"/users",alignment:"right",design:"secondary"},{default:L(()=>[W(" Назад ")]),_:1})])])])]),_:1})):N("",!0)])]),"tab-1":L(()=>[m("div",vve,[g(e).user&&g(e).currentTab===1?(b(),B(f,{key:0,username:g(e).user.username},null,8,["username"])):N("",!0)])]),"tab-2":L(()=>[m("div",yve,[g(e).user&&g(e).currentTab===2?(b(),B(p,{key:0,username:g(e).user.username},null,8,["username"])):N("",!0)])]),"tab-3":L(()=>{var y;return[["student","mentor"].includes((y=g(e).user)==null?void 0:y.role)&&g(D).Context.roleIs(["admin","teacher","assistant"])?(b(),$("div",bve,[g(e).user&&g(e).currentTab===3?(b(),B(c_e,{key:0,user:g(e).user},null,8,["user"])):N("",!0)])):(b(),$("div",wve,Sve))]}),_:1},8,["tab-index"])}}});const $ve=J(kve,[["__scopeId","data-v-3752d1d5"]]),Cve=Kt("users-module:users",()=>{const t=D.Services.User,e=D.Services.Subject,n=D.Services.UI,{pagination:s,isListLoading:i,results:o,resultsMeta:r}=Ht(a);async function a(u){try{return await t.getUsersWithMentors(u)}catch(d){n.openErrorModal("Произошла ошибка при получении списка пользователей",d.message)}}async function l(u){try{return await e.getSubjects(u)}catch(d){n.openErrorModal("Произошла ошибка при получении списка предметов",d.message)}}async function c(u,d,h){try{await t.assignMentor(u,d,h,{showLoader:!0}),n.openSuccessModal("Куратор успешно назначен")}catch(f){n.openErrorModal("Произошла ошибка при назначении куратора",f.message)}}return{pagination:s,isListLoading:i,results:o,resultsMeta:r,fetchSubjects:l,assignMentor:c}}),Eve={class:"index-students-view"},Tve={class:"index-students-view__search"},Ave={class:"index-students-view__filters"},Mve={class:"index-students-view__table"},Ive={key:0,class:"index-students-view__pagination"},Ove=j({__name:"index-view",setup(t){const e=Cve(),n=Ws();ys("Пользователи");const s=[{name:"Роль",type:"arr",key:"role",arrayOptions:[{label:"Администратор",value:"admin"},{label:"Преподаватель",value:"teacher"},{label:"Куратор",value:"mentor"},{label:"Ученик",value:"student"},{label:"Ассистент",value:"assistant"}]},{name:"Дата регистрации",type:"range",key:"createdAt",rangeType:"date",rangeValues:[new Date,new Date]},{name:"Заблокированные",type:"boolean",key:"isBlocked",booleanLabels:["Нет","Да"]}],i=[{title:"",type:"avatar",value:r=>r},{title:"Имя",linkTo:r=>`/users/edit/${r.username}`,value:r=>r,type:"user"},{title:"Роль",type:"text",value:r=>{switch(r.role){case"admin":return"<span style='color: var(--danger)'>Администратор</span>";case"teacher":return"<span style='color: var(--success)'>Преподаватель</span>";case"mentor":return"<span style='color: var(--warning)'>Куратор</span>";case"assistant":return"<span style='color: var(--lila)'>Ассистент</span>";case"student":default:return"<span style='color: var(--text-light)'>Ученик</span>"}}},{title:"Никнейм",type:"text",value:r=>r.username},{title:"E-mail",type:"text",value:r=>r.email}];function o(r){return[{title:"Просмотреть/Редактировать",icon:"edit",action:()=>{n.push(`/users/edit/${r.username}`)}},{title:"Телеграм",icon:"telegram-blue",if:!!r.telegramUsername,action:()=>{var a;(a=window.open(`https://t.me/${r.telegramUsername}`,"_blank"))==null||a.focus()}}]}return(r,a)=>{const l=kn,c=Bd,u=cs,d=bn;return b(),$("div",Eve,[m("div",Tve,[E(l,{modelValue:g(e).pagination.search,"onUpdate:modelValue":a[0]||(a[0]=h=>g(e).pagination.search=h),"is-loading":g(e).isListLoading},null,8,["modelValue","is-loading"])]),m("div",Ave,[E(c,{pagination:g(e).pagination,"onUpdate:pagination":a[1]||(a[1]=h=>g(e).pagination=h),filters:s,"is-loading":g(e).isListLoading},null,8,["pagination","is-loading"])]),m("div",Mve,[E(u,{cols:i,data:g(e).results,"is-loading":g(e).isListLoading,actions:o},null,8,["data","is-loading"])]),g(e).resultsMeta.total&&g(e).pagination.limit&&g(e).pagination.page?(b(),$("div",Ive,[E(d,{page:g(e).pagination.page,"onUpdate:page":a[2]||(a[2]=h=>g(e).pagination.page=h),total:g(e).resultsMeta.total,limit:g(e).pagination.limit},null,8,["page","total","limit"])])):N("",!0)])}}});const Dve=J(Ove,[["__scopeId","data-v-7f993275"]]),Lve={path:"/users",name:"Пользователи",component:y1e,children:[{path:"",name:"Пользователи",component:Dve},{path:"edit/:username",name:"Редактировать пользователя",component:$ve}]},Pve={name:"users",router:Lve},Rve={},Vve={class:"module-wrapper"};function Nve(t,e){const n=Xe("router-view");return b(),$("div",Vve,[E(n)])}const Uve=J(Rve,[["render",Nve]]),rh=t=>(Ie("data-v-f26f471c"),t=t(),Oe(),t),Bve={class:"work-statistics-modal"},jve={key:0,class:"work-statistics-modal__content"},zve={class:"row"},Fve={class:"col-md-4"},Wve={class:"work-statistics-modal__content__card"},Hve={class:"work-statistics-modal__content__card__number"},qve=rh(()=>m("p",{class:"work-statistics-modal__content__card__title"}," Всего решено ",-1)),Gve={class:"col-md-4"},Yve={class:"work-statistics-modal__content__card"},Kve={class:"work-statistics-modal__content__card__number"},Zve={class:"work-statistics-modal__content__card__number__percentage"},Xve=rh(()=>m("p",{class:"work-statistics-modal__content__card__title"}," Средний балл ",-1)),Jve={class:"col-md-4"},Qve={class:"work-statistics-modal__content__card"},e0e={class:"work-statistics-modal__content__card__number"},t0e={class:"work-statistics-modal__content__card__number__percentage"},n0e=rh(()=>m("p",{class:"work-statistics-modal__content__card__title"}," Медианный балл ",-1)),s0e=rh(()=>m("h3",{class:"work-statistics-modal__content__title"}," Самые сложные задания ",-1)),i0e={class:"work-statistics-modal__content__hardest-tasks"},o0e={class:"work-statistics-modal__content__hardest-tasks__item__number"},r0e={class:"work-statistics-modal__content__hardest-tasks__item__score"},a0e={class:"work-statistics-modal__content__hardest-tasks__item__link"},l0e={class:"work-statistics-modal__content__hardest-tasks__item__text"},c0e={key:0,class:"work-statistics-modal__content__hardest-tasks__not-found"},u0e=rh(()=>m("p",null,"Самые сложные задания не найдены",-1)),d0e=[u0e],h0e={key:1,class:"work-statistics-modal__loader"},f0e=j({__name:"work-statistics-modal",props:{visible:{type:Boolean},work:{}},emits:["update:visible"],setup(t,{emit:e}){const n=t,s=e,i=D.Services.Work,o=D.Services.UI,r=Y(!1),a=q({get:()=>n.visible,set:d=>s("update:visible",d)}),l=Y(null),c=q(()=>{var d;return(d=l.value)!=null&&d.work?l.value.hardestTaskIds.map(h=>{var p,v;const f=(v=(p=l.value)==null?void 0:p.work)==null?void 0:v.tasks.find(y=>y.id===h.taskId);return{id:h.taskId,order:f.order,averageScore:h.avgScore,shortText:_j(f.content,2),slug:f.slug}}).sort((h,f)=>h.averageScore-f.averageScore):[]});ke(a,async d=>{if(d){r.value=!0;try{await u()}catch(h){o.openErrorModal("Ошибка при загрузке статистики",h.message)}finally{r.value=!1}}},{immediate:!0});async function u(){var h;if(!((h=n.work)!=null&&h.id))throw new Error("Не передан идентификатор работы");const d=await i.getWorkStatistics(n.work.id);l.value=d.data}return(d,h)=>{var w;const f=xt,p=ho,v=Sn,y=Qa,_=it("auto-animate");return b(),B(y,{visible:a.value,"onUpdate:visible":h[0]||(h[0]=x=>a.value=x),type:"info",title:`Статистика по работе ${(w=d.work)==null?void 0:w.name}`},{default:L(()=>{var x,k,C,S,A;return[$e((b(),$("div",Bve,[r.value?(b(),$("div",h0e,[E(v,{contrast:""})])):(b(),$("div",jve,[m("div",zve,[m("div",Fve,[m("div",Wve,[m("h1",Hve,H(((x=l.value)==null?void 0:x.workSolveCount)||"-"),1),qve])]),m("div",Gve,[m("div",Yve,[m("h1",Kve,[W(H(((k=l.value)==null?void 0:k.averageWorkScore.absolute)||"-")+" ",1),m("span",Zve,H(((C=l.value)==null?void 0:C.averageWorkScore.percentage)||"-")+"% ",1)]),Xve])]),m("div",Jve,[m("div",Qve,[m("h1",e0e,[W(H(((S=l.value)==null?void 0:S.medianWorkScore.absolute)||"-")+" ",1),m("span",t0e,H(((A=l.value)==null?void 0:A.medianWorkScore.percentage)||"-")+"% ",1)]),n0e])])]),s0e,m("div",i0e,[(b(!0),$(ue,null,Be(c.value,O=>{var M;return $e((b(),$("div",{class:"work-statistics-modal__content__hardest-tasks__item",key:O.id},[m("div",o0e," Номер "+H(O.order),1),m("div",r0e," Средний балл: "+H(O.averageScore.toFixed(2))+" % ",1),m("div",a0e,[E(f,{to:`/create-work${(M=d.work)==null?void 0:M.slug}/${O.slug}`},{default:L(()=>[W(" Посмотреть ")]),_:2},1032,["to"])]),m("div",l0e,[E(p,{content:O.shortText},null,8,["content"])])])),[[_]])}),128)),c.value.length?N("",!0):(b(),$("div",c0e,d0e))])]))])),[[_]])]}),_:1},8,["visible","title"])}}});const p0e=J(f0e,[["__scopeId","data-v-f26f471c"]]),m0e={class:"related-materials-modal__content"},g0e={class:"related-materials-modal__content__list"},_0e={key:0,class:"related-materials-modal__content__pagination"},v0e=j({__name:"related-materials-modal",props:{visible:{type:Boolean},work:{}},emits:["update:visible"],setup(t,{emit:e}){const n=t,s=e,i=D.Services.Work,o=D.Services.UI,r=q({get:()=>n.visible,set:u=>s("update:visible",u)}),a=[{title:"Курс",type:"text",value:u=>{var d,h,f,p,v;return((h=(d=u.chapter)==null?void 0:d.course)==null?void 0:h.name)??((v=(p=(f=u.chapter)==null?void 0:f.parentChapter)==null?void 0:p.course)==null?void 0:v.name)??"Неизвестный курс"}},{title:"Материал",type:"text",value:u=>u.name},{title:"Дедлайн сдачи/проверки",type:"date",joinType:"/",value:u=>[u.workSolveDeadline,u.workCheckDeadline]}];async function l(u){if(n.work)try{return i.getRelatedMaterials(n.work.id,u)}catch(d){o.openErrorModal("Произошла ошибка при получении списка материалов",d.message)}}const c=Ht(l);return ke(()=>n.work,async u=>{u&&c.trigger()}),(u,d)=>{var v;const h=cs,f=bn,p=Qa;return b(),B(p,{visible:r.value,"onUpdate:visible":d[1]||(d[1]=y=>r.value=y),type:"info",title:`Присвоенные материалы для работы ${(v=u.work)==null?void 0:v.name}`},{default:L(()=>[m("div",m0e,[m("div",g0e,[E(h,{cols:a,data:g(c).results.value,"is-loading":g(c).isListLoading.value},null,8,["data","is-loading"])]),g(c).resultsMeta.value.total>(g(c).pagination.value.limit||0)?(b(),$("div",_0e,[E(f,{page:g(c).pagination.value.page,"onUpdate:page":d[0]||(d[0]=y=>g(c).pagination.value.page=y),total:g(c).resultsMeta.value.total,limit:g(c).pagination.value.limit},null,8,["page","total","limit"])])):N("",!0)])]),_:1},8,["visible","title"])}}}),y0e={class:"works-table"},b0e=j({__name:"works-table",props:{works:{},loading:{type:Boolean}},emits:["copy-work","delete-work","show-related-materials","show-work-statistics"],setup(t,{emit:e}){const n=e,s=Ws(),i=[{title:"Название работы",type:"text",value:r=>r.name,linkTo:r=>`/create-work${r.slug}`},{title:"Предмет",type:"subject",value:r=>r.subject},{title:"Тип",type:"text",value:r=>{switch(r.type){case"trial-work":return'<span style="color: var(--danger)">Пробник</span>';case"phrase":return'<span style="color: var(--success)">Фраза</span>';case"mini-test":return'<span style="color: var(--info)">Мини-зачет</span>';case"test":return'<span style="color: var(--warning)">Тест</span>';case"second-part":return'<span style="color: var(--text-light)">Вторая часть</span>';default:return"-"}}},{title:"Дата создания/изменения",type:"date",joinType:"/",value:r=>[r.createdAt,r.updatedAt]}];function o(r){return[{title:"Копировать",icon:"copy",action:()=>{n("copy-work",r.slug)}},{title:"Посмотреть/Редактировать",icon:"edit",action:()=>{s.push(`/create-work${r.slug}`)}},{title:"Посмотреть привязанные материалы",icon:"eye",action:()=>{n("show-related-materials",r)}},{title:"Посмотреть статистику",icon:"statistics",action:()=>{n("show-work-statistics",r)}},{title:"Удалить",icon:"delete",action:()=>{n("delete-work",r)}}]}return(r,a)=>{const l=cs;return b(),$("div",y0e,[E(l,{cols:i,data:r.works,"is-loading":r.loading,actions:o},null,8,["data","is-loading"])])}}}),Q0=t=>(Ie("data-v-e09adf2f"),t=t(),Oe(),t),w0e={class:"index-works-view"},x0e={class:"index-works-view__header"},S0e={class:"index-works-view__header__search"},k0e={class:"index-works-view__header__link"},$0e={class:"index-works-view__filters"},C0e={class:"index-works-view__table"},E0e={class:"index-works-view__pagination"},T0e=Q0(()=>m("br",null,null,-1)),A0e=Q0(()=>m("br",null,null,-1)),M0e=Q0(()=>m("br",null,null,-1)),I0e=j({__name:"index-view",setup(t){ys("Работы");const e=lw(),n=Gt({visible:!1,work:null}),s=Gt({visible:!1,work:null}),i=Gt({visible:!1,work:null});function o(c){n.work=c,n.visible=!0}function r(c){s.work=c,s.visible=!0}function a(c){i.work=c,i.visible=!0}const l=Y([w7(),{name:"Дата создания",type:"range",key:"createdAt",rangeType:"date",rangeValues:[new Date,new Date]},rm()]);return(c,u)=>{const d=kn,h=xt,f=Bd,p=bn,v=li,y=zd;return b(),$(ue,null,[m("div",w0e,[m("div",x0e,[m("div",S0e,[E(d,{modelValue:g(e).pagination.search,"onUpdate:modelValue":u[0]||(u[0]=_=>g(e).pagination.search=_),"is-loading":g(e).isListLoading},null,8,["modelValue","is-loading"])]),m("div",k0e,[E(h,{to:"/create-work"},{default:L(()=>[W("Создать работу")]),_:1})])]),m("div",$0e,[E(f,{filters:l.value,pagination:g(e).pagination,"onUpdate:pagination":u[1]||(u[1]=_=>g(e).pagination=_)},null,8,["filters","pagination"])]),m("div",C0e,[E(b0e,{works:g(e).results,loading:g(e).isListLoading,onCopyWork:u[2]||(u[2]=_=>g(e).copyWork(_)),onDeleteWork:u[3]||(u[3]=_=>o(_)),onShowRelatedMaterials:u[4]||(u[4]=_=>r(_)),onShowWorkStatistics:u[5]||(u[5]=_=>a(_))},null,8,["works","loading"])]),m("div",E0e,[E(p,{page:g(e).pagination.page,"onUpdate:page":u[6]||(u[6]=_=>g(e).pagination.page=_),total:g(e).resultsMeta.total,limit:g(e).pagination.limit},null,8,["page","total","limit"])])]),E(y,{visible:n.visible,"onUpdate:visible":u[7]||(u[7]=_=>n.visible=_),onConfirm:u[8]||(u[8]=_=>g(e).deleteWork(n.work))},{title:L(()=>[W(" Удаление работы ")]),text:L(()=>{var _;return[W(" Вы уверены, что хотите удалить работу "),T0e,m("b",null,H((_=n.work)==null?void 0:_.name),1),W(" ? "),A0e,M0e,E(v,null,{default:L(()=>[W(" Все, кто решал/проверял эту работу, больше не смогут её открыть. Сохранится только статус, дедлайн и общий балл. ")]),_:1})]}),_:1},8,["visible"]),E(v0e,{visible:s.visible,"onUpdate:visible":u[9]||(u[9]=_=>s.visible=_),work:s.work},null,8,["visible","work"]),E(p0e,{visible:i.visible,"onUpdate:visible":u[10]||(u[10]=_=>i.visible=_),work:i.work},null,8,["visible","work"])],64)}}});const O0e=J(I0e,[["__scopeId","data-v-e09adf2f"]]),D0e={path:"/works",name:"works",component:Uve,children:[{path:"",name:"Все работы",component:O0e}]},L0e={name:"works",router:D0e},$m=t=>(Ie("data-v-ee407406"),t=t(),Oe(),t),P0e={key:0,class:"base-modal__inner"},R0e={class:"base-modal__container"},V0e=$m(()=>m("span",null,"Похоже, Вы вышли из системы...",-1)),N0e=[V0e],U0e=$m(()=>m("div",{class:"base-modal__text"}," Чтобы продолжить работу, пожалуйста, введите свои учетные данные. ",-1)),B0e={class:"base-modal__form"},j0e=$m(()=>m("br",null,null,-1)),z0e={class:"base-modal__auth-redirect"},F0e=$m(()=>m("br",null,null,-1)),W0e={class:"base-modal__buttons"},H0e=j({__name:"retry-login-modal",props:{modelValue:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=e,i=q({get:()=>n.modelValue,set:a=>s("update:modelValue",a)}),o=Y(null);async function r(){D.Services.UI.setLoading(!0);try{await D.Services.Auth.retryLogin({usernameOrEmail:i.value.usernameOrEmail,password:i.value.password}),D.Services.UI.closeModal(),D.Services.UI.openSuccessModal("Вы снова в системе! Возможно, что-то не отображается, тогда нужно перезагрузить страницу"),s("update:modelValue",{...i.value,isOpen:!1})}catch{o.value="Неверный логин или пароль",D.Services.UI.setLoading(!1)}finally{D.Services.UI.setLoading(!1)}}return ke(()=>n.modelValue.isOpen,a=>{a&&(i.value.usernameOrEmail=D.Context.User.username)},{immediate:!0}),(a,l)=>{const c=zt,u=Qo,d=xt,h=it("auto-animate");return b(),B(Ti,{to:"body"},[$e((b(),$("div",{class:Se(["base-modal",{"base-modal--visible":i.value.isOpen}])},[i.value.isOpen?(b(),$("div",P0e,[m("div",R0e,[m("div",{class:Se(["base-modal__title","base-modal__title--warning"])},N0e),U0e,m("div",B0e,[E(c,{modelValue:i.value.usernameOrEmail,"onUpdate:modelValue":l[0]||(l[0]=f=>i.value.usernameOrEmail=f),label:"Имя пользователя или email",placeholder:"Введите имя пользователя или email",type:"text",required:"",readonly:""},null,8,["modelValue"]),E(c,{modelValue:i.value.password,"onUpdate:modelValue":l[1]||(l[1]=f=>i.value.password=f),label:"Пароль",placeholder:"Введите пароль",type:"password",required:"",onEnterPress:l[2]||(l[2]=f=>r())},null,8,["modelValue"])]),j0e,m("p",z0e,[m("a",{onClick:l[3]||(l[3]=f=>g(D).Services.Auth.logout())}," Выйти, зарегистрироваться или сбросить пароль ")]),o.value?(b(),B(u,{key:0},{default:L(()=>[W(H(o.value),1)]),_:1})):N("",!0),F0e,lt(a.$slots,"default",{},void 0,!0),m("div",W0e,[E(d,{alignment:"stretch",onClick:l[4]||(l[4]=f=>r()),design:"primary",class:"base-modal__buttons__cancel"},{default:L(()=>[W(" Войти ")]),_:1})])])])):N("",!0)],2)),[[h]])])}}});const q0e=J(H0e,[["__scopeId","data-v-ee407406"]]),G0e={class:"banner-modal__head"},Y0e=["innerHTML"],K0e=j({__name:"banner-modal",props:{banner:{},visible:{type:Boolean},onClose:{type:Function}},emits:["update:visible"],setup(t,{emit:e}){const n=t,s=e,i=q(()=>{switch(n.banner.type){case"announcement":return"Объявление";case"maintenance":return"Технические работы";case"new-feature":return"Новая функция";case"warning":return"Предупреждение";case"welcome":return"Добро пожаловать";case"other":default:return"Уведомление"}}),o=q(()=>{switch(n.banner.type){case"work-checked":return"check-green";case"work-made":return"uni-cap";case"maintenance":return"attention-yellow";case"new-feature":return"add";case"announcement":return"attention-yellow";case"mentor-assigned":return"heart";case"mentor-removed":return"cross-red";case"poll-answered":return"poll";case"warning":return"attention-yellow";case"welcome":return"welcome";case"work-transferred":return"copy";case"other":default:return"info"}}),r=q(()=>{var l;return((l=n.banner.message)==null?void 0:l.replaceAll(`
`,"<br>"))||""}),a=q({get:()=>n.visible,set:l=>{s("update:visible",l),l||(n.onClose(),D.Services.Notification.markAsRead(n.banner.id))}});return(l,c)=>{const u=It,d=Qa;return b(),B(d,{class:"banner-modal",title:i.value,type:"info",visible:a.value,"onUpdate:visible":c[0]||(c[0]=h=>a.value=h)},{default:L(()=>[m("p",G0e,[E(u,{class:"banner-modal__head__icon",name:o.value},null,8,["name"]),m("b",null,H(l.banner.title),1)]),m("p",{class:"banner-modal__body",innerHTML:r.value},null,8,Y0e)]),_:1},8,["title","visible"])}}});const Z0e=J(K0e,[["__scopeId","data-v-ff81a285"]]),X0e=t=>(Ie("data-v-44cb09a1"),t=t(),Oe(),t),J0e={class:"loader-overlay"},Q0e=X0e(()=>m("h2",null,"Загрузка...",-1)),e2e=j({__name:"the-loader-overlay",props:{loadingProgress:{}},setup(t){return(e,n)=>{const s=Sn,i=E0;return b(),B(Ti,{to:"body"},[m("div",J0e,[E(s,{class:"loader-overlay__icon"}),e.loadingProgress>0?(b(),B(i,{key:0,class:"loader-overlay__progress",value:e.loadingProgress},null,8,["value"])):N("",!0),Q0e])])}}});const t2e=J(e2e,[["__scopeId","data-v-44cb09a1"]]),n2e={class:"app-notification"},s2e={class:"app-notification__text"},i2e={class:"app-notification__info__title"},o2e=["innerHTML"],r2e={class:"app-notification__actions"},a2e=j({__name:"app-notification",props:{notification:{},preserveLineWraps:{type:Boolean}},setup(t){const e=t,n=D.Services.Notification,s=D.Services.UI,i=Y(!1),o=q(()=>{switch(e.notification.type){case"work-checked":return"check-green";case"work-made":return"uni-cap";case"maintenance":return"attention-yellow";case"new-feature":return"add";case"announcement":return"attention-yellow";case"mentor-assigned":return"heart";case"mentor-removed":return"cross-red";case"poll-answered":return"poll";case"warning":return"attention-yellow";case"welcome":return"welcome";case"work-transferred":return"copy";case"other":default:return"info"}}),r=q(()=>{var l,c;return e.preserveLineWraps?((l=e.notification.message)==null?void 0:l.replaceAll(`
`,"<br>"))||"":((c=e.notification.message)==null?void 0:c.replaceAll(/\n/g," "))||""});async function a(){i.value=!0;try{await n.deleteNotification(e.notification.id)}catch(l){s.openErrorModal("Не удалось удалить уведомление",l.message)}finally{setTimeout(()=>{i.value=!1},500)}}return(l,c)=>{const u=It,d=Sn;return b(),$("div",n2e,[(b(),$("div",{class:"app-notification__icon",key:o.value},[i.value?(b(),B(d,{key:1,contrast:""})):(b(),B(u,{key:0,name:o.value},null,8,["name"]))])),m("div",s2e,[m("h4",i2e,H(l.notification.title),1),m("p",{class:"app-notification__info__message",innerHTML:r.value},null,8,o2e)]),m("div",r2e,[m("div",{class:"app-notification__actions__delete",onClick:c[0]||(c[0]=h=>a())},[E(u,{name:"delete"})])])])}}});const k7=J(a2e,[["__scopeId","data-v-fb7cd4ac"]]);function h8(t,e,n){const s=q(i);function i(){let o=[...t()];o.find(c=>c.type==="date")&&(o=o.filter(c=>c.type!=="date"));const r=[];o.reverse();let a=[];for(const c of o){const u={id:"date-"+c[e].getTime(),_type:"date",_date:c[e]},d=_n(c[e]);if(n!=null&&n.precision)switch(n.precision){case"year":a=[c,{_hashProp:c[e].getFullYear(),...u}];break;case"month":a=[c,{_hashProp:`${c[e].getFullYear()} ${c[e].getMonth()}`,...u}];break;case"day":a=[c,{_hashProp:`${c[e].getFullYear()} ${c[e].getMonth()} ${c[e].getDate()}`,...u}];break}else d.isInThisYear()?d.isInThisMonth()?d.isOnThisWeek()?d.isYesterday()?d.isToday()?a=[c,{_hashProp:"today",...u}]:a=[c,{_hashProp:"yesterday",...u}]:a=[c,{_hashProp:"this-week",...u}]:a=[c,{_hashProp:"this-month",...u}]:a=[c,{_hashProp:c[e].getMonth(),...u}]:a=[c,{_hashProp:c[e].getFullYear(),...u}];r.push(...a)}r.reverse();const l=r.filter((c,u,d)=>{const h=!Object.keys(c).includes("_hashProp"),f=!h&&u===d.findIndex(p=>p._hashProp===c._hashProp);return h||f});return n!=null&&n.reversed&&l.reverse(),l}return s}const e2=t=>(Ie("data-v-e7391c44"),t=t(),Oe(),t),l2e={class:"notifications-pane__inner"},c2e=e2(()=>m("div",{class:"notifications-pane__header"},[m("h2",null,"Уведомления")],-1)),u2e={class:"notifications-pane__body"},d2e={key:0,class:"notifications-pane__list__loading"},h2e={key:1,class:"notifications-pane__list__empty"},f2e=e2(()=>m("p",null,"Пока нет уведомлений",-1)),p2e=[f2e],m2e={key:2,class:"notifications-pane__list"},g2e={key:1,class:"notifications-pane__list__date-item"},_2e={key:0,class:"notifications-pane__list__loading"},v2e={key:1,class:"notifications-pane__list__empty"},y2e=e2(()=>m("p",null,"Пока нет уведомлений",-1)),b2e=[y2e],w2e={key:2,class:"notifications-pane__list"},x2e={key:1,class:"notifications-pane__list__date-item"},S2e=j({__name:"the-notifications-pane",setup(t){const e=D.Services.Notification,n=e.Store(),s=Y(0),i=h8(()=>n.notifications,"createdAt",{precision:"day"}),o=h8(()=>n.newNotifications,"createdAt",{precision:"day"});return(r,a)=>{const l=Sn,c=k7,u=Jo,d=it("auto-animate");return b(),$(ue,null,[$e((b(),$("div",{class:Se(["notifications-pane",{open:g(n).isPaneOpen}])},[m("div",l2e,[c2e,m("div",u2e,[E(u,{titles:["Непрочитанные","Прочитанные"],"tab-index":s.value,"onUpdate:tabIndex":a[0]||(a[0]=h=>s.value=h)},{"tab-0":L(()=>[g(n).isLoading?(b(),$("div",d2e,[E(l,{contrast:""})])):g(n).newNotifications.length===0?(b(),$("div",h2e,p2e)):$e((b(),$("div",m2e,[(b(!0),$(ue,null,Be(g(o),h=>(b(),$("div",{class:"notifications-pane__list__item",key:h.id},[h._type!=="date"?(b(),B(c,{key:0,notification:h},null,8,["notification"])):(b(),$("span",g2e,H(g(_n)(h._date,{precision:"day"}).toBeautiful()),1))]))),128))])),[[d]])]),"tab-1":L(()=>[g(n).isLoading?(b(),$("div",_2e,[E(l,{contrast:""})])):g(n).notifications.length===0?(b(),$("div",v2e,b2e)):$e((b(),$("div",w2e,[(b(!0),$(ue,null,Be(g(i),h=>(b(),$("div",{class:"notifications-pane__list__item",key:h.id},[h._type!=="date"?(b(),B(c,{key:0,notification:h},null,8,["notification"])):(b(),$("span",x2e,H(g(_n)(h._date,{precision:"day"}).toBeautiful()),1))]))),128))])),[[d]])]),_:1},8,["tab-index"])])])],2)),[[d]]),(b(),B(Ti,{to:"body"},[g(n).isPaneOpen?$e((b(),$("div",{key:0,class:"overlay",onClick:a[1]||(a[1]=h=>g(e).setPaneOpen(!1))},null,512)),[[d]]):N("",!0)]))],64)}}});const k2e=J(S2e,[["__scopeId","data-v-e7391c44"]]),$2e="/img/logo-circled.svg";const C2e={},tl=t=>(Ie("data-v-be1ab3d2"),t=t(),Oe(),t),E2e={class:"the-footer"},T2e={class:"container"},A2e={class:"row"},M2e=tl(()=>m("div",{class:"col-md-4"},[m("div",{class:"the-footer__logo"},[m("h1",null,[m("img",{src:$2e,alt:"НОО логотип"}),m("a",{href:"https://noo-school.ru"},[m("b",null,"НОО."),W("Платформа ")])])])],-1)),I2e={class:"col-md-8"},O2e={class:"the-footer__links"},D2e={href:"https://no-os.ru",target:"_blank"},L2e=tl(()=>m("span",{class:"dot"},"•",-1)),P2e=tl(()=>m("a",{href:"https://no-os.ru/confidentiality",target:"_blank"}," Политика конфиденциальности ",-1)),R2e=tl(()=>m("span",{class:"dot"},"•",-1)),V2e=tl(()=>m("a",{href:"https://no-os.ru/oferta",target:"_blank"}," Договор публичной оферты ",-1)),N2e=tl(()=>m("div",{class:"row"},[m("div",{class:"col-12"},[m("p",{class:"the-footer__cookies"}," Используя сайт, вы даете согласие на использование файлов cookie для улучшения работы сайта. ")])],-1)),U2e=tl(()=>m("br",null,null,-1));function B2e(t,e){return b(),$(ue,null,[m("footer",E2e,[m("div",T2e,[m("div",A2e,[M2e,m("div",I2e,[m("div",O2e,[m("a",D2e," © "+H(new Date().getFullYear())+" НОО-Школа ",1),L2e,P2e,R2e,V2e])])]),N2e])]),U2e],64)}const j2e=J(C2e,[["render",B2e],["__scopeId","data-v-be1ab3d2"]]),z2e={class:"logout-button"},F2e=j({__name:"logout-button",setup(t){return(e,n)=>(b(),$("button",z2e,[m("span",{class:"logout-button__text",onClick:n[0]||(n[0]=un(s=>g(D).Services.Auth.logout(),["prevent"]))}," Выйти ")]))}});const W2e=J(F2e,[["__scopeId","data-v-0cf5f3ad"]]),H2e=t=>(Ie("data-v-30391b32"),t=t(),Oe(),t),q2e={class:"profile-widget__avatar"},G2e={class:"profile-widget__credentials"},Y2e={class:"profile-widget__credentials__name"},K2e={class:"profile-widget__credentials__actions"},Z2e={class:"profile-widget__credentials__actions__username"},X2e=H2e(()=>m("div",{class:"profile-widget__credentials__actions__separator"}," • ",-1)),J2e=j({__name:"profile-widget",setup(t){return(e,n)=>{const s=Ha,i=W2e,o=Xe("router-link");return b(),B(o,{to:"/profile",class:"profile-widget"},{default:L(()=>{var r,a,l,c;return[m("div",q2e,[E(s,{name:(r=g(D).Context.User)==null?void 0:r.name,avatar:(a=g(D).Context.User)==null?void 0:a.avatar},null,8,["name","avatar"])]),m("div",G2e,[m("h3",Y2e,H((l=g(D).Context.User)==null?void 0:l.name),1),m("div",K2e,[m("span",Z2e,H((c=g(D).Context.User)==null?void 0:c.username),1),X2e,E(i)])])]}),_:1})}}});const Q2e=J(J2e,[["__scopeId","data-v-30391b32"]]),eye={class:"notifications-widget"},tye={key:0,class:"notifications-widget__button__unread-count"},nye=j({__name:"notifications-widget",setup(t){const e=D.Services.Notification,n=e.Store();return(s,i)=>{const o=It;return b(),$("div",eye,[m("button",{class:"notifications-widget__button",title:"Уведомления",onClick:i[0]||(i[0]=r=>g(e).setPaneOpen(!0))},[g(n).unreadCount>0?(b(),$("span",tye,H(g(n).unreadCount>99?"99+":g(n).unreadCount),1)):N("",!0),E(o,{name:"notifications"})])])}}});const sye=J(nye,[["__scopeId","data-v-4322392d"]]),iye=["data-rerenderer"],oye=j({__name:"theme-toggle-widget",setup(t){const e=Y(!1);function n(){D.Context.Theme==="dark"?(D.Context.Theme="light",s("light")):(D.Context.Theme="dark",s("dark")),e.value=!e.value}function s(i){i==="dark"?document.body.classList.add("theme--dark"):document.body.classList.remove("theme--dark")}return ri(()=>{s(D.Context.Theme)}),(i,o)=>{const r=It;return g(D).isInitialized()?(b(),$("div",{key:0,class:"theme-toggle-widget","data-rerenderer":e.value},[m("button",{onClick:n,class:"theme-toggle-widget__button",title:"Сменить тему"},[g(D).Context.Theme==="dark"?(b(),B(r,{key:0,name:"moon"})):(b(),B(r,{key:1,name:"sun"}))])],8,iye)):N("",!0)}}});const rye=J(oye,[["__scopeId","data-v-766304c1"]]),aye=t=>(Ie("data-v-c171d718"),t=t(),Oe(),t),lye={key:0,class:"hotkey-widget"},cye={class:"hint"},uye=aye(()=>m("h3",{class:"hint__title"},"Горячие клавиши",-1)),dye={class:"hint__list"},hye={class:"hint__list__item__keys"},fye={class:"hint__list__item__description"},pye=j({__name:"hotkey-widget",setup(t){const e=$n(),n=Y(fb()),s=Y(!1),i=Y(null),o=Y({x:0,y:0});ke(()=>e.fullPath,()=>{setTimeout(()=>{n.value=fb()},100)},{immediate:!0});function r(){if(i.value){const{x:c,y:u,height:d}=i.value.getBoundingClientRect();o.value={x:c,y:u+d}}}function a(c){return c==="ArrowUp"?"↑":c==="ArrowDown"?"↓":c==="ArrowLeft"?"←":c==="ArrowRight"?"→":c}function l(){r(),s.value=!s.value}return(c,u)=>{const d=It,h=Iv;return b(),$(ue,null,[n.value.length>0?(b(),$("div",lye,[m("div",{class:"hotkey-widget__button",onClick:u[0]||(u[0]=f=>l()),ref_key:"button",ref:i,title:"Горячие клавиши"},[E(d,{name:"keyboard"})],512)])):N("",!0),E(h,{visible:s.value,"onUpdate:visible":u[1]||(u[1]=f=>s.value=f),position:o.value},{default:L(()=>[m("div",cye,[uye,m("ul",dye,[(b(!0),$(ue,null,Be(n.value,(f,p)=>(b(),$("li",{class:"hint__list__item",key:p},[m("span",hye,[(b(!0),$(ue,null,Be(f.keys,(v,y)=>(b(),$("kbd",{key:y},H(a(v)),1))),128))]),m("span",fye,H(f.description),1)]))),128))])])]),_:1},8,["visible","position"])],64)}}});const mye=J(pye,[["__scopeId","data-v-c171d718"]]),gye=j({__name:"the-pane-toggler",setup(t){const e=Y(!1);return(n,s)=>{const i=It;return b(),$("span",{class:"pane-toggler",onClick:s[0]||(s[0]=o=>g(D).Services.UI.setPaneOpen(!0)),onMouseenter:s[1]||(s[1]=o=>e.value=!0),onMouseleave:s[2]||(s[2]=o=>e.value=!1)},[E(i,{name:"bars",animation:e.value},null,8,["animation"])],32)}}});const _ye=J(gye,[["__scopeId","data-v-549d7fac"]]),vye={key:1},yye=j({__name:"google-translate-warner",setup(t){const e=Y(!1);let n=null;async function s(){return new Promise(i=>window.google&&window.google.translate||document.getElementById("goog-gt-tt")||document.querySelector(".goog-te-banner-frame")||document.querySelector(".goog-te-menu-frame")||document.querySelector('[class^="goog-t"]')?i(!0):i(!1))}return ri(async()=>{await s()?e.value=!0:(console.log("Google Translate is not detected"),e.value=!1),n=new MutationObserver(jd(async()=>{await s()?e.value=!0:(e.value=!1,console.log("Google Translate is not detected"))},3e3)),n.observe(document.body,{childList:!0,subtree:!0})}),yc(()=>{n==null||n.disconnect()}),(i,o)=>{const r=li;return b(),$(ue,null,[e.value?(b(),B(r,{key:0},{default:L(()=>[W(" Похоже, Вы используете расширение Google Translate для Вашего браузера. Пожалуйста, отключите его и перезагрузите страницу для корректной работы платформы ")]),_:1})):N("",!0),e.value?(b(),$("br",vye)):N("",!0)],64)}}}),bye={class:"header"},wye={class:"header__inner"},xye={class:"header__pane-toggler"},Sye={class:"header__page-title"},kye={class:"header__help"},$ye={class:"header__help__hotkey-widget"},Cye={class:"header__help__theme-toggle-widget"},Eye={class:"header__help__notifications-widget"},Tye={class:"header__profile-widget"},Aye=j({__name:"the-header",setup(t){const e=$n();return(n,s)=>{const i=yye,o=_ye,r=mye,a=rye,l=sye,c=Q2e;return b(),$("header",bye,[E(i),m("div",wye,[m("div",xye,[E(o)]),m("div",Sye,[m("h1",null,H(g(e).name),1)]),m("div",kye,[m("div",$ye,[E(r)]),m("div",Cye,[E(a)]),m("div",Eye,[E(l)])]),m("div",Tye,[E(c)])])])}}});const Mye=J(Aye,[["__scopeId","data-v-c7914cd3"]]),Iye={class:"the-banner-container"},Oye=j({__name:"the-banner-container",setup(t){const n=D.Services.Notification.Store();return(s,i)=>{const o=k7,r=it("auto-animate");return $e((b(),$("div",Iye,[(b(!0),$(ue,null,Be(g(n).banners,a=>(b(),$("div",{class:"the-banner-container__banner",key:a.id},[E(o,{notification:a,"preserve-line-wraps":""},null,8,["notification"])]))),128))])),[[r]])}}});const Dye=J(Oye,[["__scopeId","data-v-482604db"]]),Lye=t=>(Ie("data-v-c36019b9"),t=t(),Oe(),t),Pye={class:"logo"},Rye=Lye(()=>m("span",{class:"thin"},"Платформа",-1)),Vye=j({__name:"main-logo",props:{dark:{type:Boolean}},setup(t){return(e,n)=>(b(),$("div",Pye,[m("h1",{class:Se({dark:e.dark})},[W("НОО."),Rye],2)]))}});const Nye=J(Vye,[["__scopeId","data-v-c36019b9"]]),Uye=t=>(Ie("data-v-f26d529f"),t=t(),Oe(),t),Bye={class:"pane__inner"},jye={class:"pane__logo"},zye={class:"pane__nav"},Fye={class:"pane__nav__entry__title"},Wye=Uye(()=>m("div",{class:"pane__help"},[m("p",null,[W(" Есть проблема? Напишите нам в "),m("a",{href:"https://t.me/+oACQzPflwZQ1ODRi",target:"_blank"}," @noo_support_chat ")])],-1)),f8=300,p8=100,Hye=200,qye=j({__name:"the-pane",setup(t){const e=D.Services.UI,n=e.Store(),s=Y(e.getNavEntries()),i=Y(s.value.map(()=>!1)),o=Y(s.value.map(()=>!1));return ke(()=>n.isPaneOpen,()=>{n.isPaneOpen?s.value.forEach((r,a)=>{setTimeout(()=>{i.value[a]=!0,o.value[a]=!0},f8+a*p8),setTimeout(()=>{i.value[a]=!1},f8+a*p8+Hye)}):o.value=s.value.map(()=>!1)}),(r,a)=>{const l=Nye,c=It,u=Xe("router-link"),d=it("auto-animate");return b(),$(ue,null,[$e((b(),$("div",{class:Se(["pane",{open:g(n).isPaneOpen}])},[m("div",Bye,[m("div",jye,[E(l)]),m("div",zye,[m("nav",null,[m("ul",null,[(b(!0),$(ue,null,Be(s.value,(h,f)=>(b(),$("li",{class:"pane__nav__entry",key:h.route},[E(u,{to:h.route,onClick:a[0]||(a[0]=p=>g(e).setPaneOpen(!1)),onMouseenter:p=>i.value[f]=!0,onMouseleave:p=>i.value[f]=!1},{default:L(()=>[E(c,{class:Se(["pane__nav__entry__icon",{"pane__nav__entry__icon--opened":o.value[f]}]),name:h.icon,animation:i.value[f]},null,8,["class","name","animation"]),m("span",Fye,H(h.title),1)]),_:2},1032,["to","onMouseenter","onMouseleave"])]))),128))])])]),Wye])],2)),[[d]]),(b(),B(Ti,{to:"body"},[g(n).isPaneOpen?$e((b(),$("div",{key:0,class:"overlay",onClick:a[1]||(a[1]=h=>g(e).setPaneOpen(!1))},null,512)),[[d]]):N("",!0)]))],64)}}});const Gye=J(qye,[["__scopeId","data-v-f26d529f"]]),Yye={class:"container"},Kye={class:"pane-layout__content"},Zye={class:"pane-layout__banners"},Xye={class:"pane-layout__header"},Jye={class:"pane-layout__slot"},Qye={class:"pane-layout__footer"},ebe=j({__name:"pane-layout",setup(t){const e=Y({});return D.onInit(n=>{console.log("Core on init");const s=n.Services.UserSettings,i=s.Store();s.reload().then(()=>{console.log("User settings reloaded"),e.value.backgroundImage=i.backgroundImage?`url(${n.Constants.MEDIA_URL}/${i.backgroundImage.src})`:""})}),(n,s)=>{const i=Gye,o=Dye,r=Mye,a=j2e,l=k2e;return b(),$(ue,null,[E(i),m("div",{class:"pane-layout",style:Qt(e.value)},[m("div",Yye,[m("div",Kye,[m("div",Zye,[E(o)]),m("div",Xye,[E(r)]),m("div",Jye,[lt(n.$slots,"default",{},void 0,!0)]),m("div",Qye,[E(a)])])])],4),E(l)],64)}}});const tbe=J(ebe,[["__scopeId","data-v-1e5ef236"]]),nbe={key:0,class:"app"},sbe=j({__name:"App",setup(t){const e=$n();Np(()=>{D.init()});const n=q(()=>{var s;return((s=e==null?void 0:e.meta)==null?void 0:s.layout)||tbe});return(s,i)=>{const o=Xe("router-view"),r=t2e,a=Qa,l=Z0e,c=q0e;return g(D).isInitialized()?(b(),$("div",nbe,[(b(),B(Vn(n.value),null,{default:L(()=>[E(o)]),_:1})),m("div",null,[g(D).Services.UI.Store().isLoading?(b(),B(r,{key:0,"loading-progress":g(D).Services.UI.Store().loadingProgress},null,8,["loading-progress"])):N("",!0),E(a,{title:g(D).Services.UI.Store().globalModal.title,message:g(D).Services.UI.Store().globalModal.message,type:g(D).Services.UI.Store().globalModal.type,actions:g(D).Services.UI.Store().globalModal.actions,visible:g(D).Services.UI.Store().globalModal.isOpen,"onUpdate:visible":i[0]||(i[0]=u=>g(D).Services.UI.Store().globalModal.isOpen=u)},null,8,["title","message","type","actions","visible"]),g(D).Services.Notification.Store().bannerModal.banner?(b(),B(l,{key:1,visible:g(D).Services.Notification.Store().bannerModal.isOpen,"onUpdate:visible":i[1]||(i[1]=u=>g(D).Services.Notification.Store().bannerModal.isOpen=u),banner:g(D).Services.Notification.Store().bannerModal.banner,"on-close":g(D).Services.Notification.Store().bannerModal.onClose},null,8,["visible","banner","on-close"])):N("",!0),g(D).Services.UI.Store().retryLoginModal.isOpen?(b(),B(c,{key:2,modelValue:g(D).Services.UI.Store().retryLoginModal,"onUpdate:modelValue":i[2]||(i[2]=u=>g(D).Services.UI.Store().retryLoginModal=u)},null,8,["modelValue"])):N("",!0)])])):N("",!0)}}}),$7=MT({history:iT("/"),routes:[{name:"root",path:"/",redirect:"/courses"}]}),C7=new Set,Is=new WeakMap,Hl=new WeakMap,Ba=new WeakMap,Y_=new WeakMap,ibe=new WeakMap,mc=new WeakMap,Sp=new WeakMap,uu=new WeakSet;let ja;const Uo="__aa_tgt",K_="__aa_del",obe=t=>{const e=ube(t);e&&e.forEach(n=>dbe(n))},rbe=t=>{t.forEach(e=>{e.target===ja&&lbe(),Is.has(e.target)&&nl(e.target)})};function abe(t){const e=Y_.get(t);e==null||e.disconnect();let n=Is.get(t),s=0;const i=5;n||(n=gc(t),Is.set(t,n));const{offsetWidth:o,offsetHeight:r}=ja,l=[n.top-i,o-(n.left+i+n.width),r-(n.top+i+n.height),n.left-i].map(u=>`${-1*Math.floor(u)}px`).join(" "),c=new IntersectionObserver(()=>{++s>1&&nl(t)},{root:ja,threshold:1,rootMargin:l});c.observe(t),Y_.set(t,c)}function nl(t){clearTimeout(Sp.get(t));const e=Cm(t),n=typeof e=="function"?500:e.duration;Sp.set(t,setTimeout(async()=>{const s=Ba.get(t);try{await(s==null?void 0:s.finished),Is.set(t,gc(t)),abe(t)}catch{}},n))}function lbe(){clearTimeout(Sp.get(ja)),Sp.set(ja,setTimeout(()=>{C7.forEach(t=>M7(t,e=>E7(()=>nl(e))))},100))}function cbe(t){setTimeout(()=>{ibe.set(t,setInterval(()=>E7(nl.bind(null,t)),2e3))},Math.round(2e3*Math.random()))}function E7(t){typeof requestIdleCallback=="function"?requestIdleCallback(()=>t()):requestAnimationFrame(()=>t())}let Z_,Ml;typeof window<"u"&&(ja=document.documentElement,Z_=new MutationObserver(obe),Ml=new ResizeObserver(rbe),Ml.observe(ja));function ube(t){return t.reduce((s,i)=>[...s,...Array.from(i.addedNodes),...Array.from(i.removedNodes)],[]).every(s=>s.nodeName==="#comment")?!1:t.reduce((s,i)=>{if(s===!1)return!1;if(i.target instanceof Element){if(p1(i.target),!s.has(i.target)){s.add(i.target);for(let o=0;o<i.target.children.length;o++){const r=i.target.children.item(o);if(r){if(K_ in r)return!1;p1(i.target,r),s.add(r)}}}if(i.removedNodes.length)for(let o=0;o<i.removedNodes.length;o++){const r=i.removedNodes[o];if(K_ in r)return!1;r instanceof Element&&(s.add(r),p1(i.target,r),Hl.set(r,[i.previousSibling,i.nextSibling]))}}return s},new Set)}function p1(t,e){!e&&!(Uo in t)?Object.defineProperty(t,Uo,{value:t}):e&&!(Uo in e)&&Object.defineProperty(e,Uo,{value:t})}function dbe(t){var e;const n=t.isConnected,s=Is.has(t);n&&Hl.has(t)&&Hl.delete(t),Ba.has(t)&&((e=Ba.get(t))===null||e===void 0||e.cancel()),s&&n?hbe(t):s&&!n?pbe(t):fbe(t)}function zi(t){return Number(t.replace(/[^0-9.\-]/g,""))}function gc(t){const e=t.getBoundingClientRect();return{top:e.top+window.scrollY,left:e.left+window.scrollX,width:e.width,height:e.height}}function T7(t,e,n){let s=e.width,i=e.height,o=n.width,r=n.height;const a=getComputedStyle(t);if(a.getPropertyValue("box-sizing")==="content-box"){const c=zi(a.paddingTop)+zi(a.paddingBottom)+zi(a.borderTopWidth)+zi(a.borderBottomWidth),u=zi(a.paddingLeft)+zi(a.paddingRight)+zi(a.borderRightWidth)+zi(a.borderLeftWidth);s-=u,o-=u,i-=c,r-=c}return[s,o,i,r].map(Math.round)}function Cm(t){return Uo in t&&mc.has(t[Uo])?mc.get(t[Uo]):{duration:250,easing:"ease-in-out"}}function A7(t){if(Uo in t)return t[Uo]}function t2(t){const e=A7(t);return e?uu.has(e):!1}function M7(t,...e){e.forEach(n=>n(t,mc.has(t)));for(let n=0;n<t.children.length;n++){const s=t.children.item(n);s&&e.forEach(i=>i(s,mc.has(s)))}}function hbe(t){const e=Is.get(t),n=gc(t);if(!t2(t))return Is.set(t,n);let s;if(!e)return;const i=Cm(t);if(typeof i!="function"){const o=e.left-n.left,r=e.top-n.top,[a,l,c,u]=T7(t,e,n),d={transform:`translate(${o}px, ${r}px)`},h={transform:"translate(0, 0)"};a!==l&&(d.width=`${a}px`,h.width=`${l}px`),c!==u&&(d.height=`${c}px`,h.height=`${u}px`),s=t.animate([d,h],{duration:i.duration,easing:i.easing})}else s=new Animation(i(t,"remain",e,n)),s.play();Ba.set(t,s),Is.set(t,n),s.addEventListener("finish",nl.bind(null,t))}function fbe(t){const e=gc(t);Is.set(t,e);const n=Cm(t);if(!t2(t))return;let s;typeof n!="function"?s=t.animate([{transform:"scale(.98)",opacity:0},{transform:"scale(0.98)",opacity:0,offset:.5},{transform:"scale(1)",opacity:1}],{duration:n.duration*1.5,easing:"ease-in"}):(s=new Animation(n(t,"add",e)),s.play()),Ba.set(t,s),s.addEventListener("finish",nl.bind(null,t))}function pbe(t){var e;if(!Hl.has(t)||!Is.has(t))return;const[n,s]=Hl.get(t);Object.defineProperty(t,K_,{value:!0}),s&&s.parentNode&&s.parentNode instanceof Element?s.parentNode.insertBefore(t,s):n&&n.parentNode?n.parentNode.appendChild(t):(e=A7(t))===null||e===void 0||e.appendChild(t);function i(){var h;t.remove(),Is.delete(t),Hl.delete(t),Ba.delete(t),(h=Y_.get(t))===null||h===void 0||h.disconnect()}if(!t2(t))return i();const[o,r,a,l]=mbe(t),c=Cm(t),u=Is.get(t);let d;Object.assign(t.style,{position:"absolute",top:`${o}px`,left:`${r}px`,width:`${a}px`,height:`${l}px`,margin:0,pointerEvents:"none",transformOrigin:"center",zIndex:100}),typeof c!="function"?d=t.animate([{transform:"scale(1)",opacity:1},{transform:"scale(.98)",opacity:0}],{duration:c.duration,easing:"ease-out"}):(d=new Animation(c(t,"remove",u)),d.play()),Ba.set(t,d),d.addEventListener("finish",i)}function mbe(t){const e=Is.get(t),[n,,s]=T7(t,e,gc(t));let i=t.parentElement;for(;i&&(getComputedStyle(i).position==="static"||i instanceof HTMLBodyElement);)i=i.parentElement;i||(i=document.body);const o=getComputedStyle(i),r=Is.get(i)||gc(i),a=Math.round(e.top-r.top)-zi(o.borderTopWidth),l=Math.round(e.left-r.left)-zi(o.borderLeftWidth);return[a,l,n,s]}function gbe(t,e={}){return Z_&&Ml&&(window.matchMedia("(prefers-reduced-motion: reduce)").matches&&typeof e!="function"&&!e.disrespectUserMotionPreference||(uu.add(t),getComputedStyle(t).position==="static"&&Object.assign(t.style,{position:"relative"}),M7(t,nl,cbe,i=>Ml==null?void 0:Ml.observe(i)),typeof e=="function"?mc.set(t,e):mc.set(t,{duration:250,easing:"ease-in-out",...e}),Z_.observe(t,{childList:!0}),C7.add(t))),Object.freeze({parent:t,enable:()=>{uu.add(t)},disable:()=>{uu.delete(t)},isEnabled:()=>uu.has(t)})}const _be={mounted:(t,e)=>{gbe(t,e.value||{})}},vbe={install(t){t.directive("auto-animate",_be)}};function ybe(t){t.router&&$7.addRoute(t.router)}const Em=l5(sbe),bbe=Object.assign({"/src/modules/assigned-works/index.ts":rq,"/src/modules/auth/index.ts":hq,"/src/modules/calender/index.ts":MY,"/src/modules/course-students/index.ts":oZ,"/src/modules/courses/index.ts":nne,"/src/modules/create-course/index.ts":sie,"/src/modules/create-work/index.ts":hoe,"/src/modules/help/index.ts":Eoe,"/src/modules/nootube/index.ts":fre,"/src/modules/polls/index.ts":Qae,"/src/modules/profile/index.ts":Tme,"/src/modules/settings/index.ts":Wme,"/src/modules/students/index.ts":nge,"/src/modules/tables/index.ts":m1e,"/src/modules/users/index.ts":Pve,"/src/modules/works/index.ts":L0e});Object.values(bbe).forEach(t=>ybe(t));Em.use($7);Em.use(BT());Em.use(vbe);Em.mount("#root");export{ys as $,Sn as A,kE as B,D as C,Qo as D,xt as E,h_e as F,Kt as G,$n as H,Abe as I,S9 as J,Mbe as K,sS as L,ho as M,Gp as N,It as O,sr as P,_n as Q,ue as R,OS as S,g0 as T,zd as U,Be as V,Zo as W,Vn as X,Ht as Y,Xe as Z,J as _,b as a,Jd as a0,uJ as a1,zt as a2,Hv as a3,Lo as a4,Ci as a5,un as a6,E0 as a7,Ore as a8,vm as a9,sM as aA,oM as aB,Ov as aC,kZ as aD,$1e as aE,kv as aF,f5 as aG,Wo as aH,nr as aa,us as ab,li as ac,xJ as ad,dJ as ae,Ds as af,hn as ag,bc as ah,Wu as ai,wc as aj,gn as ak,h5 as al,Jx as am,lt as an,$c as ao,Ai as ap,Qa as aq,cs as ar,kn as as,bn as at,qa as au,La as av,Wa as aw,rM as ax,Qt as ay,iM as az,B as b,q as c,j as d,L as e,N as f,m as g,Nd as h,$ as i,E as j,Nye as k,Oe as l,$2e as m,vc as n,ri as o,Ie as p,it as q,Y as r,$e as s,Se as t,g as u,H as v,ke as w,Gt as x,W as y,jd as z};
