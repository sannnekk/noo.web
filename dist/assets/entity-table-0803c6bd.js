import{a as w,r as z,E,n as O,o as n,b as s,e as g,F as p,B as y,z as C,t as k,q,v as c,h,w as L,s as v,f as T,x as I,Z as K,D as S,$ as X,X as Z,a1 as A,m as G}from"./index-d3bd2430.js";import{u as J}from"./useDate-126c6fe0.js";const P={class:"entity-table-container"},Q={class:"entity-table"},R=["onClick"],U={key:1},W={key:0},Y=["innerHTML"],j={key:2},ee=["innerHTML"],ne=["innerHTML"],te={key:5},se={key:6},ae={key:7},ie={key:0,class:"entity-table__loading"},_e={class:"entity-table__loading__icon"},oe={key:1,class:"entity-table__empty-text"},re=w({__name:"entity-table",props:{cols:{},data:{},dateConfig:{},editable:{type:Boolean},isLoading:{type:Boolean}},emits:["remove","edit","select"],setup(ue,{emit:B}){function F(t,i){return t instanceof Function?!!t.call(void 0,i):!0}function l(t,i,_="value"){return d(t,_)instanceof Function?d(t,_).call(void 0,i):d(t,_)}function d(t,i){const _=i.split(".");let o=t;for(const u of _){if(typeof o>"u"||o===null)return"-";if(u==="each"){o=o.map(m=>m[_[_.indexOf("each")+1]]).join(", ");break}o=o[u]}return typeof o>"u"||o===null?"-":o}function x(t,i){if(i.value instanceof Function)return l(i,t);const _=i.keys,o=i.join||"<br>";return _.map(u=>d(t,u)).map((u,m)=>`<span class='entity-table__style-${i.style&&i.style.length?i.style[m]:"default"}'>${u}</span>`).join(o)}function D(t,i){if(i.value instanceof Function)return l(i,t);const _=i.keys,o=i.join||"<br>";return _.map(u=>d(t,u)!=="-"?J(d(t,u),{precision:"day"}).toBeautiful():"-").join(o)}const f=z({});return E(f,t=>{const i=Object.keys(t).filter(_=>t[_]);B("select",i)},{deep:!0}),(t,i)=>{const _=I,o=K,u=S,m=X,H=Z,M=A,N=O("auto-animate");return n(),s("div",P,[g("table",Q,[g("thead",null,[g("tr",null,[(n(!0),s(p,null,y(t.cols,(a,$)=>(n(),s("th",{class:C(`col-type-${a.type}`),key:$},k(a.title),3))),128))])]),q((n(),s("tbody",null,[t.isLoading?c("",!0):(n(!0),s(p,{key:0},y(t.data,(a,$)=>(n(),s("tr",{key:a.id},[(n(!0),s(p,null,y(t.cols,(e,b)=>(n(),s("td",{key:e.title,class:C(`col-type-${e.type}`)},[t.editable&&b===0?(n(),s("b",{key:0,class:C(["edit-checkbox",{"edit-checkbox--checked":f.value[a.id]}]),onClick:r=>f.value[a.id]=!f.value[a.id]},null,10,R)):c("",!0),(e.if||(()=>!0))(a)?(n(),s("span",U,[e.type==="iterator"?(n(),s("span",W,k($+1),1)):e.type==="text"?(n(),s("span",{key:1,innerHTML:x(a,e)},null,8,Y)):e.type==="link"?(n(),s("span",j,[e.value&&F(e.value,a)?(n(),h(_,{key:0,to:e.linkTo?l(e,a,"linkTo"):void 0,onClick:r=>l(e,a,"action"),design:e.design||"primary",alignment:"center"},{default:L(()=>[v(k(l(e,a)),1)]),_:2},1032,["to","onClick","design"])):e.keys&&e.keys.length&&e.keys.some(r=>a[r])?(n(!0),s(p,{key:1},y(e.keys,r=>(n(),h(_,{alignment:"center",design:e.design||"primary",to:l(e,a,"linkTo"),key:r},{default:L(()=>[v(k(a[r]),1)]),_:2},1032,["design","to"]))),128)):c("",!0)])):e.type==="tag"?(n(!0),s(p,{key:3},y(e.keys,(r,V)=>(n(),s("span",{key:V},[T(o,{class:"status-tag",type:e.tagFunction(r,a[r]).type},{default:L(()=>[v(k(e.tagFunction(r,a[r]).text),1)]),_:2},1032,["type"]),e.join?(n(),s("span",{key:0,innerHTML:e.join},null,8,ee)):c("",!0)]))),128)):e.type==="date"?(n(),s("span",{key:4,innerHTML:D(a,e)},null,8,ne)):e.type==="icon"?(n(),s("span",te,[e.value?(n(),h(u,{key:0,name:l(e,a)},null,8,["name"])):(n(!0),s(p,{key:1},y(e.keys,r=>(n(),h(u,{name:a[r]},null,8,["name"]))),256))])):e.type==="avatar"?(n(),s("span",se,[T(m,{src:a[e.keys[0]],name:a[e.keys[1]]},null,8,["src","name"])])):(n(),s("span",ae,"-"))])):c("",!0)],2))),128))]))),128))])),[[N]])]),t.isLoading?(n(),s("div",ie,[g("div",_e,[T(H,{contrast:""})])])):!t.data||!t.data.length?(n(),s("div",oe,[T(M,{class:"entity-table__empty-text__img"}),v(" Контент не найден ")])):c("",!0)])}}});const pe=G(re,[["__scopeId","data-v-bd412921"]]);export{pe as _};
