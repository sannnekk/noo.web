import{a as y,c as C,A as f,n as V,q as T,o as s,b as a,e as n,F as I,B as A,v as k,f as d,w as c,s as p,t as S,m as W,O as B,y as L,G as N,H as E,g as r,h as D,x as H,J as P,I as R,p as F,l as G}from"./index-d3bd2430.js";import{u as l}from"./create-work-b7458f88.js";const O={class:"task-list"},U={class:"task-list__items"},q={key:0,class:"task-list__add"},J=y({__name:"create-work-task-list",props:{modelValue:{},currentTaskId:{}},emits:["update:modelValue","create-task"],setup(e,{emit:t}){const m=e,w=C({get:()=>m.modelValue,set:i=>t("update:modelValue",i)});return(i,_)=>{const o=f("router-link"),v=V("auto-animate");return T((s(),a("div",O,[n("div",U,[(s(!0),a(I,null,A(w.value,(u,g)=>(s(),a("div",{class:"task-list__item",key:u.id},[d(o,{to:`/create-work${i.$route.params.workSlug}/${u.slug}`},{default:c(()=>[p(S(g+1),1)]),_:2},1032,["to"])]))),128))]),i.currentTaskId!=="new"?(s(),a("div",q,[n("span",{onClick:_[0]||(_[0]=u=>i.$emit("create-task"))}," + Добавить вопрос ")])):k("",!0)])),[[v]])}}});const K=W(J,[["__scopeId","data-v-5741acfa"]]),Y=[{keys:["Ctrl","Enter"],description:"Сохранить",shortcut:["Ctrl","Enter"],handler:()=>{l().submitWork()}},{keys:["Ctrl","n"],description:"Добавить задание",shortcut:["Ctrl","n"],handler:()=>{l().addTask()}},{keys:["Ctrl","g"],description:"Общая информация",shortcut:["Ctrl","g"],handler:()=>{l().showGeneralInfo()}},{keys:["Ctrl","ArrowLeft"],description:"Предыдущее задание",shortcut:["Ctrl","ArrowLeft"],handler:()=>{l().toPrevTask()}},{keys:["Ctrl","ArrowRight"],description:"Следующее задание",shortcut:["Ctrl","ArrowRight"],handler:()=>{l().toNextTask()}}],b=e=>(F("data-v-4757910f"),e=e(),G(),e),j={class:"index-create-work-view"},z={class:"index-create-work-view__sidebar"},M={key:0,class:"index-create-work-view__sidebar__workname"},Q=b(()=>n("h2",{class:"index-create-work-view__sidebar__title"},"Вопросы",-1)),X={class:"index-create-work-view__sidebar__general-info"},Z={class:"index-create-work-view__sidebar__list"},ee={key:1,class:"index-create-work-view__sidebar__create-button"},te=b(()=>n("br",null,null,-1)),se={key:2,class:"index-create-work-view__sidebar__attention"},oe={class:"index-create-work-view__content"},re=y({__name:"index-view",setup(e){const t=l(),m=B(),w=C(()=>m.params.taskId);t.fetchWork(),L("Создание/редактирование работы");const i=N(Y);return E(()=>i()),(_,o)=>{const v=f("router-link"),u=H,g=P,$=f("router-view"),x=R;return s(),a("div",j,[d(x,null,{sidebar:c(()=>[n("div",z,[r(t).work.name?(s(),a("h2",M,S(r(t).work.name),1)):k("",!0),Q,n("div",X,[d(v,{to:`/create-work${_.$route.params.workSlug}/general-info`},{default:c(()=>[p(" Общая информация ")]),_:1},8,["to"])]),n("div",Z,[d(K,{modelValue:r(t).work.tasks,"onUpdate:modelValue":o[0]||(o[0]=h=>r(t).work.tasks=h),"current-task-id":w.value,onCreateTask:o[1]||(o[1]=h=>r(t).addTask())},null,8,["modelValue","current-task-id"])]),r(t).work.tasks.length!==0?(s(),a("div",ee,[d(u,{design:"primary",onClick:o[2]||(o[2]=h=>r(t).submitWork())},{default:c(()=>[p(S(_.$route.params.workSlug&&_.$route.params.workSlug.length?"Обновить работу":"Опубликовать"),1)]),_:1})])):k("",!0),te,r(t).work.id?(s(),a("div",se,[d(g,null,{default:c(()=>[p(" При изменении работы будут изменены все её экземпляры, присвоенные ученикам ")]),_:1})])):k("",!0)])]),content:c(()=>[n("div",oe,[(s(),D($,{key:_.$route.fullPath}))])]),_:1})])}}});const ie=W(re,[["__scopeId","data-v-4757910f"]]);export{ie as default};
