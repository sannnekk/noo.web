var y8=Object.defineProperty;var w8=(t,e,n)=>e in t?y8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var P=(t,e,n)=>(w8(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function bp(t,e){const n=Object.create(null),s=t.split(",");for(let i=0;i<s.length;i++)n[s[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const _t={},br=[],ns=()=>{},x8=()=>!1,k8=/^on[^a-z]/,Iu=t=>k8.test(t),yp=t=>t.startsWith("onUpdate:"),Ot=Object.assign,wp=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},S8=Object.prototype.hasOwnProperty,et=(t,e)=>S8.call(t,e),Ae=Array.isArray,yr=t=>El(t)==="[object Map]",jr=t=>El(t)==="[object Set]",am=t=>El(t)==="[object Date]",Ve=t=>typeof t=="function",kt=t=>typeof t=="string",el=t=>typeof t=="symbol",ht=t=>t!==null&&typeof t=="object",Q0=t=>ht(t)&&Ve(t.then)&&Ve(t.catch),e2=Object.prototype.toString,El=t=>e2.call(t),$8=t=>El(t).slice(8,-1),t2=t=>El(t)==="[object Object]",xp=t=>kt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Fc=bp(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ru=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},C8=/-(\w)/g,Ls=Ru(t=>t.replace(C8,(e,n)=>n?n.toUpperCase():"")),A8=/\B([A-Z])/g,zo=Ru(t=>t.replace(A8,"-$1").toLowerCase()),Pu=Ru(t=>t.charAt(0).toUpperCase()+t.slice(1)),dh=Ru(t=>t?`on${Pu(t)}`:""),tl=(t,e)=>!Object.is(t,e),qc=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},uu=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},du=t=>{const e=parseFloat(t);return isNaN(e)?t:e},M8=t=>{const e=kt(t)?Number(t):NaN;return isNaN(e)?t:e};let lm;const Qh=()=>lm||(lm=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function wn(t){if(Ae(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],i=kt(s)?O8(s):wn(s);if(i)for(const o in i)e[o]=i[o]}return e}else{if(kt(t))return t;if(ht(t))return t}}const E8=/;(?![^(]*\))/g,T8=/:([^]+)/,L8=/\/\*[^]*?\*\//g;function O8(t){const e={};return t.replace(L8,"").split(E8).forEach(n=>{if(n){const s=n.split(T8);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function _e(t){let e="";if(kt(t))e=t;else if(Ae(t))for(let n=0;n<t.length;n++){const s=_e(t[n]);s&&(e+=s+" ")}else if(ht(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function D8(t){if(!t)return null;let{class:e,style:n}=t;return e&&!kt(e)&&(t.class=_e(e)),n&&(t.style=wn(n)),t}const I8="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",R8=bp(I8);function n2(t){return!!t||t===""}function P8(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=Eo(t[s],e[s]);return n}function Eo(t,e){if(t===e)return!0;let n=am(t),s=am(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=el(t),s=el(e),n||s)return t===e;if(n=Ae(t),s=Ae(e),n||s)return n&&s?P8(t,e):!1;if(n=ht(t),s=ht(e),n||s){if(!n||!s)return!1;const i=Object.keys(t).length,o=Object.keys(e).length;if(i!==o)return!1;for(const r in t){const a=t.hasOwnProperty(r),l=e.hasOwnProperty(r);if(a&&!l||!a&&l||!Eo(t[r],e[r]))return!1}}return String(t)===String(e)}function kp(t,e){return t.findIndex(n=>Eo(n,e))}const F=t=>kt(t)?t:t==null?"":Ae(t)||ht(t)&&(t.toString===e2||!Ve(t.toString))?JSON.stringify(t,s2,2):String(t),s2=(t,e)=>e&&e.__v_isRef?s2(t,e.value):yr(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,i])=>(n[`${s} =>`]=i,n),{})}:jr(e)?{[`Set(${e.size})`]:[...e.values()]}:ht(e)&&!Ae(e)&&!t2(e)?String(e):e;let Mn;class i2{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Mn,!e&&Mn&&(this.index=(Mn.scopes||(Mn.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Mn;try{return Mn=this,e()}finally{Mn=n}}}on(){Mn=this}off(){Mn=this.parent}stop(e){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function o2(t){return new i2(t)}function N8(t,e=Mn){e&&e.active&&e.effects.push(t)}function r2(){return Mn}function V8(t){Mn&&Mn.cleanups.push(t)}const Sp=t=>{const e=new Set(t);return e.w=0,e.n=0,e},a2=t=>(t.w&Fi)>0,l2=t=>(t.n&Fi)>0,z8=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Fi},B8=t=>{const{deps:e}=t;if(e.length){let n=0;for(let s=0;s<e.length;s++){const i=e[s];a2(i)&&!l2(i)?i.delete(t):e[n++]=i,i.w&=~Fi,i.n&=~Fi}e.length=n}},hu=new WeakMap;let ka=0,Fi=1;const ef=30;let Zn;const So=Symbol(""),tf=Symbol("");class $p{constructor(e,n=null,s){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,N8(this,s)}run(){if(!this.active)return this.fn();let e=Zn,n=Ni;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Zn,Zn=this,Ni=!0,Fi=1<<++ka,ka<=ef?z8(this):cm(this),this.fn()}finally{ka<=ef&&B8(this),Fi=1<<--ka,Zn=this.parent,Ni=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Zn===this?this.deferStop=!0:this.active&&(cm(this),this.onStop&&this.onStop(),this.active=!1)}}function cm(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let Ni=!0;const c2=[];function Hr(){c2.push(Ni),Ni=!1}function Yr(){const t=c2.pop();Ni=t===void 0?!0:t}function xn(t,e,n){if(Ni&&Zn){let s=hu.get(t);s||hu.set(t,s=new Map);let i=s.get(n);i||s.set(n,i=Sp()),u2(i)}}function u2(t,e){let n=!1;ka<=ef?l2(t)||(t.n|=Fi,n=!a2(t)):n=!t.has(Zn),n&&(t.add(Zn),Zn.deps.push(t))}function ii(t,e,n,s,i,o){const r=hu.get(t);if(!r)return;let a=[];if(e==="clear")a=[...r.values()];else if(n==="length"&&Ae(t)){const l=Number(s);r.forEach((c,u)=>{(u==="length"||u>=l)&&a.push(c)})}else switch(n!==void 0&&a.push(r.get(n)),e){case"add":Ae(t)?xp(n)&&a.push(r.get("length")):(a.push(r.get(So)),yr(t)&&a.push(r.get(tf)));break;case"delete":Ae(t)||(a.push(r.get(So)),yr(t)&&a.push(r.get(tf)));break;case"set":yr(t)&&a.push(r.get(So));break}if(a.length===1)a[0]&&nf(a[0]);else{const l=[];for(const c of a)c&&l.push(...c);nf(Sp(l))}}function nf(t,e){const n=Ae(t)?t:[...t];for(const s of n)s.computed&&um(s);for(const s of n)s.computed||um(s)}function um(t,e){(t!==Zn||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function U8(t,e){var n;return(n=hu.get(t))==null?void 0:n.get(e)}const F8=bp("__proto__,__v_isRef,__isVue"),d2=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(el)),q8=Cp(),W8=Cp(!1,!0),j8=Cp(!0),dm=H8();function H8(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const s=Je(this);for(let o=0,r=this.length;o<r;o++)xn(s,"get",o+"");const i=s[e](...n);return i===-1||i===!1?s[e](...n.map(Je)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Hr();const s=Je(this)[e].apply(this,n);return Yr(),s}}),t}function Y8(t){const e=Je(this);return xn(e,"has",t),e.hasOwnProperty(t)}function Cp(t=!1,e=!1){return function(s,i,o){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&o===(t?e?c4:g2:e?m2:p2).get(s))return s;const r=Ae(s);if(!t){if(r&&et(dm,i))return Reflect.get(dm,i,o);if(i==="hasOwnProperty")return Y8}const a=Reflect.get(s,i,o);return(el(i)?d2.has(i):F8(i))||(t||xn(s,"get",i),e)?a:At(a)?r&&xp(i)?a:a.value:ht(a)?t?v2(a):Gt(a):a}}const K8=h2(),X8=h2(!0);function h2(t=!1){return function(n,s,i,o){let r=n[s];if(Cr(r)&&At(r)&&!At(i))return!1;if(!t&&(!fu(i)&&!Cr(i)&&(r=Je(r),i=Je(i)),!Ae(n)&&At(r)&&!At(i)))return r.value=i,!0;const a=Ae(n)&&xp(s)?Number(s)<n.length:et(n,s),l=Reflect.set(n,s,i,o);return n===Je(o)&&(a?tl(i,r)&&ii(n,"set",s,i):ii(n,"add",s,i)),l}}function G8(t,e){const n=et(t,e);t[e];const s=Reflect.deleteProperty(t,e);return s&&n&&ii(t,"delete",e,void 0),s}function J8(t,e){const n=Reflect.has(t,e);return(!el(e)||!d2.has(e))&&xn(t,"has",e),n}function Z8(t){return xn(t,"iterate",Ae(t)?"length":So),Reflect.ownKeys(t)}const f2={get:q8,set:K8,deleteProperty:G8,has:J8,ownKeys:Z8},Q8={get:j8,set(t,e){return!0},deleteProperty(t,e){return!0}},e4=Ot({},f2,{get:W8,set:X8}),Ap=t=>t,Nu=t=>Reflect.getPrototypeOf(t);function oc(t,e,n=!1,s=!1){t=t.__v_raw;const i=Je(t),o=Je(e);n||(e!==o&&xn(i,"get",e),xn(i,"get",o));const{has:r}=Nu(i),a=s?Ap:n?Tp:nl;if(r.call(i,e))return a(t.get(e));if(r.call(i,o))return a(t.get(o));t!==i&&t.get(e)}function rc(t,e=!1){const n=this.__v_raw,s=Je(n),i=Je(t);return e||(t!==i&&xn(s,"has",t),xn(s,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function ac(t,e=!1){return t=t.__v_raw,!e&&xn(Je(t),"iterate",So),Reflect.get(t,"size",t)}function hm(t){t=Je(t);const e=Je(this);return Nu(e).has.call(e,t)||(e.add(t),ii(e,"add",t,t)),this}function fm(t,e){e=Je(e);const n=Je(this),{has:s,get:i}=Nu(n);let o=s.call(n,t);o||(t=Je(t),o=s.call(n,t));const r=i.call(n,t);return n.set(t,e),o?tl(e,r)&&ii(n,"set",t,e):ii(n,"add",t,e),this}function pm(t){const e=Je(this),{has:n,get:s}=Nu(e);let i=n.call(e,t);i||(t=Je(t),i=n.call(e,t)),s&&s.call(e,t);const o=e.delete(t);return i&&ii(e,"delete",t,void 0),o}function mm(){const t=Je(this),e=t.size!==0,n=t.clear();return e&&ii(t,"clear",void 0,void 0),n}function lc(t,e){return function(s,i){const o=this,r=o.__v_raw,a=Je(r),l=e?Ap:t?Tp:nl;return!t&&xn(a,"iterate",So),r.forEach((c,u)=>s.call(i,l(c),l(u),o))}}function cc(t,e,n){return function(...s){const i=this.__v_raw,o=Je(i),r=yr(o),a=t==="entries"||t===Symbol.iterator&&r,l=t==="keys"&&r,c=i[t](...s),u=n?Ap:e?Tp:nl;return!e&&xn(o,"iterate",l?tf:So),{next(){const{value:d,done:h}=c.next();return h?{value:d,done:h}:{value:a?[u(d[0]),u(d[1])]:u(d),done:h}},[Symbol.iterator](){return this}}}}function yi(t){return function(...e){return t==="delete"?!1:this}}function t4(){const t={get(o){return oc(this,o)},get size(){return ac(this)},has:rc,add:hm,set:fm,delete:pm,clear:mm,forEach:lc(!1,!1)},e={get(o){return oc(this,o,!1,!0)},get size(){return ac(this)},has:rc,add:hm,set:fm,delete:pm,clear:mm,forEach:lc(!1,!0)},n={get(o){return oc(this,o,!0)},get size(){return ac(this,!0)},has(o){return rc.call(this,o,!0)},add:yi("add"),set:yi("set"),delete:yi("delete"),clear:yi("clear"),forEach:lc(!0,!1)},s={get(o){return oc(this,o,!0,!0)},get size(){return ac(this,!0)},has(o){return rc.call(this,o,!0)},add:yi("add"),set:yi("set"),delete:yi("delete"),clear:yi("clear"),forEach:lc(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=cc(o,!1,!1),n[o]=cc(o,!0,!1),e[o]=cc(o,!1,!0),s[o]=cc(o,!0,!0)}),[t,n,e,s]}const[n4,s4,i4,o4]=t4();function Mp(t,e){const n=e?t?o4:i4:t?s4:n4;return(s,i,o)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?s:Reflect.get(et(n,i)&&i in s?n:s,i,o)}const r4={get:Mp(!1,!1)},a4={get:Mp(!1,!0)},l4={get:Mp(!0,!1)},p2=new WeakMap,m2=new WeakMap,g2=new WeakMap,c4=new WeakMap;function u4(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function d4(t){return t.__v_skip||!Object.isExtensible(t)?0:u4($8(t))}function Gt(t){return Cr(t)?t:Ep(t,!1,f2,r4,p2)}function _2(t){return Ep(t,!1,e4,a4,m2)}function v2(t){return Ep(t,!0,Q8,l4,g2)}function Ep(t,e,n,s,i){if(!ht(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=i.get(t);if(o)return o;const r=d4(t);if(r===0)return t;const a=new Proxy(t,r===2?s:n);return i.set(t,a),a}function Vi(t){return Cr(t)?Vi(t.__v_raw):!!(t&&t.__v_isReactive)}function Cr(t){return!!(t&&t.__v_isReadonly)}function fu(t){return!!(t&&t.__v_isShallow)}function b2(t){return Vi(t)||Cr(t)}function Je(t){const e=t&&t.__v_raw;return e?Je(e):t}function Vu(t){return uu(t,"__v_skip",!0),t}const nl=t=>ht(t)?Gt(t):t,Tp=t=>ht(t)?v2(t):t;function y2(t){Ni&&Zn&&(t=Je(t),u2(t.dep||(t.dep=Sp())))}function w2(t,e){t=Je(t);const n=t.dep;n&&nf(n)}function At(t){return!!(t&&t.__v_isRef===!0)}function J(t){return x2(t,!1)}function Tl(t){return x2(t,!0)}function x2(t,e){return At(t)?t:new h4(t,e)}class h4{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Je(e),this._value=n?e:nl(e)}get value(){return y2(this),this._value}set value(e){const n=this.__v_isShallow||fu(e)||Cr(e);e=n?e:Je(e),tl(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:nl(e),w2(this))}}function v(t){return At(t)?t.value:t}const f4={get:(t,e,n)=>v(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const i=t[e];return At(i)&&!At(n)?(i.value=n,!0):Reflect.set(t,e,n,s)}};function k2(t){return Vi(t)?t:new Proxy(t,f4)}function p4(t){const e=Ae(t)?new Array(t.length):{};for(const n in t)e[n]=g4(t,n);return e}class m4{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return U8(Je(this._object),this._key)}}function g4(t,e,n){const s=t[e];return At(s)?s:new m4(t,e,n)}class _4{constructor(e,n,s,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new $p(e,()=>{this._dirty||(this._dirty=!0,w2(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=s}get value(){const e=Je(this);return y2(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function v4(t,e,n=!1){let s,i;const o=Ve(t);return o?(s=t,i=ns):(s=t.get,i=t.set),new _4(s,i,o||!i,n)}function zi(t,e,n,s){let i;try{i=s?t(...s):t()}catch(o){zu(o,e,n)}return i}function Fn(t,e,n,s){if(Ve(t)){const o=zi(t,e,n,s);return o&&Q0(o)&&o.catch(r=>{zu(r,e,n)}),o}const i=[];for(let o=0;o<t.length;o++)i.push(Fn(t[o],e,n,s));return i}function zu(t,e,n,s=!0){const i=e?e.vnode:null;if(e){let o=e.parent;const r=e.proxy,a=n;for(;o;){const c=o.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](t,r,a)===!1)return}o=o.parent}const l=e.appContext.config.errorHandler;if(l){zi(l,null,10,[t,r,a]);return}}b4(t,n,i,s)}function b4(t,e,n,s=!0){console.error(t)}let sl=!1,sf=!1;const nn=[];let $s=0;const wr=[];let Xs=null,bo=0;const S2=Promise.resolve();let Lp=null;function Op(t){const e=Lp||S2;return t?e.then(this?t.bind(this):t):e}function y4(t){let e=$s+1,n=nn.length;for(;e<n;){const s=e+n>>>1;il(nn[s])<t?e=s+1:n=s}return e}function Dp(t){(!nn.length||!nn.includes(t,sl&&t.allowRecurse?$s+1:$s))&&(t.id==null?nn.push(t):nn.splice(y4(t.id),0,t),$2())}function $2(){!sl&&!sf&&(sf=!0,Lp=S2.then(A2))}function w4(t){const e=nn.indexOf(t);e>$s&&nn.splice(e,1)}function x4(t){Ae(t)?wr.push(...t):(!Xs||!Xs.includes(t,t.allowRecurse?bo+1:bo))&&wr.push(t),$2()}function gm(t,e=sl?$s+1:0){for(;e<nn.length;e++){const n=nn[e];n&&n.pre&&(nn.splice(e,1),e--,n())}}function C2(t){if(wr.length){const e=[...new Set(wr)];if(wr.length=0,Xs){Xs.push(...e);return}for(Xs=e,Xs.sort((n,s)=>il(n)-il(s)),bo=0;bo<Xs.length;bo++)Xs[bo]();Xs=null,bo=0}}const il=t=>t.id==null?1/0:t.id,k4=(t,e)=>{const n=il(t)-il(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function A2(t){sf=!1,sl=!0,nn.sort(k4);const e=ns;try{for($s=0;$s<nn.length;$s++){const n=nn[$s];n&&n.active!==!1&&zi(n,null,14)}}finally{$s=0,nn.length=0,C2(),sl=!1,Lp=null,(nn.length||wr.length)&&A2()}}function S4(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||_t;let i=n;const o=e.startsWith("update:"),r=o&&e.slice(7);if(r&&r in s){const u=`${r==="modelValue"?"model":r}Modifiers`,{number:d,trim:h}=s[u]||_t;h&&(i=n.map(f=>kt(f)?f.trim():f)),d&&(i=n.map(du))}let a,l=s[a=dh(e)]||s[a=dh(Ls(e))];!l&&o&&(l=s[a=dh(zo(e))]),l&&Fn(l,t,6,i);const c=s[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Fn(c,t,6,i)}}function M2(t,e,n=!1){const s=e.emitsCache,i=s.get(t);if(i!==void 0)return i;const o=t.emits;let r={},a=!1;if(!Ve(t)){const l=c=>{const u=M2(c,e,!0);u&&(a=!0,Ot(r,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!o&&!a?(ht(t)&&s.set(t,null),null):(Ae(o)?o.forEach(l=>r[l]=null):Ot(r,o),ht(t)&&s.set(t,r),r)}function Bu(t,e){return!t||!Iu(e)?!1:(e=e.slice(2).replace(/Once$/,""),et(t,e[0].toLowerCase()+e.slice(1))||et(t,zo(e))||et(t,e))}let Ut=null,Uu=null;function pu(t){const e=Ut;return Ut=t,Uu=t&&t.type.__scopeId||null,e}function Re(t){Uu=t}function Pe(){Uu=null}function V(t,e=Ut,n){if(!e||t._n)return t;const s=(...i)=>{s._d&&Ar(-1);const o=pu(e);let r;try{r=t(...i)}finally{pu(o),s._d&&Ar(1)}return r};return s._n=!0,s._c=!0,s._d=!0,s}function hh(t){const{type:e,vnode:n,proxy:s,withProxy:i,props:o,propsOptions:[r],slots:a,attrs:l,emit:c,render:u,renderCache:d,data:h,setupState:f,ctx:p,inheritAttrs:g}=t;let _,b;const x=pu(t);try{if(n.shapeFlag&4){const S=i||s;_=xs(u.call(S,S,d,o,f,h,p)),b=l}else{const S=e;_=xs(S.length>1?S(o,{attrs:l,slots:a,emit:c}):S(o,null)),b=e.props?l:$4(l)}}catch(S){Pa.length=0,zu(S,t,1),_=A(Wn)}let $=_;if(b&&g!==!1){const S=Object.keys(b),{shapeFlag:C}=$;S.length&&C&7&&(r&&S.some(yp)&&(b=C4(b,r)),$=qi($,b))}return n.dirs&&($=qi($),$.dirs=$.dirs?$.dirs.concat(n.dirs):n.dirs),n.transition&&($.transition=n.transition),_=$,pu(x),_}const $4=t=>{let e;for(const n in t)(n==="class"||n==="style"||Iu(n))&&((e||(e={}))[n]=t[n]);return e},C4=(t,e)=>{const n={};for(const s in t)(!yp(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function A4(t,e,n){const{props:s,children:i,component:o}=t,{props:r,children:a,patchFlag:l}=e,c=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?_m(s,r,c):!!r;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const h=u[d];if(r[h]!==s[h]&&!Bu(c,h))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:s===r?!1:s?r?_m(s,r,c):!0:!!r;return!1}function _m(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let i=0;i<s.length;i++){const o=s[i];if(e[o]!==t[o]&&!Bu(n,o))return!0}return!1}function M4({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const E4=t=>t.__isSuspense;function T4(t,e){e&&e.pendingBranch?Ae(t)?e.effects.push(...t):e.effects.push(t):x4(t)}function E2(t,e){return Ip(t,null,e)}const uc={};function We(t,e,n){return Ip(t,e,n)}function Ip(t,e,{immediate:n,deep:s,flush:i,onTrack:o,onTrigger:r}=_t){var a;const l=r2()===((a=Nt)==null?void 0:a.scope)?Nt:null;let c,u=!1,d=!1;if(At(t)?(c=()=>t.value,u=fu(t)):Vi(t)?(c=()=>t,s=!0):Ae(t)?(d=!0,u=t.some(S=>Vi(S)||fu(S)),c=()=>t.map(S=>{if(At(S))return S.value;if(Vi(S))return xo(S);if(Ve(S))return zi(S,l,2)})):Ve(t)?e?c=()=>zi(t,l,2):c=()=>{if(!(l&&l.isUnmounted))return h&&h(),Fn(t,l,3,[f])}:c=ns,e&&s){const S=c;c=()=>xo(S())}let h,f=S=>{h=x.onStop=()=>{zi(S,l,4)}},p;if(al)if(f=ns,e?n&&Fn(e,l,3,[c(),d?[]:void 0,f]):c(),i==="sync"){const S=S5();p=S.__watcherHandles||(S.__watcherHandles=[])}else return ns;let g=d?new Array(t.length).fill(uc):uc;const _=()=>{if(x.active)if(e){const S=x.run();(s||u||(d?S.some((C,T)=>tl(C,g[T])):tl(S,g)))&&(h&&h(),Fn(e,l,3,[S,g===uc?void 0:d&&g[0]===uc?[]:g,f]),g=S)}else x.run()};_.allowRecurse=!!e;let b;i==="sync"?b=_:i==="post"?b=()=>_n(_,l&&l.suspense):(_.pre=!0,l&&(_.id=l.uid),b=()=>Dp(_));const x=new $p(c,b);e?n?_():g=x.run():i==="post"?_n(x.run.bind(x),l&&l.suspense):x.run();const $=()=>{x.stop(),l&&l.scope&&wp(l.scope.effects,x)};return p&&p.push($),$}function L4(t,e,n){const s=this.proxy,i=kt(t)?t.includes(".")?T2(s,t):()=>s[t]:t.bind(s,s);let o;Ve(e)?o=e:(o=e.handler,n=e);const r=Nt;Mr(this);const a=Ip(i,o.bind(s),n);return r?Mr(r):$o(),a}function T2(t,e){const n=e.split(".");return()=>{let s=t;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}function xo(t,e){if(!ht(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),At(t))xo(t.value,e);else if(Ae(t))for(let n=0;n<t.length;n++)xo(t[n],e);else if(jr(t)||yr(t))t.forEach(n=>{xo(n,e)});else if(t2(t))for(const n in t)xo(t[n],e);return t}function Ee(t,e){const n=Ut;if(n===null)return t;const s=Hu(n)||n.proxy,i=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[r,a,l,c=_t]=e[o];r&&(Ve(r)&&(r={mounted:r,updated:r}),r.deep&&xo(a),i.push({dir:r,instance:s,value:a,oldValue:void 0,arg:l,modifiers:c}))}return t}function ro(t,e,n,s){const i=t.dirs,o=e&&e.dirs;for(let r=0;r<i.length;r++){const a=i[r];o&&(a.oldValue=o[r].value);let l=a.dir[s];l&&(Hr(),Fn(l,n,8,[t.el,a,t,e]),Yr())}}function O4(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Bo(()=>{t.isMounted=!0}),Rp(()=>{t.isUnmounting=!0}),t}const In=[Function,Array],L2={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:In,onEnter:In,onAfterEnter:In,onEnterCancelled:In,onBeforeLeave:In,onLeave:In,onAfterLeave:In,onLeaveCancelled:In,onBeforeAppear:In,onAppear:In,onAfterAppear:In,onAppearCancelled:In},D4={name:"BaseTransition",props:L2,setup(t,{slots:e}){const n=g5(),s=O4();let i;return()=>{const o=e.default&&D2(e.default(),!0);if(!o||!o.length)return;let r=o[0];if(o.length>1){for(const g of o)if(g.type!==Wn){r=g;break}}const a=Je(t),{mode:l}=a;if(s.isLeaving)return fh(r);const c=vm(r);if(!c)return fh(r);const u=of(c,a,s,n);rf(c,u);const d=n.subTree,h=d&&vm(d);let f=!1;const{getTransitionKey:p}=c.type;if(p){const g=p();i===void 0?i=g:g!==i&&(i=g,f=!0)}if(h&&h.type!==Wn&&(!yo(c,h)||f)){const g=of(h,a,s,n);if(rf(h,g),l==="out-in")return s.isLeaving=!0,g.afterLeave=()=>{s.isLeaving=!1,n.update.active!==!1&&n.update()},fh(r);l==="in-out"&&c.type!==Wn&&(g.delayLeave=(_,b,x)=>{const $=O2(s,h);$[String(h.key)]=h,_._leaveCb=()=>{b(),_._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=x})}return r}}},I4=D4;function O2(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function of(t,e,n,s){const{appear:i,mode:o,persisted:r=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:d,onLeave:h,onAfterLeave:f,onLeaveCancelled:p,onBeforeAppear:g,onAppear:_,onAfterAppear:b,onAppearCancelled:x}=e,$=String(t.key),S=O2(n,t),C=(E,q)=>{E&&Fn(E,s,9,q)},T=(E,q)=>{const ee=q[1];C(E,q),Ae(E)?E.every(ie=>ie.length<=1)&&ee():E.length<=1&&ee()},L={mode:o,persisted:r,beforeEnter(E){let q=a;if(!n.isMounted)if(i)q=g||a;else return;E._leaveCb&&E._leaveCb(!0);const ee=S[$];ee&&yo(t,ee)&&ee.el._leaveCb&&ee.el._leaveCb(),C(q,[E])},enter(E){let q=l,ee=c,ie=u;if(!n.isMounted)if(i)q=_||l,ee=b||c,ie=x||u;else return;let X=!1;const R=E._enterCb=j=>{X||(X=!0,j?C(ie,[E]):C(ee,[E]),L.delayedLeave&&L.delayedLeave(),E._enterCb=void 0)};q?T(q,[E,R]):R()},leave(E,q){const ee=String(t.key);if(E._enterCb&&E._enterCb(!0),n.isUnmounting)return q();C(d,[E]);let ie=!1;const X=E._leaveCb=R=>{ie||(ie=!0,q(),R?C(p,[E]):C(f,[E]),E._leaveCb=void 0,S[ee]===t&&delete S[ee])};S[ee]=t,h?T(h,[E,X]):X()},clone(E){return of(E,e,n,s)}};return L}function fh(t){if(Fu(t))return t=qi(t),t.children=null,t}function vm(t){return Fu(t)?t.children?t.children[0]:void 0:t}function rf(t,e){t.shapeFlag&6&&t.component?rf(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function D2(t,e=!1,n){let s=[],i=0;for(let o=0;o<t.length;o++){let r=t[o];const a=n==null?r.key:String(n)+String(r.key!=null?r.key:o);r.type===he?(r.patchFlag&128&&i++,s=s.concat(D2(r.children,e,a))):(e||r.type!==Wn)&&s.push(a!=null?qi(r,{key:a}):r)}if(i>1)for(let o=0;o<s.length;o++)s[o].patchFlag=-2;return s}function H(t,e){return Ve(t)?(()=>Ot({name:t.name},e,{setup:t}))():t}const Da=t=>!!t.type.__asyncLoader,Fu=t=>t.type.__isKeepAlive;function R4(t,e){I2(t,"a",e)}function P4(t,e){I2(t,"da",e)}function I2(t,e,n=Nt){const s=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(qu(e,s,n),n){let i=n.parent;for(;i&&i.parent;)Fu(i.parent.vnode)&&N4(s,e,n,i),i=i.parent}}function N4(t,e,n,s){const i=qu(e,t,s,!0);Ki(()=>{wp(s[e],i)},n)}function qu(t,e,n=Nt,s=!1){if(n){const i=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...r)=>{if(n.isUnmounted)return;Hr(),Mr(n);const a=Fn(e,n,t,r);return $o(),Yr(),a});return s?i.unshift(o):i.push(o),o}}const ci=t=>(e,n=Nt)=>(!al||t==="sp")&&qu(t,(...s)=>e(...s),n),R2=ci("bm"),Bo=ci("m"),V4=ci("bu"),P2=ci("u"),Rp=ci("bum"),Ki=ci("um"),z4=ci("sp"),B4=ci("rtg"),U4=ci("rtc");function F4(t,e=Nt){qu("ec",t,e)}const Pp="components",q4="directives";function De(t,e){return Np(Pp,t,!0,e)||t}const N2=Symbol.for("v-ndc");function On(t){return kt(t)?Np(Pp,t,!1)||t:t||N2}function it(t){return Np(q4,t)}function Np(t,e,n=!0,s=!1){const i=Ut||Nt;if(i){const o=i.type;if(t===Pp){const a=w5(o,!1);if(a&&(a===e||a===Ls(e)||a===Pu(Ls(e))))return o}const r=bm(i[t]||o[t],e)||bm(i.appContext[t],e);return!r&&s?o:r}}function bm(t,e){return t&&(t[e]||t[Ls(e)]||t[Pu(Ls(e))])}function Le(t,e,n,s){let i;const o=n&&n[s];if(Ae(t)||kt(t)){i=new Array(t.length);for(let r=0,a=t.length;r<a;r++)i[r]=e(t[r],r,void 0,o&&o[r])}else if(typeof t=="number"){i=new Array(t);for(let r=0;r<t;r++)i[r]=e(r+1,r,void 0,o&&o[r])}else if(ht(t))if(t[Symbol.iterator])i=Array.from(t,(r,a)=>e(r,a,void 0,o&&o[a]));else{const r=Object.keys(t);i=new Array(r.length);for(let a=0,l=r.length;a<l;a++){const c=r[a];i[a]=e(t[c],c,a,o&&o[a])}}else i=[];return n&&(n[s]=i),i}function Ge(t,e,n={},s,i){if(Ut.isCE||Ut.parent&&Da(Ut.parent)&&Ut.parent.isCE)return e!=="default"&&(n.name=e),A("slot",n,s&&s());let o=t[e];o&&o._c&&(o._d=!1),w();const r=o&&V2(o(n)),a=U(he,{key:n.key||r&&r.key||`_${e}`},r||(s?s():[]),r&&t._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function V2(t){return t.some(e=>gu(e)?!(e.type===Wn||e.type===he&&!V2(e.children)):!0)?t:null}const af=t=>t?G2(t)?Hu(t)||t.proxy:af(t.parent):null,Ia=Ot(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>af(t.parent),$root:t=>af(t.root),$emit:t=>t.emit,$options:t=>Vp(t),$forceUpdate:t=>t.f||(t.f=()=>Dp(t.update)),$nextTick:t=>t.n||(t.n=Op.bind(t.proxy)),$watch:t=>L4.bind(t)}),ph=(t,e)=>t!==_t&&!t.__isScriptSetup&&et(t,e),W4={get({_:t},e){const{ctx:n,setupState:s,data:i,props:o,accessCache:r,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const f=r[e];if(f!==void 0)switch(f){case 1:return s[e];case 2:return i[e];case 4:return n[e];case 3:return o[e]}else{if(ph(s,e))return r[e]=1,s[e];if(i!==_t&&et(i,e))return r[e]=2,i[e];if((c=t.propsOptions[0])&&et(c,e))return r[e]=3,o[e];if(n!==_t&&et(n,e))return r[e]=4,n[e];lf&&(r[e]=0)}}const u=Ia[e];let d,h;if(u)return e==="$attrs"&&xn(t,"get",e),u(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==_t&&et(n,e))return r[e]=4,n[e];if(h=l.config.globalProperties,et(h,e))return h[e]},set({_:t},e,n){const{data:s,setupState:i,ctx:o}=t;return ph(i,e)?(i[e]=n,!0):s!==_t&&et(s,e)?(s[e]=n,!0):et(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:i,propsOptions:o}},r){let a;return!!n[r]||t!==_t&&et(t,r)||ph(e,r)||(a=o[0])&&et(a,r)||et(s,r)||et(Ia,r)||et(i.config.globalProperties,r)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:et(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function ym(t){return Ae(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let lf=!0;function j4(t){const e=Vp(t),n=t.proxy,s=t.ctx;lf=!1,e.beforeCreate&&wm(e.beforeCreate,t,"bc");const{data:i,computed:o,methods:r,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:h,beforeUpdate:f,updated:p,activated:g,deactivated:_,beforeDestroy:b,beforeUnmount:x,destroyed:$,unmounted:S,render:C,renderTracked:T,renderTriggered:L,errorCaptured:E,serverPrefetch:q,expose:ee,inheritAttrs:ie,components:X,directives:R,filters:j}=e;if(c&&H4(c,s,null),r)for(const pe in r){const Se=r[pe];Ve(Se)&&(s[pe]=Se.bind(n))}if(i){const pe=i.call(n,n);ht(pe)&&(t.data=Gt(pe))}if(lf=!0,o)for(const pe in o){const Se=o[pe],qe=Ve(Se)?Se.bind(n,n):Ve(Se.get)?Se.get.bind(n,n):ns,le=!Ve(Se)&&Ve(Se.set)?Se.set.bind(n):ns,ze=W({get:qe,set:le});Object.defineProperty(s,pe,{enumerable:!0,configurable:!0,get:()=>ze.value,set:Ze=>ze.value=Ze})}if(a)for(const pe in a)z2(a[pe],s,n,pe);if(l){const pe=Ve(l)?l.call(n):l;Reflect.ownKeys(pe).forEach(Se=>{Wc(Se,pe[Se])})}u&&wm(u,t,"c");function oe(pe,Se){Ae(Se)?Se.forEach(qe=>pe(qe.bind(n))):Se&&pe(Se.bind(n))}if(oe(R2,d),oe(Bo,h),oe(V4,f),oe(P2,p),oe(R4,g),oe(P4,_),oe(F4,E),oe(U4,T),oe(B4,L),oe(Rp,x),oe(Ki,S),oe(z4,q),Ae(ee))if(ee.length){const pe=t.exposed||(t.exposed={});ee.forEach(Se=>{Object.defineProperty(pe,Se,{get:()=>n[Se],set:qe=>n[Se]=qe})})}else t.exposed||(t.exposed={});C&&t.render===ns&&(t.render=C),ie!=null&&(t.inheritAttrs=ie),X&&(t.components=X),R&&(t.directives=R)}function H4(t,e,n=ns){Ae(t)&&(t=cf(t));for(const s in t){const i=t[s];let o;ht(i)?"default"in i?o=qn(i.from||s,i.default,!0):o=qn(i.from||s):o=qn(i),At(o)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:r=>o.value=r}):e[s]=o}}function wm(t,e,n){Fn(Ae(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function z2(t,e,n,s){const i=s.includes(".")?T2(n,s):()=>n[s];if(kt(t)){const o=e[t];Ve(o)&&We(i,o)}else if(Ve(t))We(i,t.bind(n));else if(ht(t))if(Ae(t))t.forEach(o=>z2(o,e,n,s));else{const o=Ve(t.handler)?t.handler.bind(n):e[t.handler];Ve(o)&&We(i,o,t)}}function Vp(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:i,optionsCache:o,config:{optionMergeStrategies:r}}=t.appContext,a=o.get(e);let l;return a?l=a:!i.length&&!n&&!s?l=e:(l={},i.length&&i.forEach(c=>mu(l,c,r,!0)),mu(l,e,r)),ht(e)&&o.set(e,l),l}function mu(t,e,n,s=!1){const{mixins:i,extends:o}=e;o&&mu(t,o,n,!0),i&&i.forEach(r=>mu(t,r,n,!0));for(const r in e)if(!(s&&r==="expose")){const a=Y4[r]||n&&n[r];t[r]=a?a(t[r],e[r]):e[r]}return t}const Y4={data:xm,props:km,emits:km,methods:Sa,computed:Sa,beforeCreate:hn,created:hn,beforeMount:hn,mounted:hn,beforeUpdate:hn,updated:hn,beforeDestroy:hn,beforeUnmount:hn,destroyed:hn,unmounted:hn,activated:hn,deactivated:hn,errorCaptured:hn,serverPrefetch:hn,components:Sa,directives:Sa,watch:X4,provide:xm,inject:K4};function xm(t,e){return e?t?function(){return Ot(Ve(t)?t.call(this,this):t,Ve(e)?e.call(this,this):e)}:e:t}function K4(t,e){return Sa(cf(t),cf(e))}function cf(t){if(Ae(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function hn(t,e){return t?[...new Set([].concat(t,e))]:e}function Sa(t,e){return t?Ot(Object.create(null),t,e):e}function km(t,e){return t?Ae(t)&&Ae(e)?[...new Set([...t,...e])]:Ot(Object.create(null),ym(t),ym(e??{})):e}function X4(t,e){if(!t)return e;if(!e)return t;const n=Ot(Object.create(null),t);for(const s in e)n[s]=hn(t[s],e[s]);return n}function B2(){return{app:null,config:{isNativeTag:x8,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let G4=0;function J4(t,e){return function(s,i=null){Ve(s)||(s=Ot({},s)),i!=null&&!ht(i)&&(i=null);const o=B2(),r=new Set;let a=!1;const l=o.app={_uid:G4++,_component:s,_props:i,_container:null,_context:o,_instance:null,version:$5,get config(){return o.config},set config(c){},use(c,...u){return r.has(c)||(c&&Ve(c.install)?(r.add(c),c.install(l,...u)):Ve(c)&&(r.add(c),c(l,...u))),l},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),l},component(c,u){return u?(o.components[c]=u,l):o.components[c]},directive(c,u){return u?(o.directives[c]=u,l):o.directives[c]},mount(c,u,d){if(!a){const h=A(s,i);return h.appContext=o,u&&e?e(h,c):t(h,c,d),a=!0,l._container=c,c.__vue_app__=l,Hu(h.component)||h.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(c,u){return o.provides[c]=u,l},runWithContext(c){ol=l;try{return c()}finally{ol=null}}};return l}}let ol=null;function Wc(t,e){if(Nt){let n=Nt.provides;const s=Nt.parent&&Nt.parent.provides;s===n&&(n=Nt.provides=Object.create(s)),n[t]=e}}function qn(t,e,n=!1){const s=Nt||Ut;if(s||ol){const i=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:ol._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&Ve(e)?e.call(s&&s.proxy):e}}function Z4(){return!!(Nt||Ut||ol)}function Q4(t,e,n,s=!1){const i={},o={};uu(o,ju,1),t.propsDefaults=Object.create(null),U2(t,e,i,o);for(const r in t.propsOptions[0])r in i||(i[r]=void 0);n?t.props=s?i:_2(i):t.type.props?t.props=i:t.props=o,t.attrs=o}function e5(t,e,n,s){const{props:i,attrs:o,vnode:{patchFlag:r}}=t,a=Je(i),[l]=t.propsOptions;let c=!1;if((s||r>0)&&!(r&16)){if(r&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let h=u[d];if(Bu(t.emitsOptions,h))continue;const f=e[h];if(l)if(et(o,h))f!==o[h]&&(o[h]=f,c=!0);else{const p=Ls(h);i[p]=uf(l,a,p,f,t,!1)}else f!==o[h]&&(o[h]=f,c=!0)}}}else{U2(t,e,i,o)&&(c=!0);let u;for(const d in a)(!e||!et(e,d)&&((u=zo(d))===d||!et(e,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(i[d]=uf(l,a,d,void 0,t,!0)):delete i[d]);if(o!==a)for(const d in o)(!e||!et(e,d))&&(delete o[d],c=!0)}c&&ii(t,"set","$attrs")}function U2(t,e,n,s){const[i,o]=t.propsOptions;let r=!1,a;if(e)for(let l in e){if(Fc(l))continue;const c=e[l];let u;i&&et(i,u=Ls(l))?!o||!o.includes(u)?n[u]=c:(a||(a={}))[u]=c:Bu(t.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,r=!0)}if(o){const l=Je(n),c=a||_t;for(let u=0;u<o.length;u++){const d=o[u];n[d]=uf(i,l,d,c[d],t,!et(c,d))}}return r}function uf(t,e,n,s,i,o){const r=t[n];if(r!=null){const a=et(r,"default");if(a&&s===void 0){const l=r.default;if(r.type!==Function&&!r.skipFactory&&Ve(l)){const{propsDefaults:c}=i;n in c?s=c[n]:(Mr(i),s=c[n]=l.call(null,e),$o())}else s=l}r[0]&&(o&&!a?s=!1:r[1]&&(s===""||s===zo(n))&&(s=!0))}return s}function F2(t,e,n=!1){const s=e.propsCache,i=s.get(t);if(i)return i;const o=t.props,r={},a=[];let l=!1;if(!Ve(t)){const u=d=>{l=!0;const[h,f]=F2(d,e,!0);Ot(r,h),f&&a.push(...f)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!o&&!l)return ht(t)&&s.set(t,br),br;if(Ae(o))for(let u=0;u<o.length;u++){const d=Ls(o[u]);Sm(d)&&(r[d]=_t)}else if(o)for(const u in o){const d=Ls(u);if(Sm(d)){const h=o[u],f=r[d]=Ae(h)||Ve(h)?{type:h}:Ot({},h);if(f){const p=Am(Boolean,f.type),g=Am(String,f.type);f[0]=p>-1,f[1]=g<0||p<g,(p>-1||et(f,"default"))&&a.push(d)}}}const c=[r,a];return ht(t)&&s.set(t,c),c}function Sm(t){return t[0]!=="$"}function $m(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function Cm(t,e){return $m(t)===$m(e)}function Am(t,e){return Ae(e)?e.findIndex(n=>Cm(n,t)):Ve(e)&&Cm(e,t)?0:-1}const q2=t=>t[0]==="_"||t==="$stable",zp=t=>Ae(t)?t.map(xs):[xs(t)],t5=(t,e,n)=>{if(e._n)return e;const s=V((...i)=>zp(e(...i)),n);return s._c=!1,s},W2=(t,e,n)=>{const s=t._ctx;for(const i in t){if(q2(i))continue;const o=t[i];if(Ve(o))e[i]=t5(i,o,s);else if(o!=null){const r=zp(o);e[i]=()=>r}}},j2=(t,e)=>{const n=zp(e);t.slots.default=()=>n},n5=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=Je(e),uu(e,"_",n)):W2(e,t.slots={})}else t.slots={},e&&j2(t,e);uu(t.slots,ju,1)},s5=(t,e,n)=>{const{vnode:s,slots:i}=t;let o=!0,r=_t;if(s.shapeFlag&32){const a=e._;a?n&&a===1?o=!1:(Ot(i,e),!n&&a===1&&delete i._):(o=!e.$stable,W2(e,i)),r=e}else e&&(j2(t,e),r={default:1});if(o)for(const a in i)!q2(a)&&!(a in r)&&delete i[a]};function df(t,e,n,s,i=!1){if(Ae(t)){t.forEach((h,f)=>df(h,e&&(Ae(e)?e[f]:e),n,s,i));return}if(Da(s)&&!i)return;const o=s.shapeFlag&4?Hu(s.component)||s.component.proxy:s.el,r=i?null:o,{i:a,r:l}=t,c=e&&e.r,u=a.refs===_t?a.refs={}:a.refs,d=a.setupState;if(c!=null&&c!==l&&(kt(c)?(u[c]=null,et(d,c)&&(d[c]=null)):At(c)&&(c.value=null)),Ve(l))zi(l,a,12,[r,u]);else{const h=kt(l),f=At(l);if(h||f){const p=()=>{if(t.f){const g=h?et(d,l)?d[l]:u[l]:l.value;i?Ae(g)&&wp(g,o):Ae(g)?g.includes(o)||g.push(o):h?(u[l]=[o],et(d,l)&&(d[l]=u[l])):(l.value=[o],t.k&&(u[t.k]=l.value))}else h?(u[l]=r,et(d,l)&&(d[l]=r)):f&&(l.value=r,t.k&&(u[t.k]=r))};r?(p.id=-1,_n(p,n)):p()}}}const _n=T4;function i5(t){return o5(t)}function o5(t,e){const n=Qh();n.__VUE__=!0;const{insert:s,remove:i,patchProp:o,createElement:r,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:h,setScopeId:f=ns,insertStaticContent:p}=t,g=(O,I,z,Z=null,se=null,re=null,me=!1,ce=null,ue=!!I.dynamicChildren)=>{if(O===I)return;O&&!yo(O,I)&&(Z=te(O),Ze(O,se,re,!0),O=null),I.patchFlag===-2&&(ue=!1,I.dynamicChildren=null);const{type:ae,ref:$e,shapeFlag:ve}=I;switch(ae){case Wu:_(O,I,z,Z);break;case Wn:b(O,I,z,Z);break;case jc:O==null&&x(I,z,Z,me);break;case he:X(O,I,z,Z,se,re,me,ce,ue);break;default:ve&1?C(O,I,z,Z,se,re,me,ce,ue):ve&6?R(O,I,z,Z,se,re,me,ce,ue):(ve&64||ve&128)&&ae.process(O,I,z,Z,se,re,me,ce,ue,de)}$e!=null&&se&&df($e,O&&O.ref,re,I||O,!I)},_=(O,I,z,Z)=>{if(O==null)s(I.el=a(I.children),z,Z);else{const se=I.el=O.el;I.children!==O.children&&c(se,I.children)}},b=(O,I,z,Z)=>{O==null?s(I.el=l(I.children||""),z,Z):I.el=O.el},x=(O,I,z,Z)=>{[O.el,O.anchor]=p(O.children,I,z,Z,O.el,O.anchor)},$=({el:O,anchor:I},z,Z)=>{let se;for(;O&&O!==I;)se=h(O),s(O,z,Z),O=se;s(I,z,Z)},S=({el:O,anchor:I})=>{let z;for(;O&&O!==I;)z=h(O),i(O),O=z;i(I)},C=(O,I,z,Z,se,re,me,ce,ue)=>{me=me||I.type==="svg",O==null?T(I,z,Z,se,re,me,ce,ue):q(O,I,se,re,me,ce,ue)},T=(O,I,z,Z,se,re,me,ce)=>{let ue,ae;const{type:$e,props:ve,shapeFlag:ye,transition:Te,dirs:Be}=O;if(ue=O.el=r(O.type,re,ve&&ve.is,ve),ye&8?u(ue,O.children):ye&16&&E(O.children,ue,null,Z,se,re&&$e!=="foreignObject",me,ce),Be&&ro(O,null,Z,"created"),L(ue,O,O.scopeId,me,Z),ve){for(const Ye in ve)Ye!=="value"&&!Fc(Ye)&&o(ue,Ye,null,ve[Ye],re,O.children,Z,se,lt);"value"in ve&&o(ue,"value",null,ve.value),(ae=ve.onVnodeBeforeMount)&&gs(ae,Z,O)}Be&&ro(O,null,Z,"beforeMount");const Xe=(!se||se&&!se.pendingBranch)&&Te&&!Te.persisted;Xe&&Te.beforeEnter(ue),s(ue,I,z),((ae=ve&&ve.onVnodeMounted)||Xe||Be)&&_n(()=>{ae&&gs(ae,Z,O),Xe&&Te.enter(ue),Be&&ro(O,null,Z,"mounted")},se)},L=(O,I,z,Z,se)=>{if(z&&f(O,z),Z)for(let re=0;re<Z.length;re++)f(O,Z[re]);if(se){let re=se.subTree;if(I===re){const me=se.vnode;L(O,me,me.scopeId,me.slotScopeIds,se.parent)}}},E=(O,I,z,Z,se,re,me,ce,ue=0)=>{for(let ae=ue;ae<O.length;ae++){const $e=O[ae]=ce?Ci(O[ae]):xs(O[ae]);g(null,$e,I,z,Z,se,re,me,ce)}},q=(O,I,z,Z,se,re,me)=>{const ce=I.el=O.el;let{patchFlag:ue,dynamicChildren:ae,dirs:$e}=I;ue|=O.patchFlag&16;const ve=O.props||_t,ye=I.props||_t;let Te;z&&ao(z,!1),(Te=ye.onVnodeBeforeUpdate)&&gs(Te,z,I,O),$e&&ro(I,O,z,"beforeUpdate"),z&&ao(z,!0);const Be=se&&I.type!=="foreignObject";if(ae?ee(O.dynamicChildren,ae,ce,z,Z,Be,re):me||Se(O,I,ce,null,z,Z,Be,re,!1),ue>0){if(ue&16)ie(ce,I,ve,ye,z,Z,se);else if(ue&2&&ve.class!==ye.class&&o(ce,"class",null,ye.class,se),ue&4&&o(ce,"style",ve.style,ye.style,se),ue&8){const Xe=I.dynamicProps;for(let Ye=0;Ye<Xe.length;Ye++){const ft=Xe[Ye],xt=ve[ft],Yn=ye[ft];(Yn!==xt||ft==="value")&&o(ce,ft,xt,Yn,se,O.children,z,Z,lt)}}ue&1&&O.children!==I.children&&u(ce,I.children)}else!me&&ae==null&&ie(ce,I,ve,ye,z,Z,se);((Te=ye.onVnodeUpdated)||$e)&&_n(()=>{Te&&gs(Te,z,I,O),$e&&ro(I,O,z,"updated")},Z)},ee=(O,I,z,Z,se,re,me)=>{for(let ce=0;ce<I.length;ce++){const ue=O[ce],ae=I[ce],$e=ue.el&&(ue.type===he||!yo(ue,ae)||ue.shapeFlag&70)?d(ue.el):z;g(ue,ae,$e,null,Z,se,re,me,!0)}},ie=(O,I,z,Z,se,re,me)=>{if(z!==Z){if(z!==_t)for(const ce in z)!Fc(ce)&&!(ce in Z)&&o(O,ce,z[ce],null,me,I.children,se,re,lt);for(const ce in Z){if(Fc(ce))continue;const ue=Z[ce],ae=z[ce];ue!==ae&&ce!=="value"&&o(O,ce,ae,ue,me,I.children,se,re,lt)}"value"in Z&&o(O,"value",z.value,Z.value)}},X=(O,I,z,Z,se,re,me,ce,ue)=>{const ae=I.el=O?O.el:a(""),$e=I.anchor=O?O.anchor:a("");let{patchFlag:ve,dynamicChildren:ye,slotScopeIds:Te}=I;Te&&(ce=ce?ce.concat(Te):Te),O==null?(s(ae,z,Z),s($e,z,Z),E(I.children,z,$e,se,re,me,ce,ue)):ve>0&&ve&64&&ye&&O.dynamicChildren?(ee(O.dynamicChildren,ye,z,se,re,me,ce),(I.key!=null||se&&I===se.subTree)&&Bp(O,I,!0)):Se(O,I,z,$e,se,re,me,ce,ue)},R=(O,I,z,Z,se,re,me,ce,ue)=>{I.slotScopeIds=ce,O==null?I.shapeFlag&512?se.ctx.activate(I,z,Z,me,ue):j(I,z,Z,se,re,me,ue):Y(O,I,ue)},j=(O,I,z,Z,se,re,me)=>{const ce=O.component=m5(O,Z,se);if(Fu(O)&&(ce.ctx.renderer=de),_5(ce),ce.asyncDep){if(se&&se.registerDep(ce,oe),!O.el){const ue=ce.subTree=A(Wn);b(null,ue,I,z)}return}oe(ce,O,I,z,se,re,me)},Y=(O,I,z)=>{const Z=I.component=O.component;if(A4(O,I,z))if(Z.asyncDep&&!Z.asyncResolved){pe(Z,I,z);return}else Z.next=I,w4(Z.update),Z.update();else I.el=O.el,Z.vnode=I},oe=(O,I,z,Z,se,re,me)=>{const ce=()=>{if(O.isMounted){let{next:$e,bu:ve,u:ye,parent:Te,vnode:Be}=O,Xe=$e,Ye;ao(O,!1),$e?($e.el=Be.el,pe(O,$e,me)):$e=Be,ve&&qc(ve),(Ye=$e.props&&$e.props.onVnodeBeforeUpdate)&&gs(Ye,Te,$e,Be),ao(O,!0);const ft=hh(O),xt=O.subTree;O.subTree=ft,g(xt,ft,d(xt.el),te(xt),O,se,re),$e.el=ft.el,Xe===null&&M4(O,ft.el),ye&&_n(ye,se),(Ye=$e.props&&$e.props.onVnodeUpdated)&&_n(()=>gs(Ye,Te,$e,Be),se)}else{let $e;const{el:ve,props:ye}=I,{bm:Te,m:Be,parent:Xe}=O,Ye=Da(I);if(ao(O,!1),Te&&qc(Te),!Ye&&($e=ye&&ye.onVnodeBeforeMount)&&gs($e,Xe,I),ao(O,!0),ve&&je){const ft=()=>{O.subTree=hh(O),je(ve,O.subTree,O,se,null)};Ye?I.type.__asyncLoader().then(()=>!O.isUnmounted&&ft()):ft()}else{const ft=O.subTree=hh(O);g(null,ft,z,Z,O,se,re),I.el=ft.el}if(Be&&_n(Be,se),!Ye&&($e=ye&&ye.onVnodeMounted)){const ft=I;_n(()=>gs($e,Xe,ft),se)}(I.shapeFlag&256||Xe&&Da(Xe.vnode)&&Xe.vnode.shapeFlag&256)&&O.a&&_n(O.a,se),O.isMounted=!0,I=z=Z=null}},ue=O.effect=new $p(ce,()=>Dp(ae),O.scope),ae=O.update=()=>ue.run();ae.id=O.uid,ao(O,!0),ae()},pe=(O,I,z)=>{I.component=O;const Z=O.vnode.props;O.vnode=I,O.next=null,e5(O,I.props,Z,z),s5(O,I.children,z),Hr(),gm(),Yr()},Se=(O,I,z,Z,se,re,me,ce,ue=!1)=>{const ae=O&&O.children,$e=O?O.shapeFlag:0,ve=I.children,{patchFlag:ye,shapeFlag:Te}=I;if(ye>0){if(ye&128){le(ae,ve,z,Z,se,re,me,ce,ue);return}else if(ye&256){qe(ae,ve,z,Z,se,re,me,ce,ue);return}}Te&8?($e&16&&lt(ae,se,re),ve!==ae&&u(z,ve)):$e&16?Te&16?le(ae,ve,z,Z,se,re,me,ce,ue):lt(ae,se,re,!0):($e&8&&u(z,""),Te&16&&E(ve,z,Z,se,re,me,ce,ue))},qe=(O,I,z,Z,se,re,me,ce,ue)=>{O=O||br,I=I||br;const ae=O.length,$e=I.length,ve=Math.min(ae,$e);let ye;for(ye=0;ye<ve;ye++){const Te=I[ye]=ue?Ci(I[ye]):xs(I[ye]);g(O[ye],Te,z,null,se,re,me,ce,ue)}ae>$e?lt(O,se,re,!0,!1,ve):E(I,z,Z,se,re,me,ce,ue,ve)},le=(O,I,z,Z,se,re,me,ce,ue)=>{let ae=0;const $e=I.length;let ve=O.length-1,ye=$e-1;for(;ae<=ve&&ae<=ye;){const Te=O[ae],Be=I[ae]=ue?Ci(I[ae]):xs(I[ae]);if(yo(Te,Be))g(Te,Be,z,null,se,re,me,ce,ue);else break;ae++}for(;ae<=ve&&ae<=ye;){const Te=O[ve],Be=I[ye]=ue?Ci(I[ye]):xs(I[ye]);if(yo(Te,Be))g(Te,Be,z,null,se,re,me,ce,ue);else break;ve--,ye--}if(ae>ve){if(ae<=ye){const Te=ye+1,Be=Te<$e?I[Te].el:Z;for(;ae<=ye;)g(null,I[ae]=ue?Ci(I[ae]):xs(I[ae]),z,Be,se,re,me,ce,ue),ae++}}else if(ae>ye)for(;ae<=ve;)Ze(O[ae],se,re,!0),ae++;else{const Te=ae,Be=ae,Xe=new Map;for(ae=Be;ae<=ye;ae++){const Et=I[ae]=ue?Ci(I[ae]):xs(I[ae]);Et.key!=null&&Xe.set(Et.key,ae)}let Ye,ft=0;const xt=ye-Be+1;let Yn=!1,Qi=0;const Ns=new Array(xt);for(ae=0;ae<xt;ae++)Ns[ae]=0;for(ae=Te;ae<=ve;ae++){const Et=O[ae];if(ft>=xt){Ze(Et,se,re,!0);continue}let un;if(Et.key!=null)un=Xe.get(Et.key);else for(Ye=Be;Ye<=ye;Ye++)if(Ns[Ye-Be]===0&&yo(Et,I[Ye])){un=Ye;break}un===void 0?Ze(Et,se,re,!0):(Ns[un-Be]=ae+1,un>=Qi?Qi=un:Yn=!0,g(Et,I[un],z,null,se,re,me,ce,ue),ft++)}const _i=Yn?r5(Ns):br;for(Ye=_i.length-1,ae=xt-1;ae>=0;ae--){const Et=Be+ae,un=I[Et],Vs=Et+1<$e?I[Et+1].el:Z;Ns[ae]===0?g(null,un,z,Vs,se,re,me,ce,ue):Yn&&(Ye<0||ae!==_i[Ye]?ze(un,z,Vs,2):Ye--)}}},ze=(O,I,z,Z,se=null)=>{const{el:re,type:me,transition:ce,children:ue,shapeFlag:ae}=O;if(ae&6){ze(O.component.subTree,I,z,Z);return}if(ae&128){O.suspense.move(I,z,Z);return}if(ae&64){me.move(O,I,z,de);return}if(me===he){s(re,I,z);for(let ve=0;ve<ue.length;ve++)ze(ue[ve],I,z,Z);s(O.anchor,I,z);return}if(me===jc){$(O,I,z);return}if(Z!==2&&ae&1&&ce)if(Z===0)ce.beforeEnter(re),s(re,I,z),_n(()=>ce.enter(re),se);else{const{leave:ve,delayLeave:ye,afterLeave:Te}=ce,Be=()=>s(re,I,z),Xe=()=>{ve(re,()=>{Be(),Te&&Te()})};ye?ye(re,Be,Xe):Xe()}else s(re,I,z)},Ze=(O,I,z,Z=!1,se=!1)=>{const{type:re,props:me,ref:ce,children:ue,dynamicChildren:ae,shapeFlag:$e,patchFlag:ve,dirs:ye}=O;if(ce!=null&&df(ce,null,z,O,!0),$e&256){I.ctx.deactivate(O);return}const Te=$e&1&&ye,Be=!Da(O);let Xe;if(Be&&(Xe=me&&me.onVnodeBeforeUnmount)&&gs(Xe,I,O),$e&6)Ue(O.component,z,Z);else{if($e&128){O.suspense.unmount(z,Z);return}Te&&ro(O,null,I,"beforeUnmount"),$e&64?O.type.remove(O,I,z,se,de,Z):ae&&(re!==he||ve>0&&ve&64)?lt(ae,I,z,!1,!0):(re===he&&ve&384||!se&&$e&16)&&lt(ue,I,z),Z&&at(O)}(Be&&(Xe=me&&me.onVnodeUnmounted)||Te)&&_n(()=>{Xe&&gs(Xe,I,O),Te&&ro(O,null,I,"unmounted")},z)},at=O=>{const{type:I,el:z,anchor:Z,transition:se}=O;if(I===he){wt(z,Z);return}if(I===jc){S(O);return}const re=()=>{i(z),se&&!se.persisted&&se.afterLeave&&se.afterLeave()};if(O.shapeFlag&1&&se&&!se.persisted){const{leave:me,delayLeave:ce}=se,ue=()=>me(z,re);ce?ce(O.el,re,ue):ue()}else re()},wt=(O,I)=>{let z;for(;O!==I;)z=h(O),i(O),O=z;i(I)},Ue=(O,I,z)=>{const{bum:Z,scope:se,update:re,subTree:me,um:ce}=O;Z&&qc(Z),se.stop(),re&&(re.active=!1,Ze(me,O,I,z)),ce&&_n(ce,I),_n(()=>{O.isUnmounted=!0},I),I&&I.pendingBranch&&!I.isUnmounted&&O.asyncDep&&!O.asyncResolved&&O.suspenseId===I.pendingId&&(I.deps--,I.deps===0&&I.resolve())},lt=(O,I,z,Z=!1,se=!1,re=0)=>{for(let me=re;me<O.length;me++)Ze(O[me],I,z,Z,se)},te=O=>O.shapeFlag&6?te(O.component.subTree):O.shapeFlag&128?O.suspense.next():h(O.anchor||O.el),fe=(O,I,z)=>{O==null?I._vnode&&Ze(I._vnode,null,null,!0):g(I._vnode||null,O,I,null,null,null,z),gm(),C2(),I._vnode=O},de={p:g,um:Ze,m:ze,r:at,mt:j,mc:E,pc:Se,pbc:ee,n:te,o:t};let xe,je;return e&&([xe,je]=e(de)),{render:fe,hydrate:xe,createApp:J4(fe,xe)}}function ao({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Bp(t,e,n=!1){const s=t.children,i=e.children;if(Ae(s)&&Ae(i))for(let o=0;o<s.length;o++){const r=s[o];let a=i[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[o]=Ci(i[o]),a.el=r.el),n||Bp(r,a)),a.type===Wu&&(a.el=r.el)}}function r5(t){const e=t.slice(),n=[0];let s,i,o,r,a;const l=t.length;for(s=0;s<l;s++){const c=t[s];if(c!==0){if(i=n[n.length-1],t[i]<c){e[s]=i,n.push(s);continue}for(o=0,r=n.length-1;o<r;)a=o+r>>1,t[n[a]]<c?o=a+1:r=a;c<t[n[o]]&&(o>0&&(e[s]=n[o-1]),n[o]=s)}}for(o=n.length,r=n[o-1];o-- >0;)n[o]=r,r=e[r];return n}const a5=t=>t.__isTeleport,Ra=t=>t&&(t.disabled||t.disabled===""),Mm=t=>typeof SVGElement<"u"&&t instanceof SVGElement,hf=(t,e)=>{const n=t&&t.to;return kt(n)?e?e(n):null:n},l5={__isTeleport:!0,process(t,e,n,s,i,o,r,a,l,c){const{mc:u,pc:d,pbc:h,o:{insert:f,querySelector:p,createText:g,createComment:_}}=c,b=Ra(e.props);let{shapeFlag:x,children:$,dynamicChildren:S}=e;if(t==null){const C=e.el=g(""),T=e.anchor=g("");f(C,n,s),f(T,n,s);const L=e.target=hf(e.props,p),E=e.targetAnchor=g("");L&&(f(E,L),r=r||Mm(L));const q=(ee,ie)=>{x&16&&u($,ee,ie,i,o,r,a,l)};b?q(n,T):L&&q(L,E)}else{e.el=t.el;const C=e.anchor=t.anchor,T=e.target=t.target,L=e.targetAnchor=t.targetAnchor,E=Ra(t.props),q=E?n:T,ee=E?C:L;if(r=r||Mm(T),S?(h(t.dynamicChildren,S,q,i,o,r,a),Bp(t,e,!0)):l||d(t,e,q,ee,i,o,r,a,!1),b)E||dc(e,n,C,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const ie=e.target=hf(e.props,p);ie&&dc(e,ie,null,c,0)}else E&&dc(e,T,L,c,1)}H2(e)},remove(t,e,n,s,{um:i,o:{remove:o}},r){const{shapeFlag:a,children:l,anchor:c,targetAnchor:u,target:d,props:h}=t;if(d&&o(u),(r||!Ra(h))&&(o(c),a&16))for(let f=0;f<l.length;f++){const p=l[f];i(p,e,n,!0,!!p.dynamicChildren)}},move:dc,hydrate:c5};function dc(t,e,n,{o:{insert:s},m:i},o=2){o===0&&s(t.targetAnchor,e,n);const{el:r,anchor:a,shapeFlag:l,children:c,props:u}=t,d=o===2;if(d&&s(r,e,n),(!d||Ra(u))&&l&16)for(let h=0;h<c.length;h++)i(c[h],e,n,2);d&&s(a,e,n)}function c5(t,e,n,s,i,o,{o:{nextSibling:r,parentNode:a,querySelector:l}},c){const u=e.target=hf(e.props,l);if(u){const d=u._lpa||u.firstChild;if(e.shapeFlag&16)if(Ra(e.props))e.anchor=c(r(t),e,a(t),n,s,i,o),e.targetAnchor=d;else{e.anchor=r(t);let h=d;for(;h;)if(h=r(h),h&&h.nodeType===8&&h.data==="teleport anchor"){e.targetAnchor=h,u._lpa=e.targetAnchor&&r(e.targetAnchor);break}c(d,e,u,n,s,i,o)}H2(e)}return e.anchor&&r(e.anchor)}const ui=l5;function H2(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const he=Symbol.for("v-fgt"),Wu=Symbol.for("v-txt"),Wn=Symbol.for("v-cmt"),jc=Symbol.for("v-stc"),Pa=[];let es=null;function w(t=!1){Pa.push(es=t?null:[])}function u5(){Pa.pop(),es=Pa[Pa.length-1]||null}let rl=1;function Ar(t){rl+=t}function Y2(t){return t.dynamicChildren=rl>0?es||br:null,u5(),rl>0&&es&&es.push(t),t}function k(t,e,n,s,i,o){return Y2(m(t,e,n,s,i,o,!0))}function U(t,e,n,s,i){return Y2(A(t,e,n,s,i,!0))}function gu(t){return t?t.__v_isVNode===!0:!1}function yo(t,e){return t.type===e.type&&t.key===e.key}const ju="__vInternal",K2=({key:t})=>t??null,Hc=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?kt(t)||At(t)||Ve(t)?{i:Ut,r:t,k:e,f:!!n}:t:null);function m(t,e=null,n=null,s=0,i=null,o=t===he?0:1,r=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&K2(e),ref:e&&Hc(e),scopeId:Uu,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Ut};return a?(Up(l,n),o&128&&t.normalize(l)):n&&(l.shapeFlag|=kt(n)?8:16),rl>0&&!r&&es&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&es.push(l),l}const A=d5;function d5(t,e=null,n=null,s=0,i=null,o=!1){if((!t||t===N2)&&(t=Wn),gu(t)){const a=qi(t,e,!0);return n&&Up(a,n),rl>0&&!o&&es&&(a.shapeFlag&6?es[es.indexOf(t)]=a:es.push(a)),a.patchFlag|=-2,a}if(x5(t)&&(t=t.__vccOpts),e){e=h5(e);let{class:a,style:l}=e;a&&!kt(a)&&(e.class=_e(a)),ht(l)&&(b2(l)&&!Ae(l)&&(l=Ot({},l)),e.style=wn(l))}const r=kt(t)?1:E4(t)?128:a5(t)?64:ht(t)?4:Ve(t)?2:0;return m(t,e,n,s,i,r,o,!0)}function h5(t){return t?b2(t)||ju in t?Ot({},t):t:null}function qi(t,e,n=!1){const{props:s,ref:i,patchFlag:o,children:r}=t,a=e?Ll(s||{},e):s;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&K2(a),ref:e&&e.ref?n&&i?Ae(i)?i.concat(Hc(e)):[i,Hc(e)]:Hc(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:r,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==he?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&qi(t.ssContent),ssFallback:t.ssFallback&&qi(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Q(t=" ",e=0){return A(Wu,null,t,e)}function X2(t,e){const n=A(jc,null,t);return n.staticCount=e,n}function B(t="",e=!1){return e?(w(),U(Wn,null,t)):A(Wn,null,t)}function xs(t){return t==null||typeof t=="boolean"?A(Wn):Ae(t)?A(he,null,t.slice()):typeof t=="object"?Ci(t):A(Wu,null,String(t))}function Ci(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:qi(t)}function Up(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(Ae(e))n=16;else if(typeof e=="object")if(s&65){const i=e.default;i&&(i._c&&(i._d=!1),Up(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(ju in e)?e._ctx=Ut:i===3&&Ut&&(Ut.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ve(e)?(e={default:e,_ctx:Ut},n=32):(e=String(e),s&64?(n=16,e=[Q(e)]):n=8);t.children=e,t.shapeFlag|=n}function Ll(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const i in s)if(i==="class")e.class!==s.class&&(e.class=_e([e.class,s.class]));else if(i==="style")e.style=wn([e.style,s.style]);else if(Iu(i)){const o=e[i],r=s[i];r&&o!==r&&!(Ae(o)&&o.includes(r))&&(e[i]=o?[].concat(o,r):r)}else i!==""&&(e[i]=s[i])}return e}function gs(t,e,n,s=null){Fn(t,e,7,[n,s])}const f5=B2();let p5=0;function m5(t,e,n){const s=t.type,i=(e?e.appContext:t.appContext)||f5,o={uid:p5++,vnode:t,type:s,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new i2(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:F2(s,i),emitsOptions:M2(s,i),emit:null,emitted:null,propsDefaults:_t,inheritAttrs:s.inheritAttrs,ctx:_t,data:_t,props:_t,attrs:_t,slots:_t,refs:_t,setupState:_t,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=S4.bind(null,o),t.ce&&t.ce(o),o}let Nt=null;const g5=()=>Nt||Ut;let Fp,ir,Em="__VUE_INSTANCE_SETTERS__";(ir=Qh()[Em])||(ir=Qh()[Em]=[]),ir.push(t=>Nt=t),Fp=t=>{ir.length>1?ir.forEach(e=>e(t)):ir[0](t)};const Mr=t=>{Fp(t),t.scope.on()},$o=()=>{Nt&&Nt.scope.off(),Fp(null)};function G2(t){return t.vnode.shapeFlag&4}let al=!1;function _5(t,e=!1){al=e;const{props:n,children:s}=t.vnode,i=G2(t);Q4(t,n,i,e),n5(t,s);const o=i?v5(t,e):void 0;return al=!1,o}function v5(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Vu(new Proxy(t.ctx,W4));const{setup:s}=n;if(s){const i=t.setupContext=s.length>1?y5(t):null;Mr(t),Hr();const o=zi(s,t,0,[t.props,i]);if(Yr(),$o(),Q0(o)){if(o.then($o,$o),e)return o.then(r=>{Tm(t,r,e)}).catch(r=>{zu(r,t,0)});t.asyncDep=o}else Tm(t,o,e)}else J2(t,e)}function Tm(t,e,n){Ve(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ht(e)&&(t.setupState=k2(e)),J2(t,n)}let Lm;function J2(t,e,n){const s=t.type;if(!t.render){if(!e&&Lm&&!s.render){const i=s.template||Vp(t).template;if(i){const{isCustomElement:o,compilerOptions:r}=t.appContext.config,{delimiters:a,compilerOptions:l}=s,c=Ot(Ot({isCustomElement:o,delimiters:a},r),l);s.render=Lm(i,c)}}t.render=s.render||ns}Mr(t),Hr(),j4(t),Yr(),$o()}function b5(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return xn(t,"get","$attrs"),e[n]}}))}function y5(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return b5(t)},slots:t.slots,emit:t.emit,expose:e}}function Hu(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(k2(Vu(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Ia)return Ia[n](t)},has(e,n){return n in e||n in Ia}}))}function w5(t,e=!0){return Ve(t)?t.displayName||t.name:t.name||e&&t.__name}function x5(t){return Ve(t)&&"__vccOpts"in t}const W=(t,e)=>v4(t,e,al);function Yu(t,e,n){const s=arguments.length;return s===2?ht(e)&&!Ae(e)?gu(e)?A(t,null,[e]):A(t,e):A(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&gu(n)&&(n=[n]),A(t,e,n))}const k5=Symbol.for("v-scx"),S5=()=>qn(k5),$5="3.3.4",C5="http://www.w3.org/2000/svg",wo=typeof document<"u"?document:null,Om=wo&&wo.createElement("template"),A5={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const i=e?wo.createElementNS(C5,t):wo.createElement(t,n?{is:n}:void 0);return t==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:t=>wo.createTextNode(t),createComment:t=>wo.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>wo.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,i,o){const r=n?n.previousSibling:e.lastChild;if(i&&(i===o||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{Om.innerHTML=s?`<svg>${t}</svg>`:t;const a=Om.content;if(s){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[r?r.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function M5(t,e,n){const s=t._vtc;s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function E5(t,e,n){const s=t.style,i=kt(n);if(n&&!i){if(e&&!kt(e))for(const o in e)n[o]==null&&ff(s,o,"");for(const o in n)ff(s,o,n[o])}else{const o=s.display;i?e!==n&&(s.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(s.display=o)}}const Dm=/\s*!important$/;function ff(t,e,n){if(Ae(n))n.forEach(s=>ff(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=T5(t,e);Dm.test(n)?t.setProperty(zo(s),n.replace(Dm,""),"important"):t[s]=n}}const Im=["Webkit","Moz","ms"],mh={};function T5(t,e){const n=mh[e];if(n)return n;let s=Ls(e);if(s!=="filter"&&s in t)return mh[e]=s;s=Pu(s);for(let i=0;i<Im.length;i++){const o=Im[i]+s;if(o in t)return mh[e]=o}return e}const Rm="http://www.w3.org/1999/xlink";function L5(t,e,n,s,i){if(s&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(Rm,e.slice(6,e.length)):t.setAttributeNS(Rm,e,n);else{const o=R8(e);n==null||o&&!n2(n)?t.removeAttribute(e):t.setAttribute(e,o?"":n)}}function O5(t,e,n,s,i,o,r){if(e==="innerHTML"||e==="textContent"){s&&r(s,i,o),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){t._value=n;const c=a==="OPTION"?t.getAttribute("value"):t.value,u=n??"";c!==u&&(t.value=u),n==null&&t.removeAttribute(e);return}let l=!1;if(n===""||n==null){const c=typeof t[e];c==="boolean"?n=n2(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function Js(t,e,n,s){t.addEventListener(e,n,s)}function D5(t,e,n,s){t.removeEventListener(e,n,s)}function I5(t,e,n,s,i=null){const o=t._vei||(t._vei={}),r=o[e];if(s&&r)r.value=s;else{const[a,l]=R5(e);if(s){const c=o[e]=V5(s,i);Js(t,a,c,l)}else r&&(D5(t,a,r,l),o[e]=void 0)}}const Pm=/(?:Once|Passive|Capture)$/;function R5(t){let e;if(Pm.test(t)){e={};let s;for(;s=t.match(Pm);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):zo(t.slice(2)),e]}let gh=0;const P5=Promise.resolve(),N5=()=>gh||(P5.then(()=>gh=0),gh=Date.now());function V5(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Fn(z5(s,n.value),e,5,[s])};return n.value=t,n.attached=N5(),n}function z5(t,e){if(Ae(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>i=>!i._stopped&&s&&s(i))}else return e}const Nm=/^on[a-z]/,B5=(t,e,n,s,i=!1,o,r,a,l)=>{e==="class"?M5(t,s,i):e==="style"?E5(t,n,s):Iu(e)?yp(e)||I5(t,e,n,s,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):U5(t,e,s,i))?O5(t,e,s,o,r,a,l):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),L5(t,e,s,i))};function U5(t,e,n,s){return s?!!(e==="innerHTML"||e==="textContent"||e in t&&Nm.test(e)&&Ve(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||Nm.test(e)&&kt(n)?!1:e in t}const wi="transition",ha="animation",qp=(t,{slots:e})=>Yu(I4,F5(t),e);qp.displayName="Transition";const Z2={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};qp.props=Ot({},L2,Z2);const lo=(t,e=[])=>{Ae(t)?t.forEach(n=>n(...e)):t&&t(...e)},Vm=t=>t?Ae(t)?t.some(e=>e.length>1):t.length>1:!1;function F5(t){const e={};for(const X in t)X in Z2||(e[X]=t[X]);if(t.css===!1)return e;const{name:n="v",type:s,duration:i,enterFromClass:o=`${n}-enter-from`,enterActiveClass:r=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=o,appearActiveClass:c=r,appearToClass:u=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=t,p=q5(i),g=p&&p[0],_=p&&p[1],{onBeforeEnter:b,onEnter:x,onEnterCancelled:$,onLeave:S,onLeaveCancelled:C,onBeforeAppear:T=b,onAppear:L=x,onAppearCancelled:E=$}=e,q=(X,R,j)=>{co(X,R?u:a),co(X,R?c:r),j&&j()},ee=(X,R)=>{X._isLeaving=!1,co(X,d),co(X,f),co(X,h),R&&R()},ie=X=>(R,j)=>{const Y=X?L:x,oe=()=>q(R,X,j);lo(Y,[R,oe]),zm(()=>{co(R,X?l:o),xi(R,X?u:a),Vm(Y)||Bm(R,s,g,oe)})};return Ot(e,{onBeforeEnter(X){lo(b,[X]),xi(X,o),xi(X,r)},onBeforeAppear(X){lo(T,[X]),xi(X,l),xi(X,c)},onEnter:ie(!1),onAppear:ie(!0),onLeave(X,R){X._isLeaving=!0;const j=()=>ee(X,R);xi(X,d),H5(),xi(X,h),zm(()=>{X._isLeaving&&(co(X,d),xi(X,f),Vm(S)||Bm(X,s,_,j))}),lo(S,[X,j])},onEnterCancelled(X){q(X,!1),lo($,[X])},onAppearCancelled(X){q(X,!0),lo(E,[X])},onLeaveCancelled(X){ee(X),lo(C,[X])}})}function q5(t){if(t==null)return null;if(ht(t))return[_h(t.enter),_h(t.leave)];{const e=_h(t);return[e,e]}}function _h(t){return M8(t)}function xi(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(e)}function co(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function zm(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let W5=0;function Bm(t,e,n,s){const i=t._endId=++W5,o=()=>{i===t._endId&&s()};if(n)return setTimeout(o,n);const{type:r,timeout:a,propCount:l}=j5(t,e);if(!r)return s();const c=r+"end";let u=0;const d=()=>{t.removeEventListener(c,h),o()},h=f=>{f.target===t&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},a+1),t.addEventListener(c,h)}function j5(t,e){const n=window.getComputedStyle(t),s=p=>(n[p]||"").split(", "),i=s(`${wi}Delay`),o=s(`${wi}Duration`),r=Um(i,o),a=s(`${ha}Delay`),l=s(`${ha}Duration`),c=Um(a,l);let u=null,d=0,h=0;e===wi?r>0&&(u=wi,d=r,h=o.length):e===ha?c>0&&(u=ha,d=c,h=l.length):(d=Math.max(r,c),u=d>0?r>c?wi:ha:null,h=u?u===wi?o.length:l.length:0);const f=u===wi&&/\b(transform|all)(,|$)/.test(s(`${wi}Property`).toString());return{type:u,timeout:d,propCount:h,hasTransform:f}}function Um(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,s)=>Fm(n)+Fm(t[s])))}function Fm(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function H5(){return document.body.offsetHeight}const Wi=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Ae(e)?n=>qc(e,n):e};function Y5(t){t.target.composing=!0}function qm(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const To={created(t,{modifiers:{lazy:e,trim:n,number:s}},i){t._assign=Wi(i);const o=s||i.props&&i.props.type==="number";Js(t,e?"change":"input",r=>{if(r.target.composing)return;let a=t.value;n&&(a=a.trim()),o&&(a=du(a)),t._assign(a)}),n&&Js(t,"change",()=>{t.value=t.value.trim()}),e||(Js(t,"compositionstart",Y5),Js(t,"compositionend",qm),Js(t,"change",qm))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:s,number:i}},o){if(t._assign=Wi(o),t.composing||document.activeElement===t&&t.type!=="range"&&(n||s&&t.value.trim()===e||(i||t.type==="number")&&du(t.value)===e))return;const r=e??"";t.value!==r&&(t.value=r)}},Q2={deep:!0,created(t,e,n){t._assign=Wi(n),Js(t,"change",()=>{const s=t._modelValue,i=Er(t),o=t.checked,r=t._assign;if(Ae(s)){const a=kp(s,i),l=a!==-1;if(o&&!l)r(s.concat(i));else if(!o&&l){const c=[...s];c.splice(a,1),r(c)}}else if(jr(s)){const a=new Set(s);o?a.add(i):a.delete(i),r(a)}else r(tv(t,o))})},mounted:Wm,beforeUpdate(t,e,n){t._assign=Wi(n),Wm(t,e,n)}};function Wm(t,{value:e,oldValue:n},s){t._modelValue=e,Ae(e)?t.checked=kp(e,s.props.value)>-1:jr(e)?t.checked=e.has(s.props.value):e!==n&&(t.checked=Eo(e,tv(t,!0)))}const K5={created(t,{value:e},n){t.checked=Eo(e,n.props.value),t._assign=Wi(n),Js(t,"change",()=>{t._assign(Er(t))})},beforeUpdate(t,{value:e,oldValue:n},s){t._assign=Wi(s),e!==n&&(t.checked=Eo(e,s.props.value))}},ev={deep:!0,created(t,{value:e,modifiers:{number:n}},s){const i=jr(e);Js(t,"change",()=>{const o=Array.prototype.filter.call(t.options,r=>r.selected).map(r=>n?du(Er(r)):Er(r));t._assign(t.multiple?i?new Set(o):o:o[0])}),t._assign=Wi(s)},mounted(t,{value:e}){jm(t,e)},beforeUpdate(t,e,n){t._assign=Wi(n)},updated(t,{value:e}){jm(t,e)}};function jm(t,e){const n=t.multiple;if(!(n&&!Ae(e)&&!jr(e))){for(let s=0,i=t.options.length;s<i;s++){const o=t.options[s],r=Er(o);if(n)Ae(e)?o.selected=kp(e,r)>-1:o.selected=e.has(r);else if(Eo(Er(o),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Er(t){return"_value"in t?t._value:t.value}function tv(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const nv={created(t,e,n){hc(t,e,n,null,"created")},mounted(t,e,n){hc(t,e,n,null,"mounted")},beforeUpdate(t,e,n,s){hc(t,e,n,s,"beforeUpdate")},updated(t,e,n,s){hc(t,e,n,s,"updated")}};function X5(t,e){switch(t){case"SELECT":return ev;case"TEXTAREA":return To;default:switch(e){case"checkbox":return Q2;case"radio":return K5;default:return To}}}function hc(t,e,n,s,i){const r=X5(t.tagName,n.props&&n.props.type)[i];r&&r(t,e,n,s)}const G5=["ctrl","shift","alt","meta"],J5={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>G5.some(n=>t[`${n}Key`]&&!e.includes(n))},Vt=(t,e)=>(n,...s)=>{for(let i=0;i<e.length;i++){const o=J5[e[i]];if(o&&o(n,e))return}return t(n,...s)},Z5={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Zs=(t,e)=>n=>{if(!("key"in n))return;const s=zo(n.key);if(e.some(i=>i===s||Z5[i]===s))return t(n)},di={beforeMount(t,{value:e},{transition:n}){t._vod=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):fa(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:s}){!e!=!n&&(s?e?(s.beforeEnter(t),fa(t,!0),s.enter(t)):s.leave(t,()=>{fa(t,!1)}):fa(t,e))},beforeUnmount(t,{value:e}){fa(t,e)}};function fa(t,e){t.style.display=e?t._vod:"none"}const Q5=Ot({patchProp:B5},A5);let Hm;function ey(){return Hm||(Hm=i5(Q5))}const ty=(...t)=>{const e=ey().createApp(...t),{mount:n}=e;return e.mount=s=>{const i=ny(s);if(!i)return;const o=e._component;!Ve(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const r=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),r},e};function ny(t){return kt(t)?document.querySelector(t):t}const K=(t,e)=>{const n=t.__vccOpts||t;for(const[s,i]of e)n[s]=i;return n},sy={},iy={class:"module-wrapper"};function oy(t,e){const n=De("router-view");return w(),k("div",iy,[A(n)])}const ry=K(sy,[["render",oy]]),ay={class:"tabs-view"},ly={class:"tabs-view__titles"},cy=["onClick"],uy={class:"tabs-view__tabs"},dy=H({__name:"tabs-view",props:{titles:{}},emits:["tabChange"],setup(t,{emit:e}){const n=J(0);function s(i){n.value=i,e("tabChange",i)}return(i,o)=>(w(),k("div",ay,[m("div",ly,[(w(!0),k(he,null,Le(i.titles,(r,a)=>(w(),k("div",{class:_e(["tabs-view__titles__title",{active:i.titles.indexOf(r)===n.value}]),key:`${r}-title`,onClick:l=>s(a)},F(r),11,cy))),128))]),m("div",uy,[(w(!0),k(he,null,Le(i.titles,(r,a)=>Ee((w(),k("div",{class:"tabs-view__tabs__tab",key:`${r}-tab`},[Ge(i.$slots,`tab-${a}`,{},void 0,!0)])),[[di,i.titles.indexOf(r)===n.value]])),128))])]))}});const Ku=K(dy,[["__scopeId","data-v-5d1ecb5f"]]),hy={class:"list-pagination"},fy=["onClick"],py=H({__name:"list-pagination",props:{page:{},total:{},limit:{}},emits:["update:page"],setup(t,{emit:e}){const n=t,s=r=>{e("update:page",Number(r))},i=W(()=>Math.ceil(n.total/n.limit)),o=W(()=>Array.from({length:i.value},(r,a)=>a+1).map(r=>r===1||r===i.value||r>=n.page-2&&r<=n.page+2?{number:r,type:"page"}:{number:r,type:"ellipsis"}).filter((r,a,l)=>r.type==="ellipsis"?l[a-1].type!=="ellipsis":!0));return(r,a)=>(w(),k("div",hy,[(w(!0),k(he,null,Le(o.value,l=>(w(),k("div",{class:_e(["list-pagination__item",{"list-pagination__item--ellipsis":l.type==="ellipsis","list-pagination__item--active":l.number===n.page}]),key:l.number,onClick:c=>s(l.number)},F(l.type==="page"?l.number:"..."),11,fy))),128))]))}});const kn=K(py,[["__scopeId","data-v-f001fa28"]]),my={class:"text-input"},gy=["for"],_y=["id","type","placeholder"],vy=H({__name:"text-input",props:{password:{type:Boolean},error:{type:Boolean},placeholder:{},modelValue:{}},emits:["update:modelValue","enter-press"],setup(t,{emit:e}){const n=t,s=W({get:()=>n.modelValue,set:i=>e("update:modelValue",i)});return(i,o)=>(w(),k("div",my,[m("label",{for:`input-${String(i.$.uid)}`},null,8,gy),Ee(m("input",{id:`input-${String(i.$.uid)}`,type:i.password?"password":"text",placeholder:i.placeholder,class:_e({error:i.error}),"onUpdate:modelValue":o[0]||(o[0]=r=>s.value=r),onKeypress:o[1]||(o[1]=Zs(r=>i.$emit("enter-press"),["enter"]))},null,42,_y),[[nv,s.value]])]))}});const by=K(vy,[["__scopeId","data-v-67e4fee9"]]),yy="modulepreload",wy=function(t){return"/"+t},Ym={},ge=function(e,n,s){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=wy(o),o in Ym)return;Ym[o]=!0;const r=o.endsWith(".css"),a=r?'[rel="stylesheet"]':"";if(!!s)for(let u=i.length-1;u>=0;u--){const d=i[u];if(d.href===o&&(!r||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${a}`))return;const c=document.createElement("link");if(c.rel=r?"stylesheet":yy,r||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),r)return new Promise((u,d)=>{c.addEventListener("load",u),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e()).catch(o=>{const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=o,window.dispatchEvent(r),!r.defaultPrevented)throw o})},Wp=(t,e)=>{const n=t[e];return n?typeof n=="function"?n():Promise.resolve(n):new Promise((s,i)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(i.bind(null,new Error("Unknown variable dynamic import: "+e)))})},xy=H({__name:"inline-icon",props:{name:{},animation:{type:Boolean}},setup(t){const e=t;let n=Tl("div");return Wp(Object.assign({"./icons/add-icon.vue":()=>ge(()=>import("./add-icon-26465230.js"),[]),"./icons/attention-yellow-icon.vue":()=>ge(()=>import("./attention-yellow-icon-3b095f22.js"),[]),"./icons/bars-icon.vue":()=>ge(()=>import("./bars-icon-933aa7f3.js"),[]),"./icons/calender-icon.vue":()=>ge(()=>import("./calender-icon-71ae85c1.js"),[]),"./icons/change-user-icon.vue":()=>ge(()=>import("./change-user-icon-16ed71ba.js"),[]),"./icons/check-green-icon.vue":()=>ge(()=>import("./check-green-icon-795803c7.js"),[]),"./icons/check-red-icon.vue":()=>ge(()=>import("./check-red-icon-1a97c4fb.js"),[]),"./icons/copy-icon.vue":()=>ge(()=>import("./copy-icon-1d935571.js"),[]),"./icons/cross-red-icon.vue":()=>ge(()=>import("./cross-red-icon-8e6905c2.js"),[]),"./icons/delete-icon.vue":()=>ge(()=>import("./delete-icon-15627839.js"),[]),"./icons/edit-icon.vue":()=>ge(()=>import("./edit-icon-2803adad.js"),[]),"./icons/eye-icon.vue":()=>ge(()=>import("./eye-icon-66968b0c.js"),[]),"./icons/home-icon.vue":()=>ge(()=>import("./home-icon-73daa421.js"),["assets/home-icon-73daa421.js","assets/home-icon-fc17f420.css"]),"./icons/info-icon.vue":()=>ge(()=>import("./info-icon-af2b4716.js"),[]),"./icons/jpg-file-icon.vue":()=>ge(()=>import("./jpg-file-icon-9b92ffaa.js"),[]),"./icons/keyboard-icon.vue":()=>ge(()=>import("./keyboard-icon-0a8c1fca.js"),[]),"./icons/list-icon.vue":()=>ge(()=>import("./list-icon-a38c7e86.js"),["assets/list-icon-a38c7e86.js","assets/list-icon-7b8efec0.css"]),"./icons/logout-icon.vue":()=>ge(()=>import("./logout-icon-8ed9b8a0.js"),[]),"./icons/moon-icon.vue":()=>ge(()=>import("./moon-icon-7888c82f.js"),[]),"./icons/more-icon.vue":()=>ge(()=>import("./more-icon-7e2acd1a.js"),[]),"./icons/pdf-file-icon.vue":()=>ge(()=>import("./pdf-file-icon-eca02547.js"),[]),"./icons/png-file-icon.vue":()=>ge(()=>import("./png-file-icon-3c74456d.js"),[]),"./icons/search-icon.vue":()=>ge(()=>import("./search-icon-b032d639.js"),[]),"./icons/student-icon.vue":()=>ge(()=>import("./student-icon-19fad1b3.js"),[]),"./icons/sun-icon.vue":()=>ge(()=>import("./sun-icon-89401562.js"),[]),"./icons/telegram-blue-icon.vue":()=>ge(()=>import("./telegram-blue-icon-8934a623.js"),[]),"./icons/telegram-icon.vue":()=>ge(()=>import("./telegram-icon-dd144e1b.js"),[]),"./icons/uni-cap-icon.vue":()=>ge(()=>import("./uni-cap-icon-0f8f0ce4.js"),[]),"./icons/user-icon.vue":()=>ge(()=>import("./user-icon-ef5b1fd9.js"),[]),"./icons/users-icon.vue":()=>ge(()=>import("./users-icon-ddcb422f.js"),[])}),`./icons/${e.name}-icon.vue`).then(s=>{n.value=s.default}).catch(()=>{n.value="div"}),(s,i)=>(w(),U(On(v(n)),{class:_e(["icon",{animation:s.animation}])},null,8,["class"]))}});const Jt=K(xy,[["__scopeId","data-v-2ce46f9d"]]),ky={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",style:{"shape-rendering":"auto"},width:"1em",height:"1em",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"},Sy=m("clipPath",{id:"ldio-zi9awp8n1x-cp",clipPathUnits:"userSpaceOnUse"},[m("rect",{x:"0",y:"37",width:"100",height:"63"})],-1),$y={id:"ldio-zi9awp8n1x-pattern",patternUnits:"userSpaceOnUse",x:"0",y:"0",width:"100",height:"100"},Cy=m("rect",{x:"0",y:"0",width:"100",height:"100",fill:"var(--secondary)"},null,-1),Ay=["fill"],My=m("animateTransform",{attributeName:"transform",type:"translate",values:"0 146;0 -46",keyTimes:"0;1",dur:"3.0303030303030303s",begin:"-2.909090909090909s",repeatCount:"indefinite"},null,-1),Ey=[My],Ty=["fill"],Ly=m("animateTransform",{attributeName:"transform",type:"translate",values:"0 142;0 -42",keyTimes:"0;1",dur:"3.0303030303030303s",begin:"-0.9090909090909091s",repeatCount:"indefinite"},null,-1),Oy=[Ly],Dy=["fill"],Iy=m("animateTransform",{attributeName:"transform",type:"translate",values:"0 151;0 -51",keyTimes:"0;1",dur:"3.0303030303030303s",begin:"-0.7575757575757576s",repeatCount:"indefinite"},null,-1),Ry=[Iy],Py=["fill"],Ny=m("animateTransform",{attributeName:"transform",type:"translate",values:"0 149;0 -49",keyTimes:"0;1",dur:"3.0303030303030303s",begin:"-1.8484848484848484s",repeatCount:"indefinite"},null,-1),Vy=[Ny],zy=["fill"],By=m("animateTransform",{attributeName:"transform",type:"translate",values:"0 136;0 -36",keyTimes:"0;1",dur:"3.0303030303030303s",begin:"-1.9696969696969697s",repeatCount:"indefinite"},null,-1),Uy=[By],Fy=["fill"],qy=m("animateTransform",{attributeName:"transform",type:"translate",values:"0 128;0 -28",keyTimes:"0;1",dur:"3.0303030303030303s",begin:"-2.4242424242424243s",repeatCount:"indefinite"},null,-1),Wy=[qy],jy=["fill"],Hy=m("animateTransform",{attributeName:"transform",type:"translate",values:"0 129;0 -29",keyTimes:"0;1",dur:"3.0303030303030303s",begin:"-1.8181818181818181s",repeatCount:"indefinite"},null,-1),Yy=[Hy],Ky=["fill"],Xy=m("animateTransform",{attributeName:"transform",type:"translate",values:"0 157;0 -57",keyTimes:"0;1",dur:"3.0303030303030303s",begin:"-0.9696969696969697s",repeatCount:"indefinite"},null,-1),Gy=[Xy],Jy=["fill"],Zy=m("animateTransform",{attributeName:"transform",type:"translate",values:"0 154;0 -54",keyTimes:"0;1",dur:"3.0303030303030303s",begin:"-0.6060606060606061s",repeatCount:"indefinite"},null,-1),Qy=[Zy],e6=["fill"],t6=m("animateTransform",{attributeName:"transform",type:"translate",values:"0 103;0 -3",keyTimes:"0;1",dur:"3.0303030303030303s",begin:"-1.9696969696969697s",repeatCount:"indefinite"},null,-1),n6=[t6],s6=["fill"],i6=m("animateTransform",{attributeName:"transform",type:"translate",values:"0 109;0 -9",keyTimes:"0;1",dur:"3.0303030303030303s",begin:"-1.0303030303030303s",repeatCount:"indefinite"},null,-1),o6=[i6],r6=["fill"],a6=m("animateTransform",{attributeName:"transform",type:"translate",values:"0 153;0 -53",keyTimes:"0;1",dur:"3.0303030303030303s",begin:"-1.5454545454545454s",repeatCount:"indefinite"},null,-1),l6=[a6],c6=["fill"],u6=m("animateTransform",{attributeName:"transform",type:"translate",values:"0 137;0 -37",keyTimes:"0;1",dur:"3.0303030303030303s",begin:"-2.393939393939394s",repeatCount:"indefinite"},null,-1),d6=[u6],h6=["fill"],f6=m("animateTransform",{attributeName:"transform",type:"translate",values:"0 118;0 -18",keyTimes:"0;1",dur:"3.0303030303030303s",begin:"-2.393939393939394s",repeatCount:"indefinite"},null,-1),p6=[f6],m6=["fill"],g6=m("animateTransform",{attributeName:"transform",type:"translate",values:"0 115;0 -15",keyTimes:"0;1",dur:"3.0303030303030303s",begin:"-1s",repeatCount:"indefinite"},null,-1),_6=[g6],v6=["fill"],b6=m("animateTransform",{attributeName:"transform",type:"translate",values:"0 141;0 -41",keyTimes:"0;1",dur:"3.0303030303030303s",begin:"-2.9393939393939394s",repeatCount:"indefinite"},null,-1),y6=[b6],w6=["fill"],x6=m("animateTransform",{attributeName:"transform",type:"translate",values:"0 121;0 -21",keyTimes:"0;1",dur:"3.0303030303030303s",begin:"-2.787878787878788s",repeatCount:"indefinite"},null,-1),k6=[x6],S6=["fill"],$6=m("animateTransform",{attributeName:"transform",type:"translate",values:"0 136;0 -36",keyTimes:"0;1",dur:"3.0303030303030303s",begin:"-2.3636363636363638s",repeatCount:"indefinite"},null,-1),C6=[$6],A6=m("path",{fill:"url(#ldio-zi9awp8n1x-pattern)","clip-path":"url(#ldio-zi9awp8n1x-cp)",d:"M59,37.3V18.9c3-0.8,5.1-3.6,5.1-6.8C64.1,8.2,61,5,57.1,5H42.9c-3.9,0-7.1,3.2-7.1,7.1c0,3.2,2.2,6,5.1,6.8v18.4c-11.9,3.8-20.6,15-20.6,28.2C20.4,81.8,33.7,95,50,95s29.6-13.2,29.6-29.6C79.6,52.2,70.9,41.1,59,37.3z"},null,-1),M6=["stroke"],as=H({__name:"loader-icon",props:{contrast:{type:Boolean}},setup(t){const e=t,n=W(()=>e.contrast?"var(--dark)":"var(--lightest)");return(s,i)=>(w(),k("svg",ky,[m("defs",null,[Sy,m("pattern",$y,[Cy,m("circle",{cx:"68",cy:"0",r:"8",fill:n.value},Ey,8,Ay),m("circle",{cx:"30",cy:"0",r:"3",fill:n.value},Oy,8,Ty),m("circle",{cx:"76",cy:"0",r:"4",fill:n.value},Ry,8,Dy),m("circle",{cx:"25",cy:"0",r:"10",fill:n.value},Vy,8,Py),m("circle",{cx:"69",cy:"0",r:"5",fill:n.value},Uy,8,zy),m("circle",{cx:"16",cy:"0",r:"7",fill:n.value},Wy,8,Fy),m("circle",{cx:"49",cy:"0",r:"5",fill:n.value},Yy,8,jy),m("circle",{cx:"31",cy:"0",r:"8",fill:n.value},Gy,8,Ky),m("circle",{cx:"25",cy:"0",r:"6",fill:n.value},Qy,8,Jy),m("circle",{cx:"10",cy:"0",r:"3",fill:n.value},n6,8,e6),m("circle",{cx:"78",cy:"0",r:"5",fill:n.value},o6,8,s6),m("circle",{cx:"9",cy:"0",r:"10",fill:n.value},l6,8,r6),m("circle",{cx:"8",cy:"0",r:"5",fill:n.value},d6,8,c6),m("circle",{cx:"70",cy:"0",r:"8",fill:n.value},p6,8,h6),m("circle",{cx:"70",cy:"0",r:"6",fill:n.value},_6,8,m6),m("circle",{cx:"64",cy:"0",r:"2",fill:n.value},y6,8,v6),m("circle",{cx:"13",cy:"0",r:"8",fill:n.value},k6,8,w6),m("circle",{cx:"26",cy:"0",r:"3",fill:n.value},C6,8,S6)])]),A6,m("path",{fill:"none",stroke:n.value,"stroke-width":"5",d:"M59,37.3V18.9c3-0.8,5.1-3.6,5.1-6.8C64.1,8.2,61,5,57.1,5H42.9c-3.9,0-7.1,3.2-7.1,7.1c0,3.2,2.2,6,5.1,6.8v18.4c-11.9,3.8-20.6,15-20.6,28.2C20.4,81.8,33.7,95,50,95s29.6-13.2,29.6-29.6C79.6,52.2,70.9,41.1,59,37.3z"},null,8,M6)]))}}),E6=H({__name:"search-field",props:{modelValue:{},isLoading:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=W({get:()=>n.modelValue,set:o=>e("update:modelValue",o)}),i=J(!1);return(o,r)=>{const a=as,l=Jt,c=by;return w(),k("div",{class:"search-field",onMouseenter:r[2]||(r[2]=u=>i.value=!0),onMouseleave:r[3]||(r[3]=u=>i.value=!1)},[o.isLoading?(w(),U(a,{key:0,class:"search-field__icon",contrast:""})):(w(),U(l,{key:1,class:"search-field__icon",name:"search",animation:i.value},null,8,["animation"])),A(c,{placeholder:"Поиск",class:"search-field__input",type:"text",modelValue:s.value,"onUpdate:modelValue":r[0]||(r[0]=u=>s.value=u)},null,8,["modelValue"]),Ee(A(l,{name:"cross-red",class:"search-field__empty-button",onClick:r[1]||(r[1]=u=>s.value="")},null,512),[[di,s.value&&s.value.length]])],32)}}});const Sn=K(E6,[["__scopeId","data-v-3fd878d3"]]);function ln(t){document.title=t}var T6=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let sv;const Xu=t=>sv=t,iv=Symbol();function pf(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Na;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Na||(Na={}));function L6(){const t=o2(!0),e=t.run(()=>J({}));let n=[],s=[];const i=Vu({install(o){Xu(i),i._a=o,o.provide(iv,i),o.config.globalProperties.$pinia=i,s.forEach(r=>n.push(r)),s=[]},use(o){return!this._a&&!T6?s.push(o):n.push(o),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const ov=()=>{};function Km(t,e,n,s=ov){t.push(e);const i=()=>{const o=t.indexOf(e);o>-1&&(t.splice(o,1),s())};return!n&&r2()&&V8(i),i}function or(t,...e){t.slice().forEach(n=>{n(...e)})}const O6=t=>t();function mf(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,s)=>t.set(s,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n],i=t[n];pf(i)&&pf(s)&&t.hasOwnProperty(n)&&!At(s)&&!Vi(s)?t[n]=mf(i,s):t[n]=s}return t}const D6=Symbol();function I6(t){return!pf(t)||!t.hasOwnProperty(D6)}const{assign:Si}=Object;function R6(t){return!!(At(t)&&t.effect)}function P6(t,e,n,s){const{state:i,actions:o,getters:r}=e,a=n.state.value[t];let l;function c(){a||(n.state.value[t]=i?i():{});const u=p4(n.state.value[t]);return Si(u,o,Object.keys(r||{}).reduce((d,h)=>(d[h]=Vu(W(()=>{Xu(n);const f=n._s.get(t);return r[h].call(f,f)})),d),{}))}return l=rv(t,c,e,n,s,!0),l}function rv(t,e,n={},s,i,o){let r;const a=Si({actions:{}},n),l={deep:!0};let c,u,d=[],h=[],f;const p=s.state.value[t];!o&&!p&&(s.state.value[t]={}),J({});let g;function _(E){let q;c=u=!1,typeof E=="function"?(E(s.state.value[t]),q={type:Na.patchFunction,storeId:t,events:f}):(mf(s.state.value[t],E),q={type:Na.patchObject,payload:E,storeId:t,events:f});const ee=g=Symbol();Op().then(()=>{g===ee&&(c=!0)}),u=!0,or(d,q,s.state.value[t])}const b=o?function(){const{state:q}=n,ee=q?q():{};this.$patch(ie=>{Si(ie,ee)})}:ov;function x(){r.stop(),d=[],h=[],s._s.delete(t)}function $(E,q){return function(){Xu(s);const ee=Array.from(arguments),ie=[],X=[];function R(oe){ie.push(oe)}function j(oe){X.push(oe)}or(h,{args:ee,name:E,store:C,after:R,onError:j});let Y;try{Y=q.apply(this&&this.$id===t?this:C,ee)}catch(oe){throw or(X,oe),oe}return Y instanceof Promise?Y.then(oe=>(or(ie,oe),oe)).catch(oe=>(or(X,oe),Promise.reject(oe))):(or(ie,Y),Y)}}const S={_p:s,$id:t,$onAction:Km.bind(null,h),$patch:_,$reset:b,$subscribe(E,q={}){const ee=Km(d,E,q.detached,()=>ie()),ie=r.run(()=>We(()=>s.state.value[t],X=>{(q.flush==="sync"?u:c)&&E({storeId:t,type:Na.direct,events:f},X)},Si({},l,q)));return ee},$dispose:x},C=Gt(S);s._s.set(t,C);const L=(s._a&&s._a.runWithContext||O6)(()=>s._e.run(()=>(r=o2()).run(e)));for(const E in L){const q=L[E];if(At(q)&&!R6(q)||Vi(q))o||(p&&I6(q)&&(At(q)?q.value=p[E]:mf(q,p[E])),s.state.value[t][E]=q);else if(typeof q=="function"){const ee=$(E,q);L[E]=ee,a.actions[E]=q}}return Si(C,L),Si(Je(C),L),Object.defineProperty(C,"$state",{get:()=>s.state.value[t],set:E=>{_(q=>{Si(q,E)})}}),s._p.forEach(E=>{Si(C,r.run(()=>E({store:C,app:s._a,pinia:s,options:a})))}),p&&o&&n.hydrate&&n.hydrate(C.$state,p),c=!0,u=!0,C}function Ct(t,e,n){let s,i;const o=typeof e=="function";typeof t=="string"?(s=t,i=o?n:e):(i=t,s=t.id);function r(a,l){const c=Z4();return a=a||(c?qn(iv,null):null),a&&Xu(a),a=sv,a._s.has(s)||(o?rv(s,e,i,a):P6(s,i,a)),a._s.get(s)}return r.$id=s,r}const gf={API_URL:"https://api.noo-school.ru",MEDIA_URL:"https://cdn.noo-school.ru/uploads",APP_URL:"https://noo-school.ru",POLL_URL:"https://poll.noo-school.ru"};/*! js-cookie v3.0.5 | MIT */function fc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)t[s]=n[s]}return t}var N6={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function _f(t,e){function n(i,o,r){if(!(typeof document>"u")){r=fc({},e,r),typeof r.expires=="number"&&(r.expires=new Date(Date.now()+r.expires*864e5)),r.expires&&(r.expires=r.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var l in r)r[l]&&(a+="; "+l,r[l]!==!0&&(a+="="+r[l].split(";")[0]));return document.cookie=i+"="+t.write(o,i)+a}}function s(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var o=document.cookie?document.cookie.split("; "):[],r={},a=0;a<o.length;a++){var l=o[a].split("="),c=l.slice(1).join("=");try{var u=decodeURIComponent(l[0]);if(r[u]=t.read(c,u),i===u)break}catch{}}return i?r[i]:r}}return Object.create({set:n,get:s,remove:function(i,o){n(i,"",fc({},o,{expires:-1}))},withAttributes:function(i){return _f(this.converter,fc({},this.attributes,i))},withConverter:function(i){return _f(fc({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var vh=_f(N6,{path:"/"});class Cn{static set(e,n){vh.set(e,JSON.stringify(n),{expires:365})}static get(e){const n=vh.get(e);return n!==void 0?JSON.parse(n):null}static get User(){return this.get(this._aliases.user)}static set User(e){this.set(this._aliases.user,e)}static get ApiToken(){return this.get(this._aliases.apiToken)}static set ApiToken(e){this.set(this._aliases.apiToken,e)}static get Theme(){return this.get(this._aliases.theme)}static set Theme(e){this.set(this._aliases.theme,e)}static clear(){for(const e in this._aliases)vh.remove(this._aliases[e])}}P(Cn,"_aliases",{user:"noo.context.user",apiToken:"noo.context.apiToken",theme:"noo.context.theme"});let V6=class{constructor(){P(this,"events",new Map)}on(e,n){if(Array.isArray(n)){n.forEach(s=>this.on(e,s));return}this.events.has(e)||this.events.set(e,[]),this.events.get(e).push(n)}onMany(e){for(const n in e)this.on(n,e[n])}off(e,n){this.events.has(e)&&this.events.set(e,this.events.get(e).filter(s=>s!==n))}emit(e,n,...s){this.events.has(e)&&this.events.get(e).forEach(i=>i(n,...s))}};/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const cr=typeof window<"u";function z6(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const ct=Object.assign;function bh(t,e){const n={};for(const s in e){const i=e[s];n[s]=os(i)?i.map(t):t(i)}return n}const Va=()=>{},os=Array.isArray,B6=/\/$/,U6=t=>t.replace(B6,"");function yh(t,e,n="/"){let s,i={},o="",r="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=e.slice(0,l),o=e.slice(l+1,a>-1?a:e.length),i=t(o)),a>-1&&(s=s||e.slice(0,a),r=e.slice(a,e.length)),s=j6(s??e,n),{fullPath:s+(o&&"?")+o+r,path:s,query:i,hash:r}}function F6(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Xm(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function q6(t,e,n){const s=e.matched.length-1,i=n.matched.length-1;return s>-1&&s===i&&Tr(e.matched[s],n.matched[i])&&av(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Tr(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function av(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!W6(t[n],e[n]))return!1;return!0}function W6(t,e){return os(t)?Gm(t,e):os(e)?Gm(e,t):t===e}function Gm(t,e){return os(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function j6(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),i=s[s.length-1];(i===".."||i===".")&&s.push("");let o=n.length-1,r,a;for(r=0;r<s.length;r++)if(a=s[r],a!==".")if(a==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+s.slice(r-(r===s.length?1:0)).join("/")}var ll;(function(t){t.pop="pop",t.push="push"})(ll||(ll={}));var za;(function(t){t.back="back",t.forward="forward",t.unknown=""})(za||(za={}));function H6(t){if(!t)if(cr){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),U6(t)}const Y6=/^[^#]+#/;function K6(t,e){return t.replace(Y6,"#")+e}function X6(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const Gu=()=>({left:window.pageXOffset,top:window.pageYOffset});function G6(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=X6(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Jm(t,e){return(history.state?history.state.position-e:-1)+t}const vf=new Map;function J6(t,e){vf.set(t,e)}function Z6(t){const e=vf.get(t);return vf.delete(t),e}let Q6=()=>location.protocol+"//"+location.host;function lv(t,e){const{pathname:n,search:s,hash:i}=e,o=t.indexOf("#");if(o>-1){let a=i.includes(t.slice(o))?t.slice(o).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),Xm(l,"")}return Xm(n,t)+s+i}function e9(t,e,n,s){let i=[],o=[],r=null;const a=({state:h})=>{const f=lv(t,location),p=n.value,g=e.value;let _=0;if(h){if(n.value=f,e.value=h,r&&r===p){r=null;return}_=g?h.position-g.position:0}else s(f);i.forEach(b=>{b(n.value,p,{delta:_,type:ll.pop,direction:_?_>0?za.forward:za.back:za.unknown})})};function l(){r=n.value}function c(h){i.push(h);const f=()=>{const p=i.indexOf(h);p>-1&&i.splice(p,1)};return o.push(f),f}function u(){const{history:h}=window;h.state&&h.replaceState(ct({},h.state,{scroll:Gu()}),"")}function d(){for(const h of o)h();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:d}}function Zm(t,e,n,s=!1,i=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:i?Gu():null}}function t9(t){const{history:e,location:n}=window,s={value:lv(t,n)},i={value:e.state};i.value||o(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(l,c,u){const d=t.indexOf("#"),h=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:Q6()+t+l;try{e[u?"replaceState":"pushState"](c,"",h),i.value=c}catch(f){console.error(f),n[u?"replace":"assign"](h)}}function r(l,c){const u=ct({},e.state,Zm(i.value.back,l,i.value.forward,!0),c,{position:i.value.position});o(l,u,!0),s.value=l}function a(l,c){const u=ct({},i.value,e.state,{forward:l,scroll:Gu()});o(u.current,u,!0);const d=ct({},Zm(s.value,l,null),{position:u.position+1},c);o(l,d,!1),s.value=l}return{location:s,state:i,push:a,replace:r}}function n9(t){t=H6(t);const e=t9(t),n=e9(t,e.state,e.location,e.replace);function s(o,r=!0){r||n.pauseListeners(),history.go(o)}const i=ct({location:"",base:t,go:s,createHref:K6.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function s9(t){return typeof t=="string"||t&&typeof t=="object"}function cv(t){return typeof t=="string"||typeof t=="symbol"}const ki={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},uv=Symbol("");var Qm;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Qm||(Qm={}));function Lr(t,e){return ct(new Error,{type:t,[uv]:!0},e)}function qs(t,e){return t instanceof Error&&uv in t&&(e==null||!!(t.type&e))}const eg="[^/]+?",i9={sensitive:!1,strict:!1,start:!0,end:!0},o9=/[.+*?^${}()[\]/\\]/g;function r9(t,e){const n=ct({},i9,e),s=[];let i=n.start?"^":"";const o=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(i+="/");for(let d=0;d<c.length;d++){const h=c[d];let f=40+(n.sensitive?.25:0);if(h.type===0)d||(i+="/"),i+=h.value.replace(o9,"\\$&"),f+=40;else if(h.type===1){const{value:p,repeatable:g,optional:_,regexp:b}=h;o.push({name:p,repeatable:g,optional:_});const x=b||eg;if(x!==eg){f+=10;try{new RegExp(`(${x})`)}catch(S){throw new Error(`Invalid custom RegExp for param "${p}" (${x}): `+S.message)}}let $=g?`((?:${x})(?:/(?:${x}))*)`:`(${x})`;d||($=_&&c.length<2?`(?:/${$})`:"/"+$),_&&($+="?"),i+=$,f+=20,_&&(f+=-8),g&&(f+=-20),x===".*"&&(f+=-50)}u.push(f)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const r=new RegExp(i,n.sensitive?"":"i");function a(c){const u=c.match(r),d={};if(!u)return null;for(let h=1;h<u.length;h++){const f=u[h]||"",p=o[h-1];d[p.name]=f&&p.repeatable?f.split("/"):f}return d}function l(c){let u="",d=!1;for(const h of t){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const f of h)if(f.type===0)u+=f.value;else if(f.type===1){const{value:p,repeatable:g,optional:_}=f,b=p in c?c[p]:"";if(os(b)&&!g)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const x=os(b)?b.join("/"):b;if(!x)if(_)h.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);u+=x}}return u||"/"}return{re:r,score:s,keys:o,parse:a,stringify:l}}function a9(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function l9(t,e){let n=0;const s=t.score,i=e.score;for(;n<s.length&&n<i.length;){const o=a9(s[n],i[n]);if(o)return o;n++}if(Math.abs(i.length-s.length)===1){if(tg(s))return 1;if(tg(i))return-1}return i.length-s.length}function tg(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const c9={type:0,value:""},u9=/[a-zA-Z0-9_]/;function d9(t){if(!t)return[[]];if(t==="/")return[[c9]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(f){throw new Error(`ERR (${n})/"${c}": ${f}`)}let n=0,s=n;const i=[];let o;function r(){o&&i.push(o),o=[]}let a=0,l,c="",u="";function d(){c&&(n===0?o.push({type:0,value:c}):n===1||n===2||n===3?(o.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function h(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(c&&d(),r()):l===":"?(d(),n=1):h();break;case 4:h(),n=s;break;case 1:l==="("?n=2:u9.test(l)?h():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),d(),r(),i}function h9(t,e,n){const s=r9(d9(t.path),n),i=ct(s,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function f9(t,e){const n=[],s=new Map;e=ig({strict:!1,end:!0,sensitive:!1},e);function i(u){return s.get(u)}function o(u,d,h){const f=!h,p=p9(u);p.aliasOf=h&&h.record;const g=ig(e,u),_=[p];if("alias"in u){const $=typeof u.alias=="string"?[u.alias]:u.alias;for(const S of $)_.push(ct({},p,{components:h?h.record.components:p.components,path:S,aliasOf:h?h.record:p}))}let b,x;for(const $ of _){const{path:S}=$;if(d&&S[0]!=="/"){const C=d.record.path,T=C[C.length-1]==="/"?"":"/";$.path=d.record.path+(S&&T+S)}if(b=h9($,d,g),h?h.alias.push(b):(x=x||b,x!==b&&x.alias.push(b),f&&u.name&&!sg(b)&&r(u.name)),p.children){const C=p.children;for(let T=0;T<C.length;T++)o(C[T],b,h&&h.children[T])}h=h||b,(b.record.components&&Object.keys(b.record.components).length||b.record.name||b.record.redirect)&&l(b)}return x?()=>{r(x)}:Va}function r(u){if(cv(u)){const d=s.get(u);d&&(s.delete(u),n.splice(n.indexOf(d),1),d.children.forEach(r),d.alias.forEach(r))}else{const d=n.indexOf(u);d>-1&&(n.splice(d,1),u.record.name&&s.delete(u.record.name),u.children.forEach(r),u.alias.forEach(r))}}function a(){return n}function l(u){let d=0;for(;d<n.length&&l9(u,n[d])>=0&&(u.record.path!==n[d].record.path||!dv(u,n[d]));)d++;n.splice(d,0,u),u.record.name&&!sg(u)&&s.set(u.record.name,u)}function c(u,d){let h,f={},p,g;if("name"in u&&u.name){if(h=s.get(u.name),!h)throw Lr(1,{location:u});g=h.record.name,f=ct(ng(d.params,h.keys.filter(x=>!x.optional).map(x=>x.name)),u.params&&ng(u.params,h.keys.map(x=>x.name))),p=h.stringify(f)}else if("path"in u)p=u.path,h=n.find(x=>x.re.test(p)),h&&(f=h.parse(p),g=h.record.name);else{if(h=d.name?s.get(d.name):n.find(x=>x.re.test(d.path)),!h)throw Lr(1,{location:u,currentLocation:d});g=h.record.name,f=ct({},d.params,u.params),p=h.stringify(f)}const _=[];let b=h;for(;b;)_.unshift(b.record),b=b.parent;return{name:g,path:p,params:f,matched:_,meta:g9(_)}}return t.forEach(u=>o(u)),{addRoute:o,resolve:c,removeRoute:r,getRoutes:a,getRecordMatcher:i}}function ng(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function p9(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:m9(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function m9(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function sg(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function g9(t){return t.reduce((e,n)=>ct(e,n.meta),{})}function ig(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function dv(t,e){return e.children.some(n=>n===t||dv(t,n))}const hv=/#/g,_9=/&/g,v9=/\//g,b9=/=/g,y9=/\?/g,fv=/\+/g,w9=/%5B/g,x9=/%5D/g,pv=/%5E/g,k9=/%60/g,mv=/%7B/g,S9=/%7C/g,gv=/%7D/g,$9=/%20/g;function jp(t){return encodeURI(""+t).replace(S9,"|").replace(w9,"[").replace(x9,"]")}function C9(t){return jp(t).replace(mv,"{").replace(gv,"}").replace(pv,"^")}function bf(t){return jp(t).replace(fv,"%2B").replace($9,"+").replace(hv,"%23").replace(_9,"%26").replace(k9,"`").replace(mv,"{").replace(gv,"}").replace(pv,"^")}function A9(t){return bf(t).replace(b9,"%3D")}function M9(t){return jp(t).replace(hv,"%23").replace(y9,"%3F")}function E9(t){return t==null?"":M9(t).replace(v9,"%2F")}function _u(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function T9(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<s.length;++i){const o=s[i].replace(fv," "),r=o.indexOf("="),a=_u(r<0?o:o.slice(0,r)),l=r<0?null:_u(o.slice(r+1));if(a in e){let c=e[a];os(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function og(t){let e="";for(let n in t){const s=t[n];if(n=A9(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(os(s)?s.map(o=>o&&bf(o)):[s&&bf(s)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+n,o!=null&&(e+="="+o))})}return e}function L9(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=os(s)?s.map(i=>i==null?null:""+i):s==null?s:""+s)}return e}const O9=Symbol(""),rg=Symbol(""),Ju=Symbol(""),Hp=Symbol(""),yf=Symbol("");function pa(){let t=[];function e(s){return t.push(s),()=>{const i=t.indexOf(s);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Ai(t,e,n,s,i){const o=s&&(s.enterCallbacks[i]=s.enterCallbacks[i]||[]);return()=>new Promise((r,a)=>{const l=d=>{d===!1?a(Lr(4,{from:n,to:e})):d instanceof Error?a(d):s9(d)?a(Lr(2,{from:e,to:d})):(o&&s.enterCallbacks[i]===o&&typeof d=="function"&&o.push(d),r())},c=t.call(s&&s.instances[i],e,n,l);let u=Promise.resolve(c);t.length<3&&(u=u.then(l)),u.catch(d=>a(d))})}function wh(t,e,n,s){const i=[];for(const o of t)for(const r in o.components){let a=o.components[r];if(!(e!=="beforeRouteEnter"&&!o.instances[r]))if(D9(a)){const c=(a.__vccOpts||a)[e];c&&i.push(Ai(c,n,s,o,r))}else{let l=a();i.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${r}" at "${o.path}"`));const u=z6(c)?c.default:c;o.components[r]=u;const h=(u.__vccOpts||u)[e];return h&&Ai(h,n,s,o,r)()}))}}return i}function D9(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function ag(t){const e=qn(Ju),n=qn(Hp),s=W(()=>e.resolve(v(t.to))),i=W(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],d=n.matched;if(!u||!d.length)return-1;const h=d.findIndex(Tr.bind(null,u));if(h>-1)return h;const f=lg(l[c-2]);return c>1&&lg(u)===f&&d[d.length-1].path!==f?d.findIndex(Tr.bind(null,l[c-2])):h}),o=W(()=>i.value>-1&&N9(n.params,s.value.params)),r=W(()=>i.value>-1&&i.value===n.matched.length-1&&av(n.params,s.value.params));function a(l={}){return P9(l)?e[v(t.replace)?"replace":"push"](v(t.to)).catch(Va):Promise.resolve()}return{route:s,href:W(()=>s.value.href),isActive:o,isExactActive:r,navigate:a}}const I9=H({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:ag,setup(t,{slots:e}){const n=Gt(ag(t)),{options:s}=qn(Ju),i=W(()=>({[cg(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[cg(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=e.default&&e.default(n);return t.custom?o:Yu("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},o)}}}),R9=I9;function P9(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function N9(t,e){for(const n in e){const s=e[n],i=t[n];if(typeof s=="string"){if(s!==i)return!1}else if(!os(i)||i.length!==s.length||s.some((o,r)=>o!==i[r]))return!1}return!0}function lg(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const cg=(t,e,n)=>t??e??n,V9=H({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=qn(yf),i=W(()=>t.route||s.value),o=qn(rg,0),r=W(()=>{let c=v(o);const{matched:u}=i.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),a=W(()=>i.value.matched[r.value]);Wc(rg,W(()=>r.value+1)),Wc(O9,a),Wc(yf,i);const l=J();return We(()=>[l.value,a.value,t.name],([c,u,d],[h,f,p])=>{u&&(u.instances[d]=c,f&&f!==u&&c&&c===h&&(u.leaveGuards.size||(u.leaveGuards=f.leaveGuards),u.updateGuards.size||(u.updateGuards=f.updateGuards))),c&&u&&(!f||!Tr(u,f)||!h)&&(u.enterCallbacks[d]||[]).forEach(g=>g(c))},{flush:"post"}),()=>{const c=i.value,u=t.name,d=a.value,h=d&&d.components[u];if(!h)return ug(n.default,{Component:h,route:c});const f=d.props[u],p=f?f===!0?c.params:typeof f=="function"?f(c):f:null,_=Yu(h,ct({},p,e,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return ug(n.default,{Component:_,route:c})||_}}});function ug(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const z9=V9;function B9(t){const e=f9(t.routes,t),n=t.parseQuery||T9,s=t.stringifyQuery||og,i=t.history,o=pa(),r=pa(),a=pa(),l=Tl(ki);let c=ki;cr&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=bh.bind(null,te=>""+te),d=bh.bind(null,E9),h=bh.bind(null,_u);function f(te,fe){let de,xe;return cv(te)?(de=e.getRecordMatcher(te),xe=fe):xe=te,e.addRoute(xe,de)}function p(te){const fe=e.getRecordMatcher(te);fe&&e.removeRoute(fe)}function g(){return e.getRoutes().map(te=>te.record)}function _(te){return!!e.getRecordMatcher(te)}function b(te,fe){if(fe=ct({},fe||l.value),typeof te=="string"){const z=yh(n,te,fe.path),Z=e.resolve({path:z.path},fe),se=i.createHref(z.fullPath);return ct(z,Z,{params:h(Z.params),hash:_u(z.hash),redirectedFrom:void 0,href:se})}let de;if("path"in te)de=ct({},te,{path:yh(n,te.path,fe.path).path});else{const z=ct({},te.params);for(const Z in z)z[Z]==null&&delete z[Z];de=ct({},te,{params:d(z)}),fe.params=d(fe.params)}const xe=e.resolve(de,fe),je=te.hash||"";xe.params=u(h(xe.params));const O=F6(s,ct({},te,{hash:C9(je),path:xe.path})),I=i.createHref(O);return ct({fullPath:O,hash:je,query:s===og?L9(te.query):te.query||{}},xe,{redirectedFrom:void 0,href:I})}function x(te){return typeof te=="string"?yh(n,te,l.value.path):ct({},te)}function $(te,fe){if(c!==te)return Lr(8,{from:fe,to:te})}function S(te){return L(te)}function C(te){return S(ct(x(te),{replace:!0}))}function T(te){const fe=te.matched[te.matched.length-1];if(fe&&fe.redirect){const{redirect:de}=fe;let xe=typeof de=="function"?de(te):de;return typeof xe=="string"&&(xe=xe.includes("?")||xe.includes("#")?xe=x(xe):{path:xe},xe.params={}),ct({query:te.query,hash:te.hash,params:"path"in xe?{}:te.params},xe)}}function L(te,fe){const de=c=b(te),xe=l.value,je=te.state,O=te.force,I=te.replace===!0,z=T(de);if(z)return L(ct(x(z),{state:typeof z=="object"?ct({},je,z.state):je,force:O,replace:I}),fe||de);const Z=de;Z.redirectedFrom=fe;let se;return!O&&q6(s,xe,de)&&(se=Lr(16,{to:Z,from:xe}),ze(xe,xe,!0,!1)),(se?Promise.resolve(se):ee(Z,xe)).catch(re=>qs(re)?qs(re,2)?re:le(re):Se(re,Z,xe)).then(re=>{if(re){if(qs(re,2))return L(ct({replace:I},x(re.to),{state:typeof re.to=="object"?ct({},je,re.to.state):je,force:O}),fe||Z)}else re=X(Z,xe,!0,I,je);return ie(Z,xe,re),re})}function E(te,fe){const de=$(te,fe);return de?Promise.reject(de):Promise.resolve()}function q(te){const fe=wt.values().next().value;return fe&&typeof fe.runWithContext=="function"?fe.runWithContext(te):te()}function ee(te,fe){let de;const[xe,je,O]=U9(te,fe);de=wh(xe.reverse(),"beforeRouteLeave",te,fe);for(const z of xe)z.leaveGuards.forEach(Z=>{de.push(Ai(Z,te,fe))});const I=E.bind(null,te,fe);return de.push(I),lt(de).then(()=>{de=[];for(const z of o.list())de.push(Ai(z,te,fe));return de.push(I),lt(de)}).then(()=>{de=wh(je,"beforeRouteUpdate",te,fe);for(const z of je)z.updateGuards.forEach(Z=>{de.push(Ai(Z,te,fe))});return de.push(I),lt(de)}).then(()=>{de=[];for(const z of O)if(z.beforeEnter)if(os(z.beforeEnter))for(const Z of z.beforeEnter)de.push(Ai(Z,te,fe));else de.push(Ai(z.beforeEnter,te,fe));return de.push(I),lt(de)}).then(()=>(te.matched.forEach(z=>z.enterCallbacks={}),de=wh(O,"beforeRouteEnter",te,fe),de.push(I),lt(de))).then(()=>{de=[];for(const z of r.list())de.push(Ai(z,te,fe));return de.push(I),lt(de)}).catch(z=>qs(z,8)?z:Promise.reject(z))}function ie(te,fe,de){a.list().forEach(xe=>q(()=>xe(te,fe,de)))}function X(te,fe,de,xe,je){const O=$(te,fe);if(O)return O;const I=fe===ki,z=cr?history.state:{};de&&(xe||I?i.replace(te.fullPath,ct({scroll:I&&z&&z.scroll},je)):i.push(te.fullPath,je)),l.value=te,ze(te,fe,de,I),le()}let R;function j(){R||(R=i.listen((te,fe,de)=>{if(!Ue.listening)return;const xe=b(te),je=T(xe);if(je){L(ct(je,{replace:!0}),xe).catch(Va);return}c=xe;const O=l.value;cr&&J6(Jm(O.fullPath,de.delta),Gu()),ee(xe,O).catch(I=>qs(I,12)?I:qs(I,2)?(L(I.to,xe).then(z=>{qs(z,20)&&!de.delta&&de.type===ll.pop&&i.go(-1,!1)}).catch(Va),Promise.reject()):(de.delta&&i.go(-de.delta,!1),Se(I,xe,O))).then(I=>{I=I||X(xe,O,!1),I&&(de.delta&&!qs(I,8)?i.go(-de.delta,!1):de.type===ll.pop&&qs(I,20)&&i.go(-1,!1)),ie(xe,O,I)}).catch(Va)}))}let Y=pa(),oe=pa(),pe;function Se(te,fe,de){le(te);const xe=oe.list();return xe.length?xe.forEach(je=>je(te,fe,de)):console.error(te),Promise.reject(te)}function qe(){return pe&&l.value!==ki?Promise.resolve():new Promise((te,fe)=>{Y.add([te,fe])})}function le(te){return pe||(pe=!te,j(),Y.list().forEach(([fe,de])=>te?de(te):fe()),Y.reset()),te}function ze(te,fe,de,xe){const{scrollBehavior:je}=t;if(!cr||!je)return Promise.resolve();const O=!de&&Z6(Jm(te.fullPath,0))||(xe||!de)&&history.state&&history.state.scroll||null;return Op().then(()=>je(te,fe,O)).then(I=>I&&G6(I)).catch(I=>Se(I,te,fe))}const Ze=te=>i.go(te);let at;const wt=new Set,Ue={currentRoute:l,listening:!0,addRoute:f,removeRoute:p,hasRoute:_,getRoutes:g,resolve:b,options:t,push:S,replace:C,go:Ze,back:()=>Ze(-1),forward:()=>Ze(1),beforeEach:o.add,beforeResolve:r.add,afterEach:a.add,onError:oe.add,isReady:qe,install(te){const fe=this;te.component("RouterLink",R9),te.component("RouterView",z9),te.config.globalProperties.$router=fe,Object.defineProperty(te.config.globalProperties,"$route",{enumerable:!0,get:()=>v(l)}),cr&&!at&&l.value===ki&&(at=!0,S(i.location).catch(je=>{}));const de={};for(const je in ki)Object.defineProperty(de,je,{get:()=>l.value[je],enumerable:!0});te.provide(Ju,fe),te.provide(Hp,_2(de)),te.provide(yf,l);const xe=te.unmount;wt.add(te),te.unmount=function(){wt.delete(te),wt.size<1&&(c=ki,R&&R(),R=null,l.value=ki,at=!1,pe=!1),xe()}}};function lt(te){return te.reduce((fe,de)=>fe.then(()=>q(de)),Promise.resolve())}return Ue}function U9(t,e){const n=[],s=[],i=[],o=Math.max(e.matched.length,t.matched.length);for(let r=0;r<o;r++){const a=e.matched[r];a&&(t.matched.find(c=>Tr(c,a))?s.push(a):n.push(a));const l=t.matched[r];l&&(e.matched.find(c=>Tr(c,l))||i.push(l))}return[n,s,i]}function Is(){return qn(Ju)}function Dt(){return qn(Hp)}class F9{constructor(e,n){P(this,"_eventEmitter",new V6);P(this,"_route",Dt());e&&n?(Cn.User=e,Cn.ApiToken=n):this._eventEmitter.emit("global:logout",this)}get User(){return Object.freeze(Cn.User)}get ApiToken(){return Cn.ApiToken}get Theme(){return Cn.Theme}set Theme(e){Cn.Theme=e}isInitialized(){return Cn.User&&Cn.ApiToken}get Events(){return this._eventEmitter}set User(e){Cn.User=e}set ApiToken(e){Cn.ApiToken=e}get Route(){return this._route}isLoggedIn(){return Cn.User!==null}clear(){Cn.clear()}}const q9=t=>{console.log("Event triggered: global:logout"),t.clear(),window.location.pathname!=="/auth"&&window.location.replace("/auth")},W9=t=>{console.log("Event triggered: global:init"),t.Route.path!=="/auth"&&t.Route.path!=="/"&&t.User===null&&(t.clear(),console.log("Redirect to /auth",t.Route.path),Is().push("/auth"))},j9=t=>{console.log("Event triggered: global:login"),t.Route.path==="/auth"&&window.location.replace("/courses")},H9=t=>{console.log("Event triggered: global:retry-login"),N.Services.UI.openRetryLoginModal()},Y9={"global:logout":[q9],"global:login":[j9],"global:init":[W9],"global:retry-login":[H9]};class _v{constructor(e){P(this,"_context");this._context=e}}class ls extends _v{httpGet(e,n={},s={}){const i=`${e}?${this._getParams(n)}`;return this._httpRequest("GET",i,void 0,s)}httpPost(e,n={},s={}){return this._httpRequest("POST",e,n,s)}httpPatch(e,n={},s={}){return this._httpRequest("PATCH",e,n,s)}httpDelete(e,n={}){return this._httpRequest("DELETE",e,void 0,n)}uploadFiles(e,n){return new Promise((s,i)=>{const o=new FormData;for(const a of e)o.append("files",a);const r=new XMLHttpRequest;r.open("POST",`${gf.API_URL}/media`,!0),r.upload.addEventListener("progress",a=>{a.lengthComputable&&n.call(void 0,Math.round(a.loaded/a.total*100))}),r.addEventListener("error",()=>{i({status:400,message:"Неизвестная ошибка"})}),r.addEventListener("abort",()=>{i({status:0,message:"Загрузка отменена"})}),r.addEventListener("load",()=>{var a;if(r.status<400)try{s(JSON.parse(r.responseText))}catch{i({status:r.status,message:"Неизвестная ошибка"})}else try{i({status:r.status,message:((a=JSON.parse(r.responseText))==null?void 0:a.error)||"Неизвестная ошибка"})}catch{i({status:r.status,message:"Неизвестная ошибка"})}}),r.setRequestHeader("Authorization",`Bearer ${this._context.ApiToken}`),r.send(o)})}async _httpRequest(e,n,s,i={}){const o=`${gf.API_URL}${n}`,r={method:e,headers:this._getHeaders(i,s instanceof FormData?"form":"json"),body:this._getBody(s)};try{const a=await fetch(o,r),l=await a.text();if(!a.ok)throw{status:a.status,message:JSON.parse(l).error};return l?JSON.parse(l,(c,u)=>/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/.test(u)?new Date(u):u):void 0}catch(a){throw a.status===401&&(this._context.isInitialized()?this._context.Events.emit("global:retry-login",this._context):this._context.Events.emit("global:logout",this._context)),a}}_getHeaders(e,n="json"){const s={Authorization:`Bearer ${this._context.ApiToken}`,...e};return n==="json"&&(s["Content-Type"]="application/json"),s}_getParams(e){const n=e.relations||[],s=Object.keys(e).filter(r=>!r.startsWith("filter[")&&r!=="relations").reduce((r,a)=>(r[a]=e[a],r),{});let i=Object.keys(e).filter(r=>r.startsWith("filter["));i=i.filter(r=>e[r]===void 0?!1:Array.isArray(e[r].value)?e[r].value.length>0:!0);let o=new URLSearchParams(s).toString();for(const r of i)o+=`&${r}=${this._stringifyFilter(e[r])}`;for(const r of n)o+=`&relations[]=${r}`;return o}_stringifyFilter(e){switch(e.type){case"range":return`range(${this._stringifyType(e.value[0])}|${this._stringifyType(e.value[1])})`;case"arr":return`arr(${e.value.map(this._stringifyType).join("|")})`;case"tags":return`tags(${e.value.map(this._stringifyType).join("|")})`;case"string":case"number":case"boolean":case"null":default:return this._stringifyType(e.value)}}_stringifyType(e){return e===null?"null":e instanceof Date?e.toISOString():e.toString()}_getBody(e){if(e)return e instanceof FormData?e:JSON.stringify(e)}}class K9 extends ls{constructor(n){super(n);P(this,"_route","/assigned-work")}async getAssignedWork(n){return await this.httpGet(`${this._route}/${n}`)}async getAssignedWorks(n){return await this.httpGet(`${this._route}`,n)}async getAssignedWorksFromUser(n,s){return await this.httpGet(`${this._route}/from-user/${n}`,s)}async createAssignedWork(n){await this.httpPost(`${this._route}`,n)}async remakeAssignedWork(n,s=!1){await this.httpPost(`${this._route}/${n}/remake`,{onlyFalse:s})}async getOrCreateAssignedWork(n){return await this.httpPost(`${this._route}/${n}`)}async archiveAssignedWork(n){await this.httpPatch(`${this._route}/${n}/archive`)}async unarchiveAssignedWork(n){await this.httpPatch(`${this._route}/${n}/unarchive`)}async solveAssignedWork(n,s){await this.httpPatch(`${this._route}/${n}/solve`,s)}async checkAssignedWork(n,s){await this.httpPatch(`${this._route}/${n}/check`,s)}async saveAssignedWorkProgress(n,s){await this.httpPatch(`${this._route}/${n}/save`,s)}async transferAssignedWork(n,s){await this.httpPatch(`${this._route}/${n}/transfer/${s}`)}async changeMentor(n,s){await this.httpPatch(`${this._route}/${n}/replace-mentor/${s}`)}async shiftAssignedWorkDeadline(n){await this.httpPatch(`${this._route}/${n}/shift-deadline`)}async deleteAssignedWork(n){await this.httpDelete(`${this._route}/${n}`)}}class X9 extends ls{constructor(n){super(n);P(this,"_route","/user/auth")}async login({usernameOrEmail:n,password:s}){const i=await this.httpPost(`${this._route}/login`,{usernameOrEmail:n,password:s});return i&&"data"in i&&i.data&&"token"in i.data&&(this._context.User=i.data.user,this._context.ApiToken=i.data.token,this._context.Events.emit("global:login",this._context)),i}async retryLogin({usernameOrEmail:n,password:s}){const i=await this.httpPost(`${this._route}/login`,{usernameOrEmail:n,password:s});return i&&"data"in i&&i.data&&"token"in i.data?(this._context.User=i.data.user,this._context.ApiToken=i.data.token,!0):!1}async logout(){this._context.clear(),this._context.Events.emit("global:logout",this._context)}async register(n){await this.httpPost(`${this._route}/register`,n)}async checkUsername(n){return(await this.httpGet(`${this._route}/check-username/${n}`)).data.exists}async verify(n,s){await this.httpPatch(`${this._route}/verify`,{username:n,token:s})}async resendVerification(n){await this.httpPost(`${this._route}/resend-verification`,{email:n})}async forgotPassword(n){await this.httpPost(`${this._route}/forgot-password`,{email:n})}}class G9 extends ls{constructor(n){super(n);P(this,"_route","/blog")}async getPosts(n){return await this.httpGet(this._route,n)}async getPost(n){return await this.httpGet(`${this._route}/${n}`)}async toggleReaction(n,s){return await this.httpPatch(`${this._route}/${n}/react/${s}`)}async createPost(n){return await this.httpPost(this._route,n)}async updatePost(n,s){await this.httpPatch(`${this._route}/${n}`,s)}async deletePost(n){await this.httpDelete(`${this._route}/${n}`)}}class J9 extends ls{constructor(n){super(n);P(this,"_route","/calender")}async getEvents(n){return await this.httpGet(this._route,n)}async createEvent(n){return await this.httpPost(this._route,n)}async updateEvent(n,s){await this.httpPatch(`${this._route}/${n}`,s)}async deleteEvent(n){await this.httpDelete(`${this._route}/${n}`)}}class Z9 extends ls{constructor(n){super(n);P(this,"_route","/course")}async getCourse(n){return await this.httpGet(`${this._route}/${n}`)}async getCourses(n){return await this.httpGet(this._route,n)}async createCourse(n){await this.httpPost(this._route,n)}async updateCourse(n,s){await this.httpPatch(`${this._route}/${n}`,s)}async assignWorkToMaterial(n,s,i){await this.httpPatch(`${this._route}/${n}/assign-work/${s}`,i)}async assignStudentsToCourse(n,s){await this.httpPatch(`${this._route}/${n}/assign-students`,{studentIds:s})}async addStudentsToCourse(n,s){await this.httpPatch(`${this._route}/${n}/add-students`,{studentIds:s})}async removeStudentsFromCourse(n,s){await this.httpPatch(`${this._route}/${n}/remove-students`,{studentIds:s})}async addStudentsViaEmail(n,s){await this.httpPatch(`${this._route}/${n}/add-students-via-emails`,s)}async deleteCourse(n){await this.httpDelete(`${this._route}/${n}`)}}class Q9 extends ls{constructor(e){super(e)}async upload(e,n=()=>{}){return this.uploadFiles(e,n)}}class e7 extends ls{constructor(n){super(n);P(this,"_route","/notification")}}class t7 extends ls{constructor(n){super(n);P(this,"_route","/poll")}async getPoll(n){return await this.httpGet(`${this._route}/${n}`)}async getPollInfo(n){return await this.httpGet(`${this._route}/${n}/info`)}async saveAnswers(n,s){await this.httpPost(`${this._route}/${n}/answer`,s)}async searchWhoVoted(n,s){return await this.httpGet(`${this._route}/${n}/user`,s)}async searchWhoVotedUnregistered(n,s){return await this.httpGet(`${this._route}/${n}/unregistered`,s)}async getAnswers(n,s){return await this.httpGet(`${this._route}/${n}/user/${s}/answer`)}async editAnswer(n,s){await this.httpPatch(`${this._route}/answer/${n}`,s)}}class n7 extends ls{constructor(n){super(n);P(this,"_route","/statistics")}async getStatistics(n,s,i,o){return this.httpPost(`${this._route}/${n}`,{to:s,from:i,type:o})}}class s7 extends ls{constructor(n){super(n);P(this,"_route","/user")}async getUser(n){return await this.httpGet(`${this._route}/${n}`)}async getUsers(n){return await this.httpGet(this._route,n)}async getUsersWithMentors(n){const s={...n};return s.relations=["mentor","students"],await this.httpGet(this._route,s)}async getStudents(n){return await this.httpGet(`${this._route}/student/search`,n)}async getOwnStudents(n){return await this.httpGet(`${this._route}/student/search/own`,n)}async getMentors(n){return await this.httpGet(`${this._route}/mentor/search`,n)}async getTeachers(n){return await this.httpGet(`${this._route}/teacher/search`,n)}async assignMentor(n,s){await this.httpPatch(`${this._route}/${n}/assign-mentor/${s}`)}async updateUser(n,s){await this.httpPatch(`${this._route}/${n}`,s)}async updateTelegram(n,s){await this.httpPatch(`${this._route}/${n}/telegram`,s)}async deleteUser(n){await this.httpDelete(`${this._route}/${n}`)}validatePassword(n){return this.passwordCriteria().every(s=>s.isValid(n))}async confirmUser(n){await this.httpPatch(`${this._route}/${n}/verify-manual`)}passwordCriteria(){return[{errorText:"Пароль должен содержать не менее 8 символов",label:"8 или более символов",isValid:n=>n.length>=8},{errorText:"Пароль должен содержать не менее 1 цифры",label:"1 цифра",isValid:n=>/\d/.test(n)},{errorText:"Пароль должен содержать не менее 1 символа в верхнем регистре",label:"1 заглавная буква",isValid:n=>/[A-Z]/.test(n)},{errorText:"Пароль должен содержать не менее 1 символа в нижнем регистре",label:"1 строчная буква",isValid:n=>/[a-z]/.test(n)},{errorText:"Пароль не должен содержать пробелов",label:"Без пробелов",isValid:n=>!/\s/.test(n)}]}}class i7 extends ls{constructor(n){super(n);P(this,"_route","/work")}async getWork(n){return await this.httpGet(`${this._route}/${n}`)}async getWorks(n){return await this.httpGet(this._route,n)}async createWork(n){await this.httpPost(this._route,n)}async copyWork(n){await this.httpPost(`${this._route}/copy/${n}`)}async updateWork(n,s){await this.httpPatch(`${this._route}/${n}`,s)}async deleteWork(n){await this.httpDelete(`${this._route}/${n}`)}}class o7 extends _v{constructor(e){super(e)}}function r7(){return Ct("ui",()=>{const t=J(!1),e=J(!1),n=J([{title:"Блог/Новости",icon:"home",route:"/blog",for:["admin","teacher","mentor","student"]},{title:"Курсы",icon:"uni-cap",route:"/courses",for:["admin","teacher","mentor","student"]},{title:"Работы",icon:"list",route:"/assigned-works",for:["student","mentor"]},{title:"Работы",icon:"list",route:"/works",for:["teacher","admin"]},{title:"Мои ученики",icon:"student",route:"/students",for:["mentor"]},{title:"Пользователи",icon:"users",route:"/users",for:["admin","teacher","mentor"]},{title:"Календарь",icon:"calender",route:"/calender",for:["admin","student","teacher","mentor"]},{title:"Профиль",icon:"user",route:"/profile",for:["admin","student","teacher","mentor"]}]),s=J({type:"info",isOpen:!1,title:"",message:void 0,actions:[]}),i=J({isOpen:!1,usernameOrEmail:"",password:""});return{isLoading:t,isPaneOpen:e,navEntries:n,globalModal:s,retryLoginModal:i}})}class a7 extends o7{constructor(n){super(n);P(this,"_useStoreRef");P(this,"_store");this._useStoreRef=r7(),this._store=this._useStoreRef()}Store(){return this._useStoreRef()}setLoading(n){this._store.isLoading=n}setPaneOpen(n){this._store.isPaneOpen=n}getNavEntries(){var s;const n=(s=this._context.User)==null?void 0:s.role;return n?this._store.navEntries.filter(i=>i.for.includes(n)):[]}openErrorModal(n,s,i=[]){this._store.globalModal.type="error",this._store.globalModal.title=n,this._store.globalModal.message=s,this._store.globalModal.isOpen=!0,this._store.globalModal.actions=i}openRetryLoginModal(){this._store.retryLoginModal.isOpen=!0}openWarningModal(n,s,i=[]){this._store.globalModal.type="warning",this._store.globalModal.title=n,this._store.globalModal.message=s,this._store.globalModal.isOpen=!0,this._store.globalModal.actions=i}openInfoModal(n,s,i=[]){this._store.globalModal.type="info",this._store.globalModal.title=n,this._store.globalModal.message=s,this._store.globalModal.isOpen=!0,this._store.globalModal.actions=i}openSuccessModal(n,s,i=[]){this._store.globalModal.type="success",this._store.globalModal.title=n,this._store.globalModal.message=s,this._store.globalModal.isOpen=!0,this._store.globalModal.actions=i}closeModal(){this._store.globalModal.title="",this._store.globalModal.message=void 0,this._store.globalModal.isOpen=!1,this._store.globalModal.actions=[]}}class vv{static getServices(e){return Object.keys(this._services).reduce((n,s)=>(n[s]=new this._services[s](e),n),{})}}P(vv,"_services",{Auth:X9,Work:i7,AssignedWork:K9,User:s7,Course:Z9,Media:Q9,Statistics:n7,Notification:e7,Calender:J9,Blog:G9,Poll:t7,UI:a7});class l7{constructor(){P(this,"_itialized",!1);P(this,"_context");P(this,"_services");if(this._itialized)throw new Error("Core is a singletone")}init(){return this._itialized||(console.log("Core init"),this._context=new F9,this._services=vv.getServices(this._context),this._subscribeCoreEvents(),this._itialized=!0,this._context.Events.emit("global:init",this._context)),this}isInitialized(){return this._itialized}get Context(){return this.throwIfNotInitialized(),this._context}get Services(){return this.throwIfNotInitialized(),this._services}get Constants(){return this.throwIfNotInitialized(),gf}throwIfNotInitialized(){if(!this._itialized)throw new Error("Core is not initialized")}_subscribeCoreEvents(){this._context.Events.onMany(Y9)}}const N=new l7;function Yp(t,e=250){let n;return function(...s){return new Promise(i=>{n&&clearTimeout(n),n=setTimeout(()=>i(t.call(void 0,...s)),e)})}}function Lt(t,e={initialPagination:{search:"",page:1,limit:25,order:"DESC",sort:"id"},debounceTime:250,immediate:!0}){var u,d,h,f;const n=J({...e.initialPagination,search:((u=e.initialPagination)==null?void 0:u.search)||"",page:((d=e.initialPagination)==null?void 0:d.page)||1,limit:((h=e.initialPagination)==null?void 0:h.limit)||25}),s=J([]),i=J({total:0,relations:[]}),o=J(!1),r=J(((f=e.initialPagination)==null?void 0:f.search)||"");We(n,()=>o.value=!0,{immediate:e.immediate,deep:!0}),We(n,Yp(async p=>{p.search!==r.value&&(p.page=1,r.value=p.search||"");const g=await t(p);o.value=!1,g&&(s.value=g.data,i.value=g.meta||{total:0,relations:[]})},e.debounceTime),{immediate:e.immediate,deep:!0});function a(){n.value={...n.value}}let l=!1;function c(){l||(a(),l=!0)}return{pagination:n,results:s,resultsMeta:i,isListLoading:o,trigger:a,triggerOnce:c}}const Kp=Ct("assigned-works-module:assigned-works",()=>{const t=N.Services.AssignedWork,e=N.Services.UI;function n(T){return async function(L){try{return await t.getAssignedWorks({...L||{},...T||{}})}catch(E){e.openErrorModal("Ошибка при загрузке списка работ",E.message)}}}const s=Lt(n(N.Context.User.role==="mentor"?{"filter[isArchived]":{type:"boolean",value:!1},"filter[solveStatus]":{type:"arr",value:["made-in-deadline","made-after-deadline"]}}:{}),{immediate:!0}),i=J([]),o=W(()=>i.value.map(T=>s.results.value.find(L=>L.id===T)).filter(Boolean)),r=Lt(n(N.Context.User.role==="mentor"?{"filter[solveStatus]":{type:"arr",value:["not-started","in-progress"]},"filter[isArchived]":{type:"boolean",value:!1}}:{"filter[solveStatus]":{type:"arr",value:["not-started","in-progress"]}}),{immediate:!1}),a=J([]),l=W(()=>a.value.map(T=>r.results.value.find(L=>L.id===T)).filter(Boolean)),c=Lt(n(N.Context.User.role==="mentor"?{"filter[checkStatus]":{type:"arr",value:["not-checked","in-progress"]},"filter[solveStatus]":{type:"arr",value:["made-in-deadline","made-after-deadline"]},"filter[isArchived]":{type:"boolean",value:!1}}:{"filter[checkStatus]":{type:"arr",value:["not-checked","in-progress"]}}),{immediate:!1}),u=J([]),d=W(()=>u.value.map(T=>c.results.value.find(L=>L.id===T)).filter(Boolean)),h=Lt(n(N.Context.User.role==="mentor"?{"filter[checkStatus]":{type:"arr",value:["checked-in-deadline","checked-after-deadline","checked-automatically"]},"filter[isArchived]":{type:"boolean",value:!1}}:{"filter[checkStatus]":{type:"arr",value:["checked-in-deadline","checked-after-deadline","checked-automatically"]}}),{immediate:!1}),f=J([]),p=W(()=>f.value.map(T=>h.results.value.find(L=>L.id===T)).filter(Boolean)),g=Lt(n({"filter[isArchived]":{type:"boolean",value:!0}}),{immediate:!1}),_=J([]),b=W(()=>_.value.map(T=>g.results.value.find(L=>L.id===T)).filter(Boolean));function x(T){const L=N.Context.User.role;return L==="admin"||L==="teacher"?{action:"Просмотреть",link:E=>`/assigned-works/${E}/read`,icon:T.checkStatus==="not-checked"?"attention-yellow":"check-green"}:L==="mentor"?T.solveStatus==="not-started"||T.solveStatus==="in-progress"?{action:"Просмотреть",link:E=>`/assigned-works/${E}/read`,icon:"cross-red"}:T.checkStatus==="not-checked"&&(T.solveStatus==="made-in-deadline"||T.solveStatus==="made-after-deadline")?{action:"Ожидает проверки",link:E=>`/assigned-works/${E}/check`,icon:"attention-yellow"}:T.checkStatus==="not-checked"?{action:"Проверить",link:E=>`/assigned-works/${E}/check`,icon:"attention-yellow"}:T.checkStatus==="in-progress"?{action:"Продолжить проверку",link:E=>`/assigned-works/${E}/check`,icon:"attention-yellow"}:{action:"Просмотреть",link:E=>`/assigned-works/${E}/read`,icon:"check-green"}:T.solveStatus==="not-started"?{action:"Начать выполнение",link:E=>`/assigned-works/${E}/solve`,icon:"cross-red"}:T.solveStatus==="in-progress"?{action:"Продолжить выполнение",link:E=>`/assigned-works/${E}/solve`,icon:"cross-red"}:T.checkStatus==="not-checked"&&(T.solveStatus==="made-in-deadline"||T.solveStatus==="made-after-deadline")?{action:"Ожидает проверки",link:E=>`/assigned-works/${E}/read`,icon:"attention-yellow"}:{action:"Просмотреть",link:E=>`/assigned-works/${E}/read`,icon:"check-green"}}async function $(T){e.setLoading(!0);try{await Promise.all(T.map(L=>t.archiveAssignedWork(L.id))),e.openSuccessModal("Работы успешно архивированы!")}catch(L){e.openErrorModal("Ошибка при архивировании работ",L.message)}finally{e.setLoading(!1)}}async function S(T){e.setLoading(!0);try{await Promise.all(T.map(L=>t.unarchiveAssignedWork(L.id))),e.openSuccessModal("Работы успешно архивированы!")}catch(L){e.openErrorModal("Ошибка при архивировании работ",L.message)}finally{e.setLoading(!1)}}function C(T){switch(T){case 0:s.triggerOnce();break;case 1:r.triggerOnce();break;case 2:c.triggerOnce();break;case 3:h.triggerOnce();break;case 4:g.triggerOnce();break}}return{allSearch:s,allSearchChecklist:i,allSearchSelectedWorks:o,notSolvedSearch:r,notSolvedSearchChecklist:a,notSolvedSearchSelectedWorks:l,notCheckedSearch:c,notCheckedSearchChecklist:u,notCheckedSearchSelectedWorks:d,archivedSearch:g,archivedSearchChecklist:_,archivedSearchSelectedWorks:b,checkedSearch:h,checkedSearchChecklist:f,checkedSearchSelectedWorks:p,getUserAction:x,archiveWorks:$,unarchiveWorks:S,changeTab:C}});const c7={},u7={xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",width:"7.62cm",height:"5.08cm",version:"1.1",style:{"shape-rendering":"geometricPrecision","text-rendering":"geometricPrecision","image-rendering":"optimizeQuality","fill-rule":"evenodd","clip-rule":"evenodd"},viewBox:"0 0 7620 5080","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:xodm":"http://www.corel.com/coreldraw/odm/2003"},d7=X2('<g id="Слой_x0020_1" data-v-e6998206><metadata id="CorelCorpID_0Corel-Layer" data-v-e6998206></metadata><g id="_1935726440288" data-v-e6998206><rect class="fil0" x="-0.01" width="7620" height="5080" data-v-e6998206></rect><polygon class="fil1" points="4697.51,1590.1 4582.74,1590.1 4594.01,1632.77 4651.2,1646.79 4694.41,1617.6 " data-v-e6998206></polygon><path class="fil1" d="M3798.82 1713.22c520.94,174.87 896.35,667.92 896.35,1248.88 0,727.26 -588.26,1316.82 -1313.91,1316.82 -725.65,0 -1313.91,-589.56 -1313.91,-1316.82 0,-579.82 373.92,-1072.11 893.28,-1247.88l0 -751.62 838.19 0 0 750.62z" data-v-e6998206></path><path class="fil2" d="M7612.27 5066.17l-7604.55 0c-4.27,0 -7.72,3.1 -7.72,6.92 0,3.81 3.45,6.91 7.72,6.91l7604.55 0c4.26,0 7.72,-3.1 7.72,-6.91 0,-3.82 -3.46,-6.92 -7.72,-6.92z" data-v-e6998206></path><path class="fil2" d="M3473.25 35.28c1.22,-4.13 6.03,-6.6 10.73,-5.52 4.7,1.08 7.53,5.33 6.31,9.46 -3.85,13.06 -9.79,29.66 -17.36,46.66 7.98,11.04 14.32,22.95 18.74,35.22 7.07,19.74 9.61,40.31 8.54,60.78 -1.15,22.18 -6.56,44.19 -14.98,64.86 -8.02,19.64 -18.67,38.31 -30.88,56.22 -7.4,10.84 -15.38,21.4 -23.7,31.73 19.93,24.06 29.64,53.7 29.2,82.9 -0.34,22.44 -6.67,44.7 -18.95,64.11 4,6.02 7.13,12.47 9.32,19.11 5.76,17.43 5.08,36.38 -3.32,52.87 -5.3,10.48 -13.56,19.57 -23.65,26.81 2.14,3.11 3.93,6.41 5.35,9.84 4.75,11.42 5.53,24.35 2.44,35.99l-0.09 0.3c-2.86,10.7 -8.35,20.46 -15.24,29.44 -2.82,3.67 -5.89,7.23 -9.11,10.67l-23.51 0c6.51,-6.11 12.76,-12.55 18,-19.37 5.78,-7.54 10.37,-15.63 12.7,-24.31l0.07 -0.31c2.34,-8.81 1.76,-18.57 -1.8,-27.13 -0.94,-2.27 -2.09,-4.45 -3.46,-6.5l-4.35 1.94c-18.54,7.77 -40.18,10.41 -60.66,6.14 -4.36,-0.89 -7.21,-4.5 -6.8,-8.31 0.36,-3.38 1.39,-6.62 2.97,-9.63 3.91,-7.45 11.17,-13.18 19.86,-16.7 8.32,-3.37 18.07,-4.77 27.4,-3.76 6.11,0.66 12.11,2.36 17.49,5.18 2.65,1.38 5.11,2.94 7.38,4.66 8.11,-5.78 14.72,-13.01 18.94,-21.3 6.67,-13.04 7.16,-28.21 2.51,-42.28 -0.95,-2.9 -2.12,-5.74 -3.5,-8.51l-3.46 3.8c-2.83,2.97 -5.84,5.85 -8.96,8.54 -12.71,10.96 -30.84,19.66 -48.73,22.06 -16.19,2.17 -32.32,-0.66 -44.68,-11.17 -3.64,-3.1 -6.52,-6.64 -8.62,-10.39l-0.35 -0.71c-3.92,-7.36 -5.12,-15.63 -3.98,-23.62 1.17,-8.13 4.8,-16.15 10.46,-22.8 3.48,-4.13 7.8,-7.74 12.79,-10.54l0.51 -0.27c11.61,-6.37 25.36,-8.7 39.04,-7.77 14.58,0.99 29.22,5.69 41.19,13.06l0.71 0.48c4.93,3.12 9.45,6.67 13.5,10.57 8.41,-15.58 12.77,-32.94 13.03,-50.45 0.37,-24.32 -7.14,-48.92 -22.55,-69.42l-5.34 6.26c-7.8,9.07 -15.97,18.18 -25.1,26.47 -9.35,8.49 -19.73,16.14 -31.71,22.05 -12.85,6.33 -27.94,10.27 -42.91,10.67 -13.93,0.38 -27.9,-2.28 -40.08,-8.81 -11.85,-6.33 -19.96,-15.51 -24.63,-25.99 -3.82,-8.56 -5.34,-17.98 -4.75,-27.34 0.6,-9.31 3.27,-18.65 7.81,-27.13 6.75,-12.64 17.71,-23.57 32.2,-30.05 21.28,-9.52 45.61,-10.47 68.84,-5.31 24.32,5.41 47.6,17.6 64.9,33.61 7.1,-8.95 13.91,-18.06 20.26,-27.36 11.63,-17.05 21.77,-34.83 29.4,-53.52 7.89,-19.38 12.96,-39.87 14.02,-60.32 0.98,-18.65 -1.34,-37.42 -7.8,-55.44 -2.7,-7.52 -6.21,-14.89 -10.44,-21.95l-6.13 11.39c-11.13,19.66 -24.31,37.46 -38.85,48.26 -17.84,13.27 -40.38,23.43 -63.74,27.43 -21.15,3.63 -43.07,2.25 -62.97,-6.31 -5.54,-2.38 -10.64,-5.26 -15.24,-8.49 -15.83,-11.15 -26.6,-27.02 -31.62,-44.13l-0.17 -0.74c-4.78,-16.86 -4.05,-35 2.86,-51.08 1.91,-4.44 4.31,-8.76 7.17,-12.82 13.13,-18.65 34.2,-31.7 58.05,-38.47 24.5,-6.95 52.13,-7.32 77.16,-0.35 23.68,6.59 44.67,18.89 61.67,34.55 2.76,2.54 5.41,5.18 7.95,7.89 5.39,-13.02 9.7,-25.42 12.7,-35.6zm-30.71 72.9c3.77,-6.65 7.3,-13.56 10.57,-20.48 -4.03,-4.94 -8.45,-9.64 -13.21,-14.03 -15.02,-13.84 -33.47,-24.68 -54.21,-30.45 -21.52,-5.99 -45.34,-5.67 -66.48,0.33 -20.08,5.7 -37.71,16.54 -48.51,31.87 -2.26,3.22 -4.17,6.65 -5.69,10.18 -5.63,13.1 -6.21,27.95 -2.3,41.81l0.23 0.67c4.11,14.02 12.8,26.93 25.46,35.85 3.68,2.58 7.69,4.86 11.96,6.69 16.16,6.95 34.26,8.01 51.89,4.99 20.35,-3.49 40.08,-12.42 55.78,-24.09 12.57,-9.34 24.36,-25.4 34.51,-43.34zm-42.2 236.63l8.19 -9.65 -1.34 -1.29c-15.11,-14.35 -35.76,-25.3 -57.34,-30.1 -19.35,-4.3 -39.4,-3.61 -56.62,4.09 -10.8,4.83 -19.07,13.15 -24.24,22.83 -3.61,6.75 -5.74,14.14 -6.21,21.45 -0.46,7.24 0.67,14.44 3.53,20.84 3.31,7.43 9.03,13.91 17.37,18.37 9.05,4.85 19.67,6.82 30.4,6.53 12.13,-0.33 24.4,-3.54 34.89,-8.71 10.3,-5.08 19.38,-11.8 27.67,-19.33 8.49,-7.71 16.26,-16.38 23.7,-25.03zm12.54 145.57c2.55,-2.68 4.93,-5.47 7.14,-8.36 -4.1,-4.62 -8.92,-8.77 -14.39,-12.22l-0.62 -0.35c-9.49,-5.84 -21.01,-9.56 -32.41,-10.34 -10.12,-0.68 -20.15,0.94 -28.39,5.43l-0.38 0.23c-3.18,1.78 -5.95,4.11 -8.21,6.77 -3.83,4.45 -6.28,9.91 -7.08,15.47 -0.74,5.22 -0.05,10.49 2.34,15.03l0.33 0.54c1.25,2.23 2.93,4.31 5.02,6.09 7.89,6.7 18.69,8.43 29.78,6.95 14.22,-1.91 28.78,-8.94 39.09,-17.84 2.77,-2.38 5.37,-4.87 7.78,-7.4zm-55.64 93.09c13.2,1.04 26.61,-1.21 38.55,-6.06l-0.22 -0.11c-3.22,-1.7 -6.87,-2.72 -10.63,-3.13 -6.13,-0.66 -12.52,0.24 -17.94,2.44 -4.02,1.63 -7.47,3.97 -9.76,6.86z" data-v-e6998206></path><path class="fil2" d="M1253.51 2828.32c0,-53 0.98,-117.57 2.97,-193.65 0.92,-35.91 1.97,-70.67 3.12,-104.27 6.57,-11.62 12.88,-23.14 18.91,-34.57 11.86,-22.46 22.8,-44.74 32.76,-66.8 9.96,-22.09 19.69,-44.46 29.14,-67.08 8.99,-21.52 17.82,-43.42 26.42,-65.66l5.93 0c-0.9,10.41 -1.9,25.02 -2.96,43.78 -1.22,21.47 -2.59,48.74 -4.07,81.75 -1.5,33.12 -2.9,67.73 -4.15,103.75 -1.21,34.96 -2.32,71.32 -3.28,108.99 -0.98,37.9 -1.73,73.03 -2.22,105.32 -0.49,32.79 -0.75,62.29 -0.75,88.44l0 414.46 -37.76 0c-0.81,-1.76 -10.82,-3.54 -29.75,-5.21 -9.38,-0.83 -20.96,-1.64 -34.31,-2.37l0 -406.88zm0.05 1334.76l-0.05 0 0 -0.69 0.05 0.69zm-0.05 -1.69l0 -499.43c8.61,-2.28 13.5,-4.71 14.18,-6.73l87.64 0 0 494.91c-39.83,1.9 -67.13,4.56 -83.24,8.47 -14.43,3.5 -18.37,0.09 -18.58,2.78zm-904.87 -510.1l-0.19 0 0 -0.61 0.19 0.61zm-0.19 -1.36l0 -361.7 928.8 -1594.11 4.5 0 0 13.81 88.64 -0.09 -919.34 1577.87c-0.49,0.69 -0.79,1.56 -0.79,2.52l0 351.2c-42.24,0.01 -64.93,0.72 -79.34,2.45 -16.31,1.97 -22.02,5.26 -22.47,8.05z" data-v-e6998206></path><path class="fil3" d="M1362.84 2740c-0.48,31.91 -0.73,61.35 -0.73,88.32l0 418.4c0,2.17 -1.52,3.94 -3.39,3.94l-111.05 0c-16.1,0.75 -34.52,1.42 -54.72,1.96 -55.72,1.51 -124.99,2.12 -182.51,1.51 -57.53,-0.6 -103.3,-2.41 -130.1,-3.32l-4.52 -0.15 -27.5 0c-0.64,-0.01 -1.3,-0.22 -1.87,-0.66 -0.66,-0.51 -1.13,-1.24 -1.35,-2.06 -1.17,-0.51 -2.03,-1.15 -2.71,-1.95 -3.32,-3.91 -2.11,-11.74 13.25,-40.05 15.36,-28.31 44.87,-77.1 78.91,-137.64 34.03,-60.53 72.58,-132.81 112.64,-202.38 40.05,-69.57 81.61,-136.43 115.34,-189.14 15.22,-23.78 28.84,-44.68 39.36,-59.93l32.34 -56.96c13.8,-22.98 26.64,-45.7 38.5,-68.16 11.86,-22.45 22.73,-44.59 32.56,-66.35 9.89,-21.93 19.58,-44.22 29.04,-66.85 9.3,-22.26 18.36,-44.76 27.11,-67.43 0.45,-1.56 1.72,-2.69 3.21,-2.69l12.24 0.03c1.85,0.23 3.19,2.19 2.99,4.34 -0.98,10.2 -2.09,26.15 -3.32,47.79 -1.23,21.73 -2.6,48.96 -4.07,81.65 -1.51,33.34 -2.91,67.92 -4.15,103.65 -1.22,35.11 -2.33,71.44 -3.28,108.91 -0.99,37.99 -1.74,73.08 -2.22,105.22zm432.1 907.35l251.79 0 0 -248.32c-18.49,-48.89 -34.25,-97.87 -46.53,-145.72l-218.06 9.09 -0.28 -120.08c-1.02,-20.22 -2.22,-68 -4.47,-125.88 -3.63,-93.45 -9.99,-213.21 -10.44,-357.47 -0.46,-144.25 4.99,-313.01 5.9,-456.36 0.9,-143.35 -2.72,-261.29 -2.9,-341.85 -0.19,-80.57 3.06,-123.76 4.88,-145.08l0.74 -8.25 -397.03 0.4 -921.5 1581.57 0 350.03c33.62,0.04 78.83,0.48 140.55,1.15 147.32,1.63 388.72,4.64 517.95,6.65l7.72 0.12 235.46 0c1.87,0 3.39,1.77 3.39,3.94l0 498.55c20.19,-0.88 43.41,-1.6 69.82,-2.18 83.34,-1.83 198.4,-2.44 261.96,-2.14 63.56,0.31 75.6,1.51 81.93,-13.25 6.32,-14.75 6.93,-45.48 9.64,-115.67 1.65,-42.84 4.09,-100.38 6.09,-154.13l0 -211.18c0,-2.17 1.52,-3.94 3.39,-3.94z" data-v-e6998206></path><path class="fil2" d="M1355.33 2828.32c0,-26.15 0.26,-55.65 0.75,-88.44 0.49,-32.29 1.24,-67.42 2.22,-105.32 0.96,-37.67 2.07,-74.03 3.28,-108.99 1.25,-36.02 2.65,-70.63 4.15,-103.75 1.48,-33.01 2.85,-60.28 4.07,-81.75 1.06,-18.76 2.06,-33.37 2.96,-43.78l-5.93 0c-8.6,22.24 -17.43,44.14 -26.42,65.66 -9.45,22.62 -19.18,44.99 -29.14,67.08 -9.96,22.06 -20.9,44.34 -32.76,66.8 -11.85,22.44 -24.75,45.26 -38.64,68.4l-16.18 28.5c0.08,-0.64 0.08,-1.14 -0.01,-1.48 -0.83,-3.14 -9.01,7.06 -21.79,25.6l32.34 -56.96c13.8,-22.98 26.64,-45.7 38.5,-68.16 11.86,-22.45 22.73,-44.59 32.56,-66.35 9.89,-21.93 19.58,-44.22 29.04,-66.85 9.3,-22.26 18.36,-44.76 27.11,-67.43 0.45,-1.56 1.72,-2.69 3.21,-2.69l12.24 0.03c1.85,0.23 3.19,2.19 2.99,4.34 -0.98,10.2 -2.09,26.15 -3.32,47.79 -1.23,21.73 -2.6,48.96 -4.07,81.65 -1.51,33.34 -2.91,67.92 -4.15,103.65 -1.22,35.11 -2.33,71.44 -3.28,108.91 -0.99,37.99 -1.74,73.08 -2.22,105.22 -0.48,31.91 -0.73,61.35 -0.73,88.32l0 418.4c0,2.17 -1.52,3.94 -3.39,3.94l-111.05 0c28.32,-1.33 49.49,-2.93 60.63,-4.66 6.71,-1.04 9.77,-2.13 9.27,-3.22l37.76 0 0 -414.46zm-479.51 422.34l-27.5 0c-0.64,-0.01 -1.3,-0.22 -1.87,-0.66 -0.66,-0.51 -1.13,-1.24 -1.35,-2.06 4.25,1.86 12.55,2.12 30.72,2.72zm1174.3 404.57l-251.79 0 0 44.6c-1.65,-22.17 -3.13,-30.03 -3.53,-27.82 -0.6,3.31 1.2,29.22 -0.3,96.99 -0.59,26.41 -1.68,59.17 -2.95,93.47l0 -211.18c0,-2.17 1.52,-3.94 3.39,-3.94l251.79 0 0 -248.32c2.23,5.88 4.48,11.76 6.78,17.63l0 234.63c0,2.17 -1.52,3.94 -3.39,3.94zm-694.79 494.91l0 -494.91 -87.65 0c0.28,-0.82 -0.12,-1.57 -1.23,-2.22 -4.54,-2.68 -21.01,-3.72 -143.19,-5.66l235.46 0c1.87,0 3.39,1.77 3.39,3.94l0 498.55 -6.78 0.3zm-905.07 -510.71l0 -351.2c0,-0.96 0.3,-1.83 0.79,-2.52l919.33 -1577.87 8.16 -0.01 -921.5 1581.57 0 350.03 -6.78 0z" data-v-e6998206></path><path class="fil4" d="M4594.51 1460.42l310.25 0c19.03,-2.63 76.61,-5.95 314.14,-6.47 143.41,-0.32 352.42,0.39 570.2,1.4l0 0.12c220.72,1.01 447.95,2.28 625.36,3.1 127.76,0.58 286.04,0.97 426.49,1.85l221.01 0c13.47,0 25.69,-5.39 34.63,-14.12 8.91,-8.76 14.41,-20.75 14.41,-33.97l0 -168.66c0,-13.21 -5.5,-25.21 -14.41,-33.95 -8.94,-8.74 -21.16,-14.13 -34.63,-14.14l-1244.93 0 -26.15 0 0 -6.92 -0.05 6.92 -1196.32 0 0 264.84z" data-v-e6998206></path><path class="fil2" d="M5817.03 1195.58l-1222.52 0 0 -13.83 1222.56 0 0 6.91 -0.04 6.92zm-1222.52 264.84l310.25 0c-4.3,0.59 -6.64,1.15 -8.63,1.63 -10.79,2.61 -11.61,2.98 20.76,4.97 32.37,2 97.93,5.62 220.21,6.11 122.27,0.51 301.25,-2.11 518.82,0.01 29.92,0.29 60.57,0.67 91.75,1.12l-1153.16 0 0 -13.84z" data-v-e6998206></path><path class="fil2" d="M3838.36 2084.32c66.97,34.33 129.49,75.95 186.42,123.81 -1.02,0.77 -2.01,1.57 -2.99,2.4 -55.91,-48.69 -117.43,-91.11 -183.43,-126.21zm283.02 216.88c143.61,158.43 235.62,363.22 249.95,588.75l-15.47 -15.47c-0.34,-0.34 -0.7,-0.64 -1.08,-0.89 -16.25,-216.39 -103,-413.15 -237.29,-567.34 1.37,-1.62 2.67,-3.3 3.89,-5.05zm250.43 704.09c-12.42,227.32 -103.73,434 -247.41,593.97 -2.02,-3.47 -4.33,-6.75 -6.91,-9.79 134.3,-154.19 221.02,-350.95 237.27,-567.34 0.4,-0.26 0.77,-0.56 1.1,-0.89l15.95 -15.95zm-341.75 685.9c-157.77,134.52 -359.03,220.85 -580.2,235.72l3.69 -3.69 0.64 -0.74c216.49,-16.21 413.33,-102.96 567.57,-237.31 2.6,2.21 5.38,4.22 8.3,6.02zm-719.76 235.54c-220.66,-15.39 -421.39,-101.92 -578.72,-236.43 2.44,-1.57 4.78,-3.29 6.98,-5.14 154.24,134.36 351.09,221.11 567.59,237.33l0.64 0.73 3.51 3.51zm-673.4 -328.99c-143.49,-160.41 -234.4,-367.54 -246.19,-595.23l14.48 14.49c4.59,65.55 15.64,129.3 32.51,190.66l-0.59 9.06c-7.1,21.88 2.02,29.05 6.53,44.66 3.58,12.39 13.24,23.26 19.76,26.07 41.41,111.74 102.65,213.85 179.46,302.04 -2.18,2.6 -4.18,5.35 -5.96,8.25zm-245.71 -705.01c13.71,-225.96 105.37,-431.23 248.83,-590.11 0.91,1.24 1.86,2.45 2.85,3.62 -135.35,155.4 -222.41,354.06 -237.67,572.47l-14.01 14.02zm345.56 -683.64c36.89,-31.1 76.14,-59.57 117.43,-85.15 -40.7,26.03 -79.35,55.01 -115.63,86.61l-1.8 -1.46z" data-v-e6998206></path><path class="fil5" d="M2446.67 3187.51c-13.78,-53.8 -23.01,-109.41 -27.3,-166.42l68.34 -68.33c1.28,-1.29 2.02,-3.07 2.02,-4.9 0,-1.83 -0.74,-3.6 -2.02,-4.88l-4.9 4.88 -4.89 4.89 0.01 0.01 4.88 -4.9 4.9 -4.88 -68.33 -68.34c16.02,-213.08 101.32,-406.81 233.45,-558.75 11.56,9.12 26.18,14.56 42.02,14.56 18.74,0 35.76,-7.61 48.02,-19.9 12.28,-12.25 19.89,-29.27 19.89,-48.01l-6.92 0 6.92 0c0,-15.85 -5.46,-30.48 -14.58,-42.04 151.96,-132.14 345.71,-217.45 558.8,-233.44l68.3 68.28c1.29,1.29 3.07,2.04 4.89,2.04 1.82,0 3.61,-0.75 4.89,-2.04l68.3 -68.28c213.09,16.01 406.84,101.31 558.8,233.46 -9.03,11.53 -14.42,26.09 -14.42,41.86 0,18.73 7.61,35.75 19.89,48.02 12.27,12.28 29.29,19.89 48.02,19.89 15.77,0 30.32,-5.39 41.85,-14.43 133.11,153.06 218.69,348.48 233.81,563.4l-63.72 63.72c-2.7,2.69 -2.7,7.06 0,9.78l27.82 27.81c-0.77,18.23 -9.8,36.1 -27.15,58.06 -158.69,200.98 -431.19,300.27 -680.38,223l-0.06 -0.02c-60.79,-24.94 -108.02,-60.46 -150.19,-100.18 -32.11,-30.24 -61.24,-62.92 -91.04,-95.05 -22.36,-24.11 -45.11,-47.89 -69.8,-70.04 -151.6,-136.06 -368.94,-150.97 -549.02,-68.05 -99.07,45.64 -173.86,113.89 -223.97,170.72 -33.41,37.9 -55.84,70.73 -67.13,88.5z" data-v-e6998206></path><path class="fil6" d="M4341.3 3016.46c-15.11,214.92 -100.69,410.35 -233.8,563.4 -11.53,-9.04 -26.08,-14.43 -41.85,-14.43 -18.73,0 -35.75,7.61 -48.02,19.9 -12.28,12.26 -19.89,29.27 -19.89,48.01 0,15.77 5.39,30.32 14.43,41.85 -152.99,133.04 -348.29,218.6 -563.08,233.79l-64.03 -64.03c-2.69,-2.7 -7.08,-2.7 -9.78,0l-64.02 64.02c-214.77,-15.18 -410.09,-100.71 -563.07,-233.76 9.12,-11.56 14.57,-26.18 14.57,-42.04 0,-18.72 -7.61,-35.75 -19.89,-48.01 -12.26,-12.29 -29.28,-19.89 -48.02,-19.89l0 6.91 0 -6.91c-15.85,0 -30.48,5.43 -42.04,14.56 -78.77,-90.57 -140.89,-196 -181.6,-311.51 0.04,-4.89 0.17,-10.3 0.81,-15.77 1.97,-16.83 8.91,-34.26 23.06,-61.65 54.59,-105.7 132.41,-170.73 237.06,-226.39 41.26,-21.95 87.6,-38.2 125.32,-48.52 37.72,-10.32 66.82,-14.72 105.34,-15.32 38.52,-0.6 86.46,2.59 126.09,9.3 71.41,12.09 117.14,36.31 173.46,83.46 33.28,27.89 62.91,59.38 92.56,91.52 44.49,48.2 88.96,97.92 145.98,138.6 191.06,136.39 488.92,96.24 683.12,-44.68 57.52,-41.74 123.46,-110.76 152.96,-163.63l1.09 -2.02 3.24 3.24z" data-v-e6998206></path><path class="fil3" d="M3267.19 2508.72c0,12.65 10.24,22.89 22.89,22.89 12.63,0 22.88,-10.24 22.88,-22.89 0,-12.63 -10.25,-22.88 -22.88,-22.88 -12.65,0 -22.89,10.25 -22.89,22.88z" data-v-e6998206></path><path class="fil4" d="M4124.84 1459.74c-53.15,-0.31 -117.7,-0.65 -196.55,-1.17 -250.66,-1.68 -645.64,-5.26 -850.42,-4.62 -159.77,0.5 -203.77,3.56 -219,6.12 -10.91,-1.32 -20.72,-6.34 -28.16,-13.77 -8.75,-8.76 -14.14,-20.75 -14.14,-33.97l0 -168.66c0,-13.21 5.39,-25.21 14.14,-33.95 8.74,-8.74 20.73,-14.13 33.96,-14.14l104.76 0c70.18,1.84 176.64,6.99 304.43,6.22 84.11,-0.49 177.47,-3.55 267.91,-6.22l583.53 0c-0.26,11.14 -0.49,24.13 -0.67,39.58 -0.71,59.8 -0.78,156.35 0.21,224.58z" data-v-e6998206></path><path class="fil6" d="M3260 965.96l-139.89 0c-37.38,-1.93 -76.92,-4.43 -111.6,-4.57 -36.72,-0.15 -67.97,2.33 -95.66,4.57l-69.56 0c-39.24,-0.01 -74.88,-16.04 -100.77,-41.93 -25.89,-25.89 -41.93,-61.53 -41.93,-100.77 0,-25.23 6.62,-48.97 18.24,-69.59l0.2 -0.32c2.5,-4.01 6.42,-10.59 13.05,-17.46 11.77,-12.21 32.05,-25.33 51.28,-32.93 19.23,-7.61 37.41,-9.68 62.03,-11.43 24.61,-1.76 55.65,-3.19 87.08,-3.71 31.42,-0.52 63.23,-0.13 108.74,-0.19 45.5,-0.07 104.72,-0.59 176.14,0.19 71.41,0.78 155.04,2.85 215.29,1.82 60.25,-1.04 97.13,-5.2 151.81,-5.95 54.68,-0.75 127.15,1.9 180.39,1.64 42.9,-0.21 73.31,-2.31 100.82,-4.76l51.4 0c39.24,0 74.87,16.03 100.77,41.92 25.88,25.9 41.92,61.53 41.92,100.77 0,39.24 -16.04,74.88 -41.92,100.77l-0.07 0.07c-11.91,10.11 -28.37,20.04 -44.13,26.27 -19.23,7.61 -37.41,9.68 -62.03,11.43 -24.61,1.76 -55.65,3.19 -87.08,3.71 -31.42,0.52 -63.23,0.13 -108.74,0.19 -45.5,0.07 -104.72,0.59 -176.14,-0.19 -71.41,-0.78 -155.04,-2.85 -215.29,-1.82 -24.48,0.42 -45.1,1.36 -64.35,2.27z" data-v-e6998206></path><path class="fil3" d="M3780.2 1173.1l0 -189.94 -3.19 0.01c-74.5,0.19 -180.79,-1.73 -288.13,-3.38l-508.74 0 0 199.5c55.36,-0.59 133.56,-0.94 246.37,-1.83 156.05,-1.24 378.32,-3.51 553.69,-4.36z" data-v-e6998206></path><polygon class="fil4" points="3448.53,1982.09 3443.76,1986.87 3380.17,1923.28 3321.47,1981.97 3380.17,2040.68 3443.76,1977.08 3448.54,1981.86 " data-v-e6998206></polygon><polygon class="fil5" points="2482.81,2947.86 2477.92,2952.75 2414.33,2889.17 2355.62,2947.86 2414.33,3006.57 2477.93,2942.98 " data-v-e6998206></polygon><path class="fil5" d="M4414.57 2952.75l-0.01 0.01 -63.59 -63.59 -46.91 46.9c5.47,3.96 13.69,12.03 22.04,20.67 10.7,11.08 21.6,23.09 17.34,42.3l7.53 7.53 63.25 -63.24c-1.06,1.22 -1.68,2.8 -1.68,4.53 0,1.91 0.78,3.64 2.03,4.89zm-116.02 -11.17c1.13,4.43 2.96,10.39 4.45,17.01l-10.73 -10.73 6.28 -6.28z" data-v-e6998206></path><polygon class="fil4" points="3445.29,3921.69 3443.76,3923.22 3380.17,3859.63 3321.47,3918.32 3380.17,3977.03 3443.76,3913.44 3444.8,3914.47 3444.8,3914.48 " data-v-e6998206></polygon><path class="fil2" d="M3260 965.96l-139.89 0c-37.38,-1.93 -76.92,-4.43 -111.6,-4.57 -36.72,-0.15 -67.97,2.33 -95.66,4.57l-69.56 0c-39.24,-0.01 -74.88,-16.04 -100.77,-41.93 -25.89,-25.89 -41.93,-61.53 -41.93,-100.77 0,-25.23 6.62,-48.97 18.24,-69.59l0.2 -0.32c2.5,-4.01 6.42,-10.59 13.05,-17.46 11.77,-12.21 32.05,-25.33 51.28,-32.93 19.23,-7.61 37.41,-9.68 62.03,-11.43 24.61,-1.76 55.65,-3.19 87.08,-3.71 31.42,-0.52 63.23,-0.13 108.74,-0.19 45.5,-0.07 104.72,-0.59 176.14,0.19 71.41,0.78 155.04,2.85 215.29,1.82 60.25,-1.04 97.13,-5.2 151.81,-5.95 54.68,-0.75 127.15,1.9 180.39,1.64 42.9,-0.21 73.31,-2.31 100.82,-4.76l51.4 0c39.24,0 74.87,16.03 100.77,41.92 25.88,25.9 41.92,61.53 41.92,100.77 0,39.24 -16.04,74.88 -41.92,100.77l-0.07 0.07c-11.91,10.11 -28.37,20.04 -44.13,26.27 -19.23,7.61 -37.41,9.68 -62.03,11.43 -24.61,1.76 -55.65,3.19 -87.08,3.71 -31.42,0.52 -63.23,0.13 -108.74,0.19 -45.5,0.07 -104.72,0.59 -176.14,-0.19 -71.41,-0.78 -155.04,-2.85 -215.29,-1.82 -24.48,0.42 -45.1,1.36 -64.35,2.27zm-480.93 2316.21l-6.92 0c0,35.99 14.62,68.63 38.21,92.21 23.57,23.59 56.21,38.2 92.2,38.2 35.99,0 68.64,-14.61 92.22,-38.2 23.58,-23.58 38.19,-56.22 38.19,-92.21 0,-35.99 -14.61,-68.64 -38.19,-92.22 -23.58,-23.59 -56.23,-38.2 -92.22,-38.19 -35.99,-0.01 -68.63,14.6 -92.2,38.19 -23.59,23.58 -38.21,56.23 -38.21,92.22l13.84 0c0,-32.21 13.04,-61.31 34.15,-82.43 21.11,-21.1 50.21,-34.14 82.42,-34.14 32.21,0 61.31,13.04 82.43,34.14 21.11,21.12 34.14,50.22 34.14,82.43 0,32.22 -13.03,61.31 -34.14,82.42 -21.12,21.12 -50.22,34.15 -82.43,34.15 -32.21,0 -61.31,-13.03 -82.42,-34.15 -21.11,-21.11 -34.15,-50.2 -34.15,-82.42l-6.92 0zm1001.13 -2299.01l0 189.94 13.84 -0.06 12.35 -0.06 0 -190.02c34.95,-0.42 61.81,-1.45 83.55,-3.17l27.12 0 0 -2.83 0 2.83c43.04,0 82.21,-17.62 110.55,-45.97 28.35,-28.34 45.98,-67.51 45.98,-110.56 0,-43.05 -17.63,-82.21 -45.98,-110.55 -28.34,-28.35 -67.51,-45.98 -110.55,-45.98l-1073.77 0c-43.05,0 -82.22,17.63 -110.55,45.98 -28.35,28.34 -45.98,67.5 -45.98,110.55 0,43.05 17.63,82.22 45.98,110.56 28.33,28.35 67.5,45.97 110.55,45.97l76.48 0 0 200.47c13.17,-0.33 28.53,-0.6 46.54,-0.82l13.83 -0.15 0 -199.5 508.74 0c107.34,1.65 213.63,3.57 288.13,3.38l3.19 -0.01zm26.19 499.11l0 157.12 5.36 1.95c28.27,10.31 73.51,26.93 110.43,45.56 36.91,18.63 65.52,39.24 107.43,62.87 41.9,23.61 97.12,50.21 159.31,87.47 62.2,37.24 131.38,85.14 189.25,148.34 57.87,63.19 104.44,141.68 153.66,220.51 49.23,78.82 101.11,157.99 140.36,253.78 39.25,95.78 65.85,208.2 82.48,316.63 2.03,13.22 3.91,26.38 5.64,39.46l-167.55 287.57c9.36,-50.39 16.48,-100.33 21.08,-148.75l30.43 0c3.82,0 6.92,-3.1 6.92,-6.92 0,-3.82 -3.1,-6.92 -6.92,-6.92l-29.18 0c3.16,-36.84 4.83,-72.76 4.88,-107.24 0.08,-57.45 -4.34,-110.95 -12.33,-161.14 -38.14,-170.17 -110.86,-327.24 -210.38,-463.58 -37.51,-51.38 -78.82,-99.82 -123.53,-144.89l5.19 -5.19c2.7,-2.7 2.7,-7.09 0,-9.78 -2.71,-2.7 -7.09,-2.7 -9.78,0l-5.2 5.2c-133.86,-132.08 -297.17,-234.44 -479.04,-296.41l-4.67 -1.61 -0.03 -274.44 26.19 0.41zm784.35 2150.9c-48.66,89.81 -101.03,161.79 -153.7,223.6 -27.52,32.29 -131.87,135.67 -176.61,171.97 -193.43,156.91 -453.98,262.62 -743.85,287.28 -285.52,24.3 -600.24,-30.4 -816.96,-143.6 -74.49,-38.9 -149,-90.8 -214.19,-143.68 -65.19,-52.89 -121.06,-106.78 -176.61,-171.97 -127.25,-149.32 -253.29,-387.85 -308.62,-603.46l51.35 -2.14 -0.78 -19.92 -55.46 2.31c-13.25,-55.68 -21.57,-109.58 -23.74,-159.72 -3.67,-84.47 2.98,-188.92 19.62,-297.34 16.63,-108.43 43.23,-220.85 82.48,-316.63 39.25,-95.79 91.15,-174.96 140.36,-253.78 84.96,-136.05 154.48,-204.98 218.9,-262.64 70.35,-62.97 137.56,-111.55 283.32,-193.68 41.9,-23.61 70.52,-44.24 107.43,-62.87 31.17,-15.73 68.28,-30.03 96.09,-40.3l0 -172.34 60.38 0 0 163.91c0.37,1.6 0.43,3.49 0,5.72l0 111.1 -4.71 1.59c-182.31,61.92 -345.84,164.52 -479.77,297l-4.46 -4.46c-2.7,-2.7 -7.08,-2.7 -9.78,0 -2.7,2.69 -2.7,7.08 0,9.78l4.47 4.47c-44.52,45.01 -85.68,93.35 -123.04,144.64 -266.72,366.14 -296.16,722.14 -182.86,1117.33 260.56,829.39 1279.12,1204.08 2012.64,582.74 166.36,-156.36 222.66,-251.86 304.83,-465.72l0 187.79 68.18 0c1.12,0.67 2.83,1.25 4.98,1.69 4.47,0.91 10.85,1.18 20.11,1.33zm-1323.55 -1124.45l-6.92 0c0,8.22 3.35,15.7 8.73,21.07 5.37,5.39 12.86,8.74 21.08,8.74 8.2,0 15.69,-3.35 21.07,-8.74 5.38,-5.37 8.73,-12.85 8.73,-21.07 0,-8.21 -3.35,-15.69 -8.73,-21.07 -5.38,-5.39 -12.87,-8.73 -21.07,-8.73 -8.22,0 -15.71,3.34 -21.08,8.73 -5.38,5.38 -8.73,12.86 -8.73,21.07l13.84 0c0,-4.43 1.77,-8.37 4.67,-11.29 2.91,-2.89 6.86,-4.67 11.3,-4.68 4.42,0.01 8.37,1.79 11.28,4.68 2.9,2.92 4.67,6.86 4.68,11.29 -0.01,4.44 -1.78,8.38 -4.68,11.29 -2.91,2.91 -6.86,4.68 -11.28,4.68 -4.44,0 -8.39,-1.77 -11.3,-4.68 -2.9,-2.91 -4.67,-6.85 -4.67,-11.29l-6.92 0zm411.52 407.11l-6.91 0c0,45.4 18.43,86.57 48.17,116.32 29.75,29.75 70.93,48.18 116.33,48.18 45.41,0 86.57,-18.43 116.31,-48.18 29.77,-29.75 48.19,-70.92 48.19,-116.32 0,-45.4 -18.42,-86.58 -48.19,-116.32 -29.74,-29.76 -70.9,-48.18 -116.31,-48.18 -45.4,0 -86.58,18.42 -116.33,48.18 -29.74,29.74 -48.17,70.92 -48.17,116.32l13.83 0c0.01,-41.62 16.85,-79.26 44.14,-106.54 27.28,-27.28 64.91,-44.13 106.53,-44.13 41.63,0 79.25,16.85 106.53,44.13 27.28,27.28 44.13,64.92 44.13,106.54 0,41.61 -16.85,79.25 -44.13,106.54 -27.28,27.27 -64.9,44.12 -106.53,44.12 -41.62,0 -79.25,-16.85 -106.53,-44.12 -27.29,-27.29 -44.13,-64.93 -44.14,-106.54l-6.92 0zm67.34 -68.05l-6.92 0c-0.01,12.04 4.89,22.98 12.77,30.85 7.89,7.89 18.84,12.79 30.88,12.79 12.02,0 22.98,-4.9 30.85,-12.79 7.89,-7.87 12.79,-18.81 12.79,-30.85 0,-12.02 -4.9,-22.98 -12.79,-30.85 -7.87,-7.89 -18.83,-12.79 -30.85,-12.79 -12.04,0 -22.99,4.9 -30.88,12.79 -7.88,7.87 -12.78,18.83 -12.77,30.85l13.84 0c0,-8.25 3.32,-15.66 8.72,-21.07 5.42,-5.41 12.82,-8.74 21.09,-8.74 8.24,0 15.64,3.33 21.07,8.74 5.39,5.41 8.72,12.82 8.73,21.07 -0.01,8.26 -3.34,15.66 -8.73,21.07 -5.43,5.41 -12.83,8.73 -21.07,8.73 -8.27,0 -15.67,-3.32 -21.09,-8.73 -5.4,-5.41 -8.72,-12.81 -8.72,-21.07l-6.92 0zm-904.2 377.65l-6.92 0c-0.01,9.58 3.89,18.29 10.17,24.56 6.25,6.27 14.98,10.17 24.55,10.17 9.57,0 18.29,-3.9 24.55,-10.17 6.28,-6.27 10.18,-14.98 10.18,-24.56 0,-9.56 -3.9,-18.29 -10.18,-24.56 -6.26,-6.27 -14.98,-10.17 -24.55,-10.17 -9.57,0 -18.3,3.9 -24.55,10.17 -6.28,6.27 -10.18,15 -10.17,24.56l13.84 0c0,-5.78 2.32,-10.97 6.11,-14.76 3.81,-3.79 8.98,-6.12 14.77,-6.13 5.79,0.01 10.97,2.34 14.77,6.13 3.8,3.79 6.12,8.98 6.12,14.76 0,5.79 -2.32,10.97 -6.12,14.78 -3.8,3.79 -8.98,6.11 -14.77,6.11 -5.79,0 -10.96,-2.32 -14.77,-6.11 -3.79,-3.81 -6.11,-8.99 -6.11,-14.78l-6.92 0zm376.03 -672.96l-6.92 0c-0.01,31.88 12.94,60.79 33.83,81.68 20.88,20.89 49.81,33.84 81.69,33.84 31.88,0 60.8,-12.95 81.69,-33.84 20.89,-20.89 33.83,-49.8 33.83,-81.68 0,-31.88 -12.94,-60.81 -33.83,-81.69 -20.89,-20.9 -49.81,-33.84 -81.69,-33.84 -31.88,0 -60.81,12.94 -81.69,33.84 -20.89,20.88 -33.84,49.81 -33.83,81.69l13.84 0c0,-28.1 11.36,-53.49 29.77,-71.91 18.43,-18.41 43.81,-29.77 71.91,-29.79 28.1,0.02 53.48,11.38 71.89,29.79 18.42,18.42 29.79,43.81 29.79,71.91 0,28.1 -11.37,53.48 -29.79,71.9 -18.41,18.41 -43.79,29.79 -71.89,29.79 -28.1,0 -53.48,-11.38 -71.91,-29.79 -18.41,-18.42 -29.77,-43.8 -29.77,-71.9l-6.92 0z" data-v-e6998206></path><path class="fil2" d="M2419.37 2874.63c16.01,-213.08 101.32,-406.81 233.45,-558.74 -2.1,-1.66 -4.11,-3.45 -6,-5.34 -1.38,-1.38 -2.7,-2.82 -3.96,-4.31 -135.36,155.41 -222.4,354.06 -237.66,572.47l4.23 -4.23c2.72,-2.7 7.09,-2.7 9.79,0l0.15 0.15z" data-v-e6998206></path><path class="fil2" d="M2652.81 3579.83c-78.77,-90.56 -140.88,-195.98 -181.6,-311.49 -0.1,10.14 0.09,18.04 -3.53,19.56 -1.11,0.47 -2.59,0.28 -4.28,-0.45 41.41,111.74 102.65,213.85 179.46,302.04 1.26,-1.5 2.58,-2.95 3.96,-4.33 1.89,-1.89 3.89,-3.68 5.99,-5.33zm-206.14 -392.32c-13.77,-53.8 -23.02,-109.41 -27.31,-166.41l-0.14 0.14c-1.29,1.28 -3.08,2.03 -4.89,2.03 -1.82,0 -3.61,-0.75 -4.9,-2.03l-4.24 -4.24c4.59,65.55 15.64,129.3 32.51,190.66l0.4 -6.04c0.06,-0.1 2.92,-5.23 8.57,-14.11z" data-v-e6998206></path><path class="fil2" d="M3311.26 3908.97c-214.77,-15.18 -410.09,-100.71 -563.07,-233.76 -1.65,2.1 -3.43,4.1 -5.32,5.99 -1.38,1.38 -2.82,2.7 -4.31,3.96 154.24,134.36 351.09,221.11 567.59,237.33 -2.04,-2.7 -1.83,-6.58 0.64,-9.05l4.47 -4.47z" data-v-e6998206></path><path class="fil2" d="M4012.17 3675.19c-152.99,133.04 -348.29,218.6 -563.08,233.79l4.46 4.46 -4.9 4.88 -3.85 -3.84 0.49 7.21 3.36 -3.37 -3.85 -3.84 3.85 3.84 4.9 -4.88c2.47,2.47 2.68,6.34 0.64,9.04 216.49,-16.21 413.33,-102.96 567.57,-237.31 -1.44,-1.21 -2.81,-2.48 -4.13,-3.81 -1.94,-1.94 -3.77,-4.01 -5.46,-6.17z" data-v-e6998206></path><path class="fil2" d="M4341.3 3016.46c-15.11,214.92 -100.69,410.35 -233.8,563.4 2.17,1.7 4.23,3.53 6.17,5.47 1.33,1.33 2.6,2.71 3.82,4.14 134.3,-154.19 221.02,-350.95 237.27,-567.34 -1.11,0.73 -2.44,1.14 -3.79,1.14 -1.82,0 -3.6,-0.75 -4.89,-2.03l-4.78 -4.78z" data-v-e6998206></path><path class="fil2" d="M4107.5 2315.86c133.11,153.06 218.69,348.48 233.81,563.4l4.77 -4.78c2.36,-2.36 6.01,-2.67 8.7,-0.89 -16.25,-216.39 -103,-413.15 -237.29,-567.34 -1.22,1.44 -2.49,2.82 -3.82,4.15 -1.94,1.94 -4.01,3.77 -6.17,5.46z" data-v-e6998206></path><path class="fil2" d="M3453.36 1987.06c213.09,16.01 406.84,101.31 558.8,233.46 1.7,-2.17 3.53,-4.23 5.47,-6.17 1.33,-1.33 2.71,-2.59 4.15,-3.81 -155.41,-135.33 -354.05,-222.39 -572.44,-237.67l4.21 4.21 -4.9 4.89 -0.11 -0.11 -0.01 0.23 0.12 -0.12 -0.11 -0.11 0.11 0.11 4.9 -4.89c1.29,1.29 2.02,3.07 2.02,4.89 0,1.83 -0.73,3.61 -2.02,4.9l-0.19 0.19z" data-v-e6998206></path><path class="fil2" d="M2748.18 2220.5c151.96,-132.14 345.71,-217.45 558.8,-233.44l-0.19 -0.19c-1.29,-1.29 -2.02,-3.07 -2.02,-4.9 0,-1.82 0.73,-3.6 2.02,-4.89l4.19 -4.18c-218.39,15.27 -417.04,102.29 -572.43,237.65 1.5,1.26 2.94,2.59 4.32,3.97 1.89,1.88 3.65,3.88 5.31,5.98z" data-v-e6998206></path><path class="fil2" d="M3387.08 1473.17l0 1.09 62.61 0c-21.26,-0.43 -42.18,-0.8 -62.61,-1.09zm-528.21 -13.1c-10.91,-1.32 -20.72,-6.34 -28.16,-13.77 -8.75,-8.76 -14.14,-20.75 -14.14,-33.97l0 -168.66c0,-13.21 5.39,-25.21 14.14,-33.95 8.74,-8.74 20.73,-14.13 33.96,-14.14l104.76 0 -3.68 -0.09c-70.12,-1.75 -102.42,0.08 -117.89,-2.12 -15.47,-2.21 -14.11,-8.45 31.48,-11.46l2.51 -0.16 -17.18 0c-17.04,0 -32.56,6.98 -43.74,18.18 -11.21,11.19 -18.2,26.71 -18.2,43.74l0 168.66c0,17.04 6.99,32.55 18.2,43.75 11.18,11.19 26.7,18.18 43.74,18.18l508.58 0 0 -1.28c-147.61,-1.83 -269.17,0.65 -352.9,0.15 -85.99,-0.49 -132.09,-4.11 -154.85,-6.11 -22.76,-1.99 -22.19,-2.36 -14.6,-4.97 1.67,-0.57 3.68,-1.26 7.97,-1.98zm682.9 -264.49l583.53 0 0.27 -9.81 -1.34 0.14c-19.22,2 -58.17,5.62 -130.8,6.11 -72.62,0.51 -178.93,-2.11 -308.16,0.01 -45.63,0.75 -94.14,2.09 -143.5,3.55z" data-v-e6998206></path><path class="fil2" d="M3262.35 2993.43c33.28,27.89 62.91,59.38 92.56,91.52 44.49,48.2 88.96,97.92 145.98,138.6 191.06,136.39 488.92,96.24 683.12,-44.68 57.52,-41.74 123.46,-110.76 152.96,-163.63l1.09 -2.02 -32.65 -32.65c-0.77,18.23 -9.8,36.1 -27.15,58.06 -158.69,200.98 -431.19,300.27 -680.38,223l-0.06 -0.02c-60.79,-24.94 -108.02,-60.46 -150.19,-100.18 -32.11,-30.24 -61.24,-62.92 -91.04,-95.05 -22.36,-24.11 -45.11,-47.89 -69.8,-70.04 -151.6,-136.06 -368.94,-150.97 -549.02,-68.05 -99.07,45.64 -173.86,113.89 -223.97,170.72 -50.1,56.84 -75.52,102.3 -75.7,102.61l-0.99 15.1c-7.1,21.88 2.02,29.05 6.53,44.66 4.51,15.61 18.67,28.79 24.04,26.52 5.37,-2.26 2.37,-18.51 4.34,-35.35 1.97,-16.83 8.91,-34.26 23.06,-61.65 54.59,-105.7 132.41,-170.73 237.06,-226.39 41.26,-21.95 87.6,-38.2 125.32,-48.52 37.72,-10.32 66.82,-14.72 105.34,-15.32 38.52,-0.6 86.46,2.59 126.09,9.3 71.41,12.09 117.14,36.31 173.46,83.46zm1081.09 5.61c4.26,-19.21 -6.63,-31.22 -17.34,-42.3 -8.35,-8.64 -16.57,-16.71 -22.04,-20.67l-5.51 5.51c1.13,4.44 2.96,10.39 4.45,17.01l40.44 40.45z" data-v-e6998206></path><path class="fil2" d="M2317.93 4706l0 -24.92c0,-8.6 -3.1,-15.57 -6.92,-15.57 -3.82,0 -6.92,6.97 -6.92,15.57l0 24.92c0,1.28 0.07,2.53 0.2,3.73 3.05,-0.23 6.13,-0.36 9.24,-0.36l0.89 0 3.34 0.05c0.11,-1.1 0.17,-2.24 0.17,-3.42zm0 -87.22l0 -24.92c0,-8.6 -3.1,-15.58 -6.92,-15.58 -3.82,0 -6.92,6.98 -6.92,15.58l0 24.92c0,8.63 3.1,15.58 6.92,15.58 3.82,0 6.92,-6.95 6.92,-15.58zm0 -87.23l0 -24.92c0,-8.6 -3.1,-15.57 -6.92,-15.57 -3.82,0 -6.92,6.97 -6.92,15.57l0 24.92c0,8.63 3.1,15.58 6.92,15.58 3.82,0 6.92,-6.95 6.92,-15.58zm0 -87.22l0 -24.92c0,-8.61 -3.1,-15.58 -6.92,-15.58 -3.82,0 -6.92,6.97 -6.92,15.58l0 24.92c0,8.62 3.1,15.57 6.92,15.57 3.82,0 6.92,-6.95 6.92,-15.57zm0 -87.23l0 -24.92c0,-8.6 -3.1,-15.57 -6.92,-15.57 -3.82,0 -6.92,6.97 -6.92,15.57l0 24.92c0,8.63 3.1,15.58 6.92,15.58 3.82,0 6.92,-6.95 6.92,-15.58zm0 -87.22l0 -24.92c0,-8.6 -3.1,-15.58 -6.92,-15.58 -3.82,0 -6.92,6.98 -6.92,15.58l0 24.92c0,8.62 3.1,15.57 6.92,15.57 3.82,0 6.92,-6.95 6.92,-15.57zm0 -87.23l0 -24.92c0,-8.6 -3.1,-15.58 -6.92,-15.58 -3.82,0 -6.92,6.98 -6.92,15.58l0 24.92c0,8.63 3.1,15.58 6.92,15.58 3.82,0 6.92,-6.95 6.92,-15.58zm0 -87.22l0 -24.92c0,-8.6 -3.1,-15.58 -6.92,-15.58 -3.82,0 -6.92,6.98 -6.92,15.58l0 24.92c0,8.62 3.1,15.57 6.92,15.57 3.82,0 6.92,-6.95 6.92,-15.57zm0 -87.23l0 -24.92c0,-8.6 -3.1,-15.58 -6.92,-15.58 -3.82,0 -6.92,6.98 -6.92,15.58l0 24.92c0,8.62 3.1,15.58 6.92,15.58 3.82,0 6.92,-6.96 6.92,-15.58zm0 -87.22l0 -24.93c0,-8.59 -3.1,-15.57 -6.92,-15.57 -3.82,0 -6.92,6.98 -6.92,15.57l0 24.93c0,8.62 3.1,15.57 6.92,15.57 3.82,0 6.92,-6.95 6.92,-15.57z" data-v-e6998206></path><path class="fil2" d="M2839.19 4706l0 -24.92c0,-8.6 -3.1,-15.57 -6.92,-15.57 -3.82,0 -6.92,6.97 -6.92,15.57l0 24.92c0,1.16 0.06,2.3 0.16,3.38l0.88 -0.01 0.89 0c3.94,0 7.84,0.2 11.69,0.57 0.14,-1.26 0.22,-2.58 0.22,-3.94zm0 -87.22l0 -24.92c0,-8.6 -3.1,-15.58 -6.92,-15.58 -3.82,0 -6.92,6.98 -6.92,15.58l0 24.92c0,8.63 3.1,15.58 6.92,15.58 3.82,0 6.92,-6.95 6.92,-15.58zm0 -87.23l0 -24.92c0,-8.6 -3.1,-15.57 -6.92,-15.57 -3.82,0 -6.92,6.97 -6.92,15.57l0 24.92c0,8.63 3.1,15.58 6.92,15.58 3.82,0 6.92,-6.95 6.92,-15.58zm0 -87.22l0 -24.92c0,-8.61 -3.1,-15.58 -6.92,-15.58 -3.82,0 -6.92,6.97 -6.92,15.58l0 24.92c0,8.62 3.1,15.57 6.92,15.57 3.82,0 6.92,-6.95 6.92,-15.57zm0 -87.23l0 -24.92c0,-8.6 -3.1,-15.57 -6.92,-15.57 -3.82,0 -6.92,6.97 -6.92,15.57l0 24.92c0,8.63 3.1,15.58 6.92,15.58 3.82,0 6.92,-6.95 6.92,-15.58zm0 -87.22l0 -24.92c0,-8.6 -3.1,-15.58 -6.92,-15.58 -3.82,0 -6.92,6.98 -6.92,15.58l0 24.92c0,8.62 3.1,15.57 6.92,15.57 3.82,0 6.92,-6.95 6.92,-15.57z" data-v-e6998206></path><path class="fil2" d="M3388.73 4706l0 -24.92c0,-8.6 -3.1,-15.57 -6.92,-15.57 -3.82,0 -6.92,6.97 -6.92,15.57l0 24.92c0,1.17 0.07,2.3 0.17,3.4l2.49 -0.03 0.89 0c3.39,0 6.77,0.14 10.09,0.42 0.14,-1.21 0.2,-2.48 0.2,-3.79zm0 -87.22l0 -24.92c0,-8.6 -3.1,-15.58 -6.92,-15.58 -3.82,0 -6.92,6.98 -6.92,15.58l0 24.92c0,8.63 3.1,15.58 6.92,15.58 3.82,0 6.92,-6.95 6.92,-15.58zm0 -87.23l0 -24.92c0,-8.6 -3.1,-15.57 -6.92,-15.57 -3.82,0 -6.92,6.97 -6.92,15.57l0 24.92c0,8.63 3.1,15.58 6.92,15.58 3.82,0 6.92,-6.95 6.92,-15.58zm0 -87.22l0 -24.92c0,-8.61 -3.1,-15.58 -6.92,-15.58 -3.82,0 -6.92,6.97 -6.92,15.58l0 24.92c0,8.62 3.1,15.57 6.92,15.57 3.82,0 6.92,-6.95 6.92,-15.57zm0 -87.23l0 -24.92c0,-8.6 -3.1,-15.57 -6.92,-15.57 -3.82,0 -6.92,6.97 -6.92,15.57l0 24.92c0,8.63 3.1,15.58 6.92,15.58 3.82,0 6.92,-6.95 6.92,-15.58zm0 -87.22l0 -24.92c0,-8.6 -3.1,-15.58 -6.92,-15.58 -3.82,0 -6.92,6.98 -6.92,15.58l0 24.92c0,8.62 3.1,15.57 6.92,15.57 3.82,0 6.92,-6.95 6.92,-15.57z" data-v-e6998206></path><path class="fil2" d="M3821.15 4706l0 -24.92c0,-8.6 -3.1,-15.57 -6.92,-15.57 -3.82,0 -6.92,6.97 -6.92,15.57l0 24.92c0,1.17 0.06,2.31 0.17,3.4l2.78 -0.03 0.89 0c3.3,0 6.57,0.13 9.8,0.4 0.13,-1.21 0.2,-2.47 0.2,-3.77zm0 -87.22l0 -24.92c0,-8.6 -3.1,-15.58 -6.92,-15.58 -3.82,0 -6.92,6.98 -6.92,15.58l0 24.92c0,8.63 3.1,15.58 6.92,15.58 3.82,0 6.92,-6.95 6.92,-15.58zm0 -87.23l0 -24.92c0,-8.6 -3.1,-15.57 -6.92,-15.57 -3.82,0 -6.92,6.97 -6.92,15.57l0 24.92c0,8.63 3.1,15.58 6.92,15.58 3.82,0 6.92,-6.95 6.92,-15.58zm0 -87.22l0 -24.92c0,-8.61 -3.1,-15.58 -6.92,-15.58 -3.82,0 -6.92,6.97 -6.92,15.58l0 24.92c0,8.62 3.1,15.57 6.92,15.57 3.82,0 6.92,-6.95 6.92,-15.57zm0 -87.23l0 -24.92c0,-8.6 -3.1,-15.57 -6.92,-15.57 -3.82,0 -6.92,6.97 -6.92,15.57l0 24.92c0,8.63 3.1,15.58 6.92,15.58 3.82,0 6.92,-6.95 6.92,-15.58zm0 -87.22l0 -24.92c0,-8.6 -3.1,-15.58 -6.92,-15.58 -3.82,0 -6.92,6.98 -6.92,15.58l0 24.92c0,8.62 3.1,15.57 6.92,15.57 3.82,0 6.92,-6.95 6.92,-15.57z" data-v-e6998206></path><path class="fil2" d="M4323.77 4706l0 -24.92c0,-8.6 -3.1,-15.57 -6.92,-15.57 -3.82,0 -6.92,6.97 -6.92,15.57l0 24.92c0,1.16 0.06,2.3 0.16,3.38l1.08 -0.01 0.89 0c3.87,0 7.71,0.18 11.49,0.55 0.14,-1.25 0.22,-2.57 0.22,-3.92zm0 -87.22l0 -24.92c0,-8.6 -3.1,-15.58 -6.92,-15.58 -3.82,0 -6.92,6.98 -6.92,15.58l0 24.92c0,8.63 3.1,15.58 6.92,15.58 3.82,0 6.92,-6.95 6.92,-15.58zm0 -87.23l0 -24.92c0,-8.6 -3.1,-15.57 -6.92,-15.57 -3.82,0 -6.92,6.97 -6.92,15.57l0 24.92c0,8.63 3.1,15.58 6.92,15.58 3.82,0 6.92,-6.95 6.92,-15.58zm0 -87.22l0 -24.92c0,-8.61 -3.1,-15.58 -6.92,-15.58 -3.82,0 -6.92,6.97 -6.92,15.58l0 24.92c0,8.62 3.1,15.57 6.92,15.57 3.82,0 6.92,-6.95 6.92,-15.57zm0 -87.23l0 -24.92c0,-8.6 -3.1,-15.57 -6.92,-15.57 -3.82,0 -6.92,6.97 -6.92,15.57l0 24.92c0,8.63 3.1,15.58 6.92,15.58 3.82,0 6.92,-6.95 6.92,-15.58zm0 -87.22l0 -24.92c0,-8.6 -3.1,-15.58 -6.92,-15.58 -3.82,0 -6.92,6.98 -6.92,15.58l0 24.92c0,8.62 3.1,15.57 6.92,15.57 3.82,0 6.92,-6.95 6.92,-15.57zm0 -87.23l0 -24.92c0,-8.6 -3.1,-15.58 -6.92,-15.58 -3.82,0 -6.92,6.98 -6.92,15.58l0 24.92c0,8.63 3.1,15.58 6.92,15.58 3.82,0 6.92,-6.95 6.92,-15.58zm0 -87.22l0 -24.92c0,-8.6 -3.1,-15.58 -6.92,-15.58 -3.82,0 -6.92,6.98 -6.92,15.58l0 24.92c0,8.62 3.1,15.57 6.92,15.57 3.82,0 6.92,-6.95 6.92,-15.57zm0 -87.23l0 -24.92c0,-8.6 -3.1,-15.58 -6.92,-15.58 -3.82,0 -6.92,6.98 -6.92,15.58l0 24.92c0,8.62 3.1,15.58 6.92,15.58 3.82,0 6.92,-6.96 6.92,-15.58zm0 -87.22l0 -24.93c0,-8.59 -3.1,-15.57 -6.92,-15.57 -3.82,0 -6.92,6.98 -6.92,15.57l0 24.93c0,8.62 3.1,15.57 6.92,15.57 3.82,0 6.92,-6.95 6.92,-15.57z" data-v-e6998206></path><path class="fil2" d="M5817.07 1195.58l1245.86 0c13.21,0.01 25.18,5.4 33.95,14.14 8.73,8.74 14.12,20.74 14.12,33.95l0 168.66c0,13.22 -5.39,25.21 -14.12,33.97 -8.77,8.73 -20.74,14.12 -33.95,14.12l-216.62 0c79.84,0.51 131.07,1.21 166.46,2.6 55.6,2.18 72.12,6.05 67.11,8.86 10.25,-2.94 19.44,-8.47 26.78,-15.8 11.21,-11.2 18.17,-26.71 18.17,-43.75l0 -168.66c0,-17.03 -6.96,-32.55 -18.17,-43.74 -11.21,-11.2 -26.71,-18.18 -43.73,-18.18l-140.33 0 0 1.37 -6.92 0 -6.91 0 -448.18 0 -6.92 0 -6.92 0 0 -1.37 -629.68 0 0 13.83z" data-v-e6998206></path><path class="fil2" d="M4644.27 2940.94l-221.95 0 2.04 2.04 -4.91 4.88 -4.89 -4.88 -0.11 0.11 -0.11 0.12c-1.12,1.23 -1.8,2.85 -1.8,4.65 0,1.91 0.77,3.64 2.03,4.89l4.88 -4.89 -4.89 -4.88 4.89 4.88 4.91 -4.88c1.28,1.28 2.01,3.05 2.01,4.88 0,1.83 -0.73,3.61 -2.01,4.9l-2.02 2.02 221.93 0c3.82,0 6.92,-3.1 6.92,-6.92 0,-3.82 -3.1,-6.92 -6.92,-6.92z" data-v-e6998206></path><path class="fil2" d="M2343 2940.94l-226.93 0c-3.82,0 -6.91,3.1 -6.91,6.92 0,3.82 3.09,6.92 6.91,6.92l226.91 0 -2.02 -2.02c-2.71,-2.72 -2.71,-7.09 0,-9.78l2.04 -2.04z" data-v-e6998206></path><path class="fil2" d="M4278.92 3836.81l-160.6 -160.59c-1.47,1.79 -3.02,3.51 -4.65,5.14 -1.63,1.63 -3.35,3.18 -5.14,4.65l160.61 160.6c2.69,2.7 7.07,2.7 9.78,0 2.7,-2.71 2.7,-7.08 0,-9.8z" data-v-e6998206></path><path class="fil2" d="M2651.98 2209.87l-160.77 -160.75c-2.7,-2.7 -7.08,-2.7 -9.78,0 -2.7,2.69 -2.7,7.08 0,9.78l160.75 160.76c1.46,-1.79 3.01,-3.51 4.64,-5.14 1.64,-1.64 3.36,-3.19 5.16,-4.65z" data-v-e6998206></path><path class="fil2" d="M3373.25 1472.98l0 437.19 0.01 0.44 2.02 -2.01c2.7,-2.7 7.09,-2.7 9.78,0l2.01 2.01 0.01 -0.44 0 -437 -1.9 -0.03 -11.93 -0.16z" data-v-e6998206></path><path class="fil2" d="M3373.25 3989.67l0 219.04c0,3.82 3.1,6.92 6.92,6.92 3.83,0 6.91,-3.1 6.91,-6.92l0 -219.03 -2.02 2.02c-1.28,1.29 -3.07,2.03 -4.89,2.03 -1.82,0 -3.6,-0.74 -4.89,-2.03l-2.03 -2.03z" data-v-e6998206></path><path class="fil2" d="M3448.65 1981.97l-4.89 -4.89 -63.59 63.6 -58.7 -58.71 58.7 -58.69 63.59 63.59 4.89 -4.9 -4.89 -4.89 4.89 4.89 4.9 -4.89 -68.49 -68.48c-2.69,-2.7 -7.08,-2.7 -9.78,0l-68.49 68.48c-1.29,1.29 -2.02,3.07 -2.02,4.89 0,1.83 0.73,3.61 2.02,4.9l68.49 68.47c1.29,1.29 3.07,2.04 4.89,2.04 1.82,0 3.61,-0.75 4.89,-2.04l68.49 -68.47c1.29,-1.29 2.02,-3.07 2.02,-4.9 0,-1.82 -0.73,-3.6 -2.02,-4.89l-4.9 4.89z" data-v-e6998206></path><path class="fil2" d="M3448.65 3918.32l-4.89 -4.88 -63.59 63.59 -58.7 -58.71 58.7 -58.69 63.59 63.59 4.89 -4.9 -4.89 -4.88 4.89 4.88 4.9 -4.88 -68.49 -68.49c-2.69,-2.7 -7.08,-2.7 -9.78,0l-68.49 68.49c-2.7,2.7 -2.7,7.09 0,9.78l68.49 68.48c1.29,1.29 3.07,2.03 4.89,2.03 1.82,0 3.61,-0.74 4.89,-2.03l68.49 -68.48c2.7,-2.69 2.7,-7.08 0,-9.78l-4.9 4.88z" data-v-e6998206></path><path class="fil2" d="M2482.81 2947.86l-4.88 -4.88 -63.6 63.59 -58.71 -58.71 58.71 -58.69 63.6 63.59 4.88 -4.9 -4.88 -4.88 4.88 4.88 4.9 -4.88 -68.49 -68.5c-2.7,-2.7 -7.07,-2.7 -9.79,0l-68.47 68.5c-2.71,2.69 -2.71,7.06 0,9.78l68.47 68.48c1.29,1.28 3.08,2.03 4.9,2.03 1.81,0 3.6,-0.75 4.89,-2.03l68.49 -68.48c1.28,-1.29 2.02,-3.07 2.02,-4.9 0,-1.83 -0.74,-3.6 -2.02,-4.88l-4.9 4.88z" data-v-e6998206></path><path class="fil2" d="M4419.45 2947.86l-4.89 -4.88 -63.59 63.59 -58.7 -58.71 58.7 -58.69 63.59 63.59 4.89 -4.9 -4.89 -4.88 4.89 4.88 4.91 -4.88 -68.5 -68.5c-2.7,-2.7 -7.08,-2.7 -9.78,0l-68.49 68.5c-2.7,2.69 -2.7,7.06 0,9.78l68.49 68.48c1.29,1.28 3.07,2.03 4.89,2.03 1.82,0 3.61,-0.75 4.89,-2.03l68.5 -68.48c1.28,-1.29 2.01,-3.07 2.01,-4.9 0,-1.83 -0.73,-3.6 -2.01,-4.88l-4.91 4.88z" data-v-e6998206></path><path class="fil2" d="M2755.84 2262.54l-6.92 0c0,14.96 -6.03,28.44 -15.83,38.23 -9.8,9.8 -23.28,15.84 -38.24,15.84 -14.95,0 -28.43,-6.04 -38.23,-15.84 -9.8,-9.79 -15.84,-23.27 -15.84,-38.23 0,-14.95 6.04,-28.43 15.84,-38.24 9.8,-9.8 23.28,-15.83 38.23,-15.83 14.96,0 28.44,6.03 38.24,15.83 9.8,9.81 15.83,23.29 15.83,38.24l13.84 0c0,-18.73 -7.61,-35.75 -19.89,-48.02 -12.26,-12.27 -29.28,-19.89 -48.02,-19.89 -18.73,0 -35.75,7.62 -48.03,19.89 -12.27,12.27 -19.88,29.29 -19.88,48.02 0,18.74 7.61,35.76 19.88,48.01 12.28,12.29 29.3,19.9 48.03,19.9 18.74,0 35.76,-7.61 48.02,-19.9 12.28,-12.25 19.89,-29.27 19.89,-48.01l-6.92 0z" data-v-e6998206></path><path class="fil2" d="M2720.46 2262.54l-6.92 0c0,5.19 -2.07,9.82 -5.48,13.22 -3.4,3.39 -8.02,5.48 -13.21,5.48 -5.19,0 -9.81,-2.09 -13.21,-5.48 -3.39,-3.4 -5.48,-8.03 -5.48,-13.22 0,-5.19 2.09,-9.81 5.48,-13.21 3.4,-3.4 8.02,-5.48 13.21,-5.48 5.19,0 9.81,2.08 13.21,5.48 3.41,3.4 5.48,8.02 5.48,13.21l13.84 0c0,-8.96 -3.65,-17.14 -9.53,-22.99 -5.86,-5.88 -14.04,-9.53 -23,-9.53 -8.97,0 -17.13,3.65 -23,9.53 -5.87,5.85 -9.53,14.03 -9.53,22.99 0,8.97 3.66,17.13 9.53,23 5.87,5.88 14.03,9.53 23,9.53 8.96,0 17.14,-3.65 23,-9.53 5.88,-5.87 9.53,-14.03 9.53,-23l-6.92 0z" data-v-e6998206></path><path class="fil2" d="M4126.65 3633.34l-6.92 0c-0.01,14.96 -6.04,28.43 -15.84,38.24 -9.81,9.8 -23.28,15.83 -38.24,15.83 -14.94,0 -28.43,-6.03 -38.23,-15.83 -9.8,-9.81 -15.83,-23.28 -15.85,-38.24 0.02,-14.96 6.05,-28.42 15.85,-38.23 9.8,-9.8 23.29,-15.84 38.23,-15.84 14.96,0 28.43,6.04 38.24,15.84 9.8,9.81 15.83,23.27 15.84,38.23l13.84 0c0,-18.74 -7.62,-35.75 -19.9,-48.01 -12.27,-12.29 -29.29,-19.9 -48.02,-19.9 -18.73,0 -35.75,7.61 -48.02,19.9 -12.28,12.26 -19.89,29.27 -19.89,48.01 0,18.73 7.61,35.75 19.89,48.02 12.27,12.28 29.29,19.9 48.02,19.89 18.73,0.01 35.75,-7.61 48.02,-19.89 12.28,-12.27 19.9,-29.29 19.9,-48.02l-6.92 0z" data-v-e6998206></path><path class="fil2" d="M4091.26 3633.34l-6.92 0c0,5.19 -2.08,9.81 -5.47,13.21 -3.4,3.41 -8.04,5.48 -13.22,5.48 -5.18,0 -9.81,-2.07 -13.22,-5.48 -3.39,-3.4 -5.46,-8.02 -5.46,-13.21 0,-5.18 2.07,-9.81 5.46,-13.22 3.41,-3.39 8.04,-5.46 13.22,-5.47 5.18,0.01 9.82,2.08 13.22,5.47 3.39,3.41 5.47,8.04 5.47,13.22l13.84 0c0.01,-8.95 -3.66,-17.13 -9.53,-23 -5.86,-5.88 -14.04,-9.53 -23,-9.53 -8.95,0 -17.13,3.65 -23,9.53 -5.88,5.87 -9.53,14.05 -9.52,23 -0.01,8.96 3.64,17.14 9.52,23.01 5.87,5.86 14.05,9.52 23,9.52 8.96,0 17.14,-3.66 23,-9.52 5.87,-5.87 9.54,-14.05 9.53,-23.01l-6.92 0z" data-v-e6998206></path><path class="fil2" d="M4269.14 2049.12l-160.6 160.6c1.79,1.46 3.5,3 5.13,4.63 1.64,1.63 3.19,3.35 4.65,5.15l160.6 -160.6c2.7,-2.7 2.7,-7.09 0,-9.78 -2.71,-2.7 -7.09,-2.7 -9.78,0z" data-v-e6998206></path><path class="fil2" d="M2642.19 3676.07l-160.76 160.74c-2.7,2.72 -2.7,7.09 0,9.8 2.7,2.7 7.08,2.7 9.78,0l160.76 -160.76c-1.79,-1.46 -3.51,-3.02 -5.15,-4.65 -1.63,-1.63 -3.17,-3.34 -4.63,-5.13z" data-v-e6998206></path><path class="fil2" d="M2694.85 3572.18l0 6.92c14.96,0 28.44,6.05 38.24,15.84 9.8,9.81 15.83,23.29 15.83,38.23 0,14.96 -6.03,28.44 -15.83,38.25 -9.8,9.79 -23.28,15.82 -38.24,15.84 -14.95,-0.02 -28.43,-6.05 -38.23,-15.84 -9.8,-9.81 -15.84,-23.29 -15.84,-38.25 0,-14.94 6.04,-28.42 15.84,-38.23 9.8,-9.79 23.28,-15.84 38.23,-15.84l0 -13.83c-18.73,0 -35.75,7.6 -48.03,19.89 -12.27,12.26 -19.88,29.29 -19.88,48.01 0,18.74 7.61,35.76 19.88,48.03 12.28,12.27 29.3,19.89 48.03,19.88 18.74,0.01 35.76,-7.61 48.02,-19.88 12.28,-12.27 19.89,-29.29 19.89,-48.03 0,-18.72 -7.61,-35.75 -19.89,-48.01 -12.26,-12.29 -29.28,-19.89 -48.02,-19.89l0 6.91z" data-v-e6998206></path><path class="fil2" d="M2694.85 3607.56l0 6.92c5.19,0.01 9.81,2.09 13.21,5.48 3.41,3.4 5.48,8.04 5.48,13.21 0,5.19 -2.07,9.83 -5.48,13.23 -3.4,3.39 -8.02,5.47 -13.21,5.47 -5.19,0 -9.81,-2.08 -13.21,-5.47 -3.39,-3.4 -5.48,-8.04 -5.48,-13.23 0,-5.17 2.09,-9.81 5.48,-13.21 3.4,-3.39 8.02,-5.47 13.21,-5.48l0 -13.84c-8.97,0 -17.13,3.66 -23,9.54 -5.87,5.86 -9.53,14.04 -9.53,22.99 0,8.97 3.66,17.15 9.53,23.01 5.87,5.87 14.03,9.53 23,9.52 8.96,0.01 17.14,-3.65 23,-9.52 5.88,-5.86 9.53,-14.04 9.53,-23.01 0,-8.95 -3.65,-17.13 -9.53,-22.99 -5.86,-5.88 -14.04,-9.54 -23,-9.54l0 6.92z" data-v-e6998206></path><path class="fil2" d="M4065.65 2201.38l0 6.92c14.96,0 28.43,6.05 38.24,15.85 9.8,9.79 15.83,23.27 15.84,38.23 -0.01,14.95 -6.04,28.43 -15.84,38.24 -9.81,9.8 -23.28,15.83 -38.24,15.83 -14.94,0 -28.43,-6.03 -38.23,-15.83 -9.8,-9.81 -15.83,-23.29 -15.85,-38.24 0.02,-14.96 6.05,-28.44 15.85,-38.23 9.8,-9.8 23.29,-15.85 38.23,-15.85l0 -13.83c-18.73,0 -35.75,7.61 -48.02,19.88 -12.28,12.27 -19.89,29.29 -19.89,48.03 0,18.73 7.61,35.75 19.89,48.02 12.27,12.28 29.29,19.89 48.02,19.89 18.73,0 35.75,-7.61 48.02,-19.89 12.28,-12.27 19.9,-29.29 19.9,-48.02 0,-18.74 -7.62,-35.76 -19.9,-48.03 -12.27,-12.27 -29.29,-19.88 -48.02,-19.88l0 6.91z" data-v-e6998206></path><path class="fil2" d="M4065.65 2236.77l0 6.91c5.18,0 9.82,2.1 13.22,5.49 3.39,3.4 5.47,8.02 5.47,13.21 0,5.19 -2.08,9.81 -5.47,13.21 -3.4,3.4 -8.04,5.48 -13.22,5.48 -5.18,0 -9.81,-2.08 -13.22,-5.48 -3.39,-3.4 -5.46,-8.02 -5.46,-13.21 0,-5.19 2.07,-9.81 5.46,-13.21 3.41,-3.39 8.04,-5.49 13.22,-5.49l0 -13.83c-8.95,0 -17.13,3.65 -23,9.53 -5.88,5.87 -9.53,14.03 -9.52,23 -0.01,8.97 3.64,17.14 9.52,22.99 5.87,5.88 14.05,9.54 23,9.54 8.96,0 17.14,-3.66 23,-9.54 5.87,-5.85 9.54,-14.02 9.53,-22.99 0.01,-8.97 -3.66,-17.13 -9.53,-23 -5.86,-5.88 -14.04,-9.53 -23,-9.53l0 6.92z" data-v-e6998206></path><path class="fil7" d="M2850.9 1462.05c-7.59,2.61 -8.16,2.98 14.6,4.97 22.76,2 68.86,5.62 154.85,6.11 85.98,0.51 211.83,-2.11 364.83,0.01 152.99,2.12 333.11,9.01 487.06,9.77 95.99,0.49 181.8,-1.41 252.93,-3.32l-0.33 -19.85c-53.15,-0.31 -117.71,-0.64 -196.55,-1.17 -250.66,-1.68 -645.64,-5.26 -850.42,-4.62 -204.79,0.64 -219.38,5.49 -226.97,8.1z" data-v-e6998206></path><path class="fil3" d="M4644.28 1646.79l-21.69 0c-0.75,-1.47 -3.57,-3.95 -7.22,-6.92l1.86 0c8.05,4.41 17.27,6.92 27.05,6.92zm-397.92 -221.87c-4.64,1.42 -9.57,-1.19 -10.99,-5.83 -1.42,-4.64 1.19,-9.57 5.83,-10.99 8.52,-2.61 17.08,-5.24 25.82,-6.78 9.25,-1.64 18.71,-2.11 28.56,-0.24 7.84,1.49 15.49,4.39 23.18,7.29 9.8,3.71 19.75,7.48 28.71,7.5 9.31,0.01 19.57,-4.05 29.77,-8.09l0.65 -0.23c6.89,-2.72 13.81,-5.44 21.12,-7.19 9.95,-2.38 19.74,-2.75 29.4,-2.13 9.27,0.6 18.52,2.14 27.74,3.67 4.79,0.77 8.04,5.3 7.27,10.09 -0.77,4.79 -5.3,8.04 -10.09,7.27 -8.69,-1.44 -17.4,-2.9 -26.02,-3.45 -8.22,-0.53 -16.35,-0.26 -24.24,1.63 -5.95,1.43 -12.33,3.93 -18.69,6.45l-0.66 0.29c-11.69,4.63 -23.44,9.29 -36.25,9.27 -12.22,-0.03 -23.67,-4.36 -34.91,-8.62 -6.95,-2.62 -13.87,-5.25 -20.22,-6.45 -7.45,-1.42 -14.88,-1.01 -22.28,0.3 -7.89,1.39 -15.81,3.82 -23.7,6.24zm-40.53 -111.05c-4.71,1.14 -9.47,-1.76 -10.61,-6.47 -1.14,-4.71 1.76,-9.47 6.47,-10.61 10.57,-2.58 21.17,-5.18 31.87,-6.69 11.2,-1.59 22.61,-2.05 34.37,-0.27 9.47,1.43 18.9,4.29 28.4,7.15 12.64,3.81 25.46,7.69 37.33,7.71 12.4,0.01 25.59,-4.16 38.71,-8.31 8.77,-2.77 17.54,-5.55 26.74,-7.31 11.95,-2.28 23.85,-2.63 35.7,-2.02 11.46,0.59 22.93,2.12 34.36,3.63 4.81,0.62 8.2,5.05 7.58,9.86 -0.62,4.81 -5.05,8.2 -9.86,7.58 -11.01,-1.46 -22.05,-2.93 -32.98,-3.49 -10.56,-0.54 -21.09,-0.25 -31.5,1.74 -7.97,1.53 -16.36,4.19 -24.74,6.83 -14.33,4.53 -28.71,9.09 -44.01,9.07 -14.66,-0.03 -28.65,-4.25 -42.4,-8.41 -8.85,-2.68 -17.63,-5.33 -25.95,-6.59 -9.92,-1.5 -19.69,-1.09 -29.33,0.27 -10.11,1.42 -20.14,3.88 -30.15,6.33zm23.87 -92.19c-4.71,1.14 -9.47,-1.76 -10.61,-6.47 -1.14,-4.71 1.76,-9.47 6.47,-10.61 10.57,-2.58 21.17,-5.18 31.87,-6.69 11.2,-1.59 22.61,-2.05 34.37,-0.27 9.47,1.43 18.9,4.29 28.4,7.15 12.64,3.81 25.46,7.69 37.33,7.71 12.4,0.01 25.59,-4.16 38.71,-8.31 8.77,-2.77 17.54,-5.55 26.74,-7.31 11.95,-2.28 23.85,-2.63 35.7,-2.02 11.46,0.59 22.93,2.12 34.36,3.63 4.81,0.62 8.2,5.05 7.58,9.86 -0.62,4.81 -5.05,8.2 -9.86,7.58 -11.01,-1.46 -22.05,-2.93 -32.98,-3.49 -10.56,-0.54 -21.09,-0.25 -31.5,1.74 -7.97,1.53 -16.36,4.19 -24.74,6.83 -14.33,4.53 -28.71,9.09 -44.01,9.07 -14.66,-0.03 -28.65,-4.25 -42.4,-8.41 -8.85,-2.68 -17.63,-5.33 -25.95,-6.59 -9.92,-1.5 -19.69,-1.09 -29.33,0.27 -10.11,1.42 -20.14,3.88 -30.15,6.33zm-44.21 417.29c-1.25,-1.81 -4.79,-4.73 -9.03,-8.14 -7.12,-5.74 -16.22,-12.87 -21.17,-28.69 -4.94,-15.83 -5.74,-40.36 -5.35,-89.02 0.4,-48.67 1.99,-121.48 3.37,-182.41 1.39,-60.93 2.57,-110 2.57,-151.14 0,-41.15 -1.18,-74.39 -1.78,-95.16 -0.4,-13.93 -0.54,-22.25 -1.47,-27.42l428.05 0 0 0.48c-2.2,1.49 -4.48,4.86 -6.38,10.94 -4.15,13.25 -6.53,39.37 -8.51,62.91 -1.97,23.54 -3.56,44.51 -4.35,111.18 -0.79,66.67 -0.79,179.04 0.59,246.9 1.39,67.85 4.16,91.2 6.14,105.25 1.98,14.04 3.16,18.78 6.52,24.72 3.37,5.93 8.91,13.06 18.6,18.8 0.99,0.58 2.01,1.15 3.07,1.7l-401.45 0c-3.22,0 -6.37,-0.31 -9.42,-0.9z" data-v-e6998206></path><path class="fil2" d="M4644.28 1639.87l-28.91 0c5.97,4.87 9.73,8.39 5.81,8.39 -0.88,0 -2.14,-0.17 -3.67,-0.5 8.15,3.81 17.22,5.94 26.77,5.94 17.49,0 33.43,-7.18 44.93,-18.68 11.5,-11.5 18.68,-27.43 18.68,-44.92 0,-1.83 -0.75,-3.61 -2.03,-4.9 -1.29,-1.29 -3.08,-2.02 -4.89,-2.02l-71.33 0c-3.82,0 -6.92,3.1 -6.92,6.92 0,3.82 3.1,6.92 6.92,6.92l71.33 0 0 -6.92 -6.92 0c0,13.68 -5.59,26.08 -14.62,35.14 -9.05,9.04 -21.47,14.63 -35.15,14.63 -13.68,0 -26.09,-5.59 -35.14,-14.63 -9.05,-9.06 -14.63,-21.46 -14.63,-35.14l0 -540.03c0,-1.82 -0.73,-3.6 -2.03,-4.89 -1.29,-1.29 -3.06,-2.03 -4.89,-2.03l-449.37 0c-1.83,0 -3.6,0.74 -4.89,2.03 -1.3,1.29 -2.03,3.07 -2.03,4.89l0 48.55c-0.86,8.32 -1.62,17 -2.32,25.36 -1.25,14.98 -2.35,28.93 -3.19,54.29 6.56,0.98 8.92,1.92 10.77,2.67 6.26,2.55 6.87,2.96 -11.01,4.83 -0.38,13.16 -0.68,29.17 -0.92,49.39 -0.79,66.67 -0.79,179.04 0.59,246.9 1.38,67.14 4.1,90.7 6.08,104.8l0 3.24c0,17.49 7.16,33.42 18.68,44.92 11.5,11.5 27.43,18.68 44.93,18.68l449.37 0c3.82,0 6.92,-3.1 6.92,-6.91 0,-3.82 -3.1,-6.92 -6.92,-6.92zm-458.79 -0.9c-1.25,-1.81 -4.79,-4.73 -9.03,-8.14 -7.12,-5.74 -16.22,-12.87 -21.17,-28.69 -4.94,-15.83 -5.74,-40.36 -5.35,-89.02 0.4,-48.67 1.99,-121.48 3.37,-182.41 1.39,-60.93 2.57,-110 2.57,-151.14 0,-41.15 -1.18,-74.39 -1.78,-95.16 -0.4,-13.93 -0.54,-22.25 -1.47,-27.42l428.05 0 0 0.48c-2.2,1.49 -4.48,4.86 -6.38,10.94 -4.15,13.25 -6.53,39.37 -8.51,62.91 -1.97,23.54 -3.56,44.51 -4.35,111.18 -0.79,66.67 -0.79,179.04 0.59,246.9 1.39,67.85 4.16,91.2 6.14,105.25 1.98,14.04 3.16,18.78 6.52,24.72 3.37,5.93 8.91,13.06 18.6,18.8 0.99,0.58 2.01,1.15 3.07,1.7l-401.45 0c-3.22,0 -6.37,-0.31 -9.42,-0.9z" data-v-e6998206></path><path class="fil5" d="M6908.77 4672.37l0 -486.57c-2.72,-157.23 -5.91,-354.04 -6.22,-577.3 -0.46,-320.14 4.99,-694.66 5.9,-1012.79 0.9,-318.14 -2.72,-579.88 -2.9,-758.66 -0.14,-131.31 1.58,-217.89 3.22,-273.35l0 -87.6c-12.87,0.12 -26.67,0.28 -41.48,0.5 -97.27,1.44 -237.78,5.32 -406.7,6.21l0 25.67c0.51,11.96 0.96,26.02 1.34,42.42 2.48,107.95 1.58,316.77 1.22,796.38l138.99 0c8.01,0 15.26,3.8 20.51,9.87 5.24,6.06 8.48,14.52 8.48,23.77l0 1160.64c0,9.25 -3.24,17.7 -8.48,23.77 -5.25,6.07 -12.5,9.88 -20.51,9.88l-139.6 0c-0.27,230.18 -0.74,441.47 -1.58,598.78l-0.37 61.82 0 436.56 448.18 0z" data-v-e6998206></path><path class="fil3" d="M6462.72 3382.88l108.71 0c3.82,0 6.92,-3.59 6.92,-8.02 0,-4.43 -3.1,-8.03 -6.92,-8.03l-108.69 0 0.06 -103.8 108.63 0c3.82,0 6.92,-3.6 6.92,-8.03 0,-4.45 -3.1,-8.03 -6.92,-8.03l-108.62 0 0.05 -103.81 108.57 0c3.82,0 6.92,-3.6 6.92,-8.03 0,-4.44 -3.1,-8.03 -6.92,-8.03l-108.56 0 0.04 -103.82 108.52 0c3.82,0 6.92,-3.59 6.92,-8.03 0,-4.43 -3.1,-8.03 -6.92,-8.03l-108.52 0 0.03 -103.81 108.49 0c3.82,0 6.92,-3.58 6.92,-8.03 0,-4.43 -3.1,-8.03 -6.92,-8.03l-108.49 0 0.03 -103.8 108.46 0c3.82,0 6.92,-3.59 6.92,-8.03 0,-4.43 -3.1,-8.02 -6.92,-8.02l-108.45 0 0.02 -103.82 108.43 0c3.82,0 6.92,-3.6 6.92,-8.03 0,-4.43 -3.1,-8.03 -6.92,-8.03l-108.42 0 0.1 -242.06 0.03 -42.22 139 0c4.15,0 7.92,1.96 10.68,5.17 2.82,3.23 4.49,7.58 4.49,12.41l0 1160.64c0,4.83 -1.67,9.19 -4.49,12.42 -2.76,3.21 -6.53,5.17 -10.68,5.17l-139.58 0 0.16 -176.27z" data-v-e6998206></path><path class="fil2" d="M6460.59 4672.37l0 -436.56c-2.4,367.04 -7.01,395.22 -9.54,410.22 -2.38,14.07 -2.93,16.56 -4.3,-16.49l0 42.83 13.84 0zm0 -3163.89l0 -25.67 -1.38 0c0.49,7.17 0.95,15.68 1.38,25.67zm-13.84 -25.61l0 333.03 0.79 -52.17c2.23,-159.58 1.09,-239.6 2.76,-280.88l-3.55 0.02z" data-v-e6998206></path><path class="fil2" d="M6922.6 4672.37l0 -13.6c-0.53,5.85 -1.06,10.34 -1.61,13.6l1.61 0zm0 -2999.58l0 -196.81 -8.99 0.07c0.45,1.55 0.98,4.65 1.67,8.71 1.88,11.12 4.9,29.49 7.32,188.03zm-13.83 -196.69l0 87.6c0.59,-20.06 1.18,-36.05 1.66,-48.62 0.92,-24.1 1.47,-35.61 2.14,-39.02l-3.8 0.04zm0 2709.7l0 486.57 7.66 0c-0.56,-3.72 -1.05,-8.83 -1.43,-15.05 -2.35,-38.1 -0.82,-117.62 -3.23,-290.26 -0.73,-52.24 -1.82,-113.03 -3,-181.26z" data-v-e6998206></path><path class="fil5" d="M6908.77 1183.12l-448.18 0 0 -461.95c0,-33.46 11.9,-63.84 31.12,-85.93 19.23,-22.08 45.67,-35.74 74.81,-35.74l236.29 0c29.13,0 55.6,13.66 74.82,35.74 19.22,22.09 31.14,52.47 31.14,85.93l0 461.95z" data-v-e6998206></path><path class="fil2" d="M6460.59 1183.12l0 -461.95c0,-33.46 11.9,-63.84 31.12,-85.93 19.23,-22.08 45.67,-35.74 74.81,-35.74l236.29 0c29.13,0 55.6,13.66 74.82,35.74 19.22,22.09 31.14,52.47 31.14,85.93l0 461.95 13.83 0 0 -461.95c0,-37.84 -13.5,-72.27 -35.2,-97.17 -21.65,-24.91 -51.64,-40.4 -84.59,-40.4l-236.29 0c-32.95,0 -62.91,15.49 -84.6,40.4 -21.68,24.9 -35.17,59.33 -35.17,97.17l0 461.95 13.84 0z" data-v-e6998206></path><path class="fil2" d="M6758.89 935.25l0 -7.94 -148.45 0c-14.55,-0.01 -27.75,-6.83 -37.34,-17.87 -9.63,-11.05 -15.59,-26.22 -15.59,-42.93l0 -83.04c0,-16.72 5.96,-31.88 15.59,-42.94 9.59,-11.04 22.79,-17.86 37.34,-17.86l148.45 0c14.54,0 27.75,6.82 37.38,17.86 9.59,11.06 15.55,26.22 15.55,42.94l0 83.04c0,16.71 -5.96,31.88 -15.55,42.93 -9.63,11.04 -22.84,17.86 -37.38,17.87l0 15.89c18.36,0 35.1,-8.65 47.16,-22.52 12.07,-13.87 19.6,-33.08 19.6,-54.17l0 -83.04c0,-21.1 -7.53,-40.31 -19.6,-54.18 -12.06,-13.87 -28.8,-22.52 -47.16,-22.52l-148.45 0c-18.36,0 -35.1,8.65 -47.16,22.52 -12.07,13.87 -19.6,33.08 -19.6,54.18l0 83.04c0,21.09 7.53,40.3 19.6,54.17 12.06,13.87 28.8,22.52 47.16,22.52l148.45 0 0 -7.95z" data-v-e6998206></path><path class="fil2" d="M6463.14 2363.34l139 0c4.15,0 7.92,1.96 10.68,5.17 2.82,3.23 4.49,7.58 4.49,12.41l0 1160.64c0,4.83 -1.67,9.19 -4.49,12.42 -2.76,3.21 -6.53,5.17 -10.68,5.17l-139.58 0 -0.02 16.06 139.6 0c8.01,0 15.26,-3.81 20.51,-9.88 5.24,-6.07 8.48,-14.52 8.48,-23.77l0 -1160.64c0,-9.25 -3.24,-17.71 -8.48,-23.77 -5.25,-6.07 -12.5,-9.87 -20.51,-9.87l-138.99 0 -0.01 16.06z" data-v-e6998206></path><path class="fil2" d="M6462.94 2903.41l108.49 0c3.82,0 6.92,-3.58 6.92,-8.03 0,-4.43 -3.1,-8.03 -6.92,-8.03l-108.49 0 0 16.06z" data-v-e6998206></path><path class="fil2" d="M6462.97 2783.55l108.46 0c3.82,0 6.92,-3.59 6.92,-8.03 0,-4.43 -3.1,-8.02 -6.92,-8.02l-108.45 0 -0.01 16.05z" data-v-e6998206></path><path class="fil2" d="M6463 2663.68l108.43 0c3.82,0 6.92,-3.6 6.92,-8.03 0,-4.43 -3.1,-8.03 -6.92,-8.03l-108.42 0 -0.01 16.06z" data-v-e6998206></path><path class="fil2" d="M6462.86 3143.16l108.57 0c3.82,0 6.92,-3.6 6.92,-8.03 0,-4.44 -3.1,-8.03 -6.92,-8.03l-108.56 0 -0.01 16.06z" data-v-e6998206></path><path class="fil2" d="M6462.91 3023.28l108.52 0c3.82,0 6.92,-3.59 6.92,-8.03 0,-4.43 -3.1,-8.03 -6.92,-8.03l-108.52 0 0 16.06z" data-v-e6998206></path><path class="fil2" d="M6462.72 3382.88l108.71 0c3.82,0 6.92,-3.59 6.92,-8.02 0,-4.43 -3.1,-8.03 -6.92,-8.03l-108.69 0 -0.02 16.05z" data-v-e6998206></path><path class="fil2" d="M6462.8 3263.03l108.63 0c3.82,0 6.92,-3.6 6.92,-8.03 0,-4.45 -3.1,-8.03 -6.92,-8.03l-108.62 0 -0.01 16.06z" data-v-e6998206></path><path class="fil4" d="M5397.89 5066.17l0 -148.33c0,-63.7 26.04,-121.56 68.05,-163.58 42.02,-42.01 99.89,-68.05 163.59,-68.05l1452.68 0c63.71,0 121.55,26.04 163.56,68.05 42.01,42.02 68.05,99.88 68.05,163.58l0 148.33 -1915.93 0z" data-v-e6998206></path><path class="fil2" d="M5397.89 5066.17l0 -148.33c0,-63.7 26.04,-121.56 68.05,-163.58 42.02,-42.01 99.89,-68.05 163.59,-68.05l1452.68 0c63.71,0 121.55,26.04 163.56,68.05 42.01,42.02 68.05,99.88 68.05,163.58l0 148.33 13.88 0 0 -148.33c0,-67.5 -27.66,-128.91 -72.11,-173.37 -44.49,-44.47 -105.86,-72.1 -173.38,-72.1l-161.22 0c-1.63,9.71 -3.28,8.53 -4.56,0l-1286.9 0c-67.51,0 -128.92,27.63 -173.37,72.1 -44.47,44.46 -72.1,105.87 -72.1,173.37l0 148.33 13.83 0z" data-v-e6998206></path><path class="fil2" d="M4558.64 3859.23l-6.92 0c0,10.63 -4.29,20.2 -11.25,27.18 -6.98,6.97 -16.55,11.24 -27.19,11.26 -10.63,-0.02 -20.2,-4.29 -27.17,-11.26 -6.96,-6.98 -11.25,-16.55 -11.27,-27.18 0.02,-10.64 4.31,-20.2 11.27,-27.18 6.97,-6.97 16.54,-11.25 27.17,-11.25 10.64,0 20.21,4.28 27.19,11.25 6.96,6.98 11.25,16.54 11.25,27.18l13.83 0c0.02,-14.42 -5.85,-27.53 -15.3,-36.97 -9.43,-9.45 -22.55,-15.32 -36.97,-15.3 -14.4,-0.02 -27.52,5.85 -36.96,15.3 -9.45,9.44 -15.31,22.55 -15.3,36.97 -0.01,14.41 5.85,27.52 15.3,36.96 9.44,9.45 22.56,15.32 36.96,15.32 14.42,0 27.54,-5.87 36.97,-15.32 9.45,-9.44 15.32,-22.55 15.3,-36.96l-6.91 0z" data-v-e6998206></path><path class="fil3" d="M3276.35 5066.17l0 -235.67c0,-27.83 11.34,-53.08 29.73,-71.47 18.39,-18.38 43.64,-29.73 71.47,-29.75l0.89 0c27.82,0.02 53.08,11.37 71.48,29.75 18.35,18.39 29.72,43.64 29.72,71.47l0 235.67 -203.29 0z" data-v-e6998206></path><path class="fil5" d="M3820.65 5066.17l0 -173.08c0,-5.51 -4.43,-9.95 -9.95,-9.95 -5.5,0 -9.96,4.44 -9.96,9.95l0 173.08 -91.67 0 0 -235.67c0,-27.83 11.34,-53.08 29.72,-71.47 18.39,-18.38 43.64,-29.73 71.47,-29.75l0.89 0c27.84,0.02 53.08,11.37 71.48,29.75 18.36,18.39 29.73,43.64 29.73,71.47l0 235.67 -91.71 0z" data-v-e6998206></path><path class="fil6" d="M4209.96 5066.17l0 -235.67c0,-27.83 11.36,-53.08 29.74,-71.47 18.39,-18.38 43.64,-29.73 71.47,-29.75l0.89 0c27.82,0.02 53.08,11.37 71.46,29.75 18.37,18.39 29.74,43.64 29.74,71.47l0 235.67 -203.3 0z" data-v-e6998206></path><path class="fil4" d="M2836.77 5066.17l0 -173.08c0,-5.51 -4.46,-9.95 -9.95,-9.95 -5.5,0 -9.95,4.44 -9.95,9.95l0 173.08 -91.71 0 0 -235.67c0.02,-27.83 11.37,-53.08 29.75,-71.47 18.39,-18.38 43.64,-29.73 71.48,-29.75l0.89 0c27.81,0.02 53.08,11.37 71.45,29.75 18.38,18.39 29.74,43.64 29.74,71.47l0 235.67 -91.7 0z" data-v-e6998206></path><path class="fil3" d="M2212.34 5066.17l0 -235.67c0,-27.83 11.34,-53.08 29.72,-71.47 18.39,-18.38 43.64,-29.73 71.47,-29.75l0.89 0c27.84,0.02 53.08,11.37 71.48,29.75 18.38,18.39 29.72,43.64 29.72,71.47l0 235.67 -203.28 0z" data-v-e6998206></path><path class="fil2" d="M3276.35 5066.17l0 -235.67c0,-27.83 11.34,-53.08 29.73,-71.47 18.39,-18.38 43.64,-29.73 71.47,-29.75l0.89 0c27.82,0.02 53.08,11.37 71.48,29.75 18.35,18.39 29.72,43.64 29.72,71.47l0 235.67 19.91 0 0 -235.67c0,-33.33 -13.64,-63.65 -35.56,-85.55 -21.92,-21.92 -52.24,-35.58 -85.55,-35.58l-0.89 0c-33.31,0 -63.65,13.66 -85.55,35.58 -21.92,21.9 -35.56,52.22 -35.56,85.55l0 235.67 19.91 0z" data-v-e6998206></path><path class="fil2" d="M3709.07 5066.17l0 -235.67c0,-27.83 11.34,-53.08 29.72,-71.47 18.39,-18.38 43.64,-29.73 71.47,-29.75l0.89 0c27.84,0.02 53.08,11.37 71.48,29.75 18.36,18.39 29.73,43.64 29.73,71.47l0 235.67 19.9 0 0 -235.67c0,-33.33 -13.63,-63.65 -35.56,-85.55 -21.91,-21.92 -52.23,-35.58 -85.55,-35.58l-0.89 0c-33.3,0 -63.65,13.66 -85.55,35.58 -21.91,21.9 -35.56,52.22 -35.56,85.55l0 235.67 19.92 0z" data-v-e6998206></path><path class="fil2" d="M4209.96 5066.17l0 -235.67c0,-27.83 11.36,-53.08 29.74,-71.47 18.39,-18.38 43.64,-29.73 71.47,-29.75l0.89 0c27.82,0.02 53.08,11.37 71.46,29.75 18.37,18.39 29.74,43.64 29.74,71.47l0 235.67 19.91 0 0 -235.67c0,-33.33 -13.65,-63.65 -35.58,-85.55 -21.9,-21.92 -52.21,-35.58 -85.53,-35.58l-0.89 0c-33.33,0 -63.65,13.66 -85.55,35.58 -21.92,21.9 -35.58,52.22 -35.58,85.55l0 235.67 19.92 0z" data-v-e6998206></path><path class="fil2" d="M2725.16 5066.17l0 -235.67c0.02,-27.83 11.37,-53.08 29.75,-71.47 18.39,-18.38 43.64,-29.73 71.48,-29.75l0.89 0c27.81,0.02 53.08,11.37 71.45,29.75 18.38,18.39 29.74,43.64 29.74,71.47l0 235.67 19.92 0 0 -235.67c0,-33.33 -13.67,-63.65 -35.58,-85.55 -21.9,-21.92 -52.23,-35.58 -85.53,-35.58l-0.89 0c-33.33,0 -63.66,13.66 -85.55,35.58 -21.93,21.9 -35.58,52.22 -35.58,85.55l0 235.67 19.9 0z" data-v-e6998206></path><path class="fil2" d="M2212.34 5066.17l0 -235.67c0,-27.83 11.34,-53.08 29.72,-71.47 18.39,-18.38 43.64,-29.73 71.47,-29.75l0.89 0c27.84,0.02 53.08,11.37 71.48,29.75 18.38,18.39 29.72,43.64 29.72,71.47l0 235.67 19.91 0 0 -235.67c0,-33.33 -13.63,-63.65 -35.56,-85.55 -21.91,-21.92 -52.23,-35.58 -85.55,-35.58l-0.89 0c-33.31,0 -63.63,13.66 -85.55,35.58 -21.92,21.9 -35.56,52.22 -35.56,85.55l0 235.67 19.92 0z" data-v-e6998206></path><path class="fil2" d="M2836.77 5066.17l0 -173.08c0,-5.51 -4.46,-9.95 -9.95,-9.95 -5.5,0 -9.95,4.44 -9.95,9.95l0 173.08 19.9 0z" data-v-e6998206></path><path class="fil2" d="M3820.65 5066.17l0 -173.08c0,-5.51 -4.43,-9.95 -9.95,-9.95 -5.5,0 -9.96,4.44 -9.96,9.95l0 173.08 19.91 0z" data-v-e6998206></path><path class="fil2" d="M906.98 4430.6l-8.55 0c0,12.13 -0.25,24.08 -0.73,35.8 5.93,-4.25 11.76,-8.5 17.46,-12.75 0.2,-7.6 0.3,-15.3 0.3,-23.05l-8.48 0zm-10.46 57.46c-1.27,18.68 -3.14,36.66 -5.58,53.79l-1.42 9.48c5.44,2.52 10.79,4.92 16.05,7.2 4.22,-25.85 7.21,-53.8 8.74,-83.15 -5.82,4.24 -11.75,8.46 -17.79,12.68zm-11.78 89.98c-2.42,11.97 -5.13,23.35 -8.08,34.04 -8.66,31.48 -19.67,57.02 -31.55,74.06 -5.91,8.52 -12.06,14.87 -17.97,18.94 -2.92,2.03 -5.79,3.5 -8.66,4.47 -2.81,0.96 -5.56,1.43 -8.37,1.43 -4.92,-0.02 -9.83,-1.46 -15.1,-4.63 -4.57,-2.78 -9.25,-6.92 -13.93,-12.42 -8.19,-9.61 -16.21,-23.37 -23.35,-40.45 -8.4,-19.87 -15.71,-44.22 -21.51,-71.87 -5.32,2.5 -10.59,4.9 -15.8,7.21 2.09,9.65 4.36,18.93 6.81,27.79 9.07,32.72 20.43,59.75 33.95,79.22 6.79,9.73 14.11,17.62 22.24,23.23 4.1,2.81 8.37,5.03 12.82,6.56 4.51,1.53 9.13,2.34 13.87,2.34 8.43,0.01 16.56,-2.59 23.94,-7.12 6.5,-3.95 12.47,-9.34 18.03,-15.91 9.77,-11.5 18.43,-26.65 26.1,-44.85 8.92,-21.22 16.53,-46.62 22.5,-75.2 -5.25,-2.19 -10.57,-4.47 -15.94,-6.84zm-151.86 -13.63l-1.32 -7.6c-3.48,-21.1 -6.11,-43.72 -7.76,-67.42 -6.02,-3.97 -11.93,-7.96 -17.74,-11.96 1.25,23.28 3.42,45.66 6.42,66.8 1.35,9.43 2.85,18.61 4.51,27.52 5.23,-2.36 10.53,-4.79 15.89,-7.34zm-10.83 -112.24c-0.18,-7.12 -0.26,-14.31 -0.26,-21.57 0,-8.92 0.15,-17.74 0.41,-26.44 -5.35,3.91 -10.7,7.87 -16.03,11.89l-1.25 0.94c-0.07,4.51 -0.1,9.05 -0.1,13.61l0.05 9.61 2.23 1.57 14.95 10.39zm1.67 -79.02c1.27,-18.68 3.15,-36.67 5.56,-53.8 0.92,-6.48 1.92,-12.83 2.99,-19.05 -5.4,-2.41 -10.74,-4.72 -16.02,-6.95l-1.43 8.26c-4.32,26.15 -7.33,54.44 -8.86,84.19 5.81,-4.22 11.74,-8.45 17.76,-12.65zm11.76 -90.01c2.43,-11.98 5.13,-23.34 8.08,-34.03 8.72,-31.48 19.67,-57.01 31.55,-74.05 5.91,-8.52 12.06,-14.88 17.97,-18.95 2.92,-2.03 5.85,-3.5 8.66,-4.47 2.81,-0.96 5.62,-1.42 8.37,-1.42 4.97,0.01 9.89,1.45 15.1,4.62 4.57,2.78 9.25,6.92 13.93,12.42 8.19,9.62 16.21,23.37 23.41,40.45 8.35,19.87 15.68,44.22 21.47,71.86 5.33,-2.5 10.61,-4.9 15.83,-7.22 -2.09,-9.64 -4.35,-18.91 -6.8,-27.77 -9.08,-32.72 -20.43,-59.74 -33.95,-79.22 -6.79,-9.73 -14.16,-17.61 -22.3,-23.23 -4.04,-2.81 -8.37,-5.03 -12.82,-6.56 -4.45,-1.53 -9.13,-2.34 -13.87,-2.33 -8.43,-0.02 -16.56,2.59 -23.94,7.11 -6.5,3.95 -12.47,9.34 -18.03,15.91 -9.77,11.51 -18.43,26.66 -26.1,44.86 -8.92,21.22 -16.49,46.62 -22.48,75.19 5.25,2.19 10.56,4.46 15.92,6.83zm153.02 20.29l0.16 0.95c3.48,21.09 6.11,43.7 7.76,67.4 6.03,3.98 11.96,7.98 17.78,11.98 -1.27,-23.28 -3.46,-45.66 -6.46,-66.8 -1,-7.09 -2.09,-14.04 -3.27,-20.84 -5.24,2.32 -10.56,4.75 -15.97,7.31zm9.11 89.61c0.53,12.29 0.82,24.82 0.82,37.56l17.03 0c0,-8.59 -0.12,-17.09 -0.37,-25.49 -5.71,-4.03 -11.54,-8.05 -17.48,-12.07z" data-v-e6998206></path><path class="fil2" d="M749.71 4495.97l0.66 -1.06 -0.66 1.06 -4.57 7.18c16.44,10.35 32.85,20.13 49.12,29.3 9.23,-5.22 18.54,-10.66 27.9,-16.31l-5.6 -3.26c-36.45,-21.37 -75.6,-47.36 -109.46,-71.1 -6.15,-4.31 -12.11,-8.55 -17.9,-12.69 -8.05,6.29 -16,12.65 -23.77,18.98 24.23,18.43 50.96,36.97 79.71,55.08l4.57 -7.18zm61.95 46.09c35.05,18.98 69.09,34.99 100.64,47.56 25.64,10.22 49.69,18.17 71.35,23.6 21.66,5.42 40.97,8.34 57.42,8.35 9.71,-0.01 18.43,-1.02 26.16,-3.35 3.86,-1.17 7.49,-2.67 10.77,-4.58 3.28,-1.9 6.26,-4.22 8.78,-6.96 3.04,-3.27 5.33,-7.09 6.85,-11.19 1.46,-4.12 2.16,-8.51 2.16,-13 0,-7.12 -1.69,-14.53 -4.56,-22.26 -5.15,-13.53 -14.11,-28.2 -26.46,-43.97 -18.49,-23.63 -44.6,-49.7 -76.73,-76.65 -4.47,-3.74 -9.05,-7.5 -13.75,-11.28 -4.34,3.69 -8.78,7.4 -13.32,11.11 23.08,18.38 43.37,36.44 60.31,53.53 18.73,18.87 33.37,36.59 43.14,52.04 4.86,7.72 8.49,14.86 10.89,21.2l0.22 0.59c-0.82,5.28 -1.42,12.95 -3.26,17.98 -2.73,7.47 -8.21,9.09 -20.21,9.45 -12,0.36 -30.52,-0.53 -53.53,-5.16 -23.01,-4.64 -50.5,-13 -81.13,-25.55 -24.21,-9.92 -50.38,-22.45 -78.29,-37.82 -9.2,5.66 -18.36,11.11 -27.45,16.36zm149.02 -124.45c-25.74,-19.9 -54.47,-39.99 -85.6,-59.57 -14.19,-8.94 -28.36,-17.45 -42.44,-25.52 -4.13,2.33 -8.28,4.73 -12.47,7.19l-4.56 2.69c16.66,9.35 33.53,19.38 50.4,30.01 29.44,18.54 56.72,37.53 81.23,56.31 4.58,-3.71 9.06,-7.42 13.44,-11.11zm-152.08 -98.49c-35.03,-18.97 -69.1,-34.98 -100.68,-47.55 -25.64,-10.22 -49.64,-18.17 -71.35,-23.6 -21.66,-5.42 -40.91,-8.33 -57.36,-8.35 -9.77,0.01 -18.49,1.03 -26.22,3.36 -3.86,1.16 -7.43,2.67 -10.71,4.57 -3.34,1.9 -6.26,4.22 -8.84,6.96 -3.04,3.27 -5.33,7.09 -6.79,11.2 -1.52,4.12 -2.22,8.5 -2.22,12.99 0.06,7.13 1.69,14.53 4.62,22.26 5.09,13.53 14.11,28.2 26.46,43.97 18.49,23.64 44.6,49.7 76.67,76.65 4.47,3.74 9.06,7.5 13.76,11.27 7.28,-6.19 14.84,-12.4 22.68,-18.65 -17.46,-12.77 -32.87,-24.35 -45.94,-34.16 -21.97,-16.51 -37.33,-28.03 -52.14,-46.9 -9.52,-12.14 -18.79,-27.3 -24.9,-36.31l-0.73 -1.85c-2.4,-6.34 -3.45,-11.86 -3.45,-16.28 0,-2.8 0.41,-5.17 1.11,-7.21 0.76,-2.04 1.82,-3.79 3.34,-5.45 1.28,-1.38 2.87,-2.65 4.86,-3.8 2.98,-1.72 6.84,-3.15 11.64,-4.14 4.74,-0.97 10.42,-1.5 16.8,-1.5 14.4,0 32.54,2.64 53.26,7.85 31.08,7.79 68.07,21.26 107.99,39.55 16.56,7.6 33.64,16.03 51,25.22 5.73,-3.44 11.45,-6.81 17.14,-10.1z" data-v-e6998206></path><path class="fil2" d="M872.33 4494.29l-4.74 -7.06c-57.19,38.27 -114.43,69.32 -164.71,90.7 -25.11,10.7 -48.46,18.98 -69.18,24.56 -20.66,5.58 -38.63,8.42 -52.73,8.41 -7.73,0.01 -14.23,-0.85 -19.32,-2.37 -2.52,-0.77 -4.68,-1.69 -6.55,-2.73 -1.82,-1.04 -3.34,-2.2 -4.57,-3.46 -1.64,-1.69 -2.75,-3.5 -3.57,-5.64 -0.82,-2.15 -1.29,-4.67 -1.29,-7.68 0,-4.53 1.06,-10.13 3.4,-16.58 4.1,-11.28 11.94,-25.01 23.23,-40.13l3.85 -5.04c7.26,-6.98 16.2,-15.56 26.64,-25.15 27.34,-25.1 64.99,-57.08 103.38,-86.07 38.4,-28.98 77.55,-54.97 114,-76.34 36.45,-21.36 70.22,-38.09 100.84,-50.64 30.63,-12.55 58.12,-20.91 81.13,-25.55 23.01,-4.63 41.53,-5.52 53.18,-3.73 9.76,1.5 14.7,4.88 18.86,7.96 0.24,1.35 0.37,2.81 0.37,4.42 0,4.53 -1.06,10.13 -3.4,16.58 -4.04,11.28 -11.94,25.01 -23.23,40.14 -16.98,22.71 -41.56,48.66 -72.17,75.7 -30.55,27.05 -67.19,55.23 -108.16,82.64l4.74 7.06 4.74 7.06c63.33,-42.38 116.41,-86.59 153.93,-126.39 18.79,-19.92 33.71,-38.73 44.07,-55.89 5.21,-8.58 9.25,-16.77 12.06,-24.56 2.81,-7.79 4.39,-15.22 4.39,-22.34 0,-4.72 -0.7,-9.31 -2.34,-13.6 -1.58,-4.3 -4.04,-8.25 -7.32,-11.58 -2.45,-2.51 -5.26,-4.63 -8.37,-6.38 -4.68,-2.62 -9.89,-4.43 -15.62,-5.6 -5.68,-1.16 -11.94,-1.7 -18.62,-1.7 -16.27,0.01 -35.52,3.17 -57.18,9 -32.43,8.76 -70.35,23.59 -111.09,43.51 -40.74,19.91 -84.22,44.91 -127.77,74.02 -63.39,42.38 -116.47,86.59 -153.99,126.39 -18.79,19.92 -33.66,38.73 -44.02,55.89 -5.2,8.58 -9.24,16.77 -12.11,24.56 -2.75,7.8 -4.39,15.23 -4.39,22.34 0,4.72 0.76,9.32 2.34,13.61 1.58,4.29 4.1,8.24 7.32,11.57 2.45,2.51 5.32,4.63 8.37,6.38 4.68,2.63 9.95,4.43 15.62,5.6 5.74,1.17 11.94,1.7 18.62,1.7 16.33,-0.01 35.52,-3.17 57.18,-8.99 32.48,-8.77 70.35,-23.6 111.09,-43.52 40.74,-19.91 84.28,-44.91 127.83,-74.02l-4.74 -7.06z" data-v-e6998206></path><path class="fil2" d="M839.84 4430.6l-8.48 0c0,5.89 -2.35,11.15 -6.21,15.02 -3.86,3.86 -9.13,6.22 -15.04,6.22 -5.91,0 -11.12,-2.36 -15.04,-6.22 -3.86,-3.87 -6.21,-9.13 -6.21,-15.02 0,-5.9 2.35,-11.15 6.21,-15.03 3.92,-3.86 9.13,-6.21 15.04,-6.22 5.91,0.01 11.18,2.36 15.04,6.22 3.86,3.88 6.21,9.13 6.21,15.03l16.97 0c0.06,-10.53 -4.27,-20.14 -11.18,-27.03 -6.91,-6.91 -16.5,-11.21 -27.04,-11.2 -10.54,-0.01 -20.13,4.29 -27.04,11.2 -6.91,6.89 -11.18,16.5 -11.18,27.03 0,10.52 4.27,20.14 11.18,27.03 6.91,6.9 16.5,11.2 27.04,11.2 10.54,0 20.13,-4.3 27.04,-11.2 6.91,-6.89 11.24,-16.51 11.18,-27.03l-8.49 0z" data-v-e6998206></path><path class="fil3" d="M5522.79 2718.86c-0.48,31.9 -0.73,61.36 -0.73,88.32l0 418.39c0,2.17 -1.52,3.94 -3.39,3.94l-57.34 0c-18.77,2.56 -59.63,4.83 -112.87,6.26 -55.72,1.51 -124.99,2.12 -182.51,1.51 -57.53,-0.6 -103.3,-2.41 -130.1,-3.32 -26.81,-0.9 -34.64,-0.9 -37.95,-4.82 -3.32,-3.91 -2.11,-11.74 13.25,-40.05 15.36,-28.31 44.87,-77.1 78.91,-137.64 34.03,-60.53 72.58,-132.81 112.64,-202.38 40.05,-69.57 81.61,-136.43 115.34,-189.14 20.58,-32.16 38.25,-59.04 49.25,-73.82l26.89 -47.37c13.81,-22.99 26.64,-45.69 38.5,-68.16 11.86,-22.45 22.73,-44.59 32.56,-66.35 9.89,-21.93 19.58,-44.22 29.04,-66.85 9.3,-22.26 18.36,-44.76 27.11,-67.43 0.45,-1.56 1.72,-2.69 3.21,-2.69l12.24 0.03c1.85,0.23 3.19,2.19 2.99,4.34 -0.98,10.2 -2.09,26.15 -3.32,47.79 -1.23,21.73 -2.59,48.96 -4.07,81.65 -1.51,33.33 -2.91,67.92 -4.15,103.66 -1.22,35.11 -2.33,71.43 -3.28,108.91 -0.99,37.98 -1.74,73.08 -2.22,105.22zm432.1 907.35l251.79 0 0 -394.59 -258.2 8.52 -0.6 -270.91c-2.54,-66.65 -4.78,-141.85 -5.04,-225.22 -0.31,-95.98 2.01,-202.81 3.86,-305.78l-1.68 -753.15 -403.98 -2.77 -924.05 1585.94 0 351.02c38.38,-1.27 104.53,-0.91 227.4,-1.38 153.22,-0.58 394.63,-2.44 519.85,-0.9 125.22,1.53 134.24,6.45 138.93,9.09l0.24 0.13 15.26 0c1.87,0 3.39,1.77 3.39,3.94l0 487.54c17.58,-0.65 37.27,-1.19 59.16,-1.65 83.27,-1.74 198.33,-2.35 261.89,-2.05 63.56,0.31 75.6,1.51 81.93,-13.25 6.32,-14.75 6.93,-45.48 9.64,-115.67 2.71,-70.18 7.53,-179.82 9.04,-247.6 1.5,-67.77 -0.3,-93.68 2.69,-104.82 1.2,-4.49 3.18,-6.58 5.28,-3.8 0.46,-1.53 1.72,-2.64 3.2,-2.64z" data-v-e6998206></path><path class="fil2" d="M5515.28 2807.18c0,-26.15 0.26,-55.66 0.75,-88.44 0.49,-32.3 1.24,-67.43 2.22,-105.32 0.96,-37.68 2.07,-74.03 3.28,-108.99 1.25,-36.04 2.65,-70.64 4.15,-103.76 1.49,-33.01 2.85,-60.29 4.07,-81.75 1.06,-18.76 2.06,-33.37 2.96,-43.78l-5.93 0c-8.6,22.24 -17.43,44.14 -26.42,65.66 -9.45,22.62 -19.18,44.99 -29.14,67.08 -9.96,22.06 -20.9,44.34 -32.76,66.8 -11.85,22.44 -24.74,45.26 -38.64,68.4l-22.45 39.53c1.46,-4.24 2.11,-7.09 1.82,-8.21 -0.59,-2.23 -4.88,2.28 -11.9,11.71l26.89 -47.37c13.81,-22.99 26.64,-45.69 38.5,-68.16 11.86,-22.45 22.73,-44.59 32.56,-66.35 9.89,-21.93 19.58,-44.22 29.04,-66.85 9.3,-22.26 18.36,-44.76 27.11,-67.43 0.45,-1.56 1.72,-2.69 3.21,-2.69l12.24 0.03c1.85,0.23 3.19,2.19 2.99,4.34 -0.98,10.2 -2.09,26.15 -3.32,47.79 -1.23,21.73 -2.59,48.96 -4.07,81.65 -1.51,33.33 -2.91,67.92 -4.15,103.66 -1.22,35.11 -2.33,71.43 -3.28,108.91 -0.99,37.98 -1.74,73.08 -2.22,105.22 -0.48,31.9 -0.73,61.36 -0.73,88.32l0 418.39c0,2.17 -1.52,3.94 -3.39,3.94l-57.34 0 2.48 -0.36c15.54,-2.41 11.54,-5.06 -11.15,-7.52l62.62 0 0 -414.45zm694.79 826.91l-251.79 0 0 26.57c-1.69,-19.25 -4.22,-28.66 -6.59,-31.81 0.46,-1.53 1.72,-2.64 3.2,-2.64l251.79 0 0 -394.59 6.78 -0.22 0 398.75c0,2.17 -1.52,3.94 -3.39,3.94zm-251.79 264.66l0 178.86c-1.13,-31.69 -1.48,-80.78 -0.44,-151.57l0.44 -27.29zm-0.68 245.55c-0.62,0.95 -1.61,1.57 -2.71,1.57l-3.22 0c2.45,-0.44 4.39,-0.96 5.93,-1.57zm-279.2 1.57l-159.73 0 -0.6 -0.07c21.32,-0.61 47.7,-0.94 93.15,-0.63 19.57,0.14 42.67,0.39 67.18,0.7zm-163.12 -27.92l0 -483.86 -50.01 0c13.34,-1.05 22.72,-2.24 29.08,-3.11 13.65,-1.86 13.54,-2.25 9.06,-4.77l15.26 0c1.87,0 3.39,1.77 3.39,3.94l0 487.54 -6.78 0.26zm-872.22 -483.86l-29.46 0c-0.71,0 -1.37,-0.24 -1.91,-0.68 8.81,0.1 19.18,0.28 31.37,0.68zm-32.85 -14.57l0 -352.44c0,-0.96 0.3,-1.83 0.79,-2.52l921.92 -1582.31 8.12 0.06 -924.05 1585.94 0 351.02 -6.78 0.25z" data-v-e6998206></path><path class="fil2" d="M5430.83 1661.63l534.06 3.67 0.79 352.74 -0.2 -18.28c-2.27,-191.89 -7.24,-205.58 -9.91,-212.7 -2.67,-7.12 -3.04,-7.66 -4.85,13.66 -1.82,21.32 -5.07,64.51 -4.88,145.08 0.18,80.56 3.8,198.5 2.9,341.85 -0.3,47.97 -1.11,98.79 -2.04,150.58l-1.68 -753.15 -514.27 -3.53 0.08 -19.92zm536.02 881.13l1.51 676.57 245.65 -8.03 -0.55 20.1 -264.98 8.74 -0.6 -270.91c1.86,48.69 3.87,92.81 5.4,132.25 3.63,93.45 4.53,160.58 6.35,127.92 1.81,-32.66 4.53,-165.12 6.11,-416.39 0.51,-81.04 0.9,-174.45 1.11,-270.25z" data-v-e6998206></path><path class="fil2" d="M1281.75 1688.01l516.66 -0.52 3.6 1554.13 248.76 -10.37 0.78 19.92 -269.41 11.23 -0.28 -120.08c0.63,12.44 1.19,14.47 1.88,2.04 1.81,-32.66 4.53,-165.12 6.11,-416.39 1.57,-251.27 2.01,-621.36 -0.26,-813.25 -2.27,-191.89 -7.24,-205.58 -9.91,-212.7 -2.26,-6.04 -2.87,-7.34 -4.11,5.41l-493.82 0.5 0 -19.92z" data-v-e6998206></path><path class="fil7" d="M1779.68 1702.02c-2.67,-7.12 -3.04,-7.66 -4.85,13.66 -1.82,21.32 -5.07,64.51 -4.88,145.08 0.18,80.56 3.8,198.5 2.9,341.85 -0.91,143.35 -6.36,312.11 -5.9,456.36 0.45,144.26 6.81,264.02 10.44,357.47 3.63,93.45 4.53,160.58 6.35,127.92 1.81,-32.66 4.53,-165.12 6.11,-416.39 1.57,-251.27 2.01,-621.36 -0.26,-813.25 -2.27,-191.89 -7.24,-205.58 -9.91,-212.7z" data-v-e6998206></path><path class="fil7" d="M5955.57 1787.06c-2.67,-7.12 -3.04,-7.66 -4.85,13.66 -1.82,21.32 -5.07,64.51 -4.88,145.08 0.18,80.56 3.8,198.5 2.9,341.85 -0.91,143.35 -6.36,312.11 -5.9,456.36 0.45,144.26 6.81,264.02 10.44,357.47 3.63,93.45 4.53,160.58 6.35,127.92 1.81,-32.66 4.53,-165.12 6.11,-416.39 1.57,-251.27 2.01,-621.36 -0.26,-813.25 -2.27,-191.89 -7.24,-205.58 -9.91,-212.7z" data-v-e6998206></path><path class="fil7" d="M6915.28 1484.76c-0.69,-4.06 -1.22,-7.16 -1.67,-8.71l-1.04 0.01c-0.67,3.41 -1.22,14.92 -2.14,39.02 -1.82,47.31 -5.07,143.16 -4.88,321.97 0.18,178.78 3.8,440.52 2.9,758.66 -0.91,318.13 -6.36,692.65 -5.9,1012.79 0.45,320.15 6.81,585.93 9.22,758.56 2.41,172.64 0.88,252.16 3.23,290.26 2.35,38.11 8.58,34.8 11.16,-77.43 2.58,-112.23 1.5,-333.42 1.18,-854.66 -0.32,-521.24 0.12,-1342.57 -2.15,-1768.43 -2.27,-425.86 -7.24,-456.24 -9.91,-472.04z" data-v-e6998206></path><path class="fil7" d="M6451.05 4646.03c-2.67,15.8 -3.04,17 -4.85,-30.32 -1.82,-47.31 -5.07,-143.16 -4.88,-321.97 0.18,-178.78 3.8,-440.52 2.9,-758.66 -0.91,-318.13 -6.36,-692.65 -5.9,-1012.79 0.45,-320.15 6.81,-585.93 9.22,-758.56 2.23,-159.58 1.09,-239.6 2.76,-280.88l8.91 -0.04c1.07,15.74 2.03,37.99 2.72,68.09 2.58,112.23 1.5,333.42 1.18,854.66 -0.32,521.24 0.12,1342.57 -2.15,1768.43 -2.27,425.86 -7.24,456.24 -9.91,472.04z" data-v-e6998206></path><path class="fil7" d="M1266.45 3653.01c4.64,2.74 -3.13,7.19 -21.11,10.84 -17.98,3.66 -46.15,6.51 -98.7,5.57 -52.56,-0.93 -129.48,-5.65 -222.99,-6.09 -93.5,-0.42 -203.59,3.45 -296.75,2.54 -93.16,-0.9 -169.39,-6.58 -213.22,-8.69 -43.84,-2.09 -55.29,-0.62 -61.54,-3.13 -6.26,-2.51 -7.32,-9.02 18.78,-12.17 26.09,-3.13 79.34,-2.91 226.67,-1.3 147.32,1.63 388.72,4.64 517.95,6.65 129.23,2.02 146.28,3.04 150.91,5.78z" data-v-e6998206></path><path class="fil7" d="M5402.53 2807.18c0,-53.01 0.98,-117.58 2.97,-193.65 0.73,-28.78 1.55,-56.83 2.44,-84.13 10.83,-18.46 21.01,-36.71 30.52,-54.72 11.86,-22.46 22.8,-44.74 32.76,-66.8 9.96,-22.09 19.69,-44.46 29.14,-67.08 8.99,-21.52 17.82,-43.42 26.42,-65.66l5.93 0c-0.9,10.41 -1.9,25.02 -2.96,43.78 -1.22,21.46 -2.58,48.74 -4.07,81.75 -1.5,33.12 -2.9,67.72 -4.15,103.76 -1.21,34.96 -2.32,71.31 -3.28,108.99 -0.98,37.89 -1.73,73.02 -2.22,105.32 -0.49,32.78 -0.75,62.29 -0.75,88.44l0 414.45 -62.62 0c-2.82,-0.31 -5.93,-0.61 -9.33,-0.91 -10.87,-0.96 -24.68,-1.88 -40.8,-2.71l0 -410.83zm100.64 818.9c4.7,2.64 5.06,3.01 -8.82,4.9 -6.44,0.84 -15.77,2.08 -29.08,3.11l50.01 0 0 483.86c-45.56,1.83 -76.17,4.5 -93.62,8.69 -12.62,3.04 -18.35,6.86 -18.79,10.39l-0.34 -500.62 -2.73 0.01c-52.56,0.13 -129.56,-3.04 -223.06,-1.59 -93.49,1.46 -203.48,7.55 -297.59,7.65 -94.12,0.1 -172.36,-5.8 -223.14,-7.91 -50.79,-2.11 -74.14,-0.45 -85.38,-2.73 -2.15,-0.44 -3.86,-1.02 -4.98,-1.69l-68.18 0 0 -363.07 928.8 -1594.11 4.51 0 -0.03 8.58 102.17 0.7 -921.92 1582.31c-0.49,0.69 -0.79,1.56 -0.79,2.52l0 352.44c37.22,-1.58 103.74,-1.14 234.18,-1.63 153.22,-0.58 394.63,-2.44 519.85,-0.9 125.22,1.53 134.24,6.45 138.93,9.09zm-100.29 511.89l-0.01 0 0 -0.06 0.01 0.06z" data-v-e6998206></path><path class="fil7" d="M4896.13 1462.05c-10.79,2.61 -11.61,2.98 20.76,4.97 32.37,2 97.93,5.62 220.21,6.11 122.27,0.51 301.25,-2.11 518.82,0.01 217.57,2.12 473.72,9.01 692.65,9.77 218.94,0.78 400.67,-4.56 518.72,-6.31 118.05,-1.75 172.44,0.08 198.49,-2.12 26.04,-2.21 23.75,-8.45 -53.01,-11.46 -76.77,-3.01 -228.03,-2.78 -584.49,-4.45 -356.47,-1.68 -918.16,-5.26 -1209.38,-4.62 -291.22,0.64 -311.97,5.49 -322.77,8.1z" data-v-e6998206></path><path class="fil7" d="M4136.56 1180.94c6.41,2.61 6.9,2.98 -12.33,4.97 -19.22,2 -58.17,5.62 -130.8,6.11 -72.62,0.51 -178.93,-2.11 -308.16,0.01 -129.23,2.12 -281.38,9.01 -411.41,9.77 -130.05,0.78 -237.99,-4.56 -308.11,-6.31 -70.12,-1.75 -102.42,0.08 -117.89,-2.12 -15.47,-2.21 -14.11,-8.45 31.48,-11.46 45.6,-3.01 135.45,-2.78 347.17,-4.45 211.73,-1.68 545.36,-5.26 718.34,-4.62 172.97,0.64 185.3,5.49 191.71,8.1z" data-v-e6998206></path><path class="fil8" d="M1223.68 2591.25c1.5,5.72 -21.39,55.72 -50.9,109.32 -29.52,53.61 -65.66,110.84 -99.69,168.06 -34.04,57.22 -65.96,114.45 -96.08,170.16 -30.12,55.72 -58.43,109.93 -76.2,141.85 -17.77,31.93 -24.99,41.56 -18.06,46.38 6.92,4.82 28,4.82 74.68,4.52 46.68,-0.3 118.97,-0.9 182.22,0 63.24,0.91 117.45,3.32 148.17,6.03 30.72,2.71 37.95,5.72 20.48,8.43 -17.47,2.71 -59.63,5.12 -115.35,6.62 -55.72,1.51 -124.99,2.12 -182.51,1.51 -57.53,-0.6 -103.3,-2.41 -130.1,-3.32 -26.81,-0.9 -34.64,-0.9 -37.95,-4.82 -3.32,-3.91 -2.11,-11.74 13.25,-40.05 15.36,-28.31 44.87,-77.1 78.91,-137.64 34.03,-60.53 72.58,-132.81 112.64,-202.38 40.05,-69.57 81.61,-136.43 115.34,-189.14 33.73,-52.7 59.64,-91.25 61.15,-85.53z" data-v-e6998206></path><path class="fil8" d="M5379.19 2574.4c1.5,5.72 -21.39,55.72 -50.9,109.32 -29.52,53.61 -65.66,110.84 -99.69,168.06 -34.04,57.22 -65.96,114.45 -96.08,170.16 -30.12,55.72 -58.43,109.93 -76.2,141.85 -17.77,31.93 -24.99,41.56 -18.06,46.38 6.92,4.82 28,4.82 74.68,4.52 46.68,-0.3 118.97,-0.9 182.22,0 63.24,0.91 117.45,3.32 148.17,6.03 30.72,2.71 37.95,5.72 20.48,8.43 -17.47,2.71 -59.63,5.12 -115.35,6.62 -55.72,1.51 -124.99,2.12 -182.51,1.51 -57.53,-0.6 -103.3,-2.41 -130.1,-3.32 -26.81,-0.9 -34.64,-0.9 -37.95,-4.82 -3.32,-3.91 -2.11,-11.74 13.25,-40.05 15.36,-28.31 44.87,-77.1 78.91,-137.64 34.03,-60.53 72.58,-132.81 112.64,-202.38 40.05,-69.57 81.61,-136.43 115.34,-189.14 33.73,-52.7 59.64,-91.25 61.15,-85.53z" data-v-e6998206></path><path class="fil8" d="M1272.09 4158.61c-14.43,3.5 -18.37,0.09 -18.58,2.78 -0.15,1.95 0.78,10.28 5.2,11.66 10.53,3.3 30.65,4.87 59.16,3.64 28.51,-1.23 66.27,-1.29 138.16,-0.41 71.89,0.88 177.92,2.68 241.17,2.08 63.25,-0.6 88.2,3.27 100.43,-0.38 14.71,-4.38 8.89,-195.49 8.61,-212.59 -1.2,-72.59 -3.01,-165.36 -5.42,-221.39 -2.41,-56.03 -5.42,-75.3 -6.02,-71.99 -0.6,3.31 1.2,29.22 -0.3,96.99 -1.51,67.78 -6.33,177.42 -9.04,247.6 -2.71,70.19 -3.32,100.92 -9.64,115.67 -6.33,14.76 -18.37,13.56 -81.93,13.25 -63.56,-0.3 -178.62,0.31 -261.96,2.14 -83.34,1.84 -134.95,4.91 -159.84,10.95z" data-v-e6998206></path><path class="fil8" d="M5421.66 4126.64c-24.83,5.97 -23.03,15 -6.59,18.82 16.44,3.83 47.52,2.45 75.97,1.3 28.44,-1.14 54.25,-2.04 120.18,-1.59 65.92,0.46 171.94,2.26 236.72,2.88 64.78,0.63 88.31,0.08 100.96,-1.73 12.65,-1.81 14.43,-4.86 14.11,-10.91 -0.32,-6.05 -2.73,-15.08 -4.23,-45.81 -1.51,-30.72 -2.12,-83.14 -0.94,-163.56 1.18,-80.42 4.15,-188.84 1.74,-244.87 -2.41,-56.03 -10.19,-59.65 -13.17,-48.52 -2.99,11.14 -1.19,37.05 -2.69,104.82 -1.51,67.78 -6.33,177.42 -9.04,247.6 -2.71,70.19 -3.32,100.92 -9.64,115.67 -6.33,14.76 -18.37,13.56 -81.93,13.25 -63.56,-0.3 -178.62,0.31 -261.89,2.05 -83.27,1.75 -134.73,4.64 -159.56,10.6z" data-v-e6998206></path><path class="fil6" d="M4780.24 4395.96c0,-85.98 66.71,-156.37 151.2,-162.24 70.27,50.21 84.06,151.54 18.29,217.31 -37.39,37.38 -93.08,49.75 -142.29,35 -17.18,-25.78 -27.2,-56.75 -27.2,-90.07zm183.32 -161.33c80.06,10.16 141.96,78.51 141.96,161.33 0,89.82 -72.82,162.64 -162.64,162.64 -45.42,0 -86.49,-18.63 -115.99,-48.64 56.67,8.42 115.62,-14.05 150.8,-60.64 25.11,-33.1 33.67,-59.36 33.67,-103.87 -0.35,-41.37 -18.59,-81.43 -47.8,-110.82z" data-v-e6998206></path><path class="fil6" d="M803.66 1436.54c0,-71.15 -55.2,-129.38 -125.11,-134.24 -58.14,41.55 -69.55,125.38 -15.13,179.8 30.94,30.94 77,41.17 117.73,28.96 14.22,-21.34 22.51,-46.96 22.51,-74.52zm-151.67 -133.51c-66.25,8.39 -117.48,64.97 -117.48,133.51 0,74.32 60.25,134.57 134.57,134.57 37.59,0 71.56,-15.41 95.98,-40.25 -46.88,6.96 -95.67,-11.62 -124.78,-50.18 -20.77,-27.38 -27.86,-49.1 -27.86,-85.93 0.29,-34.23 15.39,-67.4 39.57,-91.72z" data-v-e6998206></path><path class="fil5" d="M1625.83 906.12c0,-116.1 64.57,-217.13 159.75,-269.13l-0.08 3.07c0,28.58 6.7,47.78 23.22,67.88 6.26,7.59 15.64,29.03 21,48.24 5.36,19.2 12.49,42.42 16.08,50.91 4.02,8.93 5.79,16.97 4.89,17.86 -0.87,1.34 -9.38,-4.91 -19.2,-13.4 -35.27,-31.26 -110.77,-74.13 -117.9,-66.99 -5.8,6.26 4.45,46.9 16.08,62.08 23.68,30.82 66.55,52.7 114.32,58.51 11.62,1.34 22.77,3.57 25.02,5.36 5.36,3.57 46.89,77.26 44.65,79.49 -0.87,0.89 -10.72,-2.68 -21.87,-7.14 -20.1,-8.93 -87.53,-22.78 -111.65,-22.78 -17.88,0 -20.09,10.72 -6.69,28.58 16.94,21.44 47.76,40.64 81.73,50.02 25.45,6.7 33.93,7.15 59.38,2.68l29.48 -5.36 11.15 14.74c5.83,7.59 27.27,31.26 46.9,51.81 25.92,26.35 38.85,36.62 45.12,35.28 6.69,-1.34 0.43,-10.27 -34.84,-46.89 -55.84,-58.51 -56.71,-60.74 -37.08,-71.91 29.04,-17.42 45.12,-69.67 37.98,-121.92 -4.92,-35.28 -9.84,-40.2 -25.02,-25.9 -14.3,13.39 -40.19,66.99 -44.21,91.1 -4.93,29.92 -6.26,31.71 -14.3,20.1 -4.02,-5.36 -19.2,-33.05 -33.5,-61.63l-26.8 -51.36 21.91 -11.61c49.11,-26.35 70.11,-92.45 50.01,-155.87 -6.26,-18.76 -12.96,-17.86 -32.16,3.13 -20.09,22.33 -28.57,38.41 -43.78,83.07l-12.05 35.72 -9.38 -31.7 -9.38 -31.27 12.96 -31.26c12.02,-28.57 18.79,-55.51 20.83,-83.29 20.61,-4.37 41.99,-6.7 63.91,-6.7 169.27,0 306.49,137.22 306.49,306.48 0,169.27 -137.22,306.49 -306.49,306.49 -169.26,0 -306.48,-137.22 -306.48,-306.49zm174.63 -276.74c16.37,-7.81 33.56,-14.21 51.39,-19.04 -1.12,18.7 -3.81,32.47 -9.2,48.92l-10.25 30.82 -2.25 -33.5c-1.77,-29.92 -2.68,-32.6 -8.04,-23.67 -3.11,5.36 -6.69,19.65 -8.47,31.26l-2.68 21.44 -5.83 -13.4c-5.09,-11.83 -6.48,-26.92 -4.67,-42.83zm96.25 83.03c-17.89,38.85 -27.7,69.22 -21.91,69.22 1.81,0 5.83,-5.8 8.95,-12.95 6.7,-16.08 22.34,-31.71 22.34,-22.33 0,3.57 -4.93,16.97 -11.19,30.37 -6.23,13.4 -10.72,25.01 -9.81,25.9 0.9,0.9 7.13,-3.12 14.3,-8.48 19.63,-15.63 33.49,-50.02 33.49,-84.86 0,-55.82 -8.94,-54.93 -36.17,3.13zm-167.48 58.5c1.34,4.02 2.68,8.94 2.68,11.17 0,8.04 33.03,40.64 49.58,49.13 23.64,11.61 31.25,10.27 15.17,-2.68 -10.29,-8.94 -11.62,-11.17 -5.36,-11.17 4.45,0 14.3,3.13 21.44,7.15 37.51,19.2 -2.68,-15.19 -51.82,-44.66 -29.48,-17.87 -35.71,-19.66 -31.69,-8.94zm236.68 129.97c-6.23,17.41 -11.05,53.59 -10.15,57.16 1.34,3.13 6.13,-23.22 10.62,-34.83 4.46,-11.62 9.81,-20.99 12.5,-20.99 5.79,0 0.43,33.05 -8.48,49.57 -7.17,14.29 -2.68,17.42 8.48,4.91 12.96,-14.29 21,-45.55 21,-80.84l-0.47 -33.94 -10.72 13.4c-6.23,7.15 -16.51,27.69 -22.78,45.56zm-171.03 48.68c18.29,19.65 52.26,33.94 84.41,36.17l29.01 1.79 -26.33 -8.93c-14.3,-4.92 -28.6,-11.17 -31.28,-14.3 -4.89,-5.36 3.58,-4.91 46.45,2.24l15.65 2.68 -19.66 -9.38c-22.35,-10.72 -66.09,-20.99 -91.55,-21.44l-17.42 -0.44 10.72 11.61z" data-v-e6998206></path><path class="fil2" d="M1863.21 526.17c0.88,1.79 3.12,19.21 4.89,38.86 3.59,43.32 -2.68,82.17 -20.53,124.6l-12.96 31.26 9.38 31.27 9.38 31.7 12.05 -35.72c15.21,-44.66 23.69,-60.74 43.78,-83.07 19.2,-20.99 25.9,-21.89 32.16,-3.13 20.1,63.42 -0.9,129.52 -50.01,155.87l-21.91 11.61 26.8 51.36c14.3,28.58 29.48,56.27 33.5,61.63 8.04,11.61 9.37,9.82 14.3,-20.1 4.02,-24.11 29.91,-77.71 44.21,-91.1 15.18,-14.3 20.1,-9.38 25.02,25.9 7.14,52.25 -8.94,104.5 -37.98,121.92 -19.63,11.17 -18.76,13.4 37.08,71.91 35.27,36.62 41.53,45.55 34.84,46.89 -6.27,1.34 -19.2,-8.93 -45.12,-35.28 -19.63,-20.55 -41.07,-44.22 -46.9,-51.81l-11.15 -14.74 -29.48 5.36c-25.45,4.47 -33.93,4.02 -59.38,-2.68 -33.97,-9.38 -64.79,-28.58 -81.73,-50.02 -13.4,-17.86 -11.19,-28.58 6.69,-28.58 24.12,0 91.55,13.85 111.65,22.78 11.15,4.46 21,8.03 21.87,7.14 2.24,-2.23 -39.29,-75.92 -44.65,-79.49 -2.25,-1.79 -13.4,-4.02 -25.02,-5.36 -47.77,-5.81 -90.64,-27.69 -114.32,-58.51 -11.63,-15.18 -21.88,-55.82 -16.08,-62.08 7.13,-7.14 82.63,35.73 117.9,66.99 9.82,8.49 18.33,14.74 19.2,13.4 0.9,-0.89 -0.87,-8.93 -4.89,-17.86 -3.59,-8.49 -10.72,-31.71 -16.08,-50.91 -5.36,-19.21 -14.74,-40.65 -21,-48.24 -16.52,-20.1 -23.22,-39.3 -23.22,-67.88 0.44,-41.98 24.99,-92.45 54.47,-110.31 12.96,-8.04 19.66,-8.94 23.24,-3.58zm-36.17 36.18c-24.59,32.15 -34.4,80.83 -21.91,109.86l5.83 13.4 2.68 -21.44c1.78,-11.61 5.36,-25.9 8.47,-31.26 5.36,-8.93 6.27,-6.25 8.04,23.67l2.25 33.5 10.25 -30.82c7.6,-23.22 9.85,-41.09 9.85,-75.03 0,-50.47 -2.25,-52.25 -25.46,-21.88zm69.67 150.06c-17.89,38.85 -27.7,69.22 -21.91,69.22 1.81,0 5.83,-5.8 8.95,-12.95 6.7,-16.08 22.34,-31.71 22.34,-22.33 0,3.57 -4.93,16.97 -11.19,30.37 -6.23,13.4 -10.72,25.01 -9.81,25.9 0.9,0.9 7.13,-3.12 14.3,-8.48 19.63,-15.63 33.49,-50.02 33.49,-84.86 0,-55.82 -8.94,-54.93 -36.17,3.13zm-167.48 58.5c1.34,4.02 2.68,8.94 2.68,11.17 0,8.04 33.03,40.64 49.58,49.13 23.64,11.61 31.25,10.27 15.17,-2.68 -10.29,-8.94 -11.62,-11.17 -5.36,-11.17 4.45,0 14.3,3.13 21.44,7.15 37.51,19.2 -2.68,-15.19 -51.82,-44.66 -29.48,-17.87 -35.71,-19.66 -31.69,-8.94zm236.68 129.97c-6.23,17.41 -11.05,53.59 -10.15,57.16 1.34,3.13 6.13,-23.22 10.62,-34.83 4.46,-11.62 9.81,-20.99 12.5,-20.99 5.79,0 0.43,33.05 -8.48,49.57 -7.17,14.29 -2.68,17.42 8.48,4.91 12.96,-14.29 21,-45.55 21,-80.84l-0.47 -33.94 -10.72 13.4c-6.23,7.15 -16.51,27.69 -22.78,45.56zm-171.03 48.68c18.29,19.65 52.26,33.94 84.41,36.17l29.01 1.79 -26.33 -8.93c-14.3,-4.92 -28.6,-11.17 -31.28,-14.3 -4.89,-5.36 3.58,-4.91 46.45,2.24l15.65 2.68 -19.66 -9.38c-22.35,-10.72 -66.09,-20.99 -91.55,-21.44l-17.42 -0.44 10.72 11.61z" data-v-e6998206></path><path class="fil2" d="M4897.22 4194.22c65.63,19.98 113.57,83.89 114.14,151.23 0,44.51 -8.56,70.77 -33.67,103.87 -43.94,58.2 -124.98,78.75 -192.32,48.5 -98.73,-43.37 -127.83,-172.34 -57.07,-255.66 8.57,-9.7 30.82,-26.25 50.22,-35.38 27.96,-14.27 41.66,-17.69 69.63,-17.12 19.4,0 41.08,2.28 49.07,4.56zm-89.02 20.55c-114.14,33.67 -135.82,194.03 -34.24,256.23 55.35,34.24 129.54,26.25 175.77,-19.97 78.18,-78.18 43.94,-206.59 -63.92,-239.69 -22.83,-6.85 -47.37,-5.7 -77.61,3.43z" data-v-e6998206></path><path class="fil2" d="M706.86 1269.61c-54.3,16.53 -93.97,69.42 -94.44,125.14 0,36.83 7.09,58.55 27.86,85.93 36.36,48.17 103.41,65.17 159.13,40.14 81.69,-35.89 105.77,-142.6 47.22,-211.54 -7.08,-8.03 -25.5,-21.72 -41.55,-29.28 -23.14,-11.8 -34.47,-14.64 -57.61,-14.16 -16.05,0 -34,1.88 -40.61,3.77zm73.67 17c94.43,27.86 112.38,160.55 28.33,212.02 -45.81,28.33 -107.19,21.72 -145.44,-16.53 -64.69,-64.69 -36.36,-170.93 52.88,-198.32 18.89,-5.67 39.2,-4.72 64.23,2.83z" data-v-e6998206></path><path class="fil9" d="M4229.7 1221.68c-4.71,1.14 -9.47,-1.76 -10.61,-6.47 -1.14,-4.71 1.76,-9.47 6.47,-10.61 10.57,-2.58 21.17,-5.18 31.87,-6.69 11.2,-1.59 22.61,-2.05 34.37,-0.27 9.47,1.43 18.9,4.29 28.4,7.15 12.64,3.81 25.46,7.69 37.33,7.71 12.4,0.01 25.59,-4.16 38.71,-8.31 8.77,-2.77 17.54,-5.55 26.74,-7.31 11.95,-2.28 23.85,-2.63 35.7,-2.02 11.46,0.59 22.93,2.12 34.36,3.63 4.81,0.62 8.2,5.05 7.58,9.86 -0.62,4.81 -5.05,8.2 -9.86,7.58 -11.01,-1.46 -22.05,-2.93 -32.98,-3.49 -10.56,-0.54 -21.09,-0.25 -31.5,1.74 -7.97,1.53 -16.36,4.19 -24.74,6.83 -14.33,4.53 -28.71,9.09 -44.01,9.07 -14.66,-0.03 -28.65,-4.25 -42.4,-8.41 -8.85,-2.68 -17.63,-5.33 -25.95,-6.59 -9.92,-1.5 -19.69,-1.09 -29.33,0.27 -10.11,1.42 -20.14,3.88 -30.15,6.33z" data-v-e6998206></path><path class="fil9" d="M4205.83 1313.87c-4.71,1.14 -9.47,-1.76 -10.61,-6.47 -1.14,-4.71 1.76,-9.47 6.47,-10.61 10.57,-2.58 21.17,-5.18 31.87,-6.69 11.2,-1.59 22.61,-2.05 34.37,-0.27 9.47,1.43 18.9,4.29 28.4,7.15 12.64,3.81 25.46,7.69 37.33,7.71 12.4,0.01 25.59,-4.16 38.71,-8.31 8.77,-2.77 17.54,-5.55 26.74,-7.31 11.95,-2.28 23.85,-2.63 35.7,-2.02 11.46,0.59 22.93,2.12 34.36,3.63 4.81,0.62 8.2,5.05 7.58,9.86 -0.62,4.81 -5.05,8.2 -9.86,7.58 -11.01,-1.46 -22.05,-2.93 -32.98,-3.49 -10.56,-0.54 -21.09,-0.25 -31.5,1.74 -7.97,1.53 -16.36,4.19 -24.74,6.83 -14.33,4.53 -28.71,9.09 -44.01,9.07 -14.66,-0.03 -28.65,-4.25 -42.4,-8.41 -8.85,-2.68 -17.63,-5.33 -25.95,-6.59 -9.92,-1.5 -19.69,-1.09 -29.33,0.27 -10.11,1.42 -20.14,3.88 -30.15,6.33z" data-v-e6998206></path><path class="fil9" d="M4246.36 1424.92c-4.64,1.42 -9.57,-1.19 -10.99,-5.83 -1.42,-4.64 1.19,-9.57 5.83,-10.99 8.52,-2.61 17.08,-5.24 25.82,-6.78 9.25,-1.64 18.71,-2.11 28.56,-0.24 7.84,1.49 15.49,4.39 23.18,7.29 9.8,3.71 19.75,7.48 28.71,7.5 9.31,0.01 19.57,-4.05 29.77,-8.09l0.65 -0.23c6.89,-2.72 13.81,-5.44 21.12,-7.19 9.95,-2.38 19.74,-2.75 29.4,-2.13 9.27,0.6 18.52,2.14 27.74,3.67 4.79,0.77 8.04,5.3 7.27,10.09 -0.77,4.79 -5.3,8.04 -10.09,7.27 -8.69,-1.44 -17.4,-2.9 -26.02,-3.45 -8.22,-0.53 -16.35,-0.26 -24.24,1.63 -5.95,1.43 -12.33,3.93 -18.69,6.45l-0.66 0.29c-11.69,4.63 -23.44,9.29 -36.25,9.27 -12.22,-0.03 -23.67,-4.36 -34.91,-8.62 -6.95,-2.62 -13.87,-5.25 -20.22,-6.45 -7.45,-1.42 -14.88,-1.01 -22.28,0.3 -7.89,1.39 -15.81,3.82 -23.7,6.24z" data-v-e6998206></path><path class="fil10" d="M6557.51 783.47l0 83.04c0,16.71 5.96,31.88 15.59,42.93 9.59,11.04 22.79,17.86 37.34,17.87l148.45 0c14.54,-0.01 27.75,-6.83 37.38,-17.87 9.59,-11.05 15.55,-26.22 15.55,-42.93l0 -83.04c0,-16.72 -5.96,-31.88 -15.55,-42.94 -9.63,-11.04 -22.84,-17.86 -37.38,-17.86l-148.45 0c-14.55,0 -27.75,6.82 -37.34,17.86 -9.63,11.06 -15.59,26.22 -15.59,42.94z" data-v-e6998206></path></g></g>',1),h7=[d7];function f7(t,e){return w(),k("svg",u7,h7)}const Xp=K(c7,[["render",f7],["__scopeId","data-v-e6998206"]]),p7={class:"overlay-hint__content"},m7=H({__name:"overlay-hint",props:{position:{},visible:{type:Boolean},absolute:{type:Boolean},hideOnOutsideClick:{type:Boolean},hideOnScroll:{type:Boolean}},emits:["update:visible"],setup(t,{emit:e}){const n=t,s=J(null),i=W(()=>{if(!n.position||!s.value)return{x:0,y:0,notFittingWidth:0,notFittingHeight:0};const u=s.value.offsetWidth,d=s.value.offsetHeight,h=n.position.x+u-window.innerWidth,f=n.position.y+d-window.innerHeight,p=h>0?n.position.x-h:n.position.x,g=f>0?n.position.y-f:n.position.y;return{x:p,y:g,notFittingWidth:h,notFittingHeight:f}});function o(){e("update:visible",!1)}function r(){a=Date.now()}We(()=>n.visible,u=>{u&&r()});let a=0;function l(u){n.hideOnOutsideClick&&n.visible&&s.value&&!s.value.contains(u.target)&&Date.now()-a>250&&o()}function c(){n.hideOnScroll&&n.visible&&o()}return Bo(()=>{n.hideOnOutsideClick&&window.addEventListener("click",l),n.hideOnScroll&&window.addEventListener("scroll",c)}),Ki(()=>{n.hideOnOutsideClick&&window.removeEventListener("click",l),n.hideOnScroll&&window.removeEventListener("scroll",c)}),(u,d)=>(w(),U(qp,{name:"open"},{default:V(()=>[u.visible?(w(),k("div",{key:0,class:"overlay-hint",style:wn({top:i.value.y+"px",left:i.value.x-20+"px",position:u.absolute?"absolute":"fixed"}),ref_key:"hintEl",ref:s},[m("div",p7,[m("span",{class:"overlay-hint__content__arrow-top",style:wn({left:i.value.notFittingWidth>0?28+i.value.notFittingWidth+"px":"28px"})},null,4),m("span",{class:"overlay-hint__content__close",onClick:d[0]||(d[0]=h=>o())}," + "),Ge(u.$slots,"default",{},void 0,!0)])],4)):B("",!0)]),_:3}))}});const Gp=K(m7,[["__scopeId","data-v-b9d43582"]]),g7={key:0,class:"more-widget"},_7={class:"menu"},v7={class:"menu__list"},b7=["onClick","data-if"],y7={class:"menu__list__item__icon"},w7={class:"menu__list__item__title"},x7=H({__name:"more-widget",props:{items:{}},setup(t){const e=t,n=J(!1),s=J(null),i=J({x:0,y:0}),o=W(()=>e.items.filter(c=>typeof c.if>"u"||c.if));function r(){if(s.value){const{x:c,y:u,height:d}=s.value.getBoundingClientRect();i.value={x:c,y:u+d}}}function a(){r(),n.value=!n.value}function l(c){c.action(c),c.stayOpened||(n.value=!1)}return(c,u)=>{const d=Jt,h=Gp;return w(),k(he,null,[o.value.length>0?(w(),k("div",g7,[m("div",{class:"more-widget__button",onClick:u[0]||(u[0]=f=>a()),ref_key:"button",ref:s},[A(d,{name:"more"})],512)])):B("",!0),A(h,{visible:n.value,"onUpdate:visible":u[1]||(u[1]=f=>n.value=f),position:i.value,"hide-on-outside-click":"","hide-on-scroll":""},{default:V(()=>[m("div",_7,[m("ul",v7,[(w(!0),k(he,null,Le(c.items,(f,p)=>Ee((w(),k("li",{class:"menu__list__item",key:p,onClick:g=>l(c.items[p]),"data-if":f.if},[m("span",y7,[f.icon?(w(),U(d,{name:f.icon,key:f.icon},null,8,["name"])):B("",!0)]),m("span",w7,F(f.title),1)],8,b7)),[[di,typeof f.if>"u"||f.if]])),128))])])]),_:1},8,["visible","position"])],64)}}});const Jp=K(x7,[["__scopeId","data-v-d0e1e990"]]),k7=["src"],Zu=H({__name:"uploaded-image",props:{src:{}},setup(t){const e=t,n=J("");E2(()=>{if(typeof e.src=="string"&&e.src.startsWith("http")){n.value=e.src;return}if(typeof e.src=="string"&&e.src.startsWith("data:")){n.value=e.src;return}if(typeof e.src=="string"){n.value=`${N.Constants.MEDIA_URL}/${e.src}`;return}if(e.src instanceof File){n.value=URL.createObjectURL(e.src);return}n.value="/img/placeholder.svg"});function s(){n.value="/img/placeholder.svg"}return(i,o)=>(w(),k("img",{src:n.value,onError:o[0]||(o[0]=r=>s())},null,40,k7))}}),S7={class:"user-avatar"},$7=H({__name:"user-avatar",props:{src:{},name:{}},setup(t){const e=t,n=W(()=>{if(!e.name)return"";const[i,o]=e.name.split(" ");return`${(i||"-")[0]}${(o||" ")[0]}`.toUpperCase().replace(" ","")}),s=W(()=>{const i=["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722","#795548","#607d8b"],o=n.value.split("").reduce((r,a)=>r*a.charCodeAt(0),1);return i[o%i.length]});return(i,o)=>{const r=Zu;return w(),k("div",S7,[i.src?(w(),U(r,{key:0,class:"user-avatar__image",src:i.src},null,8,["src"])):(w(),k("span",{key:1,class:"user-avatar__initials",style:wn({backgroundColor:s.value})},F(n.value),5))])}}});const hi=K($7,[["__scopeId","data-v-2cbb0c8f"]]),C7=H({__name:"status-tag",props:{type:{default:"info"},mode:{default:"default"}},setup(t){return(e,n)=>(w(),k("b",{class:_e(["status-tag",[e.type,e.mode]])},[Ge(e.$slots,"default",{},void 0,!0)],2))}});const Zp=K(C7,[["__scopeId","data-v-07e1776e"]]),A7=H({__name:"common-button",props:{alignment:{default:"left"},type:{default:"button"},disabled:{type:Boolean},design:{default:"primary"},contrast:{type:Boolean},inline:{type:Boolean},loading:{type:Boolean},to:{},color:{}},emits:["click"],setup(t){return(e,n)=>{var o;const s=as,i=Jt;return w(),k("div",{class:_e(["v-button",{inline:e.inline,[e.alignment]:!0}])},[(w(),U(On(e.to?e.to.startsWith("http")?"a":"router-link":"button"),{to:e.to,href:e.to,target:(o=e.to)!=null&&o.startsWith("http")?"_blank":"",class:_e(["v-button__button",{[e.design]:!0,loading:e.loading,contrast:e.contrast}]),disabled:e.disabled,type:e.type,onClick:n[0]||(n[0]=r=>e.$emit("click"))},{default:V(()=>[e.loading?(w(),U(s,{key:0,class:"v-button__button__icon"})):e.design==="telegram"?(w(),U(i,{key:1,name:"telegram",class:"v-button__button__icon"})):B("",!0),Ge(e.$slots,"default",{},void 0,!0)]),_:3},8,["to","href","target","class","disabled","type"]))],2)}}});const ot=K(A7,[["__scopeId","data-v-768ea587"]]),M7=["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентярь","Октябрь","Ноябрь","Декабрь"];function on(t,e){function n(){if((e==null?void 0:e.precision)==="day"){const p=new Date;return p.setHours(23,59,59,999),p}if((e==null?void 0:e.precision)==="month"){const p=new Date;return p.setDate(1),p.setHours(23,59,59,999),p}if((e==null?void 0:e.precision)==="year"){const p=new Date;return p.setMonth(0,1),p.setHours(23,59,59,999),p}return new Date}function s(){const p=n();return p.setDate(p.getDate()-1),p.setHours(0,0,1),p}function i(p){return t.getDate()===p.getDate()&&t.getMonth()===p.getMonth()&&t.getFullYear()===p.getFullYear()}function o(){const p=new Date,g=new Date;return g.setDate(p.getDate()-7),t>g}function r(){return t.getMonth()===new Date().getMonth()}function a(){return on(t).isOnSameDay(new Date)}function l(){const p=new Date,g=new Date;return g.setDate(p.getDate()-1),on(t).isOnSameDay(g)}function c(){const p=new Date,g=new Date;return g.setDate(p.getDate()+1),on(t).isOnSameDay(g)}function u(){return t.getFullYear()===new Date().getFullYear()}function d(){const p=new Date,g=new Date;return g.setDate(p.getDate()-7),t>g}function h(p){const g=Math.abs(t.getTime()-p.getTime());return Math.ceil(g/(1e3*60*60*24))}function f(){const p=on(t);return p.isToday()?"cегодня":p.isYesterday()?"вчера":p.isTomorrow()?"завтра":(e==null?void 0:e.precision)==="day"&&p.isInThisYear()?`${t.getDate()>=10?t.getDate():`0${t.getDate()}`}.${t.getMonth()+1>=10?t.getMonth()+1:`0${t.getMonth()+1}`}`:(e==null?void 0:e.precision)==="day"&&!p.isInThisYear()?`${t.getDate()>=10?t.getDate():`0${t.getDate()}`}.${t.getMonth()+1>=10?t.getMonth()+1:`0${t.getMonth()+1}`}.${t.getFullYear()}`:p.isOnLastWeek()?"на этой неделе":p.isInThisMonth()?"в этом месяце":p.isInThisYear()?M7[t.getMonth()]:t.getFullYear().toString()}return{isOnSameDay:i,isOnLastWeek:o,isInThisMonth:r,isToday:a,isYesterday:l,isTomorrow:c,isInThisYear:u,toBeautiful:f,daysDifference:h,isOnThisWeek:d,today:n,yesterday:s}}const E7={class:"entity-table-container"},T7={class:"entity-table"},L7={key:0},O7=["onClick"],D7={key:1},I7={key:0},R7=["innerHTML"],P7={key:2},N7=["innerHTML"],V7=["innerHTML"],z7={key:5},B7={key:6},U7={key:7},F7={key:0,class:"entity-table__actions"},q7={key:0,class:"entity-table__loading"},W7={class:"entity-table__loading__icon"},j7={key:1,class:"entity-table__empty-text"},H7=H({__name:"entity-table",props:{cols:{},data:{},dateConfig:{},editable:{type:Boolean},isLoading:{type:Boolean},actions:{type:Function}},emits:["remove","edit","select"],setup(t,{emit:e}){function n(l,c){return l instanceof Function?!!l.call(void 0,c):!0}function s(l,c,u="value"){return i(l,u)instanceof Function?i(l,u).call(void 0,c):i(l,u)}function i(l,c){const u=c.split(".");let d=l;for(const h of u){if(typeof d>"u"||d===null)return"-";if(h==="each"){d=d.map(f=>f[u[u.indexOf("each")+1]]).join(", ");break}d=d[h]}return typeof d>"u"||d===null?"-":d}function o(l,c){if(c.value instanceof Function)return s(c,l);const u=c.keys,d=c.join||"<br>";return u.map(h=>i(l,h)).map((h,f)=>`<span class='entity-table__style-${c.style&&c.style.length?c.style[f]:"default"}'>${h}</span>`).join(d)}function r(l,c){if(c.value instanceof Function)return s(c,l);const u=c.keys,d=c.join||"<br>";return u.map(h=>i(l,h)!=="-"?on(i(l,h),{precision:"day"}).toBeautiful():"-").join(d)}const a=J({});return We(a,l=>{const c=Object.keys(l).filter(u=>l[u]);e("select",c)},{deep:!0}),(l,c)=>{const u=ot,d=Zp,h=Jt,f=hi,p=Jp,g=as,_=Xp,b=it("auto-animate");return w(),k("div",E7,[m("table",T7,[m("thead",null,[m("tr",null,[(w(!0),k(he,null,Le(l.cols,(x,$)=>(w(),k("th",{class:_e(`col-type-${x.type}`),key:$,style:wn({width:x.width})},F(x.title),7))),128))])]),l.isLoading?B("",!0):Ee((w(),k("tbody",L7,[(w(!0),k(he,null,Le(l.data,(x,$)=>(w(),k("tr",{key:x.id},[(w(!0),k(he,null,Le(l.cols,(S,C)=>(w(),k("td",{key:S.title,class:_e(`col-type-${S.type}`)},[l.editable&&C===0?(w(),k("b",{key:0,class:_e(["edit-checkbox",{"edit-checkbox--checked":a.value[x.id]}]),onClick:T=>a.value[x.id]=!a.value[x.id]},null,10,O7)):B("",!0),(S.if||(()=>!0))(x)?(w(),k("span",D7,[S.type==="iterator"?(w(),k("span",I7,F($+1),1)):S.type==="text"?(w(),k("span",{key:1,innerHTML:o(x,S)},null,8,R7)):S.type==="link"?(w(),k("span",P7,[S.value&&n(S.value,x)?(w(),U(u,{key:0,to:S.linkTo?s(S,x,"linkTo"):void 0,onClick:T=>s(S,x,"action"),design:typeof S.design=="function"?S.design(x)||"primary":S.design||"primary",loading:S.isLoading?S.isLoading(x):!1,alignment:S.alignment||"center"},{default:V(()=>[Q(F(s(S,x)),1)]),_:2},1032,["to","onClick","design","loading","alignment"])):S.keys&&S.keys.length&&S.keys.some(T=>x[T])?(w(!0),k(he,{key:1},Le(S.keys,T=>(w(),U(u,{alignment:S.alignment||"center",design:typeof S.design=="function"?S.design(x)||"primary":S.design||"primary",to:s(S,x,"linkTo"),key:T},{default:V(()=>[Q(F(x[T]),1)]),_:2},1032,["alignment","design","to"]))),128)):B("",!0)])):S.type==="tag"?(w(!0),k(he,{key:3},Le(S.keys,(T,L)=>(w(),k("span",{key:L},[A(d,{class:"status-tag",type:S.tagFunction(T,x[T]).type},{default:V(()=>[Q(F(S.tagFunction(T,x[T]).text),1)]),_:2},1032,["type"]),S.join?(w(),k("span",{key:0,innerHTML:S.join},null,8,N7)):B("",!0)]))),128)):S.type==="date"?(w(),k("span",{key:4,innerHTML:r(x,S)},null,8,V7)):S.type==="icon"?(w(),k("span",z7,[S.value?(w(),U(h,{key:0,name:s(S,x)},null,8,["name"])):(w(!0),k(he,{key:1},Le(S.keys,T=>(w(),U(h,{name:x[T],key:T},null,8,["name"]))),128))])):S.type==="avatar"?(w(),k("span",B7,[A(f,{src:x[S.keys[0]],name:x[S.keys[1]]},null,8,["src","name"])])):(w(),k("span",U7,"-"))])):B("",!0)],2))),128)),l.actions?(w(),k("td",F7,[A(p,{items:l.actions(x)},null,8,["items"])])):B("",!0)]))),128))])),[[b]])]),l.isLoading?(w(),k("div",q7,[m("div",W7,[A(g,{contrast:""})])])):!l.data||!l.data.length?(w(),k("div",j7,[A(_,{class:"entity-table__empty-text__img"}),Q(" Контент не найден ")])):B("",!0)])}}});const Rs=K(H7,[["__scopeId","data-v-0d7a75f6"]]),Y7={class:"works-table"},K7={class:"works-table__table"},ma=H({__name:"works-table",props:{works:{},loading:{type:Boolean},getUserActionFunction:{type:Function},editable:{type:Boolean}},emits:["select"],setup(t,{emit:e}){const n=t,s=[{title:"",value:r=>n.getUserActionFunction(r).icon,type:"icon"},{title:"Название работы / Ученик / Куратор(ы)",keys:["work.name","student.name","mentors.each.name"],join:"<br>",type:"text",style:["redo","secondary","secondary"]},{title:"Дедлайн сдачи/проверки",keys:["solveDeadlineAt","checkDeadlineAt"],type:"date"},{title:"Статус работы",keys:["solveStatus","checkStatus"],type:"tag",tagFunction:i},{title:"Результат",keys:["score","maxScore"],join:"/",style:"centered",type:"text"},{title:"",value:r=>n.getUserActionFunction(r).action,type:"link",linkTo:r=>n.getUserActionFunction(r).link(r.id)}];function i(r,a){return a==="made-in-deadline"?{type:"success",text:"Сдано в дедлайн"}:a==="made-after-deadline"?{type:"danger",text:"Сдано не в дедлайн"}:a==="checked-in-deadline"?{type:"info",text:"Проверено в дедлайн"}:a==="checked-after-deadline"?{type:"warning",text:"Проверено не в дедлайн"}:a==="checked-automatically"?{type:"info",text:"Проверено автоматически"}:a==="not-made"?{type:"warning",text:"Не сдано"}:a==="not-checked"?{type:"info",text:"Не проверено"}:{type:"info",text:"-"}}function o(r){e("select",r)}return(r,a)=>{var c;const l=Rs;return w(),k("div",Y7,[m("div",K7,[A(l,{cols:s,data:r.works,"is-loading":r.loading,"tag-function":i,editable:((c=v(N).Context.User)==null?void 0:c.role)==="mentor"&&r.editable,onSelect:a[0]||(a[0]=u=>o(u))},null,8,["data","is-loading","editable"])])])}}}),X7=["onClick"],G7={class:"sure-modal__container"},J7={class:"sure-modal__title"},Z7={class:"sure-modal__text"},Q7={class:"sure-modal__buttons"},ew=H({__name:"sure-modal",props:{visible:{type:Boolean},actionsDisabled:{type:Boolean},stayOpen:{type:Boolean}},emits:["update:visible","confirm","cancel"],setup(t,{emit:e}){const n=t,s=()=>{e("update:visible",!1),e("cancel")},i=()=>{e("confirm"),n.stayOpen||e("update:visible",!1)};return(o,r)=>{const a=ot,l=it("auto-animate");return w(),U(ui,{to:"body"},[Ee((w(),k("div",{class:_e(["sure-modal",{"sure-modal--visible":o.visible}])},[o.visible?(w(),k("div",{key:0,class:"sure-modal__inner",onClick:Vt(s,["self"])},[m("div",G7,[m("div",J7,[Ge(o.$slots,"title",{},void 0,!0)]),m("div",Z7,[Ge(o.$slots,"text",{},void 0,!0)]),m("div",Q7,[A(a,{alignment:"stretch",onClick:s,design:"secondary",class:"sure-modal__buttons__cancel",disabled:o.actionsDisabled},{default:V(()=>[Q(" Отмена ")]),_:1},8,["disabled"]),A(a,{alignment:"stretch",onClick:i,design:"primary",class:"sure-modal__buttons__confirm",disabled:o.actionsDisabled},{default:V(()=>[Q(" Подтвердить ")]),_:1},8,["disabled"])])])],8,X7)):B("",!0)],2)),[[l]])])}}});const $n=K(ew,[["__scopeId","data-v-44999473"]]),tw=t=>(Re("data-v-c2d91172"),t=t(),Pe(),t),nw={class:"form-checkbox"},sw={class:"form-checkbox__label"},iw=["disabled"],ow={class:"form-checkbox__check"},rw=tw(()=>m("svg",{class:"form-checkbox__check-icon",width:"12",height:"10",viewBox:"0 0 12 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[m("path",{d:"M1 5L4 8L11 1",stroke:"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),aw=[rw],lw={class:"form-checkbox__text"},cw=H({__name:"form-checkbox",props:{modelValue:{type:Boolean},label:{},readonly:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=W({get:()=>n.modelValue,set:i=>e("update:modelValue",i)});return(i,o)=>(w(),k("div",nw,[m("label",sw,[Ee(m("input",{class:"form-checkbox__input",type:"checkbox",disabled:i.readonly,"onUpdate:modelValue":o[0]||(o[0]=r=>s.value=r)},null,8,iw),[[Q2,s.value]]),m("div",{class:_e(["form-checkbox__box",{"form-checkbox__box--checked":s.value}])},[Ee(m("div",ow,aw,512),[[di,s.value]])],2),m("span",lw,F(i.label),1)])]))}});const Kr=K(cw,[["__scopeId","data-v-c2d91172"]]),uw={class:"check-list"},dw=H({__name:"check-list",props:{items:{},itemLabelKey:{default:"name"},itemKey:{default:"id"},multiple:{type:Boolean},modelValue:{},readonly:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=W(()=>n.items.map(r=>n.modelValue.includes(r[n.itemKey])));function i(r){let a=[...n.modelValue];if(n.multiple){const l=a.indexOf(r);return l===-1?a.push(r):a.splice(l,1),e("update:modelValue",a)}a=[r],e("update:modelValue",a)}function o(r){return n.itemLabelKey.split(",").map(a=>r[a]||"—").join(", ")}return(r,a)=>{const l=Kr;return w(),k("ul",uw,[(w(!0),k(he,null,Le(r.items,(c,u)=>(w(),k("li",{class:"check-list__item",key:c[r.itemKey]},[A(l,{label:o(c),"model-value":s.value[u],readonly:r.readonly,"onUpdate:modelValue":d=>i(c[r.itemKey])},null,8,["label","model-value","readonly","onUpdate:modelValue"])]))),128))])}}});const Uo=K(dw,[["__scopeId","data-v-17f991f2"]]),hw=Ct("assigned-works-module:transfer-work",()=>{const t=N.Services.AssignedWork,e=N.Services.UI,n=N.Services.User;async function s(d){try{return await n.getMentors(d)}catch(h){e.openErrorModal("Ошибка при загрузке списка менторов",h.message)}}const{results:i,resultsMeta:o,isListLoading:r,pagination:a}=Lt(s,{immediate:!1}),l=J("");async function c(d){if(!l.value){e.openWarningModal("Выберите ментора");return}e.setLoading(!0);try{await t.transferAssignedWork(d,l.value),e.openSuccessModal("Работа успешно передана другому ментору")}catch(h){e.openErrorModal("Ошибка при передаче работы",h.message)}finally{e.setLoading(!1)}}async function u(d){e.setLoading(!0);try{await Promise.all(d.map(h=>t.transferAssignedWork(h.id,l.value))),e.openSuccessModal("Работы успешно переданы другому ментору")}catch(h){e.openErrorModal("Ошибка при передаче работ",h.message)}finally{e.setLoading(!1)}}return{pagination:a,results:i,resultsMeta:o,isListLoading:r,selectedMentorId:l,transfer:c,transferWorks:u}}),fw=t=>(Re("data-v-5e662cee"),t=t(),Pe(),t),pw=fw(()=>m("h2",null,"Передать работы",-1)),mw={class:"transfer-assigned-work-modal__label"},gw={class:"transfer-assigned-work-modal__select"},_w={class:"transfer-assigned-work-modal__select__search"},vw={class:"transfer-assigned-work-modal__select__list"},bw={key:0,class:"transfer-assigned-work-modal__select__pagination"},yw=H({__name:"transfer-assigned-work-modal",props:{visible:{type:Boolean},assignedWorks:{}},emits:["update:visible"],setup(t,{emit:e}){const n=t,s=hw(),i=W({get:()=>n.visible,set:o=>e("update:visible",o)});return(o,r)=>{const a=Sn,l=Uo,c=kn,u=$n;return w(),U(u,{visible:i.value,"onUpdate:visible":r[3]||(r[3]=d=>i.value=d),onConfirm:r[4]||(r[4]=d=>v(s).transferWorks(o.assignedWorks))},{title:V(()=>[pw]),text:V(()=>[m("div",mw," Выбрано работ: "+F(o.assignedWorks.length),1),m("div",gw,[m("div",_w,[A(a,{modelValue:v(s).pagination.search,"onUpdate:modelValue":r[0]||(r[0]=d=>v(s).pagination.search=d),"is-loading":v(s).isListLoading},null,8,["modelValue","is-loading"])]),m("div",vw,[A(l,{modelValue:v(s).selectedMentorId,"onUpdate:modelValue":r[1]||(r[1]=d=>v(s).selectedMentorId=d),items:v(s).results,"item-label-key":"name,username","item-key":"id"},null,8,["modelValue","items"])]),v(s).pagination.page&&v(s).pagination.limit?(w(),k("div",bw,[A(c,{page:v(s).pagination.page,"onUpdate:page":r[2]||(r[2]=d=>v(s).pagination.page=d),total:v(s).resultsMeta.total,limit:v(s).pagination.limit},null,8,["page","total","limit"])])):B("",!0)])]),_:1},8,["visible"])}}});const ww=K(yw,[["__scopeId","data-v-5e662cee"]]),xw=m("h2",null,"Архивировать работы",-1),kw={class:"archive-works-modal__label"},Sw=H({__name:"archive-works-modal",props:{visible:{type:Boolean},assignedWorks:{}},emits:["update:visible"],setup(t,{emit:e}){const n=t,s=Kp(),i=W({get:()=>n.visible,set:o=>e("update:visible",o)});return(o,r)=>{const a=$n;return w(),U(a,{visible:i.value,"onUpdate:visible":r[0]||(r[0]=l=>i.value=l),onConfirm:r[1]||(r[1]=l=>v(s).archiveWorks(o.assignedWorks))},{title:V(()=>[xw]),text:V(()=>[m("div",kw," Выбрано работ: "+F(o.assignedWorks.length),1)]),_:1},8,["visible"])}}}),$w={class:"actions-with-selected"},Cw={key:0,class:"actions-with-selected__inner"},Aw={class:"actions-with-selected__label"},Mw={class:"actions-with-selected__actions"},Ew=H({__name:"actions-with-selected",props:{selectedAssignedWorks:{}},setup(t){const e=J(!1),n=J(!1);return(s,i)=>{var a;const o=ot,r=it("auto-animate");return w(),k(he,null,[Ee((w(),k("div",$w,[s.selectedAssignedWorks.length&&((a=v(N).Context.User)==null?void 0:a.role)==="mentor"?(w(),k("div",Cw,[m("p",Aw," Выбрано: "+F(s.selectedAssignedWorks.length),1),m("div",Mw,[A(o,{design:"danger",onClick:i[0]||(i[0]=l=>n.value=!0)},{default:V(()=>[Q(" Архивировать ")]),_:1}),A(o,{design:"secondary",onClick:i[1]||(i[1]=l=>e.value=!0)},{default:V(()=>[Q(" Передать другому куратору ")]),_:1})])])):B("",!0)])),[[r]]),A(ww,{"assigned-works":s.selectedAssignedWorks,visible:e.value,"onUpdate:visible":i[2]||(i[2]=l=>e.value=l)},null,8,["assigned-works","visible"]),A(Sw,{"assigned-works":s.selectedAssignedWorks,visible:n.value,"onUpdate:visible":i[3]||(i[3]=l=>n.value=l)},null,8,["assigned-works","visible"])],64)}}});const Tw=K(Ew,[["__scopeId","data-v-9e8db9a6"]]),Lw=m("h2",null,"Разархивировать работы",-1),Ow={class:"archive-works-modal__label"},Dw=H({__name:"unarchive-works-modal",props:{visible:{type:Boolean},assignedWorks:{}},emits:["update:visible"],setup(t,{emit:e}){const n=t,s=Kp(),i=W({get:()=>n.visible,set:o=>e("update:visible",o)});return(o,r)=>{const a=$n;return w(),U(a,{visible:i.value,"onUpdate:visible":r[0]||(r[0]=l=>i.value=l),onConfirm:r[1]||(r[1]=l=>v(s).unarchiveWorks(o.assignedWorks))},{title:V(()=>[Lw]),text:V(()=>[m("div",Ow," Выбрано работ: "+F(o.assignedWorks.length),1)]),_:1},8,["visible"])}}}),Iw={class:"actions-with-selected"},Rw={key:0,class:"actions-with-selected__inner"},Pw={class:"actions-with-selected__label"},Nw={class:"actions-with-selected__actions"},Vw=H({__name:"actions-with-archived-selected",props:{selectedAssignedWorks:{}},setup(t){const e=J(!1);return(n,s)=>{var r;const i=ot,o=it("auto-animate");return w(),k(he,null,[Ee((w(),k("div",Iw,[n.selectedAssignedWorks.length&&((r=v(N).Context.User)==null?void 0:r.role)==="mentor"?(w(),k("div",Rw,[m("p",Pw," Выбрано: "+F(n.selectedAssignedWorks.length),1),m("div",Nw,[A(i,{design:"danger",onClick:s[0]||(s[0]=a=>e.value=!0)},{default:V(()=>[Q(" Разархивировать ")]),_:1})])])):B("",!0)])),[[o]]),A(Dw,{"assigned-works":n.selectedAssignedWorks,visible:e.value,"onUpdate:visible":s[1]||(s[1]=a=>e.value=a)},null,8,["assigned-works","visible"])],64)}}});const zw=K(Vw,[["__scopeId","data-v-66e304a5"]]),Bw={class:"index-works-view"},Uw={class:"index-works-view__header"},Fw={class:"index-works-view__header__search"},qw={class:"index-works-view__selected-actions"},Ww={class:"index-works-view__table"},jw={class:"index-works-view__pagination"},Hw={class:"index-works-view__header"},Yw={class:"index-works-view__header__search"},Kw={class:"index-works-view__table"},Xw={class:"index-works-view__pagination"},Gw={class:"index-works-view__header"},Jw={class:"index-works-view__header__search"},Zw={class:"index-works-view__table"},Qw={class:"index-works-view__pagination"},ex={class:"index-works-view__header"},tx={class:"index-works-view__header__search"},nx={class:"index-works-view__table"},sx={class:"index-works-view__pagination"},ix={class:"index-works-view__header"},ox={class:"index-works-view__header__search"},rx={class:"index-works-view__selected-actions"},ax={class:"index-works-view__table"},lx={class:"index-works-view__pagination"},cx=H({__name:"index-view",setup(t){const e=Kp();return ln("Мои работы"),(n,s)=>{const i=Sn,o=kn,r=Ku;return w(),k("div",Bw,[A(r,{titles:["Все","Не решенные","Не проверенные","Проверенные","Архивированные"],onTabChange:s[12]||(s[12]=a=>v(e).changeTab(a))},{"tab-0":V(()=>[m("div",Uw,[m("div",Fw,[A(i,{modelValue:v(e).allSearch.pagination.search,"onUpdate:modelValue":s[0]||(s[0]=a=>v(e).allSearch.pagination.search=a),"is-loading":v(e).allSearch.isListLoading},null,8,["modelValue","is-loading"])])]),m("div",qw,[A(Tw,{"selected-assigned-works":v(e).allSearchSelectedWorks},null,8,["selected-assigned-works"])]),m("div",Ww,[A(ma,{works:v(e).allSearch.results,loading:v(e).allSearch.isListLoading,"get-user-action-function":v(e).getUserAction,onSelect:s[1]||(s[1]=a=>v(e).allSearchChecklist=a),editable:""},null,8,["works","loading","get-user-action-function"])]),m("div",jw,[A(o,{page:v(e).allSearch.pagination.page,"onUpdate:page":s[2]||(s[2]=a=>v(e).allSearch.pagination.page=a),total:v(e).allSearch.resultsMeta.total,limit:v(e).allSearch.pagination.limit},null,8,["page","total","limit"])])]),"tab-1":V(()=>[m("div",Hw,[m("div",Yw,[A(i,{modelValue:v(e).notSolvedSearch.pagination.search,"onUpdate:modelValue":s[3]||(s[3]=a=>v(e).notSolvedSearch.pagination.search=a),"is-loading":v(e).notSolvedSearch.isListLoading},null,8,["modelValue","is-loading"])])]),m("div",Kw,[A(ma,{works:v(e).notSolvedSearch.results,loading:v(e).notSolvedSearch.isListLoading,"get-user-action-function":v(e).getUserAction},null,8,["works","loading","get-user-action-function"])]),m("div",Xw,[A(o,{page:v(e).notSolvedSearch.pagination.page,"onUpdate:page":s[4]||(s[4]=a=>v(e).notSolvedSearch.pagination.page=a),total:v(e).notSolvedSearch.resultsMeta.total,limit:v(e).notSolvedSearch.pagination.limit},null,8,["page","total","limit"])])]),"tab-2":V(()=>[m("div",Gw,[m("div",Jw,[A(i,{modelValue:v(e).notCheckedSearch.pagination.search,"onUpdate:modelValue":s[5]||(s[5]=a=>v(e).notCheckedSearch.pagination.search=a),"is-loading":v(e).notCheckedSearch.isListLoading},null,8,["modelValue","is-loading"])])]),m("div",Zw,[A(ma,{works:v(e).notCheckedSearch.results,loading:v(e).notCheckedSearch.isListLoading,"get-user-action-function":v(e).getUserAction},null,8,["works","loading","get-user-action-function"])]),m("div",Qw,[A(o,{page:v(e).notCheckedSearch.pagination.page,"onUpdate:page":s[6]||(s[6]=a=>v(e).notCheckedSearch.pagination.page=a),total:v(e).notCheckedSearch.resultsMeta.total,limit:v(e).notCheckedSearch.pagination.limit},null,8,["page","total","limit"])])]),"tab-3":V(()=>[m("div",ex,[m("div",tx,[A(i,{modelValue:v(e).checkedSearch.pagination.search,"onUpdate:modelValue":s[7]||(s[7]=a=>v(e).checkedSearch.pagination.search=a),"is-loading":v(e).checkedSearch.isListLoading},null,8,["modelValue","is-loading"])])]),m("div",nx,[A(ma,{works:v(e).checkedSearch.results,loading:v(e).checkedSearch.isListLoading,"get-user-action-function":v(e).getUserAction},null,8,["works","loading","get-user-action-function"])]),m("div",sx,[A(o,{page:v(e).checkedSearch.pagination.page,"onUpdate:page":s[8]||(s[8]=a=>v(e).checkedSearch.pagination.page=a),total:v(e).checkedSearch.resultsMeta.total,limit:v(e).checkedSearch.pagination.limit},null,8,["page","total","limit"])])]),"tab-4":V(()=>[m("div",ix,[m("div",ox,[A(i,{modelValue:v(e).archivedSearch.pagination.search,"onUpdate:modelValue":s[9]||(s[9]=a=>v(e).archivedSearch.pagination.search=a),"is-loading":v(e).archivedSearch.isListLoading},null,8,["modelValue","is-loading"])])]),m("div",rx,[A(zw,{"selected-assigned-works":v(e).archivedSearchSelectedWorks},null,8,["selected-assigned-works"])]),m("div",ax,[A(ma,{works:v(e).archivedSearch.results,loading:v(e).archivedSearch.isListLoading,"get-user-action-function":v(e).getUserAction,onSelect:s[10]||(s[10]=a=>v(e).archivedSearchChecklist=a),editable:""},null,8,["works","loading","get-user-action-function"])]),m("div",lx,[A(o,{page:v(e).archivedSearch.pagination.page,"onUpdate:page":s[11]||(s[11]=a=>v(e).archivedSearch.pagination.page=a),total:v(e).archivedSearch.resultsMeta.total,limit:v(e).archivedSearch.pagination.limit},null,8,["page","total","limit"])])]),_:1})])}}});const ux=K(cx,[["__scopeId","data-v-aaa82f6c"]]);const dx={},hx={class:"warning-block"},fx={class:"warning-block__icon"},px={class:"warning-block__text"};function mx(t,e){const n=Jt;return w(),k("div",hx,[m("div",fx,[A(n,{name:"attention-yellow"})]),m("div",px,[Ge(t.$slots,"default",{},void 0,!0)])])}const Fo=K(dx,[["render",mx],["__scopeId","data-v-269d301a"]]),gx={class:"sidebar-layout"},_x={class:"sidebar-layout__sidebar"},vx={class:"sidebar-layout__sidebar__hide"},bx={class:"sidebar-layout__content"},yx=H({__name:"the-sidebar-layout",setup(t){const e=J(!0);function n(){window.innerWidth>768&&(e.value=!0)}return Bo(()=>{n(),window.addEventListener("resize",n)}),Ki(()=>{window.removeEventListener("resize",n)}),(s,i)=>{const o=it("auto-animate");return w(),k("div",gx,[Ee((w(),k("div",_x,[m("div",vx,[e.value?(w(),k("span",{key:0,onClick:i[0]||(i[0]=r=>e.value=!1)}," Скрыть ")):(w(),k("span",{key:1,onClick:i[1]||(i[1]=r=>e.value=!0)}," Открыть "))]),e.value?Ge(s.$slots,"sidebar",{key:0},void 0,!0):B("",!0)])),[[o]]),m("div",bx,[Ge(s.$slots,"content",{},void 0,!0)])])}}});const fi=K(yx,[["__scopeId","data-v-85828fc3"]]),Qp=H({__name:"role-tag",props:{role:{}},setup(t){const e=t,n=W(()=>{switch(e.role){case"admin":return"Администратор";case"teacher":return"Учитель";case"mentor":return"Куратор";case"student":default:return"Ученик"}}),s=W(()=>{switch(e.role){case"admin":return"danger";case"teacher":return"warning";case"mentor":return"success";case"student":default:return"info"}});return(i,o)=>{const r=Zp;return w(),U(r,{type:s.value,mode:"background"},{default:V(()=>[Q(F(n.value),1)]),_:1},8,["type"])}}}),e1=H({__name:"telegram-button",props:{username:{}},setup(t){return(e,n)=>{const s=ot;return w(),U(s,{design:"telegram",alignment:"stretch",to:`https://t.me/${e.username}`},{default:V(()=>[Q(F(e.username),1)]),_:1},8,["to"])}}}),t1=t=>(Re("data-v-c4ff8e4a"),t=t(),Pe(),t),wx={class:"user-info-modal__container"},xx={class:"user-info-modal__title"},kx={class:"user-info-modal__content"},Sx={class:"user-info-modal__content__image"},$x={class:"user-info-modal__content__image__avatar"},Cx={key:0,class:"user-info-modal__content__image__telegram"},Ax={class:"user-info-modal__content__text"},Mx={class:"user-info-modal__content__text__item"},Ex=t1(()=>m("span",null,"Имя:",-1)),Tx={class:"user-info-modal__content__text__item"},Lx=t1(()=>m("span",null,"Никнейм:",-1)),Ox={class:"user-info-modal__content__text__item"},Dx=t1(()=>m("span",null,"Email:",-1)),Ix={class:"user-info-modal__content__text__item user-info-modal__content__text__item--role"},Rx={class:"user-info-modal__buttons"},Px=H({__name:"user-info-modal",props:{user:{},visible:{type:Boolean}},emits:["update:visible"],setup(t,{emit:e}){function n(){e("update:visible",!1)}return(s,i)=>{var u;const o=hi,r=e1,a=Qp,l=ot,c=it("auto-animate");return w(),U(ui,{to:"body"},[Ee((w(),k("div",{class:_e(["user-info-modal",{"user-info-modal--visible":s.visible}])},[s.visible?(w(),k("div",{key:0,class:"user-info-modal__inner",onClick:i[1]||(i[1]=Vt(d=>n(),["self"]))},[m("div",wx,[m("div",xx,[m("span",null,F(s.user.name),1)]),m("div",kx,[m("div",Sx,[m("div",$x,[A(o,{name:s.user.name,src:s.user.telegramAvatarUrl},null,8,["name","src"])]),s.user.telegramUsername?(w(),k("div",Cx,[A(r,{username:s.user.telegramUsername},null,8,["username"])])):B("",!0)]),m("div",Ax,[m("div",Mx,[Ex,m("b",null,F(s.user.name),1)]),m("div",Tx,[Lx,m("b",null,F(s.user.username),1)]),m("div",Ox,[Dx,m("b",null,F(s.user.email),1)]),m("div",Ix,[A(a,{role:s.user.role},null,8,["role"])])])]),m("div",Rx,[((u=v(N).Context.User)==null?void 0:u.role)!=="student"?(w(),U(l,{key:0,alignment:"stretch",to:`/users/edit/${s.user.username}`,design:"primary",class:"user-info-modal__buttons__profile"},{default:V(()=>[Q(" Перейти к профилю ")]),_:1},8,["to"])):B("",!0),A(l,{alignment:"stretch",onClick:i[0]||(i[0]=d=>n()),design:"secondary",class:"user-info-modal__buttons__cancel"},{default:V(()=>[Q(" Закрыть ")]),_:1})])])])):B("",!0)],2)),[[c]])])}}});const bv=K(Px,[["__scopeId","data-v-c4ff8e4a"]]),Nx={class:"user-card"},Vx={class:"user-card__avatar"},zx={class:"user-card__credentials__name"},Bx={class:"user-card__credentials__username"},Ux=H({__name:"user-card",props:{user:{}},setup(t){const e=J(!1);return(n,s)=>{const i=hi,o=bv;return w(),k(he,null,[m("div",Nx,[m("div",Vx,[A(i,{name:n.user.name,src:n.user.telegramAvatarUrl,onClick:s[0]||(s[0]=r=>e.value=!0)},null,8,["name","src"])]),m("div",{class:"user-card__credentials",onClick:s[1]||(s[1]=r=>e.value=!0)},[m("h3",zx,F(n.user.name),1),m("p",Bx,F(n.user.username),1)])]),A(o,{visible:e.value,"onUpdate:visible":s[2]||(s[2]=r=>e.value=r),user:n.user},null,8,["visible","user"])],64)}}});const Qu=K(Ux,[["__scopeId","data-v-fc47cde4"]]),Fx={class:"assigned-work-solve-solve-status__text"},qx=H({__name:"assigned-work-check-status",props:{status:{}},setup(t){const e=t,n=W(()=>{switch(e.status){case"not-checked":return"Не проверено";case"in-progress":return"В процессе";case"checked-in-deadline":return"Проверено в дедлайн";case"checked-after-deadline":return"Проверено после дедлайна";case"checked-automatically":return"Проверено автоматически";default:return"неизвестно"}});return(s,i)=>(w(),k("div",{class:_e(["assigned-work-solve-status",{"assigned-work-solve-status--not-started":e.status==="not-started","assigned-work-solve-status--in-progress":e.status==="in-progress","assigned-work-solve-status--checked-in-deadline":e.status==="checked-in-deadline","assigned-work-solve-status--checked-after-deadline":e.status==="checked-after-deadline","assigned-work-solve-status--checked-automatically":e.status==="checked-automatically"}])},[m("span",Fx,F(n.value),1)],2))}});const Wx=K(qx,[["__scopeId","data-v-71565f8a"]]),jx={class:"assigned-work-solve-solve-status__text"},Hx=H({__name:"assigned-work-solve-status",props:{status:{}},setup(t){const e=t,n=W(()=>{switch(e.status){case"not-started":return"Не начато";case"in-progress":return"В процессе";case"made-in-deadline":return"Сдано в дедлайн";case"made-after-deadline":return"Сдано после дедлайна";default:return"неизвестно"}});return(s,i)=>(w(),k("div",{class:_e(["assigned-work-solve-status",{"assigned-work-solve-status--not-started":e.status==="not-started","assigned-work-solve-status--in-progress":e.status==="in-progress","assigned-work-solve-status--made-in-deadline":e.status==="made-in-deadline","assigned-work-solve-status--made-after-deadline":e.status==="made-after-deadline"}])},[m("span",jx,F(n.value),1)],2))}});const Yx=K(Hx,[["__scopeId","data-v-3fd6b884"]]),Kx={class:"task-list"},Xx={key:1},Gx=H({__name:"task-list",props:{baseUrl:{},tasks:{},workId:{},isSolvedFunction:{type:Function},scoreFunction:{type:Function}},setup(t){return(e,n)=>{const s=Jt,i=De("router-link");return w(),k("ul",Kx,[(w(!0),k(he,null,Le(e.tasks,(o,r)=>(w(),k("li",{key:o.id},[A(i,{to:`${e.baseUrl}/${o.slug}`,class:_e({success:e.scoreFunction(o)==="success",warning:e.scoreFunction(o)==="warning",error:e.scoreFunction(o)==="error"})},{default:V(()=>[e.isSolvedFunction(o)?(w(),U(s,{key:0,class:"task-list__icon",name:"check-green"})):(w(),k("span",Xx,F(r+1),1))]),_:2},1032,["to","class"])]))),128))])}}});const Jx=K(Gx,[["__scopeId","data-v-4bb01805"]]);function vu(t){if(!t||t.ops.length===0)return!0;for(let e=0;e<t.ops.length;e++)if(t.ops[e].insert instanceof Object||t.ops[e].insert.trim()!=="")return!1;return!0}function Zx(){return{ops:[{insert:`
`}]}}const Ba=Ct("assigned-works-module:assigned-work",()=>{const t=N.Services.AssignedWork,e=N.Services.UI,n=Dt(),s=Is(),i=W(()=>n.params.mode),o=J(!1),r=J(""),a=Gt({visible:!1,onlyFalse:!1}),l=J(!1),c=W(()=>n.params.workId),u=J(null);async function d(){var R,j,Y;e.setLoading(!0);try{const oe=await t.getAssignedWork(c.value);if(u.value=oe.data,i.value==="solve"&&["made-in-deadline","made-after-deadline"].includes(((R=u.value)==null?void 0:R.solveStatus)||""))throw new Error("Работа уже сдана и не может быть изменена");if(i.value==="check"&&["not-started","in-progress"].includes(((j=u.value)==null?void 0:j.solveStatus)||""))throw new Error("Работа еще не сдана и не может быть проверена");if(i.value==="check"&&["checked-in-deadline","checked-after-deadline"].includes(((Y=u.value)==null?void 0:Y.checkStatus)||""))throw new Error("Работа уже проверена и не может быть изменена")}catch(oe){e.openErrorModal("Ошибка",(oe==null?void 0:oe.status)===404?"Работа не найдена. Возможно, работа была удалена и остался только этот экземпляр":oe.message),u.value=null}finally{e.setLoading(!1)}}const h=W(()=>`/assigned-works/${c.value}/${i.value}`),f=W(()=>n.params.taskSlug),p=J(),g=J();We([f,c,i],()=>{if(!u.value||!f.value){g.value=null,p.value=null;return}const R=T(f.value);if(!R){g.value=null,p.value=null;return}p.value=R.id,g.value=R},{immediate:!0});const _=W(()=>{if(!u.value)return null;const R=N.Context.User.role;return R==="student"&&i.value==="read"?u.value.score||0:R==="mentor"&&i.value==="check"?u.value.comments.reduce((j,Y)=>j+(Y.score||0),0):u.value.checkStatus==="checked-in-deadline"||u.value.checkStatus==="checked-after-deadline"||u.value.checkStatus==="checked-automatically"?u.value.score||0:null}),b=W(()=>{if(_.value===null)return null;if(_.value===0)return"0 баллов";const R=_.value%10;return _.value>10&&_.value<20?`${_.value} баллов`:R===1?`${_.value} балл`:R>1&&R<5?`${_.value} балла`:`${_.value} баллов`}),x=W(()=>{var Y;const R=u.value.work.tasks.findIndex(oe=>oe.slug===f.value);if(R===u.value.work.tasks.length-1)return"";const j=(Y=u.value.work.tasks[R+1])==null?void 0:Y.slug;return h.value+"/"+j}),$=W(()=>{var Y;const R=u.value.work.tasks.findIndex(oe=>oe.slug===f.value);if(R===0)return"";const j=(Y=u.value.work.tasks[R-1])==null?void 0:Y.slug;return h.value+"/"+j}),S=W(()=>{const R=N.Context.User.role;let j="hidden",Y="hidden",oe="hidden";switch(R){case"student":j=i.value==="solve"?"visible":"readonly",Y=i.value==="solve"?"hidden":"readonly",oe=i.value==="solve"?"hidden":"readonly";break;case"mentor":j="readonly",Y=i.value==="check"?"visible":"readonly",oe=i.value==="check"?"visible":"readonly";break;case"admin":case"teacher":j="readonly",Y="readonly",oe="readonly";break}return{solveBox:j,checkBox:Y,scoreBox:oe}});function C(R){var j,Y;return(Y=(j=u.value)==null?void 0:j.work)==null?void 0:Y.tasks.find(oe=>oe.id===R)}function T(R){var j,Y;return(Y=(j=u.value)==null?void 0:j.work)==null?void 0:Y.tasks.find(oe=>oe.slug===R)}function L(R){var Y;if(i.value==="read"||!u.value||!((Y=u.value)!=null&&Y.answers))return!1;const j=u.value.answers.find(oe=>oe.taskId===R.id);if(!j)return!1;switch(R.type){case"one_choice":case"multiple_choice":return!!(j.chosenTaskOptionIds&&j.chosenTaskOptionIds.length>0);case"word":return!!(j.word&&j.word.trim().length>0);case"text":return!vu(j.content)}}function E(R){var Y,oe,pe,Se,qe,le,ze,Ze,at;if(i.value==="solve"||((Y=u.value)==null?void 0:Y.solveStatus)==="not-started"||((oe=u.value)==null?void 0:oe.solveStatus)==="in-progress"||((pe=N.Context.User)==null?void 0:pe.role)!=="mentor"&&(((Se=u.value)==null?void 0:Se.checkStatus)==="not-checked"||((qe=u.value)==null?void 0:qe.checkStatus)==="in-progress"))return null;const j=(le=u.value)==null?void 0:le.comments.find(wt=>wt.taskId===R.id);return j?(((ze=u.value)==null?void 0:ze.checkStatus)==="not-checked"||((Ze=u.value)==null?void 0:Ze.checkStatus)==="in-progress")&&((at=N.Context.User)==null?void 0:at.role)!=="mentor"?null:j.score===0?"error":j.score===R.highestScore?"success":"warning":R.type!=="text"?"error":null}async function q(){var Y,oe;if(!u.value)return;const R=((Y=u.value.work)==null?void 0:Y.tasks)||[];if(i.value==="solve"&&!R.every(pe=>L(pe))?r.value="Вы не ответили на все вопросы":r.value="",!o.value){o.value=!0;return}e.setLoading(!0);const j=[{label:"Вернуться к списку работ",design:"secondary",handler:()=>{window.location.href="/assigned-works"}}];(oe=u.value.work)!=null&&oe.tasks.every(pe=>pe.type!=="text")&&j.unshift({label:"Посмотреть результат",design:"primary",handler:()=>{window.location.href=`/assigned-works/${c.value}/read`}});try{i.value==="solve"?(await t.solveAssignedWork(u.value.id,{answers:u.value.answers}),e.openSuccessModal("Работа успешно сдана!","",j)):i.value==="check"&&(await t.checkAssignedWork(u.value.id,{answers:u.value.answers,comments:u.value.comments}),e.openSuccessModal("Работа успешно проверена!","Если работа без открытых вопросов, она будет проверена автоматически и Вы можете просмотреть результат сразу. В случае работ с хотя б одним открытым вопросом требуется проверка куратора",[{label:"Вернуться к списку работ",design:"primary",handler:()=>{window.location.href="/assigned-works"}}]))}catch(pe){e.openErrorModal("Ошибка при отправке работы",pe.message)}finally{e.setLoading(!1)}}async function ee(){if(!(i.value==="read"||!u.value)){if(!l.value){l.value=!0;return}e.setLoading(!0);try{await t.shiftAssignedWorkDeadline(u.value.id),e.openSuccessModal("Дедлайн успешно сдвинут!")}catch(R){e.openErrorModal("Ошибка при сдвиге дедлайна",R.message)}finally{e.setLoading(!1)}}}async function ie(){if(!u.value)return;e.setLoading(!0);const R={...u.value,work:void 0};try{await t.saveAssignedWorkProgress(u.value.id,R),e.openSuccessModal("Прогресс успешно сохранен!","",[{label:"Вернуться к списку работ",design:"primary",handler:()=>{window.location}}])}catch(j){e.openErrorModal("Ошибка при сохранении прогресса",j.message)}finally{e.setLoading(!1)}}async function X(){var R;if(u.value){if(((R=u.value.work)==null?void 0:R.type)!=="test"){e.openErrorModal("Ошибка при создании нового экземпляра работы","Можно пересдавать только тестовую работу. Эта работа содержит открытые вопросы");return}e.setLoading(!0);try{await t.remakeAssignedWork(u.value.id,a.onlyFalse),e.openSuccessModal("Работа успешно создана и появилась в списке!","Если работы нет в списке, попробуйте обновить страницу",[{label:"Вернуться к списку работ",design:"primary",handler:()=>{window.location.href="/assigned-works"}}])}catch(j){e.openErrorModal("Ошибка при создании нового экземпляра работы",j.message)}finally{e.setLoading(!1)}}}return{assignedWorkId:c,assignedWork:u,taskSlug:f,taskId:p,task:g,sureSubmitModalVisible:o,sureSubmitModalError:r,shiftDeadlineModalVisible:l,shiftDeadline:ee,getTask:C,taskHasAnswer:L,taskScoreStatus:E,submitWork:q,mode:i,fieldVisibility:S,baseUrl:h,nextTaskLink:x,previousTaskLink:$,fetchAssignedWork:d,workScoreText:b,workScore:_,saveProgress:ie,remakeWork:X,remakeModal:a,_router:s}}),Qx=[{keys:["Ctrl","Enter"],description:"Отправить решение/проверку",shortcut:["Ctrl","Enter"],handler:()=>{const t=Ba();t.sureSubmitModalVisible=!0}},{keys:["Ctrl","ArrowLeft"],description:"Предыдущее задание",shortcut:["Ctrl","ArrowLeft"],handler:()=>{const t=Ba(),e=t._router;t.previousTaskLink&&e.push(t.previousTaskLink)}},{keys:["Ctrl","ArrowRight"],description:"Следующее задание",shortcut:["Ctrl","ArrowRight"],handler:()=>{const t=Ba(),e=t._router;t.nextTaskLink&&e.push(t.nextTaskLink)}}],Yc=new Map;function ed(t){t.forEach(i=>{const o=i.keys.join("+");Yc.set(o,i)});const e=t.map(i=>i.keys.join("+").toLowerCase()),n=ek(e);window.addEventListener("keydown",n);const s=Yp(i=>{const o=[];i.ctrlKey&&o.push("Ctrl"),i.altKey&&o.push("Alt"),i.shiftKey&&o.push("Shift"),i.metaKey&&o.push("Meta"),o.push(i.key);const r=o.join("+"),a=Yc.get(r);a&&(i.preventDefault(),a.handler())},100);return window.addEventListener("keyup",s),()=>{window.removeEventListener("keyup",s),window.removeEventListener("keydown",n),t.forEach(i=>{const o=i.keys.join("+");Yc.delete(o)})}}function ek(t){return e=>{const n=[];e.ctrlKey?n.push("Ctrl"):e.altKey?n.push("Alt"):e.shiftKey?n.push("Shift"):e.metaKey&&n.push("Meta"),n.push(e.key);const s=n.join("+").toLowerCase();t.includes(s)&&(e.preventDefault(),console.log("INTERCEPTED",s))}}function dg(){return Array.from(Yc.values())}const Xi=t=>(Re("data-v-59538ded"),t=t(),Pe(),t),tk={class:"work-view"},nk={class:"work-view__sidebar"},sk={class:"work-view__sidebar__title"},ik={key:0},ok={class:"work-view__sidebar__info"},rk={key:0,class:"work-view__sidebar__info__check-deadline"},ak={key:1,class:"work-view__sidebar__info__solve-deadline"},lk={class:"work-view__sidebar__info__solve-status"},ck={key:2,class:"work-view__sidebar__info__solve-status"},uk={class:"work-view__sidebar__info__check-status"},dk={key:3,class:"work-view__sidebar__info__solve-status"},hk={class:"work-view__sidebar__score"},fk={class:"work-view__sidebar__submit"},pk={class:"work-view__sidebar__people"},mk={class:"work-view__sidebar__people__student"},gk=Xi(()=>m("label",null,"Ученик: ",-1)),_k={key:0,class:"work-view__sidebar__people__mentor"},vk=Xi(()=>m("label",null,"Проверяющие кураторы: ",-1)),bk={class:"work-view__content"},yk={class:"task-view__title"},wk={key:1,class:"work-view__not-found"},xk=Xi(()=>m("h1",{class:"work-view__not-found__title"},"Работа не найдена",-1)),kk=[xk],Sk=Xi(()=>m("br",null,null,-1)),$k=Xi(()=>m("br",null,null,-1)),Ck=Xi(()=>m("br",null,null,-1)),Ak=Xi(()=>m("br",null,null,-1)),Mk=Xi(()=>m("p",null," Уже решенная работа НЕ будет удалена, будет создана новая работа с теми же заданиями ",-1)),Ek=H({__name:"work-view",setup(t){const e=Ba();e.fetchAssignedWork(),We(()=>e.assignedWork,()=>{var s;(s=e.assignedWork)!=null&&s.work&&ln(e.assignedWork.work.name)},{deep:!0,immediate:!0});const n=ed(Qx);return Ki(()=>{n()}),(s,i)=>{const o=Yx,r=Wx,a=ot,l=Qu,c=De("router-view"),u=fi,d=Fo,h=$n,f=Kr;return w(),k(he,null,[m("div",tk,[v(e).assignedWork?(w(),U(u,{key:0},{sidebar:V(()=>{var p,g,_,b,x,$,S,C,T;return[m("div",nk,[m("h2",sk,F(v(e).mode==="check"?"Проверка":"Работа"),1),v(e).mode==="solve"?(w(),k("p",ik)):B("",!0),m("div",ok,[((p=v(N).Context.User)==null?void 0:p.role)==="mentor"&&v(e).assignedWork.checkDeadlineAt?(w(),k("p",rk," Дедлайн проверки: "+F(v(on)(v(e).assignedWork.checkDeadlineAt,{precision:"day"}).toBeautiful()),1)):B("",!0),v(e).assignedWork.solveDeadlineAt?(w(),k("p",ak," Дедлайн сдачи: "+F(v(on)(v(e).assignedWork.solveDeadlineAt,{precision:"day"}).toBeautiful()),1)):B("",!0),m("p",lk,[Q(" Статус работы: "),A(o,{status:v(e).assignedWork.solveStatus},null,8,["status"])]),v(e).assignedWork.solvedAt?(w(),k("p",ck," Работа сдана: "+F(v(on)(v(e).assignedWork.solvedAt,{precision:"day"}).toBeautiful()),1)):B("",!0),m("p",uk,[Q(" Статус проверки: "),A(r,{status:v(e).assignedWork.checkStatus},null,8,["status"])]),v(e).assignedWork.checkedAt?(w(),k("p",dk," Работа проверена: "+F(v(on)(v(e).assignedWork.checkedAt,{precision:"day"}).toBeautiful()),1)):B("",!0)]),A(Jx,{"work-id":v(e).assignedWorkId,"is-solved-function":v(e).taskHasAnswer,"score-function":v(e).taskScoreStatus,"base-url":v(e).baseUrl,tasks:((g=v(e).assignedWork.work)==null?void 0:g.tasks)||[]},null,8,["work-id","is-solved-function","score-function","base-url","tasks"]),m("p",hk,[Q(" Оценка: "),m("b",null,F(v(e).workScoreText===null?"не выставлена":v(e).workScoreText),1),Q(" из "),m("b",null,F(v(e).assignedWork.maxScore),1),Q(" "+F(v(e).assignedWork.score?"("+(v(e).assignedWork.score/v(e).assignedWork.maxScore*100).toFixed(2)+"%)":""),1)]),m("div",fk,[["check","solve"].includes(v(e).mode)?(w(),U(a,{key:0,alignment:"stretch",onClick:i[0]||(i[0]=L=>v(e).submitWork())},{default:V(()=>[Q(F(v(e).mode==="check"?"Завершить проверку":"Завершить работу"),1)]),_:1})):B("",!0),v(e).mode==="read"&&((b=(_=v(e).assignedWork)==null?void 0:_.work)==null?void 0:b.type)==="test"&&((x=v(N).Context.User)==null?void 0:x.role)==="student"&&((($=v(e).assignedWork)==null?void 0:$.checkStatus)=="checked-in-deadline"||((S=v(e).assignedWork)==null?void 0:S.checkStatus)=="checked-after-deadline"||((C=v(e).assignedWork)==null?void 0:C.checkStatus)=="checked-automatically")?(w(),U(a,{key:1,alignment:"stretch",onClick:i[1]||(i[1]=L=>v(e).remakeModal.visible=!0)},{default:V(()=>[Q(" Переделать работу ")]),_:1})):B("",!0),["check","solve"].includes(v(e).mode)?(w(),U(a,{key:2,class:"work-view__sidebar__save-button",alignment:"stretch",design:"inline",onClick:i[2]||(i[2]=L=>v(e).saveProgress())},{default:V(()=>[Q(" Сохранить без сдачи ")]),_:1})):B("",!0),v(e).mode==="check"&&v(e).assignedWork.checkDeadlineAt?(w(),U(a,{key:3,class:"work-view__sidebar__shift-button",alignment:"stretch",design:"inline",onClick:i[3]||(i[3]=L=>v(e).shiftDeadline())},{default:V(()=>[Q(" Сдвинуть дедлайн проверки ")]),_:1})):B("",!0),v(e).mode==="solve"&&v(e).assignedWork.solveDeadlineAt?(w(),U(a,{key:4,class:"work-view__sidebar__shift-button",alignment:"stretch",design:"inline",onClick:i[4]||(i[4]=L=>v(e).shiftDeadline())},{default:V(()=>[Q(" Сдвинуть дедлайн ")]),_:1})):B("",!0),A(a,{to:["admin","teacher"].includes((T=v(N).Context.User)==null?void 0:T.role)?"/works":"/assigned-works",alignment:"stretch",design:"inline",class:"work-view__sidebar__back-button"},{default:V(()=>[Q(" Вернуться к списку работ ")]),_:1},8,["to"]),m("div",pk,[m("div",mk,[gk,A(l,{user:v(e).assignedWork.student},null,8,["user"])]),v(e).assignedWork.checkStatus!=="checked-automatically"?(w(),k("div",_k,[vk,(w(!0),k(he,null,Le(v(e).assignedWork.mentors,L=>(w(),U(l,{user:L,key:L.id},null,8,["user"]))),128))])):B("",!0)])])])]}),content:V(()=>{var p,g;return[m("div",bk,[m("h2",yk,F((g=(p=v(e).assignedWork)==null?void 0:p.work)==null?void 0:g.name),1),(w(),U(c,{key:s.$route.fullPath}))])]}),_:1})):(w(),k("div",wk,kk))]),A(h,{visible:v(e).sureSubmitModalVisible,"onUpdate:visible":i[5]||(i[5]=p=>v(e).sureSubmitModalVisible=p),onConfirm:i[6]||(i[6]=p=>v(e).submitWork())},{title:V(()=>[Q(F(v(e).mode==="check"?"Завершить проверку":"Завершить работу"),1)]),text:V(()=>[Q(F(v(e).mode==="check"?"Вы уверены, что хотите завершить проверку?":"Вы уверены, что хотите завершить работу?")+" ",1),Sk,$k,v(e).sureSubmitModalError?(w(),U(d,{key:0},{default:V(()=>[Q(F(v(e).sureSubmitModalError),1)]),_:1})):B("",!0)]),_:1},8,["visible"]),A(h,{visible:v(e).shiftDeadlineModalVisible,"onUpdate:visible":i[7]||(i[7]=p=>v(e).shiftDeadlineModalVisible=p),onConfirm:i[8]||(i[8]=p=>v(e).shiftDeadline())},{title:V(()=>[Q(" Сдвинуть дедлайн на 3 дня ")]),text:V(()=>[Q(" Вы уверены, что хотите сдвинуть дедлайн? "),Ck,Ak,A(d,null,{default:V(()=>[Q(" Сдвинуть дедлайн можно только один раз ")]),_:1})]),_:1},8,["visible"]),A(h,{visible:v(e).remakeModal.visible,"onUpdate:visible":i[10]||(i[10]=p=>v(e).remakeModal.visible=p),onConfirm:i[11]||(i[11]=p=>v(e).remakeWork())},{title:V(()=>{var p,g;return[Q(' Вы уверены, что хотите заново сделать работу "'+F((g=(p=v(e).assignedWork)==null?void 0:p.work)==null?void 0:g.name)+'"? ',1)]}),text:V(()=>[Mk,A(f,{modelValue:v(e).remakeModal.onlyFalse,"onUpdate:modelValue":i[9]||(i[9]=p=>v(e).remakeModal.onlyFalse=p),label:"Перерешать только неправильные"},null,8,["modelValue"])]),_:1},8,["visible"])],64)}}});const Tk=K(Ek,[["__scopeId","data-v-59538ded"]]),Lk={сlass:"form-input"},Ok={class:"form-input__label"},Dk=["type","placholder","disabled","min","max","step"],Ik={key:0,class:"form-input__error"},Rk=H({__name:"form-input",props:{label:{},type:{},placeholder:{},modelValue:{},readonly:{type:Boolean},min:{},max:{},step:{},validators:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=J([]),i=W({get:()=>{if(n.type&&n.type==="date")return new Date(n.modelValue).toISOString().slice(0,10);if(n.type&&n.type==="datetime-local"){const o=new Date(n.modelValue);return new Date(o.getTime()-o.getTimezoneOffset()*6e4).toISOString().slice(0,16)}return n.modelValue},set:o=>{n.validators&&(s.value=n.validators.map(r=>r(o)).filter(r=>r!==!0)),n.type==="date"||n.type==="datetime-local"?e("update:modelValue",new Date(o)):n.type==="number"?e("update:modelValue",Number(o)):e("update:modelValue",o)}});return(o,r)=>{const a=it("auto-animate");return Ee((w(),k("label",Lk,[m("span",Ok,F(o.label),1),Ee(m("input",{class:_e(["form-input__input",{"form-input__input--error":s.value.length,"form-input__input--readonly":o.readonly}]),type:o.type,"onUpdate:modelValue":r[0]||(r[0]=l=>i.value=l),placholder:o.placeholder,disabled:o.readonly,min:o.min,max:o.max,step:o.step},null,10,Dk),[[nv,i.value]]),s.value.length?(w(),k("span",Ik,F(s.value[0]),1)):B("",!0)])),[[a]])}}});const qt=K(Rk,[["__scopeId","data-v-99cae502"]]),Pk={class:"comment-modal"},Nk={class:"comment-modal__title"},Vk={key:0,class:"comment-modal__title--error"},zk={key:1,class:"comment-modal__title--warning"},Bk={class:"comment-modal__text"},Uk={key:0,class:"comment-modal__buttons"},Fk=H({__name:"quill-comment-modal",props:{visible:{type:Boolean},comment:{},editable:{type:Boolean},positionX:{},positionY:{}},emits:["update:visible","delete"],setup(t,{emit:e}){const n=t,s=W({get:()=>n.visible,set:r=>e("update:visible",r)}),i=W(()=>({x:window.innerWidth>400?n.positionX:10,y:n.positionY+(n.comment.imageSrc?0:10)}));function o(){e("delete")}return(r,a)=>{const l=ot,c=Gp;return w(),U(c,{position:i.value,visible:s.value,"onUpdate:visible":a[1]||(a[1]=u=>s.value=u),absolute:""},{default:V(()=>[m("div",Pk,[m("div",Nk,[r.comment.type==="fact-error"?(w(),k("h3",Vk," Фактическая ошибка ")):(w(),k("h3",zk," Логическая ошибка "))]),m("div",Bk,[m("p",null,F(r.comment.content),1)]),r.editable?(w(),k("div",Uk,[A(l,{alignment:"stretch",onClick:a[0]||(a[0]=u=>o()),design:"danger",class:"comment-modal__buttons__remove"},{default:V(()=>[Q(" Удалить ")]),_:1})])):B("",!0)])]),_:1},8,["position","visible"])}}});const qk=K(Fk,[["__scopeId","data-v-ddc29b6c"]]),Wk={class:"form-toggle"},jk=H({__name:"form-toggle",props:{modelValue:{},values:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=J(n.modelValue===n.values[1].value),i=W(()=>s.value?n.values[1]:n.values[0]);function o(){s.value=!s.value,e("update:modelValue",i.value.value)}return(r,a)=>(w(),k("div",Wk,[m("div",{class:_e(["form-toggle__box",{"form-toggle__box--active":s.value}]),onClick:a[0]||(a[0]=l=>o())},[m("div",{class:_e(["form-toggle__circle",{"form-toggle__circle--active":s.value}])},null,2)],2),m("span",null,F(i.value.label),1)]))}});const Hk=K(jk,[["__scopeId","data-v-a5a2a8a6"]]),Yk=t=>(Re("data-v-25a25735"),t=t(),Pe(),t),Kk={key:0,class:"comment-popup__inner"},Xk=Yk(()=>m("div",{class:"comment-popup__label"},[m("label",null,"Комментарий")],-1)),Gk={class:"comment-popup__field"},Jk={class:"comment-popup__toggle"},Zk={class:"comment-popup__actions"},Qk=H({__name:"quill-comment-popup",props:{modelValue:{}},emits:["update:modelValue","submit"],setup(t,{emit:e}){const n=t,s=[{value:"logic-error",label:"Логическая ошибка"},{value:"fact-error",label:"Фактическая ошибка"}],i=W({get:()=>n.modelValue,set:r=>e("update:modelValue",r)});function o(){i.value.visible.popup=!1,e("submit")}return(r,a)=>{var c;const l=Hk;return(c=i.value)!=null&&c.visible.popup?(w(),k("div",{key:0,class:"comment-popup",style:wn({top:`${i.value.popupPosition?i.value.popupPosition.y:i.value.y+15}px`,left:`${i.value.popupPosition?i.value.popupPosition.x:i.value.x}px`})},[i.value.visible?(w(),k("div",Kk,[Xk,m("div",Gk,[Ee(m("textarea",{type:"text","onUpdate:modelValue":a[0]||(a[0]=u=>i.value.content=u),onKeypress:a[1]||(a[1]=Zs(Vt(u=>o(),["prevent"]),["enter"]))},null,544),[[To,i.value.content]])]),m("div",Jk,[A(l,{modelValue:i.value.type,"onUpdate:modelValue":a[2]||(a[2]=u=>i.value.type=u),values:s},null,8,["modelValue"])]),m("div",Zk,[m("button",{class:"comment-popup__actions__ok",onClick:a[3]||(a[3]=u=>o())}," Ок "),m("button",{class:"comment-popup__actions__cancel",onClick:a[4]||(a[4]=u=>i.value.visible.popup=!1)}," Отмена ")])])):B("",!0)],4)):B("",!0)}}});const eS=K(Qk,[["__scopeId","data-v-25a25735"]]),tS={class:"quill-prompt"},nS={key:0,class:"quill-prompt__inner"},sS={class:"quill-prompt__label"},iS={class:"quill-prompt__field"},oS={class:"quill-prompt__actions"},rS=H({__name:"quill-prompt",props:{action:{type:Function},label:{},visible:{type:Boolean}},emits:["update:modelValue","update:visible"],setup(t,{emit:e}){const n=t,s=J(""),i=W({get:()=>n.visible,set:a=>e("update:visible",a)});async function o(){const a=n.action(s.value);a instanceof Promise&&await a,i.value=!1,s.value=""}function r(){i.value=!1,s.value=""}return(a,l)=>{const c=it("auto-animate");return Ee((w(),k("div",tS,[i.value?(w(),k("div",nS,[m("div",sS,[m("label",null,F(a.label),1)]),m("div",iS,[Ee(m("input",{type:"url","onUpdate:modelValue":l[0]||(l[0]=u=>s.value=u),onKeypress:l[1]||(l[1]=Zs(u=>o(),["enter"]))},null,544),[[To,s.value]])]),m("div",oS,[m("button",{class:"quill-prompt__actions__ok",onClick:l[2]||(l[2]=u=>o())}," Ок "),m("button",{class:"quill-prompt__actions__cancel",onClick:l[3]||(l[3]=u=>r())}," Отмена ")])])):B("",!0)])),[[c]])}}});const aS=K(rS,[["__scopeId","data-v-81902b38"]]),lS=H({__name:"text-format-icon",props:{name:{}},setup(t){const e=t,n=Tl("div");return Wp(Object.assign({"./icons/text-format-icons/align-center-icon.vue":()=>ge(()=>import("./align-center-icon-6a8aafc5.js"),[]),"./icons/text-format-icons/align-justify-icon.vue":()=>ge(()=>import("./align-justify-icon-04da97b8.js"),[]),"./icons/text-format-icons/align-left-icon.vue":()=>ge(()=>import("./align-left-icon-bef0014f.js"),[]),"./icons/text-format-icons/align-right-icon.vue":()=>ge(()=>import("./align-right-icon-d33ef7c1.js"),[]),"./icons/text-format-icons/bold-icon.vue":()=>ge(()=>import("./bold-icon-6262248b.js"),[]),"./icons/text-format-icons/clean-icon.vue":()=>ge(()=>import("./clean-icon-8cdd81bb.js"),[]),"./icons/text-format-icons/header-2-icon.vue":()=>ge(()=>import("./header-2-icon-104db27f.js"),[]),"./icons/text-format-icons/header-3-icon.vue":()=>ge(()=>import("./header-3-icon-5448dd94.js"),[]),"./icons/text-format-icons/header-4-icon.vue":()=>ge(()=>import("./header-4-icon-0c9b53c3.js"),[]),"./icons/text-format-icons/header-5-icon.vue":()=>ge(()=>import("./header-5-icon-ae322a2c.js"),[]),"./icons/text-format-icons/header-6-icon.vue":()=>ge(()=>import("./header-6-icon-9f40b018.js"),[]),"./icons/text-format-icons/header-icon.vue":()=>ge(()=>import("./header-icon-6b03ec5e.js"),[]),"./icons/text-format-icons/image-icon.vue":()=>ge(()=>import("./image-icon-37a17b32.js"),[]),"./icons/text-format-icons/italic-icon.vue":()=>ge(()=>import("./italic-icon-4b7e8633.js"),[]),"./icons/text-format-icons/link-icon.vue":()=>ge(()=>import("./link-icon-775c13d6.js"),[]),"./icons/text-format-icons/list-bullet-icon.vue":()=>ge(()=>import("./list-bullet-icon-c68b3aa2.js"),[]),"./icons/text-format-icons/list-check-icon.vue":()=>ge(()=>import("./list-check-icon-227e524e.js"),[]),"./icons/text-format-icons/list-ordered-icon.vue":()=>ge(()=>import("./list-ordered-icon-db967782.js"),[]),"./icons/text-format-icons/strike-icon.vue":()=>ge(()=>import("./strike-icon-1804c166.js"),[]),"./icons/text-format-icons/subscript-icon.vue":()=>ge(()=>import("./subscript-icon-37584764.js"),[]),"./icons/text-format-icons/superscript-icon.vue":()=>ge(()=>import("./superscript-icon-5251a6b6.js"),[]),"./icons/text-format-icons/underline-icon.vue":()=>ge(()=>import("./underline-icon-29a34d82.js"),[]),"./icons/text-format-icons/video-icon.vue":()=>ge(()=>import("./video-icon-e03ae5ff.js"),[])}),`./icons/text-format-icons/${e.name}-icon.vue`).then(s=>{n.value=s.default}).catch(()=>{n.value="div"}),(s,i)=>(w(),U(On(n.value)))}});const cS=K(lS,[["__scopeId","data-v-41e2c79e"]]);var uS=typeof global=="object"&&global&&global.Object===Object&&global;const yv=uS;var dS=typeof self=="object"&&self&&self.Object===Object&&self,hS=yv||dS||Function("return this")();const Ps=hS;var fS=Ps.Symbol;const ji=fS;var wv=Object.prototype,pS=wv.hasOwnProperty,mS=wv.toString,ga=ji?ji.toStringTag:void 0;function gS(t){var e=pS.call(t,ga),n=t[ga];try{t[ga]=void 0;var s=!0}catch{}var i=mS.call(t);return s&&(e?t[ga]=n:delete t[ga]),i}var _S=Object.prototype,vS=_S.toString;function bS(t){return vS.call(t)}var yS="[object Null]",wS="[object Undefined]",hg=ji?ji.toStringTag:void 0;function Xr(t){return t==null?t===void 0?wS:yS:hg&&hg in Object(t)?gS(t):bS(t)}function oi(t){return t!=null&&typeof t=="object"}var xS=Array.isArray;const Lo=xS;function Gi(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function xv(t){return t}var kS="[object AsyncFunction]",SS="[object Function]",$S="[object GeneratorFunction]",CS="[object Proxy]";function n1(t){if(!Gi(t))return!1;var e=Xr(t);return e==SS||e==$S||e==kS||e==CS}var AS=Ps["__core-js_shared__"];const xh=AS;var fg=function(){var t=/[^.]+$/.exec(xh&&xh.keys&&xh.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function MS(t){return!!fg&&fg in t}var ES=Function.prototype,TS=ES.toString;function qo(t){if(t!=null){try{return TS.call(t)}catch{}try{return t+""}catch{}}return""}var LS=/[\\^$.*+?()[\]{}|]/g,OS=/^\[object .+?Constructor\]$/,DS=Function.prototype,IS=Object.prototype,RS=DS.toString,PS=IS.hasOwnProperty,NS=RegExp("^"+RS.call(PS).replace(LS,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function VS(t){if(!Gi(t)||MS(t))return!1;var e=n1(t)?NS:OS;return e.test(qo(t))}function zS(t,e){return t==null?void 0:t[e]}function Wo(t,e){var n=zS(t,e);return VS(n)?n:void 0}var BS=Wo(Ps,"WeakMap");const wf=BS;var pg=Object.create,US=function(){function t(){}return function(e){if(!Gi(e))return{};if(pg)return pg(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const FS=US;function qS(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function kv(t,e){var n=-1,s=t.length;for(e||(e=Array(s));++n<s;)e[n]=t[n];return e}var WS=800,jS=16,HS=Date.now;function YS(t){var e=0,n=0;return function(){var s=HS(),i=jS-(s-n);if(n=s,i>0){if(++e>=WS)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function KS(t){return function(){return t}}var XS=function(){try{var t=Wo(Object,"defineProperty");return t({},"",{}),t}catch{}}();const bu=XS;var GS=bu?function(t,e){return bu(t,"toString",{configurable:!0,enumerable:!1,value:KS(e),writable:!0})}:xv;const JS=GS;var ZS=YS(JS);const QS=ZS;function e$(t,e){for(var n=-1,s=t==null?0:t.length;++n<s&&e(t[n],n,t)!==!1;);return t}var t$=9007199254740991,n$=/^(?:0|[1-9]\d*)$/;function Sv(t,e){var n=typeof t;return e=e??t$,!!e&&(n=="number"||n!="symbol"&&n$.test(t))&&t>-1&&t%1==0&&t<e}function s1(t,e,n){e=="__proto__"&&bu?bu(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Ol(t,e){return t===e||t!==t&&e!==e}var s$=Object.prototype,i$=s$.hasOwnProperty;function $v(t,e,n){var s=t[e];(!(i$.call(t,e)&&Ol(s,n))||n===void 0&&!(e in t))&&s1(t,e,n)}function Dl(t,e,n,s){var i=!n;n||(n={});for(var o=-1,r=e.length;++o<r;){var a=e[o],l=s?s(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?s1(n,a,l):$v(n,a,l)}return n}var mg=Math.max;function o$(t,e,n){return e=mg(e===void 0?t.length-1:e,0),function(){for(var s=arguments,i=-1,o=mg(s.length-e,0),r=Array(o);++i<o;)r[i]=s[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=s[i];return a[e]=n(r),qS(t,this,a)}}function r$(t,e){return QS(o$(t,e,xv),t+"")}var a$=9007199254740991;function Cv(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=a$}function td(t){return t!=null&&Cv(t.length)&&!n1(t)}function l$(t,e,n){if(!Gi(n))return!1;var s=typeof e;return(s=="number"?td(n)&&Sv(e,n.length):s=="string"&&e in n)?Ol(n[e],t):!1}function c$(t){return r$(function(e,n){var s=-1,i=n.length,o=i>1?n[i-1]:void 0,r=i>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,r&&l$(n[0],n[1],r)&&(o=i<3?void 0:o,i=1),e=Object(e);++s<i;){var a=n[s];a&&t(e,a,s,o)}return e})}var u$=Object.prototype;function i1(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||u$;return t===n}function d$(t,e){for(var n=-1,s=Array(t);++n<t;)s[n]=e(n);return s}var h$="[object Arguments]";function gg(t){return oi(t)&&Xr(t)==h$}var Av=Object.prototype,f$=Av.hasOwnProperty,p$=Av.propertyIsEnumerable,m$=gg(function(){return arguments}())?gg:function(t){return oi(t)&&f$.call(t,"callee")&&!p$.call(t,"callee")};const xf=m$;function g$(){return!1}var Mv=typeof exports=="object"&&exports&&!exports.nodeType&&exports,_g=Mv&&typeof module=="object"&&module&&!module.nodeType&&module,_$=_g&&_g.exports===Mv,vg=_$?Ps.Buffer:void 0,v$=vg?vg.isBuffer:void 0,b$=v$||g$;const cl=b$;var y$="[object Arguments]",w$="[object Array]",x$="[object Boolean]",k$="[object Date]",S$="[object Error]",$$="[object Function]",C$="[object Map]",A$="[object Number]",M$="[object Object]",E$="[object RegExp]",T$="[object Set]",L$="[object String]",O$="[object WeakMap]",D$="[object ArrayBuffer]",I$="[object DataView]",R$="[object Float32Array]",P$="[object Float64Array]",N$="[object Int8Array]",V$="[object Int16Array]",z$="[object Int32Array]",B$="[object Uint8Array]",U$="[object Uint8ClampedArray]",F$="[object Uint16Array]",q$="[object Uint32Array]",gt={};gt[R$]=gt[P$]=gt[N$]=gt[V$]=gt[z$]=gt[B$]=gt[U$]=gt[F$]=gt[q$]=!0;gt[y$]=gt[w$]=gt[D$]=gt[x$]=gt[I$]=gt[k$]=gt[S$]=gt[$$]=gt[C$]=gt[A$]=gt[M$]=gt[E$]=gt[T$]=gt[L$]=gt[O$]=!1;function W$(t){return oi(t)&&Cv(t.length)&&!!gt[Xr(t)]}function o1(t){return function(e){return t(e)}}var Ev=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ua=Ev&&typeof module=="object"&&module&&!module.nodeType&&module,j$=Ua&&Ua.exports===Ev,kh=j$&&yv.process,H$=function(){try{var t=Ua&&Ua.require&&Ua.require("util").types;return t||kh&&kh.binding&&kh.binding("util")}catch{}}();const Or=H$;var bg=Or&&Or.isTypedArray,Y$=bg?o1(bg):W$;const r1=Y$;var K$=Object.prototype,X$=K$.hasOwnProperty;function Tv(t,e){var n=Lo(t),s=!n&&xf(t),i=!n&&!s&&cl(t),o=!n&&!s&&!i&&r1(t),r=n||s||i||o,a=r?d$(t.length,String):[],l=a.length;for(var c in t)(e||X$.call(t,c))&&!(r&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Sv(c,l)))&&a.push(c);return a}function Lv(t,e){return function(n){return t(e(n))}}var G$=Lv(Object.keys,Object);const J$=G$;var Z$=Object.prototype,Q$=Z$.hasOwnProperty;function eC(t){if(!i1(t))return J$(t);var e=[];for(var n in Object(t))Q$.call(t,n)&&n!="constructor"&&e.push(n);return e}function a1(t){return td(t)?Tv(t):eC(t)}function tC(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var nC=Object.prototype,sC=nC.hasOwnProperty;function iC(t){if(!Gi(t))return tC(t);var e=i1(t),n=[];for(var s in t)s=="constructor"&&(e||!sC.call(t,s))||n.push(s);return n}function Il(t){return td(t)?Tv(t,!0):iC(t)}var oC=Wo(Object,"create");const ul=oC;function rC(){this.__data__=ul?ul(null):{},this.size=0}function aC(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var lC="__lodash_hash_undefined__",cC=Object.prototype,uC=cC.hasOwnProperty;function dC(t){var e=this.__data__;if(ul){var n=e[t];return n===lC?void 0:n}return uC.call(e,t)?e[t]:void 0}var hC=Object.prototype,fC=hC.hasOwnProperty;function pC(t){var e=this.__data__;return ul?e[t]!==void 0:fC.call(e,t)}var mC="__lodash_hash_undefined__";function gC(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ul&&e===void 0?mC:e,this}function Oo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var s=t[e];this.set(s[0],s[1])}}Oo.prototype.clear=rC;Oo.prototype.delete=aC;Oo.prototype.get=dC;Oo.prototype.has=pC;Oo.prototype.set=gC;function _C(){this.__data__=[],this.size=0}function nd(t,e){for(var n=t.length;n--;)if(Ol(t[n][0],e))return n;return-1}var vC=Array.prototype,bC=vC.splice;function yC(t){var e=this.__data__,n=nd(e,t);if(n<0)return!1;var s=e.length-1;return n==s?e.pop():bC.call(e,n,1),--this.size,!0}function wC(t){var e=this.__data__,n=nd(e,t);return n<0?void 0:e[n][1]}function xC(t){return nd(this.__data__,t)>-1}function kC(t,e){var n=this.__data__,s=nd(n,t);return s<0?(++this.size,n.push([t,e])):n[s][1]=e,this}function pi(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var s=t[e];this.set(s[0],s[1])}}pi.prototype.clear=_C;pi.prototype.delete=yC;pi.prototype.get=wC;pi.prototype.has=xC;pi.prototype.set=kC;var SC=Wo(Ps,"Map");const dl=SC;function $C(){this.size=0,this.__data__={hash:new Oo,map:new(dl||pi),string:new Oo}}function CC(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function sd(t,e){var n=t.__data__;return CC(e)?n[typeof e=="string"?"string":"hash"]:n.map}function AC(t){var e=sd(this,t).delete(t);return this.size-=e?1:0,e}function MC(t){return sd(this,t).get(t)}function EC(t){return sd(this,t).has(t)}function TC(t,e){var n=sd(this,t),s=n.size;return n.set(t,e),this.size+=n.size==s?0:1,this}function jo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var s=t[e];this.set(s[0],s[1])}}jo.prototype.clear=$C;jo.prototype.delete=AC;jo.prototype.get=MC;jo.prototype.has=EC;jo.prototype.set=TC;function Ov(t,e){for(var n=-1,s=e.length,i=t.length;++n<s;)t[i+n]=e[n];return t}var LC=Lv(Object.getPrototypeOf,Object);const l1=LC;var OC="[object Object]",DC=Function.prototype,IC=Object.prototype,Dv=DC.toString,RC=IC.hasOwnProperty,PC=Dv.call(Object);function NC(t){if(!oi(t)||Xr(t)!=OC)return!1;var e=l1(t);if(e===null)return!0;var n=RC.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Dv.call(n)==PC}function VC(){this.__data__=new pi,this.size=0}function zC(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function BC(t){return this.__data__.get(t)}function UC(t){return this.__data__.has(t)}var FC=200;function qC(t,e){var n=this.__data__;if(n instanceof pi){var s=n.__data__;if(!dl||s.length<FC-1)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new jo(s)}return n.set(t,e),this.size=n.size,this}function As(t){var e=this.__data__=new pi(t);this.size=e.size}As.prototype.clear=VC;As.prototype.delete=zC;As.prototype.get=BC;As.prototype.has=UC;As.prototype.set=qC;function WC(t,e){return t&&Dl(e,a1(e),t)}function jC(t,e){return t&&Dl(e,Il(e),t)}var Iv=typeof exports=="object"&&exports&&!exports.nodeType&&exports,yg=Iv&&typeof module=="object"&&module&&!module.nodeType&&module,HC=yg&&yg.exports===Iv,wg=HC?Ps.Buffer:void 0,xg=wg?wg.allocUnsafe:void 0;function Rv(t,e){if(e)return t.slice();var n=t.length,s=xg?xg(n):new t.constructor(n);return t.copy(s),s}function YC(t,e){for(var n=-1,s=t==null?0:t.length,i=0,o=[];++n<s;){var r=t[n];e(r,n,t)&&(o[i++]=r)}return o}function Pv(){return[]}var KC=Object.prototype,XC=KC.propertyIsEnumerable,kg=Object.getOwnPropertySymbols,GC=kg?function(t){return t==null?[]:(t=Object(t),YC(kg(t),function(e){return XC.call(t,e)}))}:Pv;const c1=GC;function JC(t,e){return Dl(t,c1(t),e)}var ZC=Object.getOwnPropertySymbols,QC=ZC?function(t){for(var e=[];t;)Ov(e,c1(t)),t=l1(t);return e}:Pv;const Nv=QC;function eA(t,e){return Dl(t,Nv(t),e)}function Vv(t,e,n){var s=e(t);return Lo(t)?s:Ov(s,n(t))}function kf(t){return Vv(t,a1,c1)}function tA(t){return Vv(t,Il,Nv)}var nA=Wo(Ps,"DataView");const Sf=nA;var sA=Wo(Ps,"Promise");const $f=sA;var iA=Wo(Ps,"Set");const Cf=iA;var Sg="[object Map]",oA="[object Object]",$g="[object Promise]",Cg="[object Set]",Ag="[object WeakMap]",Mg="[object DataView]",rA=qo(Sf),aA=qo(dl),lA=qo($f),cA=qo(Cf),uA=qo(wf),go=Xr;(Sf&&go(new Sf(new ArrayBuffer(1)))!=Mg||dl&&go(new dl)!=Sg||$f&&go($f.resolve())!=$g||Cf&&go(new Cf)!=Cg||wf&&go(new wf)!=Ag)&&(go=function(t){var e=Xr(t),n=e==oA?t.constructor:void 0,s=n?qo(n):"";if(s)switch(s){case rA:return Mg;case aA:return Sg;case lA:return $g;case cA:return Cg;case uA:return Ag}return e});const hl=go;var dA=Object.prototype,hA=dA.hasOwnProperty;function fA(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&hA.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var pA=Ps.Uint8Array;const yu=pA;function u1(t){var e=new t.constructor(t.byteLength);return new yu(e).set(new yu(t)),e}function mA(t,e){var n=e?u1(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var gA=/\w*$/;function _A(t){var e=new t.constructor(t.source,gA.exec(t));return e.lastIndex=t.lastIndex,e}var Eg=ji?ji.prototype:void 0,Tg=Eg?Eg.valueOf:void 0;function vA(t){return Tg?Object(Tg.call(t)):{}}function zv(t,e){var n=e?u1(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var bA="[object Boolean]",yA="[object Date]",wA="[object Map]",xA="[object Number]",kA="[object RegExp]",SA="[object Set]",$A="[object String]",CA="[object Symbol]",AA="[object ArrayBuffer]",MA="[object DataView]",EA="[object Float32Array]",TA="[object Float64Array]",LA="[object Int8Array]",OA="[object Int16Array]",DA="[object Int32Array]",IA="[object Uint8Array]",RA="[object Uint8ClampedArray]",PA="[object Uint16Array]",NA="[object Uint32Array]";function VA(t,e,n){var s=t.constructor;switch(e){case AA:return u1(t);case bA:case yA:return new s(+t);case MA:return mA(t,n);case EA:case TA:case LA:case OA:case DA:case IA:case RA:case PA:case NA:return zv(t,n);case wA:return new s;case xA:case $A:return new s(t);case kA:return _A(t);case SA:return new s;case CA:return vA(t)}}function Bv(t){return typeof t.constructor=="function"&&!i1(t)?FS(l1(t)):{}}var zA="[object Map]";function BA(t){return oi(t)&&hl(t)==zA}var Lg=Or&&Or.isMap,UA=Lg?o1(Lg):BA;const FA=UA;var qA="[object Set]";function WA(t){return oi(t)&&hl(t)==qA}var Og=Or&&Or.isSet,jA=Og?o1(Og):WA;const HA=jA;var YA=1,KA=2,XA=4,Uv="[object Arguments]",GA="[object Array]",JA="[object Boolean]",ZA="[object Date]",QA="[object Error]",Fv="[object Function]",eM="[object GeneratorFunction]",tM="[object Map]",nM="[object Number]",qv="[object Object]",sM="[object RegExp]",iM="[object Set]",oM="[object String]",rM="[object Symbol]",aM="[object WeakMap]",lM="[object ArrayBuffer]",cM="[object DataView]",uM="[object Float32Array]",dM="[object Float64Array]",hM="[object Int8Array]",fM="[object Int16Array]",pM="[object Int32Array]",mM="[object Uint8Array]",gM="[object Uint8ClampedArray]",_M="[object Uint16Array]",vM="[object Uint32Array]",pt={};pt[Uv]=pt[GA]=pt[lM]=pt[cM]=pt[JA]=pt[ZA]=pt[uM]=pt[dM]=pt[hM]=pt[fM]=pt[pM]=pt[tM]=pt[nM]=pt[qv]=pt[sM]=pt[iM]=pt[oM]=pt[rM]=pt[mM]=pt[gM]=pt[_M]=pt[vM]=!0;pt[QA]=pt[Fv]=pt[aM]=!1;function Kc(t,e,n,s,i,o){var r,a=e&YA,l=e&KA,c=e&XA;if(n&&(r=i?n(t,s,i,o):n(t)),r!==void 0)return r;if(!Gi(t))return t;var u=Lo(t);if(u){if(r=fA(t),!a)return kv(t,r)}else{var d=hl(t),h=d==Fv||d==eM;if(cl(t))return Rv(t,a);if(d==qv||d==Uv||h&&!i){if(r=l||h?{}:Bv(t),!a)return l?eA(t,jC(r,t)):JC(t,WC(r,t))}else{if(!pt[d])return i?t:{};r=VA(t,d,a)}}o||(o=new As);var f=o.get(t);if(f)return f;o.set(t,r),HA(t)?t.forEach(function(_){r.add(Kc(_,e,n,_,t,o))}):FA(t)&&t.forEach(function(_,b){r.set(b,Kc(_,e,n,b,t,o))});var p=c?l?tA:kf:l?Il:a1,g=u?void 0:p(t);return e$(g||t,function(_,b){g&&(b=_,_=t[b]),$v(r,b,Kc(_,e,n,b,t,o))}),r}var bM=1,yM=4;function Co(t){return Kc(t,bM|yM)}var wM="__lodash_hash_undefined__";function xM(t){return this.__data__.set(t,wM),this}function kM(t){return this.__data__.has(t)}function wu(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new jo;++e<n;)this.add(t[e])}wu.prototype.add=wu.prototype.push=xM;wu.prototype.has=kM;function SM(t,e){for(var n=-1,s=t==null?0:t.length;++n<s;)if(e(t[n],n,t))return!0;return!1}function $M(t,e){return t.has(e)}var CM=1,AM=2;function Wv(t,e,n,s,i,o){var r=n&CM,a=t.length,l=e.length;if(a!=l&&!(r&&l>a))return!1;var c=o.get(t),u=o.get(e);if(c&&u)return c==e&&u==t;var d=-1,h=!0,f=n&AM?new wu:void 0;for(o.set(t,e),o.set(e,t);++d<a;){var p=t[d],g=e[d];if(s)var _=r?s(g,p,d,e,t,o):s(p,g,d,t,e,o);if(_!==void 0){if(_)continue;h=!1;break}if(f){if(!SM(e,function(b,x){if(!$M(f,x)&&(p===b||i(p,b,n,s,o)))return f.push(x)})){h=!1;break}}else if(!(p===g||i(p,g,n,s,o))){h=!1;break}}return o.delete(t),o.delete(e),h}function MM(t){var e=-1,n=Array(t.size);return t.forEach(function(s,i){n[++e]=[i,s]}),n}function EM(t){var e=-1,n=Array(t.size);return t.forEach(function(s){n[++e]=s}),n}var TM=1,LM=2,OM="[object Boolean]",DM="[object Date]",IM="[object Error]",RM="[object Map]",PM="[object Number]",NM="[object RegExp]",VM="[object Set]",zM="[object String]",BM="[object Symbol]",UM="[object ArrayBuffer]",FM="[object DataView]",Dg=ji?ji.prototype:void 0,Sh=Dg?Dg.valueOf:void 0;function qM(t,e,n,s,i,o,r){switch(n){case FM:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case UM:return!(t.byteLength!=e.byteLength||!o(new yu(t),new yu(e)));case OM:case DM:case PM:return Ol(+t,+e);case IM:return t.name==e.name&&t.message==e.message;case NM:case zM:return t==e+"";case RM:var a=MM;case VM:var l=s&TM;if(a||(a=EM),t.size!=e.size&&!l)return!1;var c=r.get(t);if(c)return c==e;s|=LM,r.set(t,e);var u=Wv(a(t),a(e),s,i,o,r);return r.delete(t),u;case BM:if(Sh)return Sh.call(t)==Sh.call(e)}return!1}var WM=1,jM=Object.prototype,HM=jM.hasOwnProperty;function YM(t,e,n,s,i,o){var r=n&WM,a=kf(t),l=a.length,c=kf(e),u=c.length;if(l!=u&&!r)return!1;for(var d=l;d--;){var h=a[d];if(!(r?h in e:HM.call(e,h)))return!1}var f=o.get(t),p=o.get(e);if(f&&p)return f==e&&p==t;var g=!0;o.set(t,e),o.set(e,t);for(var _=r;++d<l;){h=a[d];var b=t[h],x=e[h];if(s)var $=r?s(x,b,h,e,t,o):s(b,x,h,t,e,o);if(!($===void 0?b===x||i(b,x,n,s,o):$)){g=!1;break}_||(_=h=="constructor")}if(g&&!_){var S=t.constructor,C=e.constructor;S!=C&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof C=="function"&&C instanceof C)&&(g=!1)}return o.delete(t),o.delete(e),g}var KM=1,Ig="[object Arguments]",Rg="[object Array]",pc="[object Object]",XM=Object.prototype,Pg=XM.hasOwnProperty;function GM(t,e,n,s,i,o){var r=Lo(t),a=Lo(e),l=r?Rg:hl(t),c=a?Rg:hl(e);l=l==Ig?pc:l,c=c==Ig?pc:c;var u=l==pc,d=c==pc,h=l==c;if(h&&cl(t)){if(!cl(e))return!1;r=!0,u=!1}if(h&&!u)return o||(o=new As),r||r1(t)?Wv(t,e,n,s,i,o):qM(t,e,l,n,s,i,o);if(!(n&KM)){var f=u&&Pg.call(t,"__wrapped__"),p=d&&Pg.call(e,"__wrapped__");if(f||p){var g=f?t.value():t,_=p?e.value():e;return o||(o=new As),i(g,_,n,s,o)}}return h?(o||(o=new As),YM(t,e,n,s,i,o)):!1}function jv(t,e,n,s,i){return t===e?!0:t==null||e==null||!oi(t)&&!oi(e)?t!==t&&e!==e:GM(t,e,n,s,jv,i)}function JM(t){return function(e,n,s){for(var i=-1,o=Object(e),r=s(e),a=r.length;a--;){var l=r[t?a:++i];if(n(o[l],l,o)===!1)break}return e}}var ZM=JM();const QM=ZM;function Af(t,e,n){(n!==void 0&&!Ol(t[e],n)||n===void 0&&!(e in t))&&s1(t,e,n)}function eE(t){return oi(t)&&td(t)}function Mf(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function tE(t){return Dl(t,Il(t))}function nE(t,e,n,s,i,o,r){var a=Mf(t,n),l=Mf(e,n),c=r.get(l);if(c){Af(t,n,c);return}var u=o?o(a,l,n+"",t,e,r):void 0,d=u===void 0;if(d){var h=Lo(l),f=!h&&cl(l),p=!h&&!f&&r1(l);u=l,h||f||p?Lo(a)?u=a:eE(a)?u=kv(a):f?(d=!1,u=Rv(l,!0)):p?(d=!1,u=zv(l,!0)):u=[]:NC(l)||xf(l)?(u=a,xf(a)?u=tE(a):(!Gi(a)||n1(a))&&(u=Bv(l))):d=!1}d&&(r.set(l,u),i(u,l,s,o,r),r.delete(l)),Af(t,n,u)}function Hv(t,e,n,s,i){t!==e&&QM(e,function(o,r){if(i||(i=new As),Gi(o))nE(t,e,r,n,Hv,s,i);else{var a=s?s(Mf(t,r),o,r+"",t,e,i):void 0;a===void 0&&(a=o),Af(t,r,a)}},Il)}function d1(t,e){return jv(t,e)}var sE=c$(function(t,e,n){Hv(t,e,n)});const Bi=sE;var ke=(t=>(t[t.TYPE=3]="TYPE",t[t.LEVEL=12]="LEVEL",t[t.ATTRIBUTE=13]="ATTRIBUTE",t[t.BLOT=14]="BLOT",t[t.INLINE=7]="INLINE",t[t.BLOCK=11]="BLOCK",t[t.BLOCK_BLOT=10]="BLOCK_BLOT",t[t.INLINE_BLOT=6]="INLINE_BLOT",t[t.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",t[t.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",t[t.ANY=15]="ANY",t))(ke||{});let Os=class{constructor(e,n,s={}){this.attrName=e,this.keyName=n;const i=ke.TYPE&ke.ATTRIBUTE;this.scope=s.scope!=null?s.scope&ke.LEVEL|i:ke.ATTRIBUTE,s.whitelist!=null&&(this.whitelist=s.whitelist)}static keys(e){return Array.from(e.attributes).map(n=>n.name)}add(e,n){return this.canAdd(e,n)?(e.setAttribute(this.keyName,n),!0):!1}canAdd(e,n){return this.whitelist==null?!0:typeof n=="string"?this.whitelist.indexOf(n.replace(/["']/g,""))>-1:this.whitelist.indexOf(n)>-1}remove(e){e.removeAttribute(this.keyName)}value(e){const n=e.getAttribute(this.keyName);return this.canAdd(e,n)&&n?n:""}},xr=class extends Error{constructor(e){e="[Parchment] "+e,super(e),this.message=e,this.name=this.constructor.name}};const Yv=class Ef{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(e,n=!1){if(e==null)return null;if(this.blots.has(e))return this.blots.get(e)||null;if(n){let s=null;try{s=e.parentNode}catch{return null}return this.find(s,n)}return null}create(e,n,s){const i=this.query(n);if(i==null)throw new xr(`Unable to create ${n} blot`);const o=i,r=n instanceof Node||n.nodeType===Node.TEXT_NODE?n:o.create(s),a=new o(e,r,s);return Ef.blots.set(a.domNode,a),a}find(e,n=!1){return Ef.find(e,n)}query(e,n=ke.ANY){let s;return typeof e=="string"?s=this.types[e]||this.attributes[e]:e instanceof Text||e.nodeType===Node.TEXT_NODE?s=this.types.text:typeof e=="number"?e&ke.LEVEL&ke.BLOCK?s=this.types.block:e&ke.LEVEL&ke.INLINE&&(s=this.types.inline):e instanceof Element&&((e.getAttribute("class")||"").split(/\s+/).some(i=>(s=this.classes[i],!!s)),s=s||this.tags[e.tagName]),s==null?null:"scope"in s&&n&ke.LEVEL&s.scope&&n&ke.TYPE&s.scope?s:null}register(...e){return e.map(n=>{const s="blotName"in n,i="attrName"in n;if(!s&&!i)throw new xr("Invalid definition");if(s&&n.blotName==="abstract")throw new xr("Cannot register abstract class");const o=s?n.blotName:i?n.attrName:void 0;return this.types[o]=n,i?typeof n.keyName=="string"&&(this.attributes[n.keyName]=n):s&&(n.className&&(this.classes[n.className]=n),n.tagName&&(Array.isArray(n.tagName)?n.tagName=n.tagName.map(r=>r.toUpperCase()):n.tagName=n.tagName.toUpperCase(),(Array.isArray(n.tagName)?n.tagName:[n.tagName]).forEach(r=>{(this.tags[r]==null||n.className==null)&&(this.tags[r]=n)}))),n})}};Yv.blots=new WeakMap;let fl=Yv;function Ng(t,e){return(t.getAttribute("class")||"").split(/\s+/).filter(n=>n.indexOf(`${e}-`)===0)}let cs=class extends Os{static keys(e){return(e.getAttribute("class")||"").split(/\s+/).map(n=>n.split("-").slice(0,-1).join("-"))}add(e,n){return this.canAdd(e,n)?(this.remove(e),e.classList.add(`${this.keyName}-${n}`),!0):!1}remove(e){Ng(e,this.keyName).forEach(n=>{e.classList.remove(n)}),e.classList.length===0&&e.removeAttribute("class")}value(e){const n=(Ng(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,n)?n:""}};function $h(t){const e=t.split("-"),n=e.slice(1).map(s=>s[0].toUpperCase()+s.slice(1)).join("");return e[0]+n}let Ji=class extends Os{static keys(e){return(e.getAttribute("style")||"").split(";").map(n=>n.split(":")[0].trim())}add(e,n){return this.canAdd(e,n)?(e.style[$h(this.keyName)]=n,!0):!1}remove(e){e.style[$h(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")}value(e){const n=e.style[$h(this.keyName)];return this.canAdd(e,n)?n:""}},id=class{constructor(e){this.attributes={},this.domNode=e,this.build()}attribute(e,n){n?e.add(this.domNode,n)&&(e.value(this.domNode)!=null?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])}build(){this.attributes={};const e=fl.find(this.domNode);if(e==null)return;const n=Os.keys(this.domNode),s=cs.keys(this.domNode),i=Ji.keys(this.domNode);n.concat(s).concat(i).forEach(o=>{const r=e.scroll.query(o,ke.ATTRIBUTE);r instanceof Os&&(this.attributes[r.attrName]=r)})}copy(e){Object.keys(this.attributes).forEach(n=>{const s=this.attributes[n].value(this.domNode);e.format(n,s)})}move(e){this.copy(e),Object.keys(this.attributes).forEach(n=>{this.attributes[n].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((e,n)=>(e[n]=this.attributes[n].value(this.domNode),e),{})}};const Kv=class{constructor(e,n){this.scroll=e,this.domNode=n,fl.blots.set(n,this),this.prev=null,this.next=null}static create(e){if(this.tagName==null)throw new xr("Blot definition missing tagName");let n,s;return Array.isArray(this.tagName)?(typeof e=="string"?(s=e.toUpperCase(),parseInt(s,10).toString()===s&&(s=parseInt(s,10))):typeof e=="number"&&(s=e),typeof s=="number"?n=document.createElement(this.tagName[s-1]):s&&this.tagName.indexOf(s)>-1?n=document.createElement(s):n=document.createElement(this.tagName[0])):n=document.createElement(this.tagName),this.className&&n.classList.add(this.className),n}get statics(){return this.constructor}attach(){}clone(){const e=this.domNode.cloneNode(!1);return this.scroll.create(e)}detach(){this.parent!=null&&this.parent.removeChild(this),fl.blots.delete(this.domNode)}deleteAt(e,n){this.isolate(e,n).remove()}formatAt(e,n,s,i){const o=this.isolate(e,n);if(this.scroll.query(s,ke.BLOT)!=null&&i)o.wrap(s,i);else if(this.scroll.query(s,ke.ATTRIBUTE)!=null){const r=this.scroll.create(this.statics.scope);o.wrap(r),r.format(s,i)}}insertAt(e,n,s){const i=s==null?this.scroll.create("text",n):this.scroll.create(n,s),o=this.split(e);this.parent.insertBefore(i,o||void 0)}isolate(e,n){const s=this.split(e);if(s==null)throw new Error("Attempt to isolate at end");return s.split(n),s}length(){return 1}offset(e=this.parent){return this.parent==null||this===e?0:this.parent.children.offset(this)+this.parent.offset(e)}optimize(e){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(e,n){const s=typeof e=="string"?this.scroll.create(e,n):e;return this.parent!=null&&(this.parent.insertBefore(s,this.next||void 0),this.remove()),s}split(e,n){return e===0?this:this.next}update(e,n){}wrap(e,n){const s=typeof e=="string"?this.scroll.create(e,n):e;if(this.parent!=null&&this.parent.insertBefore(s,this.next||void 0),typeof s.appendChild!="function")throw new xr(`Cannot wrap ${e}`);return s.appendChild(this),s}};Kv.blotName="abstract";let Xv=Kv;const Gv=class extends Xv{static value(e){return!0}index(e,n){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(n,1):-1}position(e,n){let s=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return e>0&&(s+=1),[this.parent.domNode,s]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};Gv.scope=ke.INLINE_BLOT;let sn=Gv,iE=class{constructor(){this.head=null,this.tail=null,this.length=0}append(...e){if(this.insertBefore(e[0],null),e.length>1){const n=e.slice(1);this.append(...n)}}at(e){const n=this.iterator();let s=n();for(;s&&e>0;)e-=1,s=n();return s}contains(e){const n=this.iterator();let s=n();for(;s;){if(s===e)return!0;s=n()}return!1}indexOf(e){const n=this.iterator();let s=n(),i=0;for(;s;){if(s===e)return i;i+=1,s=n()}return-1}insertBefore(e,n){e!=null&&(this.remove(e),e.next=n,n!=null?(e.prev=n.prev,n.prev!=null&&(n.prev.next=e),n.prev=e,n===this.head&&(this.head=e)):this.tail!=null?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)}offset(e){let n=0,s=this.head;for(;s!=null;){if(s===e)return n;n+=s.length(),s=s.next}return-1}remove(e){this.contains(e)&&(e.prev!=null&&(e.prev.next=e.next),e.next!=null&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)}iterator(e=this.head){return()=>{const n=e;return e!=null&&(e=e.next),n}}find(e,n=!1){const s=this.iterator();let i=s();for(;i;){const o=i.length();if(e<o||n&&e===o&&(i.next==null||i.next.length()!==0))return[i,e];e-=o,i=s()}return[null,0]}forEach(e){const n=this.iterator();let s=n();for(;s;)e(s),s=n()}forEachAt(e,n,s){if(n<=0)return;const[i,o]=this.find(e);let r=e-o;const a=this.iterator(i);let l=a();for(;l&&r<e+n;){const c=l.length();e>r?s(l,e-r,Math.min(n,r+c-e)):s(l,0,Math.min(c,e+n-r)),r+=c,l=a()}}map(e){return this.reduce((n,s)=>(n.push(e(s)),n),[])}reduce(e,n){const s=this.iterator();let i=s();for(;i;)n=e(n,i),i=s();return n}};function Vg(t,e){const n=e.find(t);if(n)return n;try{return e.create(t)}catch{const s=e.create(ke.INLINE);return Array.from(t.childNodes).forEach(i=>{s.domNode.appendChild(i)}),t.parentNode&&t.parentNode.replaceChild(s.domNode,t),s.attach(),s}}const Jv=class $i extends Xv{constructor(e,n){super(e,n),this.uiNode=null,this.build()}appendChild(e){this.insertBefore(e)}attach(){super.attach(),this.children.forEach(e=>{e.attach()})}attachUI(e){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=e,$i.uiClass&&this.uiNode.classList.add($i.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new iE,Array.from(this.domNode.childNodes).filter(e=>e!==this.uiNode).reverse().forEach(e=>{try{const n=Vg(e,this.scroll);this.insertBefore(n,this.children.head||void 0)}catch(n){if(n instanceof xr)return;throw n}})}deleteAt(e,n){if(e===0&&n===this.length())return this.remove();this.children.forEachAt(e,n,(s,i,o)=>{s.deleteAt(i,o)})}descendant(e,n=0){const[s,i]=this.children.find(n);return e.blotName==null&&e(s)||e.blotName!=null&&s instanceof e?[s,i]:s instanceof $i?s.descendant(e,i):[null,-1]}descendants(e,n=0,s=Number.MAX_VALUE){let i=[],o=s;return this.children.forEachAt(n,s,(r,a,l)=>{(e.blotName==null&&e(r)||e.blotName!=null&&r instanceof e)&&i.push(r),r instanceof $i&&(i=i.concat(r.descendants(e,a,o))),o-=l}),i}detach(){this.children.forEach(e=>{e.detach()}),super.detach()}enforceAllowedChildren(){let e=!1;this.children.forEach(n=>{e||this.statics.allowedChildren.some(s=>n instanceof s)||(n.statics.scope===ke.BLOCK_BLOT?(n.next!=null&&this.splitAfter(n),n.prev!=null&&this.splitAfter(n.prev),n.parent.unwrap(),e=!0):n instanceof $i?n.unwrap():n.remove())})}formatAt(e,n,s,i){this.children.forEachAt(e,n,(o,r,a)=>{o.formatAt(r,a,s,i)})}insertAt(e,n,s){const[i,o]=this.children.find(e);if(i)i.insertAt(o,n,s);else{const r=s==null?this.scroll.create("text",n):this.scroll.create(n,s);this.appendChild(r)}}insertBefore(e,n){e.parent!=null&&e.parent.children.remove(e);let s=null;this.children.insertBefore(e,n||null),e.parent=this,n!=null&&(s=n.domNode),(this.domNode.parentNode!==e.domNode||this.domNode.nextSibling!==s)&&this.domNode.insertBefore(e.domNode,s),e.attach()}length(){return this.children.reduce((e,n)=>e+n.length(),0)}moveChildren(e,n){this.children.forEach(s=>{e.insertBefore(s,n)})}optimize(e){if(super.optimize(e),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const n=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(n)}else this.remove()}path(e,n=!1){const[s,i]=this.children.find(e,n),o=[[this,e]];return s instanceof $i?o.concat(s.path(i,n)):(s!=null&&o.push([s,i]),o)}removeChild(e){this.children.remove(e)}replaceWith(e,n){const s=typeof e=="string"?this.scroll.create(e,n):e;return s instanceof $i&&this.moveChildren(s),super.replaceWith(s)}split(e,n=!1){if(!n){if(e===0)return this;if(e===this.length())return this.next}const s=this.clone();return this.parent&&this.parent.insertBefore(s,this.next||void 0),this.children.forEachAt(e,this.length(),(i,o,r)=>{const a=i.split(o,n);a!=null&&s.appendChild(a)}),s}splitAfter(e){const n=this.clone();for(;e.next!=null;)n.appendChild(e.next);return this.parent&&this.parent.insertBefore(n,this.next||void 0),n}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(e,n){const s=[],i=[];e.forEach(o=>{o.target===this.domNode&&o.type==="childList"&&(s.push(...o.addedNodes),i.push(...o.removedNodes))}),i.forEach(o=>{if(o.parentNode!=null&&o.tagName!=="IFRAME"&&document.body.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const r=this.scroll.find(o);r!=null&&(r.domNode.parentNode==null||r.domNode.parentNode===this.domNode)&&r.detach()}),s.filter(o=>o.parentNode===this.domNode&&o!==this.uiNode).sort((o,r)=>o===r?0:o.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(o=>{let r=null;o.nextSibling!=null&&(r=this.scroll.find(o.nextSibling));const a=Vg(o,this.scroll);(a.next!==r||a.next==null)&&(a.parent!=null&&a.parent.removeChild(this),this.insertBefore(a,r||void 0))}),this.enforceAllowedChildren()}};Jv.uiClass="";let ss=Jv;function oE(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}const ur=class dr extends ss{constructor(e,n){super(e,n),this.attributes=new id(this.domNode)}static create(e){return super.create(e)}static formats(e,n){const s=n.query(dr.blotName);if(!(s!=null&&e.tagName===s.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}format(e,n){if(e===this.statics.blotName&&!n)this.children.forEach(s=>{s instanceof dr||(s=s.wrap(dr.blotName,!0)),this.attributes.copy(s)}),this.unwrap();else{const s=this.scroll.query(e,ke.INLINE);if(s==null)return;s instanceof Os?this.attributes.attribute(s,n):n&&(e!==this.statics.blotName||this.formats()[e]!==n)&&this.replaceWith(e,n)}}formats(){const e=this.attributes.values(),n=this.statics.formats(this.domNode,this.scroll);return n!=null&&(e[this.statics.blotName]=n),e}formatAt(e,n,s,i){this.formats()[s]!=null||this.scroll.query(s,ke.ATTRIBUTE)?this.isolate(e,n).format(s,i):super.formatAt(e,n,s,i)}optimize(e){super.optimize(e);const n=this.formats();if(Object.keys(n).length===0)return this.unwrap();const s=this.next;s instanceof dr&&s.prev===this&&oE(n,s.formats())&&(s.moveChildren(this),s.remove())}replaceWith(e,n){const s=super.replaceWith(e,n);return this.attributes.copy(s),s}update(e,n){super.update(e,n),e.some(s=>s.target===this.domNode&&s.type==="attributes")&&this.attributes.build()}wrap(e,n){const s=super.wrap(e,n);return s instanceof dr&&this.attributes.move(s),s}};ur.allowedChildren=[ur,sn],ur.blotName="inline",ur.scope=ke.INLINE_BLOT,ur.tagName="SPAN";let h1=ur;const hr=class Tf extends ss{constructor(e,n){super(e,n),this.attributes=new id(this.domNode)}static create(e){return super.create(e)}static formats(e,n){const s=n.query(Tf.blotName);if(!(s!=null&&e.tagName===s.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}format(e,n){const s=this.scroll.query(e,ke.BLOCK);s!=null&&(s instanceof Os?this.attributes.attribute(s,n):e===this.statics.blotName&&!n?this.replaceWith(Tf.blotName):n&&(e!==this.statics.blotName||this.formats()[e]!==n)&&this.replaceWith(e,n))}formats(){const e=this.attributes.values(),n=this.statics.formats(this.domNode,this.scroll);return n!=null&&(e[this.statics.blotName]=n),e}formatAt(e,n,s,i){this.scroll.query(s,ke.BLOCK)!=null?this.format(s,i):super.formatAt(e,n,s,i)}insertAt(e,n,s){if(s==null||this.scroll.query(n,ke.INLINE)!=null)super.insertAt(e,n,s);else{const i=this.split(e);if(i!=null){const o=this.scroll.create(n,s);i.parent.insertBefore(o,i)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(e,n){const s=super.replaceWith(e,n);return this.attributes.copy(s),s}update(e,n){super.update(e,n),e.some(s=>s.target===this.domNode&&s.type==="attributes")&&this.attributes.build()}};hr.blotName="block",hr.scope=ke.BLOCK_BLOT,hr.tagName="P",hr.allowedChildren=[h1,hr,sn];let pl=hr;const Lf=class extends ss{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(e,n){super.deleteAt(e,n),this.enforceAllowedChildren()}formatAt(e,n,s,i){super.formatAt(e,n,s,i),this.enforceAllowedChildren()}insertAt(e,n,s){super.insertAt(e,n,s),this.enforceAllowedChildren()}optimize(e){super.optimize(e),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};Lf.blotName="container",Lf.scope=ke.BLOCK_BLOT;let od=Lf,Dn=class extends sn{static formats(e,n){}format(e,n){super.formatAt(0,this.length(),e,n)}formatAt(e,n,s,i){e===0&&n===this.length()?this.format(s,i):super.formatAt(e,n,s,i)}formats(){return this.statics.formats(this.domNode,this.scroll)}};const rE={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},aE=100,fr=class extends ss{constructor(e,n){super(null,n),this.registry=e,this.scroll=this,this.build(),this.observer=new MutationObserver(s=>{this.update(s)}),this.observer.observe(this.domNode,rE),this.attach()}create(e,n){return this.registry.create(this,e,n)}find(e,n=!1){const s=this.registry.find(e,n);return s?s.scroll===this?s:n?this.find(s.scroll.domNode.parentNode,!0):null:null}query(e,n=ke.ANY){return this.registry.query(e,n)}register(...e){return this.registry.register(...e)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(e,n){this.update(),e===0&&n===this.length()?this.children.forEach(s=>{s.remove()}):super.deleteAt(e,n)}formatAt(e,n,s,i){this.update(),super.formatAt(e,n,s,i)}insertAt(e,n,s){this.update(),super.insertAt(e,n,s)}optimize(e=[],n={}){super.optimize(n);const s=n.mutationsMap||new WeakMap;let i=Array.from(this.observer.takeRecords());for(;i.length>0;)e.push(i.pop());const o=(l,c=!0)=>{l==null||l===this||l.domNode.parentNode!=null&&(s.has(l.domNode)||s.set(l.domNode,[]),c&&o(l.parent))},r=l=>{s.has(l.domNode)&&(l instanceof ss&&l.children.forEach(r),s.delete(l.domNode),l.optimize(n))};let a=e;for(let l=0;a.length>0;l+=1){if(l>=aE)throw new Error("[Parchment] Maximum optimize iterations reached");for(a.forEach(c=>{const u=this.find(c.target,!0);u!=null&&(u.domNode===c.target&&(c.type==="childList"?(o(this.find(c.previousSibling,!1)),Array.from(c.addedNodes).forEach(d=>{const h=this.find(d,!1);o(h,!1),h instanceof ss&&h.children.forEach(f=>{o(f,!1)})})):c.type==="attributes"&&o(u.prev)),o(u))}),this.children.forEach(r),a=Array.from(this.observer.takeRecords()),i=a.slice();i.length>0;)e.push(i.pop())}}update(e,n={}){e=e||this.observer.takeRecords();const s=new WeakMap;e.map(i=>{const o=this.find(i.target,!0);return o==null?null:s.has(o.domNode)?(s.get(o.domNode).push(i),null):(s.set(o.domNode,[i]),o)}).forEach(i=>{i!=null&&i!==this&&s.has(i.domNode)&&i.update(s.get(i.domNode)||[],n)}),n.mutationsMap=s,s.has(this.domNode)&&super.update(s.get(this.domNode),n),this.optimize(e,n)}};fr.blotName="scroll",fr.defaultChild=pl,fr.allowedChildren=[pl,od],fr.scope=ke.BLOCK_BLOT,fr.tagName="DIV";let f1=fr;const Of=class Zv extends sn{constructor(e,n){super(e,n),this.text=this.statics.value(this.domNode)}static create(e){return document.createTextNode(e)}static value(e){return e.data}deleteAt(e,n){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+n)}index(e,n){return this.domNode===e?n:-1}insertAt(e,n,s){s==null?(this.text=this.text.slice(0,e)+n+this.text.slice(e),this.domNode.data=this.text):super.insertAt(e,n,s)}length(){return this.text.length}optimize(e){super.optimize(e),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof Zv&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(e,n=!1){return[this.domNode,e]}split(e,n=!1){if(!n){if(e===0)return this;if(e===this.length())return this.next}const s=this.scroll.create(this.domNode.splitText(e));return this.parent.insertBefore(s,this.next||void 0),this.text=this.statics.value(this.domNode),s}update(e,n){e.some(s=>s.type==="characterData"&&s.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};Of.blotName="text",Of.scope=ke.INLINE_BLOT;let xu=Of;const lE=Object.freeze(Object.defineProperty({__proto__:null,Attributor:Os,AttributorStore:id,BlockBlot:pl,ClassAttributor:cs,ContainerBlot:od,EmbedBlot:Dn,InlineBlot:h1,LeafBlot:sn,ParentBlot:ss,Registry:fl,Scope:ke,ScrollBlot:f1,StyleAttributor:Ji,TextBlot:xu},Symbol.toStringTag,{value:"Module"}));var Ti=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Df={exports:{}},Ln=-1,fn=1,Pt=0;function ml(t,e,n,s,i){if(t===e)return t?[[Pt,t]]:[];if(n!=null){var o=_E(t,e,n);if(o)return o}var r=p1(t,e),a=t.substring(0,r);t=t.substring(r),e=e.substring(r),r=rd(t,e);var l=t.substring(t.length-r);t=t.substring(0,t.length-r),e=e.substring(0,e.length-r);var c=cE(t,e);return a&&c.unshift([Pt,a]),l&&c.push([Pt,l]),m1(c,i),s&&hE(c),c}function cE(t,e){var n;if(!t)return[[fn,e]];if(!e)return[[Ln,t]];var s=t.length>e.length?t:e,i=t.length>e.length?e:t,o=s.indexOf(i);if(o!==-1)return n=[[fn,s.substring(0,o)],[Pt,i],[fn,s.substring(o+i.length)]],t.length>e.length&&(n[0][0]=n[2][0]=Ln),n;if(i.length===1)return[[Ln,t],[fn,e]];var r=dE(t,e);if(r){var a=r[0],l=r[1],c=r[2],u=r[3],d=r[4],h=ml(a,c),f=ml(l,u);return h.concat([[Pt,d]],f)}return uE(t,e)}function uE(t,e){for(var n=t.length,s=e.length,i=Math.ceil((n+s)/2),o=i,r=2*i,a=new Array(r),l=new Array(r),c=0;c<r;c++)a[c]=-1,l[c]=-1;a[o+1]=0,l[o+1]=0;for(var u=n-s,d=u%2!==0,h=0,f=0,p=0,g=0,_=0;_<i;_++){for(var b=-_+h;b<=_-f;b+=2){var x=o+b,$;b===-_||b!==_&&a[x-1]<a[x+1]?$=a[x+1]:$=a[x-1]+1;for(var S=$-b;$<n&&S<s&&t.charAt($)===e.charAt(S);)$++,S++;if(a[x]=$,$>n)f+=2;else if(S>s)h+=2;else if(d){var C=o+u-b;if(C>=0&&C<r&&l[C]!==-1){var T=n-l[C];if($>=T)return zg(t,e,$,S)}}}for(var L=-_+p;L<=_-g;L+=2){var C=o+L,T;L===-_||L!==_&&l[C-1]<l[C+1]?T=l[C+1]:T=l[C-1]+1;for(var E=T-L;T<n&&E<s&&t.charAt(n-T-1)===e.charAt(s-E-1);)T++,E++;if(l[C]=T,T>n)g+=2;else if(E>s)p+=2;else if(!d){var x=o+u-L;if(x>=0&&x<r&&a[x]!==-1){var $=a[x],S=o+$-x;if(T=n-T,$>=T)return zg(t,e,$,S)}}}}return[[Ln,t],[fn,e]]}function zg(t,e,n,s){var i=t.substring(0,n),o=e.substring(0,s),r=t.substring(n),a=e.substring(s),l=ml(i,o),c=ml(r,a);return l.concat(c)}function p1(t,e){if(!t||!e||t.charAt(0)!==e.charAt(0))return 0;for(var n=0,s=Math.min(t.length,e.length),i=s,o=0;n<i;)t.substring(o,i)==e.substring(o,i)?(n=i,o=n):s=i,i=Math.floor((s-n)/2+n);return e3(t.charCodeAt(i-1))&&i--,i}function Bg(t,e){var n=t.length,s=e.length;if(n==0||s==0)return 0;n>s?t=t.substring(n-s):n<s&&(e=e.substring(0,n));var i=Math.min(n,s);if(t==e)return i;for(var o=0,r=1;;){var a=t.substring(i-r),l=e.indexOf(a);if(l==-1)return o;r+=l,(l==0||t.substring(i-r)==e.substring(0,r))&&(o=r,r++)}}function rd(t,e){if(!t||!e||t.slice(-1)!==e.slice(-1))return 0;for(var n=0,s=Math.min(t.length,e.length),i=s,o=0;n<i;)t.substring(t.length-i,t.length-o)==e.substring(e.length-i,e.length-o)?(n=i,o=n):s=i,i=Math.floor((s-n)/2+n);return t3(t.charCodeAt(t.length-i))&&i--,i}function dE(t,e){var n=t.length>e.length?t:e,s=t.length>e.length?e:t;if(n.length<4||s.length*2<n.length)return null;function i(f,p,g){for(var _=f.substring(g,g+Math.floor(f.length/4)),b=-1,x="",$,S,C,T;(b=p.indexOf(_,b+1))!==-1;){var L=p1(f.substring(g),p.substring(b)),E=rd(f.substring(0,g),p.substring(0,b));x.length<E+L&&(x=p.substring(b-E,b)+p.substring(b,b+L),$=f.substring(0,g-E),S=f.substring(g+L),C=p.substring(0,b-E),T=p.substring(b+L))}return x.length*2>=f.length?[$,S,C,T,x]:null}var o=i(n,s,Math.ceil(n.length/4)),r=i(n,s,Math.ceil(n.length/2)),a;if(!o&&!r)return null;r?o?a=o[4].length>r[4].length?o:r:a=r:a=o;var l,c,u,d;t.length>e.length?(l=a[0],c=a[1],u=a[2],d=a[3]):(u=a[0],d=a[1],l=a[2],c=a[3]);var h=a[4];return[l,c,u,d,h]}function hE(t){for(var e=!1,n=[],s=0,i=null,o=0,r=0,a=0,l=0,c=0;o<t.length;)t[o][0]==Pt?(n[s++]=o,r=l,a=c,l=0,c=0,i=t[o][1]):(t[o][0]==fn?l+=t[o][1].length:c+=t[o][1].length,i&&i.length<=Math.max(r,a)&&i.length<=Math.max(l,c)&&(t.splice(n[s-1],0,[Ln,i]),t[n[s-1]+1][0]=fn,s--,s--,o=s>0?n[s-1]:-1,r=0,a=0,l=0,c=0,i=null,e=!0)),o++;for(e&&m1(t),mE(t),o=1;o<t.length;){if(t[o-1][0]==Ln&&t[o][0]==fn){var u=t[o-1][1],d=t[o][1],h=Bg(u,d),f=Bg(d,u);h>=f?(h>=u.length/2||h>=d.length/2)&&(t.splice(o,0,[Pt,d.substring(0,h)]),t[o-1][1]=u.substring(0,u.length-h),t[o+1][1]=d.substring(h),o++):(f>=u.length/2||f>=d.length/2)&&(t.splice(o,0,[Pt,u.substring(0,f)]),t[o-1][0]=fn,t[o-1][1]=d.substring(0,d.length-f),t[o+1][0]=Ln,t[o+1][1]=u.substring(f),o++),o++}o++}}var Ug=/[^a-zA-Z0-9]/,Fg=/\s/,qg=/[\r\n]/,fE=/\n\r?\n$/,pE=/^\r?\n\r?\n/;function mE(t){function e(f,p){if(!f||!p)return 6;var g=f.charAt(f.length-1),_=p.charAt(0),b=g.match(Ug),x=_.match(Ug),$=b&&g.match(Fg),S=x&&_.match(Fg),C=$&&g.match(qg),T=S&&_.match(qg),L=C&&f.match(fE),E=T&&p.match(pE);return L||E?5:C||T?4:b&&!$&&S?3:$||S?2:b||x?1:0}for(var n=1;n<t.length-1;){if(t[n-1][0]==Pt&&t[n+1][0]==Pt){var s=t[n-1][1],i=t[n][1],o=t[n+1][1],r=rd(s,i);if(r){var a=i.substring(i.length-r);s=s.substring(0,s.length-r),i=a+i.substring(0,i.length-r),o=a+o}for(var l=s,c=i,u=o,d=e(s,i)+e(i,o);i.charAt(0)===o.charAt(0);){s+=i.charAt(0),i=i.substring(1)+o.charAt(0),o=o.substring(1);var h=e(s,i)+e(i,o);h>=d&&(d=h,l=s,c=i,u=o)}t[n-1][1]!=l&&(l?t[n-1][1]=l:(t.splice(n-1,1),n--),t[n][1]=c,u?t[n+1][1]=u:(t.splice(n+1,1),n--))}n++}}function m1(t,e){t.push([Pt,""]);for(var n=0,s=0,i=0,o="",r="",a;n<t.length;){if(n<t.length-1&&!t[n][1]){t.splice(n,1);continue}switch(t[n][0]){case fn:i++,r+=t[n][1],n++;break;case Ln:s++,o+=t[n][1],n++;break;case Pt:var l=n-i-s-1;if(e){if(l>=0&&s3(t[l][1])){var c=t[l][1].slice(-1);if(t[l][1]=t[l][1].slice(0,-1),o=c+o,r=c+r,!t[l][1]){t.splice(l,1),n--;var u=l-1;t[u]&&t[u][0]===fn&&(i++,r=t[u][1]+r,u--),t[u]&&t[u][0]===Ln&&(s++,o=t[u][1]+o,u--),l=u}}if(n3(t[n][1])){var c=t[n][1].charAt(0);t[n][1]=t[n][1].slice(1),o+=c,r+=c}}if(n<t.length-1&&!t[n][1]){t.splice(n,1);break}if(o.length>0||r.length>0){o.length>0&&r.length>0&&(a=p1(r,o),a!==0&&(l>=0?t[l][1]+=r.substring(0,a):(t.splice(0,0,[Pt,r.substring(0,a)]),n++),r=r.substring(a),o=o.substring(a)),a=rd(r,o),a!==0&&(t[n][1]=r.substring(r.length-a)+t[n][1],r=r.substring(0,r.length-a),o=o.substring(0,o.length-a)));var d=i+s;o.length===0&&r.length===0?(t.splice(n-d,d),n=n-d):o.length===0?(t.splice(n-d,d,[fn,r]),n=n-d+1):r.length===0?(t.splice(n-d,d,[Ln,o]),n=n-d+1):(t.splice(n-d,d,[Ln,o],[fn,r]),n=n-d+2)}n!==0&&t[n-1][0]===Pt?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,i=0,s=0,o="",r="";break}}t[t.length-1][1]===""&&t.pop();var h=!1;for(n=1;n<t.length-1;)t[n-1][0]===Pt&&t[n+1][0]===Pt&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)===t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),h=!0):t[n][1].substring(0,t[n+1][1].length)==t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),h=!0)),n++;h&&m1(t,e)}function e3(t){return t>=55296&&t<=56319}function t3(t){return t>=56320&&t<=57343}function n3(t){return t3(t.charCodeAt(0))}function s3(t){return e3(t.charCodeAt(t.length-1))}function gE(t){for(var e=[],n=0;n<t.length;n++)t[n][1].length>0&&e.push(t[n]);return e}function Ch(t,e,n,s){return s3(t)||n3(s)?null:gE([[Pt,t],[Ln,e],[fn,n],[Pt,s]])}function _E(t,e,n){var s=typeof n=="number"?{index:n,length:0}:n.oldRange,i=typeof n=="number"?null:n.newRange,o=t.length,r=e.length;if(s.length===0&&(i===null||i.length===0)){var a=s.index,l=t.slice(0,a),c=t.slice(a),u=i?i.index:null;e:{var d=a+r-o;if(u!==null&&u!==d||d<0||d>r)break e;var h=e.slice(0,d),f=e.slice(d);if(f!==c)break e;var p=Math.min(a,d),g=l.slice(0,p),_=h.slice(0,p);if(g!==_)break e;var b=l.slice(p),x=h.slice(p);return Ch(g,b,x,c)}e:{if(u!==null&&u!==a)break e;var $=a,h=e.slice(0,$),f=e.slice($);if(h!==l)break e;var S=Math.min(o-$,r-$),C=c.slice(c.length-S),T=f.slice(f.length-S);if(C!==T)break e;var b=c.slice(0,c.length-S),x=f.slice(0,f.length-S);return Ch(l,b,x,C)}}if(s.length>0&&i&&i.length===0)e:{var g=t.slice(0,s.index),C=t.slice(s.index+s.length),p=g.length,S=C.length;if(r<p+S)break e;var _=e.slice(0,p),T=e.slice(r-S);if(g!==_||C!==T)break e;var b=t.slice(p,o-S),x=e.slice(p,r-S);return Ch(g,b,x,C)}return null}function ad(t,e,n,s){return ml(t,e,n,s,!0)}ad.INSERT=fn;ad.DELETE=Ln;ad.EQUAL=Pt;var vE=ad,ku={exports:{}};ku.exports;(function(t,e){var n=200,s="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",r="[object Array]",a="[object Boolean]",l="[object Date]",c="[object Error]",u="[object Function]",d="[object GeneratorFunction]",h="[object Map]",f="[object Number]",p="[object Object]",g="[object Promise]",_="[object RegExp]",b="[object Set]",x="[object String]",$="[object Symbol]",S="[object WeakMap]",C="[object ArrayBuffer]",T="[object DataView]",L="[object Float32Array]",E="[object Float64Array]",q="[object Int8Array]",ee="[object Int16Array]",ie="[object Int32Array]",X="[object Uint8Array]",R="[object Uint8ClampedArray]",j="[object Uint16Array]",Y="[object Uint32Array]",oe=/[\\^$.*+?()[\]{}|]/g,pe=/\w*$/,Se=/^\[object .+?Constructor\]$/,qe=/^(?:0|[1-9]\d*)$/,le={};le[o]=le[r]=le[C]=le[T]=le[a]=le[l]=le[L]=le[E]=le[q]=le[ee]=le[ie]=le[h]=le[f]=le[p]=le[_]=le[b]=le[x]=le[$]=le[X]=le[R]=le[j]=le[Y]=!0,le[c]=le[u]=le[S]=!1;var ze=typeof Ti=="object"&&Ti&&Ti.Object===Object&&Ti,Ze=typeof self=="object"&&self&&self.Object===Object&&self,at=ze||Ze||Function("return this")(),wt=e&&!e.nodeType&&e,Ue=wt&&!0&&t&&!t.nodeType&&t,lt=Ue&&Ue.exports===wt;function te(y,M){return y.set(M[0],M[1]),y}function fe(y,M){return y.add(M),y}function de(y,M){for(var D=-1,G=y?y.length:0;++D<G&&M(y[D],D,y)!==!1;);return y}function xe(y,M){for(var D=-1,G=M.length,Oe=y.length;++D<G;)y[Oe+D]=M[D];return y}function je(y,M,D,G){var Oe=-1,Ce=y?y.length:0;for(G&&Ce&&(D=y[++Oe]);++Oe<Ce;)D=M(D,y[Oe],Oe,y);return D}function O(y,M){for(var D=-1,G=Array(y);++D<y;)G[D]=M(D);return G}function I(y,M){return y==null?void 0:y[M]}function z(y){var M=!1;if(y!=null&&typeof y.toString!="function")try{M=!!(y+"")}catch{}return M}function Z(y){var M=-1,D=Array(y.size);return y.forEach(function(G,Oe){D[++M]=[Oe,G]}),D}function se(y,M){return function(D){return y(M(D))}}function re(y){var M=-1,D=Array(y.size);return y.forEach(function(G){D[++M]=G}),D}var me=Array.prototype,ce=Function.prototype,ue=Object.prototype,ae=at["__core-js_shared__"],$e=function(){var y=/[^.]+$/.exec(ae&&ae.keys&&ae.keys.IE_PROTO||"");return y?"Symbol(src)_1."+y:""}(),ve=ce.toString,ye=ue.hasOwnProperty,Te=ue.toString,Be=RegExp("^"+ve.call(ye).replace(oe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Xe=lt?at.Buffer:void 0,Ye=at.Symbol,ft=at.Uint8Array,xt=se(Object.getPrototypeOf,Object),Yn=Object.create,Qi=ue.propertyIsEnumerable,Ns=me.splice,_i=Object.getOwnPropertySymbols,Et=Xe?Xe.isBuffer:void 0,un=se(Object.keys,Object),Vs=Xn(at,"DataView"),eo=Xn(at,"Map"),Kn=Xn(at,"Promise"),Zo=Xn(at,"Set"),ea=Xn(at,"WeakMap"),to=Xn(Object,"create"),ta=dn(Vs),no=dn(eo),na=dn(Kn),sa=dn(Zo),ia=dn(ea),vi=Ye?Ye.prototype:void 0,Hl=vi?vi.valueOf:void 0;function zs(y){var M=-1,D=y?y.length:0;for(this.clear();++M<D;){var G=y[M];this.set(G[0],G[1])}}function Md(){this.__data__=to?to(null):{}}function Ed(y){return this.has(y)&&delete this.__data__[y]}function Td(y){var M=this.__data__;if(to){var D=M[y];return D===s?void 0:D}return ye.call(M,y)?M[y]:void 0}function Yl(y){var M=this.__data__;return to?M[y]!==void 0:ye.call(M,y)}function oa(y,M){var D=this.__data__;return D[y]=to&&M===void 0?s:M,this}zs.prototype.clear=Md,zs.prototype.delete=Ed,zs.prototype.get=Td,zs.prototype.has=Yl,zs.prototype.set=oa;function Wt(y){var M=-1,D=y?y.length:0;for(this.clear();++M<D;){var G=y[M];this.set(G[0],G[1])}}function Ld(){this.__data__=[]}function Od(y){var M=this.__data__,D=er(M,y);if(D<0)return!1;var G=M.length-1;return D==G?M.pop():Ns.call(M,D,1),!0}function Dd(y){var M=this.__data__,D=er(M,y);return D<0?void 0:M[D][1]}function Id(y){return er(this.__data__,y)>-1}function Rd(y,M){var D=this.__data__,G=er(D,y);return G<0?D.push([y,M]):D[G][1]=M,this}Wt.prototype.clear=Ld,Wt.prototype.delete=Od,Wt.prototype.get=Dd,Wt.prototype.has=Id,Wt.prototype.set=Rd;function Zt(y){var M=-1,D=y?y.length:0;for(this.clear();++M<D;){var G=y[M];this.set(G[0],G[1])}}function Pd(){this.__data__={hash:new zs,map:new(eo||Wt),string:new zs}}function Nd(y){return io(this,y).delete(y)}function Vd(y){return io(this,y).get(y)}function zd(y){return io(this,y).has(y)}function Bd(y,M){return io(this,y).set(y,M),this}Zt.prototype.clear=Pd,Zt.prototype.delete=Nd,Zt.prototype.get=Vd,Zt.prototype.has=zd,Zt.prototype.set=Bd;function pn(y){this.__data__=new Wt(y)}function Ud(){this.__data__=new Wt}function Fd(y){return this.__data__.delete(y)}function qd(y){return this.__data__.get(y)}function Wd(y){return this.__data__.has(y)}function jd(y,M){var D=this.__data__;if(D instanceof Wt){var G=D.__data__;if(!eo||G.length<n-1)return G.push([y,M]),this;D=this.__data__=new Zt(G)}return D.set(y,M),this}pn.prototype.clear=Ud,pn.prototype.delete=Fd,pn.prototype.get=qd,pn.prototype.has=Wd,pn.prototype.set=jd;function Qo(y,M){var D=ca(y)||nr(y)?O(y.length,String):[],G=D.length,Oe=!!G;for(var Ce in y)(M||ye.call(y,Ce))&&!(Oe&&(Ce=="length"||oh(Ce,G)))&&D.push(Ce);return D}function Kl(y,M,D){var G=y[M];(!(ye.call(y,M)&&Ql(G,D))||D===void 0&&!(M in y))&&(y[M]=D)}function er(y,M){for(var D=y.length;D--;)if(Ql(y[D][0],M))return D;return-1}function fs(y,M){return y&&la(M,da(M),y)}function ra(y,M,D,G,Oe,Ce,Ke){var Qe;if(G&&(Qe=Ce?G(y,Oe,Ce,Ke):G(y)),Qe!==void 0)return Qe;if(!ms(y))return y;var Tt=ca(y);if(Tt){if(Qe=sh(y),!M)return eh(y,Qe)}else{var rt=Us(y),Qt=rt==u||rt==d;if(ec(y))return tr(y,M);if(rt==p||rt==o||Qt&&!Ce){if(z(y))return Ce?y:{};if(Qe=ps(Qt?{}:y),!M)return th(y,fs(Qe,y))}else{if(!le[rt])return Ce?y:{};Qe=ih(y,rt,ra,M)}}Ke||(Ke=new pn);var mn=Ke.get(y);if(mn)return mn;if(Ke.set(y,Qe),!Tt)var It=D?nh(y):da(y);return de(It||y,function(en,jt){It&&(jt=en,en=y[jt]),Kl(Qe,jt,ra(en,M,D,G,jt,y,Ke))}),Qe}function Hd(y){return ms(y)?Yn(y):{}}function Yd(y,M,D){var G=M(y);return ca(y)?G:xe(G,D(y))}function Kd(y){return Te.call(y)}function Xd(y){if(!ms(y)||ah(y))return!1;var M=ua(y)||z(y)?Be:Se;return M.test(dn(y))}function Gd(y){if(!Jl(y))return un(y);var M=[];for(var D in Object(y))ye.call(y,D)&&D!="constructor"&&M.push(D);return M}function tr(y,M){if(M)return y.slice();var D=new y.constructor(y.length);return y.copy(D),D}function aa(y){var M=new y.constructor(y.byteLength);return new ft(M).set(new ft(y)),M}function so(y,M){var D=M?aa(y.buffer):y.buffer;return new y.constructor(D,y.byteOffset,y.byteLength)}function Xl(y,M,D){var G=M?D(Z(y),!0):Z(y);return je(G,te,new y.constructor)}function Gl(y){var M=new y.constructor(y.source,pe.exec(y));return M.lastIndex=y.lastIndex,M}function Jd(y,M,D){var G=M?D(re(y),!0):re(y);return je(G,fe,new y.constructor)}function Zd(y){return Hl?Object(Hl.call(y)):{}}function Qd(y,M){var D=M?aa(y.buffer):y.buffer;return new y.constructor(D,y.byteOffset,y.length)}function eh(y,M){var D=-1,G=y.length;for(M||(M=Array(G));++D<G;)M[D]=y[D];return M}function la(y,M,D,G){D||(D={});for(var Oe=-1,Ce=M.length;++Oe<Ce;){var Ke=M[Oe],Qe=G?G(D[Ke],y[Ke],Ke,D,y):void 0;Kl(D,Ke,Qe===void 0?y[Ke]:Qe)}return D}function th(y,M){return la(y,Bs(y),M)}function nh(y){return Yd(y,da,Bs)}function io(y,M){var D=y.__data__;return rh(M)?D[typeof M=="string"?"string":"hash"]:D.map}function Xn(y,M){var D=I(y,M);return Xd(D)?D:void 0}var Bs=_i?se(_i,Object):ch,Us=Kd;(Vs&&Us(new Vs(new ArrayBuffer(1)))!=T||eo&&Us(new eo)!=h||Kn&&Us(Kn.resolve())!=g||Zo&&Us(new Zo)!=b||ea&&Us(new ea)!=S)&&(Us=function(y){var M=Te.call(y),D=M==p?y.constructor:void 0,G=D?dn(D):void 0;if(G)switch(G){case ta:return T;case no:return h;case na:return g;case sa:return b;case ia:return S}return M});function sh(y){var M=y.length,D=y.constructor(M);return M&&typeof y[0]=="string"&&ye.call(y,"index")&&(D.index=y.index,D.input=y.input),D}function ps(y){return typeof y.constructor=="function"&&!Jl(y)?Hd(xt(y)):{}}function ih(y,M,D,G){var Oe=y.constructor;switch(M){case C:return aa(y);case a:case l:return new Oe(+y);case T:return so(y,G);case L:case E:case q:case ee:case ie:case X:case R:case j:case Y:return Qd(y,G);case h:return Xl(y,G,D);case f:case x:return new Oe(y);case _:return Gl(y);case b:return Jd(y,G,D);case $:return Zd(y)}}function oh(y,M){return M=M??i,!!M&&(typeof y=="number"||qe.test(y))&&y>-1&&y%1==0&&y<M}function rh(y){var M=typeof y;return M=="string"||M=="number"||M=="symbol"||M=="boolean"?y!=="__proto__":y===null}function ah(y){return!!$e&&$e in y}function Jl(y){var M=y&&y.constructor,D=typeof M=="function"&&M.prototype||ue;return y===D}function dn(y){if(y!=null){try{return ve.call(y)}catch{}try{return y+""}catch{}}return""}function Zl(y){return ra(y,!0,!0)}function Ql(y,M){return y===M||y!==y&&M!==M}function nr(y){return lh(y)&&ye.call(y,"callee")&&(!Qi.call(y,"callee")||Te.call(y)==o)}var ca=Array.isArray;function sr(y){return y!=null&&tc(y.length)&&!ua(y)}function lh(y){return nc(y)&&sr(y)}var ec=Et||uh;function ua(y){var M=ms(y)?Te.call(y):"";return M==u||M==d}function tc(y){return typeof y=="number"&&y>-1&&y%1==0&&y<=i}function ms(y){var M=typeof y;return!!y&&(M=="object"||M=="function")}function nc(y){return!!y&&typeof y=="object"}function da(y){return sr(y)?Qo(y):Gd(y)}function ch(){return[]}function uh(){return!1}t.exports=Zl})(ku,ku.exports);var i3=ku.exports,Su={exports:{}};Su.exports;(function(t,e){var n=200,s="__lodash_hash_undefined__",i=1,o=2,r=9007199254740991,a="[object Arguments]",l="[object Array]",c="[object AsyncFunction]",u="[object Boolean]",d="[object Date]",h="[object Error]",f="[object Function]",p="[object GeneratorFunction]",g="[object Map]",_="[object Number]",b="[object Null]",x="[object Object]",$="[object Promise]",S="[object Proxy]",C="[object RegExp]",T="[object Set]",L="[object String]",E="[object Symbol]",q="[object Undefined]",ee="[object WeakMap]",ie="[object ArrayBuffer]",X="[object DataView]",R="[object Float32Array]",j="[object Float64Array]",Y="[object Int8Array]",oe="[object Int16Array]",pe="[object Int32Array]",Se="[object Uint8Array]",qe="[object Uint8ClampedArray]",le="[object Uint16Array]",ze="[object Uint32Array]",Ze=/[\\^$.*+?()[\]{}|]/g,at=/^\[object .+?Constructor\]$/,wt=/^(?:0|[1-9]\d*)$/,Ue={};Ue[R]=Ue[j]=Ue[Y]=Ue[oe]=Ue[pe]=Ue[Se]=Ue[qe]=Ue[le]=Ue[ze]=!0,Ue[a]=Ue[l]=Ue[ie]=Ue[u]=Ue[X]=Ue[d]=Ue[h]=Ue[f]=Ue[g]=Ue[_]=Ue[x]=Ue[C]=Ue[T]=Ue[L]=Ue[ee]=!1;var lt=typeof Ti=="object"&&Ti&&Ti.Object===Object&&Ti,te=typeof self=="object"&&self&&self.Object===Object&&self,fe=lt||te||Function("return this")(),de=e&&!e.nodeType&&e,xe=de&&!0&&t&&!t.nodeType&&t,je=xe&&xe.exports===de,O=je&&lt.process,I=function(){try{return O&&O.binding&&O.binding("util")}catch{}}(),z=I&&I.isTypedArray;function Z(y,M){for(var D=-1,G=y==null?0:y.length,Oe=0,Ce=[];++D<G;){var Ke=y[D];M(Ke,D,y)&&(Ce[Oe++]=Ke)}return Ce}function se(y,M){for(var D=-1,G=M.length,Oe=y.length;++D<G;)y[Oe+D]=M[D];return y}function re(y,M){for(var D=-1,G=y==null?0:y.length;++D<G;)if(M(y[D],D,y))return!0;return!1}function me(y,M){for(var D=-1,G=Array(y);++D<y;)G[D]=M(D);return G}function ce(y){return function(M){return y(M)}}function ue(y,M){return y.has(M)}function ae(y,M){return y==null?void 0:y[M]}function $e(y){var M=-1,D=Array(y.size);return y.forEach(function(G,Oe){D[++M]=[Oe,G]}),D}function ve(y,M){return function(D){return y(M(D))}}function ye(y){var M=-1,D=Array(y.size);return y.forEach(function(G){D[++M]=G}),D}var Te=Array.prototype,Be=Function.prototype,Xe=Object.prototype,Ye=fe["__core-js_shared__"],ft=Be.toString,xt=Xe.hasOwnProperty,Yn=function(){var y=/[^.]+$/.exec(Ye&&Ye.keys&&Ye.keys.IE_PROTO||"");return y?"Symbol(src)_1."+y:""}(),Qi=Xe.toString,Ns=RegExp("^"+ft.call(xt).replace(Ze,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_i=je?fe.Buffer:void 0,Et=fe.Symbol,un=fe.Uint8Array,Vs=Xe.propertyIsEnumerable,eo=Te.splice,Kn=Et?Et.toStringTag:void 0,Zo=Object.getOwnPropertySymbols,ea=_i?_i.isBuffer:void 0,to=ve(Object.keys,Object),ta=Bs(fe,"DataView"),no=Bs(fe,"Map"),na=Bs(fe,"Promise"),sa=Bs(fe,"Set"),ia=Bs(fe,"WeakMap"),vi=Bs(Object,"create"),Hl=dn(ta),zs=dn(no),Md=dn(na),Ed=dn(sa),Td=dn(ia),Yl=Et?Et.prototype:void 0,oa=Yl?Yl.valueOf:void 0;function Wt(y){var M=-1,D=y==null?0:y.length;for(this.clear();++M<D;){var G=y[M];this.set(G[0],G[1])}}function Ld(){this.__data__=vi?vi(null):{},this.size=0}function Od(y){var M=this.has(y)&&delete this.__data__[y];return this.size-=M?1:0,M}function Dd(y){var M=this.__data__;if(vi){var D=M[y];return D===s?void 0:D}return xt.call(M,y)?M[y]:void 0}function Id(y){var M=this.__data__;return vi?M[y]!==void 0:xt.call(M,y)}function Rd(y,M){var D=this.__data__;return this.size+=this.has(y)?0:1,D[y]=vi&&M===void 0?s:M,this}Wt.prototype.clear=Ld,Wt.prototype.delete=Od,Wt.prototype.get=Dd,Wt.prototype.has=Id,Wt.prototype.set=Rd;function Zt(y){var M=-1,D=y==null?0:y.length;for(this.clear();++M<D;){var G=y[M];this.set(G[0],G[1])}}function Pd(){this.__data__=[],this.size=0}function Nd(y){var M=this.__data__,D=tr(M,y);if(D<0)return!1;var G=M.length-1;return D==G?M.pop():eo.call(M,D,1),--this.size,!0}function Vd(y){var M=this.__data__,D=tr(M,y);return D<0?void 0:M[D][1]}function zd(y){return tr(this.__data__,y)>-1}function Bd(y,M){var D=this.__data__,G=tr(D,y);return G<0?(++this.size,D.push([y,M])):D[G][1]=M,this}Zt.prototype.clear=Pd,Zt.prototype.delete=Nd,Zt.prototype.get=Vd,Zt.prototype.has=zd,Zt.prototype.set=Bd;function pn(y){var M=-1,D=y==null?0:y.length;for(this.clear();++M<D;){var G=y[M];this.set(G[0],G[1])}}function Ud(){this.size=0,this.__data__={hash:new Wt,map:new(no||Zt),string:new Wt}}function Fd(y){var M=Xn(this,y).delete(y);return this.size-=M?1:0,M}function qd(y){return Xn(this,y).get(y)}function Wd(y){return Xn(this,y).has(y)}function jd(y,M){var D=Xn(this,y),G=D.size;return D.set(y,M),this.size+=D.size==G?0:1,this}pn.prototype.clear=Ud,pn.prototype.delete=Fd,pn.prototype.get=qd,pn.prototype.has=Wd,pn.prototype.set=jd;function Qo(y){var M=-1,D=y==null?0:y.length;for(this.__data__=new pn;++M<D;)this.add(y[M])}function Kl(y){return this.__data__.set(y,s),this}function er(y){return this.__data__.has(y)}Qo.prototype.add=Qo.prototype.push=Kl,Qo.prototype.has=er;function fs(y){var M=this.__data__=new Zt(y);this.size=M.size}function ra(){this.__data__=new Zt,this.size=0}function Hd(y){var M=this.__data__,D=M.delete(y);return this.size=M.size,D}function Yd(y){return this.__data__.get(y)}function Kd(y){return this.__data__.has(y)}function Xd(y,M){var D=this.__data__;if(D instanceof Zt){var G=D.__data__;if(!no||G.length<n-1)return G.push([y,M]),this.size=++D.size,this;D=this.__data__=new pn(G)}return D.set(y,M),this.size=D.size,this}fs.prototype.clear=ra,fs.prototype.delete=Hd,fs.prototype.get=Yd,fs.prototype.has=Kd,fs.prototype.set=Xd;function Gd(y,M){var D=nr(y),G=!D&&Ql(y),Oe=!D&&!G&&sr(y),Ce=!D&&!G&&!Oe&&nc(y),Ke=D||G||Oe||Ce,Qe=Ke?me(y.length,String):[],Tt=Qe.length;for(var rt in y)(M||xt.call(y,rt))&&!(Ke&&(rt=="length"||Oe&&(rt=="offset"||rt=="parent")||Ce&&(rt=="buffer"||rt=="byteLength"||rt=="byteOffset")||ih(rt,Tt)))&&Qe.push(rt);return Qe}function tr(y,M){for(var D=y.length;D--;)if(Zl(y[D][0],M))return D;return-1}function aa(y,M,D){var G=M(y);return nr(y)?G:se(G,D(y))}function so(y){return y==null?y===void 0?q:b:Kn&&Kn in Object(y)?Us(y):Jl(y)}function Xl(y){return ms(y)&&so(y)==a}function Gl(y,M,D,G,Oe){return y===M?!0:y==null||M==null||!ms(y)&&!ms(M)?y!==y&&M!==M:Jd(y,M,D,G,Gl,Oe)}function Jd(y,M,D,G,Oe,Ce){var Ke=nr(y),Qe=nr(M),Tt=Ke?l:ps(y),rt=Qe?l:ps(M);Tt=Tt==a?x:Tt,rt=rt==a?x:rt;var Qt=Tt==x,mn=rt==x,It=Tt==rt;if(It&&sr(y)){if(!sr(M))return!1;Ke=!0,Qt=!1}if(It&&!Qt)return Ce||(Ce=new fs),Ke||nc(y)?la(y,M,D,G,Oe,Ce):th(y,M,Tt,D,G,Oe,Ce);if(!(D&i)){var en=Qt&&xt.call(y,"__wrapped__"),jt=mn&&xt.call(M,"__wrapped__");if(en||jt){var bi=en?y.value():y,Fs=jt?M.value():M;return Ce||(Ce=new fs),Oe(bi,Fs,D,G,Ce)}}return It?(Ce||(Ce=new fs),nh(y,M,D,G,Oe,Ce)):!1}function Zd(y){if(!tc(y)||rh(y))return!1;var M=ec(y)?Ns:at;return M.test(dn(y))}function Qd(y){return ms(y)&&ua(y.length)&&!!Ue[so(y)]}function eh(y){if(!ah(y))return to(y);var M=[];for(var D in Object(y))xt.call(y,D)&&D!="constructor"&&M.push(D);return M}function la(y,M,D,G,Oe,Ce){var Ke=D&i,Qe=y.length,Tt=M.length;if(Qe!=Tt&&!(Ke&&Tt>Qe))return!1;var rt=Ce.get(y);if(rt&&Ce.get(M))return rt==M;var Qt=-1,mn=!0,It=D&o?new Qo:void 0;for(Ce.set(y,M),Ce.set(M,y);++Qt<Qe;){var en=y[Qt],jt=M[Qt];if(G)var bi=Ke?G(jt,en,Qt,M,y,Ce):G(en,jt,Qt,y,M,Ce);if(bi!==void 0){if(bi)continue;mn=!1;break}if(It){if(!re(M,function(Fs,oo){if(!ue(It,oo)&&(en===Fs||Oe(en,Fs,D,G,Ce)))return It.push(oo)})){mn=!1;break}}else if(!(en===jt||Oe(en,jt,D,G,Ce))){mn=!1;break}}return Ce.delete(y),Ce.delete(M),mn}function th(y,M,D,G,Oe,Ce,Ke){switch(D){case X:if(y.byteLength!=M.byteLength||y.byteOffset!=M.byteOffset)return!1;y=y.buffer,M=M.buffer;case ie:return!(y.byteLength!=M.byteLength||!Ce(new un(y),new un(M)));case u:case d:case _:return Zl(+y,+M);case h:return y.name==M.name&&y.message==M.message;case C:case L:return y==M+"";case g:var Qe=$e;case T:var Tt=G&i;if(Qe||(Qe=ye),y.size!=M.size&&!Tt)return!1;var rt=Ke.get(y);if(rt)return rt==M;G|=o,Ke.set(y,M);var Qt=la(Qe(y),Qe(M),G,Oe,Ce,Ke);return Ke.delete(y),Qt;case E:if(oa)return oa.call(y)==oa.call(M)}return!1}function nh(y,M,D,G,Oe,Ce){var Ke=D&i,Qe=io(y),Tt=Qe.length,rt=io(M),Qt=rt.length;if(Tt!=Qt&&!Ke)return!1;for(var mn=Tt;mn--;){var It=Qe[mn];if(!(Ke?It in M:xt.call(M,It)))return!1}var en=Ce.get(y);if(en&&Ce.get(M))return en==M;var jt=!0;Ce.set(y,M),Ce.set(M,y);for(var bi=Ke;++mn<Tt;){It=Qe[mn];var Fs=y[It],oo=M[It];if(G)var rm=Ke?G(oo,Fs,It,M,y,Ce):G(Fs,oo,It,y,M,Ce);if(!(rm===void 0?Fs===oo||Oe(Fs,oo,D,G,Ce):rm)){jt=!1;break}bi||(bi=It=="constructor")}if(jt&&!bi){var sc=y.constructor,ic=M.constructor;sc!=ic&&"constructor"in y&&"constructor"in M&&!(typeof sc=="function"&&sc instanceof sc&&typeof ic=="function"&&ic instanceof ic)&&(jt=!1)}return Ce.delete(y),Ce.delete(M),jt}function io(y){return aa(y,da,sh)}function Xn(y,M){var D=y.__data__;return oh(M)?D[typeof M=="string"?"string":"hash"]:D.map}function Bs(y,M){var D=ae(y,M);return Zd(D)?D:void 0}function Us(y){var M=xt.call(y,Kn),D=y[Kn];try{y[Kn]=void 0;var G=!0}catch{}var Oe=Qi.call(y);return G&&(M?y[Kn]=D:delete y[Kn]),Oe}var sh=Zo?function(y){return y==null?[]:(y=Object(y),Z(Zo(y),function(M){return Vs.call(y,M)}))}:ch,ps=so;(ta&&ps(new ta(new ArrayBuffer(1)))!=X||no&&ps(new no)!=g||na&&ps(na.resolve())!=$||sa&&ps(new sa)!=T||ia&&ps(new ia)!=ee)&&(ps=function(y){var M=so(y),D=M==x?y.constructor:void 0,G=D?dn(D):"";if(G)switch(G){case Hl:return X;case zs:return g;case Md:return $;case Ed:return T;case Td:return ee}return M});function ih(y,M){return M=M??r,!!M&&(typeof y=="number"||wt.test(y))&&y>-1&&y%1==0&&y<M}function oh(y){var M=typeof y;return M=="string"||M=="number"||M=="symbol"||M=="boolean"?y!=="__proto__":y===null}function rh(y){return!!Yn&&Yn in y}function ah(y){var M=y&&y.constructor,D=typeof M=="function"&&M.prototype||Xe;return y===D}function Jl(y){return Qi.call(y)}function dn(y){if(y!=null){try{return ft.call(y)}catch{}try{return y+""}catch{}}return""}function Zl(y,M){return y===M||y!==y&&M!==M}var Ql=Xl(function(){return arguments}())?Xl:function(y){return ms(y)&&xt.call(y,"callee")&&!Vs.call(y,"callee")},nr=Array.isArray;function ca(y){return y!=null&&ua(y.length)&&!ec(y)}var sr=ea||uh;function lh(y,M){return Gl(y,M)}function ec(y){if(!tc(y))return!1;var M=so(y);return M==f||M==p||M==c||M==S}function ua(y){return typeof y=="number"&&y>-1&&y%1==0&&y<=r}function tc(y){var M=typeof y;return y!=null&&(M=="object"||M=="function")}function ms(y){return y!=null&&typeof y=="object"}var nc=z?ce(z):Qd;function da(y){return ca(y)?Gd(y):eh(y)}function ch(){return[]}function uh(){return!1}t.exports=lh})(Su,Su.exports);var o3=Su.exports,g1={};Object.defineProperty(g1,"__esModule",{value:!0});const bE=i3,yE=o3;var If;(function(t){function e(o={},r={},a=!1){typeof o!="object"&&(o={}),typeof r!="object"&&(r={});let l=bE(r);a||(l=Object.keys(l).reduce((c,u)=>(l[u]!=null&&(c[u]=l[u]),c),{}));for(const c in o)o[c]!==void 0&&r[c]===void 0&&(l[c]=o[c]);return Object.keys(l).length>0?l:void 0}t.compose=e;function n(o={},r={}){typeof o!="object"&&(o={}),typeof r!="object"&&(r={});const a=Object.keys(o).concat(Object.keys(r)).reduce((l,c)=>(yE(o[c],r[c])||(l[c]=r[c]===void 0?null:r[c]),l),{});return Object.keys(a).length>0?a:void 0}t.diff=n;function s(o={},r={}){o=o||{};const a=Object.keys(r).reduce((l,c)=>(r[c]!==o[c]&&o[c]!==void 0&&(l[c]=r[c]),l),{});return Object.keys(o).reduce((l,c)=>(o[c]!==r[c]&&r[c]===void 0&&(l[c]=null),l),a)}t.invert=s;function i(o,r,a=!1){if(typeof o!="object")return r;if(typeof r!="object")return;if(!a)return r;const l=Object.keys(r).reduce((c,u)=>(o[u]===void 0&&(c[u]=r[u]),c),{});return Object.keys(l).length>0?l:void 0}t.transform=i})(If||(If={}));g1.default=If;var ld={};Object.defineProperty(ld,"__esModule",{value:!0});var Rf;(function(t){function e(n){return typeof n.delete=="number"?n.delete:typeof n.retain=="number"?n.retain:typeof n.retain=="object"&&n.retain!==null?1:typeof n.insert=="string"?n.insert.length:1}t.length=e})(Rf||(Rf={}));ld.default=Rf;var _1={};Object.defineProperty(_1,"__esModule",{value:!0});const Wg=ld;class wE{constructor(e){this.ops=e,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(e){e||(e=1/0);const n=this.ops[this.index];if(n){const s=this.offset,i=Wg.default.length(n);if(e>=i-s?(e=i-s,this.index+=1,this.offset=0):this.offset+=e,typeof n.delete=="number")return{delete:e};{const o={};return n.attributes&&(o.attributes=n.attributes),typeof n.retain=="number"?o.retain=e:typeof n.retain=="object"&&n.retain!==null?o.retain=n.retain:typeof n.insert=="string"?o.insert=n.insert.substr(s,e):o.insert=n.insert,o}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?Wg.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const e=this.ops[this.index];return e?typeof e.delete=="number"?"delete":typeof e.retain=="number"||typeof e.retain=="object"&&e.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const e=this.offset,n=this.index,s=this.next(),i=this.ops.slice(this.index);return this.offset=e,this.index=n,[s].concat(i)}}else return[]}}_1.default=wE;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AttributeMap=e.OpIterator=e.Op=void 0;const n=vE,s=i3,i=o3,o=g1;e.AttributeMap=o.default;const r=ld;e.Op=r.default;const a=_1;e.OpIterator=a.default;const l=String.fromCharCode(0),c=(d,h)=>{if(typeof d!="object"||d===null)throw new Error(`cannot retain a ${typeof d}`);if(typeof h!="object"||h===null)throw new Error(`cannot retain a ${typeof h}`);const f=Object.keys(d)[0];if(!f||f!==Object.keys(h)[0])throw new Error(`embed types not matched: ${f} != ${Object.keys(h)[0]}`);return[f,d[f],h[f]]};class u{constructor(h){Array.isArray(h)?this.ops=h:h!=null&&Array.isArray(h.ops)?this.ops=h.ops:this.ops=[]}static registerEmbed(h,f){this.handlers[h]=f}static unregisterEmbed(h){delete this.handlers[h]}static getHandler(h){const f=this.handlers[h];if(!f)throw new Error(`no handlers for embed type "${h}"`);return f}insert(h,f){const p={};return typeof h=="string"&&h.length===0?this:(p.insert=h,f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(p.attributes=f),this.push(p))}delete(h){return h<=0?this:this.push({delete:h})}retain(h,f){if(typeof h=="number"&&h<=0)return this;const p={retain:h};return f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(p.attributes=f),this.push(p)}push(h){let f=this.ops.length,p=this.ops[f-1];if(h=s(h),typeof p=="object"){if(typeof h.delete=="number"&&typeof p.delete=="number")return this.ops[f-1]={delete:p.delete+h.delete},this;if(typeof p.delete=="number"&&h.insert!=null&&(f-=1,p=this.ops[f-1],typeof p!="object"))return this.ops.unshift(h),this;if(i(h.attributes,p.attributes)){if(typeof h.insert=="string"&&typeof p.insert=="string")return this.ops[f-1]={insert:p.insert+h.insert},typeof h.attributes=="object"&&(this.ops[f-1].attributes=h.attributes),this;if(typeof h.retain=="number"&&typeof p.retain=="number")return this.ops[f-1]={retain:p.retain+h.retain},typeof h.attributes=="object"&&(this.ops[f-1].attributes=h.attributes),this}}return f===this.ops.length?this.ops.push(h):this.ops.splice(f,0,h),this}chop(){const h=this.ops[this.ops.length-1];return h&&typeof h.retain=="number"&&!h.attributes&&this.ops.pop(),this}filter(h){return this.ops.filter(h)}forEach(h){this.ops.forEach(h)}map(h){return this.ops.map(h)}partition(h){const f=[],p=[];return this.forEach(g=>{(h(g)?f:p).push(g)}),[f,p]}reduce(h,f){return this.ops.reduce(h,f)}changeLength(){return this.reduce((h,f)=>f.insert?h+r.default.length(f):f.delete?h-f.delete:h,0)}length(){return this.reduce((h,f)=>h+r.default.length(f),0)}slice(h=0,f=1/0){const p=[],g=new a.default(this.ops);let _=0;for(;_<f&&g.hasNext();){let b;_<h?b=g.next(h-_):(b=g.next(f-_),p.push(b)),_+=r.default.length(b)}return new u(p)}compose(h){const f=new a.default(this.ops),p=new a.default(h.ops),g=[],_=p.peek();if(_!=null&&typeof _.retain=="number"&&_.attributes==null){let x=_.retain;for(;f.peekType()==="insert"&&f.peekLength()<=x;)x-=f.peekLength(),g.push(f.next());_.retain-x>0&&p.next(_.retain-x)}const b=new u(g);for(;f.hasNext()||p.hasNext();)if(p.peekType()==="insert")b.push(p.next());else if(f.peekType()==="delete")b.push(f.next());else{const x=Math.min(f.peekLength(),p.peekLength()),$=f.next(x),S=p.next(x);if(S.retain){const C={};if(typeof $.retain=="number")C.retain=typeof S.retain=="number"?x:S.retain;else if(typeof S.retain=="number")$.retain==null?C.insert=$.insert:C.retain=$.retain;else{const L=$.retain==null?"insert":"retain",[E,q,ee]=c($[L],S.retain),ie=u.getHandler(E);C[L]={[E]:ie.compose(q,ee,L==="retain")}}const T=o.default.compose($.attributes,S.attributes,typeof $.retain=="number");if(T&&(C.attributes=T),b.push(C),!p.hasNext()&&i(b.ops[b.ops.length-1],C)){const L=new u(f.rest());return b.concat(L).chop()}}else typeof S.delete=="number"&&(typeof $.retain=="number"||typeof $.retain=="object"&&$.retain!==null)&&b.push(S)}return b.chop()}concat(h){const f=new u(this.ops.slice());return h.ops.length>0&&(f.push(h.ops[0]),f.ops=f.ops.concat(h.ops.slice(1))),f}diff(h,f){if(this.ops===h.ops)return new u;const p=[this,h].map($=>$.map(S=>{if(S.insert!=null)return typeof S.insert=="string"?S.insert:l;const C=$===h?"on":"with";throw new Error("diff() called "+C+" non-document")}).join("")),g=new u,_=n(p[0],p[1],f,!0),b=new a.default(this.ops),x=new a.default(h.ops);return _.forEach($=>{let S=$[1].length;for(;S>0;){let C=0;switch($[0]){case n.INSERT:C=Math.min(x.peekLength(),S),g.push(x.next(C));break;case n.DELETE:C=Math.min(S,b.peekLength()),b.next(C),g.delete(C);break;case n.EQUAL:C=Math.min(b.peekLength(),x.peekLength(),S);const T=b.next(C),L=x.next(C);i(T.insert,L.insert)?g.retain(C,o.default.diff(T.attributes,L.attributes)):g.push(L).delete(C);break}S-=C}}),g.chop()}eachLine(h,f=`
`){const p=new a.default(this.ops);let g=new u,_=0;for(;p.hasNext();){if(p.peekType()!=="insert")return;const b=p.peek(),x=r.default.length(b)-p.peekLength(),$=typeof b.insert=="string"?b.insert.indexOf(f,x)-x:-1;if($<0)g.push(p.next());else if($>0)g.push(p.next($));else{if(h(g,p.next(1).attributes||{},_)===!1)return;_+=1,g=new u}}g.length()>0&&h(g,{},_)}invert(h){const f=new u;return this.reduce((p,g)=>{if(g.insert)f.delete(r.default.length(g));else{if(typeof g.retain=="number"&&g.attributes==null)return f.retain(g.retain),p+g.retain;if(g.delete||typeof g.retain=="number"){const _=g.delete||g.retain;return h.slice(p,p+_).forEach(x=>{g.delete?f.push(x):g.retain&&g.attributes&&f.retain(r.default.length(x),o.default.invert(g.attributes,x.attributes))}),p+_}else if(typeof g.retain=="object"&&g.retain!==null){const _=h.slice(p,p+1),b=new a.default(_.ops).next(),[x,$,S]=c(g.retain,b.insert),C=u.getHandler(x);return f.retain({[x]:C.invert($,S)},o.default.invert(g.attributes,b.attributes)),p+1}}return p},0),f.chop()}transform(h,f=!1){if(f=!!f,typeof h=="number")return this.transformPosition(h,f);const p=h,g=new a.default(this.ops),_=new a.default(p.ops),b=new u;for(;g.hasNext()||_.hasNext();)if(g.peekType()==="insert"&&(f||_.peekType()!=="insert"))b.retain(r.default.length(g.next()));else if(_.peekType()==="insert")b.push(_.next());else{const x=Math.min(g.peekLength(),_.peekLength()),$=g.next(x),S=_.next(x);if($.delete)continue;if(S.delete)b.push(S);else{const C=$.retain,T=S.retain;let L=typeof T=="object"&&T!==null?T:x;if(typeof C=="object"&&C!==null&&typeof T=="object"&&T!==null){const E=Object.keys(C)[0];if(E===Object.keys(T)[0]){const q=u.getHandler(E);q&&(L={[E]:q.transform(C[E],T[E],f)})}}b.retain(L,o.default.transform($.attributes,S.attributes,f))}}return b.chop()}transformPosition(h,f=!1){f=!!f;const p=new a.default(this.ops);let g=0;for(;p.hasNext()&&g<=h;){const _=p.peekLength(),b=p.peekType();if(p.next(),b==="delete"){h-=Math.min(_,h-g);continue}else b==="insert"&&(g<h||!f)&&(h+=_);g+=_}return h}}u.Op=r.default,u.OpIterator=a.default,u.AttributeMap=o.default,u.handlers={},e.default=u,t.exports=u,t.exports.default=u})(Df,Df.exports);var Bn=Df.exports;const we=Qv(Bn);class us extends Dn{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}us.blotName="break";us.tagName="BR";let rs=class extends xu{};function cd(t){return t.replace(/[&<>"']/g,e=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[e])}const ws=class ws extends h1{static compare(e,n){const s=ws.order.indexOf(e),i=ws.order.indexOf(n);return s>=0||i>=0?s-i:e===n?0:e<n?-1:1}formatAt(e,n,s,i){if(ws.compare(this.statics.blotName,s)<0&&this.scroll.query(s,ke.BLOT)){const o=this.isolate(e,n);i&&o.wrap(s,i)}else super.formatAt(e,n,s,i)}optimize(e){if(super.optimize(e),this.parent instanceof ws&&ws.compare(this.statics.blotName,this.parent.statics.blotName)>0){const n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}};P(ws,"allowedChildren",[ws,us,Dn,rs]),P(ws,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let Hn=ws;const jg=1;class Xt extends pl{constructor(){super(...arguments);P(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=r3(this)),this.cache.delta}deleteAt(n,s){super.deleteAt(n,s),this.cache={}}formatAt(n,s,i,o){s<=0||(this.scroll.query(i,ke.BLOCK)?n+s===this.length()&&this.format(i,o):super.formatAt(n,Math.min(s,this.length()-n-1),i,o),this.cache={})}insertAt(n,s,i){if(i!=null){super.insertAt(n,s,i),this.cache={};return}if(s.length===0)return;const o=s.split(`
`),r=o.shift();r.length>0&&(n<this.length()-1||this.children.tail==null?super.insertAt(Math.min(n,this.length()-1),r):this.children.tail.insertAt(this.children.tail.length(),r),this.cache={});let a=this;o.reduce((l,c)=>(a=a.split(l,!0),a.insertAt(0,c),c.length),n+r.length)}insertBefore(n,s){const{head:i}=this.children;super.insertBefore(n,s),i instanceof us&&i.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+jg),this.cache.length}moveChildren(n,s){super.moveChildren(n,s),this.cache={}}optimize(n){super.optimize(n),this.cache={}}path(n){return super.path(n,!0)}removeChild(n){super.removeChild(n),this.cache={}}split(n){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(s&&(n===0||n>=this.length()-jg)){const o=this.clone();return n===0?(this.parent.insertBefore(o,this),this):(this.parent.insertBefore(o,this.next),o)}const i=super.split(n,s);return this.cache={},i}}Xt.blotName="block";Xt.tagName="P";Xt.defaultChild=us;Xt.allowedChildren=[us,Hn,Dn,rs];class zn extends Dn{attach(){super.attach(),this.attributes=new id(this.domNode)}delta(){return new we().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(e,n){const s=this.scroll.query(e,ke.BLOCK_ATTRIBUTE);s!=null&&this.attributes.attribute(s,n)}formatAt(e,n,s,i){this.format(s,i)}insertAt(e,n,s){if(s!=null){super.insertAt(e,n,s);return}const i=n.split(`
`),o=i.pop(),r=i.map(l=>{const c=this.scroll.create(Xt.blotName);return c.insertAt(0,l),c}),a=this.split(e);r.forEach(l=>{this.parent.insertBefore(l,a)}),o&&this.parent.insertBefore(this.scroll.create("text",o),a)}}zn.scope=ke.BLOCK_BLOT;function r3(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.descendants(sn).reduce((n,s)=>s.length()===0?n:n.insert(s.value(),Nn(s,{},e)),new we).insert(`
`,Nn(t))}function Nn(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return t==null||("formats"in t&&typeof t.formats=="function"&&(e={...e,...t.formats()},n&&delete e["code-token"]),t.parent==null||t.parent.statics.blotName==="scroll"||t.parent.statics.scope!==t.statics.scope)?e:Nn(t.parent,e,n)}const Pn=class Pn extends Dn{static value(){}constructor(e,n,s){super(e,n),this.selection=s,this.textNode=document.createTextNode(Pn.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(e,n){if(this.savedLength!==0){super.format(e,n);return}let s=this,i=0;for(;s!=null&&s.statics.scope!==ke.BLOCK_BLOT;)i+=s.offset(s.parent),s=s.parent;s!=null&&(this.savedLength=Pn.CONTENTS.length,s.optimize(),s.formatAt(i,Pn.CONTENTS.length,e,n),this.savedLength=0)}index(e,n){return e===this.textNode?0:super.index(e,n)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const e=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const n=this.prev instanceof rs?this.prev:null,s=n?n.length():0,i=this.next instanceof rs?this.next:null,o=i?i.text:"",{textNode:r}=this,a=r.data.split(Pn.CONTENTS).join("");r.data=Pn.CONTENTS;let l;if(n)l=n,(a||i)&&(n.insertAt(n.length(),a+o),i&&i.remove());else if(i)l=i,i.insertAt(0,a);else{const c=document.createTextNode(a);l=this.scroll.create(c),this.parent.insertBefore(l,this)}if(this.remove(),e){const c=(h,f)=>n&&h===n.domNode?f:h===r?s+f-1:i&&h===i.domNode?s+a.length+f:null,u=c(e.start.node,e.start.offset),d=c(e.end.node,e.end.offset);if(u!==null&&d!==null)return{startNode:l.domNode,startOffset:u,endNode:l.domNode,endOffset:d}}return null}update(e,n){if(e.some(s=>s.type==="characterData"&&s.target===this.textNode)){const s=this.restore();s&&(n.range=s)}}optimize(e){super.optimize(e);let{parent:n}=this;for(;n;){if(n.domNode.tagName==="A"){this.savedLength=Pn.CONTENTS.length,n.isolate(this.offset(n),this.length()).unwrap(),this.savedLength=0;break}n=n.parent}}value(){return""}};P(Pn,"blotName","cursor"),P(Pn,"className","ql-cursor"),P(Pn,"tagName","span"),P(Pn,"CONTENTS","\uFEFF");let Dr=Pn;var a3={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function o(l,c,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new i(u,d||l,h),p=n?n+c:c;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],f]:l._events[p].push(f):(l._events[p]=f,l._eventsCount++),l}function r(l,c){--l._eventsCount===0?l._events=new s:delete l._events[c]}function a(){this._events=new s,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)e.call(u,d)&&c.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=n?n+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,f=d.length,p=new Array(f);h<f;h++)p[h]=d[h].fn;return p},a.prototype.listenerCount=function(c){var u=n?n+c:c,d=this._events[u];return d?d.fn?1:d.length:0},a.prototype.emit=function(c,u,d,h,f,p){var g=n?n+c:c;if(!this._events[g])return!1;var _=this._events[g],b=arguments.length,x,$;if(_.fn){switch(_.once&&this.removeListener(c,_.fn,void 0,!0),b){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,u),!0;case 3:return _.fn.call(_.context,u,d),!0;case 4:return _.fn.call(_.context,u,d,h),!0;case 5:return _.fn.call(_.context,u,d,h,f),!0;case 6:return _.fn.call(_.context,u,d,h,f,p),!0}for($=1,x=new Array(b-1);$<b;$++)x[$-1]=arguments[$];_.fn.apply(_.context,x)}else{var S=_.length,C;for($=0;$<S;$++)switch(_[$].once&&this.removeListener(c,_[$].fn,void 0,!0),b){case 1:_[$].fn.call(_[$].context);break;case 2:_[$].fn.call(_[$].context,u);break;case 3:_[$].fn.call(_[$].context,u,d);break;case 4:_[$].fn.call(_[$].context,u,d,h);break;default:if(!x)for(C=1,x=new Array(b-1);C<b;C++)x[C-1]=arguments[C];_[$].fn.apply(_[$].context,x)}}return!0},a.prototype.on=function(c,u,d){return o(this,c,u,d,!1)},a.prototype.once=function(c,u,d){return o(this,c,u,d,!0)},a.prototype.removeListener=function(c,u,d,h){var f=n?n+c:c;if(!this._events[f])return this;if(!u)return r(this,f),this;var p=this._events[f];if(p.fn)p.fn===u&&(!h||p.once)&&(!d||p.context===d)&&r(this,f);else{for(var g=0,_=[],b=p.length;g<b;g++)(p[g].fn!==u||h&&!p[g].once||d&&p[g].context!==d)&&_.push(p[g]);_.length?this._events[f]=_.length===1?_[0]:_:r(this,f)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&r(this,u)):(this._events=new s,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(a3);var xE=a3.exports;const kE=Qv(xE),Pf=new WeakMap,Nf=["error","warn","log","info"];let Vf="warn";function l3(t){if(Vf&&Nf.indexOf(t)<=Nf.indexOf(Vf)){for(var e=arguments.length,n=new Array(e>1?e-1:0),s=1;s<e;s++)n[s-1]=arguments[s];console[t](...n)}}function mi(t){return Nf.reduce((e,n)=>(e[n]=l3.bind(console,n,t),e),{})}mi.level=t=>{Vf=t};l3.level=mi.level;const Ah=mi("quill:events"),SE=["selectionchange","mousedown","mouseup","click"];SE.forEach(t=>{document.addEventListener(t,function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];Array.from(document.querySelectorAll(".ql-container")).forEach(i=>{const o=Pf.get(i);o&&o.emitter&&o.emitter.handleDOM(...n)})})});class be extends kE{constructor(){super(),this.domListeners={},this.on("error",Ah.error)}emit(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return Ah.log.call(Ah,...n),super.emit(...n)}handleDOM(e){for(var n=arguments.length,s=new Array(n>1?n-1:0),i=1;i<n;i++)s[i-1]=arguments[i];(this.domListeners[e.type]||[]).forEach(o=>{let{node:r,handler:a}=o;(e.target===r||r.contains(e.target))&&a(e,...s)})}listenDOM(e,n,s){this.domListeners[e]||(this.domListeners[e]=[]),this.domListeners[e].push({node:n,handler:s})}}P(be,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),P(be,"sources",{API:"api",SILENT:"silent",USER:"user"});const Mh=mi("quill:selection");class Do{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=e,this.length=n}}class $E{constructor(e,n){this.emitter=n,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new Do(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,be.sources.USER),1)}),this.emitter.on(be.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const s=this.getNativeRange();s!=null&&s.start.node!==this.cursor.textNode&&this.emitter.once(be.events.SCROLL_UPDATE,(i,o)=>{try{this.root.contains(s.start.node)&&this.root.contains(s.end.node)&&this.setNativeRange(s.start.node,s.start.offset,s.end.node,s.end.offset);const r=o.some(a=>a.type==="characterData"||a.type==="childList"||a.type==="attributes"&&a.target===this.root);this.update(r?be.sources.SILENT:i)}catch{}})}),this.emitter.on(be.events.SCROLL_OPTIMIZE,(s,i)=>{if(i.range){const{startNode:o,startOffset:r,endNode:a,endOffset:l}=i.range;this.setNativeRange(o,r,a,l),this.update(be.sources.SILENT)}}),this.update(be.sources.SILENT)}handleComposition(){this.emitter.on(be.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(be.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const e=this.cursor.restore();if(!e)return;setTimeout(()=>{this.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(be.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(e,n){this.scroll.update();const s=this.getNativeRange();if(!(s==null||!s.native.collapsed||this.scroll.query(e,ke.BLOCK))){if(s.start.node!==this.cursor.textNode){const i=this.scroll.find(s.start.node,!1);if(i==null)return;if(i instanceof sn){const o=i.split(s.start.offset);i.parent.insertBefore(this.cursor,o)}else i.insertBefore(this.cursor,s.start.node);this.cursor.attach()}this.cursor.format(e,n),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const s=this.scroll.length();e=Math.min(e,s-1),n=Math.min(e+n,s-1)-e;let i,[o,r]=this.scroll.leaf(e);if(o==null)return null;if(n>0&&r===o.length()){const[u]=this.scroll.leaf(e+1);if(u){const[d]=this.scroll.line(e),[h]=this.scroll.line(e+1);d===h&&(o=u,r=0)}}[i,r]=o.position(r,!0);const a=document.createRange();if(n>0)return a.setStart(i,r),[o,r]=this.scroll.leaf(e+n),o==null?null:([i,r]=o.position(r,!0),a.setEnd(i,r),a.getBoundingClientRect());let l="left",c;if(i instanceof Text){if(!i.data.length)return null;r<i.data.length?(a.setStart(i,r),a.setEnd(i,r+1)):(a.setStart(i,r-1),a.setEnd(i,r),l="right"),c=a.getBoundingClientRect()}else{if(!(o.domNode instanceof Element))return null;c=o.domNode.getBoundingClientRect(),r>0&&(l="right")}return{bottom:c.top+c.height,height:c.height,left:c[l],right:c[l],top:c.top,width:0}}getNativeRange(){const e=document.getSelection();if(e==null||e.rangeCount<=0)return null;const n=e.getRangeAt(0);if(n==null)return null;const s=this.normalizeNative(n);return Mh.info("getNativeRange",s),s}getRange(){const e=this.scroll.domNode;if("isConnected"in e&&!e.isConnected)return[null,null];const n=this.getNativeRange();return n==null?[null,null]:[this.normalizedToRange(n),n]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&Eh(this.root,document.activeElement)}normalizedToRange(e){const n=[[e.start.node,e.start.offset]];e.native.collapsed||n.push([e.end.node,e.end.offset]);const s=n.map(r=>{const[a,l]=r,c=this.scroll.find(a,!0),u=c.offset(this.scroll);return l===0?u:c instanceof sn?u+c.index(a,l):u+c.length()}),i=Math.min(Math.max(...s),this.scroll.length()-1),o=Math.min(i,...s);return new Do(o,i-o)}normalizeNative(e){if(!Eh(this.root,e.startContainer)||!e.collapsed&&!Eh(this.root,e.endContainer))return null;const n={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[n.start,n.end].forEach(s=>{let{node:i,offset:o}=s;for(;!(i instanceof Text)&&i.childNodes.length>0;)if(i.childNodes.length>o)i=i.childNodes[o],o=0;else if(i.childNodes.length===o)i=i.lastChild,i instanceof Text?o=i.data.length:i.childNodes.length>0?o=i.childNodes.length:o=i.childNodes.length+1;else break;s.node=i,s.offset=o}),n}rangeToNative(e){const n=this.scroll.length(),s=(i,o)=>{i=Math.min(n-1,i);const[r,a]=this.scroll.leaf(i);return r?r.position(a,o):[null,-1]};return[...s(e.index,!1),...s(e.index+e.length,!0)]}setNativeRange(e,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(Mh.info("setNativeRange",e,n,s,i),e!=null&&(this.root.parentNode==null||e.parentNode==null||s.parentNode==null))return;const r=document.getSelection();if(r!=null)if(e!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:a}=this.getNativeRange()||{};if(a==null||o||e!==a.startContainer||n!==a.startOffset||s!==a.endContainer||i!==a.endOffset){e instanceof Element&&e.tagName==="BR"&&(n=Array.from(e.parentNode.childNodes).indexOf(e),e=e.parentNode),s instanceof Element&&s.tagName==="BR"&&(i=Array.from(s.parentNode.childNodes).indexOf(s),s=s.parentNode);const l=document.createRange();l.setStart(e,n),l.setEnd(s,i),r.removeAllRanges(),r.addRange(l)}}else r.removeAllRanges(),this.root.blur()}setRange(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:be.sources.API;if(typeof n=="string"&&(s=n,n=!1),Mh.info("setRange",e),e!=null){const i=this.rangeToNative(e);this.setNativeRange(...i,n)}else this.setNativeRange(null);this.update(s)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:be.sources.USER;const n=this.lastRange,[s,i]=this.getRange();if(this.lastRange=s,this.lastNative=i,this.lastRange!=null&&(this.savedRange=this.lastRange),!d1(n,this.lastRange)){if(!this.composing&&i!=null&&i.native.collapsed&&i.start.node!==this.cursor.textNode){const r=this.cursor.restore();r&&this.setNativeRange(r.startNode,r.startOffset,r.endNode,r.endOffset)}const o=[be.events.SELECTION_CHANGE,Co(this.lastRange),Co(n),e];this.emitter.emit(be.events.EDITOR_CHANGE,...o),e!==be.sources.SILENT&&this.emitter.emit(...o)}}}function Eh(t,e){try{e.parentNode}catch{return!1}return t.contains(e)}const CE=/^[ -~]*$/;class AE{constructor(e){this.scroll=e,this.delta=this.getDelta()}applyDelta(e){this.scroll.update();let n=this.scroll.length();this.scroll.batchStart();const s=Hg(e),i=new we;return EE(s.ops.slice()).reduce((r,a)=>{const l=Bn.Op.length(a);let c=a.attributes||{},u=!1,d=!1;if(a.insert!=null){if(i.retain(l),typeof a.insert=="string"){const p=a.insert;d=!p.endsWith(`
`)&&(n<=r||!!this.scroll.descendant(zn,r)[0]),this.scroll.insertAt(r,p);const[g,_]=this.scroll.line(r);let b=Bi({},Nn(g));if(g instanceof Xt){const[x]=g.descendant(sn,_);x&&(b=Bi(b,Nn(x)))}c=Bn.AttributeMap.diff(b,c)||{}}else if(typeof a.insert=="object"){const p=Object.keys(a.insert)[0];if(p==null)return r;const g=this.scroll.query(p,ke.INLINE)!=null;if(g)(n<=r||this.scroll.descendant(zn,r)[0])&&(d=!0);else if(r>0){const[_,b]=this.scroll.descendant(sn,r-1);_ instanceof rs?_.value()[b]!==`
`&&(u=!0):_ instanceof Dn&&_.statics.scope===ke.INLINE_BLOT&&(u=!0)}if(this.scroll.insertAt(r,p,a.insert[p]),g){const[_]=this.scroll.descendant(sn,r);if(_){const b=Bi({},Nn(_));c=Bn.AttributeMap.diff(b,c)||{}}}}n+=l}else if(i.push(a),a.retain!==null&&typeof a.retain=="object"){const p=Object.keys(a.retain)[0];if(p==null)return r;this.scroll.updateEmbedAt(r,p,a.retain[p])}Object.keys(c).forEach(p=>{this.scroll.formatAt(r,l,p,c[p])});const h=u?1:0,f=d?1:0;return n+=h+f,i.retain(h),i.delete(f),r+l+h+f},0),i.reduce((r,a)=>typeof a.delete=="number"?(this.scroll.deleteAt(r,a.delete),r):r+Bn.Op.length(a),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(s)}deleteText(e,n){return this.scroll.deleteAt(e,n),this.update(new we().retain(e).delete(n))}formatLine(e,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(s).forEach(o=>{this.scroll.lines(e,Math.max(n,1)).forEach(r=>{r.format(o,s[o])})}),this.scroll.optimize();const i=new we().retain(e).retain(n,Co(s));return this.update(i)}formatText(e,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(s).forEach(o=>{this.scroll.formatAt(e,n,o,s[o])});const i=new we().retain(e).retain(n,Co(s));return this.update(i)}getContents(e,n){return this.delta.slice(e,e+n)}getDelta(){return this.scroll.lines().reduce((e,n)=>e.concat(n.delta()),new we)}getFormat(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=[],i=[];n===0?this.scroll.path(e).forEach(a=>{const[l]=a;l instanceof Xt?s.push(l):l instanceof sn&&i.push(l)}):(s=this.scroll.lines(e,n),i=this.scroll.descendants(sn,e,n));const[o,r]=[s,i].map(a=>{const l=a.shift();if(l==null)return{};let c=Nn(l);for(;Object.keys(c).length>0;){const u=a.shift();if(u==null)return c;c=ME(Nn(u),c)}return c});return{...o,...r}}getHTML(e,n){const[s,i]=this.scroll.line(e);if(s){const o=s.length();return s.length()>=i+n?gl(s,i,n,!(i===0&&n===o)):gl(this.scroll,e,n,!0)}return""}getText(e,n){return this.getContents(e,n).filter(s=>typeof s.insert=="string").map(s=>s.insert).join("")}insertContents(e,n){const s=Hg(n),i=new we().retain(e).concat(s);return this.scroll.insertContents(e,s),this.update(i)}insertEmbed(e,n,s){return this.scroll.insertAt(e,n,s),this.update(new we().retain(e).insert({[n]:s}))}insertText(e,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return n=n.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(e,n),Object.keys(s).forEach(i=>{this.scroll.formatAt(e,n.length,i,s[i])}),this.update(new we().retain(e).insert(n,Co(s)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const e=this.scroll.children.head;if((e==null?void 0:e.statics.blotName)!==Xt.blotName)return!1;const n=e;return n.children.length>1?!1:n.children.head instanceof us}removeFormat(e,n){const s=this.getText(e,n),[i,o]=this.scroll.line(e+n);let r=0,a=new we;i!=null&&(r=i.length()-o,a=i.delta().slice(o,o+r-1).insert(`
`));const c=this.getContents(e,n+r).diff(new we().insert(s).concat(a)),u=new we().retain(e).concat(c);return this.applyDelta(u)}update(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const i=this.delta;if(n.length===1&&n[0].type==="characterData"&&n[0].target.data.match(CE)&&this.scroll.find(n[0].target)){const o=this.scroll.find(n[0].target),r=Nn(o),a=o.offset(this.scroll),l=n[0].oldValue.replace(Dr.CONTENTS,""),c=new we().insert(l),u=new we().insert(o.value()),d=s&&{oldRange:Yg(s.oldRange,-a),newRange:Yg(s.newRange,-a)};e=new we().retain(a).concat(c.diff(u,d)).reduce((f,p)=>p.insert?f.insert(p.insert,r):f.push(p),new we),this.delta=i.compose(e)}else this.delta=this.getDelta(),(!e||!d1(i.compose(e),this.delta))&&(e=i.diff(this.delta,s));return e}}function pr(t,e,n){if(t.length===0){const[f]=Th(n.pop());return e<=0?`</li></${f}>`:`</li></${f}>${pr([],e-1,n)}`}const[{child:s,offset:i,length:o,indent:r,type:a},...l]=t,[c,u]=Th(a);if(r>e)return n.push(a),r===e+1?`<${c}><li${u}>${gl(s,i,o)}${pr(l,r,n)}`:`<${c}><li>${pr(t,e+1,n)}`;const d=n[n.length-1];if(r===e&&a===d)return`</li><li${u}>${gl(s,i,o)}${pr(l,r,n)}`;const[h]=Th(n.pop());return`</li></${h}>${pr(t,e-1,n)}`}function gl(t,e,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in t&&typeof t.html=="function")return t.html(e,n);if(t instanceof rs)return cd(t.value().slice(e,e+n));if(t instanceof ss){if(t.statics.blotName==="list-container"){const c=[];return t.children.forEachAt(e,n,(u,d,h)=>{const f="formats"in u&&typeof u.formats=="function"?u.formats():{};c.push({child:u,offset:d,length:h,indent:f.indent||0,type:f.list})}),pr(c,-1,[])}const i=[];if(t.children.forEachAt(e,n,(c,u,d)=>{i.push(gl(c,u,d))}),s||t.statics.blotName==="list")return i.join("");const{outerHTML:o,innerHTML:r}=t.domNode,[a,l]=o.split(`>${r}<`);return a==="<table"?`<table style="border: 1px solid #000;">${i.join("")}<${l}`:`${a}>${i.join("")}<${l}`}return t.domNode instanceof Element?t.domNode.outerHTML:""}function ME(t,e){return Object.keys(e).reduce((n,s)=>{if(t[s]==null)return n;const i=e[s];return i===t[s]?n[s]=i:Array.isArray(i)?i.indexOf(t[s])<0?n[s]=i.concat([t[s]]):n[s]=i:n[s]=[i,t[s]],n},{})}function Th(t){const e=t==="ordered"?"ol":"ul";switch(t){case"checked":return[e,' data-list="checked"'];case"unchecked":return[e,' data-list="unchecked"'];default:return[e,""]}}function Hg(t){return t.reduce((e,n)=>{if(typeof n.insert=="string"){const s=n.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return e.insert(s,n.attributes)}return e.push(n)},new we)}function Yg(t,e){let{index:n,length:s}=t;return new Do(n+e,s)}function EE(t){const e=[];return t.forEach(n=>{typeof n.insert=="string"?n.insert.split(`
`).forEach((i,o)=>{o&&e.push({insert:`
`,attributes:n.attributes}),i&&e.push({insert:i,attributes:n.attributes})}):e.push(n)}),e}class ds{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=e,this.options=n}}P(ds,"DEFAULTS",{});const mc="\uFEFF";class ud extends Dn{constructor(e,n){super(e,n),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(s=>{this.contentNode.appendChild(s)}),this.leftGuard=document.createTextNode(mc),this.rightGuard=document.createTextNode(mc),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(e,n){return e===this.leftGuard?0:e===this.rightGuard?1:super.index(e,n)}restore(e){let n=null,s;const i=e.data.split(mc).join("");if(e===this.leftGuard)if(this.prev instanceof rs){const o=this.prev.length();this.prev.insertAt(o,i),n={startNode:this.prev.domNode,startOffset:o+i.length}}else s=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(s),this),n={startNode:s,startOffset:i.length};else e===this.rightGuard&&(this.next instanceof rs?(this.next.insertAt(0,i),n={startNode:this.next.domNode,startOffset:i.length}):(s=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(s),this.next),n={startNode:s,startOffset:i.length}));return e.data=mc,n}update(e,n){e.forEach(s=>{if(s.type==="characterData"&&(s.target===this.leftGuard||s.target===this.rightGuard)){const i=this.restore(s.target);i&&(n.range=i)}})}}class TE{constructor(e,n){P(this,"isComposing",!1);this.scroll=e,this.emitter=n,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",e=>{this.isComposing||this.handleCompositionStart(e)}),this.scroll.domNode.addEventListener("compositionend",e=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(e)})})}handleCompositionStart(e){const n=e.target instanceof Node?this.scroll.find(e.target,!0):null;n&&!(n instanceof ud)&&(this.emitter.emit(be.events.COMPOSITION_BEFORE_START,e),this.scroll.batchStart(),this.emitter.emit(be.events.COMPOSITION_START,e),this.isComposing=!0)}handleCompositionEnd(e){this.emitter.emit(be.events.COMPOSITION_BEFORE_END,e),this.scroll.batchEnd(),this.emitter.emit(be.events.COMPOSITION_END,e),this.isComposing=!1}}const Za=class Za{constructor(e,n){P(this,"modules",{});this.quill=e,this.options=n}init(){Object.keys(this.options.modules).forEach(e=>{this.modules[e]==null&&this.addModule(e)})}addModule(e){const n=this.quill.constructor.import(`modules/${e}`);return this.modules[e]=new n(this.quill,this.options.modules[e]||{}),this.modules[e]}};P(Za,"DEFAULTS",{modules:{}}),P(Za,"themes",{default:Za});let Ir=Za;const LE=t=>t.parentElement||t.getRootNode().host||null,OE=t=>{const e=t.getBoundingClientRect(),n="offsetWidth"in t&&Math.abs(e.width)/t.offsetWidth||1,s="offsetHeight"in t&&Math.abs(e.height)/t.offsetHeight||1;return{top:e.top,right:e.left+t.clientWidth*n,bottom:e.top+t.clientHeight*s,left:e.left}},gc=t=>{const e=parseInt(t,10);return Number.isNaN(e)?0:e},Kg=(t,e,n,s,i,o)=>t<n&&e>s?0:t<n?-(n-t+i):e>s?e-t>s-n?t+i-n:e-s+o:0,DE=(t,e)=>{var o,r,a;const n=t.ownerDocument;let s=e,i=t;for(;i;){const l=i===n.body,c=l?{top:0,right:((o=window.visualViewport)==null?void 0:o.width)??n.documentElement.clientWidth,bottom:((r=window.visualViewport)==null?void 0:r.height)??n.documentElement.clientHeight,left:0}:OE(i),u=getComputedStyle(i),d=Kg(s.left,s.right,c.left,c.right,gc(u.scrollPaddingLeft),gc(u.scrollPaddingRight)),h=Kg(s.top,s.bottom,c.top,c.bottom,gc(u.scrollPaddingTop),gc(u.scrollPaddingBottom));if(d||h)if(l)(a=n.defaultView)==null||a.scrollBy(d,h);else{const{scrollLeft:f,scrollTop:p}=i;h&&(i.scrollTop+=h),d&&(i.scrollLeft+=d);const g=i.scrollLeft-f,_=i.scrollTop-p;s={left:s.left-g,top:s.top-_,right:s.right-g,bottom:s.bottom-_}}i=l||u.position==="fixed"?null:LE(i)}},Xc=mi("quill"),_c=new fl;ss.uiClass="ql-ui";const Jn=class Jn{static debug(e){e===!0&&(e="log"),mi.level(e)}static find(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Pf.get(e)||_c.find(e,n)}static import(e){return this.imports[e]==null&&Xc.error(`Cannot import ${e}. Are you sure it was registered?`),this.imports[e]}static register(e,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof e!="string"){const i="attrName"in e?e.attrName:e.blotName;typeof i=="string"?this.register(`formats/${i}`,e,n):Object.keys(e).forEach(o=>{this.register(o,e[o],n)})}else this.imports[e]!=null&&!s&&Xc.warn(`Overwriting ${e} with`,n),this.imports[e]=n,(e.startsWith("blots/")||e.startsWith("formats/"))&&n&&typeof n!="boolean"&&n.blotName!=="abstract"&&_c.register(n),typeof n.register=="function"&&n.register(_c)}constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=IE(e,n),this.container=this.options.container,this.container==null){Xc.error("Invalid Quill container",e);return}this.options.debug&&Jn.debug(this.options.debug);const s=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",Pf.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new be;const i=f1.blotName,o=this.options.registry.query(i);if(!o||!("blotName"in o))throw new Error(`Cannot initialize Quill without "${i}" blot`);if(this.scroll=new o(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new AE(this.scroll),this.selection=new $E(this.scroll,this.emitter),this.composition=new TE(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(be.events.EDITOR_CHANGE,r=>{r===be.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(be.events.SCROLL_UPDATE,(r,a)=>{const l=this.selection.lastRange,[c]=this.selection.getRange(),u=l&&c?{oldRange:l,newRange:c}:void 0;Gn.call(this,()=>this.editor.update(null,a,u),r)}),this.emitter.on(be.events.SCROLL_EMBED_UPDATE,(r,a)=>{const l=this.selection.lastRange,[c]=this.selection.getRange(),u=l&&c?{oldRange:l,newRange:c}:void 0;Gn.call(this,()=>{const d=new we().retain(r.offset(this)).retain({[r.statics.blotName]:a});return this.editor.update(d,[],u)},Jn.sources.USER)}),s){const r=this.clipboard.convert({html:`${s}<p><br></p>`,text:`
`});this.setContents(r)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof e=="string"){const s=e;e=document.createElement("div"),e.classList.add(s)}return this.container.insertBefore(e,n),e}blur(){this.selection.setRange(null)}deleteText(e,n,s){return[e,n,,s]=Ws(e,n,s),Gn.call(this,()=>this.editor.deleteText(e,n),s,e,-1*n)}disable(){this.enable(!1)}editReadOnly(e){this.allowReadOnlyEdits=!0;const n=e();return this.allowReadOnlyEdits=!1,n}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}focus(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),e.preventScroll||this.scrollSelectionIntoView()}format(e,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:be.sources.API;return Gn.call(this,()=>{const i=this.getSelection(!0);let o=new we;if(i==null)return o;if(this.scroll.query(e,ke.BLOCK))o=this.editor.formatLine(i.index,i.length,{[e]:n});else{if(i.length===0)return this.selection.format(e,n),o;o=this.editor.formatText(i.index,i.length,{[e]:n})}return this.setSelection(i,be.sources.SILENT),o},s)}formatLine(e,n,s,i,o){let r;return[e,n,r,o]=Ws(e,n,s,i,o),Gn.call(this,()=>this.editor.formatLine(e,n,r),o,e,0)}formatText(e,n,s,i,o){let r;return[e,n,r,o]=Ws(e,n,s,i,o),Gn.call(this,()=>this.editor.formatText(e,n,r),o,e,0)}getBounds(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=null;if(typeof e=="number"?s=this.selection.getBounds(e,n):s=this.selection.getBounds(e.index,e.length),!s)return null;const i=this.container.getBoundingClientRect();return{bottom:s.bottom-i.top,height:s.height,left:s.left-i.left,right:s.right-i.left,top:s.top-i.top,width:s.width}}getContents(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-e;return[e,n]=Ws(e,n),this.editor.getContents(e,n)}getFormat(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof e=="number"?this.editor.getFormat(e,n):this.editor.getFormat(e.index,e.length)}getIndex(e){return e.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(e){return this.scroll.leaf(e)}getLine(e){return this.scroll.line(e)}getLines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof e!="number"?this.scroll.lines(e.index,e.length):this.scroll.lines(e,n)}getModule(e){return this.theme.modules[e]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(n=n??this.getLength()-e),[e,n]=Ws(e,n),this.editor.getHTML(e,n)}getText(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(n=n??this.getLength()-e),[e,n]=Ws(e,n),this.editor.getText(e,n)}hasFocus(){return this.selection.hasFocus()}insertEmbed(e,n,s){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Jn.sources.API;return Gn.call(this,()=>this.editor.insertEmbed(e,n,s),i,e)}insertText(e,n,s,i,o){let r;return[e,,r,o]=Ws(e,0,s,i,o),Gn.call(this,()=>this.editor.insertText(e,n,r),o,e,n.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(){const[e,n,,s]=Ws(...arguments);return Gn.call(this,()=>this.editor.removeFormat(e,n),s,e)}scrollRectIntoView(e){DE(this.root,e)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const e=this.selection.lastRange,n=e&&this.selection.getBounds(e.index,e.length);n&&this.scrollRectIntoView(n)}setContents(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:be.sources.API;return Gn.call(this,()=>{e=new we(e);const s=this.getLength(),i=this.editor.deleteText(0,s),o=this.editor.insertContents(0,e),r=this.editor.deleteText(this.getLength()-1,1);return i.compose(o).compose(r)},n)}setSelection(e,n,s){e==null?this.selection.setRange(null,n||Jn.sources.API):([e,n,,s]=Ws(e,n,s),this.selection.setRange(new Do(Math.max(0,e),n),s),s!==be.sources.SILENT&&this.scrollSelectionIntoView())}setText(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:be.sources.API;const s=new we().insert(e);return this.setContents(s,n)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:be.sources.USER;const n=this.scroll.update(e);return this.selection.update(e),n}updateContents(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:be.sources.API;return Gn.call(this,()=>(e=new we(e),this.editor.applyDelta(e)),n,!0)}};P(Jn,"DEFAULTS",{bounds:null,modules:{},placeholder:"",readOnly:!1,registry:_c,theme:"default"}),P(Jn,"events",be.events),P(Jn,"sources",be.sources),P(Jn,"version","2.0.0-rc.2"),P(Jn,"imports",{delta:we,parchment:lE,"core/module":ds,"core/theme":Ir});let ne=Jn;function IE(t,e){let n=Bi({container:t,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0}},e);if(!n.theme||n.theme===ne.DEFAULTS.theme)n.theme=Ir;else if(n.theme=ne.import(`themes/${n.theme}`),n.theme==null)throw new Error(`Invalid theme ${n.theme}. Did you register it?`);const s=Co(n.theme.DEFAULTS);[s,n].forEach(r=>{r.modules=r.modules||{},Object.keys(r.modules).forEach(a=>{r.modules[a]===!0&&(r.modules[a]={})})});const o=Object.keys(s.modules).concat(Object.keys(n.modules)).reduce((r,a)=>{const l=ne.import(`modules/${a}`);return l==null?Xc.error(`Cannot load ${a} module. Are you sure you registered it?`):r[a]=l.DEFAULTS||{},r},{});return n.modules!=null&&n.modules.toolbar&&n.modules.toolbar.constructor!==Object&&(n.modules.toolbar={container:n.modules.toolbar}),n=Bi({},ne.DEFAULTS,{modules:o},s,n),["bounds","container"].forEach(r=>{const a=n[r];typeof a=="string"&&(n[r]=document.querySelector(a))}),n.modules=Object.keys(n.modules).reduce((r,a)=>(n.modules[a]&&(r[a]=n.modules[a]),r),{}),n}function Gn(t,e,n,s){if(!this.isEnabled()&&e===be.sources.USER&&!this.allowReadOnlyEdits)return new we;let i=n==null?null:this.getSelection();const o=this.editor.delta,r=t();if(i!=null&&(n===!0&&(n=i.index),s==null?i=Xg(i,r,e):s!==0&&(i=Xg(i,n,s,e)),this.setSelection(i,be.sources.SILENT)),r.length()>0){const a=[be.events.TEXT_CHANGE,r,o,e];this.emitter.emit(be.events.EDITOR_CHANGE,...a),e!==be.sources.SILENT&&this.emitter.emit(...a)}return r}function Ws(t,e,n,s,i){let o={};return typeof t.index=="number"&&typeof t.length=="number"?typeof e!="number"?(i=s,s=n,n=e,e=t.length,t=t.index):(e=t.length,t=t.index):typeof e!="number"&&(i=s,s=n,n=e,e=0),typeof n=="object"?(o=n,i=s):typeof n=="string"&&(s!=null?o[n]=s:i=n),i=i||be.sources.API,[t,e,o,i]}function Xg(t,e,n,s){const i=typeof n=="number"?n:0;if(t==null)return null;let o,r;return e&&typeof e.transformPosition=="function"?[o,r]=[t.index,t.index+t.length].map(a=>e.transformPosition(a,s!==be.sources.USER)):[o,r]=[t.index,t.index+t.length].map(a=>a<e||a===e&&s===be.sources.USER?a:i>=0?a+i:Math.max(e,a+i)),new Do(o,r-o)}class Ho extends od{}function Gg(t){return t instanceof Xt||t instanceof zn}function Jg(t){return typeof t.updateContent=="function"}class mr extends f1{constructor(e,n,s){let{emitter:i}=s;super(e,n),this.emitter=i,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",o=>this.handleDragStart(o))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const e=this.batch;this.batch=!1,this.update(e)}emitMount(e){this.emitter.emit(be.events.SCROLL_BLOT_MOUNT,e)}emitUnmount(e){this.emitter.emit(be.events.SCROLL_BLOT_UNMOUNT,e)}emitEmbedUpdate(e,n){this.emitter.emit(be.events.SCROLL_EMBED_UPDATE,e,n)}deleteAt(e,n){const[s,i]=this.line(e),[o]=this.line(e+n);if(super.deleteAt(e,n),o!=null&&s!==o&&i>0){if(s instanceof zn||o instanceof zn){this.optimize();return}const r=o.children.head instanceof us?null:o.children.head;s.moveChildren(o,r),s.remove()}this.optimize()}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",e?"true":"false")}formatAt(e,n,s,i){super.formatAt(e,n,s,i),this.optimize()}insertAt(e,n,s){if(e>=this.length())if(s==null||this.scroll.query(n,ke.BLOCK)==null){const i=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(i),s==null&&n.endsWith(`
`)?i.insertAt(0,n.slice(0,-1),s):i.insertAt(0,n,s)}else{const i=this.scroll.create(n,s);this.appendChild(i)}else super.insertAt(e,n,s);this.optimize()}insertBefore(e,n){if(e.statics.scope===ke.INLINE_BLOT){const s=this.scroll.create(this.statics.defaultChild.blotName);s.appendChild(e),super.insertBefore(s,n)}else super.insertBefore(e,n)}insertContents(e,n){const s=this.deltaToRenderBlocks(n.concat(new we().insert(`
`))),i=s.pop();if(i==null)return;this.batchStart();const o=s.shift();if(o){const l=o.type==="block"&&(o.delta.length()===0||!this.descendant(zn,e)[0]&&e<this.length()),c=o.type==="block"?o.delta:new we().insert({[o.key]:o.value});Lh(this,e,c);const u=o.type==="block"?1:0,d=e+c.length()+u;l&&this.insertAt(d-1,`
`);const h=Nn(this.line(e)[0]),f=Bn.AttributeMap.diff(h,o.attributes)||{};Object.keys(f).forEach(p=>{this.formatAt(d-1,1,p,f[p])}),e=d}let[r,a]=this.children.find(e);if(s.length&&(r&&(r=r.split(a),a=0),s.forEach(l=>{if(l.type==="block"){const c=this.createBlock(l.attributes,r||void 0);Lh(c,0,l.delta)}else{const c=this.create(l.key,l.value);this.insertBefore(c,r||void 0),Object.keys(l.attributes).forEach(u=>{c.format(u,l.attributes[u])})}})),i.type==="block"&&i.delta.length()){const l=r?r.offset(r.scroll)+a:this.length();Lh(this,l,i.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(e){const n=this.path(e).pop();if(!n)return[null,-1];const[s,i]=n;return s instanceof sn?[s,i]:[null,-1]}line(e){return e===this.length()?this.line(e-1):this.descendant(Gg,e)}lines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const s=(i,o,r)=>{let a=[],l=r;return i.children.forEachAt(o,r,(c,u,d)=>{Gg(c)?a.push(c):c instanceof od&&(a=a.concat(s(c,u,l))),l-=d}),a};return s(this,e,n)}optimize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(e,n),e.length>0&&this.emitter.emit(be.events.SCROLL_OPTIMIZE,e,n))}path(e){return super.path(e).slice(1)}remove(){}update(e){if(this.batch){Array.isArray(e)&&(this.batch=this.batch.concat(e));return}let n=be.sources.USER;typeof e=="string"&&(n=e),Array.isArray(e)||(e=this.observer.takeRecords()),e=e.filter(s=>{let{target:i}=s;const o=this.find(i,!0);return o&&!Jg(o)}),e.length>0&&this.emitter.emit(be.events.SCROLL_BEFORE_UPDATE,n,e),super.update(e.concat([])),e.length>0&&this.emitter.emit(be.events.SCROLL_UPDATE,n,e)}updateEmbedAt(e,n,s){const[i]=this.descendant(o=>o instanceof zn,e);i&&i.statics.blotName===n&&Jg(i)&&i.updateContent(s)}handleDragStart(e){e.preventDefault()}deltaToRenderBlocks(e){const n=[];let s=new we;return e.forEach(i=>{const o=i==null?void 0:i.insert;if(o)if(typeof o=="string"){const r=o.split(`
`);r.slice(0,-1).forEach(l=>{s.insert(l,i.attributes),n.push({type:"block",delta:s,attributes:i.attributes??{}}),s=new we});const a=r[r.length-1];a&&s.insert(a,i.attributes)}else{const r=Object.keys(o)[0];if(!r)return;this.query(r,ke.INLINE)?s.push(i):(s.length()&&n.push({type:"block",delta:s,attributes:{}}),s=new we,n.push({type:"blockEmbed",key:r,value:o[r],attributes:i.attributes??{}}))}}),s.length()&&n.push({type:"block",delta:s,attributes:{}}),n}createBlock(e,n){let s;const i={};Object.entries(e).forEach(a=>{let[l,c]=a;this.query(l,ke.BLOCK&ke.BLOT)!=null?s=l:i[l]=c});const o=this.create(s||this.statics.defaultChild.blotName,s?e[s]:void 0);this.insertBefore(o,n||void 0);const r=o.length();return Object.entries(i).forEach(a=>{let[l,c]=a;o.formatAt(0,r,l,c)}),o}}P(mr,"blotName","scroll"),P(mr,"className","ql-editor"),P(mr,"tagName","DIV"),P(mr,"defaultChild",Xt),P(mr,"allowedChildren",[Xt,zn,Ho]);function Lh(t,e,n){n.reduce((s,i)=>{const o=Bn.Op.length(i);let r=i.attributes||{};if(i.insert!=null){if(typeof i.insert=="string"){const a=i.insert;t.insertAt(s,a);const[l]=t.descendant(sn,s),c=Nn(l);r=Bn.AttributeMap.diff(c,r)||{}}else if(typeof i.insert=="object"){const a=Object.keys(i.insert)[0];if(a==null)return s;if(t.insertAt(s,a,i.insert[a]),t.scroll.query(a,ke.INLINE)!=null){const[c]=t.descendant(sn,s),u=Nn(c);r=Bn.AttributeMap.diff(u,r)||{}}}}return Object.keys(r).forEach(a=>{t.formatAt(s,o,a,r[a])}),s+o},e)}const v1={scope:ke.BLOCK,whitelist:["right","center","justify"]},RE=new Os("align","align",v1),c3=new cs("align","ql-align",v1),u3=new Ji("align","text-align",v1);class d3 extends Ji{value(e){let n=super.value(e);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${n.split(",").map(i=>`00${parseInt(i,10).toString(16)}`.slice(-2)).join("")}`):n}}const PE=new cs("color","ql-color",{scope:ke.INLINE}),b1=new d3("color","color",{scope:ke.INLINE}),NE=new cs("background","ql-bg",{scope:ke.INLINE}),y1=new d3("background","background-color",{scope:ke.INLINE});class Yo extends Ho{static create(e){const n=super.create(e);return n.setAttribute("spellcheck","false"),n}code(e,n){return this.children.map(s=>s.length()<=1?"":s.domNode.innerText).join(`
`).slice(e,e+n)}html(e,n){return`<pre>
${cd(this.code(e,n))}
</pre>`}}class an extends Xt{static register(){ne.register(Yo)}}P(an,"TAB","  ");class w1 extends Hn{}w1.blotName="code";w1.tagName="CODE";an.blotName="code-block";an.className="ql-code-block";an.tagName="DIV";Yo.blotName="code-block-container";Yo.className="ql-code-block-container";Yo.tagName="DIV";Yo.allowedChildren=[an];an.allowedChildren=[rs,us,Dr];an.requiredContainer=Yo;const x1={scope:ke.BLOCK,whitelist:["rtl"]},h3=new Os("direction","dir",x1),f3=new cs("direction","ql-direction",x1),p3=new Ji("direction","direction",x1),m3={scope:ke.INLINE,whitelist:["serif","monospace"]},g3=new cs("font","ql-font",m3);class VE extends Ji{value(e){return super.value(e).replace(/["']/g,"")}}const _3=new VE("font","font-family",m3),v3=new cs("size","ql-size",{scope:ke.INLINE,whitelist:["small","large","huge"]}),b3=new Ji("size","font-size",{scope:ke.INLINE,whitelist:["10px","18px","32px"]}),zE=mi("quill:keyboard"),BE=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class dd extends ds{static match(e,n){return["altKey","ctrlKey","metaKey","shiftKey"].some(s=>!!n[s]!==e[s]&&n[s]!==null)?!1:n.key===e.key||n.key===e.which}constructor(e,n){super(e,n),this.bindings={},Object.keys(this.options.bindings).forEach(s=>{this.options.bindings[s]&&this.addBinding(this.options.bindings[s])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=FE(e);if(i==null){zE.warn("Attempted to add invalid keyboard binding",i);return}typeof n=="function"&&(n={handler:n}),typeof s=="function"&&(s={handler:s}),(Array.isArray(i.key)?i.key:[i.key]).forEach(r=>{const a={...i,key:r,...n,...s};this.bindings[a.key]=this.bindings[a.key]||[],this.bindings[a.key].push(a)})}listen(){this.quill.root.addEventListener("keydown",e=>{if(e.defaultPrevented||e.isComposing)return;const s=(this.bindings[e.key]||[]).concat(this.bindings[e.which]||[]).filter(_=>dd.match(e,_));if(s.length===0)return;const i=ne.find(e.target,!0);if(i&&i.scroll!==this.quill.scroll)return;const o=this.quill.getSelection();if(o==null||!this.quill.hasFocus())return;const[r,a]=this.quill.getLine(o.index),[l,c]=this.quill.getLeaf(o.index),[u,d]=o.length===0?[l,c]:this.quill.getLeaf(o.index+o.length),h=l instanceof xu?l.value().slice(0,c):"",f=u instanceof xu?u.value().slice(d):"",p={collapsed:o.length===0,empty:o.length===0&&r.length()<=1,format:this.quill.getFormat(o),line:r,offset:a,prefix:h,suffix:f,event:e};s.some(_=>{if(_.collapsed!=null&&_.collapsed!==p.collapsed||_.empty!=null&&_.empty!==p.empty||_.offset!=null&&_.offset!==p.offset)return!1;if(Array.isArray(_.format)){if(_.format.every(b=>p.format[b]==null))return!1}else if(typeof _.format=="object"&&!Object.keys(_.format).every(b=>_.format[b]===!0?p.format[b]!=null:_.format[b]===!1?p.format[b]==null:d1(_.format[b],p.format[b])))return!1;return _.prefix!=null&&!_.prefix.test(p.prefix)||_.suffix!=null&&!_.suffix.test(p.suffix)?!1:_.handler.call(this,o,p,_)!==!0})&&e.preventDefault()})}handleBackspace(e,n){const s=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(n.prefix)?2:1;if(e.index===0||this.quill.getLength()<=1)return;let i={};const[o]=this.quill.getLine(e.index);let r=new we().retain(e.index-s).delete(s);if(n.offset===0){const[a]=this.quill.getLine(e.index-1);if(a&&!(a.statics.blotName==="block"&&a.length()<=1)){const c=o.formats(),u=this.quill.getFormat(e.index-1,1);if(i=Bn.AttributeMap.diff(c,u)||{},Object.keys(i).length>0){const d=new we().retain(e.index+o.length()-2).retain(1,i);r=r.compose(d)}}}this.quill.updateContents(r,ne.sources.USER),this.quill.focus()}handleDelete(e,n){const s=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(n.suffix)?2:1;if(e.index>=this.quill.getLength()-s)return;let i={};const[o]=this.quill.getLine(e.index);let r=new we().retain(e.index).delete(s);if(n.offset>=o.length()-1){const[a]=this.quill.getLine(e.index+1);if(a){const l=o.formats(),c=this.quill.getFormat(e.index,1);i=Bn.AttributeMap.diff(l,c)||{},Object.keys(i).length>0&&(r=r.retain(a.length()-1).retain(1,i))}}this.quill.updateContents(r,ne.sources.USER),this.quill.focus()}handleDeleteRange(e){k1({range:e,quill:this.quill}),this.quill.focus()}handleEnter(e,n){const s=Object.keys(n.format).reduce((o,r)=>(this.quill.scroll.query(r,ke.BLOCK)&&!Array.isArray(n.format[r])&&(o[r]=n.format[r]),o),{}),i=new we().retain(e.index).delete(e.length).insert(`
`,s);this.quill.updateContents(i,ne.sources.USER),this.quill.setSelection(e.index+1,ne.sources.SILENT),this.quill.focus()}}const UE={bindings:{bold:Oh("bold"),italic:Oh("italic"),underline:Oh("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(t,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","+1",ne.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(t,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","-1",ne.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(t,e){e.format.indent!=null?this.quill.format("indent","-1",ne.sources.USER):e.format.list!=null&&this.quill.format("list",!1,ne.sources.USER)}},"indent code-block":Zg(!0),"outdent code-block":Zg(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(t){this.quill.deleteText(t.index-1,1,ne.sources.USER)}},tab:{key:"Tab",handler(t,e){if(e.format.table)return!0;this.quill.history.cutoff();const n=new we().retain(t.index).delete(t.length).insert("	");return this.quill.updateContents(n,ne.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index+1,ne.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,ne.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(t,e){const n={list:!1};e.format.indent&&(n.indent=!1),this.quill.formatLine(t.index,t.length,n,ne.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(t){const[e,n]=this.quill.getLine(t.index),s={...e.formats(),list:"checked"},i=new we().retain(t.index).insert(`
`,s).retain(e.length()-n-1).retain(1,{list:"unchecked"});this.quill.updateContents(i,ne.sources.USER),this.quill.setSelection(t.index+1,ne.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(t,e){const[n,s]=this.quill.getLine(t.index),i=new we().retain(t.index).insert(`
`,e.format).retain(n.length()-s-1).retain(1,{header:null});this.quill.updateContents(i,ne.sources.USER),this.quill.setSelection(t.index+1,ne.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(t){const e=this.quill.getModule("table");if(e){const[n,s,i,o]=e.getTable(t),r=qE(n,s,i,o);if(r==null)return;let a=n.offset();if(r<0){const l=new we().retain(a).insert(`
`);this.quill.updateContents(l,ne.sources.USER),this.quill.setSelection(t.index+1,t.length,ne.sources.SILENT)}else if(r>0){a+=n.length();const l=new we().retain(a).insert(`
`);this.quill.updateContents(l,ne.sources.USER),this.quill.setSelection(a,ne.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(t,e){const{event:n,line:s}=e,i=s.offset(this.quill.scroll);n.shiftKey?this.quill.setSelection(i-1,ne.sources.USER):this.quill.setSelection(i+s.length(),ne.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(t,e){if(this.quill.scroll.query("list")==null)return!0;const{length:n}=e.prefix,[s,i]=this.quill.getLine(t.index);if(i>n)return!0;let o;switch(e.prefix.trim()){case"[]":case"[ ]":o="unchecked";break;case"[x]":o="checked";break;case"-":case"*":o="bullet";break;default:o="ordered"}this.quill.insertText(t.index," ",ne.sources.USER),this.quill.history.cutoff();const r=new we().retain(t.index-i).delete(n+1).retain(s.length()-2-i).retain(1,{list:o});return this.quill.updateContents(r,ne.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index-n,ne.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(t){const[e,n]=this.quill.getLine(t.index);let s=2,i=e;for(;i!=null&&i.length()<=1&&i.formats()["code-block"];)if(i=i.prev,s-=1,s<=0){const o=new we().retain(t.index+e.length()-n-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(o,ne.sources.USER),this.quill.setSelection(t.index-1,ne.sources.SILENT),!1}return!0}},"embed left":vc("ArrowLeft",!1),"embed left shift":vc("ArrowLeft",!0),"embed right":vc("ArrowRight",!1),"embed right shift":vc("ArrowRight",!0),"table down":Qg(!1),"table up":Qg(!0)}};dd.DEFAULTS=UE;function Zg(t){return{key:"Tab",shiftKey:!t,format:{"code-block":!0},handler(e,n){let{event:s}=n;const i=this.quill.scroll.query("code-block"),{TAB:o}=i;if(e.length===0&&!s.shiftKey){this.quill.insertText(e.index,o,ne.sources.USER),this.quill.setSelection(e.index+o.length,ne.sources.SILENT);return}const r=e.length===0?this.quill.getLines(e.index,1):this.quill.getLines(e);let{index:a,length:l}=e;r.forEach((c,u)=>{t?(c.insertAt(0,o),u===0?a+=o.length:l+=o.length):c.domNode.textContent.startsWith(o)&&(c.deleteAt(0,o.length),u===0?a-=o.length:l-=o.length)}),this.quill.update(ne.sources.USER),this.quill.setSelection(a,l,ne.sources.SILENT)}}}function vc(t,e){return{key:t,shiftKey:e,altKey:null,[t==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(s){let{index:i}=s;t==="ArrowRight"&&(i+=s.length+1);const[o]=this.quill.getLeaf(i);return o instanceof Dn?(t==="ArrowLeft"?e?this.quill.setSelection(s.index-1,s.length+1,ne.sources.USER):this.quill.setSelection(s.index-1,ne.sources.USER):e?this.quill.setSelection(s.index,s.length+1,ne.sources.USER):this.quill.setSelection(s.index+s.length+1,ne.sources.USER),!1):!0}}}function Oh(t){return{key:t[0],shortKey:!0,handler(e,n){this.quill.format(t,!n.format[t],ne.sources.USER)}}}function Qg(t){return{key:t?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(e,n){const s=t?"prev":"next",i=n.line,o=i.parent[s];if(o!=null){if(o.statics.blotName==="table-row"){let r=o.children.head,a=i;for(;a.prev!=null;)a=a.prev,r=r.next;const l=r.offset(this.quill.scroll)+Math.min(n.offset,r.length()-1);this.quill.setSelection(l,0,ne.sources.USER)}}else{const r=i.table()[s];r!=null&&(t?this.quill.setSelection(r.offset(this.quill.scroll)+r.length()-1,0,ne.sources.USER):this.quill.setSelection(r.offset(this.quill.scroll),0,ne.sources.USER))}return!1}}}function FE(t){if(typeof t=="string"||typeof t=="number")t={key:t};else if(typeof t=="object")t=Co(t);else return null;return t.shortKey&&(t[BE]=t.shortKey,delete t.shortKey),t}function k1(t){let{quill:e,range:n}=t;const s=e.getLines(n);let i={};if(s.length>1){const o=s[0].formats(),r=s[s.length-1].formats();i=Bn.AttributeMap.diff(r,o)||{}}e.deleteText(n,ne.sources.USER),Object.keys(i).length>0&&e.formatLine(n.index,1,i,ne.sources.USER),e.setSelection(n.index,ne.sources.SILENT)}function qE(t,e,n,s){return e.prev==null&&e.next==null?n.prev==null&&n.next==null?s===0?-1:1:n.prev==null?-1:1:e.prev==null?-1:e.next==null?1:null}const WE=/font-weight:\s*normal/,jE=["P","OL","UL"],e_=t=>t&&jE.includes(t.tagName),HE=t=>{Array.from(t.querySelectorAll("br")).filter(e=>e_(e.previousElementSibling)&&e_(e.nextElementSibling)).forEach(e=>{var n;(n=e.parentNode)==null||n.removeChild(e)})},YE=t=>{Array.from(t.querySelectorAll('b[style*="font-weight"]')).filter(e=>{var n;return(n=e.getAttribute("style"))==null?void 0:n.match(WE)}).forEach(e=>{var s;const n=t.createDocumentFragment();n.append(...e.childNodes),(s=e.parentNode)==null||s.replaceChild(n,e)})};function KE(t){t.querySelector('[id^="docs-internal-guid-"]')&&(YE(t),HE(t))}const XE=/\bmso-list:[^;]*ignore/i,GE=/\bmso-list:[^;]*\bl(\d+)/i,JE=/\bmso-list:[^;]*\blevel(\d+)/i,ZE=(t,e)=>{const n=t.getAttribute("style"),s=n==null?void 0:n.match(GE);if(!s)return null;const i=Number(s[1]),o=n==null?void 0:n.match(JE),r=o?Number(o[1]):1,a=new RegExp(`@list l${i}:level${r}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),l=e.match(a),c=l&&l[1]==="bullet"?"bullet":"ordered";return{id:i,indent:r,type:c,element:t}},QE=t=>{var r,a;const e=Array.from(t.querySelectorAll("[style*=mso-list]")),n=[],s=[];e.forEach(l=>{(l.getAttribute("style")||"").match(XE)?n.push(l):s.push(l)}),n.forEach(l=>{var c;return(c=l.parentNode)==null?void 0:c.removeChild(l)});const i=t.documentElement.innerHTML,o=s.map(l=>ZE(l,i)).filter(l=>l);for(;o.length;){const l=[];let c=o.shift();for(;c;)l.push(c),c=o.length&&((r=o[0])==null?void 0:r.element)===c.element.nextElementSibling&&o[0].id===c.id?o.shift():null;const u=document.createElement("ul");l.forEach(f=>{const p=document.createElement("li");p.setAttribute("data-list",f.type),f.indent>1&&p.setAttribute("class",`ql-indent-${f.indent-1}`),p.innerHTML=f.element.innerHTML,u.appendChild(p)});const d=(a=l[0])==null?void 0:a.element,{parentNode:h}=d??{};d&&(h==null||h.replaceChild(u,d)),l.slice(1).forEach(f=>{let{element:p}=f;h==null||h.removeChild(p)})}};function eT(t){t.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&QE(t)}const tT=[eT,KE],nT=t=>{t.documentElement&&tT.forEach(e=>{e(t)})},sT=mi("quill:clipboard"),iT=[[Node.TEXT_NODE,gT],[Node.TEXT_NODE,n_],["br",cT],[Node.ELEMENT_NODE,n_],[Node.ELEMENT_NODE,lT],[Node.ELEMENT_NODE,aT],[Node.ELEMENT_NODE,pT],["li",hT],["ol, ul",fT],["pre",uT],["tr",mT],["b",Dh("bold")],["i",Dh("italic")],["strike",Dh("strike")],["style",dT]],oT=[RE,h3].reduce((t,e)=>(t[e.keyName]=e,t),{}),t_=[u3,y1,b1,p3,_3,b3].reduce((t,e)=>(t[e.keyName]=e,t),{});class y3 extends ds{constructor(e,n){super(e,n),this.quill.root.addEventListener("copy",s=>this.onCaptureCopy(s,!1)),this.quill.root.addEventListener("cut",s=>this.onCaptureCopy(s,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],iT.concat(this.options.matchers).forEach(s=>{let[i,o]=s;this.addMatcher(i,o)})}addMatcher(e,n){this.matchers.push([e,n])}convert(e){let{html:n,text:s}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(i[an.blotName])return new we().insert(s||"",{[an.blotName]:i[an.blotName]});if(!n)return new we().insert(s||"",i);const o=this.convertHTML(n);return Rl(o,`
`)&&(o.ops[o.ops.length-1].attributes==null||i.table)?o.compose(new we().retain(o.length()-1).delete(1)):o}normalizeHTML(e){nT(e)}convertHTML(e){const n=new DOMParser().parseFromString(e,"text/html");this.normalizeHTML(n);const s=n.body,i=new WeakMap,[o,r]=this.prepareMatching(s,i);return S1(this.quill.scroll,s,o,r,i)}dangerouslyPasteHTML(e,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ne.sources.API;if(typeof e=="string"){const i=this.convert({html:e,text:""});this.quill.setContents(i,n),this.quill.setSelection(0,ne.sources.SILENT)}else{const i=this.convert({html:n,text:""});this.quill.updateContents(new we().retain(e).concat(i),s),this.quill.setSelection(e+i.length(),ne.sources.SILENT)}}onCaptureCopy(e){var r,a;let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.defaultPrevented)return;e.preventDefault();const[s]=this.quill.selection.getRange();if(s==null)return;const{html:i,text:o}=this.onCopy(s,n);(r=e.clipboardData)==null||r.setData("text/plain",o),(a=e.clipboardData)==null||a.setData("text/html",i),n&&k1({range:s,quill:this.quill})}onCapturePaste(e){var r,a,l,c;if(e.defaultPrevented||!this.quill.isEnabled())return;e.preventDefault();const n=this.quill.getSelection(!0);if(n==null)return;const s=(r=e.clipboardData)==null?void 0:r.getData("text/html"),i=(a=e.clipboardData)==null?void 0:a.getData("text/plain"),o=Array.from(((l=e.clipboardData)==null?void 0:l.files)||[]);if(!s&&o.length>0){this.quill.uploader.upload(n,o);return}if(s&&o.length>0){const u=new DOMParser().parseFromString(s,"text/html");if(u.body.childElementCount===1&&((c=u.body.firstElementChild)==null?void 0:c.tagName)==="IMG"){this.quill.uploader.upload(n,o);return}}this.onPaste(n,{html:s,text:i})}onCopy(e){const n=this.quill.getText(e);return{html:this.quill.getSemanticHTML(e),text:n}}onPaste(e,n){let{text:s,html:i}=n;const o=this.quill.getFormat(e.index),r=this.convert({text:s,html:i},o);sT.log("onPaste",r,{text:s,html:i});const a=new we().retain(e.index).delete(e.length).concat(r);this.quill.updateContents(a,ne.sources.USER),this.quill.setSelection(a.length()-e.length,ne.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(e,n){const s=[],i=[];return this.matchers.forEach(o=>{const[r,a]=o;switch(r){case Node.TEXT_NODE:i.push(a);break;case Node.ELEMENT_NODE:s.push(a);break;default:Array.from(e.querySelectorAll(r)).forEach(l=>{if(n.has(l)){const c=n.get(l);c==null||c.push(a)}else n.set(l,[a])});break}}),[s,i]}}y3.DEFAULTS={matchers:[]};function Ko(t,e,n,s){return s.query(e)?t.reduce((i,o)=>{if(o.attributes&&o.attributes[e])return i.push(o);const r=n?{[e]:n}:{};return i.insert(o.insert,{...r,...o.attributes})},new we):t}function Rl(t,e){let n="";for(let s=t.ops.length-1;s>=0&&n.length<e.length;--s){const i=t.ops[s];if(typeof i.insert!="string")break;n=i.insert+n}return n.slice(-1*e.length)===e}function Li(t,e){if(!(t instanceof Element))return!1;const n=e.query(t);return n&&n.prototype instanceof Dn?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(t.tagName.toLowerCase())}function rT(t,e){return t.previousElementSibling&&t.nextElementSibling&&!Li(t.previousElementSibling,e)&&!Li(t.nextElementSibling,e)}const bc=new WeakMap;function w3(t){return t==null?!1:(bc.has(t)||(t.tagName==="PRE"?bc.set(t,!0):bc.set(t,w3(t.parentNode))),bc.get(t))}function S1(t,e,n,s,i){return e.nodeType===e.TEXT_NODE?s.reduce((o,r)=>r(e,o,t),new we):e.nodeType===e.ELEMENT_NODE?Array.from(e.childNodes||[]).reduce((o,r)=>{let a=S1(t,r,n,s,i);return r.nodeType===e.ELEMENT_NODE&&(a=n.reduce((l,c)=>c(r,l,t),a),a=(i.get(r)||[]).reduce((l,c)=>c(r,l,t),a)),o.concat(a)},new we):new we}function Dh(t){return(e,n,s)=>Ko(n,t,!0,s)}function aT(t,e,n){const s=Os.keys(t),i=cs.keys(t),o=Ji.keys(t),r={};return s.concat(i).concat(o).forEach(a=>{let l=n.query(a,ke.ATTRIBUTE);l!=null&&(r[l.attrName]=l.value(t),r[l.attrName])||(l=oT[a],l!=null&&(l.attrName===a||l.keyName===a)&&(r[l.attrName]=l.value(t)||void 0),l=t_[a],l!=null&&(l.attrName===a||l.keyName===a)&&(l=t_[a],r[l.attrName]=l.value(t)||void 0))}),Object.entries(r).reduce((a,l)=>{let[c,u]=l;return Ko(a,c,u,n)},e)}function lT(t,e,n){const s=n.query(t);if(s==null)return e;if(s.prototype instanceof Dn){const i={},o=s.value(t);if(o!=null)return i[s.blotName]=o,new we().insert(i,s.formats(t,n))}else if(s.prototype instanceof pl&&!Rl(e,`
`)&&e.insert(`
`),"blotName"in s&&"formats"in s&&typeof s.formats=="function")return Ko(e,s.blotName,s.formats(t,n),n);return e}function cT(t,e){return Rl(e,`
`)||e.insert(`
`),e}function uT(t,e,n){const s=n.query("code-block"),i=s&&"formats"in s&&typeof s.formats=="function"?s.formats(t,n):!0;return Ko(e,"code-block",i,n)}function dT(){return new we}function hT(t,e,n){const s=n.query(t);if(s==null||s.blotName!=="list"||!Rl(e,`
`))return e;let i=-1,o=t.parentNode;for(;o!=null;)["OL","UL"].includes(o.tagName)&&(i+=1),o=o.parentNode;return i<=0?e:e.reduce((r,a)=>a.attributes&&typeof a.attributes.indent=="number"?r.push(a):r.insert(a.insert,{indent:i,...a.attributes||{}}),new we)}function fT(t,e,n){const s=t.tagName==="OL"?"ordered":"bullet";return Ko(e,"list",s,n)}function n_(t,e,n){if(!Rl(e,`
`)){if(Li(t,n))return e.insert(`
`);if(e.length()>0&&t.nextSibling){let s=t.nextSibling;for(;s!=null;){if(Li(s,n))return e.insert(`
`);const i=n.query(s);if(i&&i.prototype instanceof zn)return e.insert(`
`);s=s.firstChild}}}return e}function pT(t,e,n){var o;const s={},i=t.style||{};return i.fontStyle==="italic"&&(s.italic=!0),i.textDecoration==="underline"&&(s.underline=!0),i.textDecoration==="line-through"&&(s.strike=!0),((o=i.fontWeight)!=null&&o.startsWith("bold")||parseInt(i.fontWeight,10)>=700)&&(s.bold=!0),e=Object.entries(s).reduce((r,a)=>{let[l,c]=a;return Ko(r,l,c,n)},e),parseFloat(i.textIndent||0)>0?new we().insert("	").concat(e):e}function mT(t,e,n){var i,o;const s=((i=t.parentElement)==null?void 0:i.tagName)==="TABLE"?t.parentElement:(o=t.parentElement)==null?void 0:o.parentElement;if(s!=null){const a=Array.from(s.querySelectorAll("tr")).indexOf(t)+1;return Ko(e,"table",a,n)}return e}function gT(t,e,n){var i;let s=t.data;if(((i=t.parentElement)==null?void 0:i.tagName)==="O:P")return e.insert(s.trim());if(!w3(t)){if(s.trim().length===0&&s.includes(`
`)&&!rT(t,n))return e;const o=(r,a)=>{const l=a.replace(/[^\u00a0]/g,"");return l.length<1&&r?" ":l};s=s.replace(/\r\n/g," ").replace(/\n/g," "),s=s.replace(/\s\s+/g,o.bind(o,!0)),(t.previousSibling==null&&t.parentElement!=null&&Li(t.parentElement,n)||t.previousSibling instanceof Element&&Li(t.previousSibling,n))&&(s=s.replace(/^\s+/,o.bind(o,!1))),(t.nextSibling==null&&t.parentElement!=null&&Li(t.parentElement,n)||t.nextSibling instanceof Element&&Li(t.nextSibling,n))&&(s=s.replace(/\s+$/,o.bind(o,!1)))}return e.insert(s)}class x3 extends ds{constructor(n,s){super(n,s);P(this,"lastRecorded",0);P(this,"ignoreChange",!1);P(this,"stack",{undo:[],redo:[]});P(this,"currentRange",null);this.quill.on(ne.events.EDITOR_CHANGE,(i,o,r,a)=>{i===ne.events.SELECTION_CHANGE?o&&a!==ne.sources.SILENT&&(this.currentRange=o):i===ne.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||a===ne.sources.USER?this.record(o,r):this.transform(o)),this.currentRange=zf(this.currentRange,o))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",i=>{i.inputType==="historyUndo"?(this.undo(),i.preventDefault()):i.inputType==="historyRedo"&&(this.redo(),i.preventDefault())})}change(n,s){if(this.stack[n].length===0)return;const i=this.stack[n].pop();if(!i)return;const o=this.quill.getContents(),r=i.delta.invert(o);this.stack[s].push({delta:r,range:zf(i.range,r)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(i.delta,ne.sources.USER),this.ignoreChange=!1,this.restoreSelection(i)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(n,s){if(n.ops.length===0)return;this.stack.redo=[];let i=n.invert(s),o=this.currentRange;const r=Date.now();if(this.lastRecorded+this.options.delay>r&&this.stack.undo.length>0){const a=this.stack.undo.pop();a&&(i=i.compose(a.delta),o=a.range)}else this.lastRecorded=r;i.length()!==0&&(this.stack.undo.push({delta:i,range:o}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(n){s_(this.stack.undo,n),s_(this.stack.redo,n)}undo(){this.change("undo","redo")}restoreSelection(n){if(n.range)this.quill.setSelection(n.range,ne.sources.USER);else{const s=vT(this.quill.scroll,n.delta);this.quill.setSelection(s,ne.sources.USER)}}}x3.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function s_(t,e){let n=e;for(let s=t.length-1;s>=0;s-=1){const i=t[s];t[s]={delta:n.transform(i.delta,!0),range:i.range&&zf(i.range,n)},n=i.delta.transform(n),t[s].delta.length()===0&&t.splice(s,1)}}function _T(t,e){const n=e.ops[e.ops.length-1];return n==null?!1:n.insert!=null?typeof n.insert=="string"&&n.insert.endsWith(`
`):n.attributes!=null?Object.keys(n.attributes).some(s=>t.query(s,ke.BLOCK)!=null):!1}function vT(t,e){const n=e.reduce((i,o)=>i+(o.delete||0),0);let s=e.length()-n;return _T(t,e)&&(s-=1),s}function zf(t,e){if(!t)return t;const n=e.transformPosition(t.index),s=e.transformPosition(t.index+t.length);return{index:n,length:s-n}}class k3 extends ds{constructor(e,n){super(e,n),e.root.addEventListener("drop",s=>{var r;s.preventDefault();let i=null;if(document.caretRangeFromPoint)i=document.caretRangeFromPoint(s.clientX,s.clientY);else if(document.caretPositionFromPoint){const a=document.caretPositionFromPoint(s.clientX,s.clientY);i=document.createRange(),i.setStart(a.offsetNode,a.offset),i.setEnd(a.offsetNode,a.offset)}const o=i&&e.selection.normalizeNative(i);if(o){const a=e.selection.normalizedToRange(o);(r=s.dataTransfer)!=null&&r.files&&this.upload(a,s.dataTransfer.files)}})}upload(e,n){const s=[];Array.from(n).forEach(i=>{var o;i&&((o=this.options.mimetypes)!=null&&o.includes(i.type))&&s.push(i)}),s.length>0&&this.options.handler.call(this,e,s)}}k3.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(t,e){const n=e.map(s=>new Promise(i=>{const o=new FileReader;o.onload=r=>{i(r.target.result)},o.readAsDataURL(s)}));Promise.all(n).then(s=>{const i=s.reduce((o,r)=>o.insert({image:r}),new we().retain(t.index).delete(t.length));this.quill.updateContents(i,be.sources.USER),this.quill.setSelection(t.index+s.length,be.sources.SILENT)})}};const bT=["insertText","insertReplacementText"];class yT extends ds{constructor(e,n){super(e,n),e.root.addEventListener("beforeinput",s=>{this.handleBeforeInput(s)}),/Android/i.test(navigator.userAgent)||e.on(ne.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(e){k1({range:e,quill:this.quill})}replaceText(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(e.length===0)return!1;if(n){const s=this.quill.getFormat(e.index,1);this.deleteRange(e),this.quill.updateContents(new we().retain(e.index).insert(n,s),ne.sources.USER)}else this.deleteRange(e);return this.quill.setSelection(e.index+n.length,0,ne.sources.SILENT),!0}handleBeforeInput(e){if(this.quill.composition.isComposing||e.defaultPrevented||!bT.includes(e.inputType))return;const n=e.getTargetRanges?e.getTargetRanges()[0]:null;if(!n||n.collapsed===!0)return;const s=wT(e);if(s==null)return;const i=this.quill.selection.normalizeNative(n),o=i?this.quill.selection.normalizedToRange(i):null;o&&this.replaceText(o,s)&&e.preventDefault()}handleCompositionStart(){const e=this.quill.getSelection();e&&this.replaceText(e)}}function wT(t){var e;return typeof t.data=="string"?t.data:(e=t.dataTransfer)!=null&&e.types.includes("text/plain")?t.dataTransfer.getData("text/plain"):null}const xT=/Mac/i.test(navigator.platform),kT=100,ST=t=>!!(t.key==="ArrowLeft"||t.key==="ArrowRight"||t.key==="ArrowUp"||t.key==="ArrowDown"||t.key==="Home"||xT&&t.key==="a"&&t.ctrlKey===!0);class $T extends ds{constructor(n,s){super(n,s);P(this,"isListening",!1);P(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(n,s){let{line:i,event:o}=s;if(!(i instanceof ss)||!i.uiNode)return!0;const r=getComputedStyle(i.domNode).direction==="rtl";return r&&o.key!=="ArrowRight"||!r&&o.key!=="ArrowLeft"?!0:(this.quill.setSelection(n.index-1,n.length+(o.shiftKey?1:0),ne.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",n=>{!n.defaultPrevented&&ST(n)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+kT,this.isListening)return;this.isListening=!0;const n=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",n,{once:!0})}handleSelectionChange(){const n=document.getSelection();if(!n)return;const s=n.getRangeAt(0);if(s.collapsed!==!0||s.startOffset!==0)return;const i=this.quill.scroll.find(s.startContainer);if(!(i instanceof ss)||!i.uiNode)return;const o=document.createRange();o.setStartAfter(i.uiNode),o.setEndAfter(i.uiNode),n.removeAllRanges(),n.addRange(o)}}ne.register({"blots/block":Xt,"blots/block/embed":zn,"blots/break":us,"blots/container":Ho,"blots/cursor":Dr,"blots/embed":ud,"blots/inline":Hn,"blots/scroll":mr,"blots/text":rs,"modules/clipboard":y3,"modules/history":x3,"modules/keyboard":dd,"modules/uploader":k3,"modules/input":yT,"modules/uiNode":$T});class CT extends cs{add(e,n){let s=0;if(n==="+1"||n==="-1"){const i=this.value(e)||0;s=n==="+1"?i+1:i-1}else typeof n=="number"&&(s=n);return s===0?(this.remove(e),!0):super.add(e,s.toString())}canAdd(e,n){return super.canAdd(e,n)||super.canAdd(e,parseInt(n,10))}value(e){return parseInt(super.value(e),10)||void 0}}const AT=new CT("indent","ql-indent",{scope:ke.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class Bf extends Xt{}P(Bf,"blotName","blockquote"),P(Bf,"tagName","blockquote");class Uf extends Xt{static formats(e){return this.tagName.indexOf(e.tagName)+1}}P(Uf,"blotName","header"),P(Uf,"tagName",["H1","H2","H3","H4","H5","H6"]);class Pl extends Ho{}Pl.blotName="list-container";Pl.tagName="OL";class Nl extends Xt{static create(e){const n=super.create();return n.setAttribute("data-list",e),n}static formats(e){return e.getAttribute("data-list")||void 0}static register(){ne.register(Pl)}constructor(e,n){super(e,n);const s=n.ownerDocument.createElement("span"),i=o=>{if(!e.isEnabled())return;const r=this.statics.formats(n,e);r==="checked"?(this.format("list","unchecked"),o.preventDefault()):r==="unchecked"&&(this.format("list","checked"),o.preventDefault())};s.addEventListener("mousedown",i),s.addEventListener("touchstart",i),this.attachUI(s)}format(e,n){e===this.statics.blotName&&n?this.domNode.setAttribute("data-list",n):super.format(e,n)}}Nl.blotName="list";Nl.tagName="LI";Pl.allowedChildren=[Nl];Nl.requiredContainer=Pl;class _l extends Hn{static create(){return super.create()}static formats(){return!0}optimize(e){super.optimize(e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}P(_l,"blotName","bold"),P(_l,"tagName",["STRONG","B"]);class Ff extends _l{}P(Ff,"blotName","italic"),P(Ff,"tagName",["EM","I"]);class Oi extends Hn{static create(e){const n=super.create(e);return n.setAttribute("href",this.sanitize(e)),n.setAttribute("rel","noopener noreferrer"),n.setAttribute("target","_blank"),n}static formats(e){return e.getAttribute("href")}static sanitize(e){return S3(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}format(e,n){e!==this.statics.blotName||!n?super.format(e,n):this.domNode.setAttribute("href",this.constructor.sanitize(n))}}P(Oi,"blotName","link"),P(Oi,"tagName","A"),P(Oi,"SANITIZED_URL","about:blank"),P(Oi,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function S3(t,e){const n=document.createElement("a");n.href=t;const s=n.href.slice(0,n.href.indexOf(":"));return e.indexOf(s)>-1}class qf extends Hn{static create(e){return e==="super"?document.createElement("sup"):e==="sub"?document.createElement("sub"):super.create(e)}static formats(e){if(e.tagName==="SUB")return"sub";if(e.tagName==="SUP")return"super"}}P(qf,"blotName","script"),P(qf,"tagName",["SUB","SUP"]);class Wf extends _l{}P(Wf,"blotName","strike"),P(Wf,"tagName",["S","STRIKE"]);class jf extends Hn{}P(jf,"blotName","underline"),P(jf,"tagName","U");class Gc extends ud{static create(e){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const n=super.create(e);return typeof e=="string"&&(window.katex.render(e,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",e)),n}static value(e){return e.getAttribute("data-value")}html(){const{formula:e}=this.value();return`<span>${e}</span>`}}P(Gc,"blotName","formula"),P(Gc,"className","ql-formula"),P(Gc,"tagName","SPAN");const i_=["alt","height","width"];class Hf extends Dn{static create(e){const n=super.create(e);return typeof e=="string"&&n.setAttribute("src",this.sanitize(e)),n}static formats(e){return i_.reduce((n,s)=>(e.hasAttribute(s)&&(n[s]=e.getAttribute(s)),n),{})}static match(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}static register(){/Firefox/i.test(navigator.userAgent)&&setTimeout(()=>{document.execCommand("enableObjectResizing",!1,!1)},1)}static sanitize(e){return S3(e,["http","https","data"])?e:"//:0"}static value(e){return e.getAttribute("src")}format(e,n){i_.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):super.format(e,n)}}P(Hf,"blotName","image"),P(Hf,"tagName","IMG");const o_=["height","width"];class Jc extends zn{static create(e){const n=super.create(e);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen","true"),n.setAttribute("src",this.sanitize(e)),n}static formats(e){return o_.reduce((n,s)=>(e.hasAttribute(s)&&(n[s]=e.getAttribute(s)),n),{})}static sanitize(e){return Oi.sanitize(e)}static value(e){return e.getAttribute("src")}format(e,n){o_.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):super.format(e,n)}html(){const{video:e}=this.value();return`<a href="${e}">${e}</a>`}}P(Jc,"blotName","video"),P(Jc,"className","ql-video"),P(Jc,"tagName","IFRAME");const $a=new cs("code-token","hljs",{scope:ke.INLINE});class ri extends Hn{static formats(e,n){for(;e!=null&&e!==n.domNode;){if(e.classList&&e.classList.contains(an.className))return super.formats(e,n);e=e.parentNode}}constructor(e,n,s){super(e,n,s),$a.add(this.domNode,s)}format(e,n){e!==ri.blotName?super.format(e,n):n?$a.add(this.domNode,n):($a.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),$a.value(this.domNode)||this.unwrap()}}ri.blotName="code-token";ri.className="ql-token";class Vn extends an{static create(e){const n=super.create(e);return typeof e=="string"&&n.setAttribute("data-language",e),n}static formats(e){return e.getAttribute("data-language")||"plain"}static register(){}format(e,n){e===this.statics.blotName&&n?this.domNode.setAttribute("data-language",n):super.format(e,n)}replaceWith(e,n){return this.formatAt(0,this.length(),ri.blotName,!1),super.replaceWith(e,n)}}class Fa extends Yo{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(e,n){e===Vn.blotName&&(this.forceNext=!0,this.children.forEach(s=>{s.format(e,n)}))}formatAt(e,n,s,i){s===Vn.blotName&&(this.forceNext=!0),super.formatAt(e,n,s,i)}highlight(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const i=`${Array.from(this.domNode.childNodes).filter(r=>r!==this.uiNode).map(r=>r.textContent).join(`
`)}
`,o=Vn.formats(this.children.head.domNode);if(n||this.forceNext||this.cachedText!==i){if(i.trim().length>0||this.cachedText==null){const r=this.children.reduce((l,c)=>l.concat(r3(c,!1)),new we),a=e(i,o);r.diff(a).reduce((l,c)=>{let{retain:u,attributes:d}=c;return u?(d&&Object.keys(d).forEach(h=>{[Vn.blotName,ri.blotName].includes(h)&&this.formatAt(l,u,h,d[h])}),l+u):l},0)}this.cachedText=i,this.forceNext=!1}}html(e,n){const[s]=this.children.find(e);return`<pre data-language="${s?Vn.formats(s.domNode):"plain"}">
${cd(this.code(e,n))}
</pre>`}optimize(e){if(super.optimize(e),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const n=Vn.formats(this.children.head.domNode);n!==this.uiNode.value&&(this.uiNode.value=n)}}}Fa.allowedChildren=[Vn];Vn.requiredContainer=Fa;Vn.allowedChildren=[ri,Dr,rs,us];const MT=(t,e,n)=>{if(typeof t.versionString=="string"){const s=t.versionString.split(".")[0];if(parseInt(s,10)>=11)return t.highlight(n,{language:e}).value}return t.highlight(e,n).value};class $3 extends ds{static register(){ne.register(ri,!0),ne.register(Vn,!0),ne.register(Fa,!0)}constructor(e,n){if(super(e,n),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((s,i)=>{let{key:o}=i;return s[o]=!0,s},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(ne.events.SCROLL_BLOT_MOUNT,e=>{if(!(e instanceof Fa))return;const n=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(s=>{let{key:i,label:o}=s;const r=n.ownerDocument.createElement("option");r.textContent=o,r.setAttribute("value",i),n.appendChild(r)}),n.addEventListener("change",()=>{e.format(Vn.blotName,n.value),this.quill.root.focus(),this.highlight(e,!0)}),e.uiNode==null&&(e.attachUI(n),e.children.head&&(n.value=Vn.formats(e.children.head.domNode)))})}initTimer(){let e=null;this.quill.on(ne.events.SCROLL_OPTIMIZE,()=>{e&&clearTimeout(e),e=setTimeout(()=>{this.highlight(),e=null},this.options.interval)})}highlight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(ne.sources.USER);const s=this.quill.getSelection();(e==null?this.quill.scroll.descendants(Fa):[e]).forEach(o=>{o.highlight(this.highlightBlot,n)}),this.quill.update(ne.sources.SILENT),s!=null&&this.quill.setSelection(s,ne.sources.SILENT)}highlightBlot(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(n=this.languages[n]?n:"plain",n==="plain")return cd(e).split(`
`).reduce((i,o,r)=>(r!==0&&i.insert(`
`,{[an.blotName]:n}),i.insert(o)),new we);const s=this.quill.root.ownerDocument.createElement("div");return s.classList.add(an.className),s.innerHTML=MT(this.options.hljs,n,e),S1(this.quill.scroll,s,[(i,o)=>{const r=$a.value(i);return r?o.compose(new we().retain(o.length(),{[ri.blotName]:r})):o}],[(i,o)=>i.data.split(`
`).reduce((r,a,l)=>(l!==0&&r.insert(`
`,{[an.blotName]:n}),r.insert(a)),o)],new WeakMap)}}$3.DEFAULTS={hljs:(()=>window.hljs)(),interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const Qa=class Qa extends Xt{static create(e){const n=super.create();return e?n.setAttribute("data-row",e):n.setAttribute("data-row",$1()),n}static formats(e){if(e.hasAttribute("data-row"))return e.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(e,n){e===Qa.blotName&&n?this.domNode.setAttribute("data-row",n):super.format(e,n)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};P(Qa,"blotName","table"),P(Qa,"tagName","TD");let Qn=Qa;class ai extends Ho{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const e=this.children.head.formats(),n=this.children.tail.formats(),s=this.next.children.head.formats(),i=this.next.children.tail.formats();return e.table===n.table&&e.table===s.table&&e.table===i.table}return!1}optimize(e){super.optimize(e),this.children.forEach(n=>{if(n.next==null)return;const s=n.formats(),i=n.next.formats();if(s.table!==i.table){const o=this.splitAfter(n);o&&o.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}P(ai,"blotName","table-row"),P(ai,"tagName","TR");class Ms extends Ho{}P(Ms,"blotName","table-body"),P(Ms,"tagName","TBODY");class Rr extends Ho{balanceCells(){const e=this.descendants(ai),n=e.reduce((s,i)=>Math.max(i.children.length,s),0);e.forEach(s=>{new Array(n-s.children.length).fill(0).forEach(()=>{let i;s.children.head!=null&&(i=Qn.formats(s.children.head.domNode));const o=this.scroll.create(Qn.blotName,i);s.appendChild(o),o.optimize()})})}cells(e){return this.rows().map(n=>n.children.at(e))}deleteColumn(e){const[n]=this.descendant(Ms);n==null||n.children.head==null||n.children.forEach(s=>{const i=s.children.at(e);i!=null&&i.remove()})}insertColumn(e){const[n]=this.descendant(Ms);n==null||n.children.head==null||n.children.forEach(s=>{const i=s.children.at(e),o=Qn.formats(s.children.head.domNode),r=this.scroll.create(Qn.blotName,o);s.insertBefore(r,i)})}insertRow(e){const[n]=this.descendant(Ms);if(n==null||n.children.head==null)return;const s=$1(),i=this.scroll.create(ai.blotName);n.children.head.children.forEach(()=>{const r=this.scroll.create(Qn.blotName,s);i.appendChild(r)});const o=n.children.at(e);n.insertBefore(i,o)}rows(){const e=this.children.head;return e==null?[]:e.children.map(n=>n)}}P(Rr,"blotName","table-container"),P(Rr,"tagName","TABLE");Rr.allowedChildren=[Ms];Ms.requiredContainer=Rr;Ms.allowedChildren=[ai];ai.requiredContainer=Ms;ai.allowedChildren=[Qn];Qn.requiredContainer=ai;function $1(){return`row-${Math.random().toString(36).slice(2,6)}`}class ET extends ds{static register(){ne.register(Qn),ne.register(ai),ne.register(Ms),ne.register(Rr)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(Rr).forEach(e=>{e.balanceCells()})}deleteColumn(){const[e,,n]=this.getTable();n!=null&&(e.deleteColumn(n.cellOffset()),this.quill.update(ne.sources.USER))}deleteRow(){const[,e]=this.getTable();e!=null&&(e.remove(),this.quill.update(ne.sources.USER))}deleteTable(){const[e]=this.getTable();if(e==null)return;const n=e.offset();e.remove(),this.quill.update(ne.sources.USER),this.quill.setSelection(n,ne.sources.SILENT)}getTable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(e==null)return[null,null,null,-1];const[n,s]=this.quill.getLine(e.index);if(n==null||n.statics.blotName!==Qn.blotName)return[null,null,null,-1];const i=n.parent;return[i.parent.parent,i,n,s]}insertColumn(e){const n=this.quill.getSelection();if(!n)return;const[s,i,o]=this.getTable(n);if(o==null)return;const r=o.cellOffset();s.insertColumn(r+e),this.quill.update(ne.sources.USER);let a=i.rowOffset();e===0&&(a+=1),this.quill.setSelection(n.index+a,n.length,ne.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(e){const n=this.quill.getSelection();if(!n)return;const[s,i,o]=this.getTable(n);if(o==null)return;const r=i.rowOffset();s.insertRow(r+e),this.quill.update(ne.sources.USER),e>0?this.quill.setSelection(n,ne.sources.SILENT):this.quill.setSelection(n.index+i.children.length,n.length,ne.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(e,n){const s=this.quill.getSelection();if(s==null)return;const i=new Array(e).fill(0).reduce(o=>{const r=new Array(n).fill(`
`).join("");return o.insert(r,{table:$1()})},new we().retain(s.index));this.quill.updateContents(i,ne.sources.USER),this.quill.setSelection(s.index,ne.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(ne.events.SCROLL_OPTIMIZE,e=>{e.some(n=>["TD","TR","TBODY","TABLE"].includes(n.target.tagName)?(this.quill.once(ne.events.TEXT_CHANGE,(s,i,o)=>{o===ne.sources.USER&&this.balanceTables()}),!0):!1)})}}const r_=mi("quill:toolbar");class C1 extends ds{constructor(e,n){var s,i;if(super(e,n),Array.isArray(this.options.container)){const o=document.createElement("div");o.setAttribute("role","toolbar"),TT(o,this.options.container),(i=(s=e.container)==null?void 0:s.parentNode)==null||i.insertBefore(o,e.container),this.container=o}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){r_.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(o=>{var a;const r=(a=this.options.handlers)==null?void 0:a[o];r&&this.addHandler(o,r)}),Array.from(this.container.querySelectorAll("button, select")).forEach(o=>{this.attach(o)}),this.quill.on(ne.events.EDITOR_CHANGE,()=>{const[o]=this.quill.selection.getRange();this.update(o)})}addHandler(e,n){this.handlers[e]=n}attach(e){let n=Array.from(e.classList).find(i=>i.indexOf("ql-")===0);if(!n)return;if(n=n.slice(3),e.tagName==="BUTTON"&&e.setAttribute("type","button"),this.handlers[n]==null&&this.quill.scroll.query(n)==null){r_.warn("ignoring attaching to nonexistent format",n,e);return}const s=e.tagName==="SELECT"?"change":"click";e.addEventListener(s,i=>{let o;if(e.tagName==="SELECT"){if(e.selectedIndex<0)return;const a=e.options[e.selectedIndex];a.hasAttribute("selected")?o=!1:o=a.value||!1}else e.classList.contains("ql-active")?o=!1:o=e.value||!e.hasAttribute("value"),i.preventDefault();this.quill.focus();const[r]=this.quill.selection.getRange();if(this.handlers[n]!=null)this.handlers[n].call(this,o);else if(this.quill.scroll.query(n).prototype instanceof Dn){if(o=prompt(`Enter ${n}`),!o)return;this.quill.updateContents(new we().retain(r.index).delete(r.length).insert({[n]:o}),ne.sources.USER)}else this.quill.format(n,o,ne.sources.USER);this.update(r)}),this.controls.push([n,e])}update(e){const n=e==null?{}:this.quill.getFormat(e);this.controls.forEach(s=>{const[i,o]=s;if(o.tagName==="SELECT"){let r=null;if(e==null)r=null;else if(n[i]==null)r=o.querySelector("option[selected]");else if(!Array.isArray(n[i])){let a=n[i];typeof a=="string"&&(a=a.replace(/"/g,'\\"')),r=o.querySelector(`option[value="${a}"]`)}r==null?(o.value="",o.selectedIndex=-1):r.selected=!0}else if(e==null)o.classList.remove("ql-active"),o.setAttribute("aria-pressed","false");else if(o.hasAttribute("value")){const r=n[i],a=r===o.getAttribute("value")||r!=null&&r.toString()===o.getAttribute("value")||r==null&&!o.getAttribute("value");o.classList.toggle("ql-active",a),o.setAttribute("aria-pressed",a.toString())}else{const r=n[i]!=null;o.classList.toggle("ql-active",r),o.setAttribute("aria-pressed",r.toString())}})}}C1.DEFAULTS={};function a_(t,e,n){const s=document.createElement("button");s.setAttribute("type","button"),s.classList.add(`ql-${e}`),s.setAttribute("aria-pressed","false"),n!=null?(s.value=n,s.setAttribute("aria-label",`${e}: ${n}`)):s.setAttribute("aria-label",e),t.appendChild(s)}function TT(t,e){Array.isArray(e[0])||(e=[e]),e.forEach(n=>{const s=document.createElement("span");s.classList.add("ql-formats"),n.forEach(i=>{if(typeof i=="string")a_(s,i);else{const o=Object.keys(i)[0],r=i[o];Array.isArray(r)?LT(s,o,r):a_(s,o,r)}}),t.appendChild(s)})}function LT(t,e,n){const s=document.createElement("select");s.classList.add(`ql-${e}`),n.forEach(i=>{const o=document.createElement("option");i!==!1?o.setAttribute("value",String(i)):o.setAttribute("selected","selected"),s.appendChild(o)}),t.appendChild(s)}C1.DEFAULTS={container:null,handlers:{clean(){const t=this.quill.getSelection();if(t!=null)if(t.length===0){const e=this.quill.getFormat();Object.keys(e).forEach(n=>{this.quill.scroll.query(n,ke.INLINE)!=null&&this.quill.format(n,!1,ne.sources.USER)})}else this.quill.removeFormat(t,ne.sources.USER)},direction(t){const{align:e}=this.quill.getFormat();t==="rtl"&&e==null?this.quill.format("align","right",ne.sources.USER):!t&&e==="right"&&this.quill.format("align",!1,ne.sources.USER),this.quill.format("direction",t,ne.sources.USER)},indent(t){const e=this.quill.getSelection(),n=this.quill.getFormat(e),s=parseInt(n.indent||0,10);if(t==="+1"||t==="-1"){let i=t==="+1"?1:-1;n.direction==="rtl"&&(i*=-1),this.quill.format("indent",s+i,ne.sources.USER)}},link(t){t===!0&&(t=prompt("Enter link URL:")),this.quill.format("link",t,ne.sources.USER)},list(t){const e=this.quill.getSelection(),n=this.quill.getFormat(e);t==="check"?n.list==="checked"||n.list==="unchecked"?this.quill.format("list",!1,ne.sources.USER):this.quill.format("list","unchecked",ne.sources.USER):this.quill.format("list",t,ne.sources.USER)}}};const OT='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',DT='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',IT='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',RT='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',PT='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',NT='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',VT='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',zT='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',l_='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',BT='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',UT='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',FT='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',qT='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',WT='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',jT='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',HT='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',YT='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',KT='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',XT='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',GT='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',JT='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',ZT='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',QT='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',eL='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',tL='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',nL='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',sL='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',iL='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',oL='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',vl={align:{"":OT,center:DT,right:IT,justify:RT},background:PT,blockquote:NT,bold:VT,clean:zT,code:l_,"code-block":l_,color:BT,direction:{"":UT,rtl:FT},formula:qT,header:{1:WT,2:jT},italic:HT,image:YT,indent:{"+1":KT,"-1":XT},link:GT,list:{bullet:JT,check:ZT,ordered:QT},script:{sub:eL,super:tL},strike:nL,table:sL,underline:iL,video:oL},rL='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let c_=0;function u_(t,e){t.setAttribute(e,`${t.getAttribute(e)!=="true"}`)}class hd{constructor(e){this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",n=>{switch(n.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),n.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),u_(this.label,"aria-expanded"),u_(this.options,"aria-hidden")}buildItem(e){const n=document.createElement("span");n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item");const s=e.getAttribute("value");return s&&n.setAttribute("data-value",s),e.textContent&&n.setAttribute("data-label",e.textContent),n.addEventListener("click",()=>{this.selectItem(n,!0)}),n.addEventListener("keydown",i=>{switch(i.key){case"Enter":this.selectItem(n,!0),i.preventDefault();break;case"Escape":this.escape(),i.preventDefault();break}}),n}buildLabel(){const e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=rL,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}buildOptions(){const e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id=`ql-picker-options-${c_}`,c_+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,Array.from(this.select.options).forEach(n=>{const s=this.buildItem(n);e.appendChild(s),n.selected===!0&&this.selectItem(s)}),this.container.appendChild(e)}buildPicker(){Array.from(this.select.attributes).forEach(e=>{this.container.setAttribute(e.name,e.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const s=this.container.querySelector(".ql-selected");e!==s&&(s!=null&&s.classList.remove("ql-selected"),e!=null&&(e.classList.add("ql-selected"),this.select.selectedIndex=Array.from(e.parentNode.children).indexOf(e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),n&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let e;if(this.select.selectedIndex>-1){const s=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(s)}else this.selectItem(null);const n=e!=null&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}class C3 extends hd{constructor(e,n){super(e),this.label.innerHTML=n,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(s=>{s.classList.add("ql-primary")})}buildItem(e){const n=super.buildItem(e);return n.style.backgroundColor=e.getAttribute("value")||"",n}selectItem(e,n){super.selectItem(e,n);const s=this.label.querySelector(".ql-color-label"),i=e&&e.getAttribute("data-value")||"";s&&(s.tagName==="line"?s.style.stroke=i:s.style.fill=i)}}class A3 extends hd{constructor(e,n){super(e),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(s=>{s.innerHTML=n[s.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(e,n){super.selectItem(e,n);const s=e||this.defaultItem;if(s!=null){if(this.label.innerHTML===s.innerHTML)return;this.label.innerHTML=s.innerHTML}}}const aL=t=>{const{overflowY:e}=getComputedStyle(t,null);return e!=="visible"&&e!=="clip"};let M3=class{constructor(e,n){this.quill=e,this.boundsContainer=n||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,aL(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(e){const n=e.left+e.width/2-this.root.offsetWidth/2,s=e.bottom+this.quill.root.scrollTop;this.root.style.left=`${n}px`,this.root.style.top=`${s}px`,this.root.classList.remove("ql-flip");const i=this.boundsContainer.getBoundingClientRect(),o=this.root.getBoundingClientRect();let r=0;if(o.right>i.right&&(r=i.right-o.right,this.root.style.left=`${n+r}px`),o.left<i.left&&(r=i.left-o.left,this.root.style.left=`${n+r}px`),o.bottom>i.bottom){const a=o.bottom-o.top,l=e.bottom-e.top+a;this.root.style.top=`${s-l}px`,this.root.classList.add("ql-flip")}return r}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}};const lL=[!1,"center","right","justify"],cL=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],uL=[!1,"serif","monospace"],dL=["1","2","3",!1],hL=["small",!1,"large","huge"];class Vl extends Ir{constructor(e,n){super(e,n);const s=i=>{if(!document.body.contains(e.root)){document.body.removeEventListener("click",s);return}this.tooltip!=null&&!this.tooltip.root.contains(i.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(o=>{o.container.contains(i.target)||o.close()})};e.emitter.listenDOM("click",document.body,s)}addModule(e){const n=super.addModule(e);return e==="toolbar"&&this.extendToolbar(n),n}buildButtons(e,n){Array.from(e).forEach(s=>{(s.getAttribute("class")||"").split(/\s+/).forEach(o=>{if(o.startsWith("ql-")&&(o=o.slice(3),n[o]!=null))if(o==="direction")s.innerHTML=n[o][""]+n[o].rtl;else if(typeof n[o]=="string")s.innerHTML=n[o];else{const r=s.value||"";r!=null&&n[o][r]&&(s.innerHTML=n[o][r])}})})}buildPickers(e,n){this.pickers=Array.from(e).map(i=>{if(i.classList.contains("ql-align")&&(i.querySelector("option")==null&&_a(i,lL),typeof n.align=="object"))return new A3(i,n.align);if(i.classList.contains("ql-background")||i.classList.contains("ql-color")){const o=i.classList.contains("ql-background")?"background":"color";return i.querySelector("option")==null&&_a(i,cL,o==="background"?"#ffffff":"#000000"),new C3(i,n[o])}return i.querySelector("option")==null&&(i.classList.contains("ql-font")?_a(i,uL):i.classList.contains("ql-header")?_a(i,dL):i.classList.contains("ql-size")&&_a(i,hL)),new hd(i)});const s=()=>{this.pickers.forEach(i=>{i.update()})};this.quill.on(be.events.EDITOR_CHANGE,s)}}Vl.DEFAULTS=Bi({},Ir.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let t=this.container.querySelector("input.ql-image[type=file]");t==null&&(t=document.createElement("input"),t.setAttribute("type","file"),t.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),t.classList.add("ql-image"),t.addEventListener("change",()=>{const e=this.quill.getSelection(!0);this.quill.uploader.upload(e,t.files),t.value=""}),this.container.appendChild(t)),t.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class E3 extends M3{constructor(e,n){super(e,n),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",e=>{e.key==="Enter"?(this.save(),e.preventDefault()):e.key==="Escape"&&(this.cancel(),e.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;n!=null?this.textbox.value=n:e!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const s=this.quill.getBounds(this.quill.selection.savedRange);s!=null&&this.position(s),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${e}`)||""),this.root.setAttribute("data-mode",e)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:e}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:n}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,be.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,be.sources.USER)),this.quill.root.scrollTop=n;break}case"video":e=fL(e);case"formula":{if(!e)break;const n=this.quill.getSelection(!0);if(n!=null){const s=n.index+n.length;this.quill.insertEmbed(s,this.root.getAttribute("data-mode"),e,be.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(s+1," ",be.sources.USER),this.quill.setSelection(s+2,be.sources.USER)}break}}this.textbox.value="",this.hide()}}function fL(t){let e=t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return e?`${e[1]||"https"}://www.youtube.com/embed/${e[2]}?showinfo=0`:(e=t.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${e[1]||"https"}://player.vimeo.com/video/${e[2]}/`:t}function _a(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;e.forEach(s=>{const i=document.createElement("option");s===n?i.setAttribute("selected","selected"):i.setAttribute("value",String(s)),t.appendChild(i)})}const pL=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class T3 extends E3{constructor(e,n){super(e,n),this.quill.on(be.events.EDITOR_CHANGE,(s,i,o,r)=>{if(s===be.events.SELECTION_CHANGE)if(i!=null&&i.length>0&&r===be.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const a=this.quill.getLines(i.index,i.length);if(a.length===1){const l=this.quill.getBounds(i);l!=null&&this.position(l)}else{const l=a[a.length-1],c=this.quill.getIndex(l),u=Math.min(l.length()-1,i.index+i.length-c),d=this.quill.getBounds(new Do(c,u));d!=null&&this.position(d)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(be.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const e=this.quill.getSelection();if(e!=null){const n=this.quill.getBounds(e);n!=null&&this.position(n)}},1)})}cancel(){this.show()}position(e){const n=super.position(e),s=this.root.querySelector(".ql-tooltip-arrow");return s.style.marginLeft="",n!==0&&(s.style.marginLeft=`${-1*n-s.offsetWidth/2}px`),n}}P(T3,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class L3 extends Vl{constructor(e,n){n.modules.toolbar!=null&&n.modules.toolbar.container==null&&(n.modules.toolbar.container=pL),super(e,n),this.quill.container.classList.add("ql-bubble")}extendToolbar(e){this.tooltip=new T3(this.quill,this.options.bounds),e.container!=null&&(this.tooltip.root.appendChild(e.container),this.buildButtons(e.container.querySelectorAll("button"),vl),this.buildPickers(e.container.querySelectorAll("select"),vl))}}L3.DEFAULTS=Bi({},Vl.DEFAULTS,{modules:{toolbar:{handlers:{link(t){t?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});const mL=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class O3 extends E3{constructor(){super(...arguments);P(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",n=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),n.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",n=>{if(this.linkRange!=null){const s=this.linkRange;this.restoreFocus(),this.quill.formatText(s,"link",!1,be.sources.USER),delete this.linkRange}n.preventDefault(),this.hide()}),this.quill.on(be.events.SELECTION_CHANGE,(n,s,i)=>{if(n!=null){if(n.length===0&&i===be.sources.USER){const[o,r]=this.quill.scroll.descendant(Oi,n.index);if(o!=null){this.linkRange=new Do(n.index-r,o.length());const a=Oi.formats(o.domNode);this.preview.textContent=a,this.preview.setAttribute("href",a),this.show();const l=this.quill.getBounds(this.linkRange);l!=null&&this.position(l);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}P(O3,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class D3 extends Vl{constructor(e,n){n.modules.toolbar!=null&&n.modules.toolbar.container==null&&(n.modules.toolbar.container=mL),super(e,n),this.quill.container.classList.add("ql-snow")}extendToolbar(e){e.container!=null&&(e.container.classList.add("ql-snow"),this.buildButtons(e.container.querySelectorAll("button"),vl),this.buildPickers(e.container.querySelectorAll("select"),vl),this.tooltip=new O3(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(n,s)=>{e.handlers.link.call(e,!s.format.link)}))}}D3.DEFAULTS=Bi({},Vl.DEFAULTS,{modules:{toolbar:{handlers:{link(t){if(t){const e=this.quill.getSelection();if(e==null||e.length===0)return;let n=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(n)&&n.indexOf("mailto:")!==0&&(n=`mailto:${n}`);const{tooltip:s}=this.quill.theme;s.edit("link",n)}else this.quill.format("link",!1)}}}}});ne.register({"attributors/attribute/direction":h3,"attributors/class/align":c3,"attributors/class/background":NE,"attributors/class/color":PE,"attributors/class/direction":f3,"attributors/class/font":g3,"attributors/class/size":v3,"attributors/style/align":u3,"attributors/style/background":y1,"attributors/style/color":b1,"attributors/style/direction":p3,"attributors/style/font":_3,"attributors/style/size":b3},!0);ne.register({"formats/align":c3,"formats/direction":f3,"formats/indent":AT,"formats/background":y1,"formats/color":b1,"formats/font":g3,"formats/size":v3,"formats/blockquote":Bf,"formats/code-block":an,"formats/header":Uf,"formats/list":Nl,"formats/bold":_l,"formats/code":w1,"formats/italic":Ff,"formats/link":Oi,"formats/script":qf,"formats/strike":Wf,"formats/underline":jf,"formats/formula":Gc,"formats/image":Hf,"formats/video":Jc,"modules/syntax":$3,"modules/table":ET,"modules/toolbar":C1,"themes/bubble":L3,"themes/snow":D3,"ui/icons":vl,"ui/picker":hd,"ui/icon-picker":A3,"ui/color-picker":C3,"ui/tooltip":M3},!0);class kr extends Hn{static create(e){const n=super.create(e.content);return n.dataset.comment=e.content,n.dataset.type=e.type,n.classList.add(this.className),n}static formats(e){return{content:e.dataset.comment,type:e.dataset.type,x:e.dataset.x?parseInt(e.dataset.x):void 0,y:e.dataset.y?parseInt(e.dataset.y):void 0,width:e.dataset.width?parseInt(e.dataset.width):void 0,height:e.dataset.height?parseInt(e.dataset.height):void 0,imageSrc:e.dataset.imageSrc}}static value(e){return{content:e.dataset.comment,type:e.dataset.type,x:e.dataset.x?parseInt(e.dataset.x):void 0,y:e.dataset.y?parseInt(e.dataset.y):void 0,width:e.dataset.width?parseInt(e.dataset.width):void 0,height:e.dataset.height?parseInt(e.dataset.height):void 0,imageSrc:e.dataset.imageSrc}}}P(kr,"blotName","comment"),P(kr,"tagName","span"),P(kr,"className","ql-comment");class qa extends Hn{static create(e){const n=super.create(e.content);return n.dataset.comment=e.content,n.dataset.type=e.type,n.dataset.x=e.x.toString(),n.dataset.y=e.y.toString(),n.dataset.width=e.width.toString(),n.dataset.height=e.height.toString(),n.dataset.imageWidth=e.imageSize.width.toString(),n.dataset.imageHeight=e.imageSize.height.toString(),n.classList.add(this.className),n}static formats(e){return{content:e.dataset.comment,type:e.dataset.type,x:parseFloat(e.dataset.x),y:parseFloat(e.dataset.y),width:parseFloat(e.dataset.width),height:parseFloat(e.dataset.height),imageSrc:e.dataset.imageSrc||"",imageSize:{width:parseFloat(e.dataset.imageWidth),height:parseFloat(e.dataset.imageHeight)}}}static value(e){return JSON.stringify(this.formats(e))}}P(qa,"blotName","image-comment"),P(qa,"tagName","span"),P(qa,"className","ql-image-comment");class Zc extends ud{static create(e){const n=super.create("div");n.classList.add(this.className);const s=document.createElement("img");return s.setAttribute("src",e),n.appendChild(s),n}static formats(e){return{}}static register(){/Firefox/i.test(navigator.userAgent)&&setTimeout(()=>{document.execCommand("enableObjectResizing",!1,!1)},1)}static value(e){var s;return(s=e.querySelector("img"))==null?void 0:s.getAttribute("src")}}P(Zc,"blotName","image"),P(Zc,"tagName","div"),P(Zc,"className","ql-image");class gL extends ne{constructor(n,s,i,o){super(n.value,{readOnly:i==="readonly"});P(this,"toolbar");P(this,"ALLOWED_MIME_TYPES",["image/png","image/jpeg","image/jpg"]);P(this,"MAX_FILE_SIZE",3*1024*1024);this.registerBlots(),this.toolbar=o,this.setContents(new we(s)),this.initHandlers(),this.rerenderToolbar(),i==="commentable"&&(this.root.contentEditable="false")}registerBlots(){ne.register(kr),ne.register(qa),ne.register(Zc)}initHandlers(){this.on("selection-change",this.onSelectionChange.bind(this)),this.container.addEventListener("drop",this.onDrop.bind(this)),this.container.addEventListener("paste",this.onPaste.bind(this))}rerenderToolbar(){if(this.toolbar)for(const n of this.toolbar)for(const s of n)s.value!==void 0&&(s.active=this.getFormat()[s.type]===s.value)}async toggleFormat(n,s,i){const o=this.getSelection(),r=(o==null?void 0:o.index)||0,a=this.getFormat();switch(n){case"bold":case"italic":case"underline":case"strike":this.format(n,!a[n]);break;case"script":this.format("script",a[n]===s?!1:s);break;case"align":this.format("align",s);break;case"list":this.format("list",a[n]===s?!1:s);break;case"header":this.format("header",s);break;case"table":break;case"link":case"video":console.log("Link or video",i,r),await(i==null?void 0:i.call(this,r));break;case"image":this.insertImg(r,await this.promptAndUploadFile());break;case"color":this.format("color",a[n]===s?!1:s);break}this.rerenderToolbar()}async promptAndUploadFile(){const n=await this.promptFile();if(n)return await this.uploadFile(n)}comment(n,s){this.focus(),this.setSelection(n.index,n.length),this.format("comment",s),this.setSelection(0,0,"silent")}commentImage(n){const s=this.getContents(),i=s.ops.findIndex(r=>r.insert&&r.insert.image&&r.insert.image===n.imageSrc),o=s.ops.reduce((r,a,l)=>l>i?r:a.insert&&typeof a.insert=="string"?r+a.insert.length:r+1,0)-1;"originPosition"in n&&(n.x=n.originPosition.x,n.y=n.originPosition.y),o!==-1&&(this.focus(),this.setSelection(o,0,"silent"),this.insertText(o,"*","silent"),this.setSelection(o,1,"silent"),this.format("image-comment",n,"silent"),this.setSelection(0,0,"silent"))}removeComment(n){n.range&&(this.focus(),this.setSelection(n.range.index,n.range.length,"silent"),this.format("comment",!1,"silent"),this.setSelection(0,0,"silent"))}removeImageComment(n){const s=this.getContents(),i=s.ops.findIndex(r=>{var a,l,c,u;return typeof r.insert=="string"&&r.attributes&&((a=r.attributes["image-comment"])==null?void 0:a.content)===n.content&&((l=r.attributes["image-comment"])==null?void 0:l.type)===n.type&&((c=r.attributes["image-comment"])==null?void 0:c.x)===n.x&&((u=r.attributes["image-comment"])==null?void 0:u.y)===n.y});let o=s.ops.reduce((r,a,l)=>l>i?r:a.insert&&typeof a.insert=="string"?r+a.insert.length:r+1,0);i!==-1&&(this.focus(),this.getContents(o,1).ops[0].insert!=="*"&&(o=o-1),this.setSelection(o,1,"silent"),this.format("image-comment",!1,"silent"),this.deleteText(o,1,"silent"),this.setSelection(0,0,"silent"))}async promptFile(){return new Promise(n=>{const s=document.createElement("input");s.type="file",s.multiple=!1,s.accept=this.ALLOWED_MIME_TYPES.join(", "),s.hidden=!0,s.onchange=()=>{var o;const i=((o=s.files)==null?void 0:o[0])||null;n(i)},s.click()})}async uploadFile(n){N.Services.UI.setLoading(!0);try{if(n.size>this.MAX_FILE_SIZE)throw new Error("Файл слишком большой, максимальный размер файла 3 МБ");if(!this.ALLOWED_MIME_TYPES.includes(n.type))throw new Error("Недопустимый формат файла. Допустимые форматы: "+this.ALLOWED_MIME_TYPES.map(i=>i.split("/"[1])).join(", "));const{data:s}=await N.Services.Media.upload([n]);if(!s)throw new Error("Не удалось загрузить файл");if(s.length===0)throw new Error("Не удалось загрузить файл");return N.Constants.MEDIA_URL+"/"+s[0].src}catch(s){N.Services.UI.openErrorModal("Ошибка загрузки файла",s.message)}finally{N.Services.UI.setLoading(!1)}}onSelectionChange(){this.hasFocus()&&this.rerenderToolbar()}onDrop(n){var o,r;const s=(o=n.dataTransfer)==null?void 0:o.files,i=((r=this.getSelection())==null?void 0:r.index)||0;!s||!s.length||(n.stopPropagation(),n.preventDefault(),setTimeout(async()=>{for(const a of Array.from(s)){if(!this.ALLOWED_MIME_TYPES.includes(a.type)||a.size>this.MAX_FILE_SIZE)continue;const l=await this.uploadFile(a);this.insertImgAndRemoveDataUrl(i,l)}},0))}onPaste(n){var r;const s=((r=this.getSelection())==null?void 0:r.index)||0,i=n.clipboardData||window.clipboardData;if(!i&&!(i.items||i.files))return;const o=i.items||i.files;for(const a of o){if(!this.ALLOWED_MIME_TYPES.includes(a.type))return;const l=a.getAsFile?a.getAsFile():a;if(!l)return;this.focus(),n.preventDefault(),setTimeout(async()=>{this.focus();const c=await this.uploadFile(l);this.insertImgAndRemoveDataUrl(s||0,c)},0)}}insertImgAndRemoveDataUrl(n,s){s&&setTimeout(()=>{this.focus(),this.deleteText(n,1),this.insertEmbed(n,"image",s,"user")},0)}insertImg(n,s){s&&setTimeout(()=>{this.focus(),this.insertEmbed(n,"image",s,"user")},0)}}const _L=["id"],vL=["onClick","title"],bL=H({__name:"quill-toolbar",props:{visible:{type:Boolean},toolbar:{},id:{}},emits:["format"],setup(t){return(e,n)=>{const s=cS;return e.visible?(w(),k("div",{key:0,class:"quill-toolbar",id:`__quill_toolbox_${e.id}`},[(w(!0),k(he,null,Le(e.toolbar,(i,o)=>(w(),k("div",{key:o,class:"quill-toolbar__group"},[(w(!0),k(he,null,Le(i,r=>(w(),k("button",{key:r.type,class:_e(["quill-toolbar__button",{"quill-toolbar__button--active":r.active}]),onClick:()=>e.$emit("format",r),title:r.title},[r.type!=="color"?(w(),U(s,{key:0,name:r.icon},null,8,["name"])):(w(),k("span",{key:1,class:"quill-toolbar__button__color-dot",style:wn({"background-color":r.value})},null,4))],10,vL))),128))]))),128))],8,_L)):B("",!0)}}});const yL=K(bL,[["__scopeId","data-v-5b29743e"]]);let yc;const wL=new Uint8Array(16);function xL(){if(!yc&&(yc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!yc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return yc(wL)}const Ht=[];for(let t=0;t<256;++t)Ht.push((t+256).toString(16).slice(1));function kL(t,e=0){return Ht[t[e+0]]+Ht[t[e+1]]+Ht[t[e+2]]+Ht[t[e+3]]+"-"+Ht[t[e+4]]+Ht[t[e+5]]+"-"+Ht[t[e+6]]+Ht[t[e+7]]+"-"+Ht[t[e+8]]+Ht[t[e+9]]+"-"+Ht[t[e+10]]+Ht[t[e+11]]+Ht[t[e+12]]+Ht[t[e+13]]+Ht[t[e+14]]+Ht[t[e+15]]}const SL=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),d_={randomUUID:SL};function li(t,e,n){if(d_.randomUUID&&!e&&!t)return d_.randomUUID();t=t||{};const s=t.random||(t.rng||xL)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=s[i];return e}return kL(s)}const Fe={x:0,y:0,width:0,height:0,image:{x:0,y:0,width:0,height:0},started:!1,element:null},gr={element:null};function $L(t){const e=t.target,n=e.closest("img"),s=e.closest(".ql-image");if(!n)return;const i=n.getBoundingClientRect();Fe.x=t.clientX-i.left,Fe.y=t.clientY-i.top,Fe.width=0,Fe.height=0,Fe.element=s,Fe.started=!0,Fe.image={x:i.left,y:i.top,width:i.width,height:i.height},EL()}function CL(t){if(!Fe.started)return;const e=t.clientX-Fe.image.x,n=t.clientY-Fe.image.y;let s=e-Fe.x,i=n-Fe.y;s+Fe.x>Fe.image.width&&(s=Math.abs(Fe.image.width-Fe.x)),t.clientY>Fe.image.y+Fe.image.height&&(i=Math.abs(Fe.image.height-Fe.y)),Fe.width=s,Fe.height=i,I3()}function AL(t){if(!Fe.started)return null;Fe.started=!1;const e=Fe.element.querySelector("img");return{content:"",type:"logic-error",x:Fe.x,y:Fe.y,imageSize:{width:e.offsetWidth,height:e.offsetHeight},width:Fe.width,height:Fe.height,imageSrc:e.getAttribute("src"),image:e}}function h_(t){t.root.querySelectorAll(".ql-image-comment-selection").forEach(n=>{n.remove()})}function ML(t){t.root.querySelectorAll(".ql-image-comment").forEach(n=>{let s=n.nextElementSibling;const i={content:n.dataset.comment,type:n.dataset.type,x:parseFloat(n.dataset.x),y:parseFloat(n.dataset.y),width:parseFloat(n.dataset.width),height:parseFloat(n.dataset.height),imageSrc:n.dataset.imageSrc||"",imageSize:{width:parseFloat(n.dataset.imageWidth),height:parseFloat(n.dataset.imageHeight)}};for(;s&&!s.classList.contains("ql-image");)s=s.nextElementSibling;const o=document.createElement("div");o.classList.add("ql-image-comment-selection");const r=i.x/i.imageSize.width*100,a=i.y/i.imageSize.height*100,l=i.width/i.imageSize.width*100,c=i.height/i.imageSize.height*100;o.style.left=r+"%",o.style.top=a+"%",o.style.width=l+"%",o.style.height=c+"%",o.dataset.comment=i.content,o.dataset.type=i.type,o.dataset.width=i.width.toString(),o.dataset.height=i.height.toString(),s&&s.appendChild(o)})}function EL(){var e;const t=document.createElement("div");t.classList.add("ql-image-comment-selection"),gr.element=t,(e=Fe.element)==null||e.appendChild(t),I3()}function I3(){if(!gr.element)return;const t=Fe.x/Fe.image.width*100,e=Fe.y/Fe.image.height*100,n=Fe.width/Fe.image.width*100,s=Fe.height/Fe.image.height*100;gr.element.style.left=t+"%",gr.element.style.top=e+"%",gr.element.style.width=n+"%",gr.element.style.height=s+"%"}const TL={class:"quill-editor"},LL={class:"quill-editor__content"},OL=H({__name:"quill-editor",props:{modelValue:{},readonly:{type:Boolean},commentable:{type:Boolean}},emits:["update:modelValue","commented"],setup(t,{emit:e}){const n=t;let s=null;const i=J(null),o=li(),r=n.commentable?"commentable":n.readonly?"readonly":"full",a=J({content:"",type:"logic-error",visible:{modal:!1,popup:!1},range:null,x:0,y:0}),l=J({content:"",type:"logic-error",visible:{modal:!1,popup:!1},x:0,y:0,width:0,height:0,imageSrc:"",imageSize:{width:0,height:0},popupPosition:{x:0,y:0}}),c=J({visible:!1,label:"",action:()=>{}});function u(){s==null||s.comment(a.value.range,{content:a.value.content,type:a.value.type}),a.value.visible.popup=!1,a.value.content="",e("commented",s.getContents())}function d(){s==null||s.removeComment(a.value),a.value.visible.modal=!1,e("commented",s.getContents())}function h(L){console.log("comment clicked",L);const E=s==null?void 0:s.getSelection(),[q]=(s==null?void 0:s.getLeaf((E==null?void 0:E.index)||0))||[];if(!q)return;const ee=q.parent;let ie=ee.parent,X=ee.offset();for(;ie;)X+=ie.offset(),ie=ie.parent;const R={index:X,length:ee.length()||0},j=s==null?void 0:s.getBounds(R.index,R.length);a.value={...L,visible:{modal:!0,popup:!1},range:R,x:(j==null?void 0:j.left)||0,y:(j==null?void 0:j.bottom)||0}}function f(L){if(!(L!=null&&L.length))return;const E=s==null?void 0:s.getBounds(L.index,L.length);l.value.visible={modal:!1,popup:!1},E&&(a.value={content:"",type:"logic-error",visible:{modal:!1,popup:!0},range:L,x:E.left,y:E.bottom})}function p(){s==null||s.commentImage(l.value),l.value.visible.popup=!1,l.value.content="",h_(s),e("commented",s.getContents())}function g(){s==null||s.removeImageComment(l.value),l.value.visible.modal=!1,e("commented",s.getContents())}function _(L){a.value.visible={modal:!1,popup:!1},l.value={...L,visible:{modal:!0,popup:!1}}}function b(L){if(!L)return;const{x:E,y:q,height:ee,imageSrc:ie,image:X}=L,R=X==null?void 0:X.closest(".ql-image");if(!X||!R||!ie)return 0;const j=X.offsetLeft+R.offsetLeft,Y=X.offsetTop+R.offsetTop;l.value={...L,visible:{modal:!1,popup:!0},x:E,y:q,popupPosition:{x:E+j,y:q+Y+ee-10}}}const x=Gt([[{type:"bold",value:!0,title:"Жирный",icon:"bold",active:!1},{type:"italic",value:!0,title:"Курсив",icon:"italic",active:!1},{type:"underline",value:!0,title:"Подчеркнутый",icon:"underline",active:!1},{type:"strike",value:!0,title:"Зачеркнутый",icon:"strike",active:!1}],[{type:"script",value:"sub",title:"Подстрочный",icon:"subscript",active:!1},{type:"script",value:"super",title:"Надстрочный",icon:"superscript",active:!1}],[{type:"link",value:"true",title:"Ссылка",icon:"link",active:!1,action:L=>{c.value.label="Введите URL ссылки",c.value.visible=!0,c.value.action=E=>(s==null||s.format("link",E),Promise.resolve())}},{type:"image",value:"NEVER",title:"Изображение",icon:"image",active:!1},{type:"video",value:"NEVER",title:"Видео",icon:"video",active:!1,action:L=>{c.value.label="Введите URL видео",c.value.visible=!0,c.value.action=E=>(s==null||s.insertEmbed(L,"video",E),Promise.resolve())}}],[{type:"align",value:!1,title:"Выровнять по левому краю",icon:"align-left",active:!1},{type:"align",value:"center",title:"Выровнять по центру",icon:"align-center",active:!1},{type:"align",value:"right",title:"Выровнять по правому краю",icon:"align-right",active:!1},{type:"align",value:"justify",title:"Выровнять по ширине",icon:"align-justify",active:!1}],[{type:"header",value:1,title:"Большой заголовок",icon:"header",active:!1},{type:"header",value:2,title:"Маленький заголовок",icon:"header-2",active:!1},{type:"header",value:!1,title:"Обычный текст",icon:"clean",active:!1}],[{type:"list",value:"ordered",title:"Нумерованный список",icon:"list-ordered",active:!1},{type:"list",value:"bullet",title:"Список",icon:"list-bullet",active:!1}],[{type:"color",value:"var(--danger)",title:"Цвет текста",icon:"color",active:!1},{type:"color",value:"var(--warning)",title:"Цвет текста",icon:"color",active:!1},{type:"color",value:"var(--success)",title:"Цвет текста",icon:"color",active:!1},{type:"color",value:"var(--lila)",title:"Цвет текста",icon:"color",active:!1},{type:"color",value:"var(--primary)",title:"Цвет текста",icon:"color",active:!1}]]);function $(L){const E=L.target,q=E.className;if(q.includes(kr.className)){const ee=kr.value(E);h(ee);return}if(q.includes("ql-image-comment-selection")){const ee=E.dataset.height?parseInt(E.dataset.height):0,ie=E.dataset.width?parseInt(E.dataset.width):0,X=E.dataset.comment,R=E.dataset.type,j=s.root.querySelectorAll(".ql-image-comment"),Y=Array.from(j).find(le=>parseInt(le.dataset.width)===ie&&parseInt(le.dataset.height)===ee&&le.dataset.comment===X&&le.dataset.type===R);if(!Y)return;const oe=qa.formats(Y);let pe=Y.nextElementSibling;for(;pe&&!pe.classList.contains("ql-image");)pe=pe.nextElementSibling;const Se=pe.querySelector("img"),qe={...oe,visible:{modal:!1,popup:!1},popupPosition:{x:pe.offsetLeft+((Se==null?void 0:Se.offsetLeft)||0)+oe.x,y:pe.offsetTop+((Se==null?void 0:Se.offsetTop)||0)+oe.y+oe.height-10}};_(qe),console.log("image comment clicked",oe);return}}async function S(){return new Promise(L=>{s=new gL(i,n.modelValue,r,x),s.on("text-change",()=>{e("update:modelValue",s.getContents())}),r==="commentable"&&s.on("selection-change",f),L()})}Bo(async()=>{await S(),T()});const C=new AbortController;n.commentable&&window.addEventListener("mouseup",L=>{b(AL())},{signal:C.signal}),Rp(()=>C.abort()),P2(()=>T());function T(){h_(s),ML(s)}return(L,E)=>{const q=yL,ee=aS,ie=eS,X=qk;return w(),k("div",TL,[A(q,{visible:v(r)==="full",toolbar:x,id:v(o),onFormat:E[0]||(E[0]=R=>{var j;return(j=v(s))==null?void 0:j.toggleFormat(R.type,R.value,R.action)})},null,8,["visible","toolbar","id"]),A(ee,{label:c.value.label,action:c.value.action,visible:c.value.visible,"onUpdate:visible":E[1]||(E[1]=R=>c.value.visible=R)},null,8,["label","action","visible"]),m("div",LL,[m("div",{ref_key:"container",ref:i,onBeforeinput:E[2]||(E[2]=()=>!L.commentable),onClick:E[3]||(E[3]=R=>$(R)),onMousedown:E[4]||(E[4]=R=>L.commentable?$L(R):null),onMousemove:E[5]||(E[5]=R=>L.commentable?CL(R):null)},null,544)]),A(ie,{modelValue:a.value,"onUpdate:modelValue":E[6]||(E[6]=R=>a.value=R),onSubmit:E[7]||(E[7]=R=>u())},null,8,["modelValue"]),A(ie,{modelValue:l.value,"onUpdate:modelValue":E[8]||(E[8]=R=>l.value=R),onSubmit:E[9]||(E[9]=R=>p())},null,8,["modelValue"]),A(X,{visible:a.value.visible.modal,"onUpdate:visible":E[10]||(E[10]=R=>a.value.visible.modal=R),"position-x":a.value.x,"position-y":a.value.y,comment:a.value,editable:v(r)==="commentable",onDelete:E[11]||(E[11]=R=>d())},null,8,["visible","position-x","position-y","comment","editable"]),A(X,{visible:l.value.visible.modal,"onUpdate:visible":E[12]||(E[12]=R=>l.value.visible.modal=R),"position-x":l.value.popupPosition.x,"position-y":l.value.popupPosition.y,comment:l.value,editable:v(r)==="commentable",onDelete:E[13]||(E[13]=R=>g())},null,8,["visible","position-x","position-y","comment","editable"])])}}});const R3=K(OL,[["__scopeId","data-v-d88d0845"]]),DL={class:"rich-text-container"},Gr=H({__name:"rich-text-container",props:{content:{},commentable:{type:Boolean}},emits:["commented"],setup(t,{emit:e}){return(n,s)=>{const i=R3;return w(),k("div",DL,[A(i,{"model-value":n.content,readonly:!0,commentable:n.commentable,onCommented:s[0]||(s[0]=o=>e("commented",o))},null,8,["model-value","commentable"])])}}}),IL={class:"rich-text-area"},RL={class:"rich-text-area__inner"},PL=H({__name:"rich-text-area",props:{modelValue:{},label:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=W({get(){return n.modelValue},set(i){e("update:modelValue",i)}});return(i,o)=>{const r=R3;return w(),k("div",IL,[m("label",null,F(i.label),1),m("div",RL,[A(r,{modelValue:s.value,"onUpdate:modelValue":o[0]||(o[0]=a=>s.value=a)},null,8,["modelValue"])])])}}});const zl=K(PL,[["__scopeId","data-v-7d958335"]]);function Pr(t){switch(t){case"answer":return NL();case"comment":return VL();default:return{}}}function NL(){return{slug:li(),content:{ops:[{insert:`
`}]},taskId:"",createdAt:new Date,updatedAt:new Date}}function VL(){return{slug:li(),content:{ops:[{insert:`
`}]},score:0,taskId:"",createdAt:new Date,updatedAt:new Date}}const zL=t=>(Re("data-v-a22b8150"),t=t(),Pe(),t),BL={class:"task-answer-container"},UL=zL(()=>m("h4",{class:"task-answer-container__title"},"Ответ:",-1)),FL=H({__name:"task-answer-text-container",props:{modelValue:{},task:{},readonly:{type:Boolean},commentable:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=W({get(){const o=n.modelValue.answers.find(l=>l.taskId===n.task.id);if(o)return o.content;const r=Pr("answer");return r.taskId=n.task.id,{...n.modelValue}.answers.push(r),e("update:modelValue",n.modelValue),r.content},set(o){const r={...n.modelValue};r.answers.find(a=>a.taskId===n.task.id).content=o,e("update:modelValue",r)}});function i(o){s.value=o}return(o,r)=>{const a=Gr,l=zl,c=it("auto-animate");return Ee((w(),k("div",BL,[UL,o.readonly&&s.value?(w(),U(a,{key:0,content:s.value,commentable:o.commentable,onCommented:r[0]||(r[0]=u=>i(u))},null,8,["content","commentable"])):(w(),U(l,{key:1,modelValue:s.value,"onUpdate:modelValue":r[1]||(r[1]=u=>s.value=u)},null,8,["modelValue"]))])),[[c]])}}});const qL=K(FL,[["__scopeId","data-v-a22b8150"]]),WL=t=>(Re("data-v-c78d7035"),t=t(),Pe(),t),jL={class:"task-answer-container"},HL=WL(()=>m("h4",{class:"task-answer-container__title"},"Ответ:",-1)),YL=H({__name:"task-answer-word-container",props:{modelValue:{},task:{},readonly:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=W({get(){const i=(n.modelValue.answers||[]).find(a=>a.taskId===n.task.id);if(i)return i.word||"";const o=Pr("answer");return o.taskId=n.task.id,{...n.modelValue}.answers.push(o),e("update:modelValue",n.modelValue),o.word||""},set(i){const o={...n.modelValue};o.answers.find(r=>r.taskId===n.task.id).word=i,e("update:modelValue",o)}});return(i,o)=>{const r=qt;return w(),k("div",jL,[HL,A(r,{label:"Пробелы и регистр не учитываются в процессе проверки",readonly:i.readonly,modelValue:s.value,"onUpdate:modelValue":o[0]||(o[0]=a=>s.value=a),type:"text",validators:[a=>a.length<100||"Ответ не должен превышать 100 символов"]},null,8,["readonly","modelValue","validators"])])}}});const KL=K(YL,[["__scopeId","data-v-c78d7035"]]),XL=t=>(Re("data-v-914ef0fe"),t=t(),Pe(),t),GL={class:"task-answer-container"},JL=XL(()=>m("h4",{class:"task-answer-container__title"},"Ответ:",-1)),ZL={class:"task-answer-container__hint"},QL={class:"task-answer-container__list"},eO=H({__name:"task-answer-options-container",props:{modelValue:{},task:{},readonly:{type:Boolean},multiple:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=W({get:()=>{let i=n.modelValue.answers.find(o=>o.taskId===n.task.id);return i||(i=Pr("answer"),i.taskId=n.task.id),i.chosenTaskOptionIds||[]},set:i=>{const o={...n.modelValue};let r=o.answers.find(a=>a.taskId===n.task.id);r||(r=Pr("answer"),r.taskId=n.task.id,o.answers.push(r),o.answerIds.push(r.id)),r.chosenTaskOptions=n.task.options.filter(a=>i.includes(a.id)),r.chosenTaskOptionIds=r.chosenTaskOptions.map(a=>a.id),e("update:modelValue",o)}});return(i,o)=>{const r=Uo;return w(),k("div",GL,[JL,m("p",ZL,F(i.multiple?"Несколько вариантов ответа могут быть правильными":"Только один вариант ответа правильный"),1),m("div",QL,[A(r,{multiple:i.multiple,items:i.task.options||[],readonly:i.readonly,"item-label-key":"name","item-key":"id",modelValue:s.value,"onUpdate:modelValue":o[0]||(o[0]=a=>s.value=a)},null,8,["multiple","items","readonly","modelValue"])])])}}});const tO=K(eO,[["__scopeId","data-v-914ef0fe"]]);class nO{constructor(e,n){P(this,"quill");P(this,"options");this.quill=e,this.options=n}}class sO extends nO{constructor(n,s){super(n,s);P(this,"toolEnabled",!1);document.addEventListener("selectionchange",this.handleSelectionChange.bind(this))}get enabled(){return this.toolEnabled}set enabled(n){this.toolEnabled=n}handleSelectionChange(){if(!this.toolEnabled)return;const n=window.getSelection();if(!n)return;let s=null;try{s=n.getRangeAt(0)}catch{return}if(!s)return;const i=s.cloneContents(),o=document.createElement("quote");o.appendChild(i);const r=o.innerHTML,a=this.quill.clipboard.convert({html:r}),l=this.quill.updateContents(a);console.log("RESULT",l)}}const iO=t=>(Re("data-v-ce5d265f"),t=t(),Pe(),t),oO={key:0,class:"task-comment-container"},rO=iO(()=>m("h4",{class:"task-comment-container__title"},"Комментарий:",-1)),aO=H({__name:"task-comment-container",props:{modelValue:{},task:{},readonly:{type:Boolean},mode:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=W({get(){const r=n.modelValue.comments.find(c=>c.taskId===n.task.id);if(r)return r.content;const a=Pr("comment");return a.taskId=n.task.id,{...n.modelValue}.comments.push(a),e("update:modelValue",n.modelValue),a.content},set(r){const a={...n.modelValue};a.comments.find(l=>l.taskId===n.task.id).content=r,e("update:modelValue",a)}}),i={quoteSelection:sO},o={quoteSelection:{}};return(r,a)=>{const l=Gr,c=zl;return r.mode==="check"||!v(vu)(s.value)?(w(),k("div",oO,[rO,r.readonly?(w(),U(l,{key:0,content:s.value},null,8,["content"])):(w(),U(c,{key:1,modelValue:s.value,"onUpdate:modelValue":a[0]||(a[0]=u=>s.value=u),"additional-modules":i,"additional-module-options":o},null,8,["modelValue"]))])):B("",!0)}}});const lO=K(aO,[["__scopeId","data-v-ce5d265f"]]),cO={class:"select-input"},uO={class:"select-input__label"},dO={class:"select-input__label-text"},hO=["disabled"],fO=["value"],pO=H({__name:"select-input",props:{label:{},options:{},modelValue:{},readonly:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=W({get:()=>n.modelValue,set:i=>e("update:modelValue",i)});return(i,o)=>(w(),k("div",cO,[m("label",uO,[m("span",dO,F(i.label),1),Ee(m("select",{disabled:i.readonly,class:_e(["select-input__select",{"select-input__select--readonly":i.readonly}]),"onUpdate:modelValue":o[0]||(o[0]=r=>s.value=r)},[(w(!0),k(he,null,Le(i.options,r=>(w(),k("option",{key:r.value,value:r.value},F(r.label),9,fO))),128))],10,hO),[[ev,s.value]])])]))}});const Xo=K(pO,[["__scopeId","data-v-39b75273"]]),mO={class:"task-score-container"},gO=H({__name:"task-score-container",props:{modelValue:{},task:{},readonly:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=W(()=>{const o=[];for(let r=0;r<=n.task.highestScore;r++)o.push({label:r.toString(),value:r.toString()});return o}),i=W({get(){var l,c;const o=n.modelValue.comments.find(u=>u.taskId===n.task.id);if(o)return((l=o.score)==null?void 0:l.toString())||"0";const r=Pr("comment");r.taskId=n.task.id;const a={...n.modelValue};return a.comments.push(r),e("update:modelValue",a),((c=r.score)==null?void 0:c.toString())||"0"},set(o){const r={...n.modelValue};r.comments.find(a=>a.taskId===n.task.id).score=Number(o),e("update:modelValue",r)}});return(o,r)=>{const a=Xo;return w(),k("div",mO,[A(a,{label:"Балл:",options:s.value,modelValue:i.value,"onUpdate:modelValue":r[0]||(r[0]=l=>i.value=l),readonly:n.readonly},null,8,["options","modelValue","readonly"])])}}});const _O=K(gO,[["__scopeId","data-v-3ca80421"]]),fd=t=>(Re("data-v-438dc3e1"),t=t(),Pe(),t),vO={key:0,class:"task-view"},bO={class:"task-view__question"},yO={class:"task-view__question__max-score"},wO={key:0,class:"task-view__answer"},xO=fd(()=>m("br",null,null,-1)),kO={class:"taks-view__right-answer"},SO={class:"row"},$O={class:"col-md-6"},CO={class:"col-md-6"},AO={key:1,class:"task-view__hint"},MO=fd(()=>m("h4",{class:"task-view__hint__title"},"Подсказка:",-1)),EO={key:2,class:"task-view__hint"},TO=fd(()=>m("h4",{class:"task-view__hint__title"},"Пояснение:",-1)),LO={key:3,class:"task-view__comment"},OO={key:4,class:"task-view__action-buttons"},DO={key:1,class:"task-view__not-chosen"},IO=fd(()=>m("p",{class:"task-view__task-not-found"},"Выберите задание",-1)),RO=[IO],PO=H({__name:"task-view",setup(t){const e=Ba();return(n,s)=>{var a,l,c,u,d;const i=Gr,o=qt,r=ot;return v(e).assignedWork&&v(e).task?(w(),k("div",vO,[m("div",bO,[A(i,{content:v(e).task.content},null,8,["content"]),m("p",yO," Максимальный балл: "+F(v(e).task.highestScore),1)]),["visible","readonly"].includes(v(e).fieldVisibility.solveBox)?(w(),k("div",wO,[v(e).task.type==="text"?(w(),U(qL,{key:0,modelValue:v(e).assignedWork,"onUpdate:modelValue":s[0]||(s[0]=h=>v(e).assignedWork=h),task:v(e).task,readonly:v(e).fieldVisibility.solveBox==="readonly",commentable:v(e).fieldVisibility.checkBox==="visible"},null,8,["modelValue","task","readonly","commentable"])):B("",!0),v(e).task.type==="word"?(w(),U(KL,{key:1,modelValue:v(e).assignedWork,"onUpdate:modelValue":s[1]||(s[1]=h=>v(e).assignedWork=h),task:v(e).task,readonly:v(e).fieldVisibility.solveBox==="readonly"},null,8,["modelValue","task","readonly"])):v(e).task.type==="multiple_choice"||v(e).task.type==="one_choice"?(w(),U(tO,{key:2,modelValue:v(e).assignedWork,"onUpdate:modelValue":s[2]||(s[2]=h=>v(e).assignedWork=h),task:v(e).task,readonly:v(e).fieldVisibility.solveBox==="readonly",multiple:v(e).task.type==="multiple_choice"},null,8,["modelValue","task","readonly","multiple"])):B("",!0)])):B("",!0),xO,m("div",kO,[m("div",SO,[m("div",$O,[["visible","readonly"].includes(v(e).fieldVisibility.scoreBox)&&((a=v(e).task)==null?void 0:a.type)==="word"?(w(),U(o,{key:0,readonly:"",label:((l=v(e).task)==null?void 0:l.rightAnswer.split("|").length)>1?"Правильные ответы":"Правильный ответ","model-value":((c=v(e).task)==null?void 0:c.rightAnswer.split("|").join(", "))||"",type:"text"},null,8,["label","model-value"])):B("",!0)]),m("div",CO,[["visible","readonly"].includes(v(e).fieldVisibility.scoreBox)?(w(),U(_O,{key:0,modelValue:v(e).assignedWork,"onUpdate:modelValue":s[3]||(s[3]=h=>v(e).assignedWork=h),task:v(e).task,readonly:v(e).fieldVisibility.scoreBox==="readonly"},null,8,["modelValue","task","readonly"])):B("",!0)])])]),v(e).task.solveHint&&!v(vu)(v(e).task.solveHint)?(w(),k("div",AO,[MO,A(i,{content:v(e).task.solveHint},null,8,["content"])])):B("",!0),v(e).task.checkHint&&["check","read"].includes(v(e).mode)&&!v(vu)(v(e).task.checkHint)?(w(),k("div",EO,[TO,A(i,{content:v(e).task.checkHint},null,8,["content"])])):B("",!0),["visible","readonly"].includes(v(e).fieldVisibility.checkBox)?(w(),k("div",LO,[A(lO,{modelValue:v(e).assignedWork,"onUpdate:modelValue":s[4]||(s[4]=h=>v(e).assignedWork=h),task:v(e).task,readonly:v(e).fieldVisibility.checkBox==="readonly",mode:v(e).mode},null,8,["modelValue","task","readonly","mode"])])):B("",!0),(((d=(u=v(e).assignedWork)==null?void 0:u.work)==null?void 0:d.tasks.length)||0)>1?(w(),k("div",OO,[v(e).previousTaskLink?(w(),U(r,{key:0,alignment:"left",design:"secondary",to:v(e).previousTaskLink},{default:V(()=>[Q(" Предыдущий вопрос ")]),_:1},8,["to"])):B("",!0),v(e).nextTaskLink?(w(),U(r,{key:1,alignment:"right",to:v(e).nextTaskLink},{default:V(()=>[Q(" Следующий вопрос ")]),_:1},8,["to"])):B("",!0)])):B("",!0)])):(w(),k("div",DO,RO))}}});const NO=K(PO,[["__scopeId","data-v-438dc3e1"]]),VO={path:"/assigned-works",name:"assigned-works",component:ry,children:[{path:"",name:"Работы",component:ux},{path:":workId",name:"Работа",component:Tk,redirect:"read",children:[{path:":mode/:taskSlug?",name:"Работа",component:NO}]}]},zO={name:"works",router:VO},BO={},UO={class:"module-wrapper"};function FO(t,e){const n=De("router-view");return w(),k("div",UO,[A(n)])}const qO=K(BO,[["render",FO]]),WO={path:"/auth",name:"auth",component:qO,meta:{layout:"div"},children:[{path:"",name:"auth.index",component:()=>ge(()=>import("./index-view-60db9f66.js"),["assets/index-view-60db9f66.js","assets/index-view-7d329b54.css"])}]},jO={name:"auth",router:WO},HO={},YO={class:"module-wrapper"};function KO(t,e){const n=De("router-view");return w(),k("div",YO,[(w(),U(n,{key:t.$route.fullPath}))])}const XO=K(HO,[["render",KO]]),GO={class:"tag-input"},JO={class:"tag-input__tags"},ZO=["onClick"],QO=H({__name:"tag-input",props:{label:{},modelValue:{},separator:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=W({get:()=>n.separator?n.modelValue===""||!n.modelValue?[]:n.modelValue.split(n.separator):n.modelValue,set:l=>{n.separator?e("update:modelValue",l.join(n.separator)):e("update:modelValue",l)}}),i=J("");function o(){i.value&&i.value.trim()&&(s.value=[...s.value,i.value.trim()],i.value="")}function r(l){s.value=s.value.filter((c,u)=>u!==l)}function a(){i.value===""&&s.value.length>0&&r(s.value.length-1)}return(l,c)=>(w(),k(he,null,[m("label",null,F(l.label),1),m("div",GO,[m("div",JO,[(w(!0),k(he,null,Le(s.value,(u,d)=>(w(),k("span",{class:"tag-input__tag",key:d},[Q(F(u)+" ",1),m("b",{class:"tag-input__tag__remove",onClick:h=>r(d)}," + ",8,ZO)]))),128))]),Ee(m("input",{type:"text","onUpdate:modelValue":c[0]||(c[0]=u=>i.value=u),onKeydown:[c[1]||(c[1]=Zs(Vt(u=>o(),["prevent"]),["enter"])),c[2]||(c[2]=Zs(u=>a(),["backspace"]))]},null,544),[[To,i.value]])])],64))}});const A1=K(QO,[["__scopeId","data-v-a9720ac9"]]),M1=t=>(Re("data-v-ba106000"),t=t(),Pe(),t),eD={class:"blogpost-search-options"},tD=M1(()=>m("div",{class:"blogpost-search-options__title"},[m("h3",null,"Теги")],-1)),nD={class:"blogpost-search-options__section"},sD=M1(()=>m("div",{class:"blogpost-search-options__title"},[m("h3",null,"Дата")],-1)),iD={class:"blogpost-search-options__section"},oD=M1(()=>m("br",null,null,-1)),rD=H({__name:"blogpost-search-options",props:{pagination:{}},emits:["update:pagination"],setup(t,{emit:e}){const n=t,{yesterday:s,today:i}=on(new Date,{precision:"day"}),o=Gt({...n.pagination,"filter[tags]":{type:"tags",value:[]},"filter[createdAt]":{type:"range",value:[s(),i()]}});return We(o,()=>{e("update:pagination",o)},{deep:!0}),(r,a)=>{const l=A1,c=qt;return w(),k("div",eD,[tD,m("div",nD,[A(l,{label:"Введите тег",modelValue:o["filter[tags]"].value,"onUpdate:modelValue":a[0]||(a[0]=u=>o["filter[tags]"].value=u)},null,8,["modelValue"])]),sD,m("div",iD,[A(c,{type:"date",label:"Дата от",modelValue:o["filter[createdAt]"].value[0],"onUpdate:modelValue":a[1]||(a[1]=u=>o["filter[createdAt]"].value[0]=u)},null,8,["modelValue"]),oD,A(c,{type:"date",label:"Дата до",modelValue:o["filter[createdAt]"].value[1],"onUpdate:modelValue":a[2]||(a[2]=u=>o["filter[createdAt]"].value[1]=u)},null,8,["modelValue"])])])}}});const aD=K(rD,[["__scopeId","data-v-ba106000"]]),lD=H({__name:"user-link",props:{username:{},name:{}},setup(t){const e=t,n=J(!1),s=J();async function i(){N.Services.UI.setLoading(!0);try{const o=await N.Services.User.getUser(e.username);s.value=o.data,n.value=!0}catch(o){N.Services.UI.openErrorModal("Ошибка при получении пользователя",o.message)}finally{N.Services.UI.setLoading(!1)}}return(o,r)=>{const a=bv;return w(),k(he,null,[m("span",{onClick:i,class:"user-link"},F(o.name||o.username),1),s.value?(w(),U(a,{key:0,visible:n.value,"onUpdate:visible":r[0]||(r[0]=l=>n.value=l),user:s.value},null,8,["visible","user"])):B("",!0)],64)}}});const E1=K(lD,[["__scopeId","data-v-08277f3e"]]),cD=H({__name:"inline-emoji",props:{name:{}},setup(t){const e=t,n=W(()=>{var i;return(i=s.find(o=>o.name===e.name))==null?void 0:i.emoji}),s=[{emoji:"👍",name:"like",unicode:"1f44d",html:"&#128077;"},{emoji:"👎",name:"dislike",unicode:"1f44e",html:"&#128078;"},{emoji:"😢",name:"sad",unicode:"1f622",html:"&#128546;"},{emoji:"🤯",name:"mindblowing",unicode:"1f92f",html:"&#129327;"},{emoji:"😀",name:"happy",unicode:"1f600",html:"&#128512;"}];return(i,o)=>(w(),k("span",null,F(n.value),1))}}),uD={class:"blogpost-reactions"},dD={class:"blogpost-reactions__list"},hD=["onClick"],fD={key:0,class:"blogpost-reactions__list__item__value"},pD={key:1,class:"blogpost-reactions__list__item__value"},mD=H({__name:"blogpost-reactions",props:{reactions:{},myReaction:{},loading:{type:Boolean}},emits:["react"],setup(t,{emit:e}){const n=t,s=W(()=>Object.entries(n.reactions).map(([r,a])=>({reaction:r,count:a})));function i(o){n.loading||e("react",o)}return(o,r)=>{const a=cD,l=as,c=it("auto-animate");return w(),k("div",uD,[m("div",dD,[(w(!0),k(he,null,Le(s.value,u=>Ee((w(),k("div",{class:_e(["blogpost-reactions__list__item",{"blogpost-reactions__list__item--active":u.reaction===o.myReaction}]),key:u.reaction,onClick:d=>i(u.reaction)},[A(a,{name:u.reaction},null,8,["name"]),o.loading?(w(),k("span",pD,[A(l,{contrast:""})])):(w(),k("span",fD,F(u.count),1))],10,hD)),[[c]])),128))])])}}});const P3=K(mD,[["__scopeId","data-v-e7ff2e2f"]]);function N3(t){navigator.clipboard.writeText(t)}const gD={class:"blogpost-card"},_D={class:"blogpost-card__header"},vD={class:"blogpost-card__header__title"},bD={class:"blogpost-card__header__date"},yD={class:"blogpost-card__header__actions"},wD={class:"blogpost-card__info"},xD={class:"blogpost-card__info__tags"},kD={class:"blogpost-card__content"},SD={class:"blogpost-card__content__richtext"},$D={class:"blogpost-card__content__actions"},CD={key:0,class:"blogpost-card__content__poll-count"},AD={class:"blogpost-card__footer"},MD={class:"blogpost-card__footer__author"},ED={class:"blogpost-card__footer__author__avatar"},TD={class:"blogpost-card__footer__author__name"},LD={class:"blogpost-card__footer__reactions"},OD=H({__name:"blogpost-card",props:{post:{},reaction:{},isReactionLoading:{type:Boolean}},emits:["react","delete"],setup(t,{emit:e}){var u,d,h,f;const n=t,s=Is(),i=Gt([{title:"Редактировать",icon:"edit",if:((u=N.Context.User)==null?void 0:u.role)==="teacher"||((d=N.Context.User)==null?void 0:d.role)==="admin",action:()=>{s.push(`/blog/post/create${n.post.id}`)}},{title:"Результаты опроса",icon:"info",if:l(),action:()=>{s.push(`/poll/${n.post.pollId}/results`)}},{title:"Скопировать ссылку на опрос",icon:"copy",if:!!(l()&&n.post.pollId),stayOpened:!0,action:function(p){c(p,n.post.pollId)}},{title:"Удалить пост",icon:"delete",if:((h=N.Context.User)==null?void 0:h.role)==="teacher"||((f=N.Context.User)==null?void 0:f.role)==="admin",action:()=>{r()}}]);function o(p,g=5){if(p.ops.length<=g)return p;const _=p.ops.slice(0,g).filter(x=>{var $;return(($=x.insert)==null?void 0:$.image)===void 0}),b=p.ops.find(x=>{var $;return($=x.insert)==null?void 0:$.image});return b?{ops:[b,..._,{insert:`
...`}]}:{ops:[..._,{insert:`
...`}]}}function r(){e("delete",n.post.id)}function a(){var g;const p=(g=N.Context.User)==null?void 0:g.role;return!n.post.poll||!p?!1:n.post.poll.canVote.includes(p)||n.post.poll.canVote.includes("everyone")}function l(){var g;const p=(g=N.Context.User)==null?void 0:g.role;return!n.post.poll||!p?!1:n.post.poll.canSeeResults.includes(p)||n.post.poll.canSeeResults.includes("everyone")}function c(p,g){N3(`${N.Constants.POLL_URL}/${g}`),p.title="Скопировано!",p.icon="check-green",setTimeout(()=>{p.title="Скопировать ссылку на опрос",p.icon="copy"},2e3)}return(p,g)=>{const _=Jp,b=Zp,x=Gr,$=ot,S=hi,C=E1;return w(),k("div",gD,[m("div",_D,[m("div",vD,[m("h2",null,F(p.post.title),1)]),m("div",bD,F(v(on)(p.post.createdAt,{precision:"day"}).toBeautiful()),1),m("div",yD,[A(_,{items:i},null,8,["items"])])]),m("div",wD,[m("div",xD,[(w(!0),k(he,null,Le(p.post.tags,T=>(w(),U(b,{key:T,type:"info",mode:"background"},{default:V(()=>[Q(" #"+F(T),1)]),_:2},1024))),128))])]),m("div",kD,[m("div",SD,[A(x,{content:o(p.post.content)},null,8,["content"])]),m("div",$D,[A($,{to:`/blog/post/${p.post.id}`},{default:V(()=>[Q(" Читать далее ")]),_:1},8,["to"]),a()?(w(),U($,{key:0,to:`/poll/${p.post.pollId}`,design:"warning"},{default:V(()=>[Q(" Пройти опрос ")]),_:1},8,["to"])):B("",!0)]),p.post.poll?(w(),k("div",CD,[m("p",null,F(p.post.poll.votedCount||0)+" человек приняли участие в опросе",1)])):B("",!0)]),m("div",AD,[m("div",MD,[m("div",ED,[A(S,{name:p.post.author.name,src:p.post.author.telegramAvatarUrl},null,8,["name","src"])]),m("div",TD,[A(C,{username:p.post.author.username,name:p.post.author.name},null,8,["username","name"])])]),m("div",LD,[A(P3,{"my-reaction":p.post.myReaction,reactions:p.post.reactionCounts,loading:p.isReactionLoading,onReact:g[0]||(g[0]=T=>e("react",T))},null,8,["my-reaction","reactions","loading"])])])])}}});const DD=K(OD,[["__scopeId","data-v-2213ffcf"]]),ID=t=>(Re("data-v-44996f6f"),t=t(),Pe(),t),RD={class:"blog-list"},PD={key:0,class:"blog-list__cards"},ND={key:1,class:"blog-list__loading"},VD={key:2,class:"blog-list__not-found"},zD={class:"blog-list__not-found__image"},BD=ID(()=>m("p",{class:"blog-list__not-found__text"},"Посты не найдены",-1)),UD=H({__name:"blogpost-list",props:{posts:{},loading:{type:Boolean},isReactionLoading:{type:Boolean}},emits:["react","delete"],setup(t,{emit:e}){const n=t,s=J({});return We(s,(i,o)=>{console.log("reactionsModel changed",i,o)},{deep:!0}),(i,o)=>{const r=as,a=Xp;return w(),k("div",RD,[!i.loading&&n.posts.length?(w(),k("div",PD,[(w(!0),k(he,null,Le(n.posts,l=>(w(),U(DD,{key:l.id,post:l,"is-reaction-loading":n.isReactionLoading,onReact:c=>e("react",{postId:l.id,reaction:c}),onDelete:o[0]||(o[0]=c=>e("delete",c))},null,8,["post","is-reaction-loading","onReact"]))),128))])):i.loading?(w(),k("div",ND,[A(r,{contrast:""})])):(w(),k("div",VD,[m("div",zD,[A(a)]),BD]))])}}});const FD=K(UD,[["__scopeId","data-v-44996f6f"]]),V3=Ct("blog-module:blog",()=>{const t=N.Services.Blog,e=N.Services.UI,{pagination:n,isListLoading:s,results:i,resultsMeta:o,trigger:r}=Lt(a,{debounceTime:1e3,immediate:!0,initialPagination:{page:1,limit:5,sort:"createdAt",order:"DESC"}});async function a(d){try{return await t.getPosts(d)}catch(h){e.openErrorModal("Произошла ошибка при получении постов",h.message)}}async function l(d){e.setLoading(!0);try{await t.deletePost(d),r()}catch(h){e.openErrorModal("Ошибка при удалении поста",h.message)}finally{e.setLoading(!1)}}const c=J(!1);async function u(d,h){c.value=!0;try{let f=d,p=d;typeof d!="string"?f=d.id:p=i.value.find(_=>_.id===f);const g=await t.toggleReaction(f,h);p&&g.data&&(p.reactionCounts=g.data,p.myReaction=p.myReaction===h?void 0:h)}catch(f){e.openErrorModal("Ошибка при реакции на пост",f.message)}finally{c.value=!1}}return{results:i,resultsMeta:o,isListLoading:s,pagination:n,deletePost:l,isReactionLoading:c,reactToPost:u}}),qD={class:"index-view"},WD={class:"index-view__search"},jD={class:"index-view__search__field"},HD={class:"index-view__search__add-post"},YD={class:"index-view__list"},KD={key:0,class:"index-view__pagination"},XD=H({__name:"index-view",setup(t){const e=V3(),n=Gt({isDeleteModalVisible:!1,postIdToDelete:"",postTitle:""});function s(i){var o;n.isDeleteModalVisible=!0,n.postIdToDelete=i,n.postTitle=((o=e.results.find(r=>r.id===i))==null?void 0:o.title)||""}return ln("Блог/Новости"),(i,o)=>{var d,h;const r=Sn,a=ot,l=kn,c=fi,u=$n;return w(),k(he,null,[m("div",qD,[m("div",WD,[m("div",jD,[A(r,{modelValue:v(e).pagination.search,"onUpdate:modelValue":o[0]||(o[0]=f=>v(e).pagination.search=f)},null,8,["modelValue"])]),m("div",HD,[((d=v(N).Context.User)==null?void 0:d.role)==="admin"||((h=v(N).Context.User)==null?void 0:h.role)==="teacher"?(w(),U(a,{key:0,design:"primary",to:"/blog/post/create"},{default:V(()=>[Q(" Добавить пост ")]),_:1})):B("",!0)])]),A(c,null,{sidebar:V(()=>[A(aD,{pagination:v(e).pagination,"onUpdate:pagination":o[1]||(o[1]=f=>v(e).pagination=f)},null,8,["pagination"])]),content:V(()=>{var f,p;return[m("div",YD,[A(FD,{posts:v(e).results,loading:v(e).isListLoading,"is-reaction-loading":v(e).isReactionLoading,onReact:o[2]||(o[2]=g=>v(e).reactToPost(g.postId,g.reaction)),onDelete:o[3]||(o[3]=g=>s(g))},null,8,["posts","loading","is-reaction-loading"])]),(f=v(e).pagination)!=null&&f.page&&((p=v(e).pagination)!=null&&p.limit)?(w(),k("div",KD,[A(l,{page:v(e).pagination.page,"onUpdate:page":o[4]||(o[4]=g=>v(e).pagination.page=g),total:v(e).resultsMeta.total,limit:v(e).pagination.limit},null,8,["page","total","limit"])])):B("",!0)]}),_:1})]),A(u,{visible:n.isDeleteModalVisible,"onUpdate:visible":o[5]||(o[5]=f=>n.isDeleteModalVisible=f),onConfirm:o[6]||(o[6]=f=>v(e).deletePost(n.postIdToDelete))},{title:V(()=>[Q("Удаление поста")]),text:V(()=>[Q(' Вы уверены, что хотите удалить пост "'+F(n.postTitle)+'"? ',1)]),_:1},8,["visible"])],64)}}});const GD=K(XD,[["__scopeId","data-v-340f8e19"]]),JD={class:"file-card__preview"},ZD={class:"file-card__label"},QD=H({__name:"file-card",props:{selected:{type:Boolean},downloadable:{type:Boolean},name:{},src:{},extension:{},file:{}},setup(t){const e=t,n=W(()=>e.src?`https://cdn.noo-school.ru/uploads/${e.src}`:void 0);return(s,i)=>{const o=Jt,r=Zu;return w(),U(On(s.downloadable?"a":"div"),{href:s.downloadable?n.value:void 0,download:s.downloadable?s.src:void 0,target:"_blank",class:_e(["file-card",{"file-card--selected":s.selected,"file-card--downloadable":s.downloadable}])},{default:V(()=>[m("div",JD,[s.extension==="pdf"||s.src.split(".").pop()==="pdf"?(w(),U(o,{key:0,name:"pdf-file"})):(w(),U(r,{key:1,src:s.src||s.file||void 0},null,8,["src"]))]),m("div",ZD,[m("span",null,F(s.name||s.src),1)])]),_:1},8,["href","download","class"])}}});const eI=K(QD,[["__scopeId","data-v-a3ff6d60"]]),tI={class:"file-list"},nI={class:"file-list__header"},sI={class:"file-list__header__label"},iI={class:"file-list__body"},oI={class:"file-list__body__list"},rI=H({__name:"file-list",props:{label:{},files:{},actions:{},selectable:{type:Boolean},selectedKey:{}},emits:["update:files","update:selectedKey"],setup(t,{emit:e}){const n=t,s=W({get:()=>n.files,set:r=>e("update:files",r)}),i=W({get:()=>n.selectedKey,set:r=>e("update:selectedKey",r)});function o(r){i.value=r}return(r,a)=>{const l=eI;return w(),k("div",tI,[m("div",nI,[m("div",sI,[m("span",null,F(r.label),1)])]),m("div",iI,[m("div",oI,[(w(!0),k(he,null,Le(s.value,(c,u)=>(w(),U(l,{key:u,src:c.src,extension:c.extension,file:c.file,name:c.name||c.fileName,actions:r.actions,selected:!!(r.selectable&&c.key&&c.key===r.selectedKey),downloadable:r.actions&&r.actions.includes("download"),onClick:d=>o(c.key)},null,8,["src","extension","file","name","actions","selected","downloadable","onClick"]))),128))])])])}}});const T1=K(rI,[["__scopeId","data-v-2e741b85"]]),aI={class:"pdf-preview"},lI=["src"],cI=H({__name:"pdf-preview",props:{src:{}},setup(t){return(e,n)=>(w(),k("div",aI,[m("embed",{src:e.src,type:"application/pdf",width:"100%",height:"100%"},null,8,lI)]))}});function f_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function nt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f_(Object(n),!0).forEach(function(s){Un(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f_(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Un(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uI(t,e){if(t==null)return{};var n,s,i=function(r,a){if(r==null)return{};var l,c,u={},d=Object.keys(r);for(c=0;c<d.length;c++)l=d[c],a.indexOf(l)>=0||(u[l]=r[l]);return u}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Io(t){return function(e){if(Array.isArray(e))return Ih(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||function(e,n){if(e){if(typeof e=="string")return Ih(e,n);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Ih(e,n)}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ih(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,s=new Array(e);n<e;n++)s[n]=t[n];return s}var p_,dI,wc,Rt=(p_=function(t){/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){var e={}.hasOwnProperty;function n(){for(var s=[],i=0;i<arguments.length;i++){var o=arguments[i];if(o){var r=typeof o;if(r==="string"||r==="number")s.push(o);else if(Array.isArray(o)){if(o.length){var a=n.apply(null,o);a&&s.push(a)}}else if(r==="object")if(o.toString===Object.prototype.toString)for(var l in o)e.call(o,l)&&o[l]&&s.push(l);else s.push(o.toString())}}return s.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()},p_(wc={path:dI,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(e==null&&wc.path)}},wc.exports),wc.exports),hs=function(t){return function(e,n){if(!e)return t;var s;typeof e=="string"?s=e:n=e;var i=t;return s&&(i+="__"+s),i+(n?Object.keys(n).reduce(function(o,r){var a=n[r];return a&&(o+=" "+(typeof a=="boolean"?i+"--"+r:i+"--"+r+"_"+a)),o},""):"")}};function Yf(t,e,n){var s,i,o,r,a;function l(){var u=Date.now()-r;u<e&&u>=0?s=setTimeout(l,e-u):(s=null,n||(a=t.apply(o,i),o=i=null))}e==null&&(e=100);var c=function(){o=this,i=arguments,r=Date.now();var u=n&&!s;return s||(s=setTimeout(l,e)),u&&(a=t.apply(o,i),o=i=null),a};return c.clear=function(){s&&(clearTimeout(s),s=null)},c.flush=function(){s&&(a=t.apply(o,i),o=i=null,clearTimeout(s),s=null)},c}Yf.debounce=Yf;var Kf=Yf,Me=function(){return Me=Object.assign||function(t){for(var e,n=1,s=arguments.length;n<s;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Me.apply(this,arguments)};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function z3(t,e){var n,s;return t&&e?(n=""+t+e[0].toUpperCase()+e.slice(1),s=t+"-"+e):(n=t||e,s=t||e),{name:n,classname:s}}function B3(t){return/^blob:/.test(t)}function m_(t){return B3(t)||function(e){return/^data:/.test(e)}(t)}function rr(t){return!!(t&&t.constructor&&t.call&&t.apply)}function Bt(t){return t===void 0}function Qc(t){return typeof t=="object"&&t!==null}function Xf(t,e,n){var s={};return Qc(t)?(Object.keys(e).forEach(function(i){Bt(t[i])?s[i]=e[i]:Qc(e[i])?Qc(t[i])?s[i]=Xf(t[i],e[i],n[i]):s[i]=t[i]?e[i]:n[i]:e[i]===!0||e[i]===!1?s[i]=!!t[i]:s[i]=t[i]}),s):t?e:n}function xc(t){var e=Number(t);return Number.isNaN(e)?t:e}function g_(t){return typeof(t=="number"||function(e){return typeof e=="object"&&e!==null}(t)&&toString.call(t)=="[object Number]")&&!U3(t)}function U3(t){return t!=t}function F3(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}var Wa=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),this.type="manipulateImage",this.move=t,this.scale=e},hI=function(t,e){e===void 0&&(e={}),this.type="resize",this.directions=t,this.params=e},L1=function(t){this.type="move",this.directions=t},fI=function(){function t(e,n,s,i,o){this.type="drag",this.nativeEvent=e,this.position=s,this.previousPosition=i,this.element=n,this.anchor=o}return t.prototype.shift=function(){var e=this,n=e.element,s=e.anchor,i=e.position;if(n){var o=n.getBoundingClientRect(),r=o.left,a=o.top;return{left:i.left-r-s.left,top:i.top-a-s.top}}return{left:0,top:0}},t}(),O1={name:"DraggableElement",props:{classname:{type:String}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){if(!this.$refs.draggable)throw new Error('You should add ref "draggable" to your root element to use draggable mixin');this.touches=[],this.hovered=!1},methods:{onMouseOver:function(){this.hovered||(this.hovered=!0,this.$emit("enter"))},onMouseLeave:function(){this.hovered&&!this.touches.length&&(this.hovered=!1,this.$emit("leave"))},onTouchStart:function(t){t.cancelable&&!this.disabled&&t.touches.length===1&&(this.touches=Io(t.touches),this.hovered||(this.$emit("enter"),this.hovered=!0),t.touches.length&&this.initAnchor(this.touches.reduce(function(e,n){return{clientX:e.clientX+n.clientX/t.touches.length,clientY:e.clientY+n.clientY/t.touches.length}},{clientX:0,clientY:0})),t.preventDefault&&t.preventDefault(),t.stopPropagation())},onTouchEnd:function(){this.processEnd()},onTouchMove:function(t){this.touches.length&&(this.processMove(t,t.touches),t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation())},onMouseDown:function(t){if(!this.disabled){var e={fake:!0,clientX:t.clientX,clientY:t.clientY};this.touches=[e],this.initAnchor(e),t.stopPropagation()}},onMouseMove:function(t){this.touches.length&&(this.processMove(t,[{fake:!0,clientX:t.clientX,clientY:t.clientY}]),t.preventDefault&&t.preventDefault())},onMouseUp:function(){this.processEnd()},initAnchor:function(t){var e=this.$refs.draggable.getBoundingClientRect(),n=e.left,s=e.right,i=e.bottom,o=e.top;this.anchor={left:t.clientX-n,top:t.clientY-o,bottom:i-t.clientY,right:s-t.clientX}},processMove:function(t,e){var n=Io(e);if(this.touches.length){if(this.touches.length===1&&n.length===1){var s=this.$refs.draggable;this.$emit("drag",new fI(t,s,{left:n[0].clientX,top:n[0].clientY},{left:this.touches[0].clientX,top:this.touches[0].clientY},this.anchor))}this.touches=n}},processEnd:function(){this.touches.length&&this.$emit("drag-end"),this.hovered&&(this.$emit("leave"),this.hovered=!1),this.touches=[]}},emits:["drag","drag-end","leave","enter"]};O1.render=function(t,e,n,s,i,o){return w(),U("div",{ref:"draggable",class:n.classname,onTouchstart:e[1]||(e[1]=function(){return o.onTouchStart&&o.onTouchStart.apply(o,arguments)}),onMousedown:e[2]||(e[2]=function(){return o.onMouseDown&&o.onMouseDown.apply(o,arguments)}),onMouseover:e[3]||(e[3]=function(){return o.onMouseOver&&o.onMouseOver.apply(o,arguments)}),onMouseleave:e[4]||(e[4]=function(){return o.onMouseLeave&&o.onMouseLeave.apply(o,arguments)})},[Ge(t.$slots,"default")],34)};var Rh=hs("vue-handler-wrapper"),q3={name:"HandlerWrapper",components:{DraggableElement:O1},props:{horizontalPosition:{type:String},verticalPosition:{type:String},disabled:{type:Boolean,default:!1}},computed:{classes:function(){var t;if(this.horizontalPosition||this.verticalPosition){var e,n=z3(this.horizontalPosition,this.verticalPosition);t=Rh((Un(e={},n.classname,!0),Un(e,"disabled",this.disabled),e))}else t=Rh({disabled:this.disabled});return{root:t,draggable:Rh("draggable")}}},emits:["leave","enter","drag","drag-end"]};q3.render=function(t,e,n,s,i,o){var r=De("DraggableElement");return w(),U("div",{class:o.classes.root},[A(r,{class:o.classes.draggable,onDrag:e[1]||(e[1]=function(a){return t.$emit("drag",a)}),onDragEnd:e[2]||(e[2]=function(a){return t.$emit("drag-end")}),onLeave:e[3]||(e[3]=function(a){return t.$emit("leave")}),onEnter:e[4]||(e[4]=function(a){return t.$emit("enter")})},{default:V(function(){return[Ge(t.$slots,"default")]}),_:3},8,["class"])],2)};var pI=hs("vue-line-wrapper"),W3={name:"LineWrapper",components:{DraggableElement:O1},props:{position:{type:String,required:!0},disabled:{type:Boolean,default:!1}},computed:{classname:function(){var t;return pI((Un(t={},this.position,!0),Un(t,"disabled",this.disabled),t))}},emits:["leave","enter","drag","drag-end"]};W3.render=function(t,e,n,s,i,o){var r=De("DraggableElement");return w(),U(r,{class:o.classname,onDrag:e[1]||(e[1]=function(a){return t.$emit("drag",a)}),onDragEnd:e[2]||(e[2]=function(a){return t.$emit("drag-end")}),onLeave:e[3]||(e[3]=function(a){return t.$emit("leave")}),onEnter:e[4]||(e[4]=function(a){return t.$emit("enter")})},{default:V(function(){return[Ge(t.$slots,"default")]}),_:3},8,["class"])};var Cs=["left","right","top","bottom"],mI=["left","right"],gI=["top","bottom"],_I=["left","top"],vI=["fill-area","fit-area","stencil","none"],__={left:0,top:0,width:0,height:0};function v_(t,e,n){return!(n=n||["width","height","left","top"]).some(function(s){return t[s]!==e[s]})}function Ds(t){return{left:t.left,top:t.top,right:t.left+t.width,bottom:t.top+t.height}}function Nr(t,e){return{left:t.left-e.left,top:t.top-e.top}}function Yt(t){return{left:t.left+t.width/2,top:t.top+t.height/2}}function bl(t,e){var n={left:0,top:0,right:0,bottom:0};return Cs.forEach(function(s){var i=e[s],o=Ds(t)[s];n[s]=i!==void 0&&o!==void 0?s==="left"||s==="top"?Math.max(0,i-o):Math.max(0,o-i):0}),n}function ks(t,e){return{left:t.left-e.left,top:t.top-e.top,width:t.width+e.left+e.right,height:t.height+e.top+e.bottom}}function pd(t){return{left:-t.left,top:-t.top}}function bn(t,e){return Me(Me({},t),{left:t.left+e.left,top:t.top+e.top})}function jn(t,e,n,s){if(e!==1){if(n){var i=Yt(t);return{width:t.width*e,height:t.height*e,left:t.left+t.width*(1-e)/2+(n.left-i.left)*(s||1-e),top:t.top+t.height*(1-e)/2+(n.top-i.top)*(s||1-e)}}return{width:t.width*e,height:t.height*e,left:t.left+t.width*(1-e)/2,top:t.top+t.height*(1-e)/2}}return t}function st(t){return t.width/t.height}function Vr(t,e){return Math.min(e.right!==void 0&&e.left!==void 0?(e.right-e.left)/t.width:1/0,e.bottom!==void 0&&e.top!==void 0?(e.bottom-e.top)/t.height:1/0)}function zr(t,e){var n={left:0,top:0},s=bl(t,e);return s.left&&s.left>0?n.left=s.left:s.right&&s.right>0&&(n.left=-s.right),s.top&&s.top>0?n.top=s.top:s.bottom&&s.bottom>0&&(n.top=-s.bottom),n}function Ph(t,e){var n;return e.minimum&&t<e.minimum?n=e.minimum:e.maximum&&t>e.maximum&&(n=e.maximum),n}function j3(t,e){var n=st(t),s=st(e);return e.width<1/0&&e.height<1/0?n>s?{width:e.width,height:e.width/n}:{width:e.height*n,height:e.height}:e.width<1/0?{width:e.width,height:e.width/n}:e.height<1/0?{width:e.height*n,height:e.height}:t}function H3(t,e){var n=e*Math.PI/180;return{width:Math.abs(t.width*Math.cos(n))+Math.abs(t.height*Math.sin(n)),height:Math.abs(t.width*Math.sin(n))+Math.abs(t.height*Math.cos(n))}}function Mi(t,e){var n=e*Math.PI/180;return{left:t.left*Math.cos(n)-t.top*Math.sin(n),top:t.left*Math.sin(n)+t.top*Math.cos(n)}}function md(t,e){var n=bl(Kt(t,e),e);return n.left+n.right+n.top+n.bottom?n.left+n.right>n.top+n.bottom?Math.min((t.width+n.left+n.right)/t.width,Vr(t,e)):Math.min((t.height+n.top+n.bottom)/t.height,Vr(t,e)):1}function Kt(t,e,n){n===void 0&&(n=!1);var s=zr(t,e);return bn(t,n?pd(s):s)}function Gf(t){return{width:t.right!==void 0&&t.left!==void 0?t.right-t.left:1/0,height:t.bottom!==void 0&&t.top!==void 0?t.bottom-t.top:1/0}}function bI(t,e){return Me(Me({},t),{minWidth:Math.min(e.width,t.minWidth),minHeight:Math.min(e.height,t.minHeight),maxWidth:Math.min(e.width,t.maxWidth),maxHeight:Math.min(e.height,t.maxHeight)})}function Y3(t,e,n){n===void 0&&(n=!0);var s={};return Cs.forEach(function(i){var o=t[i],r=e[i];o!==void 0&&r!==void 0?s[i]=i==="left"||i==="top"?n?Math.max(o,r):Math.min(o,r):n?Math.min(o,r):Math.max(o,r):r!==void 0?s[i]=r:o!==void 0&&(s[i]=o)}),s}function gd(t,e){return Y3(t,e,!0)}function b_(t){var e=t.size,n=t.aspectRatio,s=t.ignoreMinimum,i=t.sizeRestrictions;return!!((e.correctRatio||st(e)>=n.minimum&&st(e)<=n.maximum)&&e.height<=i.maxHeight&&e.width<=i.maxWidth&&e.width&&e.height&&(s||e.height>=i.minHeight&&e.width>=i.minWidth))}function y_(t,e){return Math.pow(t.width-e.width,2)+Math.pow(t.height-e.height,2)}function Qs(t){var e=t.width,n=t.height,s=t.sizeRestrictions,i={minimum:t.aspectRatio&&t.aspectRatio.minimum||0,maximum:t.aspectRatio&&t.aspectRatio.maximum||1/0},o={width:Math.max(s.minWidth,Math.min(s.maxWidth,e)),height:Math.max(s.minHeight,Math.min(s.maxHeight,n))};function r(c,u){return u===void 0&&(u=!1),c.reduce(function(d,h){return b_({size:h,aspectRatio:i,sizeRestrictions:s,ignoreMinimum:u})&&(!d||y_(h,{width:e,height:n})<y_(d,{width:e,height:n}))?h:d},null)}var a=[];i&&[i.minimum,i.maximum].forEach(function(c){c&&a.push({width:o.width,height:o.width/c,correctRatio:!0},{width:o.height*c,height:o.height,correctRatio:!0})}),b_({size:o,aspectRatio:i,sizeRestrictions:s})&&a.push(o);var l=r(a)||r(a,!0);return l&&{width:l.width,height:l.height}}function Jf(t){var e=t.event,n=t.coordinates,s=t.positionRestrictions,i=s===void 0?{}:s,o=bn(n,e.directions);return bn(o,zr(o,i))}function yI(t){var e=t.coordinates,n=t.transform,s=t.imageSize,i=t.sizeRestrictions,o=t.positionRestrictions,r=t.aspectRatio,a=t.visibleArea,l=function(u,d){return Jf({coordinates:u,positionRestrictions:o,event:new L1({left:d.left-u.left,top:d.top-u.top})})},c=Me({},e);return(Array.isArray(n)?n:[n]).forEach(function(u){var d={};Bt((d=typeof u=="function"?u({coordinates:c,imageSize:s,visibleArea:a}):u).width)&&Bt(d.height)||(c=function(h,f){var p=Me(Me(Me({},h),Qs({width:f.width,height:f.height,sizeRestrictions:i,aspectRatio:r})),{left:0,top:0});return l(p,{left:h.left,top:h.top})}(c,Me(Me({},c),d))),Bt(d.left)&&Bt(d.top)||(c=l(c,Me(Me({},c),d)))}),c}function wI(t){t.event;var e=t.getAreaRestrictions,n=t.boundaries,s=t.coordinates,i=t.visibleArea;t.aspectRatio;var o=t.stencilSize,r=t.sizeRestrictions,a=t.positionRestrictions;t.stencilReference;var l,c,u,d=Me({},s),h=Me({},i),f=Me({},o);l=st(f),c=st(d),u===void 0&&(u=.001),(l===0||c===0?Math.abs(c-l)<u:Math.abs(c/l)<1+u&&Math.abs(c/l)>1-u)||(d=Me(Me({},d),Qs({sizeRestrictions:r,width:d.width,height:d.height,aspectRatio:{minimum:st(f),maximum:st(f)}})));var p=md(h=jn(h,d.width*n.width/(h.width*f.width)),e({visibleArea:h,type:"resize"}));return p!==1&&(h=jn(h,p),d=jn(d,p)),h=Kt(h=bn(h,Nr(Yt(d),Yt(h))),e({visibleArea:h,type:"move"})),{coordinates:d=Kt(d,gd(Ds(h),a)),visibleArea:h}}function xI(t){var e=t.event,n=t.getAreaRestrictions,s=t.boundaries,i=t.coordinates,o=t.visibleArea;t.aspectRatio,t.stencilSize,t.sizeRestrictions;var r=t.positionRestrictions;t.stencilReference;var a=Me({},i),l=Me({},o);if(i&&o&&e.type!=="manipulateImage"){var c={width:0,height:0};l.width,s.width,st(s)>st(a)?(c.height=.8*s.height,c.width=c.height*st(a)):(c.width=.8*s.width,c.height=c.width*st(a));var u=md(l=jn(l,a.width*s.width/(l.width*c.width)),n({visibleArea:l,type:"resize"}));l=jn(l,u),u!==1&&(c.height/=u,c.width/=u),l=Kt(l=bn(l,Nr(Yt(a),Yt(l))),n({visibleArea:l,type:"move"})),a=Kt(a,gd(Ds(l),r))}return{coordinates:a,visibleArea:l}}function kI(t){var e=t.event,n=t.coordinates,s=t.visibleArea,i=t.getAreaRestrictions,o=Me({},s),r=Me({},n);if(e.type==="setCoordinates"){var a=Math.max(0,r.width-o.width),l=Math.max(0,r.height-o.height);a>l?o=jn(o,Math.min(r.width/o.width,Vr(o,i({visibleArea:o,type:"resize"})))):l>a&&(o=jn(o,Math.min(r.height/o.height,Vr(o,i({visibleArea:o,type:"resize"}))))),o=Kt(o=bn(o,pd(zr(r,Ds(o)))),i({visibleArea:o,type:"move"}))}return{visibleArea:o,coordinates:r}}function SI(t){var e=t.imageSize,n=t.visibleArea,s=t.coordinates,i=n||e;return{left:(n?n.left:0)+i.width/2-s.width/2,top:(n?n.top:0)+i.height/2-s.height/2}}function $I(t){var e=t.imageSize,n=t.visibleArea,s=t.aspectRatio,i=t.sizeRestrictions,o=n||e,r=Math.min(s.maximum||1/0,Math.max(s.minimum||0,st(o))),a=o.width<o.height?{width:.8*o.width,height:.8*o.width/r}:{height:.8*o.height,width:.8*o.height*r};return Qs(Me(Me({},a),{aspectRatio:s,sizeRestrictions:i}))}function CI(t){var e,n,s=t.imageSize,i=t.visibleArea,o=t.boundaries,r=t.aspectRatio,a=t.sizeRestrictions,l=t.stencilSize,c=i||s;return st(c)>st(o)?n=(e=l.height*c.height/o.height)*st(l):e=(n=l.width*c.width/o.width)/st(l),Qs({width:n,height:e,aspectRatio:r,sizeRestrictions:a})}function AI(t){var e=t.getAreaRestrictions,n=t.coordinates,s=t.imageSize,i=st(t.boundaries);if(n){var o={height:Math.max(n.height,s.height),width:Math.max(n.width,s.width)},r=j3({width:st(o)>i?o.width:o.height*i,height:st(o)>i?o.width/i:o.height},Gf(e())),a={left:n.left+n.width/2-r.width/2,top:n.top+n.height/2-r.height/2,width:r.width,height:r.height},l=bl(n,Ds(Me({left:0,top:0},s))),c={};return!l.left&&!l.right&&a.width<=s.width&&(c.left=0,c.right=s.width),!l.top&&!l.bottom&&a.height<=s.height&&(c.top=0,c.bottom=s.height),Kt(a,c)}var u=st(s);return r={height:u>i?s.height:s.width/i,width:u>i?s.height*i:s.width},{left:s.width/2-r.width/2,top:s.height/2-r.height/2,width:r.width,height:r.height}}function kc(t,e){return Y3(t,Ds(e))}function MI(t){var e=t.event,n=t.coordinates,s=t.visibleArea,i=t.sizeRestrictions,o=t.getAreaRestrictions,r=t.positionRestrictions,a=t.adjustStencil,l=e.scale,c=e.move,u=Me({},s),d=Me({},n),h=1,f=1,p=l.factor&&Math.abs(l.factor-1)>.001;u=bn(u,{left:c.left||0,top:c.top||0});var g={stencil:{minimum:Math.max(i.minWidth?i.minWidth/d.width:0,i.minHeight?i.minHeight/d.height:0),maximum:Math.min(i.maxWidth?i.maxWidth/d.width:1/0,i.maxHeight?i.maxHeight/d.height:1/0,Vr(d,r))},area:{maximum:Vr(u,o({visibleArea:u,type:"resize"}))}};l.factor&&p&&(l.factor<1?(f=Math.max(l.factor,g.stencil.minimum))>1&&(f=1):l.factor>1&&(f=Math.min(l.factor,Math.min(g.area.maximum,g.stencil.maximum)))<1&&(f=1)),f&&(u=jn(u,f,l.center));var _=n.left-s.left,b=s.width+s.left-(n.width+n.left),x=n.top-s.top,$=s.height+s.top-(n.height+n.top);return u=Kt(u=bn(u,zr(u,{left:r.left!==void 0?r.left-_*f:void 0,top:r.top!==void 0?r.top-x*f:void 0,bottom:r.bottom!==void 0?r.bottom+$*f:void 0,right:r.right!==void 0?r.right+b*f:void 0})),o({visibleArea:u,type:"move"})),d.width=d.width*f,d.height=d.height*f,d.left=u.left+_*f,d.top=u.top+x*f,d=Kt(d,gd(Ds(u),r)),l.factor&&p&&a&&(l.factor>1?h=Math.min(g.area.maximum,l.factor)/f:l.factor<1&&(h=Math.max(d.height/u.height,d.width/u.width,l.factor/f)),h!==1&&(u=bn(u=Kt(u=jn(u,h,l.factor>1?l.center:Yt(d)),o({visibleArea:u,type:"move"})),pd(zr(d,Ds(u)))))),{coordinates:d,visibleArea:u}}function EI(t){var e=t.aspectRatio,n=t.getAreaRestrictions,s=t.coordinates,i=t.visibleArea,o=t.sizeRestrictions,r=t.positionRestrictions,a=t.imageSize,l=t.previousImageSize,c=t.angle,u=Me({},s),d=Me({},i),h=Mi(Yt(Me({left:0,top:0},l)),c);return(u=Me(Me({},Qs({sizeRestrictions:o,aspectRatio:e,width:u.width,height:u.height})),Mi(Yt(u),c))).left-=h.left-a.width/2+u.width/2,u.top-=h.top-a.height/2+u.height/2,d=jn(d,md(d,n({visibleArea:d,type:"resize"}))),{coordinates:u=Kt(u,r),visibleArea:d=Kt(d=bn(d,Nr(Yt(u),Yt(s))),n({visibleArea:d,type:"move"}))}}function TI(t){var e=t.flip,n=t.previousFlip,s=t.rotate;t.aspectRatio;var i=t.getAreaRestrictions,o=t.coordinates,r=t.visibleArea,a=t.imageSize,l=Me({},o),c=Me({},r),u=n.horizontal!==e.horizontal,d=n.vertical!==e.vertical;if(u||d){var h=Mi({left:a.width/2,top:a.height/2},-s),f=Mi(Yt(l),-s),p=Mi({left:u?h.left-(f.left-h.left):f.left,top:d?h.top-(f.top-h.top):f.top},s);l=bn(l,Nr(p,Yt(l))),f=Mi(Yt(c),-s),c=Kt(c=bn(c,Nr(p=Mi({left:u?h.left-(f.left-h.left):f.left,top:d?h.top-(f.top-h.top):f.top},s),Yt(c))),i({visibleArea:c,type:"move"}))}return{coordinates:l,visibleArea:c}}function w_(t){var e=t.directions,n=t.coordinates,s=t.positionRestrictions,i=s===void 0?{}:s,o=t.sizeRestrictions,r=t.preserveRatio,a=t.compensate,l=Me({},e),c=ks(n,l).width,u=ks(n,l).height;c<0&&(l.left<0&&l.right<0?(l.left=-(n.width-o.minWidth)/(l.left/l.right),l.right=-(n.width-o.minWidth)/(l.right/l.left)):l.left<0?l.left=-(n.width-o.minWidth):l.right<0&&(l.right=-(n.width-o.minWidth))),u<0&&(l.top<0&&l.bottom<0?(l.top=-(n.height-o.minHeight)/(l.top/l.bottom),l.bottom=-(n.height-o.minHeight)/(l.bottom/l.top)):l.top<0?l.top=-(n.height-o.minHeight):l.bottom<0&&(l.bottom=-(n.height-o.minHeight)));var d=bl(ks(n,l),i);a&&(d.left&&d.left>0&&d.right===0?(l.right+=d.left,l.left-=d.left):d.right&&d.right>0&&d.left===0&&(l.left+=d.right,l.right-=d.right),d.top&&d.top>0&&d.bottom===0?(l.bottom+=d.top,l.top-=d.top):d.bottom&&d.bottom>0&&d.top===0&&(l.top+=d.bottom,l.bottom-=d.bottom),d=bl(ks(n,l),i));var h={width:1/0,height:1/0,left:1/0,right:1/0,top:1/0,bottom:1/0};if(Cs.forEach(function(g){var _=d[g];_&&l[g]&&(h[g]=Math.max(0,1-_/l[g]))}),r){var f=Math.min.apply(null,Cs.map(function(g){return h[g]}));f!==1/0&&Cs.forEach(function(g){l[g]*=f})}else Cs.forEach(function(g){h[g]!==1/0&&(l[g]*=h[g])});if(c=ks(n,l).width,u=ks(n,l).height,l.right+l.left&&(c>o.maxWidth?h.width=(o.maxWidth-n.width)/(l.right+l.left):c<o.minWidth&&(h.width=(o.minWidth-n.width)/(l.right+l.left))),l.bottom+l.top&&(u>o.maxHeight?h.height=(o.maxHeight-n.height)/(l.bottom+l.top):u<o.minHeight&&(h.height=(o.minHeight-n.height)/(l.bottom+l.top))),r){var p=Math.min(h.width,h.height);p!==1/0&&Cs.forEach(function(g){l[g]*=p})}else h.width!==1/0&&mI.forEach(function(g){l[g]*=h.width}),h.height!==1/0&&gI.forEach(function(g){l[g]*=h.height});return l}function Sc(t,e,n){return e==0&&n==0?t/2:e==0?0:n==0?t:t*Math.abs(e/(e+n))}var LI=hs("vue-simple-handler"),OI=hs("vue-simple-handler-wrapper"),D1={name:"SimpleHandler",components:{HandlerWrapper:q3},props:{defaultClass:{type:String},hoverClass:{type:String},wrapperClass:{type:String},horizontalPosition:{type:String},verticalPosition:{type:String},disabled:{type:Boolean,default:!1}},data:function(){return{hover:!1}},computed:{classes:function(){var t,e=(Un(t={},this.horizontalPosition,!!this.horizontalPosition),Un(t,this.verticalPosition,!!this.verticalPosition),Un(t,"".concat(this.horizontalPosition,"-").concat(this.verticalPosition),!!(this.verticalPosition&&this.horizontalPosition)),Un(t,"hover",this.hover),t);return{default:Rt(LI(e),this.defaultClass,this.hover&&this.hoverClass),wrapper:Rt(OI(e),this.wrapperClass)}}},methods:{onDrag:function(t){this.$emit("drag",t)},onEnter:function(){this.hover=!0},onLeave:function(){this.hover=!1},onDragEnd:function(){this.$emit("drag-end")}},emits:["drag","drag-end"]};D1.render=function(t,e,n,s,i,o){var r=De("HandlerWrapper");return w(),U(r,{class:o.classes.wrapper,"vertical-position":n.verticalPosition,"horizontal-position":n.horizontalPosition,disabled:n.disabled,onDrag:o.onDrag,onDragEnd:o.onDragEnd,onEnter:o.onEnter,onLeave:o.onLeave},{default:V(function(){return[A("div",{class:o.classes.default},null,2)]}),_:1},8,["class","vertical-position","horizontal-position","disabled","onDrag","onDragEnd","onEnter","onLeave"])};var DI=hs("vue-simple-line"),II=hs("vue-simple-line-wrapper"),I1={name:"SimpleLine",components:{LineWrapper:W3},props:{defaultClass:{type:String},hoverClass:{type:String},wrapperClass:{type:String},position:{type:String},disabled:{type:Boolean,default:!1}},data:function(){return{hover:!1}},computed:{classes:function(){return{root:Rt(DI(Un({},this.position,!0)),this.defaultClass,this.hover&&this.hoverClass),wrapper:Rt(II(Un({},this.position,!0)),this.wrapperClass)}}},methods:{onDrag:function(t){this.$emit("drag",t)},onEnter:function(){this.hover=!0},onLeave:function(){this.hover=!1},onDragEnd:function(){this.$emit("drag-end")}},emits:["drag","drag-end"]};I1.render=function(t,e,n,s,i,o){var r=De("LineWrapper");return w(),U(r,{class:o.classes.wrapper,position:n.position,disabled:n.disabled,onDrag:o.onDrag,onDragEnd:o.onDragEnd,onEnter:o.onEnter,onLeave:o.onLeave},{default:V(function(){return[A("div",{class:o.classes.root},null,2)]}),_:1},8,["class","position","disabled","onDrag","onDragEnd","onEnter","onLeave"])};var Nh=hs("vue-bounding-box"),RI=["east","west",null],PI=["south","north",null],K3={name:"BoundingBox",props:{width:{type:Number},height:{type:Number},transitions:{type:Object},handlers:{type:Object,default:function(){return{eastNorth:!0,north:!0,westNorth:!0,west:!0,westSouth:!0,south:!0,eastSouth:!0,east:!0}}},handlersComponent:{type:[Object,String],default:function(){return D1}},handlersClasses:{type:Object,default:function(){return{}}},handlersWrappersClasses:{type:Object,default:function(){return{}}},lines:{type:Object,default:function(){return{west:!0,north:!0,east:!0,south:!0}}},linesComponent:{type:[Object,String],default:function(){return I1}},linesClasses:{type:Object,default:function(){return{}}},linesWrappersClasses:{type:Object,default:function(){return{}}},resizable:{type:Boolean,default:!0}},data:function(){var t=[];return RI.forEach(function(e){PI.forEach(function(n){if(e!==n){var s=z3(e,n),i=s.name,o=s.classname;t.push({name:i,classname:o,verticalDirection:n,horizontalDirection:e})}})}),{points:t}},computed:{style:function(){var t={};return this.width&&this.height&&(t.width="".concat(this.width,"px"),t.height="".concat(this.height,"px"),this.transitions&&this.transitions.enabled&&(t.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction))),t},classes:function(){var t=this.handlersClasses,e=this.handlersWrappersClasses,n=this.linesClasses,s=this.linesWrappersClasses;return{root:Nh(),handlers:t,handlersWrappers:e,lines:n,linesWrappers:s}},lineNodes:function(){var t=this,e=[];return this.points.forEach(function(n){n.horizontalDirection&&n.verticalDirection||!t.lines[n.name]||e.push({name:n.name,component:t.linesComponent,class:Rt(t.classes.lines.default,t.classes.lines[n.name],!t.resizable&&t.classes.lines.disabled),wrapperClass:Rt(t.classes.linesWrappers.default,t.classes.linesWrappers[n.name],!t.resizable&&t.classes.linesWrappers.disabled),hoverClass:t.classes.lines.hover,verticalDirection:n.verticalDirection,horizontalDirection:n.horizontalDirection,disabled:!t.resizable})}),e},handlerNodes:function(){var t=this,e=[],n=this.width,s=this.height;return this.points.forEach(function(i){if(t.handlers[i.name]){var o={name:i.name,component:t.handlersComponent,class:Rt(t.classes.handlers.default,t.classes.handlers[i.name]),wrapperClass:Rt(t.classes.handlersWrappers.default,t.classes.handlersWrappers[i.name]),hoverClass:t.classes.handlers.hover,verticalDirection:i.verticalDirection,horizontalDirection:i.horizontalDirection,disabled:!t.resizable};if(n&&s){var r=i.horizontalDirection,a=i.verticalDirection,l=r==="east"?n:r==="west"?0:n/2,c=a==="south"?s:a==="north"?0:s/2;o.wrapperClass=Nh("handler"),o.wrapperStyle={transform:"translate(".concat(l,"px, ").concat(c,"px)")},t.transitions&&t.transitions.enabled&&(o.wrapperStyle.transition="".concat(t.transitions.time,"ms ").concat(t.transitions.timingFunction))}else o.wrapperClass=Nh("handler",Un({},i.classname,!0));e.push(o)}}),e}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){this.touches=[]},methods:{onEnd:function(){this.$emit("resize-end")},onHandlerDrag:function(t,e,n){var s,i=t.shift(),o=i.left,r=i.top,a={left:0,right:0,top:0,bottom:0};e==="west"?a.left-=o:e==="east"&&(a.right+=o),n==="north"?a.top-=r:n==="south"&&(a.bottom+=r),!n&&e?s="width":n&&!e&&(s="height"),this.resizable&&this.$emit("resize",new hI(a,{allowedDirections:{left:e==="west"||!e,right:e==="east"||!e,bottom:n==="south"||!n,top:n==="north"||!n},preserveAspectRatio:t.nativeEvent&&t.nativeEvent.shiftKey,respectDirection:s}))}},emits:["resize","resize-end"]};K3.render=function(t,e,n,s,i,o){return w(),U("div",{ref:"box",class:o.classes.root,style:o.style},[Ge(t.$slots,"default"),A("div",null,[(w(!0),U(he,null,Le(o.lineNodes,function(r){return w(),U(On(r.component),{key:r.name,"default-class":r.class,"hover-class":r.hoverClass,"wrapper-class":r.wrapperClass,position:r.name,disabled:r.disabled,onDrag:function(a){return o.onHandlerDrag(a,r.horizontalDirection,r.verticalDirection)},onDragEnd:e[1]||(e[1]=function(a){return o.onEnd()})},null,8,["default-class","hover-class","wrapper-class","position","disabled","onDrag"])}),128))]),(w(!0),U(he,null,Le(o.handlerNodes,function(r){return w(),U("div",{key:r.name,style:r.wrapperStyle,class:r.wrapperClass},[(w(),U(On(r.component),{"default-class":r.class,"hover-class":r.hoverClass,"wrapper-class":r.wrapperClass,"horizontal-position":r.horizontalDirection,"vertical-position":r.verticalDirection,disabled:r.disabled,onDrag:function(a){return o.onHandlerDrag(a,r.horizontalDirection,r.verticalDirection)},onDragEnd:e[2]||(e[2]=function(a){return o.onEnd()})},null,8,["default-class","hover-class","wrapper-class","horizontal-position","vertical-position","disabled","onDrag"]))],6)}),128))],6)};var NI=hs("vue-draggable-area"),X3={name:"DraggableArea",props:{movable:{type:Boolean,default:!0},activationDistance:{type:Number,default:20}},computed:{classnames:function(){return{default:NI()}}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){this.touches=[],this.touchStarted=!1},methods:{onTouchStart:function(t){if(t.cancelable){var e=this.movable&&t.touches.length===1;e&&(this.touches=Io(t.touches)),(this.touchStarted||e)&&(t.preventDefault(),t.stopPropagation())}},onTouchEnd:function(){this.touchStarted=!1,this.processEnd()},onTouchMove:function(t){this.touches.length>=1&&(this.touchStarted?(this.processMove(t,t.touches),t.preventDefault(),t.stopPropagation()):F3({x:this.touches[0].clientX,y:this.touches[0].clientY},{x:t.touches[0].clientX,y:t.touches[0].clientY})>this.activationDistance&&(this.initAnchor({clientX:t.touches[0].clientX,clientY:t.touches[0].clientY}),this.touchStarted=!0))},onMouseDown:function(t){if(this.movable&&t.button===0){var e={fake:!0,clientX:t.clientX,clientY:t.clientY};this.touches=[e],this.initAnchor(e),t.stopPropagation()}},onMouseMove:function(t){this.touches.length&&(this.processMove(t,[{fake:!0,clientX:t.clientX,clientY:t.clientY}]),t.preventDefault&&t.cancelable&&t.preventDefault(),t.stopPropagation())},onMouseUp:function(){this.processEnd()},initAnchor:function(t){var e=this.$refs.container.getBoundingClientRect(),n=e.left,s=e.top;this.anchor={x:t.clientX-n,y:t.clientY-s}},processMove:function(t,e){var n=Io(e);if(this.touches.length){var s=this.$refs.container.getBoundingClientRect(),i=s.left,o=s.top;this.touches.length===1&&n.length===1&&this.$emit("move",new L1({left:n[0].clientX-(i+this.anchor.x),top:n[0].clientY-(o+this.anchor.y)}))}},processEnd:function(){this.touches.length&&this.$emit("move-end"),this.touches=[]}},emits:["move","move-end"]};X3.render=function(t,e,n,s,i,o){return w(),U("div",{ref:"container",onTouchstart:e[1]||(e[1]=function(){return o.onTouchStart&&o.onTouchStart.apply(o,arguments)}),onMousedown:e[2]||(e[2]=function(){return o.onMouseDown&&o.onMouseDown.apply(o,arguments)})},[Ge(t.$slots,"default")],544)};function Vh(t){var e,n;return{rotate:t.rotate||0,flip:{horizontal:((e=t==null?void 0:t.flip)===null||e===void 0?void 0:e.horizontal)||!1,vertical:((n=t==null?void 0:t.flip)===null||n===void 0?void 0:n.vertical)||!1}}}function VI(t){return new Promise(function(e,n){try{if(t)if(/^data:/i.test(t))e(function(l){l=l.replace(/^data:([^;]+);base64,/gim,"");for(var c=atob(l),u=c.length,d=new ArrayBuffer(u),h=new Uint8Array(d),f=0;f<u;f++)h[f]=c.charCodeAt(f);return d}(t));else if(/^blob:/i.test(t)){var s=new FileReader;s.onload=function(l){e(l.target.result)},o=t,r=function(l){s.readAsArrayBuffer(l)},(a=new XMLHttpRequest).open("GET",o,!0),a.responseType="blob",a.onload=function(){this.status!=200&&this.status!==0||r(this.response)},a.send()}else{var i=new XMLHttpRequest;i.onreadystatechange=function(){i.readyState===4&&(i.status===200||i.status===0?e(i.response):n("Warning: could not load an image to parse its orientation"),i=null)},i.onprogress=function(){i.getResponseHeader("content-type")!=="image/jpeg"&&i.abort()},i.withCredentials=!1,i.open("GET",t,!0),i.responseType="arraybuffer",i.send(null)}else n("Error: the image is empty")}catch(l){n(l)}var o,r,a})}function G3(t){var e=t.rotate,n=t.flip,s=t.scaleX,i=t.scaleY,o="";return o+=" rotate("+e+"deg) ",o+=" scaleX("+s*(n.horizontal?-1:1)+") ",o+=" scaleY("+i*(n.vertical?-1:1)+") "}function zI(t){try{var e,n=new DataView(t),s=void 0,i=void 0,o=void 0,r=void 0;if(n.getUint8(0)===255&&n.getUint8(1)===216)for(var a=n.byteLength,l=2;l+1<a;){if(n.getUint8(l)===255&&n.getUint8(l+1)===225){o=l;break}l++}if(o&&(s=o+10,function(f,p,g){var _,b="";for(_=p,g+=p;_<g;_++)b+=String.fromCharCode(f.getUint8(_));return b}(n,o+4,4)==="Exif")){var c=n.getUint16(s);if(((i=c===18761)||c===19789)&&n.getUint16(s+2,i)===42){var u=n.getUint32(s+4,i);u>=8&&(r=s+u)}}if(r){for(var d=n.getUint16(r,i),h=0;h<d;h++)if(l=r+12*h+2,n.getUint16(l,i)===274){l+=8,e=n.getUint16(l,i),n.setUint16(l,1,i);break}}return e}catch{return null}}function x_(t,e){var n=e.getBoundingClientRect(),s=n.left,i=n.top,o={left:0,top:0},r=0;return t.forEach(function(a){o.left+=(a.clientX-s)/t.length,o.top+=(a.clientY-i)/t.length}),t.forEach(function(a){r+=F3({x:o.left,y:o.top},{x:a.clientX-s,y:a.clientY-i})}),{centerMass:o,spread:r,count:t.length}}var J3={props:{touchMove:{type:Boolean,required:!0},mouseMove:{type:Boolean,required:!0},touchResize:{type:Boolean,required:!0},wheelResize:{type:[Boolean,Object],required:!0},eventsFilter:{type:Function,required:!1}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},created:function(){this.transforming=!1,this.debouncedProcessEnd=Kf(this.processEnd),this.touches=[]},methods:{processMove:function(t,e){if(this.touches.length){if(this.touches.length===1&&e.length===1)this.$emit("move",new Wa({left:this.touches[0].clientX-e[0].clientX,top:this.touches[0].clientY-e[0].clientY}));else if(this.touches.length>1&&this.touchResize){var n=x_(e,this.$refs.container),s=this.oldGeometricProperties;s.count===n.count&&s.count>1&&this.$emit("resize",new Wa({left:s.centerMass.left-n.centerMass.left,top:s.centerMass.top-n.centerMass.top},{factor:s.spread/n.spread,center:n.centerMass})),this.oldGeometricProperties=n}this.touches=e}},processEnd:function(){this.transforming&&(this.transforming=!1,this.$emit("transform-end"))},processStart:function(){this.transforming=!0,this.debouncedProcessEnd.clear()},processEvent:function(t){return this.eventsFilter?this.eventsFilter(t,this.transforming)!==!1:(t.preventDefault(),t.stopPropagation(),!0)},onTouchStart:function(t){if(t.cancelable&&(this.touchMove||this.touchResize&&t.touches.length>1)&&this.processEvent(t)){var e=this.$refs.container,n=e.getBoundingClientRect(),s=n.left,i=n.top,o=n.bottom,r=n.right;this.touches=Io(t.touches).filter(function(a){return a.clientX>s&&a.clientX<r&&a.clientY>i&&a.clientY<o}),this.oldGeometricProperties=x_(this.touches,e)}},onTouchEnd:function(t){t.touches.length===0&&(this.touches=[],this.processEnd())},onTouchMove:function(t){var e=this;if(this.touches.length){var n=Io(t.touches).filter(function(s){return!s.identifier||e.touches.find(function(i){return i.identifier===s.identifier})});this.processEvent(t)&&(this.processMove(t,n),this.processStart())}},onMouseDown:function(t){if(this.mouseMove&&"buttons"in t&&t.buttons===1&&this.processEvent(t)){var e={fake:!0,clientX:t.clientX,clientY:t.clientY};this.touches=[e],this.processStart()}},onMouseMove:function(t){this.touches.length&&this.processEvent(t)&&this.processMove(t,[{clientX:t.clientX,clientY:t.clientY}])},onMouseUp:function(){this.touches=[],this.processEnd()},onWheel:function(t){if(this.wheelResize&&this.processEvent(t)){var e=this.$refs.container.getBoundingClientRect(),n=e.left,s=e.top,i=1+this.wheelResize.ratio*(r=t.deltaY||t.detail||t.wheelDelta,(a=+r)==0||U3(a)?a:a>0?1:-1),o={left:t.clientX-n,top:t.clientY-s};this.$emit("resize",new Wa({},{factor:i,center:o})),this.touches.length||this.debouncedProcessEnd()}var r,a}},emits:["resize","move","transform-end"]};J3.render=function(t,e,n,s,i,o){return w(),U("div",{ref:"container",onTouchstart:e[1]||(e[1]=function(){return o.onTouchStart&&o.onTouchStart.apply(o,arguments)}),onMousedown:e[2]||(e[2]=function(){return o.onMouseDown&&o.onMouseDown.apply(o,arguments)}),onWheel:e[3]||(e[3]=function(){return o.onWheel&&o.onWheel.apply(o,arguments)})},[Ge(t.$slots,"default")],544)};var Zf={components:{TransformableImage:J3},props:{touchMove:{type:Boolean,required:!0},mouseMove:{type:Boolean,required:!0},touchResize:{type:Boolean,required:!0},wheelResize:{type:[Boolean,Object],required:!0}},emits:["resize","move"]};Zf.render=function(t,e,n,s,i,o){var r=De("transformable-image");return w(),U(r,{"touch-move":n.touchMove,"touch-resize":n.touchResize,"mouse-move":n.mouseMove,"wheel-resize":n.wheelResize,onMove:e[1]||(e[1]=function(a){return t.$emit("move",a)}),onResize:e[2]||(e[2]=function(a){return t.$emit("resize",a)})},{default:V(function(){return[Ge(t.$slots,"default")]}),_:3},8,["touch-move","touch-resize","mouse-move","wheel-resize"])};var $c=hs("vue-preview"),Z3={props:{coordinates:{type:Object},transitions:{type:Object},image:{type:Object,default:function(){return{}}},imageClass:{type:String},width:{type:Number},height:{type:Number},fill:{type:Boolean}},data:function(){return{calculatedImageSize:{width:0,height:0},calculatedSize:{width:0,height:0}}},computed:{classes:function(){return{root:$c({fill:this.fill}),wrapper:$c("wrapper"),imageWrapper:$c("image-wrapper"),image:Rt($c("image"),this.imageClass)}},style:function(){if(this.fill)return{};var t={};return this.width&&(t.width="".concat(this.size.width,"px")),this.height&&(t.height="".concat(this.size.height,"px")),this.transitions&&this.transitions.enabled&&(t.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),t},wrapperStyle:function(){var t={width:"".concat(this.size.width,"px"),height:"".concat(this.size.height,"px"),left:"calc(50% - ".concat(this.size.width/2,"px)"),top:"calc(50% - ".concat(this.size.height/2,"px)")};return this.transitions&&this.transitions.enabled&&(t.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),t},imageStyle:function(){if(this.coordinates&&this.image){var t=this.coordinates.width/this.size.width,e=nt(nt({rotate:0,flip:{horizontal:!1,vertical:!1}},this.image.transforms),{},{scaleX:1/t,scaleY:1/t}),n=this.imageSize.width,s=this.imageSize.height,i=H3({width:n,height:s},e.rotate),o={width:"".concat(n,"px"),height:"".concat(s,"px"),left:"0px",top:"0px"},r={rotate:{left:(n-i.width)*e.scaleX/2,top:(s-i.height)*e.scaleY/2},scale:{left:(1-e.scaleX)*n/2,top:(1-e.scaleY)*s/2}};return o.transform=`translate(
				`.concat(-this.coordinates.left/t-r.rotate.left-r.scale.left,"px,").concat(-this.coordinates.top/t-r.rotate.top-r.scale.top,"px) ")+G3(e),this.transitions&&this.transitions.enabled&&(o.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),o}return{}},size:function(){return{width:this.width||this.calculatedSize.width,height:this.height||this.calculatedSize.height}},imageSize:function(){return{width:this.image.width||this.calculatedImageSize.width,height:this.image.height||this.calculatedImageSize.height}}},watch:{image:function(t){(t.width||t.height)&&this.onChangeImage()}},mounted:function(){var t=this;this.onChangeImage(),this.$refs.image.addEventListener("load",function(){t.refreshImage()}),window.addEventListener("resize",this.refresh),window.addEventListener("orientationchange",this.refresh)},unmounted:function(){window.removeEventListener("resize",this.refresh),window.removeEventListener("orientationchange",this.refresh)},methods:{refreshImage:function(){var t=this.$refs.image;this.calculatedImageSize.height=t.naturalHeight,this.calculatedImageSize.width=t.naturalWidth},refresh:function(){var t=this.$refs.root;this.width||(this.calculatedSize.width=t.clientWidth),this.height||(this.calculatedSize.height=t.clientHeight)},onChangeImage:function(){var t=this.$refs.image;t&&t.complete&&this.refreshImage(),this.refresh()}}};Z3.render=function(t,e,n,s,i,o){return w(),U("div",{ref:"root",class:o.classes.root,style:o.style},[A("div",{ref:"wrapper",class:o.classes.wrapper,style:o.wrapperStyle},[Ee(A("img",{ref:"image",src:n.image&&n.image.src,class:o.classes.image,style:o.imageStyle},null,14,["src"]),[[di,n.image&&n.image.src]])],6)],6)};var Q3={components:{Preview:Z3},inheritAttrs:!1};Q3.render=function(t,e,n,s,i,o){var r=De("preview");return w(),U(r,Ll(t.$attrs,{fill:!0}),null,16)};var zh=hs("vue-rectangle-stencil"),eb={name:"RectangleStencil",components:{StencilPreview:Q3,BoundingBox:K3,DraggableArea:X3},props:{image:{type:Object},coordinates:{type:Object},stencilCoordinates:{type:Object},handlers:{type:Object},handlersComponent:{type:[Object,String],default:function(){return D1}},lines:{type:Object},linesComponent:{type:[Object,String],default:function(){return I1}},aspectRatio:{type:[Number,String]},minAspectRatio:{type:[Number,String]},maxAspectRatio:{type:[Number,String]},movable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},transitions:{type:Object},movingClass:{type:String},resizingClass:{type:String},previewClass:{type:String},boundingBoxClass:{type:String},linesClasses:{type:Object,default:function(){return{}}},linesWrappersClasses:{type:Object,default:function(){return{}}},handlersClasses:{type:Object,default:function(){return{}}},handlersWrappersClasses:{type:Object,default:function(){return{}}}},data:function(){return{moving:!1,resizing:!1}},computed:{classes:function(){return{stencil:Rt(zh({movable:this.movable,moving:this.moving,resizing:this.resizing}),this.moving&&this.movingClass,this.resizing&&this.resizingClass),preview:Rt(zh("preview"),this.previewClass),boundingBox:Rt(zh("bounding-box"),this.boundingBoxClass)}},style:function(){var t=this.stencilCoordinates,e=t.height,n=t.width,s=t.left,i=t.top,o={width:"".concat(n,"px"),height:"".concat(e,"px"),transform:"translate(".concat(s,"px, ").concat(i,"px)")};return this.transitions&&this.transitions.enabled&&(o.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),o}},methods:{onMove:function(t){this.$emit("move",t),this.moving=!0},onMoveEnd:function(){this.$emit("move-end"),this.moving=!1},onResize:function(t){this.$emit("resize",t),this.resizing=!0},onResizeEnd:function(){this.$emit("resize-end"),this.resizing=!1},aspectRatios:function(){return{minimum:this.aspectRatio||this.minAspectRatio,maximum:this.aspectRatio||this.maxAspectRatio}}},emits:["resize","resize-end","move","move-end"]};eb.render=function(t,e,n,s,i,o){var r=De("stencil-preview"),a=De("draggable-area"),l=De("bounding-box");return w(),U("div",{class:o.classes.stencil,style:o.style},[A(l,{width:n.stencilCoordinates.width,height:n.stencilCoordinates.height,transitions:n.transitions,class:o.classes.boundingBox,handlers:n.handlers,"handlers-component":n.handlersComponent,"handlers-classes":n.handlersClasses,"handlers-wrappers-classes":n.handlersWrappersClasses,lines:n.lines,"lines-component":n.linesComponent,"lines-classes":n.linesClasses,"lines-wrappers-classes":n.linesWrappersClasses,resizable:n.resizable,onResize:o.onResize,onResizeEnd:o.onResizeEnd},{default:V(function(){return[A(a,{movable:n.movable,onMove:o.onMove,onMoveEnd:o.onMoveEnd},{default:V(function(){return[A(r,{image:n.image,coordinates:n.coordinates,width:n.stencilCoordinates.width,height:n.stencilCoordinates.height,class:o.classes.preview,transitions:n.transitions},null,8,["image","coordinates","width","height","class","transitions"])]}),_:1},8,["movable","onMove","onMoveEnd"])]}),_:1},8,["width","height","transitions","class","handlers","handlers-component","handlers-classes","handlers-wrappers-classes","lines","lines-component","lines-classes","lines-wrappers-classes","resizable","onResize","onResizeEnd"])],6)};var BI=["transitions"],js=hs("vue-advanced-cropper"),tb={name:"Cropper",components:{BackgroundWrapper:Zf},props:{src:{type:String,default:null},stencilComponent:{type:[Object,String],default:function(){return eb}},backgroundWrapperComponent:{type:[Object,String],default:function(){return Zf}},stencilProps:{type:Object,default:function(){return{}}},autoZoom:{type:Boolean,default:!1},imageClass:{type:String},boundariesClass:{type:String},backgroundClass:{type:String},foregroundClass:{type:String},minWidth:{type:[Number,String]},minHeight:{type:[Number,String]},maxWidth:{type:[Number,String]},maxHeight:{type:[Number,String]},debounce:{type:[Boolean,Number],default:500},transitions:{type:Boolean,default:!0},checkOrientation:{type:Boolean,default:!0},canvas:{type:[Object,Boolean],default:!0},crossOrigin:{type:[Boolean,String],default:void 0},transitionTime:{type:Number,default:300},imageRestriction:{type:String,default:"fit-area",validator:function(t){return vI.indexOf(t)!==-1}},roundResult:{type:Boolean,default:!0},defaultSize:{type:[Function,Object]},defaultPosition:{type:[Function,Object]},defaultVisibleArea:{type:[Function,Object]},defaultTransforms:{type:[Function,Object]},defaultBoundaries:{type:[Function,String],validator:function(t){return!(typeof t=="string"&&t!=="fill"&&t!=="fit")}},priority:{type:String,default:"coordinates"},stencilSize:{type:[Object,Function]},resizeImage:{type:[Boolean,Object],default:!0},moveImage:{type:[Boolean,Object],default:!0},autoZoomAlgorithm:{type:Function},resizeAlgorithm:{type:Function,default:function(t){var e=t.event,n=t.coordinates,s=t.aspectRatio,i=t.positionRestrictions,o=t.sizeRestrictions,r=Me(Me({},n),{right:n.left+n.width,bottom:n.top+n.height}),a=e.params||{},l=Me({},e.directions),c=a.allowedDirections||{left:!0,right:!0,bottom:!0,top:!0};o.widthFrozen&&(l.left=0,l.right=0),o.heightFrozen&&(l.top=0,l.bottom=0),Cs.forEach(function(S){c[S]||(l[S]=0)});var u=ks(r,l=w_({coordinates:r,directions:l,sizeRestrictions:o,positionRestrictions:i})).width,d=ks(r,l).height,h=a.preserveRatio?st(r):Ph(u/d,s);if(h){var f=a.respectDirection;if(f||(f=r.width>=r.height||h===1?"width":"height"),f==="width"){var p=u/h-r.height;if(c.top&&c.bottom){var g=l.top,_=l.bottom;l.bottom=Sc(p,_,g),l.top=Sc(p,g,_)}else c.bottom?l.bottom=p:c.top?l.top=p:c.right?l.right=0:c.left&&(l.left=0)}else if(f==="height"){var b=r.width-d*h;if(c.left&&c.right){var x=l.left,$=l.right;l.left=-Sc(b,x,$),l.right=-Sc(b,$,x)}else c.left?l.left=-b:c.right?l.right=-b:c.top?l.top=0:c.bottom&&(l.bottom=0)}l=w_({directions:l,coordinates:r,sizeRestrictions:o,positionRestrictions:i,preserveRatio:!0,compensate:a.compensate})}return u=ks(r,l).width,d=ks(r,l).height,(h=a.preserveRatio?st(r):Ph(u/d,s))&&Math.abs(h-u/d)>.001&&Cs.forEach(function(S){c[S]||(l[S]=0)}),Jf({event:new L1({left:-l.left,top:-l.top}),coordinates:{width:n.width+l.right+l.left,height:n.height+l.top+l.bottom,left:n.left,top:n.top},positionRestrictions:i})}},moveAlgorithm:{type:Function,default:Jf},initStretcher:{type:Function,default:function(t){var e=t.stretcher,n=t.imageSize,s=st(n);e.style.width=n.width+"px",e.style.height=e.clientWidth/s+"px",e.style.width=e.clientWidth+"px"}},fitCoordinates:{type:Function,default:function(t){var e=t.visibleArea,n=t.coordinates,s=t.aspectRatio,i=t.sizeRestrictions,o=t.positionRestrictions,r=Me(Me({},n),Qs({width:n.width,height:n.height,aspectRatio:s,sizeRestrictions:{maxWidth:e.width,maxHeight:e.height,minHeight:Math.min(e.height,i.minHeight),minWidth:Math.min(e.width,i.minWidth)}}));return r=Kt(r=bn(r,Nr(Yt(n),Yt(r))),gd(Ds(e),o))}},fitVisibleArea:{type:Function,default:function(t){var e=t.visibleArea,n=t.boundaries,s=t.getAreaRestrictions,i=t.coordinates,o=Me({},e);o.height=o.width/st(n),o.top+=(e.height-o.height)/2,(i.height-o.height>0||i.width-o.width>0)&&(o=jn(o,Math.max(i.height/o.height,i.width/o.width)));var r=pd(zr(i,Ds(o=jn(o,md(o,s({visibleArea:o,type:"resize"}))))));return o.width<i.width&&(r.left=0),o.height<i.height&&(r.top=0),o=Kt(o=bn(o,r),s({visibleArea:o,type:"move"}))}},areaRestrictionsAlgorithm:{type:Function,default:function(t){var e=t.visibleArea,n=t.boundaries,s=t.imageSize,i=t.imageRestriction,o=t.type,r={};return i==="fill-area"?r={left:0,top:0,right:s.width,bottom:s.height}:i==="fit-area"&&(st(n)>st(s)?(r={top:0,bottom:s.height},e&&o==="move"&&(e.width>s.width?(r.left=-(e.width-s.width)/2,r.right=s.width-r.left):(r.left=0,r.right=s.width))):(r={left:0,right:s.width},e&&o==="move"&&(e.height>s.height?(r.top=-(e.height-s.height)/2,r.bottom=s.height-r.top):(r.top=0,r.bottom=s.height)))),r}},sizeRestrictionsAlgorithm:{type:Function,default:function(t){return{minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight}}},positionRestrictionsAlgorithm:{type:Function,default:function(t){var e=t.imageSize,n={};return t.imageRestriction!=="none"&&(n={left:0,top:0,right:e.width,bottom:e.height}),n}}},data:function(){return{transitionsActive:!1,imageLoaded:!1,imageAttributes:{width:null,height:null,crossOrigin:null,src:null},defaultImageTransforms:{rotate:0,flip:{horizontal:!1,vertical:!1}},appliedImageTransforms:{rotate:0,flip:{horizontal:!1,vertical:!1}},boundaries:{width:0,height:0},visibleArea:null,coordinates:nt({},__)}},computed:{image:function(){return{src:this.imageAttributes.src,width:this.imageAttributes.width,height:this.imageAttributes.height,transforms:this.imageTransforms}},imageTransforms:function(){return{rotate:this.appliedImageTransforms.rotate,flip:{horizontal:this.appliedImageTransforms.flip.horizontal,vertical:this.appliedImageTransforms.flip.vertical},translateX:this.visibleArea?this.visibleArea.left/this.coefficient:0,translateY:this.visibleArea?this.visibleArea.top/this.coefficient:0,scaleX:1/this.coefficient,scaleY:1/this.coefficient}},imageSize:function(){var t=function(e){return e*Math.PI/180}(this.imageTransforms.rotate);return{width:Math.abs(this.imageAttributes.width*Math.cos(t))+Math.abs(this.imageAttributes.height*Math.sin(t)),height:Math.abs(this.imageAttributes.width*Math.sin(t))+Math.abs(this.imageAttributes.height*Math.cos(t))}},initialized:function(){return!!(this.visibleArea&&this.imageLoaded)},settings:function(){var t=Xf(this.resizeImage,{touch:!0,wheel:{ratio:.1},adjustStencil:!0},{touch:!1,wheel:!1,adjustStencil:!1});return{moveImage:Xf(this.moveImage,{touch:!0,mouse:!0},{touch:!1,mouse:!1}),resizeImage:t}},coefficient:function(){return this.visibleArea?this.visibleArea.width/this.boundaries.width:0},areaRestrictions:function(){return this.imageLoaded?this.areaRestrictionsAlgorithm({imageSize:this.imageSize,imageRestriction:this.imageRestriction,boundaries:this.boundaries}):{}},transitionsOptions:function(){return{enabled:this.transitionsActive,timingFunction:"ease-in-out",time:350}},sizeRestrictions:function(){if(this.boundaries.width&&this.boundaries.height&&this.imageSize.width&&this.imageSize.height){var t=this.sizeRestrictionsAlgorithm({imageSize:this.imageSize,minWidth:Bt(this.minWidth)?0:xc(this.minWidth),minHeight:Bt(this.minHeight)?0:xc(this.minHeight),maxWidth:Bt(this.maxWidth)?1/0:xc(this.maxWidth),maxHeight:Bt(this.maxHeight)?1/0:xc(this.maxHeight)});if(t=function(s){var i=s.areaRestrictions,o=s.sizeRestrictions;s.imageSize;var r=s.boundaries,a=s.positionRestrictions;s.imageRestriction;var l=Me(Me({},o),{minWidth:o.minWidth!==void 0?o.minWidth:0,minHeight:o.minHeight!==void 0?o.minHeight:0,maxWidth:o.maxWidth!==void 0?o.maxWidth:1/0,maxHeight:o.maxHeight!==void 0?o.maxHeight:1/0});a.left!==void 0&&a.right!==void 0&&(l.maxWidth=Math.min(l.maxWidth,a.right-a.left)),a.bottom!==void 0&&a.top!==void 0&&(l.maxHeight=Math.min(l.maxHeight,a.bottom-a.top));var c=Gf(i),u=j3(r,c);return c.width<1/0&&(!l.maxWidth||l.maxWidth>u.width)&&(l.maxWidth=Math.min(l.maxWidth,u.width)),c.height<1/0&&(!l.maxHeight||l.maxHeight>u.height)&&(l.maxHeight=Math.min(l.maxHeight,u.height)),l.minWidth>l.maxWidth&&(l.minWidth=l.maxWidth,l.widthFrozen=!0),l.minHeight>l.maxHeight&&(l.minHeight=l.maxHeight,l.heightFrozen=!0),l}({sizeRestrictions:t,areaRestrictions:this.getAreaRestrictions({visibleArea:this.visibleArea,type:"resize"}),imageSize:this.imageSize,boundaries:this.boundaries,positionRestrictions:this.positionRestrictions,imageRestriction:this.imageRestriction,visibleArea:this.visibleArea,stencilSize:this.getStencilSize()}),this.visibleArea&&this.stencilSize){var e=this.getStencilSize(),n=Gf(this.getAreaRestrictions({visibleArea:this.visibleArea,type:"resize"}));t.maxWidth=Math.min(t.maxWidth,n.width*e.width/this.boundaries.width),t.maxHeight=Math.min(t.maxHeight,n.height*e.height/this.boundaries.height),t.maxWidth<t.minWidth&&(t.minWidth=t.maxWidth),t.maxHeight<t.minHeight&&(t.minHeight=t.maxHeight)}return t}return{minWidth:0,minHeight:0,maxWidth:0,maxHeight:0}},positionRestrictions:function(){return this.positionRestrictionsAlgorithm({imageSize:this.imageSize,imageRestriction:this.imageRestriction})},classes:function(){return{cropper:js(),image:Rt(js("image"),this.imageClass),stencil:js("stencil"),boundaries:Rt(js("boundaries"),this.boundariesClass),stretcher:Rt(js("stretcher")),background:Rt(js("background"),this.backgroundClass),foreground:Rt(js("foreground"),this.foregroundClass),imageWrapper:Rt(js("image-wrapper")),cropperWrapper:Rt(js("cropper-wrapper"))}},stencilCoordinates:function(){if(this.initialized){var t=this.coordinates,e=t.width,n=t.height,s=t.left,i=t.top;return{width:e/this.coefficient,height:n/this.coefficient,left:(s-this.visibleArea.left)/this.coefficient,top:(i-this.visibleArea.top)/this.coefficient}}return this.defaultCoordinates()},boundariesStyle:function(){var t={width:this.boundaries.width?"".concat(Math.round(this.boundaries.width),"px"):"auto",height:this.boundaries.height?"".concat(Math.round(this.boundaries.height),"px"):"auto",transition:"opacity ".concat(this.transitionTime,"ms"),pointerEvents:this.imageLoaded?"all":"none"};return this.imageLoaded||(t.opacity="0"),t},imageStyle:function(){var t=this.imageAttributes.width>this.imageAttributes.height?{width:Math.min(1024,this.imageAttributes.width),height:Math.min(1024,this.imageAttributes.width)/(this.imageAttributes.width/this.imageAttributes.height)}:{height:Math.min(1024,this.imageAttributes.height),width:Math.min(1024,this.imageAttributes.height)*(this.imageAttributes.width/this.imageAttributes.height)},e={left:(t.width-this.imageSize.width)/(2*this.coefficient),top:(t.height-this.imageSize.height)/(2*this.coefficient)},n={left:(1-1/this.coefficient)*t.width/2,top:(1-1/this.coefficient)*t.height/2},s=nt(nt({},this.imageTransforms),{},{scaleX:this.imageTransforms.scaleX*(this.imageAttributes.width/t.width),scaleY:this.imageTransforms.scaleY*(this.imageAttributes.height/t.height)}),i={width:"".concat(t.width,"px"),height:"".concat(t.height,"px"),left:"0px",top:"0px",transform:"translate(".concat(-e.left-n.left-this.imageTransforms.translateX,"px, ").concat(-e.top-n.top-this.imageTransforms.translateY,"px)")+G3(s)};return this.transitionsOptions.enabled&&(i.transition="".concat(this.transitionsOptions.time,"ms ").concat(this.transitionsOptions.timingFunction)),i}},watch:{src:function(){this.onChangeImage()},stencilComponent:function(){var t=this;this.$nextTick(function(){t.resetCoordinates(),t.runAutoZoom("setCoordinates"),t.onChange()})},minWidth:function(){this.onPropsChange()},maxWidth:function(){this.onPropsChange()},minHeight:function(){this.onPropsChange()},maxHeight:function(){this.onPropsChange()},imageRestriction:function(){this.reset()},stencilProps:function(t,e){["aspectRatio","minAspectRatio","maxAspectRatio"].find(function(n){return t[n]!==e[n]})&&this.$nextTick(this.onPropsChange)}},created:function(){this.debouncedUpdate=Kf(this.update,this.debounce),this.debouncedDisableTransitions=Kf(this.disableTransitions,this.transitionsOptions.time),this.awaiting=!1},mounted:function(){this.$refs.image.addEventListener("load",this.onSuccessLoadImage),this.$refs.image.addEventListener("error",this.onFailLoadImage),this.onChangeImage(),window.addEventListener("resize",this.refresh),window.addEventListener("orientationchange",this.refresh)},unmounted:function(){window.removeEventListener("resize",this.refresh),window.removeEventListener("orientationchange",this.refresh),this.imageAttributes.revoke&&this.imageAttributes.src&&URL.revokeObjectURL(this.imageAttributes.src),this.debouncedUpdate.clear(),this.debouncedDisableTransitions.clear()},methods:{getResult:function(){var t=this.initialized?this.prepareResult(nt({},this.coordinates)):this.defaultCoordinates(),e={rotate:this.imageTransforms.rotate%360,flip:nt({},this.imageTransforms.flip)};if(this.src&&this.imageLoaded){var n=this;return{image:this.image,coordinates:t,visibleArea:this.visibleArea?nt({},this.visibleArea):null,imageTransforms:e,get canvas(){return n.canvas?n.getCanvas():void 0}}}return{image:this.image,coordinates:t,visibleArea:this.visibleArea?nt({},this.visibleArea):null,canvas:void 0,imageTransforms:e}},zoom:function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=n.transitions,i=s===void 0||s;this.onManipulateImage(new Wa({},{factor:1/t,center:e}),{normalize:!1,transitions:i})},move:function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=n.transitions,i=s===void 0||s;this.onManipulateImage(new Wa({left:t||0,top:e||0}),{normalize:!1,transitions:i})},setCoordinates:function(t){var e=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.autoZoom,i=s===void 0||s,o=n.transitions,r=o===void 0||o;this.$nextTick(function(){e.imageLoaded?(e.transitionsActive||(r&&e.enableTransitions(),e.coordinates=e.applyTransform(t),i&&e.runAutoZoom("setCoordinates"),r&&e.debouncedDisableTransitions()),e.onChange()):e.delayedTransforms=t})},refresh:function(){var t=this,e=this.$refs.image;if(this.src&&e)return this.initialized?this.updateVisibleArea().then(function(){t.onChange()}):this.resetVisibleArea().then(function(){t.onChange()})},reset:function(){var t=this;return this.resetVisibleArea().then(function(){t.onChange(!1)})},awaitRender:function(t){var e=this;this.awaiting||(this.awaiting=!0,this.$nextTick(function(){t(),e.awaiting=!1}))},prepareResult:function(t){return this.roundResult?function(e){var n=e.coordinates,s=e.sizeRestrictions,i=e.positionRestrictions,o={width:Math.round(n.width),height:Math.round(n.height),left:Math.round(n.left),top:Math.round(n.top)};return o.width>s.maxWidth?o.width=Math.floor(n.width):o.width<s.minWidth&&(o.width=Math.ceil(n.width)),o.height>s.maxHeight?o.height=Math.floor(n.height):o.height<s.minHeight&&(o.height=Math.ceil(n.height)),Kt(o,i)}(nt(nt({},this.getPublicProperties()),{},{positionRestrictions:kc(this.positionRestrictions,this.visibleArea),coordinates:t})):t},processAutoZoom:function(t,e,n,s){var i=this.autoZoomAlgorithm;i||(i=this.stencilSize?wI:this.autoZoom?xI:kI);var o=i({event:{type:t,params:s},visibleArea:e,coordinates:n,boundaries:this.boundaries,aspectRatio:this.getAspectRatio(),positionRestrictions:this.positionRestrictions,getAreaRestrictions:this.getAreaRestrictions,sizeRestrictions:this.sizeRestrictions,stencilSize:this.getStencilSize()});return nt(nt({},o),{},{changed:!v_(o.visibleArea,e)||!v_(o.coordinates,n)})},runAutoZoom:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.transitions,s=n!==void 0&&n,i=uI(e,BI),o=this.processAutoZoom(t,this.visibleArea,this.coordinates,i),r=o.visibleArea,a=o.coordinates,l=o.changed;s&&l&&this.enableTransitions(),this.visibleArea=r,this.coordinates=a,s&&l&&this.debouncedDisableTransitions()},normalizeEvent:function(t){return function(e){var n=e.event,s=e.visibleArea,i=e.coefficient;if(n.type==="manipulateImage")return Me(Me({},n),{move:{left:n.move&&n.move.left?i*n.move.left:0,top:n.move&&n.move.top?i*n.move.top:0},scale:{factor:n.scale&&n.scale.factor?n.scale.factor:1,center:n.scale&&n.scale.center?{left:n.scale.center.left*i+s.left,top:n.scale.center.top*i+s.top}:null}});if(n.type==="resize"){var o=Me(Me({},n),{directions:Me({},n.directions)});return Cs.forEach(function(a){o.directions[a]*=i}),o}if(n.type==="move"){var r=Me(Me({},n),{directions:Me({},n.directions)});return _I.forEach(function(a){r.directions[a]*=i}),r}return n}(nt(nt({},this.getPublicProperties()),{},{event:t}))},getCanvas:function(){if(this.$refs.canvas){var t=this.$refs.canvas,e=this.$refs.image,n=this.imageTransforms.rotate!==0||this.imageTransforms.flip.horizontal||this.imageTransforms.flip.vertical?function(a,l,c){var u=c.rotate,d=c.flip,h={width:l.naturalWidth,height:l.naturalHeight},f=H3(h,u),p=a.getContext("2d");a.height=f.height,a.width=f.width,p.save();var g=Mi(Yt(Me({left:0,top:0},h)),u);return p.translate(-(g.left-f.width/2),-(g.top-f.height/2)),p.rotate(u*Math.PI/180),p.translate(d.horizontal?h.width:0,d.vertical?h.height:0),p.scale(d.horizontal?-1:1,d.vertical?-1:1),p.drawImage(l,0,0,h.width,h.height),p.restore(),a}(this.$refs.sourceCanvas,e,this.imageTransforms):e,s=nt({minWidth:0,minHeight:0,maxWidth:1/0,maxHeight:1/0,maxArea:this.maxCanvasSize,imageSmoothingEnabled:!0,imageSmoothingQuality:"high",fillColor:"transparent"},this.canvas),i=function(a){return a.find(function(l){return c=l,!Number.isNaN(parseFloat(c))&&isFinite(c);var c})},o=Qs({sizeRestrictions:{minWidth:i([s.width,s.minWidth])||0,minHeight:i([s.height,s.minHeight])||0,maxWidth:i([s.width,s.maxWidth])||1/0,maxHeight:i([s.height,s.maxHeight])||1/0},width:this.coordinates.width,height:this.coordinates.height,aspectRatio:{minimum:this.coordinates.width/this.coordinates.height,maximum:this.coordinates.width/this.coordinates.height}});if(s.maxArea&&o.width*o.height>s.maxArea){var r=Math.sqrt(s.maxArea/(o.width*o.height));o={width:Math.round(r*o.width),height:Math.round(r*o.height)}}return function(a,l,c,u,d){a.width=u?u.width:c.width,a.height=u?u.height:c.height;var h=a.getContext("2d");h.clearRect(0,0,a.width,a.height),d&&(d.imageSmoothingEnabled&&(h.imageSmoothingEnabled=d.imageSmoothingEnabled),d.imageSmoothingQuality&&(h.imageSmoothingQuality=d.imageSmoothingQuality),d.fillColor&&(h.fillStyle=d.fillColor,h.fillRect(0,0,a.width,a.height),h.save()));var f=c.left<0?-c.left:0,p=c.top<0?-c.top:0;h.drawImage(l,c.left+f,c.top+p,c.width,c.height,f,p,a.width,a.height)}(t,n,this.coordinates,o,s),t}},update:function(){this.$emit("change",this.getResult())},applyTransform:function(t){var e=arguments.length>1&&arguments[1]!==void 0&&arguments[1],n=this.visibleArea&&e?bI(this.sizeRestrictions,this.visibleArea):this.sizeRestrictions,s=this.visibleArea&&e?kc(this.positionRestrictions,this.visibleArea):this.positionRestrictions;return yI({transform:t,coordinates:this.coordinates,imageSize:this.imageSize,sizeRestrictions:n,positionRestrictions:s,aspectRatio:this.getAspectRatio(),visibleArea:this.visibleArea})},resetCoordinates:function(){var t=this;if(this.$refs.image){this.$refs.cropper,this.$refs.image;var e=this.defaultSize;e||(e=this.stencilSize?CI:$I);var n=this.sizeRestrictions;n.minWidth,n.minHeight,n.maxWidth,n.maxHeight;var s=rr(e)?e({boundaries:this.boundaries,imageSize:this.imageSize,aspectRatio:this.getAspectRatio(),sizeRestrictions:this.sizeRestrictions,stencilSize:this.getStencilSize(),visibleArea:this.visibleArea}):e,i=this.defaultPosition||SI,o=[s,function(r){var a=r.coordinates;return nt({},rr(i)?i({coordinates:a,imageSize:t.imageSize,visibleArea:t.visibleArea}):t.defaultPosition)}];this.delayedTransforms&&o.push.apply(o,Io(Array.isArray(this.delayedTransforms)?this.delayedTransforms:[this.delayedTransforms])),this.coordinates=this.applyTransform(o,!0),this.delayedTransforms=null}},clearImage:function(){var t=this;this.imageLoaded=!1,setTimeout(function(){var e=t.$refs.stretcher;e&&(e.style.height="auto",e.style.width="auto"),t.coordinates=t.defaultCoordinates(),t.boundaries={width:0,height:0}},this.transitionTime)},enableTransitions:function(){this.transitions&&(this.transitionsActive=!0)},disableTransitions:function(){this.transitionsActive=!1},updateBoundaries:function(){var t=this,e=this.$refs.stretcher,n=this.$refs.cropper;return this.initStretcher({cropper:n,stretcher:e,imageSize:this.imageSize}),this.$nextTick().then(function(){var s={cropper:n,imageSize:t.imageSize};if(rr(t.defaultBoundaries)?t.boundaries=t.defaultBoundaries(s):t.defaultBoundaries==="fit"?t.boundaries=function(i){var o=i.cropper,r=i.imageSize,a=o.clientHeight,l=o.clientWidth,c=a,u=r.width*a/r.height;return u>l&&(u=l,c=r.height*l/r.width),{width:u,height:c}}(s):t.boundaries=function(i){var o=i.cropper;return{width:o.clientWidth,height:o.clientHeight}}(s),!t.boundaries.width||!t.boundaries.height)throw new Error("It's impossible to fit the cropper in the current container")})},resetVisibleArea:function(){var t=this;return this.appliedImageTransforms=nt(nt({},this.defaultImageTransforms),{},{flip:nt({},this.defaultImageTransforms.flip)}),this.updateBoundaries().then(function(){t.priority!=="visible-area"&&(t.visibleArea=null,t.resetCoordinates());var e,n,s,i,o,r,a=t.defaultVisibleArea||AI;t.visibleArea=rr(a)?a({imageSize:t.imageSize,boundaries:t.boundaries,coordinates:t.priority!=="visible-area"?t.coordinates:null,getAreaRestrictions:t.getAreaRestrictions,stencilSize:t.getStencilSize()}):t.defaultVisibleArea,t.visibleArea=(e={visibleArea:t.visibleArea,boundaries:t.boundaries,getAreaRestrictions:t.getAreaRestrictions},n=e.visibleArea,s=e.boundaries,i=e.getAreaRestrictions,o=Me({},n),r=st(s),o.width/o.height!==r&&(o.height=o.width/r),Kt(o,i({visibleArea:o,type:"move"}))),t.priority==="visible-area"?t.resetCoordinates():t.coordinates=t.fitCoordinates({visibleArea:t.visibleArea,coordinates:t.coordinates,aspectRatio:t.getAspectRatio(),positionRestrictions:t.positionRestrictions,sizeRestrictions:t.sizeRestrictions}),t.runAutoZoom("resetVisibleArea")}).catch(function(){t.visibleArea=null})},updateVisibleArea:function(){var t=this;return this.updateBoundaries().then(function(){t.visibleArea=t.fitVisibleArea({imageSize:t.imageSize,boundaries:t.boundaries,visibleArea:t.visibleArea,coordinates:t.coordinates,getAreaRestrictions:t.getAreaRestrictions}),t.coordinates=t.fitCoordinates({visibleArea:t.visibleArea,coordinates:t.coordinates,aspectRatio:t.getAspectRatio(),positionRestrictions:t.positionRestrictions,sizeRestrictions:t.sizeRestrictions}),t.runAutoZoom("updateVisibleArea")}).catch(function(){t.visibleArea=null})},onChange:function(){var t=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];t&&this.debounce?this.debouncedUpdate():this.update()},onChangeImage:function(){var t,e=this;if(this.imageLoaded=!1,this.delayedTransforms=null,this.src){if(function(i){if(m_(i))return!1;var o=window.location,r=/(\w+:)?(?:\/\/)([\w.-]+)?(?::(\d+))?\/?/.exec(i)||[],a={protocol:r[1]||"",host:r[2]||"",port:r[3]||""},l=function(c){return c.port||((c.protocol||o.protocol)==="http"?80:433)};return!(!a.protocol&&!a.host&&!a.port||a.protocol&&a.protocol==o.protocol&&a.host&&a.host==o.host&&a.host&&l(a)==l(o))}(this.src)){var n=Bt(this.crossOrigin)?this.canvas:this.crossOrigin;n===!0&&(n="anonymous"),this.imageAttributes.crossOrigin=n||null}if(this.checkOrientation){var s=(t=this.src,new Promise(function(i){VI(t).then(function(o){var r=zI(o);i(o?{source:t,arrayBuffer:o,orientation:r}:{source:t,arrayBuffer:null,orientation:null})}).catch(function(o){console.warn(o),i({source:t,arrayBuffer:null,orientation:null})})}));setTimeout(function(){s.then(e.onParseImage)},this.transitionTime)}else setTimeout(function(){e.onParseImage({source:e.src})},this.transitionTime)}else this.clearImage()},onFailLoadImage:function(){this.imageAttributes.src&&(this.clearImage(),this.$emit("error"))},onSuccessLoadImage:function(){var t=this,e=this.$refs.image;e&&!this.imageLoaded&&(this.imageAttributes.height=e.naturalHeight,this.imageAttributes.width=e.naturalWidth,this.imageLoaded=!0,this.resetVisibleArea().then(function(){t.$emit("ready"),t.onChange(!1)}))},onParseImage:function(t){var e=this,n=t.source,s=t.arrayBuffer,i=t.orientation;this.imageAttributes.revoke&&this.imageAttributes.src&&URL.revokeObjectURL(this.imageAttributes.src),this.imageAttributes.revoke=!1,s&&i&&i>1?B3(n)||!m_(n)?(this.imageAttributes.src=URL.createObjectURL(new Blob([s])),this.imageAttributes.revoke=!0):this.imageAttributes.src=function(o){for(var r=[],a=new Uint8Array(o);a.length>0;){var l=a.subarray(0,8192);r.push(String.fromCharCode.apply(null,Array.from?Array.from(l):l.slice())),a=a.subarray(8192)}return"data:image/jpeg;base64,"+btoa(r.join(""))}(s):this.imageAttributes.src=n,rr(this.defaultTransforms)?this.appliedImageTransforms=Vh(this.defaultTransforms()):Qc(this.defaultTransforms)?this.appliedImageTransforms=Vh(this.defaultTransforms):this.appliedImageTransforms=function(o){var r=Vh({});if(o)switch(o){case 2:r.flip.horizontal=!0;break;case 3:r.rotate=-180;break;case 4:r.flip.vertical=!0;break;case 5:r.rotate=90,r.flip.vertical=!0;break;case 6:r.rotate=90;break;case 7:r.rotate=90,r.flip.horizontal=!0;break;case 8:r.rotate=-90}return r}(i),this.defaultImageTransforms=nt(nt({},this.appliedImageTransforms),{},{flip:nt({},this.appliedImageTransforms.flip)}),this.$nextTick(function(){var o=e.$refs.image;o&&o.complete&&(function(r){return!!r.naturalWidth}(o)?e.onSuccessLoadImage():e.onFailLoadImage())})},onResizeEnd:function(){this.runAutoZoom("resize",{transitions:!0})},onMoveEnd:function(){this.runAutoZoom("move",{transitions:!0})},onMove:function(t){var e=this;this.transitionsOptions.enabled||this.awaitRender(function(){e.coordinates=e.moveAlgorithm(nt(nt({},e.getPublicProperties()),{},{positionRestrictions:kc(e.positionRestrictions,e.visibleArea),coordinates:e.coordinates,event:e.normalizeEvent(t)})),e.onChange()})},onResize:function(t){var e=this;this.transitionsOptions.enabled||this.stencilSize&&!this.autoZoom||this.awaitRender(function(){var n=e.sizeRestrictions,s=Math.min(e.coordinates.width,e.coordinates.height,20*e.coefficient);e.coordinates=e.resizeAlgorithm(nt(nt({},e.getPublicProperties()),{},{positionRestrictions:kc(e.positionRestrictions,e.visibleArea),sizeRestrictions:{maxWidth:Math.min(n.maxWidth,e.visibleArea.width),maxHeight:Math.min(n.maxHeight,e.visibleArea.height),minWidth:Math.max(n.minWidth,s),minHeight:Math.max(n.minHeight,s)},event:e.normalizeEvent(t)})),e.onChange(),e.ticking=!1})},onManipulateImage:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.transitionsOptions.enabled){var n=e.transitions,s=n!==void 0&&n,i=e.normalize,o=i===void 0||i;s&&this.enableTransitions();var r=MI(nt(nt({},this.getPublicProperties()),{},{event:o?this.normalizeEvent(t):t,getAreaRestrictions:this.getAreaRestrictions,imageRestriction:this.imageRestriction,adjustStencil:!this.stencilSize&&this.settings.resizeImage.adjustStencil})),a=r.visibleArea,l=r.coordinates;this.visibleArea=a,this.coordinates=l,this.runAutoZoom("manipulateImage"),this.onChange(),s&&this.debouncedDisableTransitions()}},onPropsChange:function(){this.coordinates=this.applyTransform(this.coordinates,!0),this.onChange(!1)},getAreaRestrictions:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.visibleArea,n=t.type,s=n===void 0?"move":n;return this.areaRestrictionsAlgorithm({boundaries:this.boundaries,imageSize:this.imageSize,imageRestriction:this.imageRestriction,visibleArea:e,type:s})},getAspectRatio:function(t){var e,n,s=this.stencilProps,i=s.aspectRatio,o=s.minAspectRatio,r=s.maxAspectRatio;if(this.$refs.stencil&&this.$refs.stencil.aspectRatios){var a=this.$refs.stencil.aspectRatios();e=a.minimum,n=a.maximum}if(Bt(e)&&(e=Bt(i)?o:i),Bt(n)&&(n=Bt(i)?r:i),!t&&(Bt(e)||Bt(n))){var l=this.getStencilSize(),c=l?st(l):null;Bt(e)&&(e=g_(c)?c:void 0),Bt(n)&&(n=g_(c)?c:void 0)}return{minimum:e,maximum:n}},getStencilSize:function(){if(this.stencilSize)return t={currentStencilSize:{width:this.stencilCoordinates.width,height:this.stencilCoordinates.height},stencilSize:this.stencilSize,boundaries:this.boundaries,coefficient:this.coefficient,coordinates:this.coordinates,aspectRatio:this.getAspectRatio(!0)},e=t.boundaries,n=t.stencilSize,s=t.aspectRatio,Ph(st(i=rr(n)?n({boundaries:e,aspectRatio:s}):n),s)&&(i=Qs({sizeRestrictions:{maxWidth:e.width,maxHeight:e.height,minWidth:0,minHeight:0},width:i.width,height:i.height,aspectRatio:{minimum:s.minimum,maximum:s.maximum}})),(i.width>e.width||i.height>e.height)&&(i=Qs({sizeRestrictions:{maxWidth:e.width,maxHeight:e.height,minWidth:0,minHeight:0},width:i.width,height:i.height,aspectRatio:{minimum:st(i),maximum:st(i)}})),i;var t,e,n,s,i},getPublicProperties:function(){return{coefficient:this.coefficient,visibleArea:this.visibleArea,coordinates:this.coordinates,boundaries:this.boundaries,sizeRestrictions:this.sizeRestrictions,positionRestrictions:this.positionRestrictions,aspectRatio:this.getAspectRatio(),imageRestriction:this.imageRestriction}},defaultCoordinates:function(){return nt({},__)},flip:function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=n.transitions,i=s===void 0||s;if(!this.transitionsActive){i&&this.enableTransitions();var o=nt({},this.imageTransforms.flip),r=TI({flip:{horizontal:t?!o.horizontal:o.horizontal,vertical:e?!o.vertical:o.vertical},previousFlip:o,rotate:this.imageTransforms.rotate,visibleArea:this.visibleArea,coordinates:this.coordinates,imageSize:this.imageSize,positionRestrictions:this.positionRestrictions,sizeRestrictions:this.sizeRestrictions,getAreaRestrictions:this.getAreaRestrictions,aspectRatio:this.getAspectRatio()}),a=r.visibleArea,l=r.coordinates;t&&(this.appliedImageTransforms.flip.horizontal=!this.appliedImageTransforms.flip.horizontal),e&&(this.appliedImageTransforms.flip.vertical=!this.appliedImageTransforms.flip.vertical),this.visibleArea=a,this.coordinates=l,this.onChange(),i&&this.debouncedDisableTransitions()}},rotate:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.transitions,s=n===void 0||n;if(!this.transitionsActive){s&&this.enableTransitions();var i=nt({},this.imageSize);this.appliedImageTransforms.rotate+=t;var o=EI({visibleArea:this.visibleArea,coordinates:this.coordinates,previousImageSize:i,imageSize:this.imageSize,angle:t,positionRestrictions:this.positionRestrictions,sizeRestrictions:this.sizeRestrictions,getAreaRestrictions:this.getAreaRestrictions,aspectRatio:this.getAspectRatio()}),r=o.visibleArea,a=o.coordinates,l=this.processAutoZoom("rotateImage",r,a);r=l.visibleArea,a=l.coordinates,this.visibleArea=r,this.coordinates=a,this.onChange(),s&&this.debouncedDisableTransitions()}}},emits:["change","error","ready"]},UI={key:0,ref:"canvas",style:{display:"none"}},FI={key:1,ref:"sourceCanvas",style:{display:"none"}};tb.render=function(t,e,n,s,i,o){return w(),U("div",{ref:"cropper",class:o.classes.cropper},[A("div",{ref:"stretcher",class:o.classes.stretcher},null,2),A("div",{class:o.classes.boundaries,style:o.boundariesStyle},[(w(),U(On(n.backgroundWrapperComponent),{class:o.classes.cropperWrapper,"wheel-resize":o.settings.resizeImage.wheel,"touch-resize":o.settings.resizeImage.touch,"touch-move":o.settings.moveImage.touch,"mouse-move":o.settings.moveImage.mouse,onMove:o.onManipulateImage,onResize:o.onManipulateImage},{default:V(function(){return[A("div",{class:o.classes.background,style:o.boundariesStyle},null,6),A("div",{class:o.classes.imageWrapper},[A("img",{ref:"image",crossorigin:i.imageAttributes.crossOrigin,src:i.imageAttributes.src,class:o.classes.image,style:o.imageStyle,onMousedown:e[1]||(e[1]=Vt(function(){},["prevent"]))},null,46,["crossorigin","src"])],2),A("div",{class:o.classes.foreground,style:o.boundariesStyle},null,6),Ee((w(),U(On(n.stencilComponent),Ll({ref:"stencil",image:o.image,coordinates:i.coordinates,"stencil-coordinates":o.stencilCoordinates,transitions:o.transitionsOptions},n.stencilProps,{onResize:o.onResize,onResizeEnd:o.onResizeEnd,onMove:o.onMove,onMoveEnd:o.onMoveEnd}),null,16,["image","coordinates","stencil-coordinates","transitions","onResize","onResizeEnd","onMove","onMoveEnd"])),[[di,i.imageLoaded]]),n.canvas?(w(),U("canvas",UI,null,512)):B("",!0),n.canvas?(w(),U("canvas",FI,null,512)):B("",!0)]}),_:1},8,["class","wheel-resize","touch-resize","touch-move","mouse-move","onMove","onResize"]))],6)],2)};const qI=t=>(Re("data-v-ce15e27c"),t=t(),Pe(),t),WI={key:0,class:"crop-modal"},jI={class:"crop-modal__inner"},HI={class:"crop-modal__preview"},YI={key:0,class:"crop-modal__preview__image-preview"},KI={class:"crop-modal__preview__image-preview__actions"},XI={key:1,class:"crop-modal__preview__pdf-preview"},GI={class:"crop-modal__menu"},JI=qI(()=>m("div",{class:"crop-modal__menu__header"},[m("h3",null,"Файлы")],-1)),ZI={class:"crop-modal__menu__file-list"},QI={class:"crop-modal__menu__actions"},eR={class:"row"},tR={class:"col"},nR={class:"col"},sR=H({__name:"crop-modal",props:{visible:{type:Boolean},files:{}},emits:["update:visible","update:files","confirm","cancel"],setup(t,{emit:e}){const n=t,s=W({get:()=>n.files,set:_=>e("update:files",_)}),i=J(""),o=J(),r=J(""),a=W(()=>{var _;return((_=o.value)==null?void 0:_.extension)!=="pdf"}),l=J();We(n.files,()=>{var _;i.value=((_=n.files[0])==null?void 0:_.key)||""},{immediate:!0}),We(i,()=>{o.value=s.value.find(_=>_.key===i.value),o.value&&h(o.value)},{immediate:!0});function c({canvas:_}){l.value=_}function u(){if(!o.value||!l.value)return;const _=d(l.value.toDataURL(),o.value.fileName);s.value=s.value.map(b=>{var x;return b.key===((x=o.value)==null?void 0:x.key)?{...b,file:_}:b})}function d(_,b){const x=_.split(","),$=x[0].match(/:(.*?);/)[1],S=atob(x[1]);let C=S.length;const T=new Uint8Array(C);for(;C--;)T[C]=S.charCodeAt(C);return new File([T],b,{type:$})}function h(_){if(!_.file){r.value="";return}r.value="";const b=new FileReader;b.readAsDataURL(_.file),b.onload=()=>{r.value=b.result}}function f(_){return URL.createObjectURL(_)}function p(){e("confirm")}function g(){e("update:visible",!1),e("cancel")}return(_,b)=>{var C;const x=ot,$=cI,S=T1;return w(),U(ui,{to:"body"},[_.visible?(w(),k("div",WI,[m("div",jI,[m("div",HI,[r.value&&a.value?(w(),k("div",YI,[A(v(tb),{class:"crop-modal__preview__image-preview__cropper",src:r.value,onChange:b[0]||(b[0]=T=>c(T))},null,8,["src"]),m("div",KI,[A(x,{alignment:"stretch",design:"secondary",onClick:b[1]||(b[1]=T=>u())},{default:V(()=>[Q(" Обрезать ")]),_:1})])])):((C=o.value)==null?void 0:C.extension)==="pdf"?(w(),k("div",XI,[A($,{src:f(o.value.file)},null,8,["src"])])):B("",!0)]),m("div",GI,[JI,m("div",ZI,[A(S,{files:s.value,"onUpdate:files":b[2]||(b[2]=T=>s.value=T),"selected-key":i.value,"onUpdate:selectedKey":b[3]||(b[3]=T=>i.value=T)},null,8,["files","selected-key"])]),m("div",QI,[m("div",eR,[m("div",tR,[A(x,{onClick:b[4]||(b[4]=T=>g()),design:"danger",alignment:"stretch"},{default:V(()=>[Q(" Отмена ")]),_:1})]),m("div",nR,[A(x,{onClick:b[5]||(b[5]=T=>p()),design:"primary",alignment:"stretch"},{default:V(()=>[Q(" Загрузить ")]),_:1})])])])])])])):B("",!0)])}}});const iR=K(sR,[["__scopeId","data-v-ce15e27c"]]),oR={class:"progress-bar"},rR={class:"progress-bar__bar"},aR=H({__name:"progress-bar",props:{value:{}},setup(t){return(e,n)=>(w(),k("div",oR,[m("div",rR,[m("div",{class:"progress-bar__bar__progress",style:wn({width:`${e.value}%`})},null,4)])]))}});const nb=K(aR,[["__scopeId","data-v-94d5ca52"]]),lR={class:"file-input"},cR=["accept","multiple"],uR={class:"file-input__label"},dR={class:"file-input__files"},hR=["href"],fR={class:"file-input__files__file__data"},pR={class:"file-input__files__file__data__name"},mR={key:0,class:"file-input__files__file__data__error"},gR={key:1,class:"file-input__files__file__data__progress"},_R={key:0,class:"file-input__files__file__actions"},vR={class:"file-input__files__file__actions__delete"},bR=H({__name:"file-input",props:{label:{},modelValue:{},allowedMimeTypes:{default:()=>["image/png","image/jpeg"]},maxFileSize:{default:3*1024*1024},maxCount:{default:5},readonly:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=W({get(){return(n.modelValue||[]).map((b,x)=>({id:b.id,key:li(),fileName:b.name||b.src,src:b.src,extension:b.src.split(".").pop(),progress:100,isUploaded:!0,error:"",file:null,order:x}))},set(b){e("update:modelValue",b.map(x=>({id:x.id,src:x.src,name:x.fileName,order:x.order,mimeType:x.extension==="pdf"?"application/pdf":x.extension==="png"?"image/png":"image/jpeg"})))}}),i=J([]),o=J(null),r=J(!1),a=J(!1);let l=0;function c(){r.value=!0,clearTimeout(l)}function u(){l=setTimeout(()=>{r.value=!1},50)}function d(){var b,x,$,S;if(n.maxCount&&s.value.length+(((x=(b=o.value)==null?void 0:b.files)==null?void 0:x.length)||0)>n.maxCount)return N.Services.UI.openWarningModal(`Превышен лимит файлов, которые можно загрузить. Можно загрузить не более ${n.maxCount} файлов`);for(const C of Array.from((($=o.value)==null?void 0:$.files)||[]))if(C){if(!n.allowedMimeTypes.includes(C.type)){N.Services.UI.openWarningModal("Этот тип файла не поддерживается. Поддерживаемые типы: .jpeg, .png, .pdf");return}if(C.size>n.maxFileSize){N.Services.UI.openWarningModal(`Размер файла привышает допустимый (${Math.floor(n.maxFileSize/1024/1024)} МБ)`);return}}f(Array.from(((S=o.value)==null?void 0:S.files)||[]))}function h(b){var $;const x=Array.from((($=b.dataTransfer)==null?void 0:$.files)||[]);if(n.maxCount&&s.value.length+(x.length||0)>n.maxCount){N.Services.UI.openWarningModal(`Превышен лимит файлов, которые можно загрузить. Можно загрузить не более ${n.maxCount} файлов`);return}f(x)}async function f(b){const x=Array.from(b).map(($,S)=>({key:li(),fileName:$.name,src:"",extension:$.name.split(".").pop(),progress:1,isUploaded:!1,error:"",order:s.value.length+S,file:$}));for(const $ of x)if($.file){if(!n.allowedMimeTypes.includes($.file.type)){$.error="Этот тип файла не поддерживается",i.value.push($);continue}if($.file.size>n.maxFileSize){$.error=`Размер файла привышает допустимый (${Math.floor(n.maxFileSize/1024/1024)} МБ})`,i.value.push($);continue}i.value.push($)}a.value=!0}async function p(){a.value=!1;for(const b of i.value)try{s.value.push(b);const x=await N.Services.Media.upload([b.file],$=>{b.progress=$});if(!x||!x.data){N.Services.UI.openErrorModal("Ошибка при загрузке файла");continue}b.src=x.data[0].src,b.fileName=x.data[0].name,b.extension=x.data[0].mimeType.split("/").pop(),b.isUploaded=!0,b.progress=100,e("update:modelValue",s.value.map($=>({id:$.id,src:$.src,name:$.fileName,mimeType:$.extension==="pdf"?"application/pdf":$.extension==="png"?"image/png":"image/jpeg",order:$.order})))}catch(x){b.error=x.message}i.value=[]}function g(b){n.readonly||(s.value=s.value.filter(x=>x.key!==b.key))}function _(){i.value=[]}return(b,x)=>{const $=Jt,S=Zu,C=nb,T=iR,L=it("auto-animate");return w(),k(he,null,[m("div",lR,[m("input",{ref_key:"fileInput",ref:o,type:"file",accept:b.allowedMimeTypes.join(", "),multiple:!!b.maxCount&&b.maxCount>1,onChange:x[0]||(x[0]=E=>d()),"area-hidden":"true",hidden:""},null,40,cR),m("label",uR,F(b.label),1),n.readonly?B("",!0):(w(),k("div",{key:0,class:_e(["file-input__area",{"file-input__area--drag":r.value}]),onClick:x[1]||(x[1]=E=>{b.$refs.fileInput.click()}),onDragenter:x[2]||(x[2]=Vt(E=>c(),["prevent"])),onDragleave:x[3]||(x[3]=Vt(E=>u(),["prevent"])),onDragover:x[4]||(x[4]=Vt(()=>{},["prevent"])),onMouseleave:x[5]||(x[5]=E=>u()),onDrop:x[6]||(x[6]=Vt(E=>h(E),["prevent"]))}," Перетащите сюда файл или кликните, чтобы загрузить ",34)),Ee((w(),k("div",dR,[(w(!0),k(he,null,Le(s.value,E=>(w(),k("div",{class:"file-input__files__file",key:E.id},[m("a",{href:`${v(N).Constants.MEDIA_URL}/${E.src}`,target:"_blank",class:"file-input__files__file__preview"},[E.src&&E.extension==="pdf"?(w(),U($,{key:0,name:"pdf-file"})):(w(),U(S,{key:1,src:E.src},null,8,["src"]))],8,hR),m("div",fR,[m("p",pR,F(E.fileName),1),E.error?(w(),k("div",mR,[m("p",null,"Ошибка: "+F(E.error),1)])):E.isUploaded?B("",!0):(w(),k("div",gR,[A(C,{value:E.progress},null,8,["value"])]))]),n.readonly?B("",!0):(w(),k("div",_R,[m("div",vR,[A($,{name:"delete",onClick:q=>g(E)},null,8,["onClick"])])]))]))),128))])),[[L]])]),A(T,{visible:a.value,"onUpdate:visible":x[7]||(x[7]=E=>a.value=E),files:i.value,"onUpdate:files":x[8]||(x[8]=E=>i.value=E),onConfirm:x[9]||(x[9]=E=>p()),onCancel:x[10]||(x[10]=E=>_())},null,8,["visible","files"])],64)}}});const R1=K(bR,[["__scopeId","data-v-c96427a1"]]),yR={class:"text-area"},wR={key:0,class:"text-area__label"},xR=["placeholder"],kR=H({__name:"text-area",props:{label:{},modelValue:{},placeholder:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=W({get(){return n.modelValue},set(i){e("update:modelValue",i)}});return(i,o)=>(w(),k("div",yR,[i.label?(w(),k("label",wR,F(i.label),1)):B("",!0),Ee(m("textarea",{class:"text-area__textarea",placeholder:i.placeholder,"onUpdate:modelValue":o[0]||(o[0]=r=>s.value=r)},null,8,xR),[[To,s.value]])]))}});const Jr=K(kR,[["__scopeId","data-v-7bddb8ef"]]),SR={class:"blogpost-poll-form-question"},$R={class:"blogpost-poll-form-question__title"},CR={class:"blogpost-poll-form-question__title__delete-button"},AR={class:"blogpost-poll-form-question__form"},MR={class:"blogpost-poll-form-question__type-specific-form"},ER=H({__name:"blogpost-poll-form-question",props:{index:{},modelValue:{}},emits:["update:modelValue","remove"],setup(t,{emit:e}){const n=t,s=W({get:()=>n.modelValue,set:r=>e("update:modelValue",r)}),i=[{value:"date",label:"Дата"},{value:"text",label:"Текст"},{value:"number",label:"Число"},{value:"file",label:"Файл"},{value:"rating",label:"Рейтинг"},{value:"choice",label:"Варианты ответа"}],o=Tl();return We(()=>s.value.type,r=>{Wp(Object.assign({"./poll-question-forms/choice-form.vue":()=>ge(()=>import("./choice-form-46a5c683.js"),[]),"./poll-question-forms/date-form.vue":()=>ge(()=>import("./date-form-0ac4d7c3.js"),["assets/date-form-0ac4d7c3.js","assets/date-form-e6569fdd.css"]),"./poll-question-forms/file-form.vue":()=>ge(()=>import("./file-form-447dd462.js"),[]),"./poll-question-forms/number-form.vue":()=>ge(()=>import("./number-form-ab43a106.js"),[]),"./poll-question-forms/rating-form.vue":()=>ge(()=>import("./rating-form-cabc0b6b.js"),[]),"./poll-question-forms/text-form.vue":()=>ge(()=>import("./text-form-960b5f99.js"),[])}),`./poll-question-forms/${r}-form.vue`).then(a=>{o.value=a.default})},{immediate:!0}),(r,a)=>{const l=Jt,c=Kr,u=Xo,d=qt,h=Jr,f=it("auto-animate");return w(),k("div",SR,[m("div",$R,[m("h4",null,"Вопрос "+F(r.index+1),1),m("span",CR,[A(l,{name:"delete",onClick:a[0]||(a[0]=p=>r.$emit("remove"))})])]),m("div",AR,[A(c,{label:"Обязательный",modelValue:s.value.required,"onUpdate:modelValue":a[1]||(a[1]=p=>s.value.required=p)},null,8,["modelValue"]),A(u,{modelValue:s.value.type,"onUpdate:modelValue":a[2]||(a[2]=p=>s.value.type=p),label:"Тип вопроса",options:i},null,8,["modelValue"]),A(d,{type:"text",modelValue:s.value.text,"onUpdate:modelValue":a[3]||(a[3]=p=>s.value.text=p),label:"Текст вопроса"},null,8,["modelValue"]),A(h,{type:"text",modelValue:s.value.description,"onUpdate:modelValue":a[4]||(a[4]=p=>s.value.description=p),label:"Описание вопроса"},null,8,["modelValue"])]),Ee((w(),k("div",MR,[(w(),U(On(o.value),{modelValue:s.value,"onUpdate:modelValue":a[5]||(a[5]=p=>s.value=p)},null,8,["modelValue"]))])),[[f]])])}}});const TR=K(ER,[["__scopeId","data-v-1056c445"]]),_d=t=>(Re("data-v-2bd12a24"),t=t(),Pe(),t),LR={class:"blogpost-poll-form"},OR=_d(()=>m("br",null,null,-1)),DR={class:"blogpost-poll-form__info"},IR={class:"row"},RR={class:"col-md-6"},PR=_d(()=>m("label",{class:"blogpost-poll-form__info__label"}," Кто может пройти опрос ",-1)),NR={class:"col-md-6"},VR=_d(()=>m("label",{class:"blogpost-poll-form__info__label"}," Кто может видеть результаты ",-1)),zR={class:"row"},BR={class:"col-md-6"},UR={class:"col-md-3 only-for-registered"},FR={class:"col-md-3"},qR={class:"blogpost-poll-form__questions"},WR=_d(()=>m("div",{class:"blogpost-poll-form__questions__add-question__inner"},[m("span",{class:"blogpost-poll-form__questions__add-question__icon"}," + "),m("span",{class:"blogpost-poll-form__questions__add-question__label"}," Добавить вопрос ")],-1)),jR=[WR],HR=H({__name:"blogpost-poll-form",props:{modelValue:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=W({get:()=>n.modelValue,set:l=>e("update:modelValue",l)}),i=[{label:"Преподаватели",role:"teacher"},{label:"Ученики",role:"student"},{label:"Кураторы",role:"mentor"},{label:"Все",role:"everyone"}];function o(){s.value.questions.push(a())}function r(l){s.value.questions.splice(l,1)}function a(){return{id:void 0,answers:void 0,text:"",description:"",type:"text",required:!1,choices:[],minChoices:1,maxChoices:2,minRating:0,maxRating:5,onlyIntegerRating:!0,maxFileSize:5,maxFileCount:1,allowedFileTypes:["image/jpeg","image/png"],minLength:1,maxLength:100,minValue:0,maxValue:100,onlyIntegerValue:!0,onlyFutureDate:!1,onlyPastDate:!1}}return(l,c)=>{const u=Fo,d=Uo,h=qt,f=Kr,p=Jr,g=it("auto-animate");return w(),k("div",LR,[A(u,null,{default:V(()=>[Q(" Опрос нельзя изменить после публикации поста, будьте внимательны! ")]),_:1}),OR,m("div",DR,[m("div",IR,[m("div",RR,[PR,A(d,{items:i,"item-label-key":"label","item-key":"role",multiple:"",modelValue:s.value.canVote,"onUpdate:modelValue":c[0]||(c[0]=_=>s.value.canVote=_)},null,8,["modelValue"])]),m("div",NR,[VR,A(d,{items:i,"item-label-key":"label","item-key":"role",multiple:"",modelValue:s.value.canSeeResults,"onUpdate:modelValue":c[1]||(c[1]=_=>s.value.canSeeResults=_)},null,8,["modelValue"])])]),m("div",zR,[m("div",BR,[A(h,{type:"text",modelValue:s.value.title,"onUpdate:modelValue":c[2]||(c[2]=_=>s.value.title=_),label:"Название опроса"},null,8,["modelValue"])]),m("div",UR,[A(f,{label:"Только для зарегистрированных",modelValue:s.value.requireAuth,"onUpdate:modelValue":c[3]||(c[3]=_=>s.value.requireAuth=_)},null,8,["modelValue"])]),m("div",FR,[A(h,{type:"date",modelValue:s.value.stopAt,"onUpdate:modelValue":c[4]||(c[4]=_=>s.value.stopAt=_),label:"Дата окончания"},null,8,["modelValue"])])]),A(p,{label:"Описание",modelValue:s.value.description,"onUpdate:modelValue":c[5]||(c[5]=_=>s.value.description=_)},null,8,["modelValue"])]),Ee((w(),k("div",qR,[(w(!0),k(he,null,Le(s.value.questions,(_,b)=>(w(),k("div",{class:"blogpost-poll-form__question",key:_.id},[A(TR,{index:b,modelValue:_,"onUpdate:modelValue":x=>s.value.questions[b]=x,onRemove:x=>r(b)},null,8,["index","modelValue","onUpdate:modelValue","onRemove"])]))),128)),m("div",{class:"blogpost-poll-form__questions__add-question",onClick:c[6]||(c[6]=_=>o())},jR)])),[[g]])])}}});const YR=K(HR,[["__scopeId","data-v-2bd12a24"]]),sb=Ct("blog-module:create-blogpost",()=>{const t=N.Services.UI,e=N.Services.Blog,n=J(a()),s=J("create");function i(g){s.value=g}async function o(g){t.setLoading(!0);try{const _=await e.getPost(g);if(!_.data)throw new Error("Пост не найден");n.value=_.data}catch(_){t.openErrorModal("Ошибка при загрузке поста",_.message)}finally{t.setLoading(!1)}}function r(){n.value=a()}function a(){return{id:void 0,title:"",content:Zx(),reactionCounts:void 0,author:void 0,tags:[],files:[],createdAt:void 0,updatedAt:void 0}}function l(){return{id:void 0,title:"",description:"",requireAuth:!0,stopAt:new Date,isStopped:!1,createdAt:void 0,updatedAt:void 0,questions:[],canSeeResults:["everyone"],canVote:["everyone"],votedUserIds:[],votedCount:0}}async function c(){t.setLoading(!0);try{if(s.value==="create"){n.value.id=void 0,p(n.value);const g=n.value;g.poll&&(f(g.poll),g.poll.questions=u(g.poll.questions)),await e.createPost(g)}else await e.updatePost(n.value.id,n.value);t.openSuccessModal("Пост успешно сохранен","Пост успешно сохранен и доступен для просмотра",[{label:"Вернуться к ленте",design:"primary",handler:()=>location.replace("/blog")}])}catch(g){t.openErrorModal("Ошибка при сохранении поста",g.message)}finally{t.setLoading(!1)}}function u(g){return g.map((_,b)=>({..._,order:b}))}async function d(){n.value.poll=l()}async function h(){n.value.poll=void 0}function f(g){if(!g.title||g.title.length===0)throw new Error("Опрос должен содержать название");if(!g.stopAt)throw new Error("Опрос должен содержать дату окончания");if(g.questions.length===0)throw new Error("Опрос должен содержать хотя бы один вопрос");if(g.canSeeResults.length===0)throw new Error("Опрос должен содержать хотя бы один вариант доступа к результатам");if(g.canVote.length===0)throw new Error("Опрос должен содержать хотя бы один вариант доступа к голосованию");g.questions.forEach(_=>{switch(_.id=void 0,_.type){case"choice":if(!_.choices||_.choices.length===0)throw new Error("Вопрос с выбором должен содержать хотя бы один вариант ответа");if(_.choices.some(b=>b.includes("|")))throw new Error('Варианты ответа не могут содержать символ "|"');break;case"rating":if(_.minRating===void 0||_.maxRating===void 0)throw new Error("Вопрос с рейтингом должен содержать минимальное и максимальное значение");break;case"file":if(_.maxFileSize===void 0)throw new Error("Вопрос с файлом должен содержать максимальный размер файла");if(_.maxFileCount===void 0)throw new Error("Вопрос с файлом должен содержать максимальное количество файлов");break;case"date":break;case"number":if(_.minValue===void 0||_.maxValue===void 0)throw new Error("Вопрос с числом должен содержать минимальное и максимальное значение");break;case"text":break;default:throw new Error("Неизвестный тип вопроса")}})}function p(g){if(!g.title||g.title.length===0)throw new Error("Пост должен содержать название");if(!g.content||g.content.ops.length===0)throw new Error("Пост должен содержать контент");if(g.tags.length===0)throw new Error("Пост должен содержать хотя бы один тег")}return{blogpost:n,fetchBlogpost:o,saveBlogpost:c,mode:s,setMode:i,reset:r,addPoll:d,removePoll:h}}),KR=[{keys:["Ctrl","Enter"],description:"Сохранить",shortcut:["Ctrl","Enter"],handler:()=>{sb().saveBlogpost()}}],XR=t=>(Re("data-v-1c836937"),t=t(),Pe(),t),GR={class:"create-blogpost-view"},JR={class:"create-blogpost-view__form"},ZR={class:"create-blogpost-view__form__title"},QR={class:"create-blogpost-view__form__content"},eP={class:"create-blogpost-view__form__tags"},tP={class:"create-blogpost-view__form__files"},nP={key:0,class:"create-blogpost-view__form__poll"},sP=XR(()=>m("div",{class:"create-blogpost-view__form__poll__title"},[m("h2",null,"Опрос")],-1)),iP={key:0,class:"create-blogpost-view__form__poll__form"},oP={class:"create-blogpost-view__form__actions"},rP={class:"create-blogpost-view__form__actions__back"},aP={class:"create-blogpost-view__form__actions__submit"},lP=H({__name:"create-blogpost-view",setup(t){const e=sb(),n=Dt();We(()=>n.params,i=>{i.id&&typeof i.id=="string"&&i.id.length>0?(e.fetchBlogpost(i.id),e.setMode("edit")):(e.setMode("create"),e.reset())},{immediate:!0});const s=ed(KR);return Ki(()=>{s()}),(i,o)=>{const r=qt,a=zl,l=A1,c=R1,u=ot,d=it("auto-animate");return w(),k("div",GR,[m("div",JR,[m("div",ZR,[A(r,{type:"text",modelValue:v(e).blogpost.title,"onUpdate:modelValue":o[0]||(o[0]=h=>v(e).blogpost.title=h),label:"Заголовок поста"},null,8,["modelValue"])]),m("div",QR,[(w(),U(a,{key:v(e).blogpost.id,modelValue:v(e).blogpost.content,"onUpdate:modelValue":o[1]||(o[1]=h=>v(e).blogpost.content=h),label:"Содержание поста"},null,8,["modelValue"]))]),m("div",eP,[A(l,{modelValue:v(e).blogpost.tags,"onUpdate:modelValue":o[2]||(o[2]=h=>v(e).blogpost.tags=h),label:"Теги"},null,8,["modelValue"])]),m("div",tP,[A(c,{label:"Прикрепленные файлы",modelValue:v(e).blogpost.files,"onUpdate:modelValue":o[3]||(o[3]=h=>v(e).blogpost.files=h),"allowed-mime-types":["image/png","image/jpeg","application/pdf"],"max-file-size":50*1024*1024,"max-count":5},null,8,["modelValue"])]),v(e).mode==="create"?Ee((w(),k("div",nP,[sP,v(e).blogpost.poll?(w(),k("div",iP,[A(YR,{modelValue:v(e).blogpost.poll,"onUpdate:modelValue":o[4]||(o[4]=h=>v(e).blogpost.poll=h)},null,8,["modelValue"])])):B("",!0),v(e).blogpost.poll?(w(),U(u,{key:2,design:"danger",onClick:o[6]||(o[6]=h=>v(e).removePoll())},{default:V(()=>[Q(" Удалить опрос ")]),_:1})):(w(),U(u,{key:1,design:"warning",onClick:o[5]||(o[5]=h=>v(e).addPoll())},{default:V(()=>[Q(" Добавить опрос ")]),_:1}))])),[[d]]):B("",!0),m("div",oP,[m("div",rP,[A(u,{design:"secondary",to:"/blog"},{default:V(()=>[Q(" Назад ")]),_:1})]),m("div",aP,[A(u,{design:"primary",onClick:o[7]||(o[7]=h=>v(e).saveBlogpost())},{default:V(()=>[Q(" Сохранить ")]),_:1})])])])])}}});const cP=K(lP,[["__scopeId","data-v-1c836937"]]),uP=Ct("blog-module:post",()=>{const t=N.Services.UI,e=N.Services.Blog,n=Dt(),s=J();async function i(){const o=n.params.id;t.setLoading(!0);try{const r=await e.getPost(o);if(!r.data)throw new Error("Пост не найден");s.value=r.data}catch(r){t.openErrorModal("Ошибка при загрузке поста",r.message)}finally{t.setLoading(!1)}}return{post:s,fetchPost:i}}),dP={key:0,class:"blogpost-view"},hP={class:"blogpost-view__actions"},fP={class:"blogpost-view__header"},pP={class:"blogpost-view__header__info"},mP={class:"blogpost-view__header__info__date"},gP={class:"blogpost-view__header__info__author"},_P={class:"blogpost-view__reactions"},vP={class:"blogpost-view__body"},bP={key:0,class:"blogpost-view__files"},yP=H({__name:"blogpost-view",setup(t){const e=uP(),n=V3();e.fetchPost().then(()=>{var o;return ln(((o=e.post)==null?void 0:o.title)||"Пост не найден")});function s(){var r,a;const o=(r=N.Context.User)==null?void 0:r.role;return!((a=e.post)!=null&&a.poll)||!o?!1:e.post.poll.canVote.includes(o)||e.post.poll.canVote.includes("everyone")}function i(){var r,a;const o=(r=N.Context.User)==null?void 0:r.role;return!((a=e.post)!=null&&a.poll)||!o?!1:e.post.poll.canSeeResults.includes(o)||e.post.poll.canSeeResults.includes("everyone")}return(o,r)=>{const a=ot,l=Gr,c=T1;return v(e).post?(w(),k("div",dP,[m("div",hP,[A(a,{to:"/blog",design:"inline"},{default:V(()=>[Q(" Назад к ленте ")]),_:1}),s()?(w(),U(a,{key:0,to:`/poll/${v(e).post.pollId}`,design:"warning"},{default:V(()=>[Q(" Пройти опрос ")]),_:1},8,["to"])):B("",!0),i()?(w(),U(a,{key:1,to:`/poll/${v(e).post.pollId}/results`,design:"inline"},{default:V(()=>[Q(" Результаты опроса ")]),_:1},8,["to"])):B("",!0)]),m("div",fP,[m("h1",null,F(v(e).post.title),1),m("div",pP,[m("span",mP,F(v(on)(v(e).post.createdAt,{precision:"day"}).toBeautiful()),1),Q(" | "),m("span",gP,F(v(e).post.author.name),1)])]),m("div",_P,[A(P3,{reactions:v(e).post.reactionCounts,myReaction:v(e).post.myReaction,loading:v(n).isReactionLoading,onReact:r[0]||(r[0]=u=>v(n).reactToPost(v(e).post,u))},null,8,["reactions","myReaction","loading"])]),m("div",vP,[(w(),U(l,{content:v(e).post.content,key:v(e).post.id},null,8,["content"]))]),v(e).post.files.length?(w(),k("div",bP,[A(c,{label:"Прикрепленные файлы",files:v(e).post.files},null,8,["files"])])):B("",!0)])):B("",!0)}}});const wP=K(yP,[["__scopeId","data-v-0619dc10"]]),xP={path:"/blog",name:"Блог/Новости",component:XO,children:[{path:"",name:"Блог/Новости",component:GD},{path:"post/create:id?",name:"Редактирование поста",component:cP},{path:"post/:id",name:"Просмотр поста",component:wP}]},kP={name:"blog",router:xP},SP={},$P={class:"module-wrapper"};function CP(t,e){const n=De("router-view");return w(),k("div",$P,[A(n)])}const AP=K(SP,[["render",CP]]);const MP=["click"],ja=[],EP={instances:ja,beforeMount:k_,update:(t,e)=>{JSON.stringify(e.value)!==JSON.stringify(e.oldValue)&&k_(t,e)},unmounted:ib};function k_(t,{value:e}){ib(t);const n=e,s=typeof n=="function";if(!s&&typeof n!="object"||n.isActive===!1)return;const i=s?n:n.handler,o=TP({el:t,handler:i});o.eventHandlers.forEach(({event:r,handler:a})=>setTimeout(()=>document.addEventListener(r,a,!1),0)),ja.push(o)}function ib(t){const e=ja.findIndex(n=>n.el===t);e!==-1&&(ja[e].eventHandlers.forEach(({event:n,handler:s})=>document.removeEventListener(n,s,!1)),ja.splice(e,1))}function TP({el:t,handler:e}){return{el:t,eventHandlers:MP.map(n=>({event:n,handler:s=>LP({event:s,el:t,handler:e})}))}}function LP({event:t,el:e,handler:n}){const s=t.path||(t.composedPath?t.composedPath():void 0);if(s?s.indexOf(e)<0:!e.contains(t.target))return n&&n(t,e)}const OP=H({name:"IconView",props:{height:{type:[String,Number],default:"16"},width:{type:[String,Number],default:"16"},color:{type:String,default:"black"},customClass:{type:String,required:!1,default:""}},setup(){return{}}}),Zr=(t,e)=>{const n=t.__vccOpts||t;for(const[s,i]of e)n[s]=i;return n},DP=["height","width"],IP=["fill"];function RP(t,e,n,s,i,o){return w(),k("span",{class:_e(t.customClass)},[(w(),k("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",height:t.height,width:t.width,role:"img","aria-hidden":"true","data-icon":"calendarAlt"},[m("path",{fill:t.color,d:"M400 64h-48V12c0-6.6-5.4-12-12-12h-8c-6.6 0-12 5.4-12 12v52H128V12c0-6.6-5.4-12-12-12h-8c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM48 96h352c8.8 0 16 7.2 16 16v48H32v-48c0-8.8 7.2-16 16-16zm352 384H48c-8.8 0-16-7.2-16-16V192h384v272c0 8.8-7.2 16-16 16zM148 320h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm96 0h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm96 0h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm-96 96h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm-96 0h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm192 0h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12z"},null,8,IP)],8,DP))],2)}const PP=Zr(OP,[["render",RP]]),Ie=(t,e=!1)=>e?t.getUTCFullYear():t.getFullYear(),dt=(t,e=!1)=>e?t.getUTCMonth():t.getMonth(),En=(t,e=!1)=>e?t.getUTCDate():t.getDate(),_s=(t,e=!1)=>e?t.getUTCDay():t.getDay(),Qf=(t,e,n=!1)=>n?t.setUTCFullYear(e):t.setFullYear(e),ob=(t,e,n=!1)=>n?t.setUTCMonth(e):t.setMonth(e),eu=(t,e,n=!1)=>n?t.setUTCDate(e):t.setDate(e),Cc=(t,e,n=!1)=>{const s=new Date(t.getTime()),i=new Date(e.getTime());return n?(s.setUTCHours(0,0,0,0),i.setUTCHours(0,0,0,0)):(s.setHours(0,0,0,0),i.setHours(0,0,0,0)),s.getTime()===i.getTime()},NP=t=>Object.prototype.toString.call(t)!=="[object Date]"?!1:!Number.isNaN(t.getTime()),vd=(t,e)=>{if(typeof t!="object")throw TypeError("Invalid Type");return e[_s(t)]},yl=(t,e)=>{if(!e)throw Error("missing 2nd parameter Months array");if(typeof t=="object")return e[dt(t)];if(typeof t=="number")return e[t];throw TypeError("Invalid type")},bd=(t,e)=>{if(!e)throw Error("missing 2nd paramter Months array");if(typeof t=="object")return e[dt(t)];if(typeof t=="number")return e[t];throw TypeError("Invalid type")},VP=(t,e)=>/8|3|5|10/.test(e)?30:e===1?!(t%4)&&t%100||!(t%400)?29:28:31,zP=t=>{switch(t){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},BP=(t,e,n)=>{const s=Ie(t),i=dt(t)+1,o=En(t);return e.replace(/dd/,`0${o}`.slice(-2)).replace(/d/,o).replace(/yyyy/,s).replace(/yy/,String(s).slice(2)).replace(/MMMM/,yl(dt(t),n.months)).replace(/MMM/,bd(dt(t),n.monthsAbbr)).replace(/MM/,`0${i}`.slice(-2)).replace(/M(?!a|ä|e)/,i.toString()).replace(/su/,zP(En(t))).replace(/D(?!e|é|i)/,vd(t,n.days))},UP=t=>t===null||t instanceof Date||typeof t=="string"||typeof t=="number",Es=t=>typeof t=="string"?new Date(t):t,FP=H({name:"DateInput",components:{IconView:PP},props:{selectedDate:{type:[Date,String],default:null},resetTypedDate:{type:[Date],default:new Date},format:{type:[String,Function]},translation:{type:Object},inline:{type:Boolean},id:{type:String},name:{type:String},openDate:{type:Date},placeholder:{type:String},inputClass:{type:[String,Object,Array]},clearButton:{type:Boolean},clearButtonIcon:{type:String},calendarButton:{type:Boolean},calendarButtonIcon:{type:String},calendarButtonIconContent:{type:String},disabled:{type:Boolean},required:{type:Boolean},typeable:{type:Boolean},addBootstrapClass:{type:Boolean,default:!1,required:!1},useUtc:{type:Boolean},minimumView:{type:String,default:"day"},maximumView:{type:String,default:"year"},hideInput:{type:Boolean,default:!0},fullMonthName:{type:Boolean,default:!1},iconColor:{default:"black",type:String},iconHeight:{default:16,type:[String,Number]},iconWidth:{default:16,type:[String,Number]},theme:{default:"green",type:String}},emits:["show-calendar","typed-date","clear-date","close-calendar"],setup(t,{emit:e}){const n=J(),s=J(null),i=W(()=>t.addBootstrapClass?typeof t.inputClass=="string"?[t.inputClass,"form-control"].join(" "):{"form-control":!0,...t.inputClass}:t.inputClass),o=W(()=>{var u,d;if(!t.selectedDate)return null;if(n.value)return n.value;const h=Es(t.selectedDate);let f=typeof t.format=="function"?t.format(h):BP(h,t.format,t.translation);if(t.minimumView===t.maximumView){const[,p,g]=f.split(" ");if(t.maximumView==="month"){if(t.fullMonthName){const _=(u=t.translation)==null?void 0:u.monthsAbbr.indexOf(p);return(d=t.translation)==null?void 0:d.months[_]}f=p}else t.maximumView==="year"&&(f=g)}return f});We(()=>t.resetTypedDate,()=>{n.value=""});function r(){e("show-calendar")}function a(u){if([27,13].includes(u.keyCode)&&s.value.blur(),t.typeable){const{value:d}=s.value,h=Date.parse(d);Number.isNaN(h)||(n.value=d,e("typed-date",new Date(h)))}}function l(){e("clear-date")}function c(){t.typeable&&Number.isNaN(Date.parse(s.value.value))&&(l(),s.value.value=null,n.value=""),e("close-calendar",!0)}return{typedDate:n,computedInputClass:i,formattedValue:o,showCalendar:r,parseTypedDate:a,inputBlurred:c,inputRef:s,clearDate:l}}}),qP={key:0},WP={key:1,style:{position:"relative"}},jP={key:0},HP=["type","name","id","value","open-date","placeholder","clear-button","disabled","required","readonly"],YP={key:0,class:"vuejs3-datepicker__value"},KP={class:"vuejs3-datepicker__icon"},XP={key:0,class:"vuejs3-datepicker__content"},GP={key:1,class:"vuejs3-datepicker__content"},JP={key:0};function ZP(t,e,n,s,i,o){const r=De("IconView");return w(),k("div",{class:_e([t.addBootstrapClass?"input-group":""])},[t.calendarButton?(w(),k("span",{key:0,class:_e(["vuejs3-datepicker__calendar-button",{"input-group-prepend":t.addBootstrapClass,"cursor-na":t.disabled}]),onClick:e[0]||(e[0]=(...a)=>t.showCalendar&&t.showCalendar(...a))},[m("span",{class:_e({"input-group-text":t.addBootstrapClass})},[m("i",{class:_e(t.calendarButtonIcon)},[Q(F(t.calendarButtonIconContent)+" ",1),t.calendarButtonIcon?B("",!0):(w(),k("span",qP,"…"))],2)],2)],2)):B("",!0),t.typeable||!t.hideInput?(w(),k("div",WP,[t.inline?B("",!0):(w(),k("span",jP,[A(r,{customClass:"vuejs3-datepicker__typeablecalendar",color:t.iconColor,width:t.iconWidth,height:t.iconHeight},null,8,["color","width","height"])])),m("input",{type:t.inline?"hidden":"text",class:_e([t.computedInputClass,"vuejs3-datepicker__inputvalue"]),name:t.name,ref:"inputRef",id:t.id,value:t.formattedValue,"open-date":t.openDate,placeholder:t.placeholder,"clear-button":t.clearButton,disabled:t.disabled,required:t.required,readonly:!t.typeable,onClick:e[1]||(e[1]=(...a)=>t.showCalendar&&t.showCalendar(...a)),onKeyup:e[2]||(e[2]=(...a)=>t.parseTypedDate&&t.parseTypedDate(...a)),onBlur:e[3]||(e[3]=(...a)=>t.inputBlurred&&t.inputBlurred(...a)),autocomplete:"off"},null,42,HP)])):(w(),k("div",{key:2,onClick:e[4]||(e[4]=(...a)=>t.showCalendar&&t.showCalendar(...a)),id:"calendar-div"},[t.inline?B("",!0):(w(),k("div",YP,[m("span",KP,[A(r,{color:t.iconColor,width:t.iconWidth,height:t.iconHeight},null,8,["color","width","height"])]),t.formattedValue?(w(),k("div",XP,F(t.formattedValue),1)):(w(),k("div",GP,F(t.placeholder),1))]))])),t.clearButton&&t.selectedDate?(w(),k("span",{key:3,class:_e(["vuejs3-datepicker__clear-button",{"input-group-append":t.addBootstrapClass}]),onClick:e[5]||(e[5]=a=>t.clearDate())},[m("span",{class:_e({"input-group-text":t.addBootstrapClass})},[m("i",{class:_e(t.clearButtonIcon)},[t.clearButtonIcon?B("",!0):(w(),k("span",JP,"×"))],2)],2)],2)):B("",!0),Ge(t.$slots,"belowDate",{},void 0,!0)],2)}const QP=Zr(FP,[["render",ZP],["__scopeId","data-v-09a6219c"]]),eN=H({name:"PickerDay",props:{showDayView:{type:Boolean},selectedDate:{type:[String,Date],required:!1,default:null},pageDate:{type:Date,default:new Date},fullMonthName:{type:Boolean},allowedToShowView:{type:Function,required:!0},dayCellContent:{type:Function,default:t=>t.date},disabledDates:{type:Object},highlighted:{type:Object},calendarClass:{type:[String,Object,Array]},calendarStyle:{type:Object},translation:{type:Object},isRtl:{type:Boolean},mondayFirst:{type:Boolean},useUtc:{type:Boolean},minimumView:{type:String,default:"day"},maximumView:{type:String,default:"year"},preventDisableDateSelection:{type:Boolean,default:!0},theme:{default:"green",type:String}},emits:["show-year-calendar","changed-month","show-month-calendar","selected-disabled","select-date"],setup(t,{emit:e}){function n(R){R.isDisabled?(e("selected-disabled",R),t.preventDisableDateSelection||e("select-date",R)):e("select-date",R)}function s(){e("show-month-calendar")}function i(){e("show-year-calendar")}function o(R){const j=t.pageDate;ob(j,dt(j)+R),e("changed-month",j)}function r(){const R=t.disabledDates;if(!R||!R.to)return!1;const j=t.pageDate;return dt(R.to)>=dt(j)&&Ie(R.to)>=Ie(j)}function a(){r()||o(-1)}function l(){const R=t.disabledDates;if(!R||!R.from)return!1;const j=t.pageDate;return dt(R.from)<=dt(j)&&Ie(R.from)<=Ie(j)}function c(){l()||o(1)}function u(R){const j=Es(t.selectedDate);return t.selectedDate?Cc(j,R):!1}function d(R){let j=!1;const Y=t.disabledDates;return Y?typeof Y>"u"?!1:(typeof Y.dates<"u"&&Y.dates.forEach(oe=>{Cc(R,oe)&&(j=!0)}),typeof Y.to<"u"&&Y.to&&R<Y.to&&(j=!0),typeof Y.from<"u"&&Y.from&&R>Y.from&&(j=!0),typeof Y.days<"u"&&Y.days.indexOf(_s(R))!==-1&&(j=!0),typeof Y.daysOfMonth<"u"&&Y.daysOfMonth.indexOf(En(R))!==-1&&(j=!0),typeof Y.customPredictor=="function"&&Y.customPredictor(R)&&(j=!0),j):j}function h(R){return typeof R<"u"&&R}function f(R){const j=t.highlighted;if(!(j&&j.includeDisabled)&&d(R))return!1;let Y=!1;return typeof j>"u"?!1:(typeof j.dates<"u"&&j.dates.forEach(oe=>{Cc(R,oe)&&(Y=!0)}),h(j.from)&&h(j.to)&&(Y=R>=j.from&&R<=j.to),typeof j.days<"u"&&j.days.indexOf(_s(R))!==-1&&(Y=!0),typeof j.daysOfMonth<"u"&&j.daysOfMonth.indexOf(En(R))!==-1&&(Y=!0),typeof j.customPredictor=="function"&&j.customPredictor(R)&&(Y=!0),Y)}function p(R){return{selected:R.isSelected,disabled:R.isDisabled,highlighted:R.isHighlighted,today:R.isToday,weekend:R.isWeekend,sat:R.isSaturday,sun:R.isSunday,"highlight-start":R.isHighlightStart,"highlight-end":R.isHighlightEnd}}function g(R){const j=t.highlighted;return j?f(R)&&j.from instanceof Date&&Ie(j.from)===Ie(R)&&dt(j.from)===dt(R)&&En(j.from)===En(R):!1}function _(R){const j=t.highlighted;return j?f(R)&&j.to instanceof Date&&Ie(j.to)===Ie(R)&&dt(j.to)===dt(R)&&En(j.to)===En(R):!1}const b=W(()=>{if(t.mondayFirst){const R=t.translation&&t.translation.days&&t.translation.days.slice();return R.push(R.shift()),R}return t.translation&&t.translation.days}),x=W(()=>{const R=t.pageDate,j=t.useUtc?new Date(Date.UTC(R.getUTCFullYear(),R.getUTCMonth(),1)):new Date(R.getFullYear(),R.getMonth(),1,R.getHours(),R.getMinutes());return t.mondayFirst?_s(j)>0?_s(j)-1:6:_s(j)}),$=W(()=>{const R=t.pageDate,j=[],Y=t.useUtc?new Date(Date.UTC(R.getUTCFullYear(),R.getUTCMonth(),1)):new Date(R.getFullYear(),R.getMonth(),1,R.getHours(),R.getMinutes()),oe=VP(Ie(Y),dt(Y));for(let pe=0;pe<oe;pe+=1)j.push({date:En(Y),timestamp:Y.getTime(),isSelected:u(Y),isDisabled:d(Y),isHighlighted:f(Y),isHighlightStart:g(Y),isHighlightEnd:_(Y),isToday:Cc(Y,new Date),isWeekend:_s(Y)===0||_s(Y)===6,isSaturday:_s(Y)===6,isSunday:_s(Y)===0}),eu(Y,En(Y)+1);return j}),S=W(()=>{const R=t.fullMonthName?t.translation&&t.translation.months:t.translation&&t.translation.monthsAbbr;return bd(dt(t.pageDate),R)}),C=W(()=>{const R=t.translation&&t.translation.months;return yl(dt(t.pageDate),R)}),T=W(()=>{const R=t.translation&&t.translation.yearSuffix;return`${Ie(t.pageDate)}${R}`}),L=W(()=>(t.translation&&t.translation.ymd&&t.translation&&t.translation.ymd)===!0),E=W(()=>t.isRtl?l():r()),q=W(()=>t.isRtl?r():l()),ee=W(()=>{const R=Es(t.selectedDate);return t.selectedDate?vd(R,t.translation&&t.translation.daysNames):null}),ie=W(()=>{const R=Es(t.selectedDate);return t.selectedDate?En(R):null}),X=W(()=>!(t.minimumView===t.maximumView&&(t.minimumView!=="day"||t.maximumView!=="day")));return{isDefined:h,showMonthCalendar:s,daysOfWeek:b,blankDays:x,isYmd:L,days:$,currMonthName:S,currYearName:T,isLeftNavDisabled:E,isRightNavDisabled:q,selectDate:n,previousMonth:a,nextMonth:c,dayClasses:p,monthName:C,getDayName:ee,getDisplayDate:ie,showYearCalendar:i,isNextMonthDisabled:l,ifDifferentViews:X,isSelectedDate:u,isDisabledDate:d,isHighlightedDate:f,isHighlightStart:g,isHighlightEnd:_}}}),tN={key:0,class:"vuejs3-datepicker__calendar-topbar"},nN={key:0,class:"vuejs3-datepicker__calendar-topbar-day"},sN={class:"vuejs3-datepicker__calendar-actionarea"},iN=["innerHTML","onClick"];function oN(t,e,n,s,i,o){return Ee((w(),k("div",{class:_e(["vuejs3-datepicker__calendar",`vuejs3-${t.theme}`,t.calendarClass]),style:wn(t.calendarStyle),onMousedown:e[4]||(e[4]=Vt(()=>{},["prevent"]))},[Ge(t.$slots,"customCalendarHeader"),t.ifDifferentViews&&t.selectedDate?(w(),k("section",tN,[m("p",{class:"vuejs3-datepicker__calendar-topbar-year",onClick:e[0]||(e[0]=(...r)=>t.showYearCalendar&&t.showYearCalendar(...r))},F(t.currYearName),1),Ge(t.$slots,"formatDateTopBar",{},()=>[t.selectedDate?(w(),k("p",nN,F(t.getDayName)+" "+F(t.getDisplayDate)+" "+F(t.monthName),1)):B("",!0)])])):B("",!0),m("div",sN,[m("header",null,[m("span",{onClick:e[1]||(e[1]=r=>t.isRtl?t.nextMonth():t.previousMonth()),class:_e(["prev",{disabled:t.isLeftNavDisabled}])},"<",2),m("span",{class:_e(["day__month_btn",t.allowedToShowView("month")?"up":""]),onClick:e[2]||(e[2]=(...r)=>t.showMonthCalendar&&t.showMonthCalendar(...r))},F(t.isYmd?t.currYearName:t.currMonthName)+" "+F(t.isYmd?t.currMonthName:t.currYearName),3),m("span",{onClick:e[3]||(e[3]=r=>t.isRtl?t.previousMonth():t.nextMonth()),class:_e(["next",{disabled:t.isRightNavDisabled}])},">",2)]),m("div",{class:_e(t.isRtl?"flex-rtl":"")},[(w(!0),k(he,null,Le(t.daysOfWeek,r=>(w(),k("span",{class:"cell day-header",key:r.timestamp},F(r),1))),128)),t.blankDays>0?(w(!0),k(he,{key:0},Le(t.blankDays,r=>(w(),k("span",{class:"cell day blank",key:r.timestamp}))),128)):B("",!0),(w(!0),k(he,null,Le(t.days,r=>(w(),k("span",{class:_e(["cell day",t.dayClasses(r)]),key:r.timestamp,innerHTML:t.dayCellContent(r),onClick:a=>t.selectDate(r)},null,10,iN))),128))],2)])],38)),[[di,t.showDayView]])}const rN=Zr(eN,[["render",oN]]),aN=H({name:"PickerMonth",props:{showMonthView:{type:Boolean},selectedDate:{type:[String,Date],required:!1,default:null},pageDate:{type:Date,default:new Date},disabledDates:{type:Object},calendarClass:{type:[String,Object,Array]},calendarStyle:{type:Object},translation:{type:Object},isRtl:{type:Boolean},allowedToShowView:{type:Function,required:!0},useUtc:{type:Boolean},fullMonthName:{type:Boolean},minimumView:{type:String,default:"day"},maximumView:{type:String,default:"year"},theme:{default:"green",type:String}},setup(t,{emit:e}){function n(C){C.isDisabled||e("select-month",C)}function s(C){const T=t.pageDate;Qf(T,Ie(T)+C),e("changed-year",T)}function i(){const C=t.disabledDates;return!C||!C.to?!1:Ie(C.to)>=Ie(t.pageDate)}function o(){i()||s(-1)}function r(){const C=t.disabledDates;return!C||!C.from?!1:Ie(C.from)<=Ie(t.pageDate)}function a(){r()||s(1)}function l(){e("show-year-calendar")}function c(C){const T=Es(t.selectedDate);return T&&Ie(T)===Ie(C)&&dt(T)===dt(C)}function u(C){let T=!1;const L=t.disabledDates;return!L||typeof L>"u"?!1:(typeof L.to<"u"&&L.to&&(dt(C)<dt(L.to)&&Ie(C)<=Ie(L.to)||Ie(C)<Ie(L.to))&&(T=!0),typeof L.from<"u"&&L.from&&(dt(C)>dt(L.from)&&Ie(C)>=Ie(L.from)||Ie(C)>Ie(L.from))&&(T=!0),typeof L.customPredictor=="function"&&L.customPredictor(C)&&(T=!0),T)}const d=W(()=>{const C=t.pageDate,T=[],L=t.useUtc?new Date(Date.UTC(C.getUTCFullYear(),0,C.getUTCDate())):new Date(C.getFullYear(),0,C.getDate(),C.getHours(),C.getMinutes());for(let E=0;E<12;E+=1)T.push({month:yl(E,t.translation&&t.translation.months),timestamp:L.getTime(),isSelected:c(L),isDisabled:u(L)}),ob(L,dt(L)+1);return T}),h=W(()=>{const C=t.translation&&t.translation.yearSuffix;return`${Ie(t.pageDate)}${C}`}),f=W(()=>t.isRtl?r():i()),p=W(()=>t.isRtl?i():r()),g=W(()=>{const C=t.translation&&t.translation.months;return yl(dt(t.pageDate),C)}),_=W(()=>{const C=Es(t.selectedDate);return t.selectedDate?En(C):null}),b=W(()=>{const C=Es(t.selectedDate);return t.selectedDate?vd(C,t.translation&&t.translation.daysNames):null}),x=W(()=>{const C=t.translation&&t.translation.yearSuffix;return`${Ie(t.pageDate)}${C}`}),$=W(()=>{const C=t.fullMonthName?t.translation&&t.translation.months:t.translation&&t.translation.monthsAbbr;return bd(dt(t.pageDate),C)}),S=W(()=>!(t.minimumView===t.maximumView&&(t.minimumView!=="day"||t.maximumView!=="day")));return{isRightNavDisabled:p,isLeftNavDisabled:f,pageYearName:h,months:d,selectMonth:n,previousYear:o,nextYear:a,currYearName:x,getDisplayDate:_,monthName:g,showYearCalendar:l,getDayName:b,currMonthName:$,ifDifferentViews:S,isSelectedMonth:c,isDisabledMonth:u}}}),lN={key:0,class:"vuejs3-datepicker__calendar-topbar"},cN={key:0,class:"vuejs3-datepicker__calendar-topbar-day"},uN={class:"vuejs3-datepicker__calendar-actionarea"},dN=["onClick"];function hN(t,e,n,s,i,o){return Ee((w(),k("div",{class:_e(["vuejs3-datepicker__calendar",`vuejs3-${t.theme}`,t.calendarClass]),style:wn(t.calendarStyle),onMousedown:e[4]||(e[4]=Vt(()=>{},["prevent"]))},[Ge(t.$slots,"customCalendarHeader"),t.ifDifferentViews?(w(),k("section",lN,[m("p",{class:"vuejs3-datepicker__calendar-topbar-year",onClick:e[0]||(e[0]=(...r)=>t.showYearCalendar&&t.showYearCalendar(...r))},F(t.currYearName),1),Ge(t.$slots,"formatDateTopBar",{},()=>[t.selectedDate?(w(),k("p",cN,F(t.getDayName)+" "+F(t.getDisplayDate)+" "+F(t.monthName),1)):B("",!0)])])):B("",!0),m("div",uN,[m("header",null,[m("span",{onClick:e[1]||(e[1]=r=>t.isRtl?t.nextYear():t.previousYear()),class:_e(["prev",{disabled:t.isLeftNavDisabled}])},"<",2),m("span",{class:_e(["month__year_btn",t.allowedToShowView("year")?"up":""]),onClick:e[2]||(e[2]=(...r)=>t.showYearCalendar&&t.showYearCalendar(...r))},F(t.pageYearName),3),m("span",{onClick:e[3]||(e[3]=r=>t.isRtl?t.previousYear():t.nextYear()),class:_e(["next",{disabled:t.isRightNavDisabled}])},">",2)]),(w(!0),k(he,null,Le(t.months,r=>(w(),k("span",{class:_e(["cell month",{selected:r.isSelected,disabled:r.isDisabled}]),key:r.timestamp,onClick:Vt(a=>t.selectMonth(r),["stop"])},F(r.month),11,dN))),128))])],38)),[[di,t.showMonthView]])}const fN=Zr(aN,[["render",hN]]),pN=H({name:"PickerYear",props:{showYearView:{type:Boolean},selectedDate:{type:[String,Date],required:!1,default:null},pageDate:{type:Date,default:new Date},disabledDates:{type:Object},highlighted:{type:Object},calendarClass:{type:[String,Object,Array]},calendarStyle:{type:Object},translation:{type:Object},isRtl:{type:Boolean},allowedToShowView:{type:Function,required:!0},useUtc:{type:Boolean},fullMonthName:{type:Boolean},minimumView:{type:String,default:"day"},maximumView:{type:String,default:"year"},theme:{default:"green",type:String}},emits:["select-year","changed-decade"],setup(t,{emit:e}){function n(S){S.isDisabled||e("select-year",S)}function s(S){const C=t.pageDate;Qf(C,Ie(C)+S),e("changed-decade",C)}function i(){const S=t.disabledDates;if(!S||!S.to)return!1;const C=Ie(S.to),T=Math.floor(Ie(t.pageDate)/10)*10-1;return C>T}function o(){i()||s(-10)}function r(){const S=t.disabledDates;if(!S||!S.from)return!1;const C=Ie(S.from),T=Math.ceil(Ie(t.pageDate)/10)*10;return C<=T}function a(){r()||s(10)}function l(S){const C=Es(t.selectedDate);return t.selectedDate?Ie(C)===Ie(S):!1}function c(S){let C=!1;return typeof t.disabledDates>"u"||!t.disabledDates?!1:(typeof t.disabledDates.to<"u"&&t.disabledDates.to&&Ie(S)<Ie(t.disabledDates.to)&&(C=!0),typeof t.disabledDates.from<"u"&&t.disabledDates.from&&Ie(S)>Ie(t.disabledDates.from)&&(C=!0),typeof t.disabledDates.customPredictor=="function"&&(C=t.disabledDates.customPredictor(S)),C)}const u=W(()=>{const S=t.pageDate,C=[],T=t.useUtc?new Date(Date.UTC(Math.floor(S.getUTCFullYear()/10)*10,S.getUTCMonth(),S.getUTCDate())):new Date(Math.floor(S.getFullYear()/10)*10,S.getMonth(),S.getDate(),S.getHours(),S.getMinutes());for(let L=0;L<10;L+=1)C.push({year:Ie(T),timestamp:T.getTime(),isSelected:l(T),isDisabled:c(T)}),Qf(T,Ie(T)+1);return C}),d=W(()=>{const S=Math.floor(Ie(t.pageDate)/10)*10,C=S+9,T=t.translation&&t.translation.yearSuffix;return`${S} - ${C}${T}`}),h=W(()=>t.isRtl?r():i()),f=W(()=>t.isRtl?i():r()),p=W(()=>{const S=Es(t.selectedDate);return t.selectedDate?vd(S,t.translation&&t.translation.daysNames):null}),g=W(()=>{const S=t.translation&&t.translation.months;return yl(dt(t.pageDate),S)}),_=W(()=>{const S=Es(t.selectedDate);return t.selectedDate?En(S):null}),b=W(()=>{const S=t.translation&&t.translation.yearSuffix;return`${Ie(t.pageDate)}${S}`}),x=W(()=>{const S=t.fullMonthName?t.translation&&t.translation.months:t.translation&&t.translation.monthsAbbr;return bd(dt(t.pageDate),S)}),$=W(()=>!(t.minimumView===t.maximumView&&(t.minimumView!=="day"||t.maximumView!=="day")));return{isRightNavDisabled:f,isLeftNavDisabled:h,getPageDecade:d,years:u,nextDecade:a,previousDecade:o,selectYear:n,getDayName:p,monthName:g,getDisplayDate:_,currYearName:b,currMonthName:x,ifDifferentViews:$,isNextDecadeDisabled:r,isPreviousDecadeDisabled:i,isDisabledYear:c}}}),mN={key:0,class:"vuejs3-datepicker__calendar-topbar"},gN={class:"vuejs3-datepicker__calendar-topbar-year"},_N={key:0,class:"vuejs3-datepicker__calendar-topbar-day"},vN={class:"vuejs3-datepicker__calendar-actionarea"},bN=["onClick"];function yN(t,e,n,s,i,o){return Ee((w(),k("div",{class:_e(["vuejs3-datepicker__calendar",`vuejs3-${t.theme}`,t.calendarClass]),style:wn(t.calendarStyle),onMousedown:e[2]||(e[2]=Vt(()=>{},["prevent"]))},[Ge(t.$slots,"customCalendarHeader"),t.ifDifferentViews&&t.selectedDate?(w(),k("section",mN,[m("p",gN,F(t.currYearName),1),Ge(t.$slots,"formatDateTopBar",{},()=>[t.selectedDate?(w(),k("p",_N,F(t.getDayName)+" "+F(t.getDisplayDate)+" "+F(t.monthName),1)):B("",!0)])])):B("",!0),m("div",vN,[m("header",null,[m("span",{onClick:e[0]||(e[0]=r=>t.isRtl?t.nextDecade():t.previousDecade()),class:_e(["prev",{disabled:t.isLeftNavDisabled}])},"<",2),m("span",null,F(t.getPageDecade),1),m("span",{onClick:e[1]||(e[1]=r=>t.isRtl?t.previousDecade():t.nextDecade()),class:_e(["next",{disabled:t.isRightNavDisabled}])},">",2)]),(w(!0),k(he,null,Le(t.years,r=>(w(),k("span",{class:_e(["cell year",{selected:r.isSelected,disabled:r.isDisabled}]),key:r.timestamp,onClick:Vt(a=>t.selectYear(r),["stop"])},F(r.year),11,bN))),128))])],38)),[[di,t.showYearView]])}const wN=Zr(pN,[["render",yN]]),xN=()=>{const t="العربية";return{months:["كانون الثاني","شباط","آذار","نيسان","ايار","حزيران","تموز","آب","أيلول","تشرين الاول","تشرين الثاني","كانون الاول"],monthsAbbr:["كانون الثاني","شباط","آذار","نيسان","ايار","حزيران","تموز","آب","أيلول","تشرين الاول","تشرين الثاني","كانون الاول"],days:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"],language:t,yearSuffix:"",ymd:!1,rtl:!0,langName:t,daysNames:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"]}},kN=()=>{const t="Afrikaans",e=["Januarie","Februarie","Maart","April","Mei","Junie","Julie","Augustus","September","Oktober","November","Desember"],n=["Jan","Feb","Mrt","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Des"],s=["So.","Ma.","Di.","Wo.","Do.","Vr.","Sa."];return{months:e,monthsAbbr:n,days:s,yearSuffix:"",ymd:!1,rtl:!1,language:t,langName:t,daysNames:s}},SN=()=>{const t="German";return{months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthsAbbr:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],days:["So","Mo","Di","Mi","Do","Fr","Sa"],language:t,yearSuffix:"",ymd:!1,rtl:!1,langName:t,daysNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]}},$N=()=>{const t="English";return{months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],language:t,yearSuffix:"",ymd:!1,rtl:!1,langName:t,daysNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},CN=()=>{const t="Español";return{months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthsAbbr:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],days:["Dom","Lun","Mar","Mie","Jue","Vie","Sab"],language:t,yearSuffix:"",ymd:!1,rtl:!1,langName:t,daysNames:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"]}},AN=()=>{const t="Français";return{months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],monthsAbbr:["Jan","Fév","Mar","Avr","Mai","Jui","Juil","Aoû","Sep","Oct","Nov","Déc"],days:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],language:t,yearSuffix:"",ymd:!1,rtl:!1,langName:t,daysNames:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"]}},MN=()=>{const t="Hindi";return{months:["जनवरी","फ़रवरी","मार्च","अप्रैल","मई","जून","जुलाई","अगस्त","सितंबर","अक्टूबर","नवंबर","दिसंबर"],monthsAbbr:["जन","फ़र","मार्च","अप्रै","मई","जून","जुला","अगस्त","सितं","अक्टू","नवं","दिसं"],days:["रवि","सोम","मंगल","बुध","गुरु","शुक्र","शनि"],language:t,yearSuffix:"",ymd:!1,rtl:!1,langName:t,daysNames:["रविवार","सोमवार","मंगलवार","बुधवार","गुरुवार","शुक्रवार","शनिवार"]}},EN=()=>{const t="Japanese";return{months:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],monthsAbbr:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],days:["日","月","火","水","木","金","土"],language:t,yearSuffix:"",ymd:!1,rtl:!1,langName:t,daysNames:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"]}},TN=()=>{const t="Dutch",e=["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],n=["jan.","feb.","mrt.","apr.","mei","juni","juli","aug.","sep.","okt.","nov.","dec."],s=["zo.","ma.","di.","wo.","do.","vr.","za."];return{months:e,monthsAbbr:n,days:s,yearSuffix:"",ymd:!1,rtl:!1,langName:t,language:t,daysNames:s}},LN=()=>{const t="Português";return{months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthsAbbr:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],days:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"],language:t,yearSuffix:"",ymd:!1,rtl:!1,langName:t,daysNames:["Domingo","Segunda-Feira","Terça-Feira","Quarta-Feira","Quinta-Feira","Sexta-Feira","Sábado"]}},ON=()=>{const t="Italian";return{months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthsAbbr:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],days:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],language:t,yearSuffix:"",ymd:!1,rtl:!1,langName:t,daysNames:["Domenica","Lunedì","Martedì","Mercoledì","Gioved","Venerdì","Sabato"]}},DN=()=>{const t="Polish";return{months:["Styczeń","Luty","Marzec","Kwiecień","Maj","Czerwiec","Lipiec","Sierpień","Wrzesień","Październik","Listopad","Grudzień"],monthsAbbr:["Sty","Lut","Mar","Kwi","Maj","Cze","Lip","Sie","Wrz","Paź","Lis","Gru"],days:["Nd","Pn","Wt","Śr","Cz","Pt","So"],language:t,yearSuffix:"",ymd:!1,rtl:!1,langName:t,daysNames:["Niedziela","Poniedziałek","Wtorek","Środa","Czwartek","Piątek","Sobota"]}},IN=()=>{const t="Russian";return{months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthsAbbr:["Янв.","Фев.","Мар.","Апр.","Май","Июн.","Июл.","Авг.","Сен.","Окт.","Ноя.","Дек."],days:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],language:t,yearSuffix:"",ymd:!1,rtl:!1,langName:t,daysNames:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"]}},RN=()=>{const t="Türkçe";return{months:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],monthsAbbr:["Oca","Şub","Mar","Nis"," May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],days:["Pzt","Sal","Çar","Per","Cum","Cmt","Pzr"],language:t,yearSuffix:"",ymd:!1,rtl:!1,langName:t,daysNames:["Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi","Pazar"]}},PN=()=>{const t="Vietnamese";return{months:["Tháng 1","Tháng 2","Tháng 3","Tháng 4","Tháng 5","Tháng 6","Tháng 7","Tháng 8","Tháng 9","Tháng 10","Tháng 11","Tháng 12"],monthsAbbr:["Tháng 1","Tháng 2","Tháng 3","Tháng 4","Tháng 5","Tháng 6","Tháng 7","Tháng 8","Tháng 9","Tháng 10","Tháng 11","Tháng 12"],days:["CN","H","B","T","N","S","B"],language:t,yearSuffix:"",ymd:!1,rtl:!1,langName:t,daysNames:["CN","Thứ Hai","Thứ Ba","Thứ Tư","Thứ Năm","Thứ Sáu","Thứ Bảy"]}},NN=()=>{const t="Bulgarian";return{months:["Януари","Февруари","Март","Април","Май","Юни","Юли","Август","Септември","Октомври","Ноември","Декември"],monthsAbbr:["Яну","Фев","Мар","Апр","Май","Юни","Юли","Авг","Сеп","Окт","Ное","Дек"],days:["Нд","Пн","Вт","Ср","Чт","Пт","Сб"],language:t,yearSuffix:"",ymd:!1,rtl:!1,langName:t,daysNames:["Неделя","Понеделник","Вторник","Сряда","Четвъртък","Петък","Събота"]}},VN=()=>{const t="Arabic-Tunisia",e=["جانفي","فيفري","مارس","أفريل","ماي","جوان","جويلية","أوت","سبتمبر","أكتوبر","نوفمبر","ديسمبر"];return{months:e,monthsAbbr:e,days:["أحد","أثنين","ثلاثاء","أربعاء","خميس","جمعة","سبت"],language:t,yearSuffix:"",ymd:!1,rtl:!0,langName:t,daysNames:["الأحد","الإثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"]}},zN=()=>{const t="Indonesia";return{months:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","Nopember","Desember"],monthsAbbr:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agt","Sep","Okt","Nop","Des"],days:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],language:t,yearSuffix:"",ymd:!1,rtl:!1,langName:t,daysNames:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"]}},BN=()=>{const t="kr";return{months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],monthsAbbr:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],days:["월요일","화요일","수요일","목요일","금요일","토요일","일요일"],language:t,yearSuffix:"",ymd:!1,rtl:!1,langName:t,daysNames:["월요일","화요일","수요일","목요일","금요일","토요일","일요일"]}},UN=()=>{const t="繁體中文";return{months:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],monthsAbbr:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],days:["日","一","二","三","四","五","六"],language:t,yearSuffix:"",ymd:!1,rtl:!1,langName:t,daysNames:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]}},FN={ar:xN(),af:kN(),arTn:VN(),hi:MN(),ja:EN(),de:SN(),en:$N(),es:CN(),fr:AN(),nl:TN(),pt:LN(),it:ON(),pl:DN(),ru:IN(),tr:RN(),zh_TW:UN(),vn:PN(),bg:NN(),kr:BN(),id:zN()},qN=H({name:"Datepicker",components:{DateInput:QP,PickerDay:rN,PickerMonth:fN,PickerYear:wN},directives:{clickoutside:EP},props:{modelValue:{type:[Date,String,Number]},value:{type:[Date,String,Number]},format:{type:[String,Function],default:"dd MMM yyyy"},language:{type:String,default:"en"},openDate:{validator:t=>UP(t),type:Date,default:new Date},minimumView:{type:String,default:"day"},maximumView:{type:String,default:"year"},name:{type:String},id:{type:String},dayCellContent:{type:Function},fullMonthName:{type:Boolean},disabledDates:{type:Object},highlighted:{type:Object},placeholder:{type:String},inline:{type:Boolean},calendarClass:{type:[String,Object,Array]},inputClass:{type:[String,Object,Array]},wrapperClass:{type:[String,Object,Array]},mondayFirst:{type:Boolean},clearButton:{type:Boolean},clearButtonIcon:{type:String},calendarButton:{type:Boolean},calendarButtonIcon:{type:String},calendarButtonIconContent:{type:String},addBootstrapClass:{type:Boolean},initialView:{type:String},disabled:{type:Boolean},required:{type:Boolean},typeable:{type:Boolean},useUtc:{type:Boolean},hideInput:{type:Boolean,default:!0},preventDisableDateSelection:{type:Boolean,default:!0},iconColor:{default:"black",type:String},iconHeight:{default:16,type:[String,Number]},iconWidth:{default:16,type:[String,Number]},theme:{default:"green",type:String}},emits:["input","cleared","update:modelValue","closed","changed-month","changed-year","changed-day","selected","selected-disabled"],setup(t,{emit:e}){const n=new Date(t.modelValue),s=J(0),i=J(null);t.modelValue&&NP(n)&&(s.value=n.getTime(),i.value=n),t.openDate&&(s.value=eu(new Date(t.openDate),1));const o=J(!1),r=J(!1),a=J(!1),l=J(0),c=J(new Date),u=W(()=>t.initialView?t.initialView:t.minimumView),d=W(()=>new Date(s.value)),h=W(()=>FN[t.language]),f=W(()=>!!t.inline),p=W(()=>({position:f.value?"static":void 0})),g=W(()=>o.value||r.value||a.value),_=W(()=>h.value&&h.value.rtl===!0);function b(le){le||(t.openDate?le=new Date(t.openDate):le=new Date),s.value=eu(new Date(le),1)}function x(le){const ze=["day","month","year"],Ze=ze.indexOf(t.minimumView),at=ze.indexOf(t.maximumView),wt=ze.indexOf(le);return wt>=Ze&&wt<=at}function $(le){o.value=!1,r.value=!1,a.value=!1,f.value||le&&e("closed")}function S(){return x("day")?($(),o.value=!0,!0):!1}function C(){return x("month")?($(),r.value=!0,!0):!1}function T(){return x("year")?($(),a.value=!0,!0):!1}function L(){const le=u.value;if(!x(le))throw new Error(`initialView '${le}' cannot be rendered based on minimum '${t.minimumView}' and maximum '${t.maximumView}'`);switch(le){case"year":T();break;case"month":C();break;default:S();break}}function E(){return t.disabled||f.value?!1:g.value?$(!0):(L(),!0)}function q(le){const ze=new Date(le);i.value=ze,b(ze),e("selected",ze),e("update:modelValue",ze),e("input",ze)}function ee(){i.value=null,b(),e("selected",null),t.modelValue?e("update:modelValue",null):e("input",null),e("cleared")}function ie(le){q(le.timestamp),f.value||$(!0),c.value=new Date}function X(le){e("selected-disabled",le)}function R(le){const ze=new Date(le.timestamp);x("day")?(b(ze),S()):ie(le),e("changed-month",le)}function j(le){const ze=new Date(le.timestamp);x("month")?(b(ze),C()):ie(le),e("changed-year",le)}function Y(le){let ze=le;if(typeof le=="string"||typeof le=="number"){const Ze=new Date(le);ze=Number.isNaN(Ze.valueOf())?"":Ze}if(!ze){b(),i.value=null;return}i.value=ze,b(le)}function oe(le){b(le),e("changed-month",le)}function pe(le){q(le.getTime())}function Se(){t.value&&Y(t.value),f.value&&L()}function qe(){$()}return We(()=>t.modelValue,le=>{Y(le)}),We(()=>t.value,le=>{Y(le)}),We(()=>t.openDate,()=>{b()}),We(()=>t.initialView,()=>{L()}),Se(),{pageTimestamp:s,selectedDate:i,showDayView:o,showMonthView:r,showYearView:a,calendarHeight:l,resetTypedDate:c,pageDate:d,translation:h,calendarStyle:p,isOpen:g,isInline:f,isRtl:_,setTypedDate:pe,handleChangedMonthFromDayPicker:oe,selectYear:j,selectMonth:R,selectDisabledDate:X,clearDate:ee,showCalendar:E,close:$,allowedToShowView:x,showYearCalendar:T,showMonthCalendar:C,setPageDate:b,selectDate:ie,closeOnClickOutside:qe,showDayCalendar:S,computedInitialView:u,setDate:eu,setDate1:q,setValue:Y}}});function WN(t,e,n,s,i,o){const r=De("date-input"),a=De("picker-day"),l=De("picker-month"),c=De("picker-year"),u=it("clickoutside");return Ee((w(),k("div",{class:_e(["vuejs3-datepicker",[t.isRtl?"rtl":"",`vuejs3-${t.theme}`,t.wrapperClass]])},[A(r,{selectedDate:t.selectedDate,resetTypedDate:t.resetTypedDate,format:t.format,translation:t.translation,inline:t.inline,id:t.id,name:t.name,fullMonthName:t.fullMonthName,openDate:t.openDate,placeholder:t.placeholder,inputClass:t.inputClass,typeable:t.typeable,clearButton:t.clearButton,clearButtonIcon:t.clearButtonIcon,calendarButton:t.calendarButton,calendarButtonIcon:t.calendarButtonIcon,calendarButtonIconContent:t.calendarButtonIconContent,disabled:t.disabled,required:t.required,addBootstrapClass:t.addBootstrapClass,"use-utc":t.useUtc,onShowCalendar:t.showCalendar,onCloseCalendar:t.close,onTypedDate:t.setTypedDate,onClearDate:t.clearDate,minimumView:t.minimumView,maximumView:t.maximumView,hideInput:t.hideInput,iconWidth:t.iconWidth,iconHeight:t.iconHeight,iconColor:t.iconColor,theme:t.theme},{belowDate:V(()=>[Ge(t.$slots,"belowDate")]),_:3},8,["selectedDate","resetTypedDate","format","translation","inline","id","name","fullMonthName","openDate","placeholder","inputClass","typeable","clearButton","clearButtonIcon","calendarButton","calendarButtonIcon","calendarButtonIconContent","disabled","required","addBootstrapClass","use-utc","onShowCalendar","onCloseCalendar","onTypedDate","onClearDate","minimumView","maximumView","hideInput","iconWidth","iconHeight","iconColor","theme"]),t.allowedToShowView("day")?(w(),U(a,{key:0,pageDate:t.pageDate,selectedDate:t.selectedDate,showDayView:t.showDayView,fullMonthName:t.fullMonthName,allowedToShowView:t.allowedToShowView,disabledDates:t.disabledDates,highlighted:t.highlighted,calendarClass:t.calendarClass,calendarStyle:t.calendarStyle,translation:t.translation,pageTimestamp:t.pageTimestamp,isRtl:t.isRtl,mondayFirst:t.mondayFirst,dayCellContent:t.dayCellContent,onChangedMonth:t.handleChangedMonthFromDayPicker,onSelectDate:t.selectDate,onShowMonthCalendar:t.showMonthCalendar,onSelectedDisabled:t.selectDisabledDate,onShowYearCalendar:t.showYearCalendar,minimumView:t.minimumView,maximumView:t.maximumView,preventDisableDateSelection:t.preventDisableDateSelection,theme:t.theme},{customCalendarHeader:V(()=>[Ge(t.$slots,"customCalendarHeader")]),formatDateTopBar:V(()=>[Ge(t.$slots,"formatDateTopBar")]),_:3},8,["pageDate","selectedDate","showDayView","fullMonthName","allowedToShowView","disabledDates","highlighted","calendarClass","calendarStyle","translation","pageTimestamp","isRtl","mondayFirst","dayCellContent","onChangedMonth","onSelectDate","onShowMonthCalendar","onSelectedDisabled","onShowYearCalendar","minimumView","maximumView","preventDisableDateSelection","theme"])):B("",!0),t.allowedToShowView("month")?(w(),U(l,{key:1,pageDate:t.pageDate,selectedDate:t.selectedDate,showMonthView:t.showMonthView,allowedToShowView:t.allowedToShowView,disabledDates:t.disabledDates,calendarClass:t.calendarClass,calendarStyle:t.calendarStyle,translation:t.translation,isRtl:t.isRtl,"use-utc":t.useUtc,fullMonthName:t.fullMonthName,onSelectMonth:t.selectMonth,onShowYearCalendar:t.showYearCalendar,onChangedYear:t.setPageDate,minimumView:t.minimumView,maximumView:t.maximumView,theme:t.theme},{customCalendarHeader:V(()=>[Ge(t.$slots,"customCalendarHeader")]),formatDateTopBar:V(()=>[Ge(t.$slots,"formatDateTopBar")]),_:3},8,["pageDate","selectedDate","showMonthView","allowedToShowView","disabledDates","calendarClass","calendarStyle","translation","isRtl","use-utc","fullMonthName","onSelectMonth","onShowYearCalendar","onChangedYear","minimumView","maximumView","theme"])):B("",!0),t.allowedToShowView("year")?(w(),U(c,{key:2,pageDate:t.pageDate,selectedDate:t.selectedDate,showYearView:t.showYearView,allowedToShowView:t.allowedToShowView,disabledDates:t.disabledDates,calendarClass:t.calendarClass,calendarStyle:t.calendarStyle,translation:t.translation,isRtl:t.isRtl,"use-utc":t.useUtc,onSelectYear:t.selectYear,onChangedDecade:t.setPageDate,fullMonthName:t.fullMonthName,minimumView:t.minimumView,maximumView:t.maximumView,theme:t.theme},{customCalendarHeader:V(()=>[Ge(t.$slots,"customCalendarHeader")]),formatDateTopBar:V(()=>[Ge(t.$slots,"formatDateTopBar")]),_:3},8,["pageDate","selectedDate","showYearView","allowedToShowView","disabledDates","calendarClass","calendarStyle","translation","isRtl","use-utc","onSelectYear","onChangedDecade","fullMonthName","minimumView","maximumView","theme"])):B("",!0)],2)),[[u,{handler:t.inline?null:t.closeOnClickOutside}]])}const jN=Zr(qN,[["render",WN]]),HN={class:"calendar"},YN=H({__name:"calender-datepicker",props:{modelValue:{},dayFunction:{type:Function}},emits:["update:modelValue","changed-month","changed-year"],setup(t,{emit:e}){const n=t;function s({date:i,timestamp:o}){if(!n.dayFunction)return`<span class="date">${i}</span>`;const r=n.dayFunction(new Date(o));return`<span class="date">${i}</span><span class='tags'>`+r.map(a=>`<span class="tag" style="background:${a}"></span>`).join("")+"</span>"}return(i,o)=>(w(),k("div",HN,[A(v(jN),{inline:!0,"monday-first":!0,value:i.modelValue,"day-cell-content":s,onChangedMonth:o[0]||(o[0]=r=>e("changed-month",r)),onChangedYear:o[1]||(o[1]=r=>e("changed-year",r)),onSelected:o[2]||(o[2]=r=>e("update:modelValue",r))},null,8,["value"])]))}});const KN=K(YN,[["__scopeId","data-v-0bb2f39f"]]),XN={class:"calender-event-item__header"},GN={class:"calender-event-item__header__title"},JN={class:"calender-event-item__header__visibility"},ZN={class:"calender-event-item__body"},QN={class:"calender-event-item__body__description"},eV={class:"calender-event-item__body__button"},tV=H({__name:"calender-event-item",props:{title:{},description:{},date:{},visibility:{},url:{},type:{},username:{},id:{}},emits:["remove"],setup(t){const e=t,n=W(()=>{switch(e.visibility){case"all":return"Видно всем";case"private":return"Приватное событие";case"own-mentor":return"Видно только ученику и его куратору";case"all-mentors":return"Видно всем кураторам";case"own-students":return"Видно только куратору и его ученикам";default:return"Неизвестно"}});return(s,i)=>{var a;const o=E1,r=ot;return w(),k("div",{class:_e(["calender-event-item",s.type])},[m("div",XN,[m("h3",GN,F(s.title),1),m("p",JN,[A(o,{username:s.username},{default:V(()=>[Q(F(s.username),1)]),_:1},8,["username"]),Q(" - "+F(n.value),1)])]),m("div",ZN,[m("p",QN,F(s.description),1),m("div",eV,[s.url?(w(),U(r,{key:0,to:s.url},{default:V(()=>[Q(" Перейти ")]),_:1},8,["to"])):s.type==="event"&&((a=v(N).Context.User)==null?void 0:a.username)===s.username?(w(),U(r,{key:1,onClick:i[0]||(i[0]=l=>s.$emit("remove")),design:"secondary"},{default:V(()=>[Q(" Удалить ")]),_:1})):B("",!0)])])],2)}}});const nV=K(tV,[["__scopeId","data-v-019675ac"]]),sV=t=>(Re("data-v-bcaf37ac"),t=t(),Pe(),t),iV={class:"calender-event-list"},oV={class:"calender-event-list__header"},rV={class:"calender-event-list__header__title"},aV=X2('<ul class="calender-event-list__header__legend" data-v-bcaf37ac><li data-v-bcaf37ac><span class="calender-event-list__header__legend__color" style="background:var(--danger);" data-v-bcaf37ac></span> дедлайн сдачи работы </li><li data-v-bcaf37ac><span class="calender-event-list__header__legend__color" style="background:var(--lila);" data-v-bcaf37ac></span> дедлайн проверки работы </li><li data-v-bcaf37ac><span class="calender-event-list__header__legend__color" style="background:var(--success);" data-v-bcaf37ac></span> работа проверена </li><li data-v-bcaf37ac><span class="calender-event-list__header__legend__color" style="background:var(--warning);" data-v-bcaf37ac></span> работа сдана </li><li data-v-bcaf37ac><span class="calender-event-list__header__legend__color" style="background:var(--text-light);" data-v-bcaf37ac></span> другое событие </li></ul>',1),lV={class:"calender-event-list__events"},cV={key:0,class:"calender-event-list__events__empty"},uV=sV(()=>m("p",null,"Нет событий в этот день",-1)),dV=[uV],hV=H({__name:"calender-event-list",props:{date:{},events:{}},emits:["remove"],setup(t){const e=t,n=W(()=>on(e.date,{precision:"day"})),s=W(()=>e.events.filter(i=>n.value.isOnSameDay(i.date)));return(i,o)=>{const r=it("auto-animate");return w(),k("div",iV,[m("div",oV,[m("h2",rV," События "+F(n.value.toBeautiful()),1),aV]),Ee((w(),k("div",lV,[(w(!0),k(he,null,Le(s.value,a=>(w(),U(nV,Ll({key:a.id},a,{onRemove:l=>i.$emit("remove",a.id)}),null,16,["onRemove"]))),128)),s.value.length?B("",!0):(w(),k("div",cV,dV))])),[[r]])])}}});const fV=K(hV,[["__scopeId","data-v-bcaf37ac"]]),pV={class:"calender-event-form"},mV={class:"calender-event-form__header"},gV={class:"calender-event-form__header__title"},_V={class:"calender-event-form__body"},vV={class:"calender-event-form__body__form"},bV={class:"form-row"},yV={class:"form-group form-group--input"},wV={class:"form-group form-group--checkbox"},xV={class:"form-group form-group--button"},kV={class:"form-group from-group--textarea"},SV=H({__name:"calender-event-form",props:{modelValue:{},visibilityOptions:{}},emits:["update:modelValue","submit"],setup(t,{emit:e}){const n=t,s=W({get(){return n.modelValue},set(o){e("update:modelValue",o)}}),i=W(()=>on(s.value.date,{precision:"day"}).toBeautiful());return(o,r)=>{const a=qt,l=Xo,c=ot,u=Jr;return w(),k("div",pV,[m("div",mV,[m("h2",gV," Создать событие на "+F(i.value),1)]),m("div",_V,[m("div",vV,[m("div",bV,[m("div",yV,[A(a,{label:"Название",type:"text",modelValue:s.value.title,"onUpdate:modelValue":r[0]||(r[0]=d=>s.value.title=d)},null,8,["modelValue"])]),m("div",wV,[A(l,{label:"Кто может видеть?",modelValue:s.value.visibility,"onUpdate:modelValue":r[1]||(r[1]=d=>s.value.visibility=d),options:o.visibilityOptions},null,8,["modelValue","options"])]),m("div",xV,[A(c,{primary:"",onClick:r[2]||(r[2]=d=>o.$emit("submit"))},{default:V(()=>[Q(" Создать ")]),_:1})])]),m("div",kV,[A(u,{modelValue:s.value.description,"onUpdate:modelValue":r[3]||(r[3]=d=>s.value.description=d),label:"Описание"},null,8,["modelValue"])])])])])}}});const $V=K(SV,[["__scopeId","data-v-934ac4b9"]]),CV={class:"index-calender-view"},AV={class:"index-calender-view__calender"},MV={class:"index-calender-view__events"},EV={key:0,class:"index-calender-view__events__loading"},TV={key:1,class:"index-calender-view__events__inner"},LV=H({__name:"calender-view",props:{username:{}},setup(t){const e=t,n=N.Services.UI,s=N.Services.Calender,i=J(new Date),o=J(!1),r=J([]),a=J(d());We(i,()=>a.value.date=i.value),We(i,(g,_)=>l(g,_),{immediate:!0});async function l(g,_){if(!_)_=g;else if(_.getMonth()===g.getMonth())return;o.value=!0;try{const b=new Date(g.getFullYear(),g.getMonth(),0),x=new Date(g.getFullYear(),g.getMonth()+1,1),$=await s.getEvents({"filter[date]":{type:"range",value:[b,x]},"filter[username]":{type:"string",value:e.username}});r.value=$.data}catch(b){n.openErrorModal("Ошибка при получении событий",b.message)}finally{o.value=!1}}async function c(g){n.setLoading(!0);try{await s.deleteEvent(g),r.value=r.value.filter(_=>_.id!==g)}catch(_){n.openErrorModal("Ошибка при удалении события",_.message)}finally{n.setLoading(!1)}}async function u(){n.setLoading(!0);try{const g=await s.createEvent({...a.value,id:void 0});if(!g.data)throw new Error("Не удалось создать событие");r.value.push(g.data),a.value=d()}catch(g){n.openErrorModal("Ошибка при создании события",g.message)}finally{n.setLoading(!1)}}function d(){return{title:"",description:"",date:i.value,visibility:"private",type:"event",username:e.username}}function h(g){const _=on(g,{precision:"day"}),x=r.value.filter($=>_.isOnSameDay($.date)).map($=>{switch($.type){case"student-deadline":return"var(--danger)";case"mentor-deadline":return"var(--lila)";case"work-checked":return"var(--success)";case"work-made":return"var(--warning)";case"event":default:return"var(--text-light)"}});return[...new Set(x)]}const p=[{for:["admin","teacher"],value:"all",label:"Все"},{for:["mentor"],value:"own-students",label:"Мои ученики"},{for:["admin","teacher","mentor"],value:"all-mentors",label:"Все кураторы"},{for:["student"],value:"own-mentor",label:"Мой куратор"},{for:["admin","teacher","mentor","student"],value:"private",label:"Только я"}].filter(g=>g.for.includes(N.Context.User.role));return(g,_)=>{var S;const b=KN,x=as,$=it("auto-animate");return w(),k("div",CV,[m("div",AV,[A(b,{modelValue:i.value,"onUpdate:modelValue":_[0]||(_[0]=C=>i.value=C),"day-function":h},null,8,["modelValue"])]),Ee((w(),k("div",MV,[o.value?(w(),k("div",EV,[A(x,{contrast:""})])):(w(),k("div",TV,[A(fV,{date:i.value,events:r.value,onRemove:_[1]||(_[1]=C=>c(C))},null,8,["date","events"]),((S=v(N).Context.User)==null?void 0:S.username)===g.username?(w(),U($V,{key:0,modelValue:a.value,"onUpdate:modelValue":_[2]||(_[2]=C=>a.value=C),"visibility-options":v(p),onSubmit:_[3]||(_[3]=C=>u())},null,8,["modelValue","visibility-options"])):B("",!0)]))])),[[$]])])}}});const rb=K(LV,[["__scopeId","data-v-74b666ae"]]),OV=H({__name:"index-view",setup(t){return ln("Календарь"),(e,n)=>{const s=rb;return w(),U(s,{username:v(N).Context.User.username},null,8,["username"])}}}),DV={path:"/calender",name:"Календарь",component:AP,children:[{path:"",name:"Календарь",component:OV}]},IV={name:"calender",router:DV},ab=Ct("course-students-module:course-students",()=>{const t=N.Services.Course,e=N.Services.User,n=N.Services.UI,s=Dt(),i=W(()=>s.params.courseSlug),o=J(null),r=Lt(l,{immediate:!0});async function a(){n.setLoading(!0);try{const d=await t.getCourse(i.value);o.value=d.data}catch(d){n.openErrorModal("",d.message)}finally{n.setLoading(!1)}}async function l(d){var h;if(((h=N.Context.User)==null?void 0:h.role)==="teacher")try{return await e.getStudents(d)}catch{n.openErrorModal("Произошла ошибка при загрузке студентов")}}async function c(d){if(!o.value)return"Курс не найден";try{return await t.addStudentsToCourse(i.value,[d]),o.value.studentIds||(o.value.studentIds=[]),o.value.studentIds.push(d),!0}catch(h){return h.message}}async function u(d){if(!o.value)return"Курс не найден";try{if(await t.removeStudentsFromCourse(i.value,[d]),!o.value.studentIds)return!0;const h=o.value.studentIds.indexOf(d);return h!==-1&&o.value.studentIds.splice(h,1),!0}catch(h){return h.message}}return{studentSearch:r,course:o,fetchCourse:a,addStudent:c,removeStudent:u}}),RV={class:"add-students-view"},PV={class:"add-students-view__search"},NV={class:"add-students-view__table"},VV={key:0,class:"add-students-view__pagination"},zV=H({__name:"add-students-view",setup(t){const e=ab(),n=J([]),s=J([]),i=Gt([{title:"",keys:["telegramAvatarUrl","name"],type:"avatar"},{title:"Имя",value:r=>{const a=r.name;return r.verificationToken?`<span title="Пользователь не подтвержден">⛔</span> ${a}`:r.mentor&&r.role==="student"?`${a}<br><small>Куратор: ${r.mentor.name}</small>`:a},type:"text"},{title:"Никнейм",keys:["username"],type:"text"},{title:"E-mail",keys:["email"],type:"text"},{title:"",width:"200px",alignment:"stretch",value:r=>o(r.id)?"Добавлен":"Не на курсе",type:"link",design:r=>o(r.id)?"primary":"secondary",isLoading:r=>n.value.includes(r.id)||s.value.includes(r.id),action:async r=>{o(r.id)?(s.value.push(r.id),await e.removeStudent(r.id),s.value=s.value.filter(a=>a!==r.id)):(n.value.push(r.id),await e.addStudent(r.id),n.value=n.value.filter(a=>a!==r.id))}}]);function o(r){return e.course.studentIds.some(a=>a===r)}return(r,a)=>{const l=Sn,c=Rs,u=kn;return w(),k("div",RV,[m("div",PV,[A(l,{modelValue:v(e).studentSearch.pagination.search,"onUpdate:modelValue":a[0]||(a[0]=d=>v(e).studentSearch.pagination.search=d),"is-loading":v(e).studentSearch.isListLoading},null,8,["modelValue","is-loading"])]),m("div",NV,[A(c,{cols:i,data:v(e).studentSearch.results,"is-loading":v(e).studentSearch.isListLoading},null,8,["cols","data","is-loading"])]),v(e).studentSearch.pagination.page&&v(e).studentSearch.resultsMeta.total&&v(e).studentSearch.pagination.limit?(w(),k("div",VV,[A(u,{page:v(e).studentSearch.pagination.page,"onUpdate:page":a[1]||(a[1]=d=>v(e).studentSearch.pagination.page=d),total:v(e).studentSearch.resultsMeta.total,limit:v(e).studentSearch.pagination.limit},null,8,["page","total","limit"])])):B("",!0)])}}});const BV=K(zV,[["__scopeId","data-v-2c81cdb6"]]);const UV={},FV={class:"email-sync-view"};function qV(t,e){const n=Fo;return w(),k("div",FV,[A(n,null,{default:V(()=>[Q(" Coming soon ")]),_:1})])}const WV=K(UV,[["render",qV],["__scopeId","data-v-0b13ec27"]]),jV={key:0,class:"index-view"},HV={class:"index-view__header"},YV={class:"index-view__tabs"},KV=H({__name:"index-view",setup(t){const e=ab();return e.fetchCourse().then(()=>{var n;ln(`Ученики курса "${((n=e.course)==null?void 0:n.name)??"???"}"`)}),(n,s)=>{var o;const i=Ku;return v(e).course?(w(),k("div",jV,[m("div",HV,[m("h3",null,[Q(" Курс: "),m("b",null,F(v(e).course.name),1)]),m("p",null,[Q(" Всего учеников: "),m("b",null,F(((o=v(e).course.studentIds)==null?void 0:o.length)??0),1)])]),m("div",YV,[A(i,{titles:["Добавить/убрать учеников","Синхронизация через email"]},{"tab-0":V(()=>[A(BV)]),"tab-1":V(()=>[A(WV)]),_:1})])])):B("",!0)}}});const XV=K(KV,[["__scopeId","data-v-ca3262ec"]]),GV={},JV={class:"module-wrapper"};function ZV(t,e){const n=De("router-view");return w(),k("div",JV,[(w(),U(n,{key:t.$route.fullPath}))])}const QV=K(GV,[["render",ZV]]),ez={path:"/course-students",name:'Ученики курса ""',component:QV,children:[{path:":courseSlug",name:"Ученики курса",component:XV}]},tz={name:"course-students",router:ez},nz={},sz={class:"module-wrapper"};function iz(t,e){const n=De("router-view");return w(),k("div",sz,[A(n)])}const oz=K(nz,[["render",iz]]),rz=["onClick"],az=H({__name:"materials-tree",props:{data:{},nestingLevel:{default:0}},setup(t){const e=t,n=J(e.data.map(s=>({...s,opened:!1})));return We(()=>e.data,s=>{n.value=s.map(i=>({...i,opened:!1}))}),(s,i)=>{const o=Jt,r=De("materials-tree",!0),a=it("auto-animate");return w(),k("ul",{class:_e(["materials-tree",`lvl-${s.nestingLevel}`])},[(w(!0),k(he,null,Le(n.value,l=>Ee((w(),k("li",{class:_e(["materials-tree__item",{"materials-tree__item--opened":l.opened}]),key:l.id},[l.children&&l.children.length?(w(),k("span",{key:0,class:"materials-tree__opener",onClick:c=>l.opened=!l.opened}," ▼ ",8,rz)):B("",!0),(w(),U(On(l.children&&l.children.length?"span":"router-link"),{onClick:c=>l.opened=!l.opened,class:"materials-tree__item__name",to:`/courses/${s.$route.params.courseSlug}/${l.slug}`},{default:V(()=>[l.workId?(w(),U(o,{key:0,class:"materials-tree__item__name__icon",name:"uni-cap"})):B("",!0),Q(" "+F(l.name),1)]),_:2},1032,["onClick","to"])),l.children&&l.children.length&&l.opened?(w(),U(r,{key:1,data:l.children,"nesting-level":s.nestingLevel+1},null,8,["data","nesting-level"])):B("",!0)],2)),[[a]])),128))],2)}}});const lz=K(az,[["__scopeId","data-v-574b106f"]]),Bl=Ct("courses-module:course",()=>{const t=N.Services.Course,e=N.Services.AssignedWork,n=N.Services.UI,s=Dt(),i=Is(),o=J(null);o.value===null&&l();const r=W(()=>{if(s.params.slug)return c(s.params.slug)}),a=W(()=>{var d;return!o.value||!((d=o.value)!=null&&d.chapters)?[]:o.value.chapters.map(h=>({...h,materials:void 0,children:h.materials}))});async function l(){n.setLoading(!0);try{const d=await t.getCourse(s.params.courseSlug);o.value=d.data}catch{n.openErrorModal("Произошла ошибка при загрузке курса")}finally{n.setLoading(!1)}}function c(d){var f;return!o.value||!((f=o.value)!=null&&f.chapters)?void 0:o.value.chapters.flatMap(p=>p.materials).find(p=>(p==null?void 0:p.slug)===d)}async function u(){var d;if(!o.value||!r.value){n.openErrorModal("Не удалось запросить доступ к работе","Не удалось получить информацию о курсе. Возможно, курс был удален. Попробуйте обновить страницу.");return}if(((d=N.Context.User)==null?void 0:d.role)!=="student"){n.openErrorModal("Не удалось запросить доступ к работам","Только студенты могут запрашивать доступ к работе");return}n.setLoading(!0);try{const h=await e.getOrCreateAssignedWork(r.value.slug);if(!h.data)throw new Error("Не удалось получить информацию о работе");i.push(h.data.link)}catch(h){n.openErrorModal("Произошла ошибка при запросе доступа к работам",h.message)}finally{n.setLoading(!1)}}return{course:o,material:r,materialsTree:a,assignMeWork:u,fetchCourse:l,getMaterialBySlug:c}}),lb=Ct("courses-module:assign-student",()=>{var p;const t=N.Services.Course,e=N.Services.User,n=N.Services.UI,s=Bl(),{pagination:i,results:o,resultsMeta:r,isListLoading:a}=Lt(h),l=J(((p=s.course)==null?void 0:p.studentIds)||[]),c=W(()=>{var g;return(((g=s.course)==null?void 0:g.studentIds)||[]).length}),u=J(!1);We(()=>s.course,()=>{var g;l.value=((g=s.course)==null?void 0:g.studentIds)||[]});function d(g){l.value=Array.from(new Set(g))}async function h(g){var _;if(((_=N.Context.User)==null?void 0:_.role)==="teacher")try{return await e.getStudents(g)}catch{n.openErrorModal("Произошла ошибка при загрузке студентов")}}async function f(){var g;if(((g=N.Context.User)==null?void 0:g.role)==="teacher"){n.setLoading(!0);try{await t.assignStudentsToCourse(s.course.slug,l.value),n.openSuccessModal("Ученики успешно добавлены к курсу/откреплены от курса"),u.value=!1}catch(_){n.openErrorModal("Произошла ошибка при добавлении студентов к курсу",_.message)}finally{n.setLoading(!1)}}}return{pagination:i,results:o,resultsMeta:r,isListLoading:a,save:f,modalVisible:u,selectedStudentIds:l,studentsCount:c,onStudentSelected:d}}),cz=m("h3",null,"Ученики курса",-1),uz={class:"students-modal"},dz={class:"students-modal__search"},hz={class:"students-modal__list"},fz=H({__name:"assign-student-modal",setup(t){const e=lb();return(n,s)=>{const i=Sn,o=Uo,r=kn,a=$n;return w(),U(a,{visible:v(e).modalVisible,"onUpdate:visible":s[3]||(s[3]=l=>v(e).modalVisible=l),onConfirm:s[4]||(s[4]=l=>v(e).save())},{title:V(()=>[cz]),text:V(()=>[m("div",uz,[m("div",dz,[A(i,{modelValue:v(e).pagination.search,"onUpdate:modelValue":s[0]||(s[0]=l=>v(e).pagination.search=l),"is-loading":v(e).isListLoading},null,8,["modelValue","is-loading"])]),m("p",null,[Q(" Выбрано: "),m("b",null,F(v(e).selectedStudentIds.length),1)]),m("div",hz,[A(o,{items:v(e).results,"model-value":v(e).selectedStudentIds,"onUpdate:modelValue":s[1]||(s[1]=l=>v(e).onStudentSelected(l)),multiple:"","item-label-key":"name,username","item-key":"id"},null,8,["items","model-value"]),v(e).pagination.page&&v(e).pagination.limit?(w(),U(r,{key:0,page:v(e).pagination.page,"onUpdate:page":s[2]||(s[2]=l=>v(e).pagination.page=l),limit:v(e).pagination.limit,total:v(e).resultsMeta.total},null,8,["page","limit","total"])):B("",!0)])])]),_:1},8,["visible"])}}}),pz={key:0,class:"index-materials-view"},mz={class:"index-materials-view__tree"},gz={class:"index-materials-view__tree__title"},_z={key:1,class:"index-materials-view__tree__author"},vz={class:"index-materials-view__tree__author__avatar"},bz={class:"index-materials-view__tree__author__name"},yz={class:"index-materials-view__content"},wz=H({__name:"course-view",setup(t){var s;const e=Bl(),n=lb();return e.fetchCourse(),(s=e.course)!=null&&s.name&&ln(e.course.name),We(()=>e.course,()=>{var i;(i=e.course)!=null&&i.name&&ln(e.course.name)},{deep:!0,immediate:!0}),(i,o)=>{const r=De("router-link"),a=hi,l=E1,c=De("router-view"),u=fi;return w(),k(he,null,[v(e).course?(w(),k("div",pz,[A(u,null,{sidebar:V(()=>{var d;return[m("div",mz,[A(r,{class:"index-materials-view__tree__back-button",to:"/courses"},{default:V(()=>[Q(" ‹ Ко всем курсам ")]),_:1}),((d=v(N).Context.User)==null?void 0:d.role)==="teacher"?(w(),k("span",{key:0,class:"index-materials-view__tree__students",onClick:o[0]||(o[0]=h=>v(n).modalVisible=!0)}," Ученики курса ("+F(v(n).studentsCount)+") ",1)):B("",!0),m("h2",gz,F(v(e).course.name),1),v(e).course.author?(w(),k("div",_z,[m("div",vz,[A(a,{name:v(e).course.author.name,src:v(e).course.author.telegramAvatarUrl},null,8,["name","src"])]),m("div",bz,[A(l,{username:v(e).course.author.username,name:v(e).course.author.name},null,8,["username","name"])])])):B("",!0),A(lz,{data:v(e).materialsTree},null,8,["data"])])]}),content:V(()=>[m("div",yz,[(w(),U(c,{key:i.$route.fullPath}))])]),_:1})])):B("",!0),A(fz)],64)}}});const xz=K(wz,[["__scopeId","data-v-0b8ca2a6"]]),kz={class:"course-card"},Sz={class:"course-card__img"},$z={class:"course-card__img__more-widget"},Cz={class:"course-card__title"},Az={class:"course-card__description"},Mz={key:0,class:"course-card__author"},Ez={class:"course-card__author__avatar"},Tz={class:"course-card__author__name"},Lz=H({__name:"course-card",props:{image:{},title:{},author:{},showAuthor:{type:Boolean},description:{},slug:{},to:{}},setup(t){var o,r,a,l;const e=t,n=Gt([{title:"Добавить материал (Coming soon)",icon:"add",if:((o=N.Context.User)==null?void 0:o.role)==="teacher",action:()=>{}},{title:"Редактировать",icon:"edit",if:((r=N.Context.User)==null?void 0:r.role)==="teacher",action:()=>{s.push(`/create-course${e.slug}`)}},{title:"Добавить/Убрать учеников",icon:"user",if:((a=N.Context.User)==null?void 0:a.role)==="teacher"||((l=N.Context.User)==null?void 0:l.role)==="admin",action:()=>{s.push(`/course-students/${e.slug}`)}},{title:"Скопировать ссылку",icon:"copy",stayOpened:!0,action:function(c){i(c,e.slug)}}]),s=Is();function i(c,u){N3(`${N.Constants.APP_URL}/courses/${u}`),c.icon="check-green",c.title="Скопировано",setTimeout(()=>{c.icon="copy",c.title="Скопировать ссылку"},1e3)}return(c,u)=>{const d=Zu,h=De("router-link"),f=Jp,p=hi;return w(),k("div",kz,[m("div",Sz,[A(h,{class:"router-link",to:c.to},{default:V(()=>[A(d,{src:c.image,alt:"Card title"},null,8,["src"])]),_:1},8,["to"]),m("div",$z,[A(f,{items:n},null,8,["items"])])]),m("div",Cz,[A(h,{to:c.to},{default:V(()=>[Q(F(c.title),1)]),_:1},8,["to"])]),m("div",Az,F(c.description),1),c.author&&c.showAuthor?(w(),k("div",Mz,[m("div",Ez,[A(p,{name:c.author},null,8,["name"])]),m("div",Tz,[m("span",null,F(c.author),1)])])):B("",!0)])}}});const Oz=K(Lz,[["__scopeId","data-v-c8046d0d"]]),Dz=Ct("courses-module:courses",()=>{const t=N.Services.Course,e=N.Services.UI,{pagination:n,results:s,resultsMeta:i,isListLoading:o}=Lt(r);async function r(a){try{return await t.getCourses(a)}catch{e.openErrorModal("Произошла ошибка при загрузке курсов")}}return{pagination:n,results:s,resultsMeta:i,isListLoading:o}}),Iz=t=>(Re("data-v-c8bd5c5e"),t=t(),Pe(),t),Rz={class:"index-view"},Pz={class:"index-view__header"},Nz={class:"index-view__header__search"},Vz={key:0,class:"index-view__header__create"},zz={key:0,class:"row"},Bz={key:1,class:"index-view__loading"},Uz={key:2,class:"index-view__nothing-found"},Fz={class:"index-view__nothing-found__image"},qz=Iz(()=>m("p",{class:"index-view__nothing-found__text"},"Курсы не найдены",-1)),Wz={key:3,class:"index-view__pagination"},jz=H({__name:"index-view",setup(t){ln("Мои курсы");const e=Dz();return(n,s)=>{var u;const i=Sn,o=Oz,r=as,a=Xp,l=kn,c=it("auto-animate");return Ee((w(),k("div",Rz,[m("div",Pz,[m("div",Nz,[A(i,{modelValue:v(e).pagination.search,"onUpdate:modelValue":s[0]||(s[0]=d=>v(e).pagination.search=d),"is-loading":v(e).isListLoading},null,8,["modelValue","is-loading"])]),((u=v(N).Context.User)==null?void 0:u.role)==="teacher"?(w(),k("div",Vz,[A(ot,{to:"/create-course",design:"primary"},{default:V(()=>[Q(" Создать курс ")]),_:1})])):B("",!0)]),v(e).resultsMeta.total>0&&!v(e).isListLoading?Ee((w(),k("div",zz,[(w(!0),k(he,null,Le(v(e).results,d=>{var h,f;return w(),k("div",{class:"col-md-6 col-lg-4",key:d.id},[A(o,{to:`/courses/${d.slug}`,image:(h=d.images[0])==null?void 0:h.src,title:d.name,description:d.description,author:(f=d==null?void 0:d.author)==null?void 0:f.name,slug:d.slug},null,8,["to","image","title","description","author","slug"])])}),128))])),[[c]]):v(e).isListLoading?(w(),k("div",Bz,[A(r,{contrast:""})])):(w(),k("div",Uz,[m("div",Fz,[A(a,{class:"index-view__nothing-found__image__img"})]),qz])),v(e).resultsMeta.total>0&&v(e).pagination.page&&v(e).pagination.limit?(w(),k("div",Wz,[A(l,{page:v(e).pagination.page,"onUpdate:page":s[1]||(s[1]=d=>v(e).pagination.page=d),total:v(e).resultsMeta.total,limit:v(e).pagination.limit},null,8,["page","total","limit"])])):B("",!0)])),[[c]])}}});const Hz=K(jz,[["__scopeId","data-v-c8bd5c5e"]]),cb=Ct("courses-module:assign-work",()=>{var x;const t=N.Services.UI,e=N.Services.Work,n=N.Services.Course,s=Bl(),i=Dt(),{pagination:o,results:r,resultsMeta:a,isListLoading:l}=Lt(_),c=W(()=>i.params.slug),u=J([(x=s.getMaterialBySlug(c.value))==null?void 0:x.workId]);We(c,()=>{var S;if(((S=N.Context.User)==null?void 0:S.role)!=="teacher")return;const $=s.getMaterialBySlug(c.value);$&&(u.value=[$.workId],h.value=$.workCheckDeadline||d,f.value=$.workSolveDeadline||new Date,p.value=!!$.workCheckDeadline||!!$.workSolveDeadline)},{immediate:!0});const d=new Date;d.setDate(d.getDate()+3);const h=J(d),f=J(new Date),p=J(!1),g=J(!1);async function _($){var S;if(((S=N.Context.User)==null?void 0:S.role)==="teacher")try{return await e.getWorks($)}catch(C){t.openErrorModal("Произошла ошибка при загрузке работ",C.message)}}async function b(){var $;if((($=N.Context.User)==null?void 0:$.role)==="teacher"){if(u.value.length!==1||!u.value[0]){t.openWarningModal("Выберите одну работу для добавления");return}t.setLoading(!0);try{await n.assignWorkToMaterial(c.value,u.value[0],p.value?{checkDeadline:h.value,solveDeadline:f.value}:{}),t.openSuccessModal("Работа успешно добавлена к материалу"),g.value=!1}catch(S){t.openErrorModal("Произошла ошибка при добавлении работы к материалу",S.message)}finally{t.setLoading(!1)}}}return{pagination:o,results:r,resultsMeta:a,isListLoading:l,assign:b,modalVisible:g,selectedWorkId:u,checkDeadline:h,solveDeadline:f,deadlinesAvailable:p}}),P1=t=>(Re("data-v-3fe14bd4"),t=t(),Pe(),t),Yz=P1(()=>m("h3",null,"Присвоить работу",-1)),Kz={class:"assign-work-to-material-modal"},Xz={key:0},Gz={class:"assign-work-to-material-modal__search"},Jz=P1(()=>m("br",null,null,-1)),Zz={class:"assign-work-to-material-modal__list"},Qz={class:"assign-work-to-material-modal__deadline-toggle"},eB={key:1,class:"assign-work-to-material-modal__deadlines"},tB=P1(()=>m("br",null,null,-1)),nB=H({__name:"assign-work-modal",setup(t){const e=cb(),n=Bl();return(s,i)=>{const o=De("router-link"),r=Sn,a=Uo,l=kn,c=Kr,u=qt,d=Fo,h=$n,f=it("auto-animate");return w(),U(h,{visible:v(e).modalVisible,"onUpdate:visible":i[6]||(i[6]=p=>v(e).modalVisible=p),onConfirm:i[7]||(i[7]=p=>v(e).assign())},{title:V(()=>[Yz]),text:V(()=>{var p,g;return[Ee((w(),k("div",Kz,[v(e).selectedWorkId.length?(w(),k("p",Xz,[Q(" Сейчас присвоена: "),A(o,{class:"assign-work-to-material-modal__current-work-link",to:`/create-work${(g=(p=v(n).material)==null?void 0:p.work)==null?void 0:g.slug}`},{default:V(()=>{var _,b;return[Q(F((b=(_=v(n).material)==null?void 0:_.work)==null?void 0:b.name),1)]}),_:1},8,["to"])])):B("",!0),m("div",Gz,[A(r,{modelValue:v(e).pagination.search,"onUpdate:modelValue":i[0]||(i[0]=_=>v(e).pagination.search=_),"is-loading":v(e).isListLoading},null,8,["modelValue","is-loading"])]),Jz,m("div",Zz,[A(a,{modelValue:v(e).selectedWorkId,"onUpdate:modelValue":i[1]||(i[1]=_=>v(e).selectedWorkId=_),items:v(e).results,"item-label-key":"name","item-key":"id"},null,8,["modelValue","items"]),v(e).pagination.page&&v(e).pagination.limit?(w(),U(l,{key:0,page:v(e).pagination.page,"onUpdate:page":i[2]||(i[2]=_=>v(e).pagination.page=_),limit:v(e).pagination.limit,total:v(e).resultsMeta.total},null,8,["page","limit","total"])):B("",!0)]),m("div",Qz,[A(c,{type:"datetime-local",modelValue:v(e).deadlinesAvailable,"onUpdate:modelValue":i[3]||(i[3]=_=>v(e).deadlinesAvailable=_),label:"Установить дедлайны"},null,8,["modelValue"])]),v(e).deadlinesAvailable?(w(),k("div",eB,[A(u,{type:"date",modelValue:v(e).solveDeadline,"onUpdate:modelValue":i[4]||(i[4]=_=>v(e).solveDeadline=_),label:"Дедлайн решения"},null,8,["modelValue"]),A(u,{type:"date",modelValue:v(e).checkDeadline,"onUpdate:modelValue":i[5]||(i[5]=_=>v(e).checkDeadline=_),label:"Дедлайн проверки"},null,8,["modelValue"])])):B("",!0),tB,v(e).deadlinesAvailable?(w(),U(d,{key:2},{default:V(()=>[Q(" Время и дата указываются в МСК ")]),_:1})):B("",!0)])),[[f]])]}),_:1},8,["visible"])}}});const sB=K(nB,[["__scopeId","data-v-3fe14bd4"]]),iB={key:0,class:"material-view"},oB={class:"material-view__header"},rB={class:"material-view__header__title"},aB={key:0,class:"material-view__header__work-link"},lB={key:1,class:"material-view__header__work-link"},cB={key:0,class:"material-view__description"},uB=["innerHTML"],dB={key:1,class:"material-view__separator"},hB={class:"material-view__content"},fB={key:2,class:"material-view__files"},pB={key:1,class:"no-material-selected"},mB=H({__name:"material-view",setup(t){const e=Bl(),n=cb();return(s,i)=>{var c,u;const o=ot,r=Gr,a=T1,l=it("auto-animate");return w(),k(he,null,[v(e).material?Ee((w(),k("div",iB,[m("div",oB,[m("div",rB,[m("h1",null,F(v(e).material.name),1)]),v(e).material.workId&&((c=v(N).Context.User)==null?void 0:c.role)==="student"?(w(),k("div",aB,[A(o,{onClick:i[0]||(i[0]=d=>v(e).assignMeWork())},{default:V(()=>[Q(" К работе ")]),_:1})])):B("",!0),((u=v(N).Context.User)==null?void 0:u.role)==="teacher"?(w(),k("div",lB,[A(o,{onClick:i[1]||(i[1]=d=>v(n).modalVisible=!0)},{default:V(()=>[Q(F(v(e).material.work?"Поменять работу":"Присвоить работу"),1)]),_:1})])):B("",!0)]),v(e).material.description?(w(),k("div",cB,[m("div",{innerHTML:v(e).material.description},null,8,uB)])):(w(),k("div",dB)),m("div",hB,[A(r,{content:v(e).material.content},null,8,["content"])]),v(e).material.files.length?(w(),k("div",fB,[A(a,{files:v(e).material.files,label:"Файлы курса",actions:["download"]},null,8,["files"])])):B("",!0)])),[[l]]):(w(),k("p",pB," Выберите материал из дерева слева ")),A(sB)],64)}}});const gB=K(mB,[["__scopeId","data-v-04e165f4"]]),_B={path:"/courses",name:"Мои курсы",component:oz,children:[{path:"",name:"Мои курсы",component:Hz},{path:":courseSlug",name:"Курс",component:xz,children:[{path:":slug?",name:"Просмотр курса",component:gB}]}]},vB={name:"courses",router:_B},bB={},yB={class:"module-wrapper"};function wB(t,e){const n=De("router-view");return w(),k("div",yB,[A(n)])}const xB=K(bB,[["render",wB]]),kB=t=>(Re("data-v-18c94c6f"),t=t(),Pe(),t),SB={key:0,class:"entity-select-input__selected"},$B=["onClick"],CB={class:"entity-select-input__input"},AB={key:0,class:"entity-select-input__flyout__results"},MB=["onMouseenter"],EB={key:1,class:"entity-select-input__flyout__loading"},TB=kB(()=>m("span",null," Загрузка... ",-1)),LB=H({__name:"entity-select-input",props:{label:{},fetchFunction:{},maxCount:{},modelValue:{},labelKeys:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=W({get:()=>n.modelValue,set:g=>e("update:modelValue",g)}),i=Gt({input:!1,flyout:!1}),o=J(!1),r=J(null),{pagination:a,results:l,isListLoading:c}=Lt(n.fetchFunction,{immediate:!1});We(l,()=>{var g;(l.value.length===0||c.value)&&(r.value=null),r.value=((g=l.value[0])==null?void 0:g.id)||null,o.value=(i.input||i.flyout)&&a.value.search!==""},{deep:!0}),We(i,()=>{setTimeout(()=>{o.value=(i.input||i.flyout)&&a.value.search!==""},250)},{deep:!0});function u(){if(s.value.length>=n.maxCount)return;const g=l.value.find(_=>_.id===r.value);g&&(s.value=[...s.value,g],a.value.search="")}function d(g){s.value=s.value.filter((_,b)=>b!==g)}function h(){a.value.search===""&&s.value.length>0&&(s.value=s.value.slice(0,s.value.length-1))}function f(){const g=l.value.findIndex(_=>_.id===r.value);g===-1||g===l.value.length-1||(r.value=l.value[g+1].id)}function p(){const g=l.value.findIndex(_=>_.id===r.value);g===-1||g===0||(r.value=l.value[g-1].id)}return(g,_)=>{const b=as,x=it("auto-animate");return w(),k(he,null,[m("label",null,F(g.label),1),Ee((w(),k("div",{class:"entity-select-input",onFocusin:_[8]||(_[8]=$=>i.input=!0),onFocusout:_[9]||(_[9]=$=>i.input=!1)},[s.value.length?(w(),k("div",SB,[(w(!0),k(he,null,Le(s.value,($,S)=>(w(),k("span",{class:"entity-select-input__selected__item",key:S},[m("span",null,F(g.labelKeys.map(C=>$[C]).join(" / ")),1),m("b",{class:"entity-select-input__selected__item__remove",onClick:C=>d(S)}," + ",8,$B)]))),128))])):B("",!0),m("div",CB,[Ee(m("input",{type:"text","onUpdate:modelValue":_[0]||(_[0]=$=>v(a).search=$),onKeydown:[_[1]||(_[1]=Zs(Vt($=>u(),["prevent"]),["enter"])),_[2]||(_[2]=Zs($=>h(),["backspace"])),_[3]||(_[3]=Zs(Vt($=>f(),["prevent"]),["down"])),_[4]||(_[4]=Zs(Vt($=>p(),["prevent"]),["up"]))]},null,544),[[To,v(a).search]])]),o.value?(w(),k("div",{key:1,class:"entity-select-input__flyout",onFocusin:_[6]||(_[6]=$=>i.flyout=!0),onFocusout:_[7]||(_[7]=$=>i.flyout=!1)},[v(c)?(w(),k("div",EB,[A(b,{contrast:""}),TB])):(w(),k("ul",AB,[(w(!0),k(he,null,Le(v(l).slice(0,5),$=>(w(),k("li",{class:_e(["entity-select-input__flyout__results__item",{"entity-select-input__flyout__results__item--hovered":r.value===$.id}]),key:$.id,onClick:_[5]||(_[5]=S=>u()),onMouseenter:S=>r.value=$.id},F(g.labelKeys.map(S=>$[S]).join(" / ")),43,MB))),128))]))],32)):B("",!0)],32)),[[x]])],64)}}});const OB=K(LB,[["__scopeId","data-v-18c94c6f"]]),Ha=Ct("create-course-module:create-course",()=>{const t=N.Services.Course,e=N.Services.User,n=N.Services.UI,s=Dt(),i=Is(),o=()=>({name:"",description:"",chapters:[],images:[]}),r=J(o()),a=J(""),l=J(!1);async function c(){if(!s.params.courseSlug){r.value=o();return}n.setLoading(!0);try{const C=await t.getCourse(s.params.courseSlug);if(!C.data){n.openErrorModal("Курс не найден");return}r.value=C.data}catch(C){r.value=o(),n.openErrorModal("Произошла ошибка при загрузке курса",C.message)}finally{n.setLoading(!1)}}function u(){if(!a.value.trim()){n.openWarningModal("У главы должно быть название");return}r.value.chapters.push({name:a.value,slug:li(),materials:[]}),a.value=""}function d(C,T){const L=h(C);L&&(L.name=T)}function h(C){var T;return(T=r.value.chapters)==null?void 0:T.find(L=>L.slug===C)}function f(C,T){var E;const L=h(C);if(L)return T==="new"?p():(E=L==null?void 0:L.materials)==null?void 0:E.find(q=>q.slug===T)}function p(C){return{name:C||"Новый материал",slug:li(),description:"",files:[],content:{ops:[{insert:`
`}]},order:0,workSolveDeadline:void 0,workCheckDeadline:void 0}}function g(C){var T;C||(C=h(s.params.chapterSlug)),C&&C.materials.push(p(`Новый материал ${((T=C.materials)==null?void 0:T.length)||0}`))}function _(C){var L,E;const T=(L=r.value.chapters)==null?void 0:L.findIndex(q=>q.slug===C);T!==void 0&&((E=r.value.chapters)==null||E.splice(T,1))}function b(C){var E,q,ee;const T=(E=r.value.chapters)==null?void 0:E.findIndex(ie=>ie.slug===s.params.chapterSlug);if(T===void 0)return;const L=(q=r.value.chapters[T].materials)==null?void 0:q.findIndex(ie=>ie.slug===C);L!==void 0&&((ee=r.value.chapters[T].materials)==null||ee.splice(L,1))}async function x(){var C,T,L;if(!r.value.name.trim()){n.openWarningModal("У курса должно быть название");return}if(!((C=r.value.chapters)!=null&&C.length)){n.openWarningModal("Курс должен иметь хотя бы одну главу");return}for(const E of r.value.chapters){if(!E.name.trim()){n.openWarningModal("У главы должно быть название");return}if(!((T=E.materials)!=null&&T.length)){n.openWarningModal("Глава должна иметь хотя бы один материал");return}for(const q of E.materials){if(!q.name.trim()){n.openWarningModal("У материала должно быть название");return}if(!q.content.ops.length){n.openWarningModal("Материал не должен быть пустым");return}}}if(n.setLoading(!0),(L=r.value.chapters)==null||L.forEach((E,q)=>{var ee;E.materials&&(E.order=q,E.materials=(ee=E.materials)==null?void 0:ee.map((ie,X)=>({...ie,order:X})))}),s.params.courseSlug)try{await t.updateCourse(r.value.id,r.value),n.openSuccessModal("Курс успешно обновлен","",[{label:"Вернуться к списку курсов",design:"primary",handler:()=>{i.push("/courses")}}])}catch(E){n.openErrorModal("Произошла ошибка при обновлении курса",E.message)}finally{n.setLoading(!1)}else try{await t.createCourse(r.value),n.openSuccessModal("Курс успешно создан","",[{label:"Вернуться к списку курсов",design:"primary",handler:()=>{i.push("/courses")}}])}catch(E){n.openErrorModal("Произошла ошибка при создании курса",E.message)}finally{n.setLoading(!1)}}async function $(){if(!l.value){l.value=!0;return}n.setLoading(!0);try{await t.deleteCourse(r.value.id),n.openSuccessModal("Курс успешно удален","",[{label:"Вернуться к списку курсов",design:"primary",handler:()=>{i.push("/courses")}}])}catch{n.openErrorModal("Произошла ошибка при удалении курса","Для удаления курса необходимо сначала убрать всех учеников")}finally{n.setLoading(!1),l.value=!1}}async function S(C){try{return await e.getTeachers(C)}catch{n.openErrorModal("Произошла ошибка при загрузке учителей")}}return{course:r,addChapter:u,changeChapterName:d,publishCourse:x,removeCourse:$,newChapterName:a,emptyMaterial:p,getChapter:h,getMaterial:f,removeChapter:_,removeMaterial:b,addMaterial:g,removeCourseModalVisible:l,fetchCourse:c,fetchTeachers:S}}),DB=[{keys:["Ctrl","Enter"],description:"Сохранить",shortcut:["Ctrl","Enter"],handler:()=>{Ha().publishCourse()}},{keys:["Ctrl","l"],description:"Добавить главу",shortcut:["Ctrl","l"],handler:()=>{Ha().addChapter()}},{keys:["Ctrl","k"],description:"Добавить материал",shortcut:["Ctrl","k"],handler:()=>{Ha().addMaterial()}}],Qr=t=>(Re("data-v-7d54f17d"),t=t(),Pe(),t),IB={class:"index-create-course-view"},RB={class:"index-create-course-view__sidebar"},PB=Qr(()=>m("h3",{class:"index-create-course-view__sidebar__title"},"Главы",-1)),NB={class:"index-create-course-view__sidebar__chapters"},VB={class:"index-create-course-view__sidebar__chapters__item__item-title"},zB=["onDblclick"],BB={class:"icon"},UB={class:"index-create-course-view__sidebar__chapters__item__materials"},FB={class:"index-create-course-view__sidebar__chapters__item__item-title"},qB={class:"icon"},WB=["onClick"],jB=Qr(()=>m("span",{class:"index-create-course-view__sidebar__chapters__item__materials__add"}," Добавить материал ",-1)),HB=[jB],YB={class:"index-create-course-view__sidebar__add-chapter"},KB={class:"index-create-course-view__sidebar__add-chapter__input"},XB={class:"index-create-course-view__sidebar__add-chapter__button"},GB={class:"index-create-course-view__sidebar__buttons"},JB={class:"index-create-course-view__sidebar__buttons__publish"},ZB={class:"index-create-course-view__sidebar__buttons__delete"},QB={class:"index-create-course-view__course-form"},eU=Qr(()=>m("h3",{class:"index-create-course-view__course-form__title"}," Общая информация ",-1)),tU={class:"form-group"},nU={class:"form-group"},sU={class:"form-group"},iU={class:"form-group"},oU=Qr(()=>m("label",{class:"form-group__label"},"Описание курса",-1)),rU={class:"index-create-course-view__content"},aU=Qr(()=>m("h3",null,"Вы уверены, что хотите удалить курс?",-1)),lU=Qr(()=>m("p",null,"Все данные курса будут удалены безвозвратно",-1)),cU=H({__name:"index-view",setup(t){const e=Ha();e.fetchCourse(),ln("Создание/редактирование курса");const n=o=>{const r=prompt("Введите новое название главы");r&&e.changeChapterName(o,r)},s=W({get:()=>e.course.author?[e.course.author]:[],set:o=>{o.length===0&&(e.course.author=void 0),e.course.author=o[0]}}),i=ed(DB);return Ki(()=>i()),(o,r)=>{const a=Jt,l=De("router-link"),c=qt,u=ot,d=OB,h=R1,f=Jr,p=De("router-view"),g=fi,_=$n;return w(),k(he,null,[m("div",IB,[A(g,null,{sidebar:V(()=>[m("div",RB,[PB,m("ol",NB,[(w(!0),k(he,null,Le(v(e).course.chapters,b=>(w(),k("li",{class:"index-create-course-view__sidebar__chapters__item",key:b.id},[m("div",VB,[m("span",{onDblclick:x=>n(b.slug)},F(b.name),41,zB),m("span",BB,[A(a,{name:"delete",onClick:x=>v(e).removeChapter(b.slug)},null,8,["onClick"])])]),m("ul",UB,[(w(!0),k(he,null,Le(b.materials,x=>(w(),k("li",{class:"index-create-course-view__sidebar__chapters__item__materials__item",key:x.id},[m("div",FB,[A(l,{to:`/create-course${o.$route.params.courseSlug}/${b.slug}--${x.slug}`},{default:V(()=>[Q(F(x.name),1)]),_:2},1032,["to"]),m("span",qB,[A(a,{name:"delete",onClick:$=>v(e).removeMaterial(x.slug)},null,8,["onClick"])])])]))),128)),m("li",null,[m("span",{onClick:x=>v(e).addMaterial(b)},HB,8,WB)])])]))),128))]),m("div",YB,[m("div",KB,[A(c,{modelValue:v(e).newChapterName,"onUpdate:modelValue":r[0]||(r[0]=b=>v(e).newChapterName=b),label:"Название главы",type:"text"},null,8,["modelValue"])]),m("div",XB,[A(u,{design:"secondary",alignment:"stretch",onClick:v(e).addChapter},{default:V(()=>[Q(" Добавить главу ")]),_:1},8,["onClick"])])]),m("div",GB,[m("div",JB,[A(u,{design:"primary",alignment:"stretch",onClick:r[1]||(r[1]=b=>v(e).publishCourse())},{default:V(()=>[Q(F(o.$route.params.courseSlug?"Обновить":"Опубликовать"),1)]),_:1})]),m("div",ZB,[o.$route.params.courseSlug?(w(),U(u,{key:0,design:"danger",alignment:"center",onClick:r[2]||(r[2]=b=>v(e).removeCourse())},{default:V(()=>[Q(" Удалить курс ")]),_:1})):B("",!0)])])])]),content:V(()=>[m("div",QB,[eU,m("div",tU,[A(c,{modelValue:v(e).course.name,"onUpdate:modelValue":r[3]||(r[3]=b=>v(e).course.name=b),label:"Название курса",type:"text"},null,8,["modelValue"])]),m("div",nU,[A(d,{label:"Автор курса (по умолчанию - Вы)","fetch-function":v(e).fetchTeachers,"max-count":1,"label-keys":["name","username"],modelValue:s.value,"onUpdate:modelValue":r[4]||(r[4]=b=>s.value=b)},null,8,["fetch-function","modelValue"])]),m("div",sU,[A(h,{label:"Картинка курса","max-count":1,"allowed-mime-types":["image/jpeg","image/png"],modelValue:v(e).course.images,"onUpdate:modelValue":r[5]||(r[5]=b=>v(e).course.images=b)},null,8,["modelValue"])]),m("div",iU,[oU,A(f,{modelValue:v(e).course.description,"onUpdate:modelValue":r[6]||(r[6]=b=>v(e).course.description=b)},null,8,["modelValue"])])]),m("div",rU,[(w(),U(p,{key:o.$route.fullPath}))])]),_:1})]),A(_,{visible:v(e).removeCourseModalVisible,"onUpdate:visible":r[7]||(r[7]=b=>v(e).removeCourseModalVisible=b),onConfirm:r[8]||(r[8]=b=>v(e).removeCourse())},{title:V(()=>[aU]),text:V(()=>[lU]),_:1},8,["visible"])],64)}}});const uU=K(cU,[["__scopeId","data-v-7d54f17d"]]),N1=t=>(Re("data-v-b24d577b"),t=t(),Pe(),t),dU={key:0,class:"material-view"},hU={class:"material-view__title"},fU={class:"form-group"},pU={class:"form-group"},mU=N1(()=>m("label",{class:"material-view__label"},"Описание",-1)),gU={class:"form-group"},_U=N1(()=>m("label",{class:"material-view__label"},"Содержание:",-1)),vU=N1(()=>m("br",null,null,-1)),bU={class:"form-group"},yU=H({__name:"material-view",setup(t){const e=Dt(),s=Ha().getMaterial(e.params.chapterSlug,e.params.materialSlug);return(i,o)=>{const r=qt,a=Jr,l=zl,c=R1;return v(s)?(w(),k("div",dU,[m("div",hU,[m("h3",null,F(v(s).name),1)]),m("div",fU,[A(r,{type:"text",modelValue:v(s).name,"onUpdate:modelValue":o[0]||(o[0]=u=>v(s).name=u),label:"Название материала"},null,8,["modelValue"])]),m("div",pU,[mU,A(a,{modelValue:v(s).description,"onUpdate:modelValue":o[1]||(o[1]=u=>v(s).description=u)},null,8,["modelValue"])]),m("div",gU,[_U,A(l,{modelValue:v(s).content,"onUpdate:modelValue":o[2]||(o[2]=u=>v(s).content=u)},null,8,["modelValue"])]),vU,m("div",bU,[A(c,{label:"Файлы, прикрепленные к материалу","max-count":5,"allowed-mime-types":["application/pdf","image/jpeg","image/png"],"max-file-size":50*1024*1024,modelValue:v(s).files,"onUpdate:modelValue":o[3]||(o[3]=u=>v(s).files=u)},null,8,["modelValue"])])])):B("",!0)}}});const wU=K(yU,[["__scopeId","data-v-b24d577b"]]),xU={path:"/create-course:courseSlug?",name:"create-course",component:xB,children:[{path:"",name:"Создать курс",component:uU,children:[{name:"Создать материал",path:":chapterSlug--:materialSlug",component:wU}]}]},kU={name:"create-course",router:xU},SU={},$U={class:"module-wrapper"};function CU(t,e){const n=De("router-view");return w(),k("div",$U,[A(n)])}const AU=K(SU,[["render",CU]]),Ei=Ct("create-work-module:create-work",()=>{const t=N.Services.Work,e=N.Services.UI,n=Is(),s=Dt(),i=[{value:"trial-work",label:"Пробник"},{value:"mini-test",label:"Мини-зачет"},{value:"test",label:"Тест"},{value:"second-part",label:"Вторая часть"},{value:"phrase",label:"Фраза"}],o=()=>({name:"",description:"",tasks:[],type:"trial-work",solveHint:"",checkHint:""}),r=J(o()),a=W(()=>s.params.taskSlug?s.path.split("/").slice(0,-1).join("/"):s.path);async function l(){if(!s.params.workSlug){r.value=o();return}e.setLoading(!0);try{const x=await t.getWork(s.params.workSlug);if(!x.data){e.openErrorModal("Работа не найдена");return}r.value=x.data}catch{r.value=o(),e.openErrorModal("Произошла ошибка при загрузке работы")}finally{e.setLoading(!1)}}function c(){return{order:r.value.tasks.length+1,content:{ops:[{insert:`
`}]},slug:li(),highestScore:1,type:"word",solveHint:{ops:[{insert:`
`}]},checkHint:{ops:[{insert:`
`}]},checkingStrategy:"type1",rightAnswer:"",createdAt:new Date,updatedAt:new Date,workId:""}}function u(x){return r.value.tasks.find($=>$.slug===x)}function d(){r.value.tasks.push(c())}function h(x){r.value.tasks=r.value.tasks.filter($=>$.slug!==x)}function f(){var T;if(!r.value)return;const x=s.params.taskSlug,$=r.value.tasks.findIndex(L=>L.slug===x),S=(T=r.value.tasks.at($+1))==null?void 0:T.slug;if(!S)return;const C=`${a.value}/${S}`;n.push(C)}function p(){var T;if(!r.value)return;const x=s.params.taskSlug,$=r.value.tasks.findIndex(L=>L.slug===x),S=(T=r.value.tasks.at($-1))==null?void 0:T.slug;if(!S)return;const C=`${a.value}/${S}`;n.push(C)}function g(){n.push(`${a.value}/general-info`)}async function _(){const x=r.value;if(!x.name.trim()){e.openWarningModal("У работы должно быть название");return}if(!x.tasks.length){e.openWarningModal("У работы должны быть задания");return}if(e.setLoading(!0),x.tasks=x.tasks.map(($,S)=>({...$,order:S+1})),s.params.workSlug&&s.params.workSlug.length)try{await t.updateWork(r.value.id,x),n.push("/create-work/success")}catch($){e.openErrorModal("Произошла ошибка при обновлении работы",$.message)}finally{e.setLoading(!1)}else try{await t.createWork(x),n.push("/create-work/success")}catch($){e.openErrorModal("Произошла ошибка при создании работы",$.message)}finally{e.setLoading(!1)}}return{work:r,addTask:d,removeTask:h,getTask:u,submitWork:_,fetchWork:l,workTypeOptions:i,checkingStrategyOptions:[{label:"1 символ неверный: 0 б.",value:"type1"},{label:"1 символ неверный: -1 б.",value:"type2"},{label:"1 символ неверный, включая лишний/недостающий: -1 б.",value:"type3"},{label:"Последовательность",value:"type4"}],toNextTask:f,toPrevTask:p,showGeneralInfo:g}}),MU=t=>(Re("data-v-6c5dbb01"),t=t(),Pe(),t),EU={class:"general-info-view"},TU={class:"row"},LU={class:"col-md-8"},OU={class:"form-group"},DU={class:"col-md-4"},IU={class:"form-group"},RU=MU(()=>m("label",{class:"general-info-view__work-description"}," Описание работы ",-1)),PU=H({__name:"general-info-view",setup(t){const e=Ei();return(n,s)=>{const i=qt,o=Xo,r=Jr;return w(),k("div",EU,[m("div",TU,[m("div",LU,[m("div",OU,[A(i,{modelValue:v(e).work.name,"onUpdate:modelValue":s[0]||(s[0]=a=>v(e).work.name=a),label:"Название работы",type:"text"},null,8,["modelValue"])])]),m("div",DU,[A(o,{label:"Тип работы",modelValue:v(e).work.type,"onUpdate:modelValue":s[1]||(s[1]=a=>v(e).work.type=a),options:v(e).workTypeOptions},null,8,["modelValue","options"])])]),m("div",IU,[RU,A(r,{modelValue:v(e).work.description,"onUpdate:modelValue":s[2]||(s[2]=a=>v(e).work.description=a)},null,8,["modelValue"])])])}}});const NU=K(PU,[["__scopeId","data-v-6c5dbb01"]]),VU={class:"task-list"},zU={class:"task-list__items"},BU={key:0,class:"task-list__add"},UU=H({__name:"create-work-task-list",props:{modelValue:{},currentTaskId:{}},emits:["update:modelValue","create-task"],setup(t,{emit:e}){const n=t,s=W({get:()=>n.modelValue,set:i=>e("update:modelValue",i)});return(i,o)=>{const r=De("router-link"),a=it("auto-animate");return Ee((w(),k("div",VU,[m("div",zU,[(w(!0),k(he,null,Le(s.value,(l,c)=>(w(),k("div",{class:"task-list__item",key:l.id},[A(r,{to:`/create-work${i.$route.params.workSlug}/${l.slug}`},{default:V(()=>[Q(F(c+1),1)]),_:2},1032,["to"])]))),128))]),i.currentTaskId!=="new"?(w(),k("div",BU,[m("span",{onClick:o[0]||(o[0]=l=>i.$emit("create-task"))}," + Добавить вопрос ")])):B("",!0)])),[[a]])}}});const FU=K(UU,[["__scopeId","data-v-5741acfa"]]),qU=[{keys:["Ctrl","Enter"],description:"Сохранить",shortcut:["Ctrl","Enter"],handler:()=>{Ei().submitWork()}},{keys:["Ctrl","n"],description:"Добавить задание",shortcut:["Ctrl","n"],handler:()=>{Ei().addTask()}},{keys:["Ctrl","g"],description:"Общая информация",shortcut:["Ctrl","g"],handler:()=>{Ei().showGeneralInfo()}},{keys:["Ctrl","ArrowLeft"],description:"Предыдущее задание",shortcut:["Ctrl","ArrowLeft"],handler:()=>{Ei().toPrevTask()}},{keys:["Ctrl","ArrowRight"],description:"Следующее задание",shortcut:["Ctrl","ArrowRight"],handler:()=>{Ei().toNextTask()}}],ub=t=>(Re("data-v-4757910f"),t=t(),Pe(),t),WU={class:"index-create-work-view"},jU={class:"index-create-work-view__sidebar"},HU={key:0,class:"index-create-work-view__sidebar__workname"},YU=ub(()=>m("h2",{class:"index-create-work-view__sidebar__title"},"Вопросы",-1)),KU={class:"index-create-work-view__sidebar__general-info"},XU={class:"index-create-work-view__sidebar__list"},GU={key:1,class:"index-create-work-view__sidebar__create-button"},JU=ub(()=>m("br",null,null,-1)),ZU={key:2,class:"index-create-work-view__sidebar__attention"},QU={class:"index-create-work-view__content"},eF=H({__name:"index-view",setup(t){const e=Ei(),n=Dt(),s=W(()=>n.params.taskId);e.fetchWork(),ln("Создание/редактирование работы");const i=ed(qU);return Ki(()=>i()),(o,r)=>{const a=De("router-link"),l=ot,c=Fo,u=De("router-view"),d=fi;return w(),k("div",WU,[A(d,null,{sidebar:V(()=>[m("div",jU,[v(e).work.name?(w(),k("h2",HU,F(v(e).work.name),1)):B("",!0),YU,m("div",KU,[A(a,{to:`/create-work${o.$route.params.workSlug}/general-info`},{default:V(()=>[Q(" Общая информация ")]),_:1},8,["to"])]),m("div",XU,[A(FU,{modelValue:v(e).work.tasks,"onUpdate:modelValue":r[0]||(r[0]=h=>v(e).work.tasks=h),"current-task-id":s.value,onCreateTask:r[1]||(r[1]=h=>v(e).addTask())},null,8,["modelValue","current-task-id"])]),v(e).work.tasks.length!==0?(w(),k("div",GU,[A(l,{design:"primary",onClick:r[2]||(r[2]=h=>v(e).submitWork())},{default:V(()=>[Q(F(o.$route.params.workSlug&&o.$route.params.workSlug.length?"Обновить работу":"Опубликовать"),1)]),_:1})])):B("",!0),JU,v(e).work.id?(w(),k("div",ZU,[A(c,null,{default:V(()=>[Q(" При изменении работы будут изменены все её экземпляры, присвоенные ученикам ")]),_:1})])):B("",!0)])]),content:V(()=>[m("div",QU,[(w(),U(u,{key:o.$route.fullPath}))])]),_:1})])}}});const tF=K(eF,[["__scopeId","data-v-4757910f"]]);const nF={},sF={class:"success-view"};function iF(t,e){const n=ot;return w(),k("div",sF,[m("h1",null," Работа успешно "+F(t.$route.params.workSlug&&t.$route.params.workSlug.length?"обновлена":"опубликована")+"! ",1),A(n,{to:"/works",alignment:"center"},{default:V(()=>[Q(" К списку работ ")]),_:1})])}const oF=K(nF,[["render",iF],["__scopeId","data-v-8606c2b6"]]),rF=t=>(Re("data-v-7471808e"),t=t(),Pe(),t),aF={class:"task-form"},lF={class:"task-form__row"},cF={class:"task-form__col-4 form-group"},uF={class:"task-form__col-4 form-group"},dF={key:0,class:"task-form__col-4 form-group"},hF={class:"task-form__row"},fF={class:"task-form__col-12 form-group"},pF={key:0,class:"task-form__row"},mF={class:"task-form__col-12 form-group"},gF={class:"task-form__row"},_F={class:"task-form__col-12 form-group"},vF={class:"task-form__row"},bF={class:"task-form__col-12 form-group"},yF={class:"task-form__row"},wF=rF(()=>m("div",{class:"task-form__col-8 form-group"},null,-1)),xF={class:"task-form__col-4 form-group"},kF=H({__name:"create-work-task-form",props:{modelValue:{},checkingStrategyOptions:{}},emits:["update:modelValue","remove-task"],setup(t,{emit:e}){const n=t,s=W({get:()=>n.modelValue,set:o=>e("update:modelValue",o)}),i=Gt([{label:"Ответ в одну строку",value:"word"},{label:"Открытый вопрос",value:"text"}]);return(o,r)=>{const a=Xo,l=qt,c=zl,u=A1,d=ot,h=it("auto-animate");return Ee((w(),k("div",aF,[Ee((w(),k("div",lF,[m("div",cF,[A(a,{modelValue:s.value.type,"onUpdate:modelValue":r[0]||(r[0]=f=>s.value.type=f),options:i,label:"Тип задания"},null,8,["modelValue","options"])]),m("div",uF,[A(l,{modelValue:s.value.highestScore,"onUpdate:modelValue":r[1]||(r[1]=f=>s.value.highestScore=f),label:"Максимальный балл",type:"number"},null,8,["modelValue"])]),s.value.type!=="text"?(w(),k("div",dF,[A(a,{modelValue:s.value.checkingStrategy,"onUpdate:modelValue":r[2]||(r[2]=f=>s.value.checkingStrategy=f),label:"Способ проверки",options:o.checkingStrategyOptions},null,8,["modelValue","options"])])):B("",!0)])),[[h]]),m("div",hF,[m("div",fF,[A(c,{modelValue:s.value.content,"onUpdate:modelValue":r[3]||(r[3]=f=>s.value.content=f),label:"Задание"},null,8,["modelValue"])])]),["word"].includes(s.value.type)?(w(),k("div",pF,[m("div",mF,[A(u,{label:"Правильные ответы (нажмите Enter для добавления)",modelValue:s.value.rightAnswer,"onUpdate:modelValue":r[4]||(r[4]=f=>s.value.rightAnswer=f),separator:"|"},null,8,["modelValue"])])])):B("",!0),m("div",gF,[m("div",_F,[A(c,{modelValue:s.value.solveHint,"onUpdate:modelValue":r[5]||(r[5]=f=>s.value.solveHint=f),label:"Подсказка для ученика"},null,8,["modelValue"])])]),m("div",vF,[m("div",bF,[A(c,{modelValue:s.value.checkHint,"onUpdate:modelValue":r[6]||(r[6]=f=>s.value.checkHint=f),label:"Подсказка/пояснение для проверяющего (видна также ученику после проверки)"},null,8,["modelValue"])])]),m("div",yF,[wF,m("div",xF,[A(d,{design:"danger",alignment:"stretch",onClick:r[7]||(r[7]=f=>o.$emit("remove-task",s.value.id))},{default:V(()=>[Q(" Удалить задание ")]),_:1})])])])),[[h]])}}});const SF=K(kF,[["__scopeId","data-v-7471808e"]]),$F={class:"task-form-view"},CF={key:1},AF=H({__name:"task-form-view",setup(t){const e=Ei(),n=Dt(),s=W(()=>n.params.taskSlug),i=W(()=>e.getTask(s.value));return(o,r)=>(w(),k("div",$F,[i.value?(w(),U(SF,{key:0,modelValue:i.value,"onUpdate:modelValue":r[0]||(r[0]=a=>i.value=a),"checking-strategy-options":v(e).checkingStrategyOptions,onRemoveTask:r[1]||(r[1]=a=>v(e).removeTask(s.value))},null,8,["modelValue","checking-strategy-options"])):(w(),k("p",CF,"Создайте задание"))]))}});const MF=K(AF,[["__scopeId","data-v-46d07e7f"]]),EF={path:"/create-work:workSlug?",name:"Создание работы",component:AU,children:[{path:"",name:"Список заданий",component:tF,children:[{path:"general-info",name:"Общая информация",component:NU},{path:":taskSlug",name:"Список заданий",component:MF}]},{path:"success",name:"Работа создана",component:oF}]},TF={name:"create-work",router:EF},LF={},OF={class:"module-wrapper"};function DF(t,e){const n=De("router-view");return w(),k("div",OF,[(w(),U(n,{key:t.$route.fullPath}))])}const IF=K(LF,[["render",DF]]),RF={class:"poll-question"},PF={class:"poll-question__title"},NF={key:0,class:"poll-question__title__index"},VF={key:1,class:"poll-question__title__optional"},zF={key:1,class:"poll-question__description"},BF={key:2,class:"poll-question__form"},UF={key:3,class:"poll-question__form--loading"},FF=H({__name:"poll-question",props:{question:{},index:{},answer:{},readonly:{type:Boolean}},emits:["update:answer","edit"],setup(t,{emit:e}){const n=t,s=W({get:()=>n.answer,set:o=>e("update:answer",o)}),i=Tl(null);return E2(()=>{switch(n.question.type){case"date":ge(()=>import("./poll-question-date-b5d19e8f.js"),[]).then(o=>i.value=o.default);break;case"number":ge(()=>import("./poll-question-number-e5607da3.js"),[]).then(o=>i.value=o.default);break;case"choice":ge(()=>import("./poll-question-choice-60919ddf.js"),["assets/poll-question-choice-60919ddf.js","assets/poll-question-choice-db34cdca.css"]).then(o=>i.value=o.default);break;case"rating":ge(()=>import("./poll-question-rating-7ebc2488.js"),["assets/poll-question-rating-7ebc2488.js","assets/poll-question-rating-a328e2f5.css"]).then(o=>i.value=o.default);break;case"file":ge(()=>import("./poll-question-file-acf7ce1c.js"),["assets/poll-question-file-acf7ce1c.js","assets/poll-question-file-13218b62.css"]).then(o=>i.value=o.default);break;case"text":default:ge(()=>import("./poll-question-text-3646b460.js"),[]).then(o=>i.value=o.default);break}}),(o,r)=>{var c,u;const a=as,l=it("auto-animate");return Ee((w(),k("div",RF,[o.readonly&&(((c=v(N).Context.User)==null?void 0:c.role)==="teacher"||((u=v(N).Context.User)==null?void 0:u.role)==="admin")?(w(),k("span",{key:0,class:"poll-question__edit-button",onClick:r[0]||(r[0]=d=>o.$emit("edit"))}," Редактировать ")):B("",!0),m("div",PF,[m("h3",null,[o.index!==void 0?(w(),k("span",NF,F(o.index+1)+". ",1)):B("",!0),Q(" "+F(o.question.text)+" ",1),o.question.required?B("",!0):(w(),k("span",VF," Необязательно "))])]),o.question.description?(w(),k("div",zF,[m("p",null,F(o.question.description),1)])):B("",!0),i.value&&s.value?(w(),k("div",BF,[(w(),U(On(i.value),{question:o.question,readonly:o.readonly,answer:s.value,"onUpdate:answer":r[1]||(r[1]=d=>s.value=d)},null,40,["question","readonly","answer"]))])):(w(),k("div",UF,[A(a,{contrast:""})]))])),[[l]])}}});const V1=K(FF,[["__scopeId","data-v-9c3b0768"]]),qF={class:"poll-form"},WF={class:"poll-form__questions"},jF=H({__name:"poll-form",props:{questions:{},answers:{}},emits:["update:answers"],setup(t,{emit:e}){const n=t,s=W({get:()=>n.answers,set:i=>e("update:answers",i)});return(i,o)=>{const r=it("auto-animate");return w(),k("div",qF,[Ee((w(),k("div",WF,[(w(!0),k(he,null,Le(i.questions,(a,l)=>(w(),U(V1,{key:a.id,question:a,index:l,answer:s.value[l],"onUpdate:answer":c=>s.value[l]=c},null,8,["question","index","answer","onUpdate:answer"]))),128))])),[[r]])])}}});const HF=K(jF,[["__scopeId","data-v-e7804a83"]]),YF=Ct("polls-module:poll",()=>{const t=N.Services.Poll,e=N.Services.UI,n=Dt(),s=J(),i=J([]);async function o(){e.setLoading(!0);try{const b=await t.getPoll(n.params.pollId);if(!(b!=null&&b.data))throw new Error("Опрос не найден или недоступен");s.value=b.data,r(s.value.questions)}catch(b){e.openErrorModal("Произошла ошибка при получении опроса",b.message,[{label:"Назад к блогу/новостям",design:"primary",handler:()=>window.location.replace("/blog")}])}finally{e.setLoading(!1)}}function r(b){i.value=b.map(x=>a(x))}function a(b){return{id:li(),questionId:b.id,questionType:b.type,date:new Date,text:"",choices:[],rating:0,files:[],number:0}}async function l(){if(s.value){e.setLoading(!0);try{c(s.value.questions,i.value);const b=i.value.map(x=>({...x,id:void 0}));await t.saveAnswers(s.value.id,b),e.openSuccessModal("Спасибо за участие в опросе!","Ваши ответы успешно сохранены",[{label:"Назад к блогу/новостям",design:"primary",handler:()=>window.location.replace("/blog")}])}catch(b){e.openErrorModal("Произошла ошибка при сохранении ответов",b.message,[{label:"Назад к блогу/новостям",design:"primary",handler:()=>window.location.replace("/blog")}])}finally{e.setLoading(!1)}}}function c(b,x){for(const $ of b){const S=x.find(C=>C.questionId===$.id);if($.required&&!S)throw new Error(`Ответ на вопрос "${$.text}" обязателен`);if(!u($,S))throw new Error(`Ответ на вопрос "${$.text}" обязателен`)}}function u(b,x){switch(b.type){case"text":return d(b,x.text);case"choice":return f(b,x.choices);case"rating":return p(b,x.rating);case"number":return h(b,x.number);case"date":return g(b,x.date);case"file":return _(b,x.files);default:return!1}}function d(b,x){return!b.required&&!(x!=null&&x.length)?!0:!(b.maxLength&&b.maxLength<x.length||b.minLength&&b.minLength>x.length)}function h(b,x){return!b.required&&x===void 0?!0:!(x===void 0||b.maxValue&&b.maxValue<x||b.minValue&&b.minValue>x||b.onlyIntegerValue&&!Number.isInteger(x))}function f(b,x){return!b.required&&!(x!=null&&x.length)?!0:!(x===void 0||b.minChoices&&b.minChoices>x.length||b.maxChoices&&b.maxChoices<x.length)}function p(b,x){return!b.required&&x===void 0?!0:!(x===void 0||b.maxRating&&b.maxRating<x||b.minRating&&b.minRating>x||b.onlyIntegerRating&&!Number.isInteger(x))}function g(b,x){return!b.required&&!x?!0:!(!x||b.onlyFutureDate&&x<new Date||b.onlyPastDate&&x>new Date)}function _(b,x){if(!b.required&&!(x!=null&&x.length))return!0;if(!(x!=null&&x.length)||b.maxFileCount&&b.maxFileCount<x.length)return!1;for(const $ of x)if(b.allowedFileTypes&&!b.allowedFileTypes.includes($.mimeType))return!1;return!0}return{poll:s,fetchPoll:o,answers:i,saveAnswers:l}}),KF={key:0,class:"index-view"},XF={class:"index-view__header"},GF={class:"index-view__description"},JF={class:"index-view__actions"},ZF={class:"index-view__poll-form"},QF=H({__name:"index-view",setup(t){const e=YF();return e.fetchPoll(),(n,s)=>{const i=ot,o=fi;return v(e).poll?(w(),k("div",KF,[A(o,null,{sidebar:V(()=>[m("div",XF,[m("h2",null,F(v(e).poll.title),1)]),m("div",GF,[m("p",null,F(v(e).poll.description),1)]),m("div",JF,[A(i,{onClick:s[0]||(s[0]=r=>v(e).saveAnswers()),alignment:"stretch"},{default:V(()=>[Q(" Завершить опрос ")]),_:1})])]),content:V(()=>[m("div",ZF,[A(HF,{questions:v(e).poll.questions,answers:v(e).answers,"onUpdate:answers":s[1]||(s[1]=r=>v(e).answers=r)},null,8,["questions","answers"])])]),_:1})])):B("",!0)}}});const eq=K(QF,[["__scopeId","data-v-a47819b4"]]),tq=H({__name:"unregistered-results-table",props:{results:{},isLoading:{type:Boolean},pollId:{}},setup(t){const e=t,n=[{title:"",keys:["avatarUrl","name"],type:"avatar"},{title:"Имя",keys:["firstName","lastName"],type:"text"},{title:"Telegram",keys:["username"],type:"link",design:"telegram",linkTo:({username:s})=>`https://t.me/${s}`},{title:"",value:"Посмотреть",type:"link",design:"secondary",linkTo:({username:s})=>`/poll/${e.pollId}/results/${s}?unregistered`}];return(s,i)=>{const o=Rs;return w(),U(o,{cols:n,data:s.results,"is-loading":s.isLoading},null,8,["data","is-loading"])}}}),nq=H({__name:"results-table",props:{results:{},isLoading:{type:Boolean},pollId:{}},setup(t){const e=t,n=[{title:"",keys:["avatar.url","name"],type:"avatar"},{title:"Имя",keys:["name"],type:"text"},{title:"Никнейм",keys:["username"],type:"text"},{title:"E-mail",keys:["email"],type:"text"},{title:"Telegram",keys:["telegramUsername"],type:"link",design:"telegram",linkTo:s=>`https://t.me/${s.telegramUsername}`},{title:"",value:"Посмотреть",type:"link",design:"secondary",linkTo:s=>`/poll/${e.pollId}/results/${s.username}`}];return(s,i)=>{const o=Rs;return w(),U(o,{cols:n,data:s.results,"is-loading":s.isLoading},null,8,["data","is-loading"])}}}),sq=Ct("polls-module:results",()=>{const t=N.Services.Poll,e=N.Services.UI,n=Dt(),s=W(()=>n.params.pollId),i=J(),o=Lt(a),r=Lt(l);async function a(u){if(!s.value)return[];try{return await t.searchWhoVoted(s.value,u)}catch(d){e.openErrorModal("Произошла ошибка при получении ответов",d.message)}}async function l(u){if(!s.value)return[];try{return await t.searchWhoVotedUnregistered(s.value,u)}catch(d){e.openErrorModal("Произошла ошибка при получении ответов",d.message)}}async function c(){e.setLoading(!0);try{const u=await t.getPollInfo(s.value);i.value=u.data}catch(u){e.openErrorModal("Произошла ошибка при получении опроса",u.message,[{label:"Назад к блогу/новостям",design:"primary",handler:()=>window.location.replace("/blog")}])}finally{e.setLoading(!1)}}return{poll:i,resultsSearch:o,unregisteredResultsSearch:r,fetchPoll:c}}),iq={key:0,class:"results-view"},oq={class:"results-view__head"},rq={class:"results-view__search-input"},aq={class:"results-view__results"},lq={key:0,class:"results-view__pagination"},cq={class:"results-view__search-input"},uq={class:"results-view__results"},dq={key:0,class:"results-view__pagination"},hq=H({__name:"results-view",setup(t){const e=sq(),n=Dt();return We(()=>n.params.pollId,()=>{e.fetchPoll()},{immediate:!0}),(s,i)=>{const o=De("router-link"),r=Sn,a=kn,l=Ku;return v(e).poll?(w(),k("div",iq,[m("div",oq,[A(o,{to:"/blog",class:"results-view__head__back"},{default:V(()=>[Q(" Назад к блогу ")]),_:1}),m("h1",null,F(v(e).poll.title),1)]),A(l,{titles:["Зарегистрированные","Не зарегистрированные"]},{"tab-0":V(()=>[m("div",rq,[A(r,{modelValue:v(e).resultsSearch.pagination.search,"onUpdate:modelValue":i[0]||(i[0]=c=>v(e).resultsSearch.pagination.search=c)},null,8,["modelValue"])]),m("div",aq,[A(nq,{results:v(e).resultsSearch.results,"is-loading":v(e).resultsSearch.isListLoading,"poll-id":v(e).poll.id},null,8,["results","is-loading","poll-id"])]),v(e).resultsSearch.pagination.page&&v(e).resultsSearch.pagination.limit&&v(e).resultsSearch.resultsMeta.total?(w(),k("div",lq,[A(a,{page:v(e).resultsSearch.pagination.page,"onUpdate:page":i[1]||(i[1]=c=>v(e).resultsSearch.pagination.page=c),limit:v(e).resultsSearch.pagination.limit,total:v(e).resultsSearch.resultsMeta.total},null,8,["page","limit","total"])])):B("",!0)]),"tab-1":V(()=>[m("div",cq,[A(r,{modelValue:v(e).unregisteredResultsSearch.pagination.search,"onUpdate:modelValue":i[2]||(i[2]=c=>v(e).unregisteredResultsSearch.pagination.search=c)},null,8,["modelValue"])]),m("div",uq,[A(tq,{results:v(e).unregisteredResultsSearch.results,"is-loading":v(e).unregisteredResultsSearch.isListLoading,"poll-id":v(e).poll.id},null,8,["results","is-loading","poll-id"])]),v(e).unregisteredResultsSearch.pagination.page&&v(e).unregisteredResultsSearch.pagination.limit&&v(e).unregisteredResultsSearch.resultsMeta.total?(w(),k("div",dq,[A(a,{page:v(e).unregisteredResultsSearch.pagination.page,"onUpdate:page":i[3]||(i[3]=c=>v(e).unregisteredResultsSearch.pagination.page=c),limit:v(e).unregisteredResultsSearch.pagination.limit,total:v(e).unregisteredResultsSearch.resultsMeta.total},null,8,["page","limit","total"])])):B("",!0)]),_:1})])):B("",!0)}}});const fq=K(hq,[["__scopeId","data-v-950267c2"]]),pq="/img/error.svg",mq=t=>(Re("data-v-1bc5a65b"),t=t(),Pe(),t),gq={class:"base-modal__container"},_q={key:0,class:"base-modal__error-img"},vq=mq(()=>m("img",{src:pq,alt:"Ошибка"},null,-1)),bq=[vq],yq={key:0},wq=H({__name:"base-modal",props:{title:{},message:{},type:{},visible:{type:Boolean},actions:{}},emits:["update:visible"],setup(t,{emit:e}){function n(){e("update:visible",!1)}function s(i){const o=i();o instanceof Promise?o.then(n):n()}return(i,o)=>{const r=ot,a=it("auto-animate");return w(),U(ui,{to:"body"},[Ee((w(),k("div",{class:_e(["base-modal",{"base-modal--visible":i.visible}])},[i.visible?(w(),k("div",{key:0,class:"base-modal__inner",onClick:o[0]||(o[0]=Vt(l=>n(),["self"]))},[m("div",gq,[i.type==="error"?(w(),k("div",_q,bq)):B("",!0),m("div",{class:_e(["base-modal__title",`base-modal__title--${i.type}`])},[i.title?(w(),k("span",yq,F(i.title),1)):B("",!0)],2),m("div",{class:_e(["base-modal__text",`base-modal__text--${i.type}`])},F(i.message||""),3),Ge(i.$slots,"default",{},void 0,!0),m("div",{class:_e(["base-modal__buttons",{"base-modal__buttons--horizontal":i.type==="error"}])},[(w(!0),k(he,null,Le(i.actions,(l,c)=>(w(),U(r,{key:c,alignment:"stretch",design:l.design,onClick:u=>s(l.handler)},{default:V(()=>[Q(F(l.label),1)]),_:2},1032,["design","onClick"]))),128)),A(r,{alignment:i.type==="error"?"right":"stretch",onClick:n,design:"secondary",class:"base-modal__buttons__cancel"},{default:V(()=>[Q(" Закрыть ")]),_:1},8,["alignment"])],2)])])):B("",!0)],2)),[[a]])])}}});const db=K(wq,[["__scopeId","data-v-1bc5a65b"]]),xq=H({__name:"edit-answer-modal",props:{visible:{type:Boolean},question:{},answer:{}},emits:["update:visible","update:answer","submit"],setup(t,{emit:e}){const n=t,s=W({get:()=>n.answer,set:o=>e("update:answer",o)}),i=W({get:()=>n.visible,set:o=>e("update:visible",o)});return(o,r)=>{const a=db;return w(),U(a,{visible:i.value,"onUpdate:visible":r[1]||(r[1]=l=>i.value=l),title:"Редактирование ответа",type:"warning",actions:[{label:"Сохранить",design:"primary",handler:()=>e("submit")}]},{default:V(()=>[A(V1,{answer:s.value,"onUpdate:answer":r[0]||(r[0]=l=>s.value=l),question:o.question,readonly:!1},null,8,["answer","question"])]),_:1},8,["visible","actions"])}}}),kq=t=>(Re("data-v-da84771c"),t=t(),Pe(),t),Sq={class:"answer-list"},$q=kq(()=>m("div",{class:"answer-list__head"},[m("h2",null,"Ответы")],-1)),Cq={class:"answer-list__list"},Aq=H({__name:"answer-list",props:{questions:{},answers:{}},emits:["edit"],setup(t,{emit:e}){const n=t;function s(i){return n.answers.find(o=>o.questionId===i)}return(i,o)=>(w(),k("div",Sq,[$q,m("div",Cq,[(w(!0),k(he,null,Le(n.questions,(r,a)=>(w(),k("div",{class:"answer-list__list__item",key:r.id},[s(r.id)?(w(),U(V1,{key:0,readonly:"",question:r,answer:s(r.id),index:a,onEdit:l=>e("edit",s(r.id).id)},null,8,["question","answer","index","onEdit"])):B("",!0)]))),128))])]))}});const Mq=K(Aq,[["__scopeId","data-v-da84771c"]]),Eq=Ct("polls-module:user-result",()=>{const t=N.Services.UI,e=N.Services.Poll,n=N.Services.User,s=Dt(),i=J([]),o=J(),r=W(()=>{var b;return(b=c.value)==null?void 0:b.questions.find(x=>{var $;return x.id===(($=o.value)==null?void 0:$.questionId)})}),a=W(()=>s.params.username),l=W(()=>s.params.pollId),c=J(),u=J(),d=J("");async function h(){var b;t.setLoading(!0);try{typeof s.query.unregistered<"u"?await p():await f(),await g();const x=await e.getAnswers(l.value,((b=u.value)==null?void 0:b.id)||d.value);i.value=x.data}catch(x){t.openErrorModal("Не удалось загрузить ответы пользователя",x.message)}finally{t.setLoading(!1)}}async function f(){t.setLoading(!0);try{const b=await n.getUser(a.value);u.value=b.data}catch(b){t.openErrorModal("Не удалось загрузить пользователя",b.message)}finally{t.setLoading(!1)}}async function p(){t.setLoading(!0);try{d.value=a.value}catch(b){t.openErrorModal("Не удалось загрузить пользователя",b.message)}finally{t.setLoading(!1)}}async function g(){t.setLoading(!0);try{const b=await e.getPoll(l.value);c.value=b.data}catch(b){t.openErrorModal("Не удалось загрузить опрос",b.message)}finally{t.setLoading(!1)}}async function _(){if(t.setLoading(!0),!o.value){t.openErrorModal("Ответ не выбран");return}try{await e.editAnswer(o.value.id,o.value),t.openSuccessModal("Ответы сохранены")}catch(b){t.openErrorModal("Не удалось сохранить ответы",b.message)}finally{t.setLoading(!1)}}return{user:u,telegramUsername:d,poll:c,answers:i,fetchAnswers:h,submitAnswer:_,answerToEdit:o,currentQuestion:r}}),z1=t=>(Re("data-v-35b83859"),t=t(),Pe(),t),Tq={key:0,class:"user-result-view"},Lq={class:"user-result-view__sidebar"},Oq=z1(()=>m("h3",null,"Опрос:",-1)),Dq=z1(()=>m("h3",null,"Дата голосования:",-1)),Iq=z1(()=>m("h3",null,"Пользователь:",-1)),Rq=H({__name:"user-result-view",setup(t){const e=Eq(),n=J(!1);e.fetchAnswers();function s(i){e.answerToEdit=e.answers.find(o=>o.id===i),n.value=!0}return(i,o)=>{const r=De("router-link"),a=Qu,l=e1,c=fi;return w(),k(he,null,[v(e).answers.length&&v(e).poll&&(v(e).user||v(e).telegramUsername)?(w(),k("div",Tq,[A(c,null,{sidebar:V(()=>{var u;return[m("div",Lq,[A(r,{class:"user-result-view__back",to:`/poll/${v(e).poll.id}/results`},{default:V(()=>[Q(" Назад ко всем результатам ")]),_:1},8,["to"]),Oq,m("p",null,F(v(e).poll.title),1),Dq,m("p",null,F(v(on)((u=v(e).answers.at(0))==null?void 0:u.createdAt,{precision:"day"}).toBeautiful()),1),Iq,v(e).user?(w(),U(a,{key:0,user:v(e).user},null,8,["user"])):(w(),U(l,{key:1,username:v(e).telegramUsername},null,8,["username"]))])]}),content:V(()=>[A(Mq,{answers:v(e).answers,questions:v(e).poll.questions,onEdit:o[0]||(o[0]=u=>s(u))},null,8,["answers","questions"])]),_:1})])):B("",!0),v(e).currentQuestion&&v(e).answerToEdit?(w(),U(xq,{key:1,answer:v(e).answerToEdit,"onUpdate:answer":o[1]||(o[1]=u=>v(e).answerToEdit=u),visible:n.value,"onUpdate:visible":o[2]||(o[2]=u=>n.value=u),question:v(e).currentQuestion,onSubmit:o[3]||(o[3]=u=>v(e).submitAnswer())},null,8,["answer","visible","question"])):B("",!0)],64)}}});const Pq=K(Rq,[["__scopeId","data-v-35b83859"]]),Nq={path:"/poll/:pollId",name:"Опросы",component:IF,children:[{path:"",name:"Опрос",component:eq},{path:"results",name:"Результаты опроса",component:fq},{path:"results/:username",name:"Результаты пользователя",component:Pq}]},Vq={name:"polls",router:Nq},zq={},Bq={class:"module-wrapper"};function Uq(t,e){const n=De("router-view");return w(),k("div",Bq,[A(n)])}const Fq=K(zq,[["render",Uq]]);const qq={},Wq={class:"error-block"},jq={class:"error-block__icon"},Hq={class:"error-block__text"};function Yq(t,e){const n=Jt;return w(),k("div",Wq,[m("div",jq,[A(n,{name:"cross-red"})]),m("div",Hq,[Ge(t.$slots,"default",{},void 0,!0)])])}const B1=K(qq,[["render",Yq],["__scopeId","data-v-05cd612e"]]),Kq={class:"statistics-number-card"},Xq={class:"statistics-number-card__value"},Gq={class:"statistics-number-card__title"},Jq=H({__name:"statistics-number-card",props:{name:{},value:{}},setup(t){return(e,n)=>(w(),k("div",Kq,[m("h1",Xq,F(e.value),1),m("p",Gq,F(e.name),1)]))}});const Zq=K(Jq,[["__scopeId","data-v-eac2b033"]]);/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function Ul(t){return t+.5|0}const Di=(t,e,n)=>Math.max(Math.min(t,n),e);function Ca(t){return Di(Ul(t*2.55),0,255)}function Ui(t){return Di(Ul(t*255),0,255)}function Gs(t){return Di(Ul(t/2.55)/100,0,1)}function S_(t){return Di(Ul(t*100),0,100)}const Rn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ep=[..."0123456789ABCDEF"],Qq=t=>ep[t&15],eW=t=>ep[(t&240)>>4]+ep[t&15],Ac=t=>(t&240)>>4===(t&15),tW=t=>Ac(t.r)&&Ac(t.g)&&Ac(t.b)&&Ac(t.a);function nW(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Rn[t[1]]*17,g:255&Rn[t[2]]*17,b:255&Rn[t[3]]*17,a:e===5?Rn[t[4]]*17:255}:(e===7||e===9)&&(n={r:Rn[t[1]]<<4|Rn[t[2]],g:Rn[t[3]]<<4|Rn[t[4]],b:Rn[t[5]]<<4|Rn[t[6]],a:e===9?Rn[t[7]]<<4|Rn[t[8]]:255})),n}const sW=(t,e)=>t<255?e(t):"";function iW(t){var e=tW(t)?Qq:eW;return t?"#"+e(t.r)+e(t.g)+e(t.b)+sW(t.a,e):void 0}const oW=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function hb(t,e,n){const s=e*Math.min(n,1-n),i=(o,r=(o+t/30)%12)=>n-s*Math.max(Math.min(r-3,9-r,1),-1);return[i(0),i(8),i(4)]}function rW(t,e,n){const s=(i,o=(i+t/60)%6)=>n-n*e*Math.max(Math.min(o,4-o,1),0);return[s(5),s(3),s(1)]}function aW(t,e,n){const s=hb(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)s[i]*=1-e-n,s[i]+=e;return s}function lW(t,e,n,s,i){return t===i?(e-n)/s+(e<n?6:0):e===i?(n-t)/s+2:(t-e)/s+4}function U1(t){const n=t.r/255,s=t.g/255,i=t.b/255,o=Math.max(n,s,i),r=Math.min(n,s,i),a=(o+r)/2;let l,c,u;return o!==r&&(u=o-r,c=a>.5?u/(2-o-r):u/(o+r),l=lW(n,s,i,u,o),l=l*60+.5),[l|0,c||0,a]}function F1(t,e,n,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,s)).map(Ui)}function q1(t,e,n){return F1(hb,t,e,n)}function cW(t,e,n){return F1(aW,t,e,n)}function uW(t,e,n){return F1(rW,t,e,n)}function fb(t){return(t%360+360)%360}function dW(t){const e=oW.exec(t);let n=255,s;if(!e)return;e[5]!==s&&(n=e[6]?Ca(+e[5]):Ui(+e[5]));const i=fb(+e[2]),o=+e[3]/100,r=+e[4]/100;return e[1]==="hwb"?s=cW(i,o,r):e[1]==="hsv"?s=uW(i,o,r):s=q1(i,o,r),{r:s[0],g:s[1],b:s[2],a:n}}function hW(t,e){var n=U1(t);n[0]=fb(n[0]+e),n=q1(n),t.r=n[0],t.g=n[1],t.b=n[2]}function fW(t){if(!t)return;const e=U1(t),n=e[0],s=S_(e[1]),i=S_(e[2]);return t.a<255?`hsla(${n}, ${s}%, ${i}%, ${Gs(t.a)})`:`hsl(${n}, ${s}%, ${i}%)`}const $_={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},C_={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function pW(){const t={},e=Object.keys(C_),n=Object.keys($_);let s,i,o,r,a;for(s=0;s<e.length;s++){for(r=a=e[s],i=0;i<n.length;i++)o=n[i],a=a.replace(o,$_[o]);o=parseInt(C_[r],16),t[a]=[o>>16&255,o>>8&255,o&255]}return t}let Mc;function mW(t){Mc||(Mc=pW(),Mc.transparent=[0,0,0,0]);const e=Mc[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const gW=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function _W(t){const e=gW.exec(t);let n=255,s,i,o;if(e){if(e[7]!==s){const r=+e[7];n=e[8]?Ca(r):Di(r*255,0,255)}return s=+e[1],i=+e[3],o=+e[5],s=255&(e[2]?Ca(s):Di(s,0,255)),i=255&(e[4]?Ca(i):Di(i,0,255)),o=255&(e[6]?Ca(o):Di(o,0,255)),{r:s,g:i,b:o,a:n}}}function vW(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Gs(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Bh=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,ar=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function bW(t,e,n){const s=ar(Gs(t.r)),i=ar(Gs(t.g)),o=ar(Gs(t.b));return{r:Ui(Bh(s+n*(ar(Gs(e.r))-s))),g:Ui(Bh(i+n*(ar(Gs(e.g))-i))),b:Ui(Bh(o+n*(ar(Gs(e.b))-o))),a:t.a+n*(e.a-t.a)}}function Ec(t,e,n){if(t){let s=U1(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*n,e===0?360:1)),s=q1(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function pb(t,e){return t&&Object.assign(e||{},t)}function A_(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Ui(t[3]))):(e=pb(t,{r:0,g:0,b:0,a:1}),e.a=Ui(e.a)),e}function yW(t){return t.charAt(0)==="r"?_W(t):dW(t)}class wl{constructor(e){if(e instanceof wl)return e;const n=typeof e;let s;n==="object"?s=A_(e):n==="string"&&(s=nW(e)||mW(e)||yW(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=pb(this._rgb);return e&&(e.a=Gs(e.a)),e}set rgb(e){this._rgb=A_(e)}rgbString(){return this._valid?vW(this._rgb):void 0}hexString(){return this._valid?iW(this._rgb):void 0}hslString(){return this._valid?fW(this._rgb):void 0}mix(e,n){if(e){const s=this.rgb,i=e.rgb;let o;const r=n===o?.5:n,a=2*r-1,l=s.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;o=1-c,s.r=255&c*s.r+o*i.r+.5,s.g=255&c*s.g+o*i.g+.5,s.b=255&c*s.b+o*i.b+.5,s.a=r*s.a+(1-r)*i.a,this.rgb=s}return this}interpolate(e,n){return e&&(this._rgb=bW(this._rgb,e._rgb,n)),this}clone(){return new wl(this.rgb)}alpha(e){return this._rgb.a=Ui(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Ul(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Ec(this._rgb,2,e),this}darken(e){return Ec(this._rgb,2,-e),this}saturate(e){return Ec(this._rgb,1,e),this}desaturate(e){return Ec(this._rgb,1,-e),this}rotate(e){return hW(this._rgb,e),this}}/*!
 * Chart.js v4.4.1
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */function Hs(){}const wW=(()=>{let t=0;return()=>t++})();function tt(t){return t===null||typeof t>"u"}function vt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function He(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function St(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function An(t,e){return St(t)?t:e}function Ne(t,e){return typeof t>"u"?e:t}const xW=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,mb=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function mt(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function ut(t,e,n,s){let i,o,r;if(vt(t))if(o=t.length,s)for(i=o-1;i>=0;i--)e.call(n,t[i],i);else for(i=0;i<o;i++)e.call(n,t[i],i);else if(He(t))for(r=Object.keys(t),o=r.length,i=0;i<o;i++)e.call(n,t[r[i]],r[i])}function $u(t,e){let n,s,i,o;if(!t||!e||t.length!==e.length)return!1;for(n=0,s=t.length;n<s;++n)if(i=t[n],o=e[n],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function Cu(t){if(vt(t))return t.map(Cu);if(He(t)){const e=Object.create(null),n=Object.keys(t),s=n.length;let i=0;for(;i<s;++i)e[n[i]]=Cu(t[n[i]]);return e}return t}function gb(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function kW(t,e,n,s){if(!gb(t))return;const i=e[t],o=n[t];He(i)&&He(o)?xl(i,o,s):e[t]=Cu(o)}function xl(t,e,n){const s=vt(e)?e:[e],i=s.length;if(!He(t))return t;n=n||{};const o=n.merger||kW;let r;for(let a=0;a<i;++a){if(r=s[a],!He(r))continue;const l=Object.keys(r);for(let c=0,u=l.length;c<u;++c)o(l[c],t,r,n)}return t}function Ya(t,e){return xl(t,e,{merger:SW})}function SW(t,e,n){if(!gb(t))return;const s=e[t],i=n[t];He(s)&&He(i)?Ya(s,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Cu(i))}const M_={"":t=>t,x:t=>t.x,y:t=>t.y};function $W(t){const e=t.split("."),n=[];let s="";for(const i of e)s+=i,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function CW(t){const e=$W(t);return n=>{for(const s of e){if(s==="")break;n=n&&n[s]}return n}}function Hi(t,e){return(M_[e]||(M_[e]=CW(e)))(t)}function W1(t){return t.charAt(0).toUpperCase()+t.slice(1)}const kl=t=>typeof t<"u",Yi=t=>typeof t=="function",E_=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function AW(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const yt=Math.PI,bt=2*yt,MW=bt+yt,Au=Number.POSITIVE_INFINITY,EW=yt/180,Mt=yt/2,uo=yt/4,T_=yt*2/3,Ii=Math.log10,Ts=Math.sign;function Ka(t,e,n){return Math.abs(t-e)<n}function L_(t){const e=Math.round(t);t=Ka(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Ii(t))),s=t/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function TW(t){const e=[],n=Math.sqrt(t);let s;for(s=1;s<n;s++)t%s===0&&(e.push(s),e.push(t/s));return n===(n|0)&&e.push(n),e.sort((i,o)=>i-o).pop(),e}function Br(t){return!isNaN(parseFloat(t))&&isFinite(t)}function LW(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function _b(t,e,n){let s,i,o;for(s=0,i=t.length;s<i;s++)o=t[s][n],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function ts(t){return t*(yt/180)}function j1(t){return t*(180/yt)}function O_(t){if(!St(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function vb(t,e){const n=e.x-t.x,s=e.y-t.y,i=Math.sqrt(n*n+s*s);let o=Math.atan2(s,n);return o<-.5*yt&&(o+=bt),{angle:o,distance:i}}function tp(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function OW(t,e){return(t-e+MW)%bt-yt}function Tn(t){return(t%bt+bt)%bt}function Sl(t,e,n,s){const i=Tn(t),o=Tn(e),r=Tn(n),a=Tn(o-i),l=Tn(r-i),c=Tn(i-o),u=Tn(i-r);return i===o||i===r||s&&o===r||a>l&&c<u}function Ft(t,e,n){return Math.max(e,Math.min(n,t))}function DW(t){return Ft(t,-32768,32767)}function ei(t,e,n,s=1e-6){return t>=Math.min(e,n)-s&&t<=Math.max(e,n)+s}function H1(t,e,n){n=n||(r=>t[r]<e);let s=t.length-1,i=0,o;for(;s-i>1;)o=i+s>>1,n(o)?i=o:s=o;return{lo:i,hi:s}}const ti=(t,e,n,s)=>H1(t,n,s?i=>{const o=t[i][e];return o<n||o===n&&t[i+1][e]===n}:i=>t[i][e]<n),IW=(t,e,n)=>H1(t,n,s=>t[s][e]>=n);function RW(t,e,n){let s=0,i=t.length;for(;s<i&&t[s]<e;)s++;for(;i>s&&t[i-1]>n;)i--;return s>0||i<t.length?t.slice(s,i):t}const bb=["push","pop","shift","splice","unshift"];function PW(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),bb.forEach(n=>{const s="_onData"+W1(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...o){const r=i.apply(this,o);return t._chartjs.listeners.forEach(a=>{typeof a[s]=="function"&&a[s](...o)}),r}})})}function D_(t,e){const n=t._chartjs;if(!n)return;const s=n.listeners,i=s.indexOf(e);i!==-1&&s.splice(i,1),!(s.length>0)&&(bb.forEach(o=>{delete t[o]}),delete t._chartjs)}function yb(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const wb=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function xb(t,e){let n=[],s=!1;return function(...i){n=i,s||(s=!0,wb.call(window,()=>{s=!1,t.apply(e,n)}))}}function NW(t,e){let n;return function(...s){return e?(clearTimeout(n),n=setTimeout(t,e,s)):t.apply(this,s),e}}const Y1=t=>t==="start"?"left":t==="end"?"right":"center",tn=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,VW=(t,e,n,s)=>t===(s?"left":"right")?n:t==="center"?(e+n)/2:e;function kb(t,e,n){const s=e.length;let i=0,o=s;if(t._sorted){const{iScale:r,_parsed:a}=t,l=r.axis,{min:c,max:u,minDefined:d,maxDefined:h}=r.getUserBounds();d&&(i=Ft(Math.min(ti(a,l,c).lo,n?s:ti(e,l,r.getPixelForValue(c)).lo),0,s-1)),h?o=Ft(Math.max(ti(a,r.axis,u,!0).hi+1,n?0:ti(e,l,r.getPixelForValue(u),!0).hi+1),i,s)-i:o=s-i}return{start:i,count:o}}function Sb(t){const{xScale:e,yScale:n,_scaleRanges:s}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!s)return t._scaleRanges=i,!0;const o=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==n.min||s.ymax!==n.max;return Object.assign(s,i),o}const Tc=t=>t===0||t===1,I_=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*bt/n)),R_=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*bt/n)+1,Xa={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Mt)+1,easeOutSine:t=>Math.sin(t*Mt),easeInOutSine:t=>-.5*(Math.cos(yt*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Tc(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Tc(t)?t:I_(t,.075,.3),easeOutElastic:t=>Tc(t)?t:R_(t,.075,.3),easeInOutElastic(t){return Tc(t)?t:t<.5?.5*I_(t*2,.1125,.45):.5+.5*R_(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Xa.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Xa.easeInBounce(t*2)*.5:Xa.easeOutBounce(t*2-1)*.5+.5};function K1(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function P_(t){return K1(t)?t:new wl(t)}function Uh(t){return K1(t)?t:new wl(t).saturate(.5).darken(.1).hexString()}const zW=["x","y","borderWidth","radius","tension"],BW=["color","borderColor","backgroundColor"];function UW(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:BW},numbers:{type:"number",properties:zW}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function FW(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const N_=new Map;function qW(t,e){e=e||{};const n=t+JSON.stringify(e);let s=N_.get(n);return s||(s=new Intl.NumberFormat(t,e),N_.set(n,s)),s}function Fl(t,e,n){return qW(e,n).format(t)}const $b={values(t){return vt(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const s=this.chart.options.locale;let i,o=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),o=WW(t,n)}const r=Ii(Math.abs(o)),a=isNaN(r)?1:Math.max(Math.min(-1*Math.floor(r),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Fl(t,s,l)},logarithmic(t,e,n){if(t===0)return"0";const s=n[e].significand||t/Math.pow(10,Math.floor(Ii(t)));return[1,2,3,5,10,15].includes(s)||e>.8*n.length?$b.numeric.call(this,t,e,n):""}};function WW(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var yd={formatters:$b};function jW(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:yd.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Ro=Object.create(null),np=Object.create(null);function Ga(t,e){if(!e)return t;const n=e.split(".");for(let s=0,i=n.length;s<i;++s){const o=n[s];t=t[o]||(t[o]=Object.create(null))}return t}function Fh(t,e,n){return typeof e=="string"?xl(Ga(t,e),n):xl(Ga(t,""),e)}class HW{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,i)=>Uh(i.backgroundColor),this.hoverBorderColor=(s,i)=>Uh(i.borderColor),this.hoverColor=(s,i)=>Uh(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Fh(this,e,n)}get(e){return Ga(this,e)}describe(e,n){return Fh(np,e,n)}override(e,n){return Fh(Ro,e,n)}route(e,n,s,i){const o=Ga(this,e),r=Ga(this,s),a="_"+n;Object.defineProperties(o,{[a]:{value:o[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=r[i];return He(l)?Object.assign({},c,l):Ne(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var $t=new HW({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[UW,FW,jW]);function YW(t){return!t||tt(t.size)||tt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Mu(t,e,n,s,i){let o=e[i];return o||(o=e[i]=t.measureText(i).width,n.push(i)),o>s&&(s=o),s}function KW(t,e,n,s){s=s||{};let i=s.data=s.data||{},o=s.garbageCollect=s.garbageCollect||[];s.font!==e&&(i=s.data={},o=s.garbageCollect=[],s.font=e),t.save(),t.font=e;let r=0;const a=n.length;let l,c,u,d,h;for(l=0;l<a;l++)if(d=n[l],d!=null&&!vt(d))r=Mu(t,i,o,r,d);else if(vt(d))for(c=0,u=d.length;c<u;c++)h=d[c],h!=null&&!vt(h)&&(r=Mu(t,i,o,r,h));t.restore();const f=o.length/2;if(f>n.length){for(l=0;l<f;l++)delete i[o[l]];o.splice(0,f)}return r}function ho(t,e,n){const s=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*s)/s+i}function V_(t,e){e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function sp(t,e,n,s){Cb(t,e,n,s,null)}function Cb(t,e,n,s,i){let o,r,a,l,c,u,d,h;const f=e.pointStyle,p=e.rotation,g=e.radius;let _=(p||0)*EW;if(f&&typeof f=="object"&&(o=f.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){t.save(),t.translate(n,s),t.rotate(_),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(g)||g<=0)){switch(t.beginPath(),f){default:i?t.ellipse(n,s,i/2,g,0,0,bt):t.arc(n,s,g,0,bt),t.closePath();break;case"triangle":u=i?i/2:g,t.moveTo(n+Math.sin(_)*u,s-Math.cos(_)*g),_+=T_,t.lineTo(n+Math.sin(_)*u,s-Math.cos(_)*g),_+=T_,t.lineTo(n+Math.sin(_)*u,s-Math.cos(_)*g),t.closePath();break;case"rectRounded":c=g*.516,l=g-c,r=Math.cos(_+uo)*l,d=Math.cos(_+uo)*(i?i/2-c:l),a=Math.sin(_+uo)*l,h=Math.sin(_+uo)*(i?i/2-c:l),t.arc(n-d,s-a,c,_-yt,_-Mt),t.arc(n+h,s-r,c,_-Mt,_),t.arc(n+d,s+a,c,_,_+Mt),t.arc(n-h,s+r,c,_+Mt,_+yt),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,u=i?i/2:l,t.rect(n-u,s-l,2*u,2*l);break}_+=uo;case"rectRot":d=Math.cos(_)*(i?i/2:g),r=Math.cos(_)*g,a=Math.sin(_)*g,h=Math.sin(_)*(i?i/2:g),t.moveTo(n-d,s-a),t.lineTo(n+h,s-r),t.lineTo(n+d,s+a),t.lineTo(n-h,s+r),t.closePath();break;case"crossRot":_+=uo;case"cross":d=Math.cos(_)*(i?i/2:g),r=Math.cos(_)*g,a=Math.sin(_)*g,h=Math.sin(_)*(i?i/2:g),t.moveTo(n-d,s-a),t.lineTo(n+d,s+a),t.moveTo(n+h,s-r),t.lineTo(n-h,s+r);break;case"star":d=Math.cos(_)*(i?i/2:g),r=Math.cos(_)*g,a=Math.sin(_)*g,h=Math.sin(_)*(i?i/2:g),t.moveTo(n-d,s-a),t.lineTo(n+d,s+a),t.moveTo(n+h,s-r),t.lineTo(n-h,s+r),_+=uo,d=Math.cos(_)*(i?i/2:g),r=Math.cos(_)*g,a=Math.sin(_)*g,h=Math.sin(_)*(i?i/2:g),t.moveTo(n-d,s-a),t.lineTo(n+d,s+a),t.moveTo(n+h,s-r),t.lineTo(n-h,s+r);break;case"line":r=i?i/2:Math.cos(_)*g,a=Math.sin(_)*g,t.moveTo(n-r,s-a),t.lineTo(n+r,s+a);break;case"dash":t.moveTo(n,s),t.lineTo(n+Math.cos(_)*(i?i/2:g),s+Math.sin(_)*g);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function ni(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function wd(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function xd(t){t.restore()}function XW(t,e,n,s,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const o=(e.x+n.x)/2;t.lineTo(o,e.y),t.lineTo(o,n.y)}else i==="after"!=!!s?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function GW(t,e,n,s){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function JW(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),tt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function ZW(t,e,n,s,i){if(i.strikethrough||i.underline){const o=t.measureText(s),r=e-o.actualBoundingBoxLeft,a=e+o.actualBoundingBoxRight,l=n-o.actualBoundingBoxAscent,c=n+o.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(r,u),t.lineTo(a,u),t.stroke()}}function QW(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Po(t,e,n,s,i,o={}){const r=vt(e)?e:[e],a=o.strokeWidth>0&&o.strokeColor!=="";let l,c;for(t.save(),t.font=i.string,JW(t,o),l=0;l<r.length;++l)c=r[l],o.backdrop&&QW(t,o.backdrop),a&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),tt(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(c,n,s,o.maxWidth)),t.fillText(c,n,s,o.maxWidth),ZW(t,n,s,c,o),s+=Number(i.lineHeight);t.restore()}function $l(t,e){const{x:n,y:s,w:i,h:o,radius:r}=e;t.arc(n+r.topLeft,s+r.topLeft,r.topLeft,1.5*yt,yt,!0),t.lineTo(n,s+o-r.bottomLeft),t.arc(n+r.bottomLeft,s+o-r.bottomLeft,r.bottomLeft,yt,Mt,!0),t.lineTo(n+i-r.bottomRight,s+o),t.arc(n+i-r.bottomRight,s+o-r.bottomRight,r.bottomRight,Mt,0,!0),t.lineTo(n+i,s+r.topRight),t.arc(n+i-r.topRight,s+r.topRight,r.topRight,0,-Mt,!0),t.lineTo(n+r.topLeft,s)}const ej=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,tj=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function nj(t,e){const n=(""+t).match(ej);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const sj=t=>+t||0;function X1(t,e){const n={},s=He(e),i=s?Object.keys(e):e,o=He(t)?s?r=>Ne(t[r],t[e[r]]):r=>t[r]:()=>t;for(const r of i)n[r]=sj(o(r));return n}function Ab(t){return X1(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Ao(t){return X1(t,["topLeft","topRight","bottomLeft","bottomRight"])}function cn(t){const e=Ab(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function zt(t,e){t=t||{},e=e||$t.font;let n=Ne(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let s=Ne(t.style,e.style);s&&!(""+s).match(tj)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const i={family:Ne(t.family,e.family),lineHeight:nj(Ne(t.lineHeight,e.lineHeight),n),size:n,style:s,weight:Ne(t.weight,e.weight),string:""};return i.string=YW(i),i}function Aa(t,e,n,s){let i=!0,o,r,a;for(o=0,r=t.length;o<r;++o)if(a=t[o],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),i=!1),n!==void 0&&vt(a)&&(a=a[n%a.length],i=!1),a!==void 0))return s&&!i&&(s.cacheable=!1),a}function ij(t,e,n){const{min:s,max:i}=t,o=mb(e,(i-s)/2),r=(a,l)=>n&&a===0?0:a+l;return{min:r(s,-Math.abs(o)),max:r(i,o)}}function Zi(t,e){return Object.assign(Object.create(t),e)}function G1(t,e=[""],n,s,i=()=>t[0]){const o=n||t;typeof s>"u"&&(s=Lb("_fallback",t));const r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:o,_fallback:s,_getTarget:i,override:a=>G1([a,...t],e,o,s)};return new Proxy(r,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return Eb(a,l,()=>hj(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return B_(a).includes(l)},ownKeys(a){return B_(a)},set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function Ur(t,e,n,s){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:Mb(t,s),setContext:o=>Ur(t,o,n,s),override:o=>Ur(t.override(o),e,n,s)};return new Proxy(i,{deleteProperty(o,r){return delete o[r],delete t[r],!0},get(o,r,a){return Eb(o,r,()=>rj(o,r,a))},getOwnPropertyDescriptor(o,r){return o._descriptors.allKeys?Reflect.has(t,r)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,r)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(o,r){return Reflect.has(t,r)},ownKeys(){return Reflect.ownKeys(t)},set(o,r,a){return t[r]=a,delete o[r],!0}})}function Mb(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:s=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:s,isScriptable:Yi(n)?n:()=>n,isIndexable:Yi(s)?s:()=>s}}const oj=(t,e)=>t?t+W1(e):e,J1=(t,e)=>He(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Eb(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const s=n();return t[e]=s,s}function rj(t,e,n){const{_proxy:s,_context:i,_subProxy:o,_descriptors:r}=t;let a=s[e];return Yi(a)&&r.isScriptable(e)&&(a=aj(e,a,t,n)),vt(a)&&a.length&&(a=lj(e,a,t,r.isIndexable)),J1(e,a)&&(a=Ur(a,i,o&&o[e],r)),a}function aj(t,e,n,s){const{_proxy:i,_context:o,_subProxy:r,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(o,r||s);return a.delete(t),J1(t,l)&&(l=Z1(i._scopes,i,t,l)),l}function lj(t,e,n,s){const{_proxy:i,_context:o,_subProxy:r,_descriptors:a}=n;if(typeof o.index<"u"&&s(t))return e[o.index%e.length];if(He(e[0])){const l=e,c=i._scopes.filter(u=>u!==l);e=[];for(const u of l){const d=Z1(c,i,t,u);e.push(Ur(d,o,r&&r[t],a))}}return e}function Tb(t,e,n){return Yi(t)?t(e,n):t}const cj=(t,e)=>t===!0?e:typeof t=="string"?Hi(e,t):void 0;function uj(t,e,n,s,i){for(const o of e){const r=cj(n,o);if(r){t.add(r);const a=Tb(r._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==s)return a}else if(r===!1&&typeof s<"u"&&n!==s)return null}return!1}function Z1(t,e,n,s){const i=e._rootScopes,o=Tb(e._fallback,n,s),r=[...t,...i],a=new Set;a.add(s);let l=z_(a,r,n,o||n,s);return l===null||typeof o<"u"&&o!==n&&(l=z_(a,r,o,l,s),l===null)?!1:G1(Array.from(a),[""],i,o,()=>dj(e,n,s))}function z_(t,e,n,s,i){for(;n;)n=uj(t,e,n,s,i);return n}function dj(t,e,n){const s=t._getTarget();e in s||(s[e]={});const i=s[e];return vt(i)&&He(n)?n:i||{}}function hj(t,e,n,s){let i;for(const o of e)if(i=Lb(oj(o,t),n),typeof i<"u")return J1(t,i)?Z1(n,s,t,i):i}function Lb(t,e){for(const n of e){if(!n)continue;const s=n[t];if(typeof s<"u")return s}}function B_(t){let e=t._keys;return e||(e=t._keys=fj(t._scopes)),e}function fj(t){const e=new Set;for(const n of t)for(const s of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(s);return Array.from(e)}function Ob(t,e,n,s){const{iScale:i}=t,{key:o="r"}=this._parsing,r=new Array(s);let a,l,c,u;for(a=0,l=s;a<l;++a)c=a+n,u=e[c],r[a]={r:i.parse(Hi(u,o),c)};return r}const pj=Number.EPSILON||1e-14,Fr=(t,e)=>e<t.length&&!t[e].skip&&t[e],Db=t=>t==="x"?"y":"x";function mj(t,e,n,s){const i=t.skip?e:t,o=e,r=n.skip?e:n,a=tp(o,i),l=tp(r,o);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=s*c,h=s*u;return{previous:{x:o.x-d*(r.x-i.x),y:o.y-d*(r.y-i.y)},next:{x:o.x+h*(r.x-i.x),y:o.y+h*(r.y-i.y)}}}function gj(t,e,n){const s=t.length;let i,o,r,a,l,c=Fr(t,0);for(let u=0;u<s-1;++u)if(l=c,c=Fr(t,u+1),!(!l||!c)){if(Ka(e[u],0,pj)){n[u]=n[u+1]=0;continue}i=n[u]/e[u],o=n[u+1]/e[u],a=Math.pow(i,2)+Math.pow(o,2),!(a<=9)&&(r=3/Math.sqrt(a),n[u]=i*r*e[u],n[u+1]=o*r*e[u])}}function _j(t,e,n="x"){const s=Db(n),i=t.length;let o,r,a,l=Fr(t,0);for(let c=0;c<i;++c){if(r=a,a=l,l=Fr(t,c+1),!a)continue;const u=a[n],d=a[s];r&&(o=(u-r[n])/3,a[`cp1${n}`]=u-o,a[`cp1${s}`]=d-o*e[c]),l&&(o=(l[n]-u)/3,a[`cp2${n}`]=u+o,a[`cp2${s}`]=d+o*e[c])}}function vj(t,e="x"){const n=Db(e),s=t.length,i=Array(s).fill(0),o=Array(s);let r,a,l,c=Fr(t,0);for(r=0;r<s;++r)if(a=l,l=c,c=Fr(t,r+1),!!l){if(c){const u=c[e]-l[e];i[r]=u!==0?(c[n]-l[n])/u:0}o[r]=a?c?Ts(i[r-1])!==Ts(i[r])?0:(i[r-1]+i[r])/2:i[r-1]:i[r]}gj(t,i,o),_j(t,o,e)}function Lc(t,e,n){return Math.max(Math.min(t,n),e)}function bj(t,e){let n,s,i,o,r,a=ni(t[0],e);for(n=0,s=t.length;n<s;++n)r=o,o=a,a=n<s-1&&ni(t[n+1],e),o&&(i=t[n],r&&(i.cp1x=Lc(i.cp1x,e.left,e.right),i.cp1y=Lc(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=Lc(i.cp2x,e.left,e.right),i.cp2y=Lc(i.cp2y,e.top,e.bottom)))}function yj(t,e,n,s,i){let o,r,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")vj(t,i);else{let c=s?t[t.length-1]:t[0];for(o=0,r=t.length;o<r;++o)a=t[o],l=mj(c,a,t[Math.min(o+1,r-(s?0:1))%r],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&bj(t,n)}function Q1(){return typeof window<"u"&&typeof document<"u"}function em(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Eu(t,e,n){let s;return typeof t=="string"?(s=parseInt(t,10),t.indexOf("%")!==-1&&(s=s/100*e.parentNode[n])):s=t,s}const kd=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function wj(t,e){return kd(t).getPropertyValue(e)}const xj=["top","right","bottom","left"];function Mo(t,e,n){const s={};n=n?"-"+n:"";for(let i=0;i<4;i++){const o=xj[i];s[o]=parseFloat(t[e+"-"+o+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const kj=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function Sj(t,e){const n=t.touches,s=n&&n.length?n[0]:t,{offsetX:i,offsetY:o}=s;let r=!1,a,l;if(kj(i,o,t.target))a=i,l=o;else{const c=e.getBoundingClientRect();a=s.clientX-c.left,l=s.clientY-c.top,r=!0}return{x:a,y:l,box:r}}function _o(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:s}=e,i=kd(n),o=i.boxSizing==="border-box",r=Mo(i,"padding"),a=Mo(i,"border","width"),{x:l,y:c,box:u}=Sj(t,n),d=r.left+(u&&a.left),h=r.top+(u&&a.top);let{width:f,height:p}=e;return o&&(f-=r.width+a.width,p-=r.height+a.height),{x:Math.round((l-d)/f*n.width/s),y:Math.round((c-h)/p*n.height/s)}}function $j(t,e,n){let s,i;if(e===void 0||n===void 0){const o=em(t);if(!o)e=t.clientWidth,n=t.clientHeight;else{const r=o.getBoundingClientRect(),a=kd(o),l=Mo(a,"border","width"),c=Mo(a,"padding");e=r.width-c.width-l.width,n=r.height-c.height-l.height,s=Eu(a.maxWidth,o,"clientWidth"),i=Eu(a.maxHeight,o,"clientHeight")}}return{width:e,height:n,maxWidth:s||Au,maxHeight:i||Au}}const Oc=t=>Math.round(t*10)/10;function Cj(t,e,n,s){const i=kd(t),o=Mo(i,"margin"),r=Eu(i.maxWidth,t,"clientWidth")||Au,a=Eu(i.maxHeight,t,"clientHeight")||Au,l=$j(t,e,n);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const h=Mo(i,"border","width"),f=Mo(i,"padding");c-=f.width+h.width,u-=f.height+h.height}return c=Math.max(0,c-o.width),u=Math.max(0,s?c/s:u-o.height),c=Oc(Math.min(c,r,l.maxWidth)),u=Oc(Math.min(u,a,l.maxHeight)),c&&!u&&(u=Oc(c/2)),(e!==void 0||n!==void 0)&&s&&l.height&&u>l.height&&(u=l.height,c=Oc(Math.floor(u*s))),{width:c,height:u}}function U_(t,e,n){const s=e||1,i=Math.floor(t.height*s),o=Math.floor(t.width*s);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const r=t.canvas;return r.style&&(n||!r.style.height&&!r.style.width)&&(r.style.height=`${t.height}px`,r.style.width=`${t.width}px`),t.currentDevicePixelRatio!==s||r.height!==i||r.width!==o?(t.currentDevicePixelRatio=s,r.height=i,r.width=o,t.ctx.setTransform(s,0,0,s,0,0),!0):!1}const Aj=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Q1()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function F_(t,e){const n=wj(t,e),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function vo(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function Mj(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:s==="middle"?n<.5?t.y:e.y:s==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function Ej(t,e,n,s){const i={x:t.cp2x,y:t.cp2y},o={x:e.cp1x,y:e.cp1y},r=vo(t,i,n),a=vo(i,o,n),l=vo(o,e,n),c=vo(r,a,n),u=vo(a,l,n);return vo(c,u,n)}const Tj=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},Lj=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Sr(t,e,n){return t?Tj(e,n):Lj()}function Ib(t,e){let n,s;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=s)}function Rb(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Pb(t){return t==="angle"?{between:Sl,compare:OW,normalize:Tn}:{between:ei,compare:(e,n)=>e-n,normalize:e=>e}}function q_({start:t,end:e,count:n,loop:s,style:i}){return{start:t%n,end:e%n,loop:s&&(e-t+1)%n===0,style:i}}function Oj(t,e,n){const{property:s,start:i,end:o}=n,{between:r,normalize:a}=Pb(s),l=e.length;let{start:c,end:u,loop:d}=t,h,f;if(d){for(c+=l,u+=l,h=0,f=l;h<f&&r(a(e[c%l][s]),i,o);++h)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:t.style}}function Nb(t,e,n){if(!n)return[t];const{property:s,start:i,end:o}=n,r=e.length,{compare:a,between:l,normalize:c}=Pb(s),{start:u,end:d,loop:h,style:f}=Oj(t,e,n),p=[];let g=!1,_=null,b,x,$;const S=()=>l(i,$,b)&&a(i,$)!==0,C=()=>a(o,b)===0||l(o,$,b),T=()=>g||S(),L=()=>!g||C();for(let E=u,q=u;E<=d;++E)x=e[E%r],!x.skip&&(b=c(x[s]),b!==$&&(g=l(b,i,o),_===null&&T()&&(_=a(b,i)===0?E:q),_!==null&&L()&&(p.push(q_({start:_,end:E,loop:h,count:r,style:f})),_=null),q=E,$=b));return _!==null&&p.push(q_({start:_,end:d,loop:h,count:r,style:f})),p}function Vb(t,e){const n=[],s=t.segments;for(let i=0;i<s.length;i++){const o=Nb(s[i],t.points,e);o.length&&n.push(...o)}return n}function Dj(t,e,n,s){let i=0,o=e-1;if(n&&!s)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(o+=i);o>i&&t[o%e].skip;)o--;return o%=e,{start:i,end:o}}function Ij(t,e,n,s){const i=t.length,o=[];let r=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%i];c.skip||c.stop?a.skip||(s=!1,o.push({start:e%i,end:(l-1)%i,loop:s}),e=r=c.stop?l:null):(r=l,a.skip&&(e=l)),a=c}return r!==null&&o.push({start:e%i,end:r%i,loop:s}),o}function Rj(t,e){const n=t.points,s=t.options.spanGaps,i=n.length;if(!i)return[];const o=!!t._loop,{start:r,end:a}=Dj(n,i,o,s);if(s===!0)return W_(t,[{start:r,end:a,loop:o}],n,e);const l=a<r?a+i:a,c=!!t._fullLoop&&r===0&&a===i-1;return W_(t,Ij(n,r,l,c),n,e)}function W_(t,e,n,s){return!s||!s.setContext||!n?e:Pj(t,e,n,s)}function Pj(t,e,n,s){const i=t._chart.getContext(),o=j_(t.options),{_datasetIndex:r,options:{spanGaps:a}}=t,l=n.length,c=[];let u=o,d=e[0].start,h=d;function f(p,g,_,b){const x=a?-1:1;if(p!==g){for(p+=l;n[p%l].skip;)p-=x;for(;n[g%l].skip;)g+=x;p%l!==g%l&&(c.push({start:p%l,end:g%l,loop:_,style:b}),u=b,d=g%l)}}for(const p of e){d=a?d:p.start;let g=n[d%l],_;for(h=d+1;h<=p.end;h++){const b=n[h%l];_=j_(s.setContext(Zi(i,{type:"segment",p0:g,p1:b,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:r}))),Nj(_,u)&&f(d,h-1,p.loop,u),g=b,u=_}d<h-1&&f(d,h-1,p.loop,u)}return c}function j_(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Nj(t,e){if(!e)return!1;const n=[],s=function(i,o){return K1(o)?(n.includes(o)||n.push(o),n.indexOf(o)):o};return JSON.stringify(t,s)!==JSON.stringify(e,s)}/*!
 * Chart.js v4.4.1
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */class Vj{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,s,i){const o=n.listeners[i],r=n.duration;o.forEach(a=>a({chart:e,initial:n.initial,numSteps:r,currentStep:Math.min(s-n.start,r)}))}_refresh(){this._request||(this._running=!0,this._request=wb.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((s,i)=>{if(!s.running||!s.items.length)return;const o=s.items;let r=o.length-1,a=!1,l;for(;r>=0;--r)l=o[r],l._active?(l._total>s.duration&&(s.duration=l._total),l.tick(e),a=!0):(o[r]=o[o.length-1],o.pop());a&&(i.draw(),this._notify(i,s,e,"progress")),o.length||(s.running=!1,this._notify(i,s,e,"complete"),s.initial=!1),n+=o.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let s=n.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,s)),s}listen(e,n,s){this._getAnims(e).listeners[n].push(s)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,i)=>Math.max(s,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const s=n.items;let i=s.length-1;for(;i>=0;--i)s[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ys=new Vj;const H_="transparent",zj={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const s=P_(t||H_),i=s.valid&&P_(e||H_);return i&&i.valid?i.mix(s,n).hexString():e},number(t,e,n){return t+(e-t)*n}};let Bj=class{constructor(e,n,s,i){const o=n[s];i=Aa([e.to,i,o,e.from]);const r=Aa([e.from,o,i]);this._active=!0,this._fn=e.fn||zj[e.type||typeof r],this._easing=Xa[e.easing]||Xa.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=s,this._from=r,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,s){if(this._active){this._notify(!1);const i=this._target[this._prop],o=s-this._start,r=this._duration-o;this._start=s,this._duration=Math.floor(Math.max(r,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=Aa([e.to,n,i,e.from]),this._from=Aa([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,s=this._duration,i=this._prop,o=this._from,r=this._loop,a=this._to;let l;if(this._active=o!==a&&(r||n<s),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=o;return}l=n/s%2,l=r&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(o,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,s)=>{e.push({res:n,rej:s})})}_notify(e){const n=e?"res":"rej",s=this._promises||[];for(let i=0;i<s.length;i++)s[i][n]()}};class zb{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!He(e))return;const n=Object.keys($t.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const o=e[i];if(!He(o))return;const r={};for(const a of n)r[a]=o[a];(vt(o.properties)&&o.properties||[i]).forEach(a=>{(a===i||!s.has(a))&&s.set(a,r)})})}_animateOptions(e,n){const s=n.options,i=Fj(e,s);if(!i)return[];const o=this._createAnimations(i,s);return s.$shared&&Uj(e.options.$animations,s).then(()=>{e.options=s},()=>{}),o}_createAnimations(e,n){const s=this._properties,i=[],o=e.$animations||(e.$animations={}),r=Object.keys(n),a=Date.now();let l;for(l=r.length-1;l>=0;--l){const c=r[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,n));continue}const u=n[c];let d=o[c];const h=s.get(c);if(d)if(h&&d.active()){d.update(h,u,a);continue}else d.cancel();if(!h||!h.duration){e[c]=u;continue}o[c]=d=new Bj(h,e,c,u),i.push(d)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const s=this._createAnimations(e,n);if(s.length)return Ys.add(this._chart,s),!0}}function Uj(t,e){const n=[],s=Object.keys(e);for(let i=0;i<s.length;i++){const o=t[s[i]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}function Fj(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Y_(t,e){const n=t&&t.options||{},s=n.reverse,i=n.min===void 0?e:0,o=n.max===void 0?e:0;return{start:s?o:i,end:s?i:o}}function qj(t,e,n){if(n===!1)return!1;const s=Y_(t,n),i=Y_(e,n);return{top:i.end,right:s.end,bottom:i.start,left:s.start}}function Wj(t){let e,n,s,i;return He(t)?(e=t.top,n=t.right,s=t.bottom,i=t.left):e=n=s=i=t,{top:e,right:n,bottom:s,left:i,disabled:t===!1}}function Bb(t,e){const n=[],s=t._getSortedDatasetMetas(e);let i,o;for(i=0,o=s.length;i<o;++i)n.push(s[i].index);return n}function K_(t,e,n,s={}){const i=t.keys,o=s.mode==="single";let r,a,l,c;if(e!==null){for(r=0,a=i.length;r<a;++r){if(l=+i[r],l===n){if(s.all)continue;break}c=t.values[l],St(c)&&(o||e===0||Ts(e)===Ts(c))&&(e+=c)}return e}}function jj(t){const e=Object.keys(t),n=new Array(e.length);let s,i,o;for(s=0,i=e.length;s<i;++s)o=e[s],n[s]={x:o,y:t[o]};return n}function X_(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function Hj(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function Yj(t){const{min:e,max:n,minDefined:s,maxDefined:i}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function Kj(t,e,n){const s=t[e]||(t[e]={});return s[n]||(s[n]={})}function G_(t,e,n,s){for(const i of e.getMatchingVisibleMetas(s).reverse()){const o=t[i.index];if(n&&o>0||!n&&o<0)return i.index}return null}function J_(t,e){const{chart:n,_cachedMeta:s}=t,i=n._stacks||(n._stacks={}),{iScale:o,vScale:r,index:a}=s,l=o.axis,c=r.axis,u=Hj(o,r,s),d=e.length;let h;for(let f=0;f<d;++f){const p=e[f],{[l]:g,[c]:_}=p,b=p._stacks||(p._stacks={});h=b[c]=Kj(i,u,g),h[a]=_,h._top=G_(h,r,!0,s.type),h._bottom=G_(h,r,!1,s.type);const x=h._visualValues||(h._visualValues={});x[a]=_}}function qh(t,e){const n=t.scales;return Object.keys(n).filter(s=>n[s].axis===e).shift()}function Xj(t,e){return Zi(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Gj(t,e,n){return Zi(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function va(t,e){const n=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const i of e){const o=i._stacks;if(!o||o[s]===void 0||o[s][n]===void 0)return;delete o[s][n],o[s]._visualValues!==void 0&&o[s]._visualValues[n]!==void 0&&delete o[s]._visualValues[n]}}}const Wh=t=>t==="reset"||t==="none",Z_=(t,e)=>e?t:Object.assign({},t),Jj=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:Bb(n,!0),values:null};class is{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=X_(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&va(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,s=this.getDataset(),i=(d,h,f,p)=>d==="x"?h:d==="r"?p:f,o=n.xAxisID=Ne(s.xAxisID,qh(e,"x")),r=n.yAxisID=Ne(s.yAxisID,qh(e,"y")),a=n.rAxisID=Ne(s.rAxisID,qh(e,"r")),l=n.indexAxis,c=n.iAxisID=i(l,o,r,a),u=n.vAxisID=i(l,r,o,a);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(r),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&D_(this._data,this),e._stacked&&va(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),s=this._data;if(He(n))this._data=jj(n);else if(s!==n){if(s){D_(s,this);const i=this._cachedMeta;va(i),i._parsed=[]}n&&Object.isExtensible(n)&&PW(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,s=this.getDataset();let i=!1;this._dataCheck();const o=n._stacked;n._stacked=X_(n.vScale,n),n.stack!==s.stack&&(i=!0,va(n),n.stack=s.stack),this._resyncElements(e),(i||o!==n._stacked)&&J_(this,n._parsed)}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:s,_data:i}=this,{iScale:o,_stacked:r}=s,a=o.axis;let l=e===0&&n===i.length?!0:s._sorted,c=e>0&&s._parsed[e-1],u,d,h;if(this._parsing===!1)s._parsed=i,s._sorted=!0,h=i;else{vt(i[e])?h=this.parseArrayData(s,i,e,n):He(i[e])?h=this.parseObjectData(s,i,e,n):h=this.parsePrimitiveData(s,i,e,n);const f=()=>d[a]===null||c&&d[a]<c[a];for(u=0;u<n;++u)s._parsed[u+e]=d=h[u],l&&(f()&&(l=!1),c=d);s._sorted=l}r&&J_(this,h)}parsePrimitiveData(e,n,s,i){const{iScale:o,vScale:r}=e,a=o.axis,l=r.axis,c=o.getLabels(),u=o===r,d=new Array(i);let h,f,p;for(h=0,f=i;h<f;++h)p=h+s,d[h]={[a]:u||o.parse(c[p],p),[l]:r.parse(n[p],p)};return d}parseArrayData(e,n,s,i){const{xScale:o,yScale:r}=e,a=new Array(i);let l,c,u,d;for(l=0,c=i;l<c;++l)u=l+s,d=n[u],a[l]={x:o.parse(d[0],u),y:r.parse(d[1],u)};return a}parseObjectData(e,n,s,i){const{xScale:o,yScale:r}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,d,h,f;for(u=0,d=i;u<d;++u)h=u+s,f=n[h],c[u]={x:o.parse(Hi(f,a),h),y:r.parse(Hi(f,l),h)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,s){const i=this.chart,o=this._cachedMeta,r=n[e.axis],a={keys:Bb(i,!0),values:n._stacks[e.axis]._visualValues};return K_(a,r,o.index,{mode:s})}updateRangeFromParsed(e,n,s,i){const o=s[n.axis];let r=o===null?NaN:o;const a=i&&s._stacks[n.axis];i&&a&&(i.values=a,r=K_(i,o,this._cachedMeta.index)),e.min=Math.min(e.min,r),e.max=Math.max(e.max,r)}getMinMax(e,n){const s=this._cachedMeta,i=s._parsed,o=s._sorted&&e===s.iScale,r=i.length,a=this._getOtherScale(e),l=Jj(n,s,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=Yj(a);let h,f;function p(){f=i[h];const g=f[a.axis];return!St(f[e.axis])||u>g||d<g}for(h=0;h<r&&!(!p()&&(this.updateRangeFromParsed(c,e,f,l),o));++h);if(o){for(h=r-1;h>=0;--h)if(!p()){this.updateRangeFromParsed(c,e,f,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,s=[];let i,o,r;for(i=0,o=n.length;i<o;++i)r=n[i][e.axis],St(r)&&s.push(r);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,s=n.iScale,i=n.vScale,o=this.getParsed(e);return{label:s?""+s.getLabelForValue(o[s.axis]):"",value:i?""+i.getLabelForValue(o[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=Wj(Ne(this.options.clip,qj(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,s=this._cachedMeta,i=s.data||[],o=n.chartArea,r=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(s.dataset&&s.dataset.draw(e,o,a,l),u=a;u<a+l;++u){const d=i[u];d.hidden||(d.active&&c?r.push(d):d.draw(e,o))}for(u=0;u<r.length;++u)r[u].draw(e,o)}getStyle(e,n){const s=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,n,s){const i=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const r=this._cachedMeta.data[e];o=r.$context||(r.$context=Gj(this.getContext(),e,r)),o.parsed=this.getParsed(e),o.raw=i.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=Xj(this.chart.getContext(),this.index)),o.dataset=i,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=s,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",s){const i=n==="active",o=this._cachedDataOpts,r=e+"-"+n,a=o[r],l=this.enableOptionSharing&&kl(s);if(a)return Z_(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),d=i?[`${e}Hover`,"hover",e,""]:[e,""],h=c.getOptionScopes(this.getDataset(),u),f=Object.keys($t.elements[e]),p=()=>this.getContext(s,i,n),g=c.resolveNamedOptions(h,f,p,d);return g.$shared&&(g.$shared=l,o[r]=Object.freeze(Z_(g,l))),g}_resolveAnimations(e,n,s){const i=this.chart,o=this._cachedDataOpts,r=`animation-${n}`,a=o[r];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,n),h=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(h,this.getContext(e,s,n))}const c=new zb(i,l&&l.animations);return l&&l._cacheable&&(o[r]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Wh(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const s=this.resolveDataElementOptions(e,n),i=this._sharedOptions,o=this.getSharedOptions(s),r=this.includeOptions(n,o)||o!==i;return this.updateSharedOptions(o,n,s),{sharedOptions:o,includeOptions:r}}updateElement(e,n,s,i){Wh(i)?Object.assign(e,s):this._resolveAnimations(n,i).update(e,s)}updateSharedOptions(e,n,s){e&&!Wh(n)&&this._resolveAnimations(void 0,n).update(e,s)}_setStyle(e,n,s,i){e.active=i;const o=this.getStyle(n,i);this._resolveAnimations(n,s,i).update(e,{options:!i&&this.getSharedOptions(o)||o})}removeHoverStyle(e,n,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,n,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,s=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=s.length,o=n.length,r=Math.min(o,i);r&&this.parse(0,r),o>i?this._insertElements(i,o-i,e):o<i&&this._removeElements(o,i-o)}_insertElements(e,n,s=!0){const i=this._cachedMeta,o=i.data,r=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=r;a--)c[a]=c[a-n]};for(l(o),a=e;a<r;++a)o[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,n),s&&this.updateElements(o,e,n,"reset")}updateElements(e,n,s,i){}_removeElements(e,n){const s=this._cachedMeta;if(this._parsing){const i=s._parsed.splice(e,n);s._stacked&&va(s,i)}s.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,s,i]=e;this[n](s,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}P(is,"defaults",{}),P(is,"datasetElementType",null),P(is,"dataElementType",null);function Zj(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let s=[];for(let i=0,o=n.length;i<o;i++)s=s.concat(n[i].controller.getAllParsedValues(t));t._cache.$bar=yb(s.sort((i,o)=>i-o))}return t._cache.$bar}function Qj(t){const e=t.iScale,n=Zj(e,t.type);let s=e._length,i,o,r,a;const l=()=>{r===32767||r===-32768||(kl(a)&&(s=Math.min(s,Math.abs(r-a)||s)),a=r)};for(i=0,o=n.length;i<o;++i)r=e.getPixelForValue(n[i]),l();for(a=void 0,i=0,o=e.ticks.length;i<o;++i)r=e.getPixelForTick(i),l();return s}function eH(t,e,n,s){const i=n.barThickness;let o,r;return tt(i)?(o=e.min*n.categoryPercentage,r=n.barPercentage):(o=i*s,r=1),{chunk:o/s,ratio:r,start:e.pixels[t]-o/2}}function tH(t,e,n,s){const i=e.pixels,o=i[t];let r=t>0?i[t-1]:null,a=t<i.length-1?i[t+1]:null;const l=n.categoryPercentage;r===null&&(r=o-(a===null?e.end-e.start:a-o)),a===null&&(a=o+o-r);const c=o-(o-Math.min(r,a))/2*l;return{chunk:Math.abs(a-r)/2*l/s,ratio:n.barPercentage,start:c}}function nH(t,e,n,s){const i=n.parse(t[0],s),o=n.parse(t[1],s),r=Math.min(i,o),a=Math.max(i,o);let l=r,c=a;Math.abs(r)>Math.abs(a)&&(l=a,c=r),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:i,end:o,min:r,max:a}}function Ub(t,e,n,s){return vt(t)?nH(t,e,n,s):e[n.axis]=n.parse(t,s),e}function Q_(t,e,n,s){const i=t.iScale,o=t.vScale,r=i.getLabels(),a=i===o,l=[];let c,u,d,h;for(c=n,u=n+s;c<u;++c)h=e[c],d={},d[i.axis]=a||i.parse(r[c],c),l.push(Ub(h,d,o,c));return l}function jh(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function sH(t,e,n){return t!==0?Ts(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function iH(t){let e,n,s,i,o;return t.horizontal?(e=t.base>t.x,n="left",s="right"):(e=t.base<t.y,n="bottom",s="top"),e?(i="end",o="start"):(i="start",o="end"),{start:n,end:s,reverse:e,top:i,bottom:o}}function oH(t,e,n,s){let i=e.borderSkipped;const o={};if(!i){t.borderSkipped=o;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:r,end:a,reverse:l,top:c,bottom:u}=iH(t);i==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===s?i=c:(n._bottom||0)===s?i=u:(o[e0(u,r,a,l)]=!0,i=c)),o[e0(i,r,a,l)]=!0,t.borderSkipped=o}function e0(t,e,n,s){return s?(t=rH(t,e,n),t=t0(t,n,e)):t=t0(t,e,n),t}function rH(t,e,n){return t===e?n:t===n?e:t}function t0(t,e,n){return t==="start"?e:t==="end"?n:t}function aH(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class tu extends is{parsePrimitiveData(e,n,s,i){return Q_(e,n,s,i)}parseArrayData(e,n,s,i){return Q_(e,n,s,i)}parseObjectData(e,n,s,i){const{iScale:o,vScale:r}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=o.axis==="x"?a:l,u=r.axis==="x"?a:l,d=[];let h,f,p,g;for(h=s,f=s+i;h<f;++h)g=n[h],p={},p[o.axis]=o.parse(Hi(g,c),h),d.push(Ub(Hi(g,u),p,r,h));return d}updateRangeFromParsed(e,n,s,i){super.updateRangeFromParsed(e,n,s,i);const o=s._custom;o&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:s,vScale:i}=n,o=this.getParsed(e),r=o._custom,a=jh(r)?"["+r.start+", "+r.end+"]":""+i.getLabelForValue(o[i.axis]);return{label:""+s.getLabelForValue(o[s.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,s,i){const o=i==="reset",{index:r,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:d,includeOptions:h}=this._getSharedOptions(n,i);for(let f=n;f<n+s;f++){const p=this.getParsed(f),g=o||tt(p[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),_=this._calculateBarIndexPixels(f,u),b=(p._stacks||{})[a.axis],x={horizontal:c,base:g.base,enableBorderRadius:!b||jh(p._custom)||r===b._top||r===b._bottom,x:c?g.head:_.center,y:c?_.center:g.head,height:c?_.size:Math.abs(g.size),width:c?Math.abs(g.size):_.size};h&&(x.options=d||this.resolveDataElementOptions(f,e[f].active?"active":i));const $=x.options||e[f].options;oH(x,$,b,r),aH(x,$,u.ratio),this.updateElement(e[f],f,x,i)}}_getStacks(e,n){const{iScale:s}=this._cachedMeta,i=s.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),o=s.options.stacked,r=[],a=l=>{const c=l.controller.getParsed(n),u=c&&c[l.vScale.axis];if(tt(u)||isNaN(u))return!0};for(const l of i)if(!(n!==void 0&&a(l))&&((o===!1||r.indexOf(l.stack)===-1||o===void 0&&l.stack===void 0)&&r.push(l.stack),l.index===e))break;return r.length||r.push(void 0),r}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,s){const i=this._getStacks(e,s),o=n!==void 0?i.indexOf(n):-1;return o===-1?i.length-1:o}_getRuler(){const e=this.options,n=this._cachedMeta,s=n.iScale,i=[];let o,r;for(o=0,r=n.data.length;o<r;++o)i.push(s.getPixelForValue(this.getParsed(o)[s.axis],o));const a=e.barThickness;return{min:a||Qj(n),pixels:i,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:s,index:i},options:{base:o,minBarLength:r}}=this,a=o||0,l=this.getParsed(e),c=l._custom,u=jh(c);let d=l[n.axis],h=0,f=s?this.applyStack(n,l,s):d,p,g;f!==d&&(h=f-d,f=d),u&&(d=c.barStart,f=c.barEnd-c.barStart,d!==0&&Ts(d)!==Ts(c.barEnd)&&(h=0),h+=d);const _=!tt(o)&&!u?o:h;let b=n.getPixelForValue(_);if(this.chart.getDataVisibility(e)?p=n.getPixelForValue(h+f):p=b,g=p-b,Math.abs(g)<r){g=sH(g,n,a)*r,d===a&&(b-=g/2);const x=n.getPixelForDecimal(0),$=n.getPixelForDecimal(1),S=Math.min(x,$),C=Math.max(x,$);b=Math.max(Math.min(b,C),S),p=b+g,s&&!u&&(l._stacks[n.axis]._visualValues[i]=n.getValueForPixel(p)-n.getValueForPixel(b))}if(b===n.getPixelForValue(a)){const x=Ts(g)*n.getLineWidthForValue(a)/2;b+=x,g-=x}return{size:g,base:b,head:p,center:p+g/2}}_calculateBarIndexPixels(e,n){const s=n.scale,i=this.options,o=i.skipNull,r=Ne(i.maxBarThickness,1/0);let a,l;if(n.grouped){const c=o?this._getStackCount(e):n.stackCount,u=i.barThickness==="flex"?tH(e,n,i,c):eH(e,n,i,c),d=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0);a=u.start+u.chunk*d+u.chunk/2,l=Math.min(r,u.chunk*u.ratio)}else a=s.getPixelForValue(this.getParsed(e)[s.axis],e),l=Math.min(r,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,s=e.data,i=s.length;let o=0;for(;o<i;++o)this.getParsed(o)[n.axis]!==null&&s[o].draw(this._ctx)}}P(tu,"id","bar"),P(tu,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),P(tu,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class nu extends is{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,s,i){const o=super.parsePrimitiveData(e,n,s,i);for(let r=0;r<o.length;r++)o[r]._custom=this.resolveDataElementOptions(r+s).radius;return o}parseArrayData(e,n,s,i){const o=super.parseArrayData(e,n,s,i);for(let r=0;r<o.length;r++){const a=n[s+r];o[r]._custom=Ne(a[2],this.resolveDataElementOptions(r+s).radius)}return o}parseObjectData(e,n,s,i){const o=super.parseObjectData(e,n,s,i);for(let r=0;r<o.length;r++){const a=n[s+r];o[r]._custom=Ne(a&&a.r&&+a.r,this.resolveDataElementOptions(r+s).radius)}return o}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let s=e.length-1;s>=0;--s)n=Math.max(n,e[s].size(this.resolveDataElementOptions(s))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart.data.labels||[],{xScale:i,yScale:o}=n,r=this.getParsed(e),a=i.getLabelForValue(r.x),l=o.getLabelForValue(r.y),c=r._custom;return{label:s[e]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,s,i){const o=i==="reset",{iScale:r,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(n,i),u=r.axis,d=a.axis;for(let h=n;h<n+s;h++){const f=e[h],p=!o&&this.getParsed(h),g={},_=g[u]=o?r.getPixelForDecimal(.5):r.getPixelForValue(p[u]),b=g[d]=o?a.getBasePixel():a.getPixelForValue(p[d]);g.skip=isNaN(_)||isNaN(b),c&&(g.options=l||this.resolveDataElementOptions(h,f.active?"active":i),o&&(g.options.radius=0)),this.updateElement(f,h,g,i)}}resolveDataElementOptions(e,n){const s=this.getParsed(e);let i=super.resolveDataElementOptions(e,n);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const o=i.radius;return n!=="active"&&(i.radius=0),i.radius+=Ne(s&&s._custom,o),i}}P(nu,"id","bubble"),P(nu,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),P(nu,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function lH(t,e,n){let s=1,i=1,o=0,r=0;if(e<bt){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),d=Math.cos(l),h=Math.sin(l),f=($,S,C)=>Sl($,a,l,!0)?1:Math.max(S,S*n,C,C*n),p=($,S,C)=>Sl($,a,l,!0)?-1:Math.min(S,S*n,C,C*n),g=f(0,c,d),_=f(Mt,u,h),b=p(yt,c,d),x=p(yt+Mt,u,h);s=(g-b)/2,i=(_-x)/2,o=-(g+b)/2,r=-(_+x)/2}return{ratioX:s,ratioY:i,offsetX:o,offsetY:r}}class ko extends is{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const s=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=s;else{let o=l=>+s[l];if(He(s[e])){const{key:l="value"}=this._parsing;o=c=>+Hi(s[c],l)}let r,a;for(r=e,a=e+n;r<a;++r)i._parsed[r]=o(r)}}_getRotation(){return ts(this.options.rotation-90)}_getCircumference(){return ts(this.options.circumference)}_getRotationExtents(){let e=bt,n=-bt;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const i=this.chart.getDatasetMeta(s).controller,o=i._getRotation(),r=i._getCircumference();e=Math.min(e,o),n=Math.max(n,o+r)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:s}=n,i=this._cachedMeta,o=i.data,r=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,a=Math.max((Math.min(s.width,s.height)-r)/2,0),l=Math.min(xW(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:d}=this._getRotationExtents(),{ratioX:h,ratioY:f,offsetX:p,offsetY:g}=lH(d,u,l),_=(s.width-r)/h,b=(s.height-r)/f,x=Math.max(Math.min(_,b)/2,0),$=mb(this.options.radius,x),S=Math.max($*l,0),C=($-S)/this._getVisibleDatasetWeightTotal();this.offsetX=p*$,this.offsetY=g*$,i.total=this.calculateTotal(),this.outerRadius=$-C*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-C*c,0),this.updateElements(o,0,o.length,e)}_circumference(e,n){const s=this.options,i=this._cachedMeta,o=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*o/bt)}updateElements(e,n,s,i){const o=i==="reset",r=this.chart,a=r.chartArea,c=r.options.animation,u=(a.left+a.right)/2,d=(a.top+a.bottom)/2,h=o&&c.animateScale,f=h?0:this.innerRadius,p=h?0:this.outerRadius,{sharedOptions:g,includeOptions:_}=this._getSharedOptions(n,i);let b=this._getRotation(),x;for(x=0;x<n;++x)b+=this._circumference(x,o);for(x=n;x<n+s;++x){const $=this._circumference(x,o),S=e[x],C={x:u+this.offsetX,y:d+this.offsetY,startAngle:b,endAngle:b+$,circumference:$,outerRadius:p,innerRadius:f};_&&(C.options=g||this.resolveDataElementOptions(x,S.active?"active":i)),b+=$,this.updateElement(S,x,C,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let s=0,i;for(i=0;i<n.length;i++){const o=e._parsed[i];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(s+=Math.abs(o))}return s}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?bt*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart,i=s.data.labels||[],o=Fl(n._parsed[e],s.options.locale);return{label:i[e]||"",value:o}}getMaxBorderWidth(e){let n=0;const s=this.chart;let i,o,r,a,l;if(!e){for(i=0,o=s.data.datasets.length;i<o;++i)if(s.isDatasetVisible(i)){r=s.getDatasetMeta(i),e=r.data,a=r.controller;break}}if(!e)return 0;for(i=0,o=e.length;i<o;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let s=0,i=e.length;s<i;++s){const o=this.resolveDataElementOptions(s);n=Math.max(n,o.offset||0,o.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(e){return Math.max(Ne(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}P(ko,"id","doughnut"),P(ko,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),P(ko,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),P(ko,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:s,color:i}}=e.legend.options;return n.labels.map((o,r)=>{const l=e.getDatasetMeta(0).controller.getStyle(r);return{text:o,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(r),index:r}})}return[]}},onClick(e,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}}});class su extends is{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:s,data:i=[],_dataset:o}=n,r=this.chart._animationsDisabled;let{start:a,count:l}=kb(n,i,r);this._drawStart=a,this._drawCount=l,Sb(n)&&(a=0,l=i.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!o._decimated,s.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(s,void 0,{animated:!r,options:c},e),this.updateElements(i,a,l,e)}updateElements(e,n,s,i){const o=i==="reset",{iScale:r,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(n,i),h=r.axis,f=a.axis,{spanGaps:p,segment:g}=this.options,_=Br(p)?p:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||o||i==="none",x=n+s,$=e.length;let S=n>0&&this.getParsed(n-1);for(let C=0;C<$;++C){const T=e[C],L=b?T:{};if(C<n||C>=x){L.skip=!0;continue}const E=this.getParsed(C),q=tt(E[f]),ee=L[h]=r.getPixelForValue(E[h],C),ie=L[f]=o||q?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,E,l):E[f],C);L.skip=isNaN(ee)||isNaN(ie)||q,L.stop=C>0&&Math.abs(E[h]-S[h])>_,g&&(L.parsed=E,L.raw=c.data[C]),d&&(L.options=u||this.resolveDataElementOptions(C,T.active?"active":i)),b||this.updateElement(T,C,L,i),S=E}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,s=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return s;const o=i[0].size(this.resolveDataElementOptions(0)),r=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,o,r)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}P(su,"id","line"),P(su,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),P(su,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Ja extends is{constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart,i=s.data.labels||[],o=Fl(n._parsed[e].r,s.options.locale);return{label:i[e]||"",value:o}}parseObjectData(e,n,s,i){return Ob.bind(this)(e,n,s,i)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((s,i)=>{const o=this.getParsed(i).r;!isNaN(o)&&this.chart.getDataVisibility(i)&&(o<n.min&&(n.min=o),o>n.max&&(n.max=o))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,s=e.options,i=Math.min(n.right-n.left,n.bottom-n.top),o=Math.max(i/2,0),r=Math.max(s.cutoutPercentage?o/100*s.cutoutPercentage:1,0),a=(o-r)/e.getVisibleDatasetCount();this.outerRadius=o-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,n,s,i){const o=i==="reset",r=this.chart,l=r.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,d=c.yCenter,h=c.getIndexAngle(0)-.5*yt;let f=h,p;const g=360/this.countVisibleElements();for(p=0;p<n;++p)f+=this._computeAngle(p,i,g);for(p=n;p<n+s;p++){const _=e[p];let b=f,x=f+this._computeAngle(p,i,g),$=r.getDataVisibility(p)?c.getDistanceFromCenterForValue(this.getParsed(p).r):0;f=x,o&&(l.animateScale&&($=0),l.animateRotate&&(b=x=h));const S={x:u,y:d,innerRadius:0,outerRadius:$,startAngle:b,endAngle:x,options:this.resolveDataElementOptions(p,_.active?"active":i)};this.updateElement(_,p,S,i)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((s,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&n++}),n}_computeAngle(e,n,s){return this.chart.getDataVisibility(e)?ts(this.resolveDataElementOptions(e,n).angle||s):0}}P(Ja,"id","polarArea"),P(Ja,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),P(Ja,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:s,color:i}}=e.legend.options;return n.labels.map((o,r)=>{const l=e.getDatasetMeta(0).controller.getStyle(r);return{text:o,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(r),index:r}})}return[]}},onClick(e,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class ip extends ko{}P(ip,"id","pie"),P(ip,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class iu extends is{getLabelAndValue(e){const n=this._cachedMeta.vScale,s=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(s[n.axis])}}parseObjectData(e,n,s,i){return Ob.bind(this)(e,n,s,i)}update(e){const n=this._cachedMeta,s=n.dataset,i=n.data||[],o=n.iScale.getLabels();if(s.points=i,e!=="resize"){const r=this.resolveDatasetElementOptions(e);this.options.showLine||(r.borderWidth=0);const a={_loop:!0,_fullLoop:o.length===i.length,options:r};this.updateElement(s,void 0,a,e)}this.updateElements(i,0,i.length,e)}updateElements(e,n,s,i){const o=this._cachedMeta.rScale,r=i==="reset";for(let a=n;a<n+s;a++){const l=e[a],c=this.resolveDataElementOptions(a,l.active?"active":i),u=o.getPointPositionForValue(a,this.getParsed(a).r),d=r?o.xCenter:u.x,h=r?o.yCenter:u.y,f={x:d,y:h,angle:u.angle,skip:isNaN(d)||isNaN(h),options:c};this.updateElement(l,a,f,i)}}}P(iu,"id","radar"),P(iu,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),P(iu,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class ou extends is{getLabelAndValue(e){const n=this._cachedMeta,s=this.chart.data.labels||[],{xScale:i,yScale:o}=n,r=this.getParsed(e),a=i.getLabelForValue(r.x),l=o.getLabelForValue(r.y);return{label:s[e]||"",value:"("+a+", "+l+")"}}update(e){const n=this._cachedMeta,{data:s=[]}=n,i=this.chart._animationsDisabled;let{start:o,count:r}=kb(n,s,i);if(this._drawStart=o,this._drawCount=r,Sb(n)&&(o=0,r=s.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=s;const c=this.resolveDatasetElementOptions(e);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!i,options:c},e)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(s,o,r,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,s,i){const o=i==="reset",{iScale:r,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(n,i),d=this.getSharedOptions(u),h=this.includeOptions(i,d),f=r.axis,p=a.axis,{spanGaps:g,segment:_}=this.options,b=Br(g)?g:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||o||i==="none";let $=n>0&&this.getParsed(n-1);for(let S=n;S<n+s;++S){const C=e[S],T=this.getParsed(S),L=x?C:{},E=tt(T[p]),q=L[f]=r.getPixelForValue(T[f],S),ee=L[p]=o||E?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,T,l):T[p],S);L.skip=isNaN(q)||isNaN(ee)||E,L.stop=S>0&&Math.abs(T[f]-$[f])>b,_&&(L.parsed=T,L.raw=c.data[S]),h&&(L.options=d||this.resolveDataElementOptions(S,C.active?"active":i)),x||this.updateElement(C,S,L,i),$=T}this.updateSharedOptions(d,i,u)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const s=e.dataset,i=s.options&&s.options.borderWidth||0;if(!n.length)return i;const o=n[0].size(this.resolveDataElementOptions(0)),r=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,o,r)/2}}P(ou,"id","scatter"),P(ou,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),P(ou,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var cH=Object.freeze({__proto__:null,BarController:tu,BubbleController:nu,DoughnutController:ko,LineController:su,PieController:ip,PolarAreaController:Ja,RadarController:iu,ScatterController:ou});function fo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class tm{constructor(e){P(this,"options");this.options=e||{}}static override(e){Object.assign(tm.prototype,e)}init(){}formats(){return fo()}parse(){return fo()}format(){return fo()}add(){return fo()}diff(){return fo()}startOf(){return fo()}endOf(){return fo()}}var uH={_date:tm};function dH(t,e,n,s){const{controller:i,data:o,_sorted:r}=t,a=i._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&r&&o.length){const l=a._reversePixels?IW:ti;if(s){if(i._sharedOptions){const c=o[0],u=typeof c.getRange=="function"&&c.getRange(e);if(u){const d=l(o,e,n-u),h=l(o,e,n+u);return{lo:d.lo,hi:h.hi}}}}else return l(o,e,n)}return{lo:0,hi:o.length-1}}function ql(t,e,n,s,i){const o=t.getSortedVisibleDatasetMetas(),r=n[e];for(let a=0,l=o.length;a<l;++a){const{index:c,data:u}=o[a],{lo:d,hi:h}=dH(o[a],e,r,i);for(let f=d;f<=h;++f){const p=u[f];p.skip||s(p,c,f)}}}function hH(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(s,i){const o=e?Math.abs(s.x-i.x):0,r=n?Math.abs(s.y-i.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(r,2))}}function Hh(t,e,n,s,i){const o=[];return!i&&!t.isPointInArea(e)||ql(t,n,e,function(a,l,c){!i&&!ni(a,t.chartArea,0)||a.inRange(e.x,e.y,s)&&o.push({element:a,datasetIndex:l,index:c})},!0),o}function fH(t,e,n,s){let i=[];function o(r,a,l){const{startAngle:c,endAngle:u}=r.getProps(["startAngle","endAngle"],s),{angle:d}=vb(r,{x:e.x,y:e.y});Sl(d,c,u)&&i.push({element:r,datasetIndex:a,index:l})}return ql(t,n,e,o),i}function pH(t,e,n,s,i,o){let r=[];const a=hH(n);let l=Number.POSITIVE_INFINITY;function c(u,d,h){const f=u.inRange(e.x,e.y,i);if(s&&!f)return;const p=u.getCenterPoint(i);if(!(!!o||t.isPointInArea(p))&&!f)return;const _=a(e,p);_<l?(r=[{element:u,datasetIndex:d,index:h}],l=_):_===l&&r.push({element:u,datasetIndex:d,index:h})}return ql(t,n,e,c),r}function Yh(t,e,n,s,i,o){return!o&&!t.isPointInArea(e)?[]:n==="r"&&!s?fH(t,e,n,i):pH(t,e,n,s,i,o)}function n0(t,e,n,s,i){const o=[],r=n==="x"?"inXRange":"inYRange";let a=!1;return ql(t,n,e,(l,c,u)=>{l[r](e[n],i)&&(o.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,i))}),s&&!a?[]:o}var mH={evaluateInteractionItems:ql,modes:{index(t,e,n,s){const i=_o(e,t),o=n.axis||"x",r=n.includeInvisible||!1,a=n.intersect?Hh(t,i,o,s,r):Yh(t,i,o,!1,s,r),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,s){const i=_o(e,t),o=n.axis||"xy",r=n.includeInvisible||!1;let a=n.intersect?Hh(t,i,o,s,r):Yh(t,i,o,!1,s,r);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,s){const i=_o(e,t),o=n.axis||"xy",r=n.includeInvisible||!1;return Hh(t,i,o,s,r)},nearest(t,e,n,s){const i=_o(e,t),o=n.axis||"xy",r=n.includeInvisible||!1;return Yh(t,i,o,n.intersect,s,r)},x(t,e,n,s){const i=_o(e,t);return n0(t,i,"x",n.intersect,s)},y(t,e,n,s){const i=_o(e,t);return n0(t,i,"y",n.intersect,s)}}};const Fb=["left","top","right","bottom"];function ba(t,e){return t.filter(n=>n.pos===e)}function s0(t,e){return t.filter(n=>Fb.indexOf(n.pos)===-1&&n.box.axis===e)}function ya(t,e){return t.sort((n,s)=>{const i=e?s:n,o=e?n:s;return i.weight===o.weight?i.index-o.index:i.weight-o.weight})}function gH(t){const e=[];let n,s,i,o,r,a;for(n=0,s=(t||[]).length;n<s;++n)i=t[n],{position:o,options:{stack:r,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:r&&o+r,stackWeight:a});return e}function _H(t){const e={};for(const n of t){const{stack:s,pos:i,stackWeight:o}=n;if(!s||!Fb.includes(i))continue;const r=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=o}return e}function vH(t,e){const n=_H(t),{vBoxMaxWidth:s,hBoxMaxHeight:i}=e;let o,r,a;for(o=0,r=t.length;o<r;++o){a=t[o];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*s:l&&e.availableWidth,a.height=i):(a.width=s,a.height=u?u*i:l&&e.availableHeight)}return n}function bH(t){const e=gH(t),n=ya(e.filter(c=>c.box.fullSize),!0),s=ya(ba(e,"left"),!0),i=ya(ba(e,"right")),o=ya(ba(e,"top"),!0),r=ya(ba(e,"bottom")),a=s0(e,"x"),l=s0(e,"y");return{fullSize:n,leftAndTop:s.concat(o),rightAndBottom:i.concat(l).concat(r).concat(a),chartArea:ba(e,"chartArea"),vertical:s.concat(i).concat(l),horizontal:o.concat(r).concat(a)}}function i0(t,e,n,s){return Math.max(t[n],e[n])+Math.max(t[s],e[s])}function qb(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function yH(t,e,n,s){const{pos:i,box:o}=n,r=t.maxPadding;if(!He(i)){n.size&&(t[i]-=n.size);const d=s[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?o.height:o.width),n.size=d.size/d.count,t[i]+=n.size}o.getPadding&&qb(r,o.getPadding());const a=Math.max(0,e.outerWidth-i0(r,t,"left","right")),l=Math.max(0,e.outerHeight-i0(r,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function wH(t){const e=t.maxPadding;function n(s){const i=Math.max(e[s]-t[s],0);return t[s]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function xH(t,e){const n=e.maxPadding;function s(i){const o={left:0,top:0,right:0,bottom:0};return i.forEach(r=>{o[r]=Math.max(e[r],n[r])}),o}return s(t?["left","right"]:["top","bottom"])}function Ma(t,e,n,s){const i=[];let o,r,a,l,c,u;for(o=0,r=t.length,c=0;o<r;++o){a=t[o],l=a.box,l.update(a.width||e.w,a.height||e.h,xH(a.horizontal,e));const{same:d,other:h}=yH(e,n,a,s);c|=d&&i.length,u=u||h,l.fullSize||i.push(a)}return c&&Ma(i,e,n,s)||u}function Dc(t,e,n,s,i){t.top=n,t.left=e,t.right=e+s,t.bottom=n+i,t.width=s,t.height=i}function o0(t,e,n,s){const i=n.padding;let{x:o,y:r}=e;for(const a of t){const l=a.box,c=s[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const d=e.w*u,h=c.size||l.height;kl(c.start)&&(r=c.start),l.fullSize?Dc(l,i.left,r,n.outerWidth-i.right-i.left,h):Dc(l,e.left+c.placed,r,d,h),c.start=r,c.placed+=d,r=l.bottom}else{const d=e.h*u,h=c.size||l.width;kl(c.start)&&(o=c.start),l.fullSize?Dc(l,o,i.top,h,n.outerHeight-i.bottom-i.top):Dc(l,o,e.top+c.placed,h,d),c.start=o,c.placed+=d,o=l.right}}e.x=o,e.y=r}var rn={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,s){if(!t)return;const i=cn(t.options.layout.padding),o=Math.max(e-i.width,0),r=Math.max(n-i.height,0),a=bH(t.boxes),l=a.vertical,c=a.horizontal;ut(t.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const u=l.reduce((g,_)=>_.box.options&&_.box.options.display===!1?g:g+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:o,availableHeight:r,vBoxMaxWidth:o/2/u,hBoxMaxHeight:r/2}),h=Object.assign({},i);qb(h,cn(s));const f=Object.assign({maxPadding:h,w:o,h:r,x:i.left,y:i.top},i),p=vH(l.concat(c),d);Ma(a.fullSize,f,d,p),Ma(l,f,d,p),Ma(c,f,d,p)&&Ma(l,f,d,p),wH(f),o0(a.leftAndTop,f,d,p),f.x+=f.w,f.y+=f.h,o0(a.rightAndBottom,f,d,p),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},ut(a.chartArea,g=>{const _=g.box;Object.assign(_,t.chartArea),_.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class Wb{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,s){}removeEventListener(e,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,s,i){return n=Math.max(0,n||e.width),s=s||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):s)}}isAttached(e){return!0}updateConfig(e){}}class kH extends Wb{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const ru="$chartjs",SH={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},r0=t=>t===null||t==="";function $H(t,e){const n=t.style,s=t.getAttribute("height"),i=t.getAttribute("width");if(t[ru]={initial:{height:s,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",r0(i)){const o=F_(t,"width");o!==void 0&&(t.width=o)}if(r0(s))if(t.style.height==="")t.height=t.width/(e||2);else{const o=F_(t,"height");o!==void 0&&(t.height=o)}return t}const jb=Aj?{passive:!0}:!1;function CH(t,e,n){t.addEventListener(e,n,jb)}function AH(t,e,n){t.canvas.removeEventListener(e,n,jb)}function MH(t,e){const n=SH[t.type]||t.type,{x:s,y:i}=_o(t,e);return{type:n,chart:e,native:t,x:s!==void 0?s:null,y:i!==void 0?i:null}}function Tu(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function EH(t,e,n){const s=t.canvas,i=new MutationObserver(o=>{let r=!1;for(const a of o)r=r||Tu(a.addedNodes,s),r=r&&!Tu(a.removedNodes,s);r&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function TH(t,e,n){const s=t.canvas,i=new MutationObserver(o=>{let r=!1;for(const a of o)r=r||Tu(a.removedNodes,s),r=r&&!Tu(a.addedNodes,s);r&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const Cl=new Map;let a0=0;function Hb(){const t=window.devicePixelRatio;t!==a0&&(a0=t,Cl.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function LH(t,e){Cl.size||window.addEventListener("resize",Hb),Cl.set(t,e)}function OH(t){Cl.delete(t),Cl.size||window.removeEventListener("resize",Hb)}function DH(t,e,n){const s=t.canvas,i=s&&em(s);if(!i)return;const o=xb((a,l)=>{const c=i.clientWidth;n(a,l),c<i.clientWidth&&n()},window),r=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||o(c,u)});return r.observe(i),LH(t,o),r}function Kh(t,e,n){n&&n.disconnect(),e==="resize"&&OH(t)}function IH(t,e,n){const s=t.canvas,i=xb(o=>{t.ctx!==null&&n(MH(o,t))},t);return CH(s,e,i),i}class RH extends Wb{acquireContext(e,n){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?($H(e,n),s):null}releaseContext(e){const n=e.canvas;if(!n[ru])return!1;const s=n[ru].initial;["height","width"].forEach(o=>{const r=s[o];tt(r)?n.removeAttribute(o):n.setAttribute(o,r)});const i=s.style||{};return Object.keys(i).forEach(o=>{n.style[o]=i[o]}),n.width=n.width,delete n[ru],!0}addEventListener(e,n,s){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),r={attach:EH,detach:TH,resize:DH}[n]||IH;i[n]=r(e,n,s)}removeEventListener(e,n){const s=e.$proxies||(e.$proxies={}),i=s[n];if(!i)return;({attach:Kh,detach:Kh,resize:Kh}[n]||AH)(e,n,i),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,s,i){return Cj(e,n,s,i)}isAttached(e){const n=em(e);return!!(n&&n.isConnected)}}function PH(t){return!Q1()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?kH:RH}var Uc;let gi=(Uc=class{constructor(){P(this,"x");P(this,"y");P(this,"active",!1);P(this,"options");P(this,"$animations")}tooltipPosition(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}hasValue(){return Br(this.x)&&Br(this.y)}getProps(e,n){const s=this.$animations;if(!n||!s)return this;const i={};return e.forEach(o=>{i[o]=s[o]&&s[o].active()?s[o]._to:this[o]}),i}},P(Uc,"defaults",{}),P(Uc,"defaultRoutes"),Uc);function NH(t,e){const n=t.options.ticks,s=VH(t),i=Math.min(n.maxTicksLimit||s,s),o=n.major.enabled?BH(e):[],r=o.length,a=o[0],l=o[r-1],c=[];if(r>i)return UH(e,c,o,r/i),c;const u=zH(o,e,i);if(r>0){let d,h;const f=r>1?Math.round((l-a)/(r-1)):null;for(Ic(e,c,u,tt(f)?0:a-f,a),d=0,h=r-1;d<h;d++)Ic(e,c,u,o[d],o[d+1]);return Ic(e,c,u,l,tt(f)?e.length:l+f),c}return Ic(e,c,u),c}function VH(t){const e=t.options.offset,n=t._tickSize(),s=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(s,i))}function zH(t,e,n){const s=FH(t),i=e.length/n;if(!s)return Math.max(i,1);const o=TW(s);for(let r=0,a=o.length-1;r<a;r++){const l=o[r];if(l>i)return l}return Math.max(i,1)}function BH(t){const e=[];let n,s;for(n=0,s=t.length;n<s;n++)t[n].major&&e.push(n);return e}function UH(t,e,n,s){let i=0,o=n[0],r;for(s=Math.ceil(s),r=0;r<t.length;r++)r===o&&(e.push(t[r]),i++,o=n[i*s])}function Ic(t,e,n,s,i){const o=Ne(s,0),r=Math.min(Ne(i,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),i&&(l=i-s,n=l/Math.floor(l/n)),u=o;u<0;)a++,u=Math.round(o+a*n);for(c=Math.max(o,0);c<r;c++)c===u&&(e.push(t[c]),a++,u=Math.round(o+a*n))}function FH(t){const e=t.length;let n,s;if(e<2)return!1;for(s=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==s)return!1;return s}const qH=t=>t==="left"?"right":t==="right"?"left":t,l0=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,c0=(t,e)=>Math.min(e||t,t);function u0(t,e){const n=[],s=t.length/e,i=t.length;let o=0;for(;o<i;o+=s)n.push(t[Math.floor(o)]);return n}function WH(t,e,n){const s=t.ticks.length,i=Math.min(e,s-1),o=t._startPixel,r=t._endPixel,a=1e-6;let l=t.getPixelForTick(i),c;if(!(n&&(s===1?c=Math.max(l-o,r-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<o-a||l>r+a)))return l}function jH(t,e){ut(t,n=>{const s=n.gc,i=s.length/2;let o;if(i>e){for(o=0;o<i;++o)delete n.data[s[o]];s.splice(0,i)}})}function wa(t){return t.drawTicks?t.tickLength:0}function d0(t,e){if(!t.display)return 0;const n=zt(t.font,e),s=cn(t.padding);return(vt(t.text)?t.text.length:1)*n.lineHeight+s.height}function HH(t,e){return Zi(t,{scale:e,type:"scale"})}function YH(t,e,n){return Zi(t,{tick:n,index:e,type:"tick"})}function KH(t,e,n){let s=Y1(t);return(n&&e!=="right"||!n&&e==="right")&&(s=qH(s)),s}function XH(t,e,n,s){const{top:i,left:o,bottom:r,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let d=0,h,f,p;const g=r-i,_=a-o;if(t.isHorizontal()){if(f=tn(s,o,a),He(n)){const b=Object.keys(n)[0],x=n[b];p=u[b].getPixelForValue(x)+g-e}else n==="center"?p=(c.bottom+c.top)/2+g-e:p=l0(t,n,e);h=a-o}else{if(He(n)){const b=Object.keys(n)[0],x=n[b];f=u[b].getPixelForValue(x)-_+e}else n==="center"?f=(c.left+c.right)/2-_+e:f=l0(t,n,e);p=tn(s,r,i),d=n==="left"?-Mt:Mt}return{titleX:f,titleY:p,maxWidth:h,rotation:d}}class Go extends gi{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:s,_suggestedMax:i}=this;return e=An(e,Number.POSITIVE_INFINITY),n=An(n,Number.NEGATIVE_INFINITY),s=An(s,Number.POSITIVE_INFINITY),i=An(i,Number.NEGATIVE_INFINITY),{min:An(e,s),max:An(n,i),minDefined:St(e),maxDefined:St(n)}}getMinMax(e){let{min:n,max:s,minDefined:i,maxDefined:o}=this.getUserBounds(),r;if(i&&o)return{min:n,max:s};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)r=a[l].controller.getMinMax(this,e),i||(n=Math.min(n,r.min)),o||(s=Math.max(s,r.max));return n=o&&n>s?s:n,s=i&&n>s?n:s,{min:An(n,An(s,n)),max:An(s,An(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){mt(this.options.beforeUpdate,[this])}update(e,n,s){const{beginAtZero:i,grace:o,ticks:r}=this.options,a=r.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=ij(this,o,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?u0(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||r.source==="auto")&&(this.ticks=NH(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,e=!e),this._startPixel=n,this._endPixel=s,this._reversePixels=e,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){mt(this.options.afterUpdate,[this])}beforeSetDimensions(){mt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){mt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),mt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){mt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let s,i,o;for(s=0,i=e.length;s<i;s++)o=e[s],o.label=mt(n.callback,[o.value,s,e],this)}afterTickToLabelConversion(){mt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){mt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,s=c0(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,o=n.maxRotation;let r=i,a,l,c;if(!this._isVisible()||!n.display||i>=o||s<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),d=u.widest.width,h=u.highest.height,f=Ft(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/s:f/(s-1),d+6>a&&(a=f/(s-(e.offset?.5:1)),l=this.maxHeight-wa(e.grid)-n.padding-d0(e.title,this.chart.options.font),c=Math.sqrt(d*d+h*h),r=j1(Math.min(Math.asin(Ft((u.highest.height+6)/a,-1,1)),Math.asin(Ft(l/c,-1,1))-Math.asin(Ft(h/c,-1,1)))),r=Math.max(i,Math.min(o,r))),this.labelRotation=r}afterCalculateLabelRotation(){mt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){mt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:s,title:i,grid:o}}=this,r=this._isVisible(),a=this.isHorizontal();if(r){const l=d0(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=wa(o)+l):(e.height=this.maxHeight,e.width=wa(o)+l),s.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:h}=this._getLabelSizes(),f=s.padding*2,p=ts(this.labelRotation),g=Math.cos(p),_=Math.sin(p);if(a){const b=s.mirror?0:_*d.width+g*h.height;e.height=Math.min(this.maxHeight,e.height+b+f)}else{const b=s.mirror?0:g*d.width+_*h.height;e.width=Math.min(this.maxWidth,e.width+b+f)}this._calculatePadding(c,u,_,g)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,s,i){const{ticks:{align:o,padding:r},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,f=0;l?c?(h=i*e.width,f=s*n.height):(h=s*e.height,f=i*n.width):o==="start"?f=n.width:o==="end"?h=e.width:o!=="inner"&&(h=e.width/2,f=n.width/2),this.paddingLeft=Math.max((h-u+r)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-d+r)*this.width/(this.width-d),0)}else{let u=n.height/2,d=e.height/2;o==="start"?(u=0,d=e.height):o==="end"&&(u=n.height,d=0),this.paddingTop=u+r,this.paddingBottom=d+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){mt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,s;for(n=0,s=e.length;n<s;n++)tt(e[n].label)&&(e.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=u0(s,n)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,s){const{ctx:i,_longestTextCache:o}=this,r=[],a=[],l=Math.floor(n/c0(n,s));let c=0,u=0,d,h,f,p,g,_,b,x,$,S,C;for(d=0;d<n;d+=l){if(p=e[d].label,g=this._resolveTickFontOptions(d),i.font=_=g.string,b=o[_]=o[_]||{data:{},gc:[]},x=g.lineHeight,$=S=0,!tt(p)&&!vt(p))$=Mu(i,b.data,b.gc,$,p),S=x;else if(vt(p))for(h=0,f=p.length;h<f;++h)C=p[h],!tt(C)&&!vt(C)&&($=Mu(i,b.data,b.gc,$,C),S+=x);r.push($),a.push(S),c=Math.max($,c),u=Math.max(S,u)}jH(o,n);const T=r.indexOf(c),L=a.indexOf(u),E=q=>({width:r[q]||0,height:a[q]||0});return{first:E(0),last:E(n-1),widest:E(T),highest:E(L),widths:r,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return DW(this._alignToPixels?ho(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const s=n[e];return s.$context||(s.$context=YH(this.getContext(),e,s))}return this.$context||(this.$context=HH(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=ts(this.labelRotation),s=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),o=this._getLabelSizes(),r=e.autoSkipPadding||0,a=o?o.widest.width+r:0,l=o?o.highest.height+r:0;return this.isHorizontal()?l*s>a*i?a/s:l/i:l*i<a*s?l/s:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,s=this.chart,i=this.options,{grid:o,position:r,border:a}=i,l=o.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),h=wa(o),f=[],p=a.setContext(this.getContext()),g=p.display?p.width:0,_=g/2,b=function(oe){return ho(s,oe,g)};let x,$,S,C,T,L,E,q,ee,ie,X,R;if(r==="top")x=b(this.bottom),L=this.bottom-h,q=x-_,ie=b(e.top)+_,R=e.bottom;else if(r==="bottom")x=b(this.top),ie=e.top,R=b(e.bottom)-_,L=x+_,q=this.top+h;else if(r==="left")x=b(this.right),T=this.right-h,E=x-_,ee=b(e.left)+_,X=e.right;else if(r==="right")x=b(this.left),ee=e.left,X=b(e.right)-_,T=x+_,E=this.left+h;else if(n==="x"){if(r==="center")x=b((e.top+e.bottom)/2+.5);else if(He(r)){const oe=Object.keys(r)[0],pe=r[oe];x=b(this.chart.scales[oe].getPixelForValue(pe))}ie=e.top,R=e.bottom,L=x+_,q=L+h}else if(n==="y"){if(r==="center")x=b((e.left+e.right)/2);else if(He(r)){const oe=Object.keys(r)[0],pe=r[oe];x=b(this.chart.scales[oe].getPixelForValue(pe))}T=x-_,E=T-h,ee=e.left,X=e.right}const j=Ne(i.ticks.maxTicksLimit,d),Y=Math.max(1,Math.ceil(d/j));for($=0;$<d;$+=Y){const oe=this.getContext($),pe=o.setContext(oe),Se=a.setContext(oe),qe=pe.lineWidth,le=pe.color,ze=Se.dash||[],Ze=Se.dashOffset,at=pe.tickWidth,wt=pe.tickColor,Ue=pe.tickBorderDash||[],lt=pe.tickBorderDashOffset;S=WH(this,$,l),S!==void 0&&(C=ho(s,S,qe),c?T=E=ee=X=C:L=q=ie=R=C,f.push({tx1:T,ty1:L,tx2:E,ty2:q,x1:ee,y1:ie,x2:X,y2:R,width:qe,color:le,borderDash:ze,borderDashOffset:Ze,tickWidth:at,tickColor:wt,tickBorderDash:Ue,tickBorderDashOffset:lt}))}return this._ticksLength=d,this._borderValue=x,f}_computeLabelItems(e){const n=this.axis,s=this.options,{position:i,ticks:o}=s,r=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=o,h=wa(s.grid),f=h+u,p=d?-u:f,g=-ts(this.labelRotation),_=[];let b,x,$,S,C,T,L,E,q,ee,ie,X,R="middle";if(i==="top")T=this.bottom-p,L=this._getXAxisLabelAlignment();else if(i==="bottom")T=this.top+p,L=this._getXAxisLabelAlignment();else if(i==="left"){const Y=this._getYAxisLabelAlignment(h);L=Y.textAlign,C=Y.x}else if(i==="right"){const Y=this._getYAxisLabelAlignment(h);L=Y.textAlign,C=Y.x}else if(n==="x"){if(i==="center")T=(e.top+e.bottom)/2+f;else if(He(i)){const Y=Object.keys(i)[0],oe=i[Y];T=this.chart.scales[Y].getPixelForValue(oe)+f}L=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")C=(e.left+e.right)/2-f;else if(He(i)){const Y=Object.keys(i)[0],oe=i[Y];C=this.chart.scales[Y].getPixelForValue(oe)}L=this._getYAxisLabelAlignment(h).textAlign}n==="y"&&(l==="start"?R="top":l==="end"&&(R="bottom"));const j=this._getLabelSizes();for(b=0,x=a.length;b<x;++b){$=a[b],S=$.label;const Y=o.setContext(this.getContext(b));E=this.getPixelForTick(b)+o.labelOffset,q=this._resolveTickFontOptions(b),ee=q.lineHeight,ie=vt(S)?S.length:1;const oe=ie/2,pe=Y.color,Se=Y.textStrokeColor,qe=Y.textStrokeWidth;let le=L;r?(C=E,L==="inner"&&(b===x-1?le=this.options.reverse?"left":"right":b===0?le=this.options.reverse?"right":"left":le="center"),i==="top"?c==="near"||g!==0?X=-ie*ee+ee/2:c==="center"?X=-j.highest.height/2-oe*ee+ee:X=-j.highest.height+ee/2:c==="near"||g!==0?X=ee/2:c==="center"?X=j.highest.height/2-oe*ee:X=j.highest.height-ie*ee,d&&(X*=-1),g!==0&&!Y.showLabelBackdrop&&(C+=ee/2*Math.sin(g))):(T=E,X=(1-ie)*ee/2);let ze;if(Y.showLabelBackdrop){const Ze=cn(Y.backdropPadding),at=j.heights[b],wt=j.widths[b];let Ue=X-Ze.top,lt=0-Ze.left;switch(R){case"middle":Ue-=at/2;break;case"bottom":Ue-=at;break}switch(L){case"center":lt-=wt/2;break;case"right":lt-=wt;break;case"inner":b===x-1?lt-=wt:b>0&&(lt-=wt/2);break}ze={left:lt,top:Ue,width:wt+Ze.width,height:at+Ze.height,color:Y.backdropColor}}_.push({label:S,font:q,textOffset:X,options:{rotation:g,color:pe,strokeColor:Se,strokeWidth:qe,textAlign:le,textBaseline:R,translation:[C,T],backdrop:ze}})}return _}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-ts(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:s,mirror:i,padding:o}}=this.options,r=this._getLabelSizes(),a=e+o,l=r.widest.width;let c,u;return n==="left"?i?(u=this.right+o,s==="near"?c="left":s==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,s==="near"?c="right":s==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?i?(u=this.left+o,s==="near"?c="right":s==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,s==="near"?c="left":s==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:s,top:i,width:o,height:r}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(s,i,o,r),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(o=>o.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,s=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,r;const a=(l,c,u)=>{!u.width||!u.color||(s.save(),s.lineWidth=u.width,s.strokeStyle=u.color,s.setLineDash(u.borderDash||[]),s.lineDashOffset=u.borderDashOffset,s.beginPath(),s.moveTo(l.x,l.y),s.lineTo(c.x,c.y),s.stroke(),s.restore())};if(n.display)for(o=0,r=i.length;o<r;++o){const l=i[o];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:s,grid:i}}=this,o=s.setContext(this.getContext()),r=s.display?o.width:0;if(!r)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,h;this.isHorizontal()?(c=ho(e,this.left,r)-r/2,u=ho(e,this.right,a)+a/2,d=h=l):(d=ho(e,this.top,r)-r/2,h=ho(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=o.width,n.strokeStyle=o.color,n.beginPath(),n.moveTo(c,d),n.lineTo(u,h),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,i=this._computeLabelArea();i&&wd(s,i);const o=this.getLabelItems(e);for(const r of o){const a=r.options,l=r.font,c=r.label,u=r.textOffset;Po(s,c,0,u,l,a)}i&&xd(s)}drawTitle(){const{ctx:e,options:{position:n,title:s,reverse:i}}=this;if(!s.display)return;const o=zt(s.font),r=cn(s.padding),a=s.align;let l=o.lineHeight/2;n==="bottom"||n==="center"||He(n)?(l+=r.bottom,vt(s.text)&&(l+=o.lineHeight*(s.text.length-1))):l+=r.top;const{titleX:c,titleY:u,maxWidth:d,rotation:h}=XH(this,l,n,a);Po(e,s.text,0,0,o,{color:s.color,maxWidth:d,rotation:h,textAlign:KH(a,n,i),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,s=Ne(e.grid&&e.grid.z,-1),i=Ne(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Go.prototype.draw?[{z:n,draw:o=>{this.draw(o)}}]:[{z:s,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",i=[];let o,r;for(o=0,r=n.length;o<r;++o){const a=n[o];a[s]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return zt(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Rc{constructor(e,n,s){this.type=e,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let s;ZH(n)&&(s=this.register(n));const i=this.items,o=e.id,r=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in i||(i[o]=e,GH(e,r,s),this.override&&$t.override(e.id,e.overrides)),r}get(e){return this.items[e]}unregister(e){const n=this.items,s=e.id,i=this.scope;s in n&&delete n[s],i&&s in $t[i]&&(delete $t[i][s],this.override&&delete Ro[s])}}function GH(t,e,n){const s=xl(Object.create(null),[n?$t.get(n):{},$t.get(e),t.defaults]);$t.set(e,s),t.defaultRoutes&&JH(e,t.defaultRoutes),t.descriptors&&$t.describe(e,t.descriptors)}function JH(t,e){Object.keys(e).forEach(n=>{const s=n.split("."),i=s.pop(),o=[t].concat(s).join("."),r=e[n].split("."),a=r.pop(),l=r.join(".");$t.route(o,i,l,a)})}function ZH(t){return"id"in t&&"defaults"in t}class QH{constructor(){this.controllers=new Rc(is,"datasets",!0),this.elements=new Rc(gi,"elements"),this.plugins=new Rc(Object,"plugins"),this.scales=new Rc(Go,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,s){[...n].forEach(i=>{const o=s||this._getRegistryForType(i);s||o.isForType(i)||o===this.plugins&&i.id?this._exec(e,o,i):ut(i,r=>{const a=s||this._getRegistryForType(r);this._exec(e,a,r)})})}_exec(e,n,s){const i=W1(e);mt(s["before"+i],[],s),n[e](s),mt(s["after"+i],[],s)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(e))return s}return this.plugins}_get(e,n,s){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return i}}var bs=new QH;class eY{constructor(){this._init=[]}notify(e,n,s,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const o=i?this._descriptors(e).filter(i):this._descriptors(e),r=this._notify(o,e,n,s);return n==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall")),r}_notify(e,n,s,i){i=i||{};for(const o of e){const r=o.plugin,a=r[s],l=[n,i,o.options];if(mt(a,l,r)===!1&&i.cancelable)return!1}return!0}invalidate(){tt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const s=e&&e.config,i=Ne(s.options&&s.options.plugins,{}),o=tY(s);return i===!1&&!n?[]:sY(e,o,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],s=this._cache,i=(o,r)=>o.filter(a=>!r.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,s),e,"stop"),this._notify(i(s,n),e,"start")}}function tY(t){const e={},n=[],s=Object.keys(bs.plugins.items);for(let o=0;o<s.length;o++)n.push(bs.getPlugin(s[o]));const i=t.plugins||[];for(let o=0;o<i.length;o++){const r=i[o];n.indexOf(r)===-1&&(n.push(r),e[r.id]=!0)}return{plugins:n,localIds:e}}function nY(t,e){return!e&&t===!1?null:t===!0?{}:t}function sY(t,{plugins:e,localIds:n},s,i){const o=[],r=t.getContext();for(const a of e){const l=a.id,c=nY(s[l],i);c!==null&&o.push({plugin:a,options:iY(t.config,{plugin:a,local:n[l]},c,r)})}return o}function iY(t,{plugin:e,local:n},s,i){const o=t.pluginScopeKeys(e),r=t.getOptionScopes(s,o);return n&&e.defaults&&r.push(e.defaults),t.createResolver(r,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function op(t,e){const n=$t.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function oY(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function rY(t,e){return t===e?"_index_":"_value_"}function h0(t){if(t==="x"||t==="y"||t==="r")return t}function aY(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function rp(t,...e){if(h0(t))return t;for(const n of e){const s=n.axis||aY(n.position)||t.length>1&&h0(t[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function f0(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function lY(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(s=>s.xAxisID===t||s.yAxisID===t);if(n.length)return f0(t,"x",n[0])||f0(t,"y",n[0])}return{}}function cY(t,e){const n=Ro[t.type]||{scales:{}},s=e.scales||{},i=op(t.type,e),o=Object.create(null);return Object.keys(s).forEach(r=>{const a=s[r];if(!He(a))return console.error(`Invalid scale configuration for scale: ${r}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${r}`);const l=rp(r,a,lY(r,t),$t.scales[a.type]),c=rY(l,i),u=n.scales||{};o[r]=Ya(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(r=>{const a=r.type||t.type,l=r.indexAxis||op(a,e),u=(Ro[a]||{}).scales||{};Object.keys(u).forEach(d=>{const h=oY(d,l),f=r[h+"AxisID"]||h;o[f]=o[f]||Object.create(null),Ya(o[f],[{axis:h},s[f],u[d]])})}),Object.keys(o).forEach(r=>{const a=o[r];Ya(a,[$t.scales[a.type],$t.scale])}),o}function Yb(t){const e=t.options||(t.options={});e.plugins=Ne(e.plugins,{}),e.scales=cY(t,e)}function Kb(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function uY(t){return t=t||{},t.data=Kb(t.data),Yb(t),t}const p0=new Map,Xb=new Set;function Pc(t,e){let n=p0.get(t);return n||(n=e(),p0.set(t,n),Xb.add(n)),n}const xa=(t,e,n)=>{const s=Hi(e,n);s!==void 0&&t.add(s)};class dY{constructor(e){this._config=uY(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Kb(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Yb(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Pc(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Pc(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Pc(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,s=this.type;return Pc(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const s=this._scopeCache;let i=s.get(e);return(!i||n)&&(i=new Map,s.set(e,i)),i}getOptionScopes(e,n,s){const{options:i,type:o}=this,r=this._cachedScopes(e,s),a=r.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(d=>xa(l,e,d))),u.forEach(d=>xa(l,i,d)),u.forEach(d=>xa(l,Ro[o]||{},d)),u.forEach(d=>xa(l,$t,d)),u.forEach(d=>xa(l,np,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),Xb.has(n)&&r.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,Ro[n]||{},$t.datasets[n]||{},{type:n},$t,np]}resolveNamedOptions(e,n,s,i=[""]){const o={$shared:!0},{resolver:r,subPrefixes:a}=m0(this._resolverCache,e,i);let l=r;if(fY(r,n)){o.$shared=!1,s=Yi(s)?s():s;const c=this.createResolver(e,s,a);l=Ur(r,s,c)}for(const c of n)o[c]=l[c];return o}createResolver(e,n,s=[""],i){const{resolver:o}=m0(this._resolverCache,e,s);return He(n)?Ur(o,n,void 0,i):o}}function m0(t,e,n){let s=t.get(e);s||(s=new Map,t.set(e,s));const i=n.join();let o=s.get(i);return o||(o={resolver:G1(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},s.set(i,o)),o}const hY=t=>He(t)&&Object.getOwnPropertyNames(t).some(e=>Yi(t[e]));function fY(t,e){const{isScriptable:n,isIndexable:s}=Mb(t);for(const i of e){const o=n(i),r=s(i),a=(r||o)&&t[i];if(o&&(Yi(a)||hY(a))||r&&vt(a))return!0}return!1}var pY="4.4.1";const mY=["top","bottom","left","right","chartArea"];function g0(t,e){return t==="top"||t==="bottom"||mY.indexOf(t)===-1&&e==="x"}function _0(t,e){return function(n,s){return n[t]===s[t]?n[e]-s[e]:n[t]-s[t]}}function v0(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),mt(n&&n.onComplete,[t],e)}function gY(t){const e=t.chart,n=e.options.animation;mt(n&&n.onProgress,[t],e)}function Gb(t){return Q1()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const au={},b0=t=>{const e=Gb(t);return Object.values(au).filter(n=>n.canvas===e).pop()};function _Y(t,e,n){const s=Object.keys(t);for(const i of s){const o=+i;if(o>=e){const r=t[i];delete t[i],(n>0||o>e)&&(t[o+n]=r)}}}function vY(t,e,n,s){return!n||t.type==="mouseout"?null:s?e:t}function Nc(t,e,n){return t.options.clip?t[n]:e[n]}function bY(t,e){const{xScale:n,yScale:s}=t;return n&&s?{left:Nc(n,e,"left"),right:Nc(n,e,"right"),top:Nc(s,e,"top"),bottom:Nc(s,e,"bottom")}:e}class Ss{static register(...e){bs.add(...e),y0()}static unregister(...e){bs.remove(...e),y0()}constructor(e,n){const s=this.config=new dY(n),i=Gb(e),o=b0(i);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const r=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||PH(i)),this.platform.updateConfig(s);const a=this.platform.acquireContext(i,r.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=wW(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=r,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new eY,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=NW(d=>this.update(d),r.resizeDelay||0),this._dataChanges=[],au[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Ys.listen(this,"complete",v0),Ys.listen(this,"progress",gY),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:s,height:i,_aspectRatio:o}=this;return tt(e)?n&&o?o:i?s/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return bs}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():U_(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return V_(this.canvas,this.ctx),this}stop(){return Ys.stop(this),this}resize(e,n){Ys.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const s=this.options,i=this.canvas,o=s.maintainAspectRatio&&this.aspectRatio,r=this.platform.getMaximumSize(i,e,n,o),a=s.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=r.width,this.height=r.height,this._aspectRatio=this.aspectRatio,U_(this,a,!0)&&(this.notifyPlugins("resize",{size:r}),mt(s.onResize,[this,r],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};ut(n,(s,i)=>{s.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,s=this.scales,i=Object.keys(s).reduce((r,a)=>(r[a]=!1,r),{});let o=[];n&&(o=o.concat(Object.keys(n).map(r=>{const a=n[r],l=rp(r,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),ut(o,r=>{const a=r.options,l=a.id,c=rp(l,a),u=Ne(a.type,r.dtype);(a.position===void 0||g0(a.position,c)!==g0(r.dposition))&&(a.position=r.dposition),i[l]=!0;let d=null;if(l in s&&s[l].type===u)d=s[l];else{const h=bs.getScale(u);d=new h({id:l,type:u,ctx:this.ctx,chart:this}),s[d.id]=d}d.init(a,e)}),ut(i,(r,a)=>{r||delete s[a]}),ut(s,r=>{rn.configure(this,r,r.options),rn.addBox(this,r)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,s=e.length;if(e.sort((i,o)=>i.index-o.index),s>n){for(let i=n;i<s;++i)this._destroyDatasetMeta(i);e.splice(n,s-n)}this._sortedMetasets=e.slice(0).sort(_0("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((s,i)=>{n.filter(o=>o===s._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let s,i;for(this._removeUnreferencedMetasets(),s=0,i=n.length;s<i;s++){const o=n[s];let r=this.getDatasetMeta(s);const a=o.type||this.config.type;if(r.type&&r.type!==a&&(this._destroyDatasetMeta(s),r=this.getDatasetMeta(s)),r.type=a,r.indexAxis=o.indexAxis||op(a,this.options),r.order=o.order||0,r.index=s,r.label=""+o.label,r.visible=this.isDatasetVisible(s),r.controller)r.controller.updateIndex(s),r.controller.linkScales();else{const l=bs.getController(a),{datasetElementType:c,dataElementType:u}=$t.datasets[a];Object.assign(l,{dataElementType:bs.getElement(u),datasetElementType:c&&bs.getElement(c)}),r.controller=new l(this,s),e.push(r.controller)}}return this._updateMetasets(),e}_resetElements(){ut(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let r=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),h=!i&&o.indexOf(d)===-1;d.buildOrUpdateElements(h),r=Math.max(+d.getMaxOverflow(),r)}r=this._minPadding=s.layout.autoPadding?r:0,this._updateLayout(r),i||ut(o,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(_0("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){ut(this.scales,e=>{rn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!E_(n,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:i,count:o}of n){const r=s==="_removeElements"?-o:o;_Y(e,i,r)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=o=>new Set(e.filter(r=>r[0]===o).map((r,a)=>a+","+r.splice(1).join(","))),i=s(0);for(let o=1;o<n;o++)if(!E_(i,s(o)))return;return Array.from(i).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;rn.update(this,this.width,this.height,e);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],ut(this.boxes,i=>{s&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,o)=>{i._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,Yi(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const s=this.getDatasetMeta(e),i={meta:s,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(s.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ys.has(this)?this.attached&&!Ys.running(this)&&Ys.start(this):(this.draw(),v0({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:i}=this._resizeBeforeDraw;this._resize(s,i),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,s=[];let i,o;for(i=0,o=n.length;i<o;++i){const r=n[i];(!e||r.visible)&&s.push(r)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,s=e._clip,i=!s.disabled,o=bY(e,this.chartArea),r={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&wd(n,{left:s.left===!1?0:o.left-s.left,right:s.right===!1?this.width:o.right+s.right,top:s.top===!1?0:o.top-s.top,bottom:s.bottom===!1?this.height:o.bottom+s.bottom}),e.controller.draw(),i&&xd(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return ni(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,s,i){const o=mH.modes[n];return typeof o=="function"?o(this,e,s,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],s=this._metasets;let i=s.filter(o=>o&&o._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},s.push(i)),i}getContext(){return this.$context||(this.$context=Zi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(e,n){const s=this.getDatasetMeta(e);s.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,s){const i=s?"show":"hide",o=this.getDatasetMeta(e),r=o.controller._resolveAnimations(void 0,i);kl(n)?(o.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),r.update(o,{visible:s}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Ys.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),V_(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete au[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,s=(o,r)=>{n.addEventListener(this,o,r),e[o]=r},i=(o,r,a)=>{o.offsetX=r,o.offsetY=a,this._eventHandler(o)};ut(this.options.events,o=>s(o,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,s=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},o=(l,c)=>{this.canvas&&this.resize(l,c)};let r;const a=()=>{i("attach",a),this.attached=!0,this.resize(),s("resize",o),s("detach",r)};r=()=>{this.attached=!1,i("resize",o),this._stop(),this._resize(0,0),s("attach",a)},n.isAttached(this.canvas)?a():r()}unbindEvents(){ut(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},ut(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,s){const i=s?"set":"remove";let o,r,a,l;for(n==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){r=e[a];const c=r&&this.getDatasetMeta(r.datasetIndex).controller;c&&c[i+"HoverStyle"](r.element,r.datasetIndex,r.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],s=e.map(({datasetIndex:o,index:r})=>{const a=this.getDatasetMeta(o);if(!a)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:a.data[r],index:r}});!$u(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(e,n,s){return this._plugins.notify(this,e,n,s)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,s){const i=this.options.hover,o=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),r=o(n,e),a=s?e:o(e,n);r.length&&this.updateHoverStyle(r,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,n){const s={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=r=>(r.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,i)===!1)return;const o=this._handleEvent(e,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,i),(o||s.changed)&&this.render(),this}_handleEvent(e,n,s){const{_active:i=[],options:o}=this,r=n,a=this._getActiveElements(e,i,s,r),l=AW(e),c=vY(e,this._lastEvent,s,l);s&&(this._lastEvent=null,mt(o.onHover,[e,a,this],this),l&&mt(o.onClick,[e,a,this],this));const u=!$u(a,i);return(u||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=c,u}_getActiveElements(e,n,s,i){if(e.type==="mouseout")return[];if(!s)return n;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,i)}}P(Ss,"defaults",$t),P(Ss,"instances",au),P(Ss,"overrides",Ro),P(Ss,"registry",bs),P(Ss,"version",pY),P(Ss,"getChart",b0);function y0(){return ut(Ss.instances,t=>t._plugins.invalidate())}function yY(t,e,n){const{startAngle:s,pixelMargin:i,x:o,y:r,outerRadius:a,innerRadius:l}=e;let c=i/a;t.beginPath(),t.arc(o,r,a,s-c,n+c),l>i?(c=i/l,t.arc(o,r,l,n+c,s-c,!0)):t.arc(o,r,i,n+Mt,s-Mt),t.closePath(),t.clip()}function wY(t){return X1(t,["outerStart","outerEnd","innerStart","innerEnd"])}function xY(t,e,n,s){const i=wY(t.options.borderRadius),o=(n-e)/2,r=Math.min(o,s*e/2),a=l=>{const c=(n-Math.min(o,l))*s/2;return Ft(l,0,Math.min(o,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:Ft(i.innerStart,0,r),innerEnd:Ft(i.innerEnd,0,r)}}function lr(t,e,n,s){return{x:n+t*Math.cos(e),y:s+t*Math.sin(e)}}function Lu(t,e,n,s,i,o){const{x:r,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,d=Math.max(e.outerRadius+s+n-c,0),h=u>0?u+s+n+c:0;let f=0;const p=i-l;if(s){const Y=u>0?u-s:0,oe=d>0?d-s:0,pe=(Y+oe)/2,Se=pe!==0?p*pe/(pe+s):p;f=(p-Se)/2}const g=Math.max(.001,p*d-n/yt)/d,_=(p-g)/2,b=l+_+f,x=i-_-f,{outerStart:$,outerEnd:S,innerStart:C,innerEnd:T}=xY(e,h,d,x-b),L=d-$,E=d-S,q=b+$/L,ee=x-S/E,ie=h+C,X=h+T,R=b+C/ie,j=x-T/X;if(t.beginPath(),o){const Y=(q+ee)/2;if(t.arc(r,a,d,q,Y),t.arc(r,a,d,Y,ee),S>0){const qe=lr(E,ee,r,a);t.arc(qe.x,qe.y,S,ee,x+Mt)}const oe=lr(X,x,r,a);if(t.lineTo(oe.x,oe.y),T>0){const qe=lr(X,j,r,a);t.arc(qe.x,qe.y,T,x+Mt,j+Math.PI)}const pe=(x-T/h+(b+C/h))/2;if(t.arc(r,a,h,x-T/h,pe,!0),t.arc(r,a,h,pe,b+C/h,!0),C>0){const qe=lr(ie,R,r,a);t.arc(qe.x,qe.y,C,R+Math.PI,b-Mt)}const Se=lr(L,b,r,a);if(t.lineTo(Se.x,Se.y),$>0){const qe=lr(L,q,r,a);t.arc(qe.x,qe.y,$,b-Mt,q)}}else{t.moveTo(r,a);const Y=Math.cos(q)*d+r,oe=Math.sin(q)*d+a;t.lineTo(Y,oe);const pe=Math.cos(ee)*d+r,Se=Math.sin(ee)*d+a;t.lineTo(pe,Se)}t.closePath()}function kY(t,e,n,s,i){const{fullCircles:o,startAngle:r,circumference:a}=e;let l=e.endAngle;if(o){Lu(t,e,n,s,l,i);for(let c=0;c<o;++c)t.fill();isNaN(a)||(l=r+(a%bt||bt))}return Lu(t,e,n,s,l,i),t.fill(),l}function SY(t,e,n,s,i){const{fullCircles:o,startAngle:r,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:h}=l,f=l.borderAlign==="inner";if(!c)return;t.setLineDash(d||[]),t.lineDashOffset=h,f?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let p=e.endAngle;if(o){Lu(t,e,n,s,p,i);for(let g=0;g<o;++g)t.stroke();isNaN(a)||(p=r+(a%bt||bt))}f&&yY(t,e,p),o||(Lu(t,e,n,s,p,i),t.stroke())}class Ea extends gi{constructor(n){super();P(this,"circumference");P(this,"endAngle");P(this,"fullCircles");P(this,"innerRadius");P(this,"outerRadius");P(this,"pixelMargin");P(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,s,i){const o=this.getProps(["x","y"],i),{angle:r,distance:a}=vb(o,{x:n,y:s}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:d,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),f=(this.options.spacing+this.options.borderWidth)/2,g=Ne(h,c-l)>=bt||Sl(r,l,c),_=ei(a,u+f,d+f);return g&&_}getCenterPoint(n){const{x:s,y:i,startAngle:o,endAngle:r,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:u}=this.options,d=(o+r)/2,h=(a+l+u+c)/2;return{x:s+Math.cos(d)*h,y:i+Math.sin(d)*h}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:s,circumference:i}=this,o=(s.offset||0)/4,r=(s.spacing||0)/2,a=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=i>bt?Math.floor(i/bt):0,i===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*o,Math.sin(l)*o);const c=1-Math.sin(Math.min(yt,i||0)),u=o*c;n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,kY(n,this,u,r,a),SY(n,this,u,r,a),n.restore()}}P(Ea,"id","arc"),P(Ea,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),P(Ea,"defaultRoutes",{backgroundColor:"backgroundColor"}),P(Ea,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function Jb(t,e,n=e){t.lineCap=Ne(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Ne(n.borderDash,e.borderDash)),t.lineDashOffset=Ne(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Ne(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Ne(n.borderWidth,e.borderWidth),t.strokeStyle=Ne(n.borderColor,e.borderColor)}function $Y(t,e,n){t.lineTo(n.x,n.y)}function CY(t){return t.stepped?XW:t.tension||t.cubicInterpolationMode==="monotone"?GW:$Y}function Zb(t,e,n={}){const s=t.length,{start:i=0,end:o=s-1}=n,{start:r,end:a}=e,l=Math.max(i,r),c=Math.min(o,a),u=i<r&&o<r||i>a&&o>a;return{count:s,start:l,loop:e.loop,ilen:c<l&&!u?s+c-l:c-l}}function AY(t,e,n,s){const{points:i,options:o}=e,{count:r,start:a,loop:l,ilen:c}=Zb(i,n,s),u=CY(o);let{move:d=!0,reverse:h}=s||{},f,p,g;for(f=0;f<=c;++f)p=i[(a+(h?c-f:f))%r],!p.skip&&(d?(t.moveTo(p.x,p.y),d=!1):u(t,g,p,h,o.stepped),g=p);return l&&(p=i[(a+(h?c:0))%r],u(t,g,p,h,o.stepped)),!!l}function MY(t,e,n,s){const i=e.points,{count:o,start:r,ilen:a}=Zb(i,n,s),{move:l=!0,reverse:c}=s||{};let u=0,d=0,h,f,p,g,_,b;const x=S=>(r+(c?a-S:S))%o,$=()=>{g!==_&&(t.lineTo(u,_),t.lineTo(u,g),t.lineTo(u,b))};for(l&&(f=i[x(0)],t.moveTo(f.x,f.y)),h=0;h<=a;++h){if(f=i[x(h)],f.skip)continue;const S=f.x,C=f.y,T=S|0;T===p?(C<g?g=C:C>_&&(_=C),u=(d*u+S)/++d):($(),t.lineTo(S,C),p=T,d=0,g=_=C),b=C}$()}function ap(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?MY:AY}function EY(t){return t.stepped?Mj:t.tension||t.cubicInterpolationMode==="monotone"?Ej:vo}function TY(t,e,n,s){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,s)&&i.closePath()),Jb(t,e.options),t.stroke(i)}function LY(t,e,n,s){const{segments:i,options:o}=e,r=ap(e);for(const a of i)Jb(t,o,a.style),t.beginPath(),r(t,e,a,{start:n,end:n+s-1})&&t.closePath(),t.stroke()}const OY=typeof Path2D=="function";function DY(t,e,n,s){OY&&!e.options.segment?TY(t,e,n,s):LY(t,e,n,s)}class Ri extends gi{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const i=s.spanGaps?this._loop:this._fullLoop;yj(this._points,s,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Rj(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,s=e.length;return s&&n[e[s-1].end]}interpolate(e,n){const s=this.options,i=e[n],o=this.points,r=Vb(this,{property:n,start:i,end:i});if(!r.length)return;const a=[],l=EY(s);let c,u;for(c=0,u=r.length;c<u;++c){const{start:d,end:h}=r[c],f=o[d],p=o[h];if(f===p){a.push(f);continue}const g=Math.abs((i-f[n])/(p[n]-f[n])),_=l(f,p,g,s.stepped);_[n]=e[n],a.push(_)}return a.length===1?a[0]:a}pathSegment(e,n,s){return ap(this)(e,this,n,s)}path(e,n,s){const i=this.segments,o=ap(this);let r=this._loop;n=n||0,s=s||this.points.length-n;for(const a of i)r&=o(e,this,a,{start:n,end:n+s-1});return!!r}draw(e,n,s,i){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),DY(e,this,s,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}P(Ri,"id","line"),P(Ri,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),P(Ri,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),P(Ri,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function w0(t,e,n,s){const i=t.options,{[n]:o}=t.getProps([n],s);return Math.abs(e-o)<i.radius+i.hitRadius}class lu extends gi{constructor(n){super();P(this,"parsed");P(this,"skip");P(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,s,i){const o=this.options,{x:r,y:a}=this.getProps(["x","y"],i);return Math.pow(n-r,2)+Math.pow(s-a,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(n,s){return w0(this,n,"x",s)}inYRange(n,s){return w0(this,n,"y",s)}getCenterPoint(n){const{x:s,y:i}=this.getProps(["x","y"],n);return{x:s,y:i}}size(n){n=n||this.options||{};let s=n.radius||0;s=Math.max(s,s&&n.hoverRadius||0);const i=s&&n.borderWidth||0;return(s+i)*2}draw(n,s){const i=this.options;this.skip||i.radius<.1||!ni(this,s,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,sp(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}P(lu,"id","point"),P(lu,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),P(lu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Qb(t,e){const{x:n,y:s,base:i,width:o,height:r}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,d;return t.horizontal?(d=r/2,a=Math.min(n,i),l=Math.max(n,i),c=s-d,u=s+d):(d=o/2,a=n-d,l=n+d,c=Math.min(s,i),u=Math.max(s,i)),{left:a,top:c,right:l,bottom:u}}function Pi(t,e,n,s){return t?0:Ft(e,n,s)}function IY(t,e,n){const s=t.options.borderWidth,i=t.borderSkipped,o=Ab(s);return{t:Pi(i.top,o.top,0,n),r:Pi(i.right,o.right,0,e),b:Pi(i.bottom,o.bottom,0,n),l:Pi(i.left,o.left,0,e)}}function RY(t,e,n){const{enableBorderRadius:s}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,o=Ao(i),r=Math.min(e,n),a=t.borderSkipped,l=s||He(i);return{topLeft:Pi(!l||a.top||a.left,o.topLeft,0,r),topRight:Pi(!l||a.top||a.right,o.topRight,0,r),bottomLeft:Pi(!l||a.bottom||a.left,o.bottomLeft,0,r),bottomRight:Pi(!l||a.bottom||a.right,o.bottomRight,0,r)}}function PY(t){const e=Qb(t),n=e.right-e.left,s=e.bottom-e.top,i=IY(t,n/2,s/2),o=RY(t,n/2,s/2);return{outer:{x:e.left,y:e.top,w:n,h:s,radius:o},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:s-i.t-i.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,o.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(i.b,i.r))}}}}function Xh(t,e,n,s){const i=e===null,o=n===null,a=t&&!(i&&o)&&Qb(t,s);return a&&(i||ei(e,a.left,a.right))&&(o||ei(n,a.top,a.bottom))}function NY(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function VY(t,e){t.rect(e.x,e.y,e.w,e.h)}function Gh(t,e,n={}){const s=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,o=(t.x+t.w!==n.x+n.w?e:0)-s,r=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+s,y:t.y+i,w:t.w+o,h:t.h+r,radius:t.radius}}class cu extends gi{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:s,backgroundColor:i}}=this,{inner:o,outer:r}=PY(this),a=NY(r.radius)?$l:VY;e.save(),(r.w!==o.w||r.h!==o.h)&&(e.beginPath(),a(e,Gh(r,n,o)),e.clip(),a(e,Gh(o,-n,r)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),a(e,Gh(o,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,s){return Xh(this,e,n,s)}inXRange(e,n){return Xh(this,e,null,n)}inYRange(e,n){return Xh(this,null,e,n)}getCenterPoint(e){const{x:n,y:s,base:i,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(n+i)/2:n,y:o?s:(s+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}P(cu,"id","bar"),P(cu,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),P(cu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var zY=Object.freeze({__proto__:null,ArcElement:Ea,BarElement:cu,LineElement:Ri,PointElement:lu});const lp=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],x0=lp.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function e8(t){return lp[t%lp.length]}function t8(t){return x0[t%x0.length]}function BY(t,e){return t.borderColor=e8(e),t.backgroundColor=t8(e),++e}function UY(t,e){return t.backgroundColor=t.data.map(()=>e8(e++)),e}function FY(t,e){return t.backgroundColor=t.data.map(()=>t8(e++)),e}function qY(t){let e=0;return(n,s)=>{const i=t.getDatasetMeta(s).controller;i instanceof ko?e=UY(n,e):i instanceof Ja?e=FY(n,e):i&&(e=BY(n,e))}}function k0(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function WY(t){return t&&(t.borderColor||t.backgroundColor)}var jY={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:s},options:i}=t.config,{elements:o}=i;if(!n.forceOverride&&(k0(s)||WY(i)||o&&k0(o)))return;const r=qY(t);s.forEach(r)}};function HY(t,e,n,s,i){const o=i.samples||s;if(o>=n)return t.slice(e,e+n);const r=[],a=(n-2)/(o-2);let l=0;const c=e+n-1;let u=e,d,h,f,p,g;for(r[l++]=t[u],d=0;d<o-2;d++){let _=0,b=0,x;const $=Math.floor((d+1)*a)+1+e,S=Math.min(Math.floor((d+2)*a)+1,n)+e,C=S-$;for(x=$;x<S;x++)_+=t[x].x,b+=t[x].y;_/=C,b/=C;const T=Math.floor(d*a)+1+e,L=Math.min(Math.floor((d+1)*a)+1,n)+e,{x:E,y:q}=t[u];for(f=p=-1,x=T;x<L;x++)p=.5*Math.abs((E-_)*(t[x].y-q)-(E-t[x].x)*(b-q)),p>f&&(f=p,h=t[x],g=x);r[l++]=h,u=g}return r[l++]=t[c],r}function YY(t,e,n,s){let i=0,o=0,r,a,l,c,u,d,h,f,p,g;const _=[],b=e+n-1,x=t[e].x,S=t[b].x-x;for(r=e;r<e+n;++r){a=t[r],l=(a.x-x)/S*s,c=a.y;const C=l|0;if(C===u)c<p?(p=c,d=r):c>g&&(g=c,h=r),i=(o*i+a.x)/++o;else{const T=r-1;if(!tt(d)&&!tt(h)){const L=Math.min(d,h),E=Math.max(d,h);L!==f&&L!==T&&_.push({...t[L],x:i}),E!==f&&E!==T&&_.push({...t[E],x:i})}r>0&&T!==f&&_.push(t[T]),_.push(a),u=C,o=0,p=g=c,d=h=f=r}}return _}function n8(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function S0(t){t.data.datasets.forEach(e=>{n8(e)})}function KY(t,e){const n=e.length;let s=0,i;const{iScale:o}=t,{min:r,max:a,minDefined:l,maxDefined:c}=o.getUserBounds();return l&&(s=Ft(ti(e,o.axis,r).lo,0,n-1)),c?i=Ft(ti(e,o.axis,a).hi+1,s,n)-s:i=n-s,{start:s,count:i}}var XY={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){S0(t);return}const s=t.width;t.data.datasets.forEach((i,o)=>{const{_data:r,indexAxis:a}=i,l=t.getDatasetMeta(o),c=r||i.data;if(Aa([a,t.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=t.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||t.options.parsing)return;let{start:d,count:h}=KY(l,c);const f=n.threshold||4*s;if(h<=f){n8(i);return}tt(r)&&(i._data=c,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let p;switch(n.algorithm){case"lttb":p=HY(c,d,h,s,n);break;case"min-max":p=YY(c,d,h,s);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}i._decimated=p})},destroy(t){S0(t)}};function GY(t,e,n){const s=t.segments,i=t.points,o=e.points,r=[];for(const a of s){let{start:l,end:c}=a;c=nm(l,c,i);const u=cp(n,i[l],i[c],a.loop);if(!e.segments){r.push({source:a,target:u,start:i[l],end:i[c]});continue}const d=Vb(e,u);for(const h of d){const f=cp(n,o[h.start],o[h.end],h.loop),p=Nb(a,i,f);for(const g of p)r.push({source:g,target:h,start:{[n]:$0(u,f,"start",Math.max)},end:{[n]:$0(u,f,"end",Math.min)}})}}return r}function cp(t,e,n,s){if(s)return;let i=e[t],o=n[t];return t==="angle"&&(i=Tn(i),o=Tn(o)),{property:t,start:i,end:o}}function JY(t,e){const{x:n=null,y:s=null}=t||{},i=e.points,o=[];return e.segments.forEach(({start:r,end:a})=>{a=nm(r,a,i);const l=i[r],c=i[a];s!==null?(o.push({x:l.x,y:s}),o.push({x:c.x,y:s})):n!==null&&(o.push({x:n,y:l.y}),o.push({x:n,y:c.y}))}),o}function nm(t,e,n){for(;e>t;e--){const s=n[e];if(!isNaN(s.x)&&!isNaN(s.y))break}return e}function $0(t,e,n,s){return t&&e?s(t[n],e[n]):t?t[n]:e?e[n]:0}function s8(t,e){let n=[],s=!1;return vt(t)?(s=!0,n=t):n=JY(t,e),n.length?new Ri({points:n,options:{tension:0},_loop:s,_fullLoop:s}):null}function C0(t){return t&&t.fill!==!1}function ZY(t,e,n){let i=t[e].fill;const o=[e];let r;if(!n)return i;for(;i!==!1&&o.indexOf(i)===-1;){if(!St(i))return i;if(r=t[i],!r)return!1;if(r.visible)return i;o.push(i),i=r.fill}return!1}function QY(t,e,n){const s=sK(t);if(He(s))return isNaN(s.value)?!1:s;let i=parseFloat(s);return St(i)&&Math.floor(i)===i?eK(s[0],e,i,n):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function eK(t,e,n,s){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=s?!1:n}function tK(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:He(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function nK(t,e,n){let s;return t==="start"?s=n:t==="end"?s=e.options.reverse?e.min:e.max:He(t)?s=t.value:s=e.getBaseValue(),s}function sK(t){const e=t.options,n=e.fill;let s=Ne(n&&n.target,n);return s===void 0&&(s=!!e.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function iK(t){const{scale:e,index:n,line:s}=t,i=[],o=s.segments,r=s.points,a=oK(e,n);a.push(s8({x:null,y:e.bottom},s));for(let l=0;l<o.length;l++){const c=o[l];for(let u=c.start;u<=c.end;u++)rK(i,r[u],a)}return new Ri({points:i,options:{}})}function oK(t,e){const n=[],s=t.getMatchingVisibleMetas("line");for(let i=0;i<s.length;i++){const o=s[i];if(o.index===e)break;o.hidden||n.unshift(o.dataset)}return n}function rK(t,e,n){const s=[];for(let i=0;i<n.length;i++){const o=n[i],{first:r,last:a,point:l}=aK(o,e,"x");if(!(!l||r&&a)){if(r)s.unshift(l);else if(t.push(l),!a)break}}t.push(...s)}function aK(t,e,n){const s=t.interpolate(e,n);if(!s)return{};const i=s[n],o=t.segments,r=t.points;let a=!1,l=!1;for(let c=0;c<o.length;c++){const u=o[c],d=r[u.start][n],h=r[u.end][n];if(ei(i,d,h)){a=i===d,l=i===h;break}}return{first:a,last:l,point:s}}class i8{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,s){const{x:i,y:o,radius:r}=this;return n=n||{start:0,end:bt},e.arc(i,o,r,n.end,n.start,!0),!s.bounds}interpolate(e){const{x:n,y:s,radius:i}=this,o=e.angle;return{x:n+Math.cos(o)*i,y:s+Math.sin(o)*i,angle:o}}}function lK(t){const{chart:e,fill:n,line:s}=t;if(St(n))return cK(e,n);if(n==="stack")return iK(t);if(n==="shape")return!0;const i=uK(t);return i instanceof i8?i:s8(i,s)}function cK(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function uK(t){return(t.scale||{}).getPointPositionForValue?hK(t):dK(t)}function dK(t){const{scale:e={},fill:n}=t,s=tK(n,e);if(St(s)){const i=e.isHorizontal();return{x:i?s:null,y:i?null:s}}return null}function hK(t){const{scale:e,fill:n}=t,s=e.options,i=e.getLabels().length,o=s.reverse?e.max:e.min,r=nK(n,e,o),a=[];if(s.grid.circular){const l=e.getPointPositionForValue(0,o);return new i8({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(r)})}for(let l=0;l<i;++l)a.push(e.getPointPositionForValue(l,r));return a}function Jh(t,e,n){const s=lK(e),{line:i,scale:o,axis:r}=e,a=i.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:d=c}=l||{};s&&i.points.length&&(wd(t,n),fK(t,{line:i,target:s,above:u,below:d,area:n,scale:o,axis:r}),xd(t))}function fK(t,e){const{line:n,target:s,above:i,below:o,area:r,scale:a}=e,l=n._loop?"angle":e.axis;t.save(),l==="x"&&o!==i&&(A0(t,s,r.top),M0(t,{line:n,target:s,color:i,scale:a,property:l}),t.restore(),t.save(),A0(t,s,r.bottom)),M0(t,{line:n,target:s,color:o,scale:a,property:l}),t.restore()}function A0(t,e,n){const{segments:s,points:i}=e;let o=!0,r=!1;t.beginPath();for(const a of s){const{start:l,end:c}=a,u=i[l],d=i[nm(l,c,i)];o?(t.moveTo(u.x,u.y),o=!1):(t.lineTo(u.x,n),t.lineTo(u.x,u.y)),r=!!e.pathSegment(t,a,{move:r}),r?t.closePath():t.lineTo(d.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function M0(t,e){const{line:n,target:s,property:i,color:o,scale:r}=e,a=GY(n,s,i);for(const{source:l,target:c,start:u,end:d}of a){const{style:{backgroundColor:h=o}={}}=l,f=s!==!0;t.save(),t.fillStyle=h,pK(t,r,f&&cp(i,u,d)),t.beginPath();const p=!!n.pathSegment(t,l);let g;if(f){p?t.closePath():E0(t,s,d,i);const _=!!s.pathSegment(t,c,{move:p,reverse:!0});g=p&&_,g||E0(t,s,u,i)}t.closePath(),t.fill(g?"evenodd":"nonzero"),t.restore()}}function pK(t,e,n){const{top:s,bottom:i}=e.chart.chartArea,{property:o,start:r,end:a}=n||{};o==="x"&&(t.beginPath(),t.rect(r,s,a-r,i-s),t.clip())}function E0(t,e,n,s){const i=e.interpolate(n,s);i&&t.lineTo(i.x,i.y)}var mK={id:"filler",afterDatasetsUpdate(t,e,n){const s=(t.data.datasets||[]).length,i=[];let o,r,a,l;for(r=0;r<s;++r)o=t.getDatasetMeta(r),a=o.dataset,l=null,a&&a.options&&a instanceof Ri&&(l={visible:t.isDatasetVisible(r),index:r,fill:QY(a,r,s),chart:t,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=l,i.push(l);for(r=0;r<s;++r)l=i[r],!(!l||l.fill===!1)&&(l.fill=ZY(i,r,n.propagate))},beforeDraw(t,e,n){const s=n.drawTime==="beforeDraw",i=t.getSortedVisibleDatasetMetas(),o=t.chartArea;for(let r=i.length-1;r>=0;--r){const a=i[r].$filler;a&&(a.line.updateControlPoints(o,a.axis),s&&a.fill&&Jh(t.ctx,a,o))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const s=t.getSortedVisibleDatasetMetas();for(let i=s.length-1;i>=0;--i){const o=s[i].$filler;C0(o)&&Jh(t.ctx,o,t.chartArea)}},beforeDatasetDraw(t,e,n){const s=e.meta.$filler;!C0(s)||n.drawTime!=="beforeDatasetDraw"||Jh(t.ctx,s,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const T0=(t,e)=>{let{boxHeight:n=e,boxWidth:s=e}=t;return t.usePointStyle&&(n=Math.min(n,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(e,n)}},gK=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class L0 extends gi{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,s){this.maxWidth=e,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=mt(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(s=>e.filter(s,this.chart.data))),e.sort&&(n=n.sort((s,i)=>e.sort(s,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,i=zt(s.font),o=i.size,r=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=T0(s,o);let c,u;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(r,o,a,l)+10):(u=this.maxHeight,c=this._fitCols(r,i,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,s,i){const{ctx:o,maxWidth:r,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let d=e;o.textAlign="left",o.textBaseline="middle";let h=-1,f=-u;return this.legendItems.forEach((p,g)=>{const _=s+n/2+o.measureText(p.text).width;(g===0||c[c.length-1]+_+2*a>r)&&(d+=u,c[c.length-(g>0?0:1)]=0,f+=u,h++),l[g]={left:0,top:f,row:h,width:_,height:i},c[c.length-1]+=_+a}),d}_fitCols(e,n,s,i){const{ctx:o,maxHeight:r,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=r-e;let d=a,h=0,f=0,p=0,g=0;return this.legendItems.forEach((_,b)=>{const{itemWidth:x,itemHeight:$}=_K(s,n,o,_,i);b>0&&f+$+2*a>u&&(d+=h+a,c.push({width:h,height:f}),p+=h+a,g++,h=f=0),l[b]={left:p,top:f,col:g,width:x,height:$},h=Math.max(h,x),f+=$+a}),d+=h,c.push({width:h,height:f}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:i},rtl:o}}=this,r=Sr(o,this.left,this.width);if(this.isHorizontal()){let a=0,l=tn(s,this.left+i,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=tn(s,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+e+i,c.left=r.leftForLtr(r.x(l),c.width),l+=c.width+i}else{let a=0,l=tn(s,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=tn(s,this.top+e+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=r.leftForLtr(r.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;wd(e,this),this._draw(),xd(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:s,ctx:i}=this,{align:o,labels:r}=e,a=$t.color,l=Sr(e.rtl,this.left,this.width),c=zt(r.font),{padding:u}=r,d=c.size,h=d/2;let f;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:p,boxHeight:g,itemHeight:_}=T0(r,d),b=function(T,L,E){if(isNaN(p)||p<=0||isNaN(g)||g<0)return;i.save();const q=Ne(E.lineWidth,1);if(i.fillStyle=Ne(E.fillStyle,a),i.lineCap=Ne(E.lineCap,"butt"),i.lineDashOffset=Ne(E.lineDashOffset,0),i.lineJoin=Ne(E.lineJoin,"miter"),i.lineWidth=q,i.strokeStyle=Ne(E.strokeStyle,a),i.setLineDash(Ne(E.lineDash,[])),r.usePointStyle){const ee={radius:g*Math.SQRT2/2,pointStyle:E.pointStyle,rotation:E.rotation,borderWidth:q},ie=l.xPlus(T,p/2),X=L+h;Cb(i,ee,ie,X,r.pointStyleWidth&&p)}else{const ee=L+Math.max((d-g)/2,0),ie=l.leftForLtr(T,p),X=Ao(E.borderRadius);i.beginPath(),Object.values(X).some(R=>R!==0)?$l(i,{x:ie,y:ee,w:p,h:g,radius:X}):i.rect(ie,ee,p,g),i.fill(),q!==0&&i.stroke()}i.restore()},x=function(T,L,E){Po(i,E.text,T,L+_/2,c,{strikethrough:E.hidden,textAlign:l.textAlign(E.textAlign)})},$=this.isHorizontal(),S=this._computeTitleHeight();$?f={x:tn(o,this.left+u,this.right-s[0]),y:this.top+u+S,line:0}:f={x:this.left+u,y:tn(o,this.top+S+u,this.bottom-n[0].height),line:0},Ib(this.ctx,e.textDirection);const C=_+u;this.legendItems.forEach((T,L)=>{i.strokeStyle=T.fontColor,i.fillStyle=T.fontColor;const E=i.measureText(T.text).width,q=l.textAlign(T.textAlign||(T.textAlign=r.textAlign)),ee=p+h+E;let ie=f.x,X=f.y;l.setWidth(this.width),$?L>0&&ie+ee+u>this.right&&(X=f.y+=C,f.line++,ie=f.x=tn(o,this.left+u,this.right-s[f.line])):L>0&&X+C>this.bottom&&(ie=f.x=ie+n[f.line].width+u,f.line++,X=f.y=tn(o,this.top+S+u,this.bottom-n[f.line].height));const R=l.x(ie);if(b(R,X,T),ie=VW(q,ie+p+h,$?ie+ee:this.right,e.rtl),x(l.x(ie),X,T),$)f.x+=ee+u;else if(typeof T.text!="string"){const j=c.lineHeight;f.y+=o8(T,j)+u}else f.y+=C}),Rb(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,s=zt(n.font),i=cn(n.padding);if(!n.display)return;const o=Sr(e.rtl,this.left,this.width),r=this.ctx,a=n.position,l=s.size/2,c=i.top+l;let u,d=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+c,d=tn(e.align,d,this.right-h);else{const p=this.columnSizes.reduce((g,_)=>Math.max(g,_.height),0);u=c+tn(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}const f=tn(a,d,d+h);r.textAlign=o.textAlign(Y1(a)),r.textBaseline="middle",r.strokeStyle=n.color,r.fillStyle=n.color,r.font=s.string,Po(r,n.text,f,u,s)}_computeTitleHeight(){const e=this.options.title,n=zt(e.font),s=cn(e.padding);return e.display?n.lineHeight+s.height:0}_getLegendItemAt(e,n){let s,i,o;if(ei(e,this.left,this.right)&&ei(n,this.top,this.bottom)){for(o=this.legendHitBoxes,s=0;s<o.length;++s)if(i=o[s],ei(e,i.left,i.left+i.width)&&ei(n,i.top,i.top+i.height))return this.legendItems[s]}return null}handleEvent(e){const n=this.options;if(!yK(e.type,n))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,o=gK(i,s);i&&!o&&mt(n.onLeave,[e,i,this],this),this._hoveredItem=s,s&&!o&&mt(n.onHover,[e,s,this],this)}else s&&mt(n.onClick,[e,s,this],this)}}function _K(t,e,n,s,i){const o=vK(s,t,e,n),r=bK(i,s,e.lineHeight);return{itemWidth:o,itemHeight:r}}function vK(t,e,n,s){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((o,r)=>o.length>r.length?o:r)),e+n.size/2+s.measureText(i).width}function bK(t,e,n){let s=t;return typeof e.text!="string"&&(s=o8(e,n)),s}function o8(t,e){const n=t.text?t.text.length:0;return e*n}function yK(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var wK={id:"legend",_element:L0,start(t,e,n){const s=t.legend=new L0({ctx:t.ctx,options:n,chart:t});rn.configure(t,s,n),rn.addBox(t,s)},stop(t){rn.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const s=t.legend;rn.configure(t,s,n),s.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const s=e.datasetIndex,i=n.chart;i.isDatasetVisible(s)?(i.hide(s),e.hidden=!0):(i.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:i,color:o,useBorderRadius:r,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=cn(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:o,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:s||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:r&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class sm extends gi{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=vt(s.text)?s.text.length:1;this._padding=cn(s.padding);const o=i*zt(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:s,bottom:i,right:o,options:r}=this,a=r.align;let l=0,c,u,d;return this.isHorizontal()?(u=tn(a,s,o),d=n+e,c=o-s):(r.position==="left"?(u=s+e,d=tn(a,i,n),l=yt*-.5):(u=o-e,d=tn(a,n,i),l=yt*.5),c=i-n),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const s=zt(n.font),o=s.lineHeight/2+this._padding.top,{titleX:r,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(o);Po(e,n.text,0,0,s,{color:n.color,maxWidth:l,rotation:c,textAlign:Y1(n.align),textBaseline:"middle",translation:[r,a]})}}function xK(t,e){const n=new sm({ctx:t.ctx,options:e,chart:t});rn.configure(t,n,e),rn.addBox(t,n),t.titleBlock=n}var kK={id:"title",_element:sm,start(t,e,n){xK(t,n)},stop(t){const e=t.titleBlock;rn.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const s=t.titleBlock;rn.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Vc=new WeakMap;var SK={id:"subtitle",start(t,e,n){const s=new sm({ctx:t.ctx,options:n,chart:t});rn.configure(t,s,n),rn.addBox(t,s),Vc.set(t,s)},stop(t){rn.removeBox(t,Vc.get(t)),Vc.delete(t)},beforeUpdate(t,e,n){const s=Vc.get(t);rn.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ta={average(t){if(!t.length)return!1;let e,n,s=0,i=0,o=0;for(e=0,n=t.length;e<n;++e){const r=t[e].element;if(r&&r.hasValue()){const a=r.tooltipPosition();s+=a.x,i+=a.y,++o}}return{x:s/o,y:i/o}},nearest(t,e){if(!t.length)return!1;let n=e.x,s=e.y,i=Number.POSITIVE_INFINITY,o,r,a;for(o=0,r=t.length;o<r;++o){const l=t[o].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=tp(e,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,s=l.y}return{x:n,y:s}}};function vs(t,e){return e&&(vt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Ks(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function $K(t,e){const{element:n,datasetIndex:s,index:i}=e,o=t.getDatasetMeta(s).controller,{label:r,value:a}=o.getLabelAndValue(i);return{chart:t,label:r,parsed:o.getParsed(i),raw:t.data.datasets[s].data[i],formattedValue:a,dataset:o.getDataset(),dataIndex:i,datasetIndex:s,element:n}}function O0(t,e){const n=t.chart.ctx,{body:s,footer:i,title:o}=t,{boxWidth:r,boxHeight:a}=e,l=zt(e.bodyFont),c=zt(e.titleFont),u=zt(e.footerFont),d=o.length,h=i.length,f=s.length,p=cn(e.padding);let g=p.height,_=0,b=s.reduce((S,C)=>S+C.before.length+C.lines.length+C.after.length,0);if(b+=t.beforeBody.length+t.afterBody.length,d&&(g+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),b){const S=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=f*S+(b-f)*l.lineHeight+(b-1)*e.bodySpacing}h&&(g+=e.footerMarginTop+h*u.lineHeight+(h-1)*e.footerSpacing);let x=0;const $=function(S){_=Math.max(_,n.measureText(S).width+x)};return n.save(),n.font=c.string,ut(t.title,$),n.font=l.string,ut(t.beforeBody.concat(t.afterBody),$),x=e.displayColors?r+2+e.boxPadding:0,ut(s,S=>{ut(S.before,$),ut(S.lines,$),ut(S.after,$)}),x=0,n.font=u.string,ut(t.footer,$),n.restore(),_+=p.width,{width:_,height:g}}function CK(t,e){const{y:n,height:s}=e;return n<s/2?"top":n>t.height-s/2?"bottom":"center"}function AK(t,e,n,s){const{x:i,width:o}=s,r=n.caretSize+n.caretPadding;if(t==="left"&&i+o+r>e.width||t==="right"&&i-o-r<0)return!0}function MK(t,e,n,s){const{x:i,width:o}=n,{width:r,chartArea:{left:a,right:l}}=t;let c="center";return s==="center"?c=i<=(a+l)/2?"left":"right":i<=o/2?c="left":i>=r-o/2&&(c="right"),AK(c,t,e,n)&&(c="center"),c}function D0(t,e,n){const s=n.yAlign||e.yAlign||CK(t,n);return{xAlign:n.xAlign||e.xAlign||MK(t,e,n,s),yAlign:s}}function EK(t,e){let{x:n,width:s}=t;return e==="right"?n-=s:e==="center"&&(n-=s/2),n}function TK(t,e,n){let{y:s,height:i}=t;return e==="top"?s+=n:e==="bottom"?s-=i+n:s-=i/2,s}function I0(t,e,n,s){const{caretSize:i,caretPadding:o,cornerRadius:r}=t,{xAlign:a,yAlign:l}=n,c=i+o,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:f}=Ao(r);let p=EK(e,a);const g=TK(e,l,c);return l==="center"?a==="left"?p+=c:a==="right"&&(p-=c):a==="left"?p-=Math.max(u,h)+i:a==="right"&&(p+=Math.max(d,f)+i),{x:Ft(p,0,s.width-e.width),y:Ft(g,0,s.height-e.height)}}function zc(t,e,n){const s=cn(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-s.right:t.x+s.left}function R0(t){return vs([],Ks(t))}function LK(t,e,n){return Zi(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function P0(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const r8={beforeTitle:Hs,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return n[e.dataIndex]}return""},afterTitle:Hs,beforeBody:Hs,beforeLabel:Hs,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return tt(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Hs,afterBody:Hs,beforeFooter:Hs,footer:Hs,afterFooter:Hs};function gn(t,e,n,s){const i=t[e].call(n,s);return typeof i>"u"?r8[e].call(n,s):i}class up extends gi{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,s=this.options.setContext(this.getContext()),i=s.enabled&&n.options.animation&&s.animations,o=new zb(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=LK(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:s}=n,i=gn(s,"beforeTitle",this,e),o=gn(s,"title",this,e),r=gn(s,"afterTitle",this,e);let a=[];return a=vs(a,Ks(i)),a=vs(a,Ks(o)),a=vs(a,Ks(r)),a}getBeforeBody(e,n){return R0(gn(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:s}=n,i=[];return ut(e,o=>{const r={before:[],lines:[],after:[]},a=P0(s,o);vs(r.before,Ks(gn(a,"beforeLabel",this,o))),vs(r.lines,gn(a,"label",this,o)),vs(r.after,Ks(gn(a,"afterLabel",this,o))),i.push(r)}),i}getAfterBody(e,n){return R0(gn(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:s}=n,i=gn(s,"beforeFooter",this,e),o=gn(s,"footer",this,e),r=gn(s,"afterFooter",this,e);let a=[];return a=vs(a,Ks(i)),a=vs(a,Ks(o)),a=vs(a,Ks(r)),a}_createItems(e){const n=this._active,s=this.chart.data,i=[],o=[],r=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push($K(this.chart,n[l]));return e.filter&&(a=a.filter((u,d,h)=>e.filter(u,d,h,s))),e.itemSort&&(a=a.sort((u,d)=>e.itemSort(u,d,s))),ut(a,u=>{const d=P0(e.callbacks,u);i.push(gn(d,"labelColor",this,u)),o.push(gn(d,"labelPointStyle",this,u)),r.push(gn(d,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=o,this.labelTextColors=r,this.dataPoints=a,a}update(e,n){const s=this.options.setContext(this.getContext()),i=this._active;let o,r=[];if(!i.length)this.opacity!==0&&(o={opacity:0});else{const a=Ta[s.position].call(this,i,this._eventPosition);r=this._createItems(s),this.title=this.getTitle(r,s),this.beforeBody=this.getBeforeBody(r,s),this.body=this.getBody(r,s),this.afterBody=this.getAfterBody(r,s),this.footer=this.getFooter(r,s);const l=this._size=O0(this,s),c=Object.assign({},a,l),u=D0(this.chart,s,c),d=I0(s,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,o={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=r,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,s,i){const o=this.getCaretPosition(e,s,i);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(e,n,s){const{xAlign:i,yAlign:o}=this,{caretSize:r,cornerRadius:a}=s,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=Ao(a),{x:h,y:f}=e,{width:p,height:g}=n;let _,b,x,$,S,C;return o==="center"?(S=f+g/2,i==="left"?(_=h,b=_-r,$=S+r,C=S-r):(_=h+p,b=_+r,$=S-r,C=S+r),x=_):(i==="left"?b=h+Math.max(l,u)+r:i==="right"?b=h+p-Math.max(c,d)-r:b=this.caretX,o==="top"?($=f,S=$-r,_=b-r,x=b+r):($=f+g,S=$+r,_=b+r,x=b-r),C=$),{x1:_,x2:b,x3:x,y1:$,y2:S,y3:C}}drawTitle(e,n,s){const i=this.title,o=i.length;let r,a,l;if(o){const c=Sr(s.rtl,this.x,this.width);for(e.x=zc(this,s.titleAlign,s),n.textAlign=c.textAlign(s.titleAlign),n.textBaseline="middle",r=zt(s.titleFont),a=s.titleSpacing,n.fillStyle=s.titleColor,n.font=r.string,l=0;l<o;++l)n.fillText(i[l],c.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+a,l+1===o&&(e.y+=s.titleMarginBottom-a)}}_drawColorBox(e,n,s,i,o){const r=this.labelColors[s],a=this.labelPointStyles[s],{boxHeight:l,boxWidth:c}=o,u=zt(o.bodyFont),d=zc(this,"left",o),h=i.x(d),f=l<u.lineHeight?(u.lineHeight-l)/2:0,p=n.y+f;if(o.usePointStyle){const g={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},_=i.leftForLtr(h,c)+c/2,b=p+l/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,sp(e,g,_,b),e.strokeStyle=r.borderColor,e.fillStyle=r.backgroundColor,sp(e,g,_,b)}else{e.lineWidth=He(r.borderWidth)?Math.max(...Object.values(r.borderWidth)):r.borderWidth||1,e.strokeStyle=r.borderColor,e.setLineDash(r.borderDash||[]),e.lineDashOffset=r.borderDashOffset||0;const g=i.leftForLtr(h,c),_=i.leftForLtr(i.xPlus(h,1),c-2),b=Ao(r.borderRadius);Object.values(b).some(x=>x!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,$l(e,{x:g,y:p,w:c,h:l,radius:b}),e.fill(),e.stroke(),e.fillStyle=r.backgroundColor,e.beginPath(),$l(e,{x:_,y:p+1,w:c-2,h:l-2,radius:b}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(g,p,c,l),e.strokeRect(g,p,c,l),e.fillStyle=r.backgroundColor,e.fillRect(_,p+1,c-2,l-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,n,s){const{body:i}=this,{bodySpacing:o,bodyAlign:r,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=s,d=zt(s.bodyFont);let h=d.lineHeight,f=0;const p=Sr(s.rtl,this.x,this.width),g=function(E){n.fillText(E,p.x(e.x+f),e.y+h/2),e.y+=h+o},_=p.textAlign(r);let b,x,$,S,C,T,L;for(n.textAlign=r,n.textBaseline="middle",n.font=d.string,e.x=zc(this,_,s),n.fillStyle=s.bodyColor,ut(this.beforeBody,g),f=a&&_!=="right"?r==="center"?c/2+u:c+2+u:0,S=0,T=i.length;S<T;++S){for(b=i[S],x=this.labelTextColors[S],n.fillStyle=x,ut(b.before,g),$=b.lines,a&&$.length&&(this._drawColorBox(n,e,S,p,s),h=Math.max(d.lineHeight,l)),C=0,L=$.length;C<L;++C)g($[C]),h=d.lineHeight;ut(b.after,g)}f=0,h=d.lineHeight,ut(this.afterBody,g),e.y-=o}drawFooter(e,n,s){const i=this.footer,o=i.length;let r,a;if(o){const l=Sr(s.rtl,this.x,this.width);for(e.x=zc(this,s.footerAlign,s),e.y+=s.footerMarginTop,n.textAlign=l.textAlign(s.footerAlign),n.textBaseline="middle",r=zt(s.footerFont),n.fillStyle=s.footerColor,n.font=r.string,a=0;a<o;++a)n.fillText(i[a],l.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+s.footerSpacing}}drawBackground(e,n,s,i){const{xAlign:o,yAlign:r}=this,{x:a,y:l}=e,{width:c,height:u}=s,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:p}=Ao(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+d,l),r==="top"&&this.drawCaret(e,n,s,i),n.lineTo(a+c-h,l),n.quadraticCurveTo(a+c,l,a+c,l+h),r==="center"&&o==="right"&&this.drawCaret(e,n,s,i),n.lineTo(a+c,l+u-p),n.quadraticCurveTo(a+c,l+u,a+c-p,l+u),r==="bottom"&&this.drawCaret(e,n,s,i),n.lineTo(a+f,l+u),n.quadraticCurveTo(a,l+u,a,l+u-f),r==="center"&&o==="left"&&this.drawCaret(e,n,s,i),n.lineTo(a,l+d),n.quadraticCurveTo(a,l,a+d,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,s=this.$animations,i=s&&s.x,o=s&&s.y;if(i||o){const r=Ta[e.position].call(this,this._active,this._eventPosition);if(!r)return;const a=this._size=O0(this,e),l=Object.assign({},r,this._size),c=D0(n,e,l),u=I0(e,l,c,n);(i._to!==u.x||o._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=r.x,this.caretY=r.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},o={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const r=cn(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=s,this.drawBackground(o,e,i,n),Ib(e,n.textDirection),o.y+=r.top,this.drawTitle(o,e,n),this.drawBody(o,e,n),this.drawFooter(o,e,n),Rb(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const s=this._active,i=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),o=!$u(s,i),r=this._positionChanged(i,n);(o||r)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,o=this._active||[],r=this._getActiveElements(e,o,n,s),a=this._positionChanged(r,e),l=n||!$u(r,o)||a;return l&&(this._active=r,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,s,i){const o=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const r=this.chart.getElementsAtEventForMode(e,o.mode,o,s);return o.reverse&&r.reverse(),r}_positionChanged(e,n){const{caretX:s,caretY:i,options:o}=this,r=Ta[o.position].call(this,e,n);return r!==!1&&(s!==r.x||i!==r.y)}}P(up,"positioners",Ta);var OK={id:"tooltip",_element:up,positioners:Ta,afterInit(t,e,n){n&&(t.tooltip=new up({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:r8},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},DK=Object.freeze({__proto__:null,Colors:jY,Decimation:XY,Filler:mK,Legend:wK,SubTitle:SK,Title:kK,Tooltip:OK});const IK=(t,e,n,s)=>(typeof e=="string"?(n=t.push(e)-1,s.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function RK(t,e,n,s){const i=t.indexOf(e);if(i===-1)return IK(t,e,n,s);const o=t.lastIndexOf(e);return i!==o?n:i}const PK=(t,e)=>t===null?null:Ft(Math.round(t),0,e);function N0(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class dp extends Go{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:i,label:o}of n)s[i]===o&&s.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(tt(e))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===e?n:RK(s,e,Ne(n,e),this._addedLabels),PK(n,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:s,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),n||(i=this.getLabels().length-1)),this.min=s,this.max=i}buildTicks(){const e=this.min,n=this.max,s=this.options.offset,i=[];let o=this.getLabels();o=e===0&&n===o.length-1?o:o.slice(e,n+1),this._valueRange=Math.max(o.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let r=e;r<=n;r++)i.push({value:r});return i}getLabelForValue(e){return N0.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}P(dp,"id","category"),P(dp,"defaults",{ticks:{callback:N0}});function NK(t,e){const n=[],{bounds:i,step:o,min:r,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:h}=t,f=o||1,p=u-1,{min:g,max:_}=e,b=!tt(r),x=!tt(a),$=!tt(c),S=(_-g)/(d+1);let C=L_((_-g)/p/f)*f,T,L,E,q;if(C<1e-14&&!b&&!x)return[{value:g},{value:_}];q=Math.ceil(_/C)-Math.floor(g/C),q>p&&(C=L_(q*C/p/f)*f),tt(l)||(T=Math.pow(10,l),C=Math.ceil(C*T)/T),i==="ticks"?(L=Math.floor(g/C)*C,E=Math.ceil(_/C)*C):(L=g,E=_),b&&x&&o&&LW((a-r)/o,C/1e3)?(q=Math.round(Math.min((a-r)/C,u)),C=(a-r)/q,L=r,E=a):$?(L=b?r:L,E=x?a:E,q=c-1,C=(E-L)/q):(q=(E-L)/C,Ka(q,Math.round(q),C/1e3)?q=Math.round(q):q=Math.ceil(q));const ee=Math.max(O_(C),O_(L));T=Math.pow(10,tt(l)?ee:l),L=Math.round(L*T)/T,E=Math.round(E*T)/T;let ie=0;for(b&&(h&&L!==r?(n.push({value:r}),L<r&&ie++,Ka(Math.round((L+ie*C)*T)/T,r,V0(r,S,t))&&ie++):L<r&&ie++);ie<q;++ie){const X=Math.round((L+ie*C)*T)/T;if(x&&X>a)break;n.push({value:X})}return x&&h&&E!==a?n.length&&Ka(n[n.length-1].value,a,V0(a,S,t))?n[n.length-1].value=a:n.push({value:a}):(!x||E===a)&&n.push({value:E}),n}function V0(t,e,{horizontal:n,minRotation:s}){const i=ts(s),o=(n?Math.sin(i):Math.cos(i))||.001,r=.75*e*(""+t).length;return Math.min(e/o,r)}class Ou extends Go{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return tt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:i,max:o}=this;const r=l=>i=n?i:l,a=l=>o=s?o:l;if(e){const l=Ts(i),c=Ts(o);l<0&&c<0?a(0):l>0&&c>0&&r(0)}if(i===o){let l=o===0?1:Math.abs(o*.05);a(o+l),e||r(i-l)}this.min=i,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=e,i;return s?(i=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const i={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},o=this._range||this,r=NK(i,o);return e.bounds==="ticks"&&_b(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const e=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const i=(s-n)/Math.max(e.length-1,1)/2;n-=i,s+=i}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(e){return Fl(e,this.chart.options.locale,this.options.ticks.format)}}class hp extends Ou{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=St(e)?e:0,this.max=St(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,s=ts(this.options.ticks.minRotation),i=(e?Math.sin(s):Math.cos(s))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}P(hp,"id","linear"),P(hp,"defaults",{ticks:{callback:yd.formatters.numeric}});const Al=t=>Math.floor(Ii(t)),po=(t,e)=>Math.pow(10,Al(t)+e);function z0(t){return t/Math.pow(10,Al(t))===1}function B0(t,e,n){const s=Math.pow(10,n),i=Math.floor(t/s);return Math.ceil(e/s)-i}function VK(t,e){const n=e-t;let s=Al(n);for(;B0(t,e,s)>10;)s++;for(;B0(t,e,s)<10;)s--;return Math.min(s,Al(t))}function zK(t,{min:e,max:n}){e=An(t.min,e);const s=[],i=Al(e);let o=VK(e,n),r=o<0?Math.pow(10,Math.abs(o)):1;const a=Math.pow(10,o),l=i>o?Math.pow(10,i):0,c=Math.round((e-l)*r)/r,u=Math.floor((e-l)/a/10)*a*10;let d=Math.floor((c-u)/Math.pow(10,o)),h=An(t.min,Math.round((l+u+d*Math.pow(10,o))*r)/r);for(;h<n;)s.push({value:h,major:z0(h),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(o++,d=2,r=o>=0?1:r),h=Math.round((l+u+d*Math.pow(10,o))*r)/r;const f=An(t.max,h);return s.push({value:f,major:z0(f),significand:d}),s}class fp extends Go{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const s=Ou.prototype.parse.apply(this,[e,n]);if(s===0){this._zero=!0;return}return St(s)&&s>0?s:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=St(e)?Math.max(0,e):null,this.max=St(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!St(this._userMin)&&(this.min=e===po(this.min,0)?po(this.min,-1):po(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let s=this.min,i=this.max;const o=a=>s=e?s:a,r=a=>i=n?i:a;s===i&&(s<=0?(o(1),r(10)):(o(po(s,-1)),r(po(i,1)))),s<=0&&o(po(i,-1)),i<=0&&r(po(s,1)),this.min=s,this.max=i}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},s=zK(n,this);return e.bounds==="ticks"&&_b(s,this,"value"),e.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}getLabelForValue(e){return e===void 0?"0":Fl(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Ii(e),this._valueRange=Ii(this.max)-Ii(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Ii(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}P(fp,"id","logarithmic"),P(fp,"defaults",{ticks:{callback:yd.formatters.logarithmic,major:{enabled:!0}}});function pp(t){const e=t.ticks;if(e.display&&t.display){const n=cn(e.backdropPadding);return Ne(e.font&&e.font.size,$t.font.size)+n.height}return 0}function BK(t,e,n){return n=vt(n)?n:[n],{w:KW(t,e.string,n),h:n.length*e.lineHeight}}function U0(t,e,n,s,i){return t===s||t===i?{start:e-n/2,end:e+n/2}:t<s||t>i?{start:e-n,end:e}:{start:e,end:e+n}}function UK(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),s=[],i=[],o=t._pointLabels.length,r=t.options.pointLabels,a=r.centerPointLabels?yt/o:0;for(let l=0;l<o;l++){const c=r.setContext(t.getPointLabelContext(l));i[l]=c.padding;const u=t.getPointPosition(l,t.drawingArea+i[l],a),d=zt(c.font),h=BK(t.ctx,d,t._pointLabels[l]);s[l]=h;const f=Tn(t.getIndexAngle(l)+a),p=Math.round(j1(f)),g=U0(p,u.x,h.w,0,180),_=U0(p,u.y,h.h,90,270);FK(n,e,f,g,_)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=jK(t,s,i)}function FK(t,e,n,s,i){const o=Math.abs(Math.sin(n)),r=Math.abs(Math.cos(n));let a=0,l=0;s.start<e.l?(a=(e.l-s.start)/o,t.l=Math.min(t.l,e.l-a)):s.end>e.r&&(a=(s.end-e.r)/o,t.r=Math.max(t.r,e.r+a)),i.start<e.t?(l=(e.t-i.start)/r,t.t=Math.min(t.t,e.t-l)):i.end>e.b&&(l=(i.end-e.b)/r,t.b=Math.max(t.b,e.b+l))}function qK(t,e,n){const s=t.drawingArea,{extra:i,additionalAngle:o,padding:r,size:a}=n,l=t.getPointPosition(e,s+i+r,o),c=Math.round(j1(Tn(l.angle+Mt))),u=KK(l.y,a.h,c),d=HK(c),h=YK(l.x,a.w,d);return{visible:!0,x:l.x,y:u,textAlign:d,left:h,top:u,right:h+a.w,bottom:u+a.h}}function WK(t,e){if(!e)return!0;const{left:n,top:s,right:i,bottom:o}=t;return!(ni({x:n,y:s},e)||ni({x:n,y:o},e)||ni({x:i,y:s},e)||ni({x:i,y:o},e))}function jK(t,e,n){const s=[],i=t._pointLabels.length,o=t.options,{centerPointLabels:r,display:a}=o.pointLabels,l={extra:pp(o)/2,additionalAngle:r?yt/i:0};let c;for(let u=0;u<i;u++){l.padding=n[u],l.size=e[u];const d=qK(t,u,l);s.push(d),a==="auto"&&(d.visible=WK(d,c),d.visible&&(c=d))}return s}function HK(t){return t===0||t===180?"center":t<180?"left":"right"}function YK(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function KK(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function XK(t,e,n){const{left:s,top:i,right:o,bottom:r}=n,{backdropColor:a}=e;if(!tt(a)){const l=Ao(e.borderRadius),c=cn(e.backdropPadding);t.fillStyle=a;const u=s-c.left,d=i-c.top,h=o-s+c.width,f=r-i+c.height;Object.values(l).some(p=>p!==0)?(t.beginPath(),$l(t,{x:u,y:d,w:h,h:f,radius:l}),t.fill()):t.fillRect(u,d,h,f)}}function GK(t,e){const{ctx:n,options:{pointLabels:s}}=t;for(let i=e-1;i>=0;i--){const o=t._pointLabelItems[i];if(!o.visible)continue;const r=s.setContext(t.getPointLabelContext(i));XK(n,r,o);const a=zt(r.font),{x:l,y:c,textAlign:u}=o;Po(n,t._pointLabels[i],l,c+a.lineHeight/2,a,{color:r.color,textAlign:u,textBaseline:"middle"})}}function a8(t,e,n,s){const{ctx:i}=t;if(n)i.arc(t.xCenter,t.yCenter,e,0,bt);else{let o=t.getPointPosition(0,e);i.moveTo(o.x,o.y);for(let r=1;r<s;r++)o=t.getPointPosition(r,e),i.lineTo(o.x,o.y)}}function JK(t,e,n,s,i){const o=t.ctx,r=e.circular,{color:a,lineWidth:l}=e;!r&&!s||!a||!l||n<0||(o.save(),o.strokeStyle=a,o.lineWidth=l,o.setLineDash(i.dash),o.lineDashOffset=i.dashOffset,o.beginPath(),a8(t,n,r,s),o.closePath(),o.stroke(),o.restore())}function ZK(t,e,n){return Zi(t,{label:n,index:e,type:"pointLabel"})}class La extends Ou{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=cn(pp(this.options)/2),n=this.width=this.maxWidth-e.width,s=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+s/2+e.top),this.drawingArea=Math.floor(Math.min(n,s)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=St(e)&&!isNaN(e)?e:0,this.max=St(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/pp(this.options))}generateTickLabels(e){Ou.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,s)=>{const i=mt(this.options.pointLabels.callback,[n,s],this);return i||i===0?i:""}).filter((n,s)=>this.chart.getDataVisibility(s))}fit(){const e=this.options;e.display&&e.pointLabels.display?UK(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,s,i){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((s-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,s,i))}getIndexAngle(e){const n=bt/(this._pointLabels.length||1),s=this.options.startAngle||0;return Tn(e*n+ts(s))}getDistanceFromCenterForValue(e){if(tt(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(tt(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const s=n[e];return ZK(this.getContext(),e,s)}}getPointPosition(e,n,s=0){const i=this.getIndexAngle(e)-Mt+s;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:s,right:i,bottom:o}=this._pointLabelItems[e];return{left:n,top:s,right:i,bottom:o}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const s=this.ctx;s.save(),s.beginPath(),a8(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),s.closePath(),s.fillStyle=e,s.fill(),s.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:s,grid:i,border:o}=n,r=this._pointLabels.length;let a,l,c;if(n.pointLabels.display&&GK(this,r),i.display&&this.ticks.forEach((u,d)=>{if(d!==0){l=this.getDistanceFromCenterForValue(u.value);const h=this.getContext(d),f=i.setContext(h),p=o.setContext(h);JK(this,f,l,r,p)}}),s.display){for(e.save(),a=r-1;a>=0;a--){const u=s.setContext(this.getPointLabelContext(a)),{color:d,lineWidth:h}=u;!h||!d||(e.lineWidth=h,e.strokeStyle=d,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,s=n.ticks;if(!s.display)return;const i=this.getIndexAngle(0);let o,r;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&!n.reverse)return;const c=s.setContext(this.getContext(l)),u=zt(c.font);if(o=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,r=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const d=cn(c.backdropPadding);e.fillRect(-r/2-d.left,-o-u.size/2-d.top,r+d.width,u.size+d.height)}Po(e,a.label,0,-o,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}P(La,"id","radialLinear"),P(La,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:yd.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),P(La,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),P(La,"descriptors",{angleLines:{_fallback:"grid"}});const Sd={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},vn=Object.keys(Sd);function F0(t,e){return t-e}function q0(t,e){if(tt(e))return null;const n=t._adapter,{parser:s,round:i,isoWeekday:o}=t._parseOpts;let r=e;return typeof s=="function"&&(r=s(r)),St(r)||(r=typeof s=="string"?n.parse(r,s):n.parse(r)),r===null?null:(i&&(r=i==="week"&&(Br(o)||o===!0)?n.startOf(r,"isoWeek",o):n.startOf(r,i)),+r)}function W0(t,e,n,s){const i=vn.length;for(let o=vn.indexOf(t);o<i-1;++o){const r=Sd[vn[o]],a=r.steps?r.steps:Number.MAX_SAFE_INTEGER;if(r.common&&Math.ceil((n-e)/(a*r.size))<=s)return vn[o]}return vn[i-1]}function QK(t,e,n,s,i){for(let o=vn.length-1;o>=vn.indexOf(n);o--){const r=vn[o];if(Sd[r].common&&t._adapter.diff(i,s,r)>=e-1)return r}return vn[n?vn.indexOf(n):0]}function eX(t){for(let e=vn.indexOf(t)+1,n=vn.length;e<n;++e)if(Sd[vn[e]].common)return vn[e]}function j0(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:s,hi:i}=H1(n,e),o=n[s]>=e?n[s]:n[i];t[o]=!0}}function tX(t,e,n,s){const i=t._adapter,o=+i.startOf(e[0].value,s),r=e[e.length-1].value;let a,l;for(a=o;a<=r;a=+i.add(a,1,s))l=n[a],l>=0&&(e[l].major=!0);return e}function H0(t,e,n){const s=[],i={},o=e.length;let r,a;for(r=0;r<o;++r)a=e[r],i[a]=r,s.push({value:a,major:!1});return o===0||!n?s:tX(t,s,i,n)}class Ml extends Go{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const s=e.time||(e.time={}),i=this._adapter=new uH._date(e.adapters.date);i.init(n),Ya(s.displayFormats,i.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:q0(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,s=e.time.unit||"day";let{min:i,max:o,minDefined:r,maxDefined:a}=this.getUserBounds();function l(c){!r&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(o=Math.max(o,c.max))}(!r||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=St(i)&&!isNaN(i)?i:+n.startOf(Date.now(),s),o=St(o)&&!isNaN(o)?o:+n.endOf(Date.now(),s)+1,this.min=Math.min(i,o-1),this.max=Math.max(i+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],s=e[e.length-1]),{min:n,max:s}}buildTicks(){const e=this.options,n=e.time,s=e.ticks,i=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const o=this.min,r=this.max,a=RW(i,o,r);return this._unit=n.unit||(s.autoSkip?W0(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):QK(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:eX(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),H0(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,s=0,i,o;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?s=o:s=(o-this.getDecimalForValue(e[e.length-2]))/2);const r=e.length<3?.5:.25;n=Ft(n,0,r),s=Ft(s,0,r),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const e=this._adapter,n=this.min,s=this.max,i=this.options,o=i.time,r=o.unit||W0(o.minUnit,n,s,this._getLabelCapacity(n)),a=Ne(i.ticks.stepSize,1),l=r==="week"?o.isoWeekday:!1,c=Br(l)||l===!0,u={};let d=n,h,f;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":r),e.diff(s,n,r)>1e5*a)throw new Error(n+" and "+s+" are too far apart with stepSize of "+a+" "+r);const p=i.ticks.source==="data"&&this.getDataTimestamps();for(h=d,f=0;h<s;h=+e.add(h,a,r),f++)j0(u,h,p);return(h===s||i.bounds==="ticks"||f===1)&&j0(u,h,p),Object.keys(u).sort(F0).map(g=>+g)}getLabelForValue(e){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(e,s.tooltipFormat):n.format(e,s.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,o=this._unit,r=n||i[o];return this._adapter.format(e,r)}_tickFormatFunction(e,n,s,i){const o=this.options,r=o.ticks.callback;if(r)return mt(r,[e,n,s],this);const a=o.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],d=c&&a[c],h=s[n],f=c&&d&&h&&h.major;return this._adapter.format(e,i||(f?d:u))}generateTickLabels(e){let n,s,i;for(n=0,s=e.length;n<s;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,s=this.ctx.measureText(e).width,i=ts(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(i),r=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:s*o+a*r,h:s*r+a*o}}_getLabelCapacity(e){const n=this.options.time,s=n.displayFormats,i=s[n.unit]||s.millisecond,o=this._tickFormatFunction(e,0,H0(this,[e],this._majorUnit),i),r=this._getLabelSize(o),a=Math.floor(this.isHorizontal()?this.width/r.w:this.height/r.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,s;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,s=i.length;n<s;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,s;if(e.length)return e;const i=this.getLabels();for(n=0,s=i.length;n<s;++n)e.push(q0(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return yb(e.sort(F0))}}P(Ml,"id","time"),P(Ml,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Bc(t,e,n){let s=0,i=t.length-1,o,r,a,l;n?(e>=t[s].pos&&e<=t[i].pos&&({lo:s,hi:i}=ti(t,"pos",e)),{pos:o,time:a}=t[s],{pos:r,time:l}=t[i]):(e>=t[s].time&&e<=t[i].time&&({lo:s,hi:i}=ti(t,"time",e)),{time:o,pos:a}=t[s],{time:r,pos:l}=t[i]);const c=r-o;return c?a+(l-a)*(e-o)/c:a}class mp extends Ml{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Bc(n,this.min),this._tableRange=Bc(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:s}=this,i=[],o=[];let r,a,l,c,u;for(r=0,a=e.length;r<a;++r)c=e[r],c>=n&&c<=s&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(r=0,a=i.length;r<a;++r)u=i[r+1],l=i[r-1],c=i[r],Math.round((u+l)/2)!==c&&o.push({time:c,pos:r/(a-1)});return o}_generate(){const e=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((i,o)=>i-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?e=this.normalize(n.concat(s)):e=n.length?n:s,e=this._cache.all=e,e}getDecimalForValue(e){return(Bc(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return Bc(this._table,s*this._tableRange+this._minPos,!0)}}P(mp,"id","timeseries"),P(mp,"defaults",Ml.defaults);var nX=Object.freeze({__proto__:null,CategoryScale:dp,LinearScale:hp,LogarithmicScale:fp,RadialLinearScale:La,TimeScale:Ml,TimeSeriesScale:mp});const Y0=[cH,zY,DK,nX];var sX=Object.defineProperty,K0=Object.getOwnPropertySymbols,iX=Object.prototype.hasOwnProperty,oX=Object.prototype.propertyIsEnumerable,X0=(t,e,n)=>e in t?sX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,mo=(t,e)=>{for(var n in e||(e={}))iX.call(e,n)&&X0(t,n,e[n]);if(K0)for(var n of K0(e))oX.call(e,n)&&X0(t,n,e[n]);return t};const G0=["install","start","stop","beforeInit","afterInit","beforeUpdate","afterUpdate","beforeElementsUpdate","reset","beforeDatasetsUpdate","afterDatasetsUpdate","beforeDatasetUpdate","afterDatasetUpdate","beforeLayout","afterLayout","afterLayout","beforeRender","afterRender","resize","destroy","uninstall","afterTooltipDraw","beforeTooltipDraw"];function rX(t,e=null){return{type:t,chartRef:e,preventDefault(){this._defaultPrevented=!0},isDefaultPrevented(){return!this._defaultPrevented},_defaultPrevented:!1}}function aX(t,e){return{[e.type]:()=>(t(e.type,e),e.isDefaultPrevented())}}Y0!==void 0&&Ss.register(...Y0);const lX=H({name:"Vue3ChartJs",props:{type:{type:String,required:!0},height:{type:Number,required:!1,default:null},width:{type:Number,required:!1,default:null},data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]}},emits:G0,setup(t,{emit:e}){const n=J(null),i={chart:null,plugins:[G0.reduce((c,u)=>{const d=rX(u,n);return mo(mo({},c),aX(e,d))},{id:"Vue3ChartJsEventHookPlugin"}),...t.plugins],props:mo({},t)},o=()=>{i.chart&&(i.chart.destroy(),i.chart=null)},r=(c=750)=>{i.chart.data=mo(mo({},i.chart.data),i.props.data),i.chart.options=mo(mo({},i.chart.options),i.props.options),i.chart.update(c)},a=()=>i.chart&&i.chart.resize(),l=()=>i.chart?i.chart.update():i.chart=new Ss(n.value.getContext("2d"),{type:i.props.type,data:i.props.data,options:i.props.options,plugins:i.plugins});return Bo(()=>l()),{chartJSState:i,chartRef:n,render:l,resize:a,update:r,destroy:o}},render(t){return Yu("canvas",{ref:"chartRef",height:t.height,width:t.width})}}),_r=lX;_r.registerGlobalPlugins=t=>{Ss.register(...t)};_r.install=(t,e={})=>{var n;t.component(_r.name,_r),(n=e==null?void 0:e.plugins)!=null&&n.length&&_r.registerGlobalPlugins(e.plugins)};const cX=H({__name:"line-chart",props:{plot:{}},setup(t){const e=t,n=W(()=>({type:"line",options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}}},data:{labels:e.plot.data.map(i=>i.key),datasets:[{label:!1,backgroundColor:"black",borderColor:s(e.plot.color),data:e.plot.data.map(i=>i.value),fill:!1,cubicInterpolationMode:"monotone",tension:.4}]}}));function s(i){return getComputedStyle(document.body).getPropertyValue(`--${i}`)}return(i,o)=>i.plot?(w(),U(v(_r),D8(Ll({key:0},n.value)),null,16)):B("",!0)}}),uX=t=>(Re("data-v-62568199"),t=t(),Pe(),t),dX={class:"statistics-plot-card"},hX={class:"statistics-plot-card__title"},fX={key:0,class:"statistics-plot-card__plot"},pX={key:1,class:"statistics-plot-card__no-data"},mX=uX(()=>m("p",null,"Нет данных для отображения",-1)),gX=[mX],_X=H({__name:"statistics-plot-card",props:{plot:{}},setup(t){return(e,n)=>{const s=cX;return w(),k("div",dX,[m("div",hX,[m("h3",null,F(e.plot.name),1)]),e.plot.data.length?(w(),k("div",fX,[A(s,{plot:e.plot},null,8,["plot"])])):(w(),k("div",pX,gX))])}}});const vX=K(_X,[["__scopeId","data-v-62568199"]]),bX=t=>(Re("data-v-43ee8a86"),t=t(),Pe(),t),yX={key:0,class:"statistics-view"},wX={class:"statistics-view__header"},xX={class:"row"},kX={class:"col-md-4 col-12"},SX={class:"col-md-4 col-12"},$X={class:"col-md-4 col-12"},CX={key:0,class:"statistics-view__content"},AX={class:"statistics-view__content__plots"},MX={class:"statistics-view__content__entries"},EX={class:"row"},TX={key:1,class:"statistics-view__content--loading"},LX={key:2,class:"statistics-view__content--not-loaded"},OX={key:1,class:"statistics-view__admin"},DX=bX(()=>m("p",null,"Нет статистики для администраторов",-1)),IX=[DX],RX=H({__name:"statistics-view",props:{username:{}},setup(t){const e=t,n=N.Services.Statistics,s=N.Services.UI,i=J(!0),o=J(),r=Gt({from:l().from,to:l().to,type:void 0});We(r,Yp(a,500),{deep:!0,immediate:!0}),We(r,()=>{i.value=!0},{deep:!0,immediate:!0});async function a(){try{const c=await n.getStatistics(e.username,r.to,r.from,r.type);o.value=c.data}catch(c){s.openErrorModal("Произошла ошибка при получении статистики пользователя",c.message)}finally{i.value=!1}}function l(){const c=new Date;let u=new Date;u.setDate(17);let d=new Date(new Date().setMonth(new Date().getMonth()-1));return d.setDate(17),c.getDate()<17&&(u.setMonth(u.getMonth()-1),d.setMonth(d.getMonth()-1)),{from:d,to:u}}return(c,u)=>{var x;const d=qt,h=Xo,f=vX,p=Zq,g=as,_=B1,b=it("auto-animate");return((x=v(N).Context.User)==null?void 0:x.role)!=="admin"?Ee((w(),k("div",yX,[m("div",wX,[m("div",xX,[m("div",kX,[A(d,{type:"date",modelValue:r.from,"onUpdate:modelValue":u[0]||(u[0]=$=>r.from=$),label:"Начало статистики"},null,8,["modelValue"])]),m("div",SX,[A(d,{type:"date",modelValue:r.to,"onUpdate:modelValue":u[1]||(u[1]=$=>r.to=$),label:"Конец статистики"},null,8,["modelValue"])]),m("div",$X,[A(h,{label:"Тип работы",options:[{label:"Все",value:void 0},{label:"Мини-зачет",value:"mini-test"},{label:"Тест",value:"test"},{label:"Вторая часть",value:"second-part"},{label:"Фраза",value:"phrase"},{label:"Пробник",value:"trial-work"}],modelValue:r.type,"onUpdate:modelValue":u[2]||(u[2]=$=>r.type=$)},null,8,["modelValue"])])])]),o.value&&!i.value?(w(),k("div",CX,[m("div",AX,[(w(!0),k(he,null,Le(o.value.plots,$=>(w(),k("div",{class:"statistics-view__content__plots_plot",key:$.name},[A(f,{plot:$},null,8,["plot"])]))),128))]),m("div",MX,[m("div",EX,[(w(!0),k(he,null,Le(o.value.entries,$=>(w(),k("div",{class:"col-6 col-md-4 col-lg-3",key:$.name},[A(p,{name:$.name,value:$.value},null,8,["name","value"])]))),128))])])])):i.value?(w(),k("div",TX,[A(g,{contrast:""})])):(w(),k("div",LX,[A(_,null,{default:V(()=>[Q(" Произошла ошибка при получении статистики пользователя ")]),_:1})]))])),[[b]]):(w(),k("div",OX,IX))}}});const l8=K(RX,[["__scopeId","data-v-43ee8a86"]]),PX={class:"telegram-auth-button"},NX=H({__name:"telegram-auth-button",props:{size:{default:"medium"}},emits:["authenticated"],setup(t,{emit:e}){return window.onAuthenticated=n=>{e("authenticated",n)},(n,s)=>(w(),k("div",PX,[s[0]||(Ar(-1),s[0]=(w(),U(On("script"),{async:"",src:"https://telegram.org/js/telegram-widget.js?22","data-telegram-login":"noo_platforma_bot","data-size":n.size,"data-onauth":"onAuthenticated(user)","data-request-access":"write"},null,8,["data-size"])),Ar(1),s[0])]))}}),VX=m("h2",null,"Привязка Telegram",-1),zX=m("p",null," После привязки Telegram платформа будет использовать Ваше фото из Telegram и Ваш Telegram ID для уведомлений (BETA). ",-1),BX=H({__name:"add-telegram-modal",props:{visible:{type:Boolean},authData:{}},emits:["update:visible","update:authData","confirm"],setup(t,{emit:e}){const n=t,s=W({get:()=>n.visible,set:r=>e("update:visible",r)}),i=W({get:()=>n.authData,set:r=>e("update:authData",r)});function o(r){i.value={telegramId:String(r.id),telegramUsername:r.username,telegramAvatarUrl:r.photo_url},setTimeout(()=>{e("confirm")},100)}return(r,a)=>{const l=NX,c=$n;return w(),U(c,{visible:s.value,"onUpdate:visible":a[1]||(a[1]=u=>s.value=u),onConfirm:a[2]||(a[2]=u=>e("confirm"))},{title:V(()=>[VX]),text:V(()=>[zX,A(l,{onAuthenticated:a[0]||(a[0]=u=>o(u))})]),_:1},8,["visible"])}}}),UX={class:"profile-credentials"},FX={class:"profile-credentials__avatar"},qX={class:"profile-credentials__name"},WX={class:"profile-credentials__username"},jX={class:"profile-credentials__email"},HX={class:"profile-credentials__role"},YX={class:"profile-credentials__save-button"},KX={class:"profile-credentials__telegram"},XX={key:0},GX=H({__name:"profile-credentials",props:{modelValue:{}},emits:["update:modelValue","save","add-telegram","remove-telegram"],setup(t,{emit:e}){const n=t,s=W({get:()=>n.modelValue,set:r=>e("update:modelValue",r)}),i=J(!1);function o(){i.value=!0}return(r,a)=>{const l=hi,c=qt,u=Qp,d=ot,h=it("auto-animate");return w(),k("div",UX,[m("div",FX,[A(l,{src:s.value.telegramAvatarUrl,name:s.value.name},null,8,["src","name"])]),m("div",qX,[A(c,{type:"text",label:"Имя","onUpdate:modelValue":[a[0]||(a[0]=f=>o()),a[1]||(a[1]=f=>s.value.name=f)],modelValue:s.value.name,class:"input"},null,8,["modelValue"])]),m("div",WX,[A(c,{label:"Никнейм",type:"text",readonly:"",modelValue:s.value.username,"onUpdate:modelValue":a[2]||(a[2]=f=>s.value.username=f),class:"input"},null,8,["modelValue"])]),m("div",jX,[A(c,{label:"Email",type:"text",readonly:"","onUpdate:modelValue":[a[3]||(a[3]=f=>o()),a[4]||(a[4]=f=>s.value.email=f)],modelValue:s.value.email,class:"input"},null,8,["modelValue"])]),m("div",HX,[A(u,{role:s.value.role},null,8,["role"])]),Ee((w(),k("div",YX,[i.value?(w(),U(d,{key:0,alignment:"center",onClick:a[5]||(a[5]=f=>r.$emit("save"))},{default:V(()=>[Q(" Сохранить ")]),_:1})):B("",!0)])),[[h]]),m("div",KX,[s.value.telegramId?(w(),k("p",XX," К этому аккаунту привязан Telegram: "+F(s.value.telegramUsername),1)):B("",!0),s.value.telegramId===null?(w(),U(d,{key:1,design:"telegram",alignment:"stretch",onClick:a[6]||(a[6]=f=>r.$emit("add-telegram"))},{default:V(()=>[Q(" Привязать Telegram ")]),_:1})):(w(),U(d,{key:2,design:"telegram",alignment:"stretch",onClick:a[7]||(a[7]=f=>r.$emit("remove-telegram"))},{default:V(()=>[Q(" Отвязать Telegram ")]),_:1}))])])}}});const JX=K(GX,[["__scopeId","data-v-17aad2d3"]]),ZX={class:"password-criteria"},QX=H({__name:"password-criteria",props:{password:{},modelValue:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t;return We(()=>n.password,()=>{console.log(455);const s=N.Services.User.passwordCriteria().every(i=>i.isValid(n.password));e("update:modelValue",s)}),(s,i)=>{const o=Jt;return w(),k("div",ZX,[(w(!0),k(he,null,Le(v(N).Services.User.passwordCriteria(),(r,a)=>(w(),k("span",{key:a,class:"password-criteria__item"},[(w(),U(o,{name:r.isValid(s.password)?"check-green":"cross-red",key:r.isValid(s.password)?"check-green":"cross-red"},null,8,["name"])),Q(" "+F(r.label),1)]))),128))])}}});const c8=K(QX,[["__scopeId","data-v-4a03c2ec"]]),eG=t=>(Re("data-v-45dcdbe3"),t=t(),Pe(),t),tG={class:"profile-password-form"},nG=eG(()=>m("div",{class:"profile-password-form__header"},[m("h3",{class:"profile-password-form__header__title"},"Смена пароля")],-1)),sG={class:"profile-password-form__form"},iG={class:"profile-password-form__form__field"},oG={class:"profile-password-form__form__field"},rG={class:"profile-password-form__form__field"},aG={class:"profile-password-form__form__field"},lG=H({__name:"profile-password-form",props:{modelValue:{}},emits:["update:modelValue","save"],setup(t,{emit:e}){const n=t,s=W({get:()=>n.modelValue,set:i=>e("update:modelValue",i)});return(i,o)=>{const r=qt,a=c8,l=ot;return w(),k("div",tG,[nG,m("div",sG,[m("div",iG,[A(r,{type:"password",label:"Старый пароль",modelValue:s.value.oldPassword,"onUpdate:modelValue":o[0]||(o[0]=c=>s.value.oldPassword=c)},null,8,["modelValue"])]),m("div",oG,[A(r,{type:"password",label:"Новый пароль",modelValue:s.value.newPassword,"onUpdate:modelValue":o[1]||(o[1]=c=>s.value.newPassword=c)},null,8,["modelValue"]),A(a,{password:s.value.newPassword,modelValue:s.value.passwordIsCorrect,"onUpdate:modelValue":o[2]||(o[2]=c=>s.value.passwordIsCorrect=c)},null,8,["password","modelValue"])]),m("div",rG,[A(r,{type:"password",label:"Повторите новый пароль",modelValue:s.value.repeatPassword,"onUpdate:modelValue":o[3]||(o[3]=c=>s.value.repeatPassword=c)},null,8,["modelValue"])]),m("div",aG,[A(l,{alignment:"center",onClick:o[4]||(o[4]=c=>i.$emit("save"))},{default:V(()=>[Q(" Сменить пароль ")]),_:1})])])])}}});const cG=K(lG,[["__scopeId","data-v-45dcdbe3"]]),$d=t=>(Re("data-v-6ad40942"),t=t(),Pe(),t),uG={class:"delete-account"},dG=$d(()=>m("div",{class:"delete-account__header"},[m("h3",{class:"delete-account__header__title"},"Удаление аккаунта")],-1)),hG={class:"delete-account__body"},fG=$d(()=>m("div",{class:"delete-account__body__warning"},[m("p",null," Все ваши данные будут удалены без возможности восстановления, включая все работы и всю статистику ")],-1)),pG={class:"delete-account__body__button"},mG=$d(()=>m("h2",null,"Вы уверены, что хотите удалить свой аккаунт?",-1)),gG=$d(()=>m("p",null," Все ваши данные будут удалены без возможности восстановления, включая все работы и всю статистику ",-1)),_G=H({__name:"delete-account",emits:["delete-account"],setup(t){const e=J(!1);function n(){e.value=!0}return(s,i)=>{const o=ot,r=$n;return w(),k(he,null,[m("div",uG,[dG,m("div",hG,[fG,m("div",pG,[A(o,{design:"danger",alignment:"center",onClick:n},{default:V(()=>[Q(" Удалить аккаунт ")]),_:1})])])]),(w(),U(ui,{to:"body"},[A(r,{visible:e.value,"onUpdate:visible":i[0]||(i[0]=a=>e.value=a),onConfirm:i[1]||(i[1]=a=>s.$emit("delete-account"))},{title:V(()=>[mG]),text:V(()=>[gG]),_:1},8,["visible"])]))],64)}}});const vG=K(_G,[["__scopeId","data-v-6ad40942"]]),bG={class:"user-mentor"},yG=m("h3",null,"Мой куратор",-1),wG={key:1,class:"index-profile-view__mentor__no-mentor"},xG=H({__name:"user-mentor",props:{mentor:{}},setup(t){return(e,n)=>{const s=Qu;return w(),k("div",bG,[yG,e.mentor?(w(),U(s,{key:0,user:e.mentor},null,8,["user"])):(w(),k("p",wG," У вас пока нет куратора "))])}}}),kG=Ct("profile-module:profile",()=>{const t=N.Services.User,e=N.Services.Auth,n=N.Services.UI,s=J(),i=W(()=>{var h,f;return((h=s.value)==null?void 0:h.role)==="student"?(f=s.value)==null?void 0:f.mentor:null}),o=J({oldPassword:"",newPassword:"",repeatPassword:""});async function r(){var h;if((h=N.Context.User)!=null&&h.username){n.setLoading(!0);try{const f=await t.getUser(N.Context.User.username);s.value=f.data}catch(f){n.openErrorModal("Произошла ошибка при загрузке данных пользователя","Возможно, Вам поможет перезайти. Ошибка: "+f.message,[{label:"Перезайти",design:"warning",handler:()=>e.logout()}])}finally{n.setLoading(!1)}}}async function a(){if(s.value){if(o.value.newPassword!==o.value.repeatPassword){n.openWarningModal("Пароли не совпадают");return}if(!t.validatePassword(o.value.newPassword)){n.openWarningModal("Пароль не соответствует требованиям");return}n.setLoading(!0);try{await t.updateUser(s.value.id,{id:s.value.id,password:o.value.newPassword}),n.openSuccessModal("Пароль успешно изменен")}catch(h){n.openErrorModal("Произошла ошибка при изменении пароля",h.message)}finally{o.value={oldPassword:"",newPassword:"",repeatPassword:""},n.setLoading(!1)}}}async function l(){if(s.value){n.setLoading(!0);try{await t.deleteUser(s.value.id),n.openSuccessModal("Аккаунт успешно удален"),e.logout()}catch(h){n.openErrorModal("Произошла ошибка при удалении аккаунта",h.message)}finally{n.setLoading(!1)}}}async function c(){var h;if(s.value){n.setLoading(!0);try{await t.updateUser(s.value.id,{id:s.value.id,name:s.value.name,telegramUsername:(h=s.value.telegramUsername)==null?void 0:h.replace("@","")}),n.openSuccessModal("Данные успешно обновлены","Чтобы изменения вступили в силу, обновите страницу",[{label:"Обновить страницу",design:"primary",handler:()=>window.location.reload()}])}catch(f){n.openErrorModal("Произошла ошибка при обновлении данных",f.message)}finally{n.setLoading(!1)}}}async function u(h){if(!(!s.value||!h)){n.setLoading(!0);try{await t.updateTelegram(s.value.id,h),s.value.telegramUsername=h.telegramUsername||void 0,s.value.telegramId=h.telegramId||void 0,s.value.telegramAvatarUrl=h.telegramAvatarUrl||void 0,n.openSuccessModal("Telegram успешно привязан")}catch(f){n.openErrorModal("Произошла ошибка при привязке Telegram",f.message)}finally{n.setLoading(!1)}}}async function d(){await u({telegramId:null,telegramUsername:null,telegramAvatarUrl:null})}return{user:s,mentor:i,passwords:o,changePassword:a,deleteAccount:l,updateCredentials:c,updateTelegram:u,removeTelegram:d,fetchUser:r}}),SG=t=>(Re("data-v-eeffdab8"),t=t(),Pe(),t),$G={key:0,class:"index-profile-view"},CG={class:"index-profile-view__user-info"},AG={class:"index-profile-view__credentials"},MG={class:"index-profile-view__password-change"},EG={class:"index-profile-view__delete-account"},TG={class:"index-profile-view__mentor"},LG={key:0,class:"index-profile-view__charts"},OG=SG(()=>m("h3",{class:"index-profile-view__charts__header"},"Моя статистика",-1)),DG=H({__name:"index-view",setup(t){const e=kG();ln("Мой профиль"),e.fetchUser();const n=J({visible:!1,authData:null});return(s,i)=>{const o=l8,r=fi;return w(),k(he,null,[v(e).user?(w(),k("div",$G,[A(r,null,{sidebar:V(()=>[m("div",CG,[m("div",AG,[A(JX,{modelValue:v(e).user,"onUpdate:modelValue":i[0]||(i[0]=a=>v(e).user=a),onSave:i[1]||(i[1]=a=>v(e).updateCredentials()),onAddTelegram:i[2]||(i[2]=a=>n.value.visible=!0),onRemoveTelegram:i[3]||(i[3]=a=>v(e).removeTelegram())},null,8,["modelValue"])]),m("div",MG,[A(cG,{modelValue:v(e).passwords,"onUpdate:modelValue":i[4]||(i[4]=a=>v(e).passwords=a),onSave:i[5]||(i[5]=a=>v(e).changePassword())},null,8,["modelValue"])]),m("div",EG,[A(vG,{onDeleteAccount:i[6]||(i[6]=a=>v(e).deleteAccount())})])])]),content:V(()=>{var a;return[m("div",TG,[v(e).mentor?(w(),U(xG,{key:0,mentor:v(e).mentor},null,8,["mentor"])):B("",!0)]),v(N).Context.User&&v(N).Context.User.role!=="admin"?(w(),k("div",LG,[OG,i[7]||(Ar(-1),i[7]=A(o,{username:(a=v(N).Context.User)==null?void 0:a.username},null,8,["username"]),Ar(1),i[7])])):B("",!0)]}),_:1})])):B("",!0),A(BX,{visible:n.value.visible,"onUpdate:visible":i[8]||(i[8]=a=>n.value.visible=a),"auth-data":n.value.authData,"onUpdate:authData":i[9]||(i[9]=a=>n.value.authData=a),onConfirm:i[10]||(i[10]=a=>v(e).updateTelegram(n.value.authData))},null,8,["visible","auth-data"])],64)}}});const IG=K(DG,[["__scopeId","data-v-eeffdab8"]]),RG={path:"/profile",name:"Профиль",component:Fq,children:[{path:"",name:"Профиль",component:IG}]},PG={name:"profile",router:RG},NG={},VG={class:"module-wrapper"};function zG(t,e){const n=De("router-view");return w(),k("div",VG,[A(n)])}const BG=K(NG,[["render",zG]]),UG=Ct("students-module:students",()=>{const t=N.Services.User,e=N.Services.UI,{pagination:n,results:s,resultsMeta:i,isListLoading:o}=Lt(r);async function r(a){try{return await t.getOwnStudents(a)}catch(l){e.openErrorModal("Произошла ошибка при получении списка студентов",l.message)}}return{pagination:n,results:s,resultsMeta:i,isListLoading:o}}),FG={class:"index-students-view"},qG={class:"index-students-view__search"},WG={key:0,class:"index-students-view__pagination"},jG=H({__name:"index-view",setup(t){var s;const e=[{title:"",keys:["telegramAvatarUrl","name"],type:"avatar"},{title:"Имя",keys:["name"],type:"text"},{title:"Никнейм",keys:["username"],type:"text"},{title:"E-mail",keys:["email"],type:"text"},{title:"Telegram",keys:["telegramUsername"],type:"link",design:"telegram",linkTo:i=>`https://t.me/${i.telegramUsername}`},{title:"",value:((s=N.Context.User)==null?void 0:s.role)==="mentor"?"Перейти":"Редактировать",type:"link",design:"secondary",linkTo:i=>`/users/edit/${i.username}`}],n=UG();return ln("Мои ученики"),(i,o)=>{const r=Sn,a=Rs,l=kn;return w(),k("div",FG,[m("div",qG,[A(r,{modelValue:v(n).pagination.search,"onUpdate:modelValue":o[0]||(o[0]=c=>v(n).pagination.search=c),"is-loading":v(n).isListLoading},null,8,["modelValue","is-loading"])]),A(a,{cols:e,data:v(n).results,"is-loading":v(n).isListLoading},null,8,["data","is-loading"]),v(n).resultsMeta.total&&v(n).pagination.page&&v(n).pagination.limit?(w(),k("div",WG,[A(l,{page:v(n).pagination.page,"onUpdate:page":o[1]||(o[1]=c=>v(n).pagination.page=c),total:v(n).resultsMeta.total,limit:v(n).pagination.limit},null,8,["page","total","limit"])])):B("",!0)])}}});const HG=K(jG,[["__scopeId","data-v-8f16c138"]]),YG={path:"/students",name:"Мои ученики",component:BG,children:[{path:"",name:"Мои ученики",component:HG}]},KG={name:"students",router:YG},XG={},GG={class:"module-wrapper"};function JG(t,e){const n=De("router-view");return w(),k("div",GG,[(w(),U(n,{key:t.$route.fullPath}))])}const ZG=K(XG,[["render",JG]]),QG=t=>(Re("data-v-f86a9a89"),t=t(),Pe(),t),eJ={key:0},tJ={key:1},nJ={class:"change-mentor-modal__search"},sJ={class:"change-mentor-modal__list"},iJ={key:0,class:"change-mentor-modal__progress"},oJ=QG(()=>m("p",null,"Пожалуйста, не закрывайте это окно",-1)),rJ=H({__name:"change-mentor-modal",props:{assignedWorks:{},opened:{type:Boolean},mentorId:{}},emits:["update:opened","update:mentorId","confirm"],setup(t,{emit:e}){const n=t,s=W({get:()=>n.opened,set:c=>e("update:opened",c)}),i=W({get:()=>[n.mentorId],set:c=>e("update:mentorId",c[0])}),o=Lt(r,{immediate:!0});async function r(c){try{return await N.Services.User.getMentors(c)}catch(u){N.Services.UI.openErrorModal("Произошла ошибка при получении списка кураторов",u.message)}}const a=J(0);async function l(){if(!i.value.at(0))return N.Services.UI.openWarningModal("Куратор не выбран");a.value=.01;try{for(const c of n.assignedWorks)await N.Services.AssignedWork.changeMentor(c.id,i.value.at(0)),a.value+=100/n.assignedWorks.length}catch(c){N.Services.UI.openErrorModal("Произошла ошибка при изменении куратора",c.message)}finally{s.value=!1,a.value=0}e("confirm")}return(c,u)=>{const d=Sn,h=Uo,f=kn,p=nb,g=$n;return w(),U(g,{visible:s.value,"onUpdate:visible":u[3]||(u[3]=_=>s.value=_),onConfirm:u[4]||(u[4]=_=>l()),"actions-disabled":a.value!==0,"stay-open":""},{title:V(()=>{var _;return[c.assignedWorks.length===1?(w(),k("h3",eJ,' Изменить куратора у работы "'+F((_=c.assignedWorks[0].work)==null?void 0:_.name)+'" ',1)):(w(),k("h3",tJ,"Изменить куратора у "+F(c.assignedWorks.length)+" работ",1))]}),text:V(()=>[m("div",nJ,[A(d,{modelValue:v(o).pagination.value.search,"onUpdate:modelValue":u[0]||(u[0]=_=>v(o).pagination.value.search=_),"is-loading":v(o).isListLoading.value||a.value!==0},null,8,["modelValue","is-loading"])]),m("div",sJ,[A(h,{items:v(o).results.value,"item-label-key":"name","item-key":"id",modelValue:i.value,"onUpdate:modelValue":u[1]||(u[1]=_=>i.value=_),readonly:a.value!==0},null,8,["items","modelValue","readonly"]),v(o).pagination.value.page&&v(o).pagination.value.limit?(w(),U(f,{key:0,page:v(o).pagination.value.page,"onUpdate:page":u[2]||(u[2]=_=>v(o).pagination.value.page=_),total:v(o).resultsMeta.value.total,limit:v(o).pagination.value.limit},null,8,["page","total","limit"])):B("",!0)]),a.value!=0?(w(),k("div",iJ,[oJ,A(p,{value:a.value},null,8,["value"])])):B("",!0)]),_:1},8,["visible","actions-disabled"])}}});const aJ=K(rJ,[["__scopeId","data-v-f86a9a89"]]),lJ={class:"assigned-works-view"},cJ={class:"assigned-works-view__search"},uJ={key:0,class:"assigned-works-view__selection"},dJ={class:"assigned-works-view__selection__title"},hJ={class:"assigned-works-view__selection__actions"},fJ={class:"assigned-works-view__results"},pJ={key:1,class:"assigned-works-view__pagination"},mJ=H({__name:"assigned-works-view",props:{user:{}},setup(t){const e=t,n=Is(),s=Lt(o,{immediate:!0}),i=J({opened:!1,mentorId:null,assignedWorks:[]});async function o(f){try{return await N.Services.AssignedWork.getAssignedWorksFromUser(e.user.id,f)}catch(p){N.Services.UI.openErrorModal("Произошла ошибка при получении списка работ",p.message)}}const r=[{title:"Название работы / Ученик / Куратор(ы)",keys:["work.name","student.name","mentors.each.name"],join:"<br>",type:"text",style:[void 0,"secondary","secondary"]},{title:"Дедлайн сдачи/сдано",keys:["solveDeadlineAt","solvedAt"],type:"date"},{title:"Дата проверки/проверено",keys:["checkDeadlineAt","checkedAt"],type:"date"},{title:"Статус работы",keys:["solveStatus","checkStatus"],type:"tag",tagFunction:l},{title:"Результат",keys:["score","maxScore"],join:"/",style:["centered"],type:"text"}];function a(f){return[{title:"Посмотреть",icon:"eye",action:()=>{n.push(`/assigned-works/${f.id}/read`)}},{title:"Поменять куратора",icon:"change-user",if:f.checkStatus==="not-checked"||f.checkStatus==="in-progress",action:()=>d([f])}]}function l(f,p){return p==="made-in-deadline"?{type:"success",text:"Сдано в дедлайн"}:p==="made-after-deadline"?{type:"danger",text:"Сдано не в дедлайн"}:p==="checked-in-deadline"?{type:"info",text:"Проверено в дедлайн"}:p==="checked-after-deadline"?{type:"warning",text:"Проверено не в дедлайн"}:p==="checked-automatically"?{type:"info",text:"Проверено автоматически"}:p==="not-made"?{type:"warning",text:"Не сдано"}:p==="not-checked"?{type:"info",text:"Не проверено"}:{type:"info",text:"-"}}const c=J([]);function u(f){c.value=s.results.value.filter(p=>f.includes(p.id))}function d(f){i.value={opened:!0,mentorId:null,assignedWorks:f}}function h(){c.value=[],s.trigger()}return(f,p)=>{const g=Sn,_=ot,b=Rs,x=kn,$=it("auto-animate");return w(),k(he,null,[Ee((w(),k("div",lJ,[m("div",cJ,[A(g,{modelValue:v(s).pagination.value.search,"onUpdate:modelValue":p[0]||(p[0]=S=>v(s).pagination.value.search=S)},null,8,["modelValue"])]),c.value.length?(w(),k("div",uJ,[m("p",dJ," Выбрано работ: "+F(c.value.length),1),m("div",hJ,[A(_,{design:"secondary",onClick:p[1]||(p[1]=S=>d(c.value))},{default:V(()=>[Q(" Поменять куратора ")]),_:1})])])):B("",!0),m("div",fJ,[A(b,{data:v(s).results.value,cols:r,actions:a,"is-loading":v(s).isListLoading.value,editable:"",onSelect:p[2]||(p[2]=S=>u(S))},null,8,["data","is-loading"])]),v(s).pagination.value.page&&v(s).resultsMeta.value.total&&v(s).pagination.value.limit?(w(),k("div",pJ,[A(x,{page:v(s).pagination.value.page,"onUpdate:page":p[3]||(p[3]=S=>v(s).pagination.value.page=S),total:v(s).resultsMeta.value.total,limit:v(s).pagination.value.limit},null,8,["page","total","limit"])])):B("",!0)])),[[$]]),A(aJ,{opened:i.value.opened,"onUpdate:opened":p[4]||(p[4]=S=>i.value.opened=S),mentorId:i.value.mentorId,"onUpdate:mentorId":p[5]||(p[5]=S=>i.value.mentorId=S),"assigned-works":i.value.assignedWorks,onConfirm:p[6]||(p[6]=S=>h())},null,8,["opened","mentorId","assigned-works"])],64)}}});const gJ=K(mJ,[["__scopeId","data-v-35062265"]]),_J={class:"input-group"},vJ={class:"input-group"},bJ=m("br",null,null,-1),yJ=H({__name:"change-password-modal",props:{user:{},visible:{type:Boolean}},emits:["confirm","update:visible"],setup(t,{emit:e}){const n=t,s=Gt({newPassword:"",repeatPassword:"",error:"",passwordIsStrong:!1}),i=W({get:()=>n.visible,set:r=>{r||(s.newPassword="",s.repeatPassword="",s.error=""),e("update:visible",r)}});function o(){if(N.Services.UI.setLoading(!0),s.newPassword!==s.repeatPassword){setTimeout(()=>{N.Services.UI.setLoading(!1),i.value=!0,s.error="Пароли не совпадают"},500);return}if(!s.passwordIsStrong){setTimeout(()=>{N.Services.UI.setLoading(!1),i.value=!0,s.error="Пароль не удовлетворяет требованиям"},500);return}e("confirm",s.newPassword),i.value=!1}return(r,a)=>{const l=qt,c=c8,u=B1,d=$n;return w(),U(d,{onConfirm:o,visible:i.value,"onUpdate:visible":a[3]||(a[3]=h=>i.value=h)},{title:V(()=>[m("h3",null," Поменять пароль пользователю "+F(r.user.name)+" ("+F(r.user.username)+") ",1)]),text:V(()=>[m("div",_J,[A(l,{type:"password",modelValue:s.newPassword,"onUpdate:modelValue":a[0]||(a[0]=h=>s.newPassword=h),label:"Новый пароль:"},null,8,["modelValue"])]),m("div",vJ,[A(l,{type:"password",modelValue:s.repeatPassword,"onUpdate:modelValue":a[1]||(a[1]=h=>s.repeatPassword=h),label:"Повторите новый пароль:"},null,8,["modelValue"])]),A(c,{password:s.newPassword,modelValue:s.passwordIsStrong,"onUpdate:modelValue":a[2]||(a[2]=h=>s.passwordIsStrong=h)},null,8,["password","modelValue"]),bJ,s.error?(w(),U(u,{key:0},{default:V(()=>[Q(F(s.error),1)]),_:1})):B("",!0)]),_:1},8,["visible"])}}}),wJ={class:"teacher-form"},xJ=m("h3",null,"Курсы преподавателя",-1),kJ=H({__name:"teacher-form",props:{courses:{}},setup(t){const e=[{title:"#",type:"iterator"},{title:"Название",keys:["name"],type:"text"},{title:"Участники",keys:["students"],type:"text",value:n=>(n.students||[]).length}];return(n,s)=>{const i=Rs;return w(),k("div",wJ,[xJ,A(i,{cols:e,data:n.courses||[]},null,8,["data"])])}}}),SJ={class:"mentor-form"},$J=m("h3",null,"Ученики куратора",-1),CJ=H({__name:"mentor-form",props:{students:{}},setup(t){const e=[{title:"#",type:"iterator"},{title:"Имя",keys:["name"],type:"text"},{title:"Никнейм",keys:["username"],type:"text"},{title:"Email",keys:["email"],type:"text"}];return(n,s)=>{const i=Rs;return w(),k("div",SJ,[$J,A(i,{cols:e,data:n.students||[]},null,8,["data"])])}}}),u8=Ct("users-module:user",()=>{const t=N.Services.User,e=N.Services.UI,n=Dt(),s=J(null),i=Lt(o);async function o(d){try{return await t.getMentors(d)}catch(h){e.openErrorModal("Произошла ошибка при получении списка кураторов",h.message)}}async function r(){e.setLoading(!0);try{const d=await t.getUser(n.params.username);s.value=d.data}catch(d){e.openErrorModal("Произошла ошибка при получении данных пользователя",d.message)}finally{e.setLoading(!1)}}async function a(){if(s.value){e.setLoading(!0);try{await t.updateUser(s.value.id,s.value),e.openSuccessModal("Данные успешно сохранены")}catch(d){e.openErrorModal("Произошла ошибка при сохранении данных пользователя",d.message)}finally{e.setLoading(!1)}}}async function l(d){if(s.value){e.setLoading(!0);try{await t.assignMentor(s.value.id,d),e.openSuccessModal("Куратор успешно назначен")}catch(h){e.openErrorModal("Произошла ошибка при назначении куратора",h.message)}finally{e.setLoading(!1)}}}async function c(){if(s.value){e.setLoading(!0);try{await t.confirmUser(s.value.username),e.openSuccessModal("Пользователь подтвержден")}catch(d){e.openErrorModal("Произошла ошибка при подтверждении пользователя",d.message)}finally{e.setLoading(!1)}}}async function u(d){if(s.value){if(!["admin","teacher"].includes(N.Context.User.role)){e.openErrorModal("Недостаточно прав для изменения пароля");return}e.setLoading(!0);try{await t.updateUser(s.value.id,{id:s.value.id,password:d}),e.openSuccessModal("Пароль успешно изменен")}catch(h){e.openErrorModal("Произошла ошибка при изменении пароля",h.message)}finally{e.setLoading(!1)}}}return{mentorSearch:i,user:s,fetchUser:r,saveUser:a,assignMentor:l,confirmUser:c,changePassword:u}}),d8=t=>(Re("data-v-5d2b3cbd"),t=t(),Pe(),t),AJ={class:"student-form"},MJ=d8(()=>m("h3",null,"Куратор:",-1)),EJ={class:"row"},TJ={class:"col-md-8 col-12"},LJ={key:1},OJ={class:"col-md-4 col-12"},DJ={class:"student-form__actions"},IJ=d8(()=>m("h3",null,"Выберите куратора",-1)),RJ={class:"change-mentor-modal__search"},PJ={class:"change-mentor-modal__list"},NJ=H({__name:"student-form",props:{mentor:{}},emits:["assignMentor"],setup(t){const e=t,n=u8(),s=J(!1),i=J(e.mentor?[e.mentor.id]:[]);function o(){if(!i.value.length)return N.Services.UI.openWarningModal("Куратор не выбран");n.assignMentor(i.value[0])}return(r,a)=>{const l=Qu,c=ot,u=Sn,d=Uo,h=kn,f=$n;return w(),k(he,null,[m("div",AJ,[MJ,m("div",EJ,[m("div",TJ,[r.mentor?(w(),U(l,{key:0,user:r.mentor,link:`/users/edit/${r.mentor.username}`},null,8,["user","link"])):(w(),k("p",LJ,"Пока нет куратора..."))]),m("div",OJ,[m("div",DJ,[A(c,{design:"danger",alignment:"stretch",onClick:a[0]||(a[0]=p=>s.value=!0)},{default:V(()=>[Q(F(r.mentor?"Поменять куратора":"Присвоить куратора"),1)]),_:1})])])])]),(w(),U(ui,{to:"body"},[A(f,{class:"change-mentor-modal",visible:s.value,"onUpdate:visible":a[4]||(a[4]=p=>s.value=p),onConfirm:o},{title:V(()=>[IJ]),text:V(()=>[m("div",RJ,[A(u,{modelValue:v(n).mentorSearch.pagination.search,"onUpdate:modelValue":a[1]||(a[1]=p=>v(n).mentorSearch.pagination.search=p),"is-loading":v(n).mentorSearch.isListLoading},null,8,["modelValue","is-loading"])]),m("div",PJ,[A(d,{items:v(n).mentorSearch.results,"item-label-key":"name","item-key":"id",modelValue:i.value,"onUpdate:modelValue":a[2]||(a[2]=p=>i.value=p)},null,8,["items","modelValue"]),v(n).mentorSearch.pagination.page&&v(n).mentorSearch.pagination.limit?(w(),U(h,{key:0,page:v(n).mentorSearch.pagination.page,"onUpdate:page":a[3]||(a[3]=p=>v(n).mentorSearch.pagination.page=p),total:v(n).mentorSearch.resultsMeta.total,limit:v(n).mentorSearch.pagination.limit},null,8,["page","total","limit"])):B("",!0)])]),_:1},8,["visible"])]))],64)}}});const VJ=K(NJ,[["__scopeId","data-v-5d2b3cbd"]]),zJ={class:"user-form"},BJ={class:"row"},UJ={class:"col-md-4"},FJ={class:"form-group role"},qJ={class:"col-md-4"},WJ={class:"form-group registration-date"},jJ={class:"col-md-4"},HJ={key:0,class:"form-group is-blocked"},YJ={class:"row"},KJ={class:"col-12"},XJ={key:0,class:"fomr-group__course-list"},GJ={key:1,class:"fomr-group__student-list"},JJ={key:2,class:"fomr-group__student-statistics"},ZJ=H({__name:"user-form",props:{modelValue:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=W({get:()=>n.modelValue,set:o=>e("update:modelValue",o)}),i=[{label:"Ученик",value:"student"},{label:"Куратор",value:"mentor"},{label:"Преподаватель",value:"teacher"},{label:"Администратор",value:"admin"}];return(o,r)=>{var u,d,h;const a=Xo,l=qt,c=Kr;return w(),k("div",zJ,[m("div",BJ,[m("div",UJ,[m("div",FJ,[A(a,{modelValue:s.value.role,"onUpdate:modelValue":r[0]||(r[0]=f=>s.value.role=f),label:"Роль",options:i,readonly:s.value.role!=="student"||((u=v(N).Context.User)==null?void 0:u.role)==="mentor"},null,8,["modelValue","readonly"])])]),m("div",qJ,[m("div",WJ,[A(l,{modelValue:s.value.createdAt,"onUpdate:modelValue":r[1]||(r[1]=f=>s.value.createdAt=f),label:"Дата регистрации",type:"datetime-local",readonly:""},null,8,["modelValue"])])]),m("div",jJ,[["admin","teacher"].includes((d=v(N).Context.User)==null?void 0:d.role)?(w(),k("div",HJ,[A(c,{readonly:s.value.id===((h=v(N).Context.User)==null?void 0:h.id),modelValue:s.value.isBlocked,"onUpdate:modelValue":r[2]||(r[2]=f=>s.value.isBlocked=f),label:"Заблокирован"},null,8,["readonly","modelValue"])])):B("",!0)])]),m("div",YJ,[m("div",KJ,[s.value.role==="teacher"?(w(),k("div",XJ,[A(kJ,{courses:s.value.courses},null,8,["courses"])])):s.value.role==="mentor"?(w(),k("div",GJ,[A(CJ,{students:s.value.students},null,8,["students"])])):s.value.role==="student"?(w(),k("div",JJ,[A(VJ,{mentor:s.value.mentor},null,8,["mentor"])])):B("",!0)])])])}}});const QJ=K(ZJ,[["__scopeId","data-v-4f0cdc81"]]),h8=t=>(Re("data-v-a50678fb"),t=t(),Pe(),t),eZ={class:"edit-user-view"},tZ={class:"edit-user-view__credentials"},nZ={class:"edit-user-view__credentials__avatar"},sZ={class:"edit-user-view__credentials__name"},iZ={class:"edit-user-view__credentials__username"},oZ={class:"edit-user-view__credentials__email"},rZ={class:"edit-user-view__credentials__role"},aZ={key:0,class:"edit-user-view__credentials__telegram"},lZ={key:1,class:"edit-user-view__credentials__change-password"},cZ={class:"edit-user-view__content"},uZ={class:"edit-user-view__content__unverified-block"},dZ=h8(()=>m("p",null,[m("b",null,"Пользователь не подтвержден"),m("br"),Q(" Пользователь не сможет войти в систему, пока не подтвердит свой аккаунт через имейл ")],-1)),hZ={class:"edit-user-view__content__form"},fZ={class:"edit-user-view__content__actions"},pZ={class:"edit-user-view__content__actions__return"},mZ={class:"edit-user-view__content__actions__save"},gZ={class:"edit-user-view__calender"},_Z={class:"edit-user-view__statistics"},vZ={key:0,class:"edit-user-view__assigned-works"},bZ={key:1,class:"edit-user-view__no-assigned-works"},yZ=h8(()=>m("p",null," Работы есть только у студентов и кураторов, просматривать их может только админ или преподаватель. Кураторы и ученики могут видеть только свои работы ",-1)),wZ=[yZ],xZ=H({__name:"edit-user-view",setup(t){const e=u8();e.fetchUser();const n=J(!1);We(()=>e.user,()=>{e.user&&(ln(e.user.name),document.querySelector(".pane-layout__header .header__page-title h1").innerHTML=e.user.name)},{immediate:!0,deep:!0});const s=J(0);return(i,o)=>{const r=hi,a=Qp,l=e1,c=ot,u=Fo,d=fi,h=rb,f=l8,p=Ku;return w(),U(p,{titles:["Данные","Календарь","Статистика","Работы"],onTabChange:o[6]||(o[6]=g=>s.value=g)},{"tab-0":V(()=>[m("div",eZ,[v(e).user?(w(),U(d,{key:0},{sidebar:V(()=>{var g,_;return[m("div",tZ,[m("div",nZ,[A(r,{src:v(e).user.telegramAvatarUrl,name:v(e).user.name},null,8,["src","name"])]),m("div",sZ,[m("h2",null,F(v(e).user.name),1)]),m("div",iZ,[m("p",null,[Q(" Никнейм: "),m("b",null,F(v(e).user.username),1)])]),m("div",oZ,[m("p",null,[Q(" Email: "),m("b",null,F(v(e).user.email),1)])]),m("div",rZ,[A(a,{role:v(e).user.role},null,8,["role"])]),v(e).user.telegramUsername?(w(),k("div",aZ,[A(l,{username:v(e).user.telegramUsername},null,8,["username"])])):B("",!0),((g=v(N).Context.User)==null?void 0:g.role)==="admin"||((_=v(N).Context.User)==null?void 0:_.role)==="teacher"?(w(),k("div",lZ,[A(c,{design:"danger",alignment:"center",onClick:o[0]||(o[0]=b=>n.value=!0)},{default:V(()=>[Q(" Сменить пароль ")]),_:1}),A(yJ,{visible:n.value,"onUpdate:visible":o[1]||(o[1]=b=>n.value=b),user:v(e).user,onConfirm:o[2]||(o[2]=b=>v(e).changePassword(b))},null,8,["visible","user"])])):B("",!0)])]}),content:V(()=>{var g;return[m("div",cZ,[v(e).user.verificationToken?(w(),U(u,{key:0},{default:V(()=>{var _;return[m("div",uZ,[dZ,["admin","teacher"].includes(((_=v(N).Context.User)==null?void 0:_.role)||"$$anonymous$$")?(w(),U(c,{key:0,design:"warning",alignment:"right",onClick:o[3]||(o[3]=b=>v(e).confirmUser())},{default:V(()=>[Q(" Подтвердить ")]),_:1})):B("",!0)])]}),_:1})):B("",!0),m("div",hZ,[A(QJ,{modelValue:v(e).user,"onUpdate:modelValue":o[4]||(o[4]=_=>v(e).user=_)},null,8,["modelValue"])]),m("div",fZ,[m("div",pZ,[A(c,{to:"/users",alignment:"right",design:"secondary"},{default:V(()=>[Q(" Назад ")]),_:1})]),m("div",mZ,[((g=v(N).Context.User)==null?void 0:g.role)!=="mentor"?(w(),U(c,{key:0,onClick:o[5]||(o[5]=_=>v(e).saveUser()),alignment:"right",design:"primary"},{default:V(()=>[Q(" Сохранить ")]),_:1})):B("",!0)])])])]}),_:1})):B("",!0)])]),"tab-1":V(()=>[m("div",gZ,[v(e).user&&s.value===1?(w(),U(h,{key:0,username:v(e).user.username},null,8,["username"])):B("",!0)])]),"tab-2":V(()=>[m("div",_Z,[v(e).user&&s.value===2?(w(),U(f,{key:0,username:v(e).user.username},null,8,["username"])):B("",!0)])]),"tab-3":V(()=>{var g,_;return[["student","mentor"].includes((g=v(e).user)==null?void 0:g.role)&&["admin","teacher"].includes(((_=v(N).Context.User)==null?void 0:_.role)||"$$anonymous$$")?(w(),k("div",vZ,[v(e).user&&s.value===3?(w(),U(gJ,{key:0,user:v(e).user},null,8,["user"])):B("",!0)])):(w(),k("div",bZ,wZ))]}),_:1})}}});const kZ=K(xZ,[["__scopeId","data-v-a50678fb"]]),SZ=Ct("users-module:users",()=>{const t=N.Services.User,e=N.Services.UI,{pagination:n,isListLoading:s,results:i,resultsMeta:o}=Lt(r);async function r(a){try{return await t.getUsersWithMentors(a)}catch(l){e.openErrorModal("Произошла ошибка при получении списка пользователей",l.message)}}return{pagination:n,isListLoading:s,results:i,resultsMeta:o}}),$Z={class:"index-students-view"},CZ={class:"index-students-view__search"},AZ={class:"index-students-view__table"},MZ={key:0,class:"index-students-view__pagination"},EZ=H({__name:"index-view",setup(t){const e=SZ(),n=Is();ln("Пользователи");const s=[{title:"",keys:["telegramAvatarUrl","name"],type:"avatar"},{title:"Имя",value:o=>{const r=o.name;return o.verificationToken?`<span title="Пользователь не подтвержден">⛔</span> ${r}`:o.mentor&&o.role==="student"?`${r}<br><small>Куратор: ${o.mentor.name}</small>`:r},type:"text"},{title:"Роль",keys:["role"],type:"tag",tagFunction:(o,r)=>{switch(r){case"admin":return{text:"Администратор",type:"danger"};case"teacher":return{text:"Преподаватель",type:"success"};case"mentor":return{text:"Куратор",type:"info"};case"student":default:return{text:"Ученик",type:"info"}}}},{title:"Никнейм",keys:["username"],type:"text"},{title:"E-mail",keys:["email"],type:"text"}];function i(o){return[{title:"Редактировать",icon:"edit",action:()=>{n.push(`/users/edit/${o.username}`)}},{title:"Телеграм",icon:"telegram-blue",if:!!o.telegramUsername,action:()=>{var r;(r=window.open(`https://t.me/${o.telegramUsername}`,"_blank"))==null||r.focus()}}]}return(o,r)=>{const a=Sn,l=Rs,c=kn;return w(),k("div",$Z,[m("div",CZ,[A(a,{modelValue:v(e).pagination.search,"onUpdate:modelValue":r[0]||(r[0]=u=>v(e).pagination.search=u),"is-loading":v(e).isListLoading},null,8,["modelValue","is-loading"])]),m("div",AZ,[A(l,{cols:s,data:v(e).results,"is-loading":v(e).isListLoading,actions:i},null,8,["data","is-loading"])]),v(e).resultsMeta.total&&v(e).pagination.limit&&v(e).pagination.page?(w(),k("div",MZ,[A(c,{page:v(e).pagination.page,"onUpdate:page":r[1]||(r[1]=u=>v(e).pagination.page=u),total:v(e).resultsMeta.total,limit:v(e).pagination.limit},null,8,["page","total","limit"])])):B("",!0)])}}});const TZ=K(EZ,[["__scopeId","data-v-f6e278b7"]]),LZ={path:"/users",name:"Пользователи",component:ZG,children:[{path:"",name:"Пользователи",component:TZ},{path:"edit/:username",name:"Редактировать пользователя",component:kZ}]},OZ={name:"users",router:LZ},DZ={},IZ={class:"module-wrapper"};function RZ(t,e){const n=De("router-view");return w(),k("div",IZ,[A(n)])}const PZ=K(DZ,[["render",RZ]]),NZ="/img/logo-circled.svg";const VZ={},Wl=t=>(Re("data-v-9c949c27"),t=t(),Pe(),t),zZ={class:"the-footer"},BZ={class:"container"},UZ={class:"row"},FZ=Wl(()=>m("div",{class:"col-md-4"},[m("div",{class:"the-footer__logo"},[m("h1",null,[m("img",{src:NZ,alt:"НОО логотип"}),m("a",{href:"https://noo-school.ru"},[m("b",null,"НОО."),Q("Платформа ")])])])],-1)),qZ={class:"col-md-8"},WZ={class:"the-footer__links"},jZ={href:"https://no-os.ru",target:"_blank"},HZ=Wl(()=>m("span",{class:"dot"},"•",-1)),YZ=Wl(()=>m("a",{href:"https://no-os.ru/confidentiality",target:"_blank"}," Политика конфиденциальности ",-1)),KZ=Wl(()=>m("span",{class:"dot"},"•",-1)),XZ=Wl(()=>m("a",{href:"https://no-os.ru/oferta",target:"_blank"}," Договор публичной оферты ",-1));function GZ(t,e){return w(),k("footer",zZ,[m("div",BZ,[m("div",UZ,[FZ,m("div",qZ,[m("div",WZ,[m("a",jZ," © "+F(new Date().getFullYear())+" НОО-Школа ",1),HZ,YZ,KZ,XZ])])])])])}const JZ=K(VZ,[["render",GZ],["__scopeId","data-v-9c949c27"]]),ZZ={class:"logout-button"},QZ=H({__name:"logout-button",setup(t){return(e,n)=>(w(),k("button",ZZ,[m("span",{class:"logout-button__text",onClick:n[0]||(n[0]=Vt(s=>v(N).Services.Auth.logout(),["prevent"]))}," Выйти ")]))}});const eQ=K(QZ,[["__scopeId","data-v-0cf5f3ad"]]),tQ=t=>(Re("data-v-8faceca7"),t=t(),Pe(),t),nQ={class:"profile-widget__avatar"},sQ={class:"profile-widget__credentials"},iQ={class:"profile-widget__credentials__name"},oQ={class:"profile-widget__credentials__actions"},rQ={class:"profile-widget__credentials__actions__username"},aQ=tQ(()=>m("div",{class:"profile-widget__credentials__actions__separator"}," • ",-1)),lQ=H({__name:"profile-widget",setup(t){return(e,n)=>{const s=hi,i=eQ,o=De("router-link");return w(),U(o,{to:"/profile",class:"profile-widget"},{default:V(()=>{var r,a,l,c;return[m("div",nQ,[A(s,{src:(r=v(N).Context.User)==null?void 0:r.telegramAvatarUrl,name:(a=v(N).Context.User)==null?void 0:a.name},null,8,["src","name"])]),m("div",sQ,[m("h3",iQ,F((l=v(N).Context.User)==null?void 0:l.name),1),m("div",oQ,[m("span",rQ,F((c=v(N).Context.User)==null?void 0:c.username),1),aQ,A(i)])])]}),_:1})}}});const cQ=K(lQ,[["__scopeId","data-v-8faceca7"]]),uQ=["data-rerenderer"],dQ=H({__name:"theme-toggle-widget",setup(t){const e=J(!1);function n(){N.Context.Theme==="dark"?(N.Context.Theme="light",s("light")):(N.Context.Theme="dark",s("dark")),e.value=!e.value}function s(i){i==="dark"?document.body.classList.add("theme--dark"):document.body.classList.remove("theme--dark")}return Bo(()=>{s(N.Context.Theme)}),(i,o)=>{const r=Jt;return v(N).isInitialized()?(w(),k("div",{key:0,class:"theme-toggle-widget","data-rerenderer":e.value},[m("button",{onClick:n,class:"theme-toggle-widget__button"},[v(N).Context.Theme==="dark"?(w(),U(r,{key:0,name:"moon"})):(w(),U(r,{key:1,name:"sun"}))])],8,uQ)):B("",!0)}}});const hQ=K(dQ,[["__scopeId","data-v-53688adb"]]),fQ=t=>(Re("data-v-3f4cdeb3"),t=t(),Pe(),t),pQ={key:0,class:"hotkey-widget"},mQ={class:"hint"},gQ=fQ(()=>m("h3",{class:"hint__title"},"Горячие клавиши",-1)),_Q={class:"hint__list"},vQ={class:"hint__list__item__keys"},bQ={class:"hint__list__item__description"},yQ=H({__name:"hotkey-widget",setup(t){const e=Dt(),n=J(dg()),s=J(!1),i=J(null),o=J({x:0,y:0});We(()=>e.fullPath,()=>{setTimeout(()=>{n.value=dg()},100)},{immediate:!0});function r(){if(i.value){const{x:c,y:u,height:d}=i.value.getBoundingClientRect();o.value={x:c,y:u+d}}}function a(c){return c==="ArrowUp"?"↑":c==="ArrowDown"?"↓":c==="ArrowLeft"?"←":c==="ArrowRight"?"→":c}function l(){r(),s.value=!s.value}return(c,u)=>{const d=Jt,h=Gp;return w(),k(he,null,[n.value.length>0?(w(),k("div",pQ,[m("div",{class:"hotkey-widget__button",onClick:u[0]||(u[0]=f=>l()),ref_key:"button",ref:i},[A(d,{name:"keyboard"})],512)])):B("",!0),A(h,{visible:s.value,"onUpdate:visible":u[1]||(u[1]=f=>s.value=f),position:o.value},{default:V(()=>[m("div",mQ,[gQ,m("ul",_Q,[(w(!0),k(he,null,Le(n.value,(f,p)=>(w(),k("li",{class:"hint__list__item",key:p},[m("span",vQ,[(w(!0),k(he,null,Le(f.keys,(g,_)=>(w(),k("kbd",{key:_},F(a(g)),1))),128))]),m("span",bQ,F(f.description),1)]))),128))])])]),_:1},8,["visible","position"])],64)}}});const wQ=K(yQ,[["__scopeId","data-v-3f4cdeb3"]]),xQ=H({__name:"the-pane-toggler",setup(t){const e=J(!1);return(n,s)=>{const i=Jt;return w(),k("span",{class:"pane-toggler",onClick:s[0]||(s[0]=o=>v(N).Services.UI.setPaneOpen(!0)),onMouseenter:s[1]||(s[1]=o=>e.value=!0),onMouseleave:s[2]||(s[2]=o=>e.value=!1)},[A(i,{name:"bars",animation:e.value},null,8,["animation"])],32)}}});const kQ=K(xQ,[["__scopeId","data-v-549d7fac"]]),SQ={class:"header"},$Q={class:"header__inner"},CQ={class:"header__pane-toggler"},AQ={class:"header__page-title"},MQ={class:"header__help"},EQ={class:"header__help__hotkey-widget"},TQ={class:"header__help__theme-toggle-widget"},LQ={class:"header__profile-widget"},OQ=H({__name:"the-header",setup(t){const e=Dt();return(n,s)=>{const i=kQ,o=wQ,r=hQ,a=cQ;return w(),k("header",SQ,[m("div",$Q,[m("div",CQ,[A(i)]),m("div",AQ,[m("h1",null,F(v(e).name),1)]),m("div",MQ,[m("div",EQ,[A(o)]),m("div",TQ,[A(r)])]),m("div",LQ,[A(a)])])])}}});const DQ=K(OQ,[["__scopeId","data-v-04a3cc7c"]]),IQ=t=>(Re("data-v-fe386a10"),t=t(),Pe(),t),RQ={class:"logo"},PQ=IQ(()=>m("span",{class:"thin"},"Платформа",-1)),NQ=H({__name:"main-logo",props:{dark:{type:Boolean},image:{type:Boolean}},setup(t){return(e,n)=>(w(),k("div",RQ,[m("h1",{class:_e({dark:e.dark})},[Q("НОО."),PQ],2)]))}});const VQ=K(NQ,[["__scopeId","data-v-fe386a10"]]),zQ=t=>(Re("data-v-115d787c"),t=t(),Pe(),t),BQ={class:"pane__inner"},UQ={class:"pane__logo"},FQ={class:"pane__nav"},qQ={class:"pane__nav__entry__title"},WQ=zQ(()=>m("div",{class:"pane__help"},[m("p",null,[Q(" Нашел ошибку в работе платформы? "),m("br"),Q(" Сообщи через Telegram-бота "),m("a",{href:"https://t.me/noo_support_bot"},"@noo_support_bot")])],-1)),J0=300,Z0=100,jQ=200,HQ=H({__name:"the-pane",setup(t){const e=N.Services.UI,n=e.Store(),s=J(e.getNavEntries()),i=J(s.value.map(()=>!1)),o=J(s.value.map(()=>!1));return We(()=>n.isPaneOpen,()=>{n.isPaneOpen?s.value.forEach((r,a)=>{setTimeout(()=>{i.value[a]=!0,o.value[a]=!0},J0+a*Z0),setTimeout(()=>{i.value[a]=!1},J0+a*Z0+jQ)}):o.value=s.value.map(()=>!1)}),(r,a)=>{const l=VQ,c=Jt,u=De("router-link"),d=it("auto-animate");return w(),k(he,null,[Ee((w(),k("div",{class:_e(["pane",{open:v(n).isPaneOpen}])},[m("div",BQ,[m("div",UQ,[A(l)]),m("div",FQ,[m("nav",null,[m("ul",null,[(w(!0),k(he,null,Le(s.value,(h,f)=>(w(),k("li",{class:"pane__nav__entry",key:h.route},[A(u,{to:h.route,onClick:a[0]||(a[0]=p=>v(e).setPaneOpen(!1)),onMouseenter:p=>i.value[f]=!0,onMouseleave:p=>i.value[f]=!1},{default:V(()=>[A(c,{class:_e(["pane__nav__entry__icon",{"pane__nav__entry__icon--opened":o.value[f]}]),name:h.icon,animation:i.value[f]},null,8,["class","name","animation"]),m("span",qQ,F(h.title),1)]),_:2},1032,["to","onMouseenter","onMouseleave"])]))),128))])])]),WQ])],2)),[[d]]),(w(),U(ui,{to:"body"},[v(n).isPaneOpen?Ee((w(),k("div",{key:0,class:"overlay",onClick:a[1]||(a[1]=h=>v(e).setPaneOpen(!1))},null,512)),[[d]]):B("",!0)]))],64)}}});const YQ=K(HQ,[["__scopeId","data-v-115d787c"]]);const KQ={},XQ={class:"pane-layout"},GQ={class:"container"},JQ={class:"pane-layout__content"},ZQ={class:"pane-layout__header"},QQ={class:"pane-layout__slot"},eee={class:"pane-layout__footer"};function tee(t,e){const n=YQ,s=DQ,i=JZ;return w(),k(he,null,[A(n),m("div",XQ,[m("div",GQ,[m("div",JQ,[m("div",ZQ,[A(s)]),m("div",QQ,[Ge(t.$slots,"default",{},void 0,!0)]),m("div",eee,[A(i)])])])])],64)}const f8=K(KQ,[["render",tee],["__scopeId","data-v-e83b07f7"]]),nee=Ct("works-module",()=>{const t=N.Services.UI,e=N.Services.Work,{pagination:n,results:s,resultsMeta:i,isListLoading:o}=Lt(r);async function r(c){try{return await e.getWorks(c)}catch(u){t.openErrorModal("Произошла ошибка при получении списка работ",u.message)}}async function a(c){t.setLoading(!0);try{await e.copyWork(c),n.value.page=1,n.value.search="$$$",n.value.search=""}catch(u){t.openErrorModal("Произошла ошибка при копировании работы",u.message)}finally{t.setLoading(!1)}}async function l(c){t.setLoading(!0);try{await e.deleteWork(c),n.value.search="$$$",n.value.search=""}catch(u){t.openErrorModal("Произошла ошибка при удалении работы",u.message)}finally{t.setLoading(!1)}}return{pagination:n,results:s,resultsMeta:i,isListLoading:o,fetchWorks:r,copyWork:a,deleteWork:l}}),see={class:"works-table"},iee=H({__name:"works-table",props:{works:{},loading:{type:Boolean}},emits:["copy-work","delete-work"],setup(t,{emit:e}){const n=Is(),s=[{title:"Название работы",keys:["name"],type:"text"},{title:"Тип",keys:["type"],type:"tag",tagFunction:o}];function i(r){return[{title:"Копировать",icon:"copy",action:()=>{e("copy-work",r.slug)}},{title:"Посмотреть/Редактировать",icon:"edit",action:()=>{n.push(`/create-work${r.slug}`)}},{title:"Удалить",icon:"delete",action:()=>{e("delete-work",r.id)}}]}function o(r,a){switch(a){case"trial-work":return{text:"Пробник",type:"danger"};case"phrase":return{text:"Фраза",type:"success"};case"mini-test":return{text:"Мини-тест",type:"primary"};case"test":return{text:"Тест",type:"warning"};case"second-part":return{text:"Вторая часть",type:"info"};default:return{text:"-",type:"info"}}}return(r,a)=>{const l=Rs;return w(),k("div",see,[A(l,{cols:s,data:r.works,"is-loading":r.loading,actions:i},null,8,["data","is-loading"])])}}}),im=t=>(Re("data-v-fca1e300"),t=t(),Pe(),t),oee={class:"index-works-view"},ree={class:"index-works-view__header"},aee={class:"index-works-view__header__search"},lee={class:"index-works-view__header__link"},cee={class:"index-works-view__table"},uee={class:"index-works-view__pagination"},dee=im(()=>m("br",null,null,-1)),hee=im(()=>m("br",null,null,-1)),fee=im(()=>m("br",null,null,-1)),pee=H({__name:"index-view",setup(t){ln("Работы");const e=nee(),n=Gt({visible:!1,workId:""});function s(i){n.workId=i,n.visible=!0}return(i,o)=>{const r=Sn,a=ot,l=kn,c=Fo,u=$n;return w(),k(he,null,[m("div",oee,[m("div",ree,[m("div",aee,[A(r,{modelValue:v(e).pagination.search,"onUpdate:modelValue":o[0]||(o[0]=d=>v(e).pagination.search=d),"is-loading":v(e).isListLoading},null,8,["modelValue","is-loading"])]),m("div",lee,[A(a,{to:"/create-work"},{default:V(()=>[Q("Создать работу")]),_:1})])]),m("div",cee,[A(iee,{works:v(e).results,loading:v(e).isListLoading,onCopyWork:o[1]||(o[1]=d=>v(e).copyWork(d)),onDeleteWork:o[2]||(o[2]=d=>s(d))},null,8,["works","loading"])]),m("div",uee,[A(l,{page:v(e).pagination.page,"onUpdate:page":o[3]||(o[3]=d=>v(e).pagination.page=d),total:v(e).resultsMeta.total,limit:v(e).pagination.limit},null,8,["page","total","limit"])])]),A(u,{visible:n.visible,"onUpdate:visible":o[4]||(o[4]=d=>n.visible=d),onConfirm:o[5]||(o[5]=d=>v(e).deleteWork(n.workId))},{title:V(()=>[Q(" Удаление работы ")]),text:V(()=>{var d;return[Q(" Вы уверены, что хотите удалить работу "),dee,m("b",null,F((d=v(e).results.find(h=>h.id===n.workId))==null?void 0:d.name),1),Q(" ? "),hee,fee,A(c,null,{default:V(()=>[Q(" Все, кто решал/проверял эту работу, больше не смогут её открыть. Сохранится только дедлайн и общий балл. ")]),_:1})]}),_:1},8,["visible"])],64)}}});const mee=K(pee,[["__scopeId","data-v-fca1e300"]]),gee={path:"/works",name:"works",component:PZ,meta:{layout:f8},children:[{path:"",name:"Все работы",component:mee}]},_ee={name:"works",router:gee},jl=t=>(Re("data-v-3fa839d2"),t=t(),Pe(),t),vee={key:0,class:"base-modal__inner"},bee={class:"base-modal__container"},yee=jl(()=>m("span",null,"Похоже, Вы вышли из системы...",-1)),wee=[yee],xee=jl(()=>m("div",{class:"base-modal__text"}," Чтобы продолжить работу, пожалуйста, введите свои учетные данные. ",-1)),kee={class:"base-modal__form"},See=jl(()=>m("br",null,null,-1)),$ee=jl(()=>m("p",{class:"base-modal__auth-redirect"},[m("a",{href:"/auth"},"Выйти, зарегистрироваться или сбросить пароль")],-1)),Cee=jl(()=>m("br",null,null,-1)),Aee={class:"base-modal__buttons"},Mee=H({__name:"retry-login-modal",props:{modelValue:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=W({get:()=>n.modelValue,set:r=>e("update:modelValue",r)}),i=J(null);async function o(){N.Services.UI.setLoading(!0);try{await N.Services.Auth.retryLogin({usernameOrEmail:s.value.usernameOrEmail,password:s.value.password}),N.Services.UI.closeModal(),N.Services.UI.openSuccessModal("Вы снова в системе!"),e("update:modelValue",{...s.value,isOpen:!1})}catch{i.value="Неверный логин или пароль",N.Services.UI.setLoading(!1)}finally{N.Services.UI.setLoading(!1)}}return(r,a)=>{const l=qt,c=B1,u=ot,d=it("auto-animate");return w(),U(ui,{to:"body"},[Ee((w(),k("div",{class:_e(["base-modal",{"base-modal--visible":s.value.isOpen}])},[s.value.isOpen?(w(),k("div",vee,[m("div",bee,[m("div",{class:_e(["base-modal__title","base-modal__title--warning"])},wee),xee,m("div",kee,[A(l,{modelValue:s.value.usernameOrEmail,"onUpdate:modelValue":a[0]||(a[0]=h=>s.value.usernameOrEmail=h),label:"Имя пользователя или email",placeholder:"Введите имя пользователя или email",type:"text",required:"",readonly:""},null,8,["modelValue"]),A(l,{modelValue:s.value.password,"onUpdate:modelValue":a[1]||(a[1]=h=>s.value.password=h),label:"Пароль",placeholder:"Введите пароль",type:"password",required:""},null,8,["modelValue"])]),See,$ee,i.value?(w(),U(c,{key:0},{default:V(()=>[Q(F(i.value),1)]),_:1})):B("",!0),Cee,Ge(r.$slots,"default",{},void 0,!0),m("div",Aee,[A(u,{alignment:"stretch",onClick:a[2]||(a[2]=h=>o()),design:"primary",class:"base-modal__buttons__cancel"},{default:V(()=>[Q(" Войти ")]),_:1})])])])):B("",!0)],2)),[[d]])])}}});const Eee=K(Mee,[["__scopeId","data-v-3fa839d2"]]);const Tee={},Lee=t=>(Re("data-v-22b61387"),t=t(),Pe(),t),Oee={class:"loader-overlay"},Dee=Lee(()=>m("h2",null,"Загрузка...",-1));function Iee(t,e){const n=as;return w(),U(ui,{to:"body"},[m("div",Oee,[A(n,{class:"loader-overlay__icon"}),Dee])])}const Ree=K(Tee,[["render",Iee],["__scopeId","data-v-22b61387"]]),Pee={key:0,class:"app"},Nee=H({__name:"App",setup(t){R2(()=>{N.init()});const e=W(()=>{var n,s;return((s=(n=Dt())==null?void 0:n.meta)==null?void 0:s.layout)||f8});return(n,s)=>{const i=De("router-view"),o=Ree,r=db,a=Eee;return v(N).isInitialized()?(w(),k("div",Pee,[(w(),U(On(e.value),null,{default:V(()=>[A(i)]),_:1})),m("div",null,[v(N).Services.UI.Store().isLoading?(w(),U(o,{key:0})):B("",!0),A(r,{title:v(N).Services.UI.Store().globalModal.title,message:v(N).Services.UI.Store().globalModal.message,type:v(N).Services.UI.Store().globalModal.type,actions:v(N).Services.UI.Store().globalModal.actions,visible:v(N).Services.UI.Store().globalModal.isOpen,"onUpdate:visible":s[0]||(s[0]=l=>v(N).Services.UI.Store().globalModal.isOpen=l)},null,8,["title","message","type","actions","visible"]),v(N).Services.UI.Store().retryLoginModal.isOpen?(w(),U(a,{key:1,modelValue:v(N).Services.UI.Store().retryLoginModal,"onUpdate:modelValue":s[1]||(s[1]=l=>v(N).Services.UI.Store().retryLoginModal=l)},null,8,["modelValue"])):B("",!0)])])):B("",!0)}}}),p8=B9({history:n9("/"),routes:[{name:"root",path:"/",redirect:"/courses"}]}),m8=new Set,yn=new WeakMap,$r=new WeakMap,No=new WeakMap,gp=new WeakMap,Vee=new WeakMap,qr=new WeakMap,Du=new WeakMap,Oa=new WeakSet;let Vo;const si="__aa_tgt",_p="__aa_del",zee=t=>{const e=Wee(t);e&&e.forEach(n=>jee(n))},Bee=t=>{t.forEach(e=>{e.target===Vo&&Fee(),yn.has(e.target)&&Jo(e.target)})};function Uee(t){const e=gp.get(t);e==null||e.disconnect();let n=yn.get(t),s=0;const i=5;n||(n=Wr(t),yn.set(t,n));const{offsetWidth:o,offsetHeight:r}=Vo,l=[n.top-i,o-(n.left+i+n.width),r-(n.top+i+n.height),n.left-i].map(u=>`${-1*Math.floor(u)}px`).join(" "),c=new IntersectionObserver(()=>{++s>1&&Jo(t)},{root:Vo,threshold:1,rootMargin:l});c.observe(t),gp.set(t,c)}function Jo(t){clearTimeout(Du.get(t));const e=Cd(t),n=typeof e=="function"?500:e.duration;Du.set(t,setTimeout(async()=>{const s=No.get(t);try{await(s==null?void 0:s.finished),yn.set(t,Wr(t)),Uee(t)}catch{}},n))}function Fee(){clearTimeout(Du.get(Vo)),Du.set(Vo,setTimeout(()=>{m8.forEach(t=>b8(t,e=>g8(()=>Jo(e))))},100))}function qee(t){setTimeout(()=>{Vee.set(t,setInterval(()=>g8(Jo.bind(null,t)),2e3))},Math.round(2e3*Math.random()))}function g8(t){typeof requestIdleCallback=="function"?requestIdleCallback(()=>t()):requestAnimationFrame(()=>t())}let vp,vr;typeof window<"u"&&(Vo=document.documentElement,vp=new MutationObserver(zee),vr=new ResizeObserver(Bee),vr.observe(Vo));function Wee(t){return t.reduce((s,i)=>[...s,...Array.from(i.addedNodes),...Array.from(i.removedNodes)],[]).every(s=>s.nodeName==="#comment")?!1:t.reduce((s,i)=>{if(s===!1)return!1;if(i.target instanceof Element){if(Zh(i.target),!s.has(i.target)){s.add(i.target);for(let o=0;o<i.target.children.length;o++){const r=i.target.children.item(o);if(r){if(_p in r)return!1;Zh(i.target,r),s.add(r)}}}if(i.removedNodes.length)for(let o=0;o<i.removedNodes.length;o++){const r=i.removedNodes[o];if(_p in r)return!1;r instanceof Element&&(s.add(r),Zh(i.target,r),$r.set(r,[i.previousSibling,i.nextSibling]))}}return s},new Set)}function Zh(t,e){!e&&!(si in t)?Object.defineProperty(t,si,{value:t}):e&&!(si in e)&&Object.defineProperty(e,si,{value:t})}function jee(t){var e;const n=t.isConnected,s=yn.has(t);n&&$r.has(t)&&$r.delete(t),No.has(t)&&((e=No.get(t))===null||e===void 0||e.cancel()),s&&n?Hee(t):s&&!n?Kee(t):Yee(t)}function ys(t){return Number(t.replace(/[^0-9.\-]/g,""))}function Wr(t){const e=t.getBoundingClientRect();return{top:e.top+window.scrollY,left:e.left+window.scrollX,width:e.width,height:e.height}}function _8(t,e,n){let s=e.width,i=e.height,o=n.width,r=n.height;const a=getComputedStyle(t);if(a.getPropertyValue("box-sizing")==="content-box"){const c=ys(a.paddingTop)+ys(a.paddingBottom)+ys(a.borderTopWidth)+ys(a.borderBottomWidth),u=ys(a.paddingLeft)+ys(a.paddingRight)+ys(a.borderRightWidth)+ys(a.borderLeftWidth);s-=u,o-=u,i-=c,r-=c}return[s,o,i,r].map(Math.round)}function Cd(t){return si in t&&qr.has(t[si])?qr.get(t[si]):{duration:250,easing:"ease-in-out"}}function v8(t){if(si in t)return t[si]}function om(t){const e=v8(t);return e?Oa.has(e):!1}function b8(t,...e){e.forEach(n=>n(t,qr.has(t)));for(let n=0;n<t.children.length;n++){const s=t.children.item(n);s&&e.forEach(i=>i(s,qr.has(s)))}}function Hee(t){const e=yn.get(t),n=Wr(t);if(!om(t))return yn.set(t,n);let s;if(!e)return;const i=Cd(t);if(typeof i!="function"){const o=e.left-n.left,r=e.top-n.top,[a,l,c,u]=_8(t,e,n),d={transform:`translate(${o}px, ${r}px)`},h={transform:"translate(0, 0)"};a!==l&&(d.width=`${a}px`,h.width=`${l}px`),c!==u&&(d.height=`${c}px`,h.height=`${u}px`),s=t.animate([d,h],{duration:i.duration,easing:i.easing})}else s=new Animation(i(t,"remain",e,n)),s.play();No.set(t,s),yn.set(t,n),s.addEventListener("finish",Jo.bind(null,t))}function Yee(t){const e=Wr(t);yn.set(t,e);const n=Cd(t);if(!om(t))return;let s;typeof n!="function"?s=t.animate([{transform:"scale(.98)",opacity:0},{transform:"scale(0.98)",opacity:0,offset:.5},{transform:"scale(1)",opacity:1}],{duration:n.duration*1.5,easing:"ease-in"}):(s=new Animation(n(t,"add",e)),s.play()),No.set(t,s),s.addEventListener("finish",Jo.bind(null,t))}function Kee(t){var e;if(!$r.has(t)||!yn.has(t))return;const[n,s]=$r.get(t);Object.defineProperty(t,_p,{value:!0}),s&&s.parentNode&&s.parentNode instanceof Element?s.parentNode.insertBefore(t,s):n&&n.parentNode?n.parentNode.appendChild(t):(e=v8(t))===null||e===void 0||e.appendChild(t);function i(){var h;t.remove(),yn.delete(t),$r.delete(t),No.delete(t),(h=gp.get(t))===null||h===void 0||h.disconnect()}if(!om(t))return i();const[o,r,a,l]=Xee(t),c=Cd(t),u=yn.get(t);let d;Object.assign(t.style,{position:"absolute",top:`${o}px`,left:`${r}px`,width:`${a}px`,height:`${l}px`,margin:0,pointerEvents:"none",transformOrigin:"center",zIndex:100}),typeof c!="function"?d=t.animate([{transform:"scale(1)",opacity:1},{transform:"scale(.98)",opacity:0}],{duration:c.duration,easing:"ease-out"}):(d=new Animation(c(t,"remove",u)),d.play()),No.set(t,d),d.addEventListener("finish",i)}function Xee(t){const e=yn.get(t),[n,,s]=_8(t,e,Wr(t));let i=t.parentElement;for(;i&&(getComputedStyle(i).position==="static"||i instanceof HTMLBodyElement);)i=i.parentElement;i||(i=document.body);const o=getComputedStyle(i),r=yn.get(i)||Wr(i),a=Math.round(e.top-r.top)-ys(o.borderTopWidth),l=Math.round(e.left-r.left)-ys(o.borderLeftWidth);return[a,l,n,s]}function Gee(t,e={}){return vp&&vr&&(window.matchMedia("(prefers-reduced-motion: reduce)").matches&&typeof e!="function"&&!e.disrespectUserMotionPreference||(Oa.add(t),getComputedStyle(t).position==="static"&&Object.assign(t.style,{position:"relative"}),b8(t,Jo,qee,i=>vr==null?void 0:vr.observe(i)),typeof e=="function"?qr.set(t,e):qr.set(t,{duration:250,easing:"ease-in-out",...e}),vp.observe(t,{childList:!0}),m8.add(t))),Object.freeze({parent:t,enable:()=>{Oa.add(t)},disable:()=>{Oa.delete(t)},isEnabled:()=>Oa.has(t)})}const Jee={mounted:(t,e)=>{Gee(t,e.value||{})}},Zee={install(t){t.directive("auto-animate",Jee)}};function Qee(t){t.router&&p8.addRoute(t.router)}const Ad=ty(Nee),ete=Object.assign({"/src/modules/assigned-works/index.ts":zO,"/src/modules/auth/index.ts":jO,"/src/modules/blog/index.ts":kP,"/src/modules/calender/index.ts":IV,"/src/modules/course-students/index.ts":tz,"/src/modules/courses/index.ts":vB,"/src/modules/create-course/index.ts":kU,"/src/modules/create-work/index.ts":TF,"/src/modules/polls/index.ts":Vq,"/src/modules/profile/index.ts":PG,"/src/modules/students/index.ts":KG,"/src/modules/users/index.ts":OZ,"/src/modules/works/index.ts":_ee});Object.values(ete).forEach(t=>Qee(t));Ad.use(p8);Ad.use(L6());Ad.use(Zee);Ad.mount("#root");export{ot as A,c8 as B,as as C,Ct as D,Dt as E,Gt as F,N as G,Yp as H,X2 as I,qt as J,Uo as K,To as L,R1 as M,A1 as N,Kr as O,Xo as P,K as _,w as a,U as b,W as c,H as d,V as e,B as f,m as g,Yu as h,De as i,k as j,A as k,Pe as l,NZ as m,Op as n,Bo as o,Re as p,it as q,J as r,Ee as s,_e as t,v as u,F as v,We as w,Q as x,by as y,B1 as z};
