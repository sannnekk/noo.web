/*! For license information please see player-sdk.js.LICENSE.txt */
!function(){function e(t){var o=n[t];if(void 0!==o)return o.exports;var i=n[t]={id:t,loaded:!1,exports:{}};return r[t].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var t,r={7050:function(e,t,r){function n(e){var t=o(e);return r(t)}function o(e){if(!r.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}var i={"./be.ts":33898,"./en.ts":73085,"./id.ts":97658,"./kk.ts":36284,"./ru.ts":33951,"./tr.ts":78854,"./tt.ts":23636,"./uk.ts":63943,"./uz.ts":86178};n.keys=function(){return Object.keys(i)},n.resolve=o,e.exports=n,n.id=7050},33898:function(e,t,r){"use strict";r.r(t),r.d(t,{be:function(){return n}});var n={TRACK_AUTO:"\u0410\u045e\u0442\u0430"}},73085:function(e,t,r){"use strict";r.r(t),r.d(t,{en:function(){return n}});var n={TRACK_AUTO:"Auto"}},97658:function(e,t,r){"use strict";r.r(t),r.d(t,{id:function(){return n}});var n={TRACK_AUTO:"Otomatis"}},36284:function(e,t,r){"use strict";r.r(t),r.d(t,{kk:function(){return n}});var n={TRACK_AUTO:"\u0410\u0432\u0442\u043e"}},33951:function(e,t,r){"use strict";r.r(t),r.d(t,{ru:function(){return n}});var n={TRACK_AUTO:"\u0410\u0432\u0442\u043e"}},78854:function(e,t,r){"use strict";r.r(t),r.d(t,{tr:function(){return n}});var n={TRACK_AUTO:"Oto"}},23636:function(e,t,r){"use strict";r.r(t),r.d(t,{tt:function(){return n}});var n={TRACK_AUTO:"\u0410\u0432\u0442\u043e"}},63943:function(e,t,r){"use strict";r.r(t),r.d(t,{uk:function(){return n}});var n={TRACK_AUTO:"\u0410\u0432\u0442\u043e"}},86178:function(e,t,r){"use strict";r.r(t),r.d(t,{uz:function(){return n}});var n={TRACK_AUTO:"Avto"}},90541:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return"undefined"===typeof e}function i(e){return"boolean"===typeof e}function a(e){return"number"===typeof e&&e===e}function u(e){return"string"===typeof e}function c(e){return"function"===typeof e}function s(e){return Boolean(e)&&"object"===n(e)}r.d(t,{HD:function(){return u},Kn:function(){return s},hj:function(){return a},jn:function(){return i},mf:function(){return c},o8:function(){return o}})},18554:function(e,t,r){"use strict";function n(e){return"function"===typeof e||"Function"===function(e){var t=g_.call(e);if(!t)return null;var r=t.match(b_);if(!r)return null;var n=r[1];if(!n)return null;return n}(e)}function o(e){if(void 0===e)return C_.q.DEFAULT;var t=function(e){switch(e){case P_.DEFAULT_ERROR:return C_.q.DEFAULT;case P_.BROADCAST_AD_BLOCK_INIT_ERROR:case P_.AD_TYPE_IS_NOT_RECOGNIZED:case P_.AD_IS_ALREADY_PLAYING:case P_.MULTIROLL_INIT_ERROR:case P_.PLAY_AD_VIEWERS_ERROR:return C_.q.ADS;case P_.INVALID_METADATA:case P_.NO_STREAMS:case P_.INVALID_STREAM_URL:case P_.NO_DRM_CONFIG:return C_.q.CONFIG;case P_.ON_TICK_ERROR:case P_.SAGA_ERROR:case P_.NO_HLS_JS_INSTANCE:case P_.REACT_COMPONENT_DID_CATCH_ERROR_INFO:case P_.RECOVER_TASK_ERROR:case P_.PRELOAD_SOURCE_FAILED:case P_.MEDIA_ERR_ABORTED:return C_.q.EXCEPTION;case P_.UNSUPPORTED_MEDIA_TYPE:case P_.NATIVE_HLS_NOT_SUPPORTED_ERROR:case P_.HLS_JS_NOT_SUPPORTED_ERROR:case P_.MEDIA_ERR_SRC_NOT_SUPPORTED:case P_.MEDIA_ERR_CUSTOM:case P_.MEDIA_ERR_DECODE:case P_.REPRESENTATION_CHANGE:return C_.q.MEDIA;case P_.SCRIPT_INIT_ERROR:case P_.META_INFO_REQUEST_FAILED:case P_.STRM_ABD_INVALID_RESPONSE:case P_.MANIFEST_NOT_FOUND:return C_.q.NETWORK_PLAYER;case P_.MEDIA_ERR_NETWORK:return C_.q.NETWORK_MEDIA;case P_.MPD_WIDEVINE_CERT_LOAD_ERROR:case P_.FAIRPLAY_CERT_LOAD_ERROR:case P_.FAIRPLAY_CREATE_MEDIA_KEYS_ERROR:case P_.FAIRPLAY_CREATE_KEY_SESSION_ERROR:case P_.FAIRPLAY_SPC_LOAD_ERROR:case P_.FAIRPLAY_CREATE_KEY_ERROR:case P_.FAIRPLAY_INVALID_CONTENT_ID:case P_.DRM_PROXY_ERROR:case P_.DRM_PROXY_ERROR_NEED_COOKIE:case P_.DRM_PROXY_ERROR_NEED_TEAM_LOGIN:case P_.DRM_PROXY_ERROR_NEED_VIEW_PERMISSION:case P_.DRM_PROXY_ERROR_SIGNATURE_EXPIRED:case P_.MEDIA_ERR_ENCRYPTED:case P_.FAIRPLAY_NOT_SUPPORTED:case P_.NO_DRM:case P_.DRM_INIT_ERROR:case P_.DRM_NO_INIT_DATA:case P_.DRM_CERT_LOAD_ERROR:case P_.DRM_NO_SUPPORTED_KEY_SYSTEM:case P_.DRM_FAILED_TO_CREATE_CDM:case P_.DRM_FAILED_TO_SET_MEDIA_KEYS:case P_.DRM_NO_LICENSE_SERVER:case P_.DRM_FAILED_TO_CREATE_SESSION:case P_.DRM_SESSION_ERROR:case P_.DRM_FAILED_TO_GENERATE_REQUEST:case P_.DRM_UNKNOWN_ERROR:return C_.q.DRM;case P_.REGIONAL_LIMITATION_MANIFEST:case P_.REGIONAL_LIMITATION_LEVEL:case P_.REGIONAL_LIMITATION_SEGMENT:return C_.q.REGIONAL;case P_.SIGNATURE_EXPIRED_MANIFEST:case P_.SIGNATURE_EXPIRED_LEVEL:case P_.SIGNATURE_EXPIRED_SEGMENT:return C_.q.ACCESS;case P_.BANNED_MANIFEST:case P_.BANNED_LEVEL:case P_.BANNED_SEGMENT:return C_.q.BANNED;case P_.NO_CODECS:return C_.q.NO_CODECS;case P_.NO_PLAYABLE_STREAMS:return C_.q.CANNOT_PLAY;case P_.NO_MSE:return C_.q.UNSUPPORTED_ENV}return}(e);if(void 0!==t)return t;if(void 0!==(t=function(e){switch(e){case"VH_ACCESS_ERROR_OLD_BROWSER":case"VH_ACCESS_ERROR_UNSUPPORTED_BROWSER":return C_.q.UNSUPPORTED_ENV;case"VH_ACCESS_DENIED":return C_.q.ACCESS;case"VH_ACCESS_ERROR_INVALID_REGION":return C_.q.REGIONAL;case"VH_ACCESS_ERROR_NO_LICENSE":return C_.q.DRM;case"VH_ACCESS_ERROR_FUTURE_VOD_RELEASE":case"VH_ACCESS_ERROR_NOT_FOUND":case"VH_VIDEO_PROCESSING":case"VH_VIDEO_PROCESSING_FAILED":case"VH_ACCESS_ERROR_UNEXPECTED":return C_.q.DEFAULT}return}(e)))return t;switch(e){case p_.BUFFER_FULL_ERROR:case p_.BUFFER_NUDGE_ON_STALL:case p_.BUFFER_STALLED_ERROR:case p_.FRAG_PARSING_ERROR:case p_.BUFFER_SEEK_OVER_HOLE:case p_.BUFFER_APPENDING_ERROR:case p_.PIPELINE_ERROR_DECODE:case p_.DECODER_ERROR_NOT_SUPPORTED:case p_.BUFFER_APPEND_ERROR:case p_.MEDIA_ELEMENT_ERROR_FORMAT_ERROR:case p_.REMUX_ALLOC_ERROR:case p_.BUFFER_ADD_CODEC_ERROR:case p_.DEMUXER_ERROR_COULD_NOT_OPEN:case p_.NS_ERROR_DOM_INVALID_STATE_ERR:case p_.CHUNK_DEMUXER_ERROR_APPEND_FAILED:case p_.FAILED_TO_INIT_DECODER:case p_.PIPELINE_ERROR_INITIALIZATION_FAILED:case p_.NS_ERROR_FAILURE:case p_.REQUEST_FAILED:case p_.PIPELINE_ERROR_EXTERNAL_RENDERER_FAILED:case p_.PIPELINE_ERROR_COULD_NOT_RENDER:case p_.NS_ERROR_DOM_MEDIA_METADATA_ERR:case p_.MEDIA_ELEMENT_ERROR_EMPTY_SRC_ATTRIBUTE:case p_.NS_ERROR_DOM_MEDIA_FATAL_ERR:case p_.MANIFEST_PARSING_ERROR:return C_.q.MEDIA;case p_.FRAG_LOAD_ERROR:case p_.MANIFEST_LOAD_ERROR:case p_.LEVEL_LOAD_ERROR:case p_.AUDIO_TRACK_LOAD_ERROR:return C_.q.NETWORK_MEDIA;case p_.FRAG_LOAD_TIME_OUT:case p_.MANIFEST_LOAD_TIME_OUT:case p_.LEVEL_LOAD_TIME_OUT:case p_.AUDIO_TRACK_LOAD_TIME_OUT:return C_.q.NETWORK_TIMEOUT;case p_.INTERNAL_EXCEPTION:case p_.ON_PLAYER_INIT_ERROR_INTERNAL:case p_.EXTERNAL_POST_MESSENGER_SEND_MESSAGE_ERROR:case p_.INTERNAL_POST_MESSENGER_SEND_MESSAGE_ERROR:case p_.LOAD_SKIN_ERROR:case p_.INSERT_INTO_WITH_SECURE_FRAME:case p_.PLAY_AD_VIEWERS_WITH_SECURE_FRAME:case p_.ERROR_SCREEN_LOAD_ERROR:case p_.YASP_UNEXPECTED_METHOD_CALL:return C_.q.EXCEPTION;case p_.UNABLE_TO_LOAD_PLAYER_IFRAME:case p_.ON_PLAYER_INIT_ERROR:case p_.LOADER_INIT_ERROR:case p_.UNABLE_TO_LOAD_PLAYER_INTERNAL_SCRIPT:case p_.FAILED_TO_DOWNLOAD_DEBUG_INFO:case p_.REQUEST_SOURCE_ERROR:return C_.q.NETWORK_PLAYER;case p_.PLAYER_CONTAINER_NOT_FOUND:case p_.KEY_LOAD_ERROR:case p_.FEATURE_HANDLER_ERROR:case p_.INVALID_CONFIG_ELEMENT_IN_CREATE_PLAYER:case p_.INVALID_CONFIG_LANG_IN_CREATE_PLAYER:case p_.INVALID_CONFIG_IN_CREATE_PLAYER:case p_.INVALID_CONFIG_IN_SET_SOURCE:case p_.INVALID_CONFIG_IN_SOURCE_UPDATE:case p_.IFRAME_DOES_NOT_ALLOW_DRM:case p_.DRM_IS_NOT_ALLOWED:case p_.ELEMENT_NOT_IN_DOM:case p_.INVALID_LOG_URL:case p_.SCREEN_WAKE_LOCK_ERROR:return C_.q.CONFIG}return C_.q.DEFAULT}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){function r(){this.constructor=e}if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");G_(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function u(e,t,r,n){return new(r||(r=M_))((function(o,i){function a(e){try{c(n.next(e))}catch(t){i(t)}}function u(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,u)}c((n=n.apply(e,t||[])).next())}))}function c(e,t){function r(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return u.label++,{value:r[1],done:!1};case 5:u.label++,o=r[1],r=[0];continue;case 7:r=u.ops.pop(),u.trys.pop();continue;default:if(!(i=(i=u.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){u=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){u.label=r[1];break}if(6===r[0]&&u.label<i[1]){u.label=i[1],i=r;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(r);break}i[2]&&u.ops.pop(),u.trys.pop();continue}r=t.call(e,u)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}var n,o,i,a,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a}function s(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a}function f(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}function d(e,t,r){return r&&r.set(e,t),t}function h(e,t){var r=$_({issueData:t,data:e.data,path:e.path,errorMaps:[e.contextualErrorMap,e.schemaErrorMap,z_,K_].filter((function(e){return!!e}))});e.issues.push(r)}function p(e){if(!e)return{};var t=e.errorMap,r=e.invalid_type_error,n=e.required_error,o=e.description;if(t&&(r||n))throw new Error('Can\'t use "invalid" or "required" in conjunction with custom error map.');if(t)return{errorMap:t,description:o};return{errorMap:function(t,r){return"invalid_type"!==t.code?{message:r.defaultError}:"undefined"===typeof r.data&&n?{message:n}:e.invalid_type_error?{message:e.invalid_type_error}:{message:r.defaultError}},description:o}}function v(e){if(e instanceof _A){var t={};for(var r in e.shape){var n=e.shape[r];t[r]=BA.create(v(n))}return new _A(H_(H_({},e._def),{shape:function(){return t}}))}return e instanceof EA?EA.create(v(e.element)):e instanceof BA?BA.create(v(e.unwrap())):e instanceof UA?UA.create(v(e.unwrap())):e instanceof xA?xA.create(e.items.map((function(e){return v(e)}))):e}function y(e){return new NA({values:e,typeName:OA.ZodEnum})}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){P(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function S(e,t){if(t&&("object"===b(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return E(e)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){var t="function"===typeof Map?new Map:void 0;return(O=function(e){function r(){return k(e,arguments,T(this).constructor)}if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),A(r,e)})(e)}function k(e,t,r){return(k=_()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&A(o,r.prototype),o}).apply(null,arguments)}function _(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function A(e,t){return(A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=sT(e);if(!r)return t;var n=e[r];return!n}function R(e,t){var r=function(e){var t=sT(e);if(t)return t.replace(/hidden/i,"visibilitychange")}(e);if(!r)return lT.Z;var n=function(){t(x(e))};return e.addEventListener(r,n),function(){return e.removeEventListener(r,n)}}function L(e,t){var r=[],n=[];return function(e,t,r){for(var n=0;n<e.length;n++)t.call(r,e[n],n,e)}(e,(function(o,i){t(o,i,e)?r.push(o):n.push(o)})),[r,n]}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function C(e,t,r,n){var o=e.params;(0,N_.K)(o[0])?((0,kT.M)(o[0],(function(e,n){n===t&&(Array.isArray(e)?e.forEach((function(e){return e(r)})):e(r))})),n&&(o[0][t]=[])):o[0]===t&&(0,OT.m)(o[1])&&(o[1](r),n&&(o[1]=gT.Z))}function D(e,t,r){for(var n=0;n<e.length;n++){var o=e[n];"on"===o.name?C(o,t,r,!1):"once"===o.name&&C(o,t,r,!0)}}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||U(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){V(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function V(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B(e){return function(e){if(Array.isArray(e))return G(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||U(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){if(e){if("string"===typeof e)return G(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?G(e,t):void 0}}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function H(e){function t(t){if(e&&console.log("[PLAYER] [CALL]",t.name,t.params),void 0!==n)return n[t.name].apply(n,t.params);if(void 0!==o&&AT.indexOf(t.name)>-1)return o[t.name].apply(o,t.params);if(t.async){var r=M(M({},t),{},{resolve:gT.Z,reject:gT.Z});return a.push(r),new _T((function(e,t){r.resolve=e,r.reject=t}))}a.push(t)}function r(e,t){e.forEach((function(e){e.async?t[e.name].apply(t,e.params).then(e.resolve,e.reject):t[e.name].apply(t,e.params)})),e.length=0}var n,o,i=!1,a=[],u={getReadyState:function(){return i?WA.broken:n?n.getReadyState():WA.init},getState:function(){if(n)return n.getState()},setReadyInstance:function(e){r(a,n=e)},handlePlayerDestroy:function(){n=void 0,o=void 0},setInstance:function(e){o=e;var t=N(L(a,(function(e){var t=e.name;return ST.indexOf(t)>-1})),2),n=t[0],i=t[1];a=i,r(n,o)},emitErrorOnStart:function(e){if(n)throw new Error("Can't emit error on lazyApi after #setInstance()");i=!0,function(e,t){D(e,"ErrorChange",{error:t})}(a,e instanceof Error?e:new Error("NOT_AN_OBJECT_ERROR: "+e))},emitEventOnStart:function(e,t){o||D(a,e,t)}};return Object.defineProperty(u,"skin",{get:function(){return n?n.skin:void 0}}),ET.forEach((function(e){u[e]="pause"===e?function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qA.ExternalApi;return u.emitEventOnStart("RequestPlayingState",{playingState:YA.PAUSE,playingStateReason:r}),t({name:e,params:Array.prototype.slice.call(arguments),async:!1})}:function(){return t({name:e,params:Array.prototype.slice.call(arguments),async:!1})}})),wT.forEach((function(e){u[e]="play"===e?function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qA.ExternalApi;return u.emitEventOnStart("RequestPlayingState",{playingState:YA.PLAY,playingStateReason:r}),t({name:e,params:Array.prototype.slice.call(arguments),async:!0})}:function(){return t({name:e,params:Array.prototype.slice.call(arguments),async:!0})}})),u}function Y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q(e){var t,r=gT.Z,n=gT.Z,o=gT.Z,i=gT.Z;e.once("Ready",(function(e){t=e}));var a=function(){e.off("RequestPlayingState",r),e.off("PlayingStateChange",n),e.off("ContentImpression",o),e.off("AdPodStart",i)};e.on("StreamChange",(function(){var u;a();var c=!1,s=!1,l=gT.Z,f=gT.Z,d=function(){if(a(),!c&&u&&u.engine){var e=u,r=e.hasPreroll,n=void 0!==r&&r,o=e.engine,i=l(),s=f();(0,TT.z)(i)&&(0,j_.Y)((function(){return t.logDelta(n?RT[o]:xT[o],i)})),(0,TT.z)(s)&&(0,j_.Y)((function(){return t.logDelta(n?jT[o]:LT[o],s)}))}};r=function(e){if(e.playingState!==YA.PAUSE){l=(0,y_.u)(),c=!x(document,!0);var t=R(document,(function(e){e||(c=!0,t())}));void 0!==u?d():s=!0}},n=function(e){var t=e.playingState;t===YA.BUFFERING?f=(0,y_.u)():t===YA.PAUSE?f=function(){return 0}:t===YA.PLAY&&a()},o=function(t){e.off("AdPodStart",i),t&&t.engine&&(u=t,s&&d())},i=function(){u={engine:"AD",hasPreroll:!0},e.off("ContentImpression",o),s&&d()},e.once("RequestPlayingState",r),e.on("PlayingStateChange",n),e.once("ContentImpression",o),e.once("AdPodStart",i)}))}function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e){var t=e;return t.Ya||(t.Ya={}),t.Ya.streamPlayer||(t.Ya.streamPlayer={}),t.Ya.streamPlayer}function z(e){var t=e.document,r=t.getElementsByTagName("head")[0];return r||(r=t.createElement("head"),t.documentElement.appendChild(r)),r}function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach((function(t){$(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J(e){var t=e.dropCacheOnRetry,r=void 0!==t&&t,n=e.onBeforeLoad,o=void 0===n?NT:n,i=e.retries,a=void 0===i?0:i;if(!e.checkLoad||!e.checkLoad()){var u=o,c=0;return r&&a>0&&(u=function(e){if(o(e),c>0){var t=-1===e.src.indexOf("?")?"?":"&",r=function(e){var t=1e9,r=Math.floor(Math.random()*t)%t;return Number.isFinite(r)||(r=0),r+=Date.now()%t,String(e)+r.toString(36)}(c);e.src+=t+r}c++}),function e(t){var r=t.src,n=t.win,o=void 0===n?window:n,i=t.charset,a=void 0===i?"utf-8":i,u=t.async,c=void 0===u||u,s=t.retries,l=void 0===s?0:s,f=t.onRetry,d=void 0===f?NT:f,h=t.retryDelay,p=void 0===h?0:h,v=t.checkLoad,y=void 0===v?FT:v,m=t.onBeforeLoad,g=void 0===m?NT:m,b=t.onLoad,w=void 0===b?NT:b,S=t.onError,E=void 0===S?NT:S,O=o.document.createElement("script"),k=function(n){var o;l>0?(d(n),e(Z(Z({},t),{},{src:r,retries:l-1}))):E(n),null===(o=O.parentNode)||void 0===o||o.removeChild(O)};O.type="text/javascript",O.async=c,O.onload=function(){return y(O)?w():k(new Error("checkLoad for ".concat(r," failed")))},O.onerror=function(e){try{o.setTimeout((function(){k(e)}),p)}catch(t){}},O.src=r,O.charset=a,g(O),z(o).appendChild(O)}(Z(Z({},e),{},{onBeforeLoad:u}))}e.onLoad&&e.onLoad()}function X(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?X(Object(r),!0).forEach((function(t){te(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function te(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function re(e){return new MT((function(t,r){J(ee(ee({},e),{},{onLoad:t,onError:r}))}))}function ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(r),!0).forEach((function(t){ie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ie(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ue(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(r),!0).forEach((function(t){ce(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ce(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function se(e){return new VT((function(t,r){!function(e){var t=e.win,r=void 0===t?window:t,n=e.src,o=e.retries,i=void 0===o?0:o,a=e.onLoad,u=void 0===a?DT.Z:a,c=e.onError,s=void 0===c?DT.Z:c,l=new CT.s({id:"LOAD_SCRIPT_ERROR",message:"Failed to load script [".concat(n,"]"),details:{src:n,isSelfWindow:r===window,onBeforeLoad:Boolean(e.onBeforeLoad),retries:i}});re(oe(oe({},e),{},{win:r})).then(u).catch((function(){return s(l)}))}(ue(ue({},e),{},{onLoad:t,onError:r}))}))}function le(e){return function(e){if(Array.isArray(e))return fe(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return fe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function de(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function he(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?de(Object(r),!0).forEach((function(t){pe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):de(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ve(){return KT||(!function(){try{WT=encodeURIComponent(JSON.stringify(he(he({},YT),qT)))}catch(e){}}(),KT=!0),WT}function ye(){try{return(DT.Z||window.Ya.Rum.setVars)(pe({},"-additional",JSON.stringify(YT)))}catch(e){}}function me(){try{return(DT.Z||window.Ya.Rum.updateErrors)({additional:he({},YT)})}catch(e){}}function ge(e){return void 0===e||void 0===e.additional?ve():encodeURIComponent(JSON.stringify(he(he(he({},YT),qT),e.additional)))}function be(e){YT=he(he({},{}),e),ye(),me(),KT=!1}function we(e,t){YT=he(he({},{}),{},pe({},e,t)),ye(),me(),KT=!1}function Se(){return zT}function Ee(e){GT=(DT.Z||window.Ya.Rum.makeSubPage)(e?"Init":"SetSource"),QT++}function Oe(){return GT}function ke(){return QT}function _e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(r),!0).forEach((function(t){Te(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_e(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Te(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pe(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function xe(e){(0,j_.Y)((function(){(DT.Z||window.Ya.Rum.time)(e)}))}function Re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Se()&&(0,j_.Y)((function(){t.additional;var r=Pe(t,ZT);(DT.Z||window.Ya.Rum.timeEnd)(e,Ae(Ae({},r),{},{"-additional":ge(t)}))}))}function Le(e){var t=e.win,r=void 0===t?window:t,n=e.src,o=e.checkLoad,i=e.onBeforeLoad,a=void 0===i?gT.Z:i,u=e.onLoad,c=void 0===u?gT.Z:u,s=e.withCredentials,l=void 0!==s&&s;HT[JT]=HT[JT]||{};var f=HT[JT];return f[n]||(f[n]=se({checkLoad:o,win:r,src:n,retries:3,dropCacheOnRetry:!0,onBeforeLoad:function(e){l||(e.crossOrigin="anonymous"),a()}}).then(c),f[n].catch((function(){return delete f[n]}))),f[n]}function je(){var e=!1;return Le({src:T_,checkLoad:function(){return"undefined"!==typeof Hls},onBeforeLoad:function(){e=!0,xe("lib.hlsjs")},onLoad:function(){e&&Re("lib.hlsjs")}})}function Ie(e,t,r,n){return"".concat(n?"https://storage.yandexcloud.net/videoplatform-public/player/yandex-video-player-iframe-api-bundles-stable":"https://storage.yandexcloud.net/videoplatform-public/player/yandex-video-player-iframe-api-bundles","/").concat(function(e,t){return"".concat(t).concat(e)}(t,r),"/js/").concat(e)}function Ce(e){var t,r,n,o,i=window,a=!1;return e.player.once(PT.Destroy,(function(){return a=!0})),Le({src:(o={modern:e.modern,lang:IT.i18nLang?IT.i18nLang:"ru"},Ie((t={modern:o.modern,lang:o.lang},r=t.modern,n=t.lang,"skin_".concat(n).concat(r?".modern":"",".js")),12463,"1.0-",!1)),checkLoad:function(){return(0,N_.K)(i.Ya)&&(0,N_.K)(i.Ya.playerSkin)&&(0,OT.m)(i.Ya.playerSkin.create)}}).then((function(){if(!a)return i.Ya.playerSkin.create(e)}))}function De(e){return(De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(r),!0).forEach((function(t){Me(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Me(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ve(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==De(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}Ve=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=rP);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function Be(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):rP.resolve(c).then(n,o)}function Ue(e){return function(){var t=this,r=arguments;return new rP((function(n,o){function i(e){Be(u,n,o,i,a,"next",e)}function a(e){Be(u,n,o,i,a,"throw",e)}var u=e.apply(t,r);i(void 0)}))}}function Ge(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function He(e,t){HT.timeAPIInit=A_();var r=t(e),n=H(r.getDebugConfig().logCalls);!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(x(document,!0)){var r,n=!1,o=R(document,(function(e){e||(n=!0,o())})),i=t?"loader":"create",a=0===fT++,u="".concat(i,a?".player.firstready":".player.ready"),c="".concat(i,a?".player.firststart":".player.start"),s=(0,y_.u)(),l=!0;e.once("Ready",(function(e){var t=s();r=e,(0,j_.Y)((function(){n||e.logDelta(u,t,{initSubpage:!0})}))})),e.once("ResourcesIdle",(function(){l=!1})),e.once("ContentImpression",(function(){var e=s();!n&&l&&void 0!==r&&(0,j_.Y)((function(){return r.logDelta(c,e,{initSubpage:!0})}))}))}}(n,!1),!0!==e.skipPlayRumLogger&&q(n);var o=n.setReadyInstance,i=n.setInstance,a=Ge(n,nP);i(r),r.once(PT.Ready,o),r.once(PT.SkinReady,(function(){return a.skin=r.skin}));var u=e.loadSkin,c=void 0===u?Ce:u,s=c===Ce;r.on(PT.RequestFullscreenStateChange,function(){var e=Ue(Ve().mark((function e(t){return Ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s&&!r.skin){e.next=2;break}return e.abrupt("return");case 2:r.once(PT.SkinReady,(function(){r.emit(PT.RequestFullscreenStateChange,t)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var l=(0,v_.I)(Ue(Ve().mark((function t(){var n,o;return Ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!1!==c){t.next=2;break}return t.abrupt("return");case 2:if(r.getReadyState()!==WA.destroyed){t.next=4;break}return t.abrupt("return");case 4:return n=e.skinParams||{},t.prev=5,s&&(o=(0,y_.u)(),r.once(PT.SkinReady,(function(e){var t=e.error;r.logSkinDelta(t?"skin.error":"skin.load",o(),{initSubpage:!0})}))),t.next=9,c(Fe(Fe({},n),{},{container:r.getContainer(),player:a,modern:!1},s?{flags:e.flags}:{}));case 9:r.skin=t.sent,r.emit(PT.SkinReady,{}),t.next=19;break;case 13:t.prev=13,t.t0=t.catch(5),r.logError(new cT({code:p_.LOAD_SKIN_ERROR,isFatal:!1,details:t.t0})),r.setNativeControlsVisibility(!0),r.setNativeAdControlsVisibility(!0),r.emit(PT.SkinReady,{error:t.t0});case 19:case"end":return t.stop()}}),t,null,[[5,13]])})))),f=function(e){var t=e.error;t&&t.isFatal&&l()};r.once(PT.ErrorChange,f);return rP.all([new rP((function(e){return r.once(PT.Ready,e)})),rP.race([new rP((function(e){return setTimeout(e,1e4)})),new rP((function(e){return r.once(PT.ResourcesIdle,e)}))])]).then((function(){r.off(PT.ErrorChange,f),l()})),a}function Ye(e){for(var t="".concat(e[0].toUpperCase()).concat(e.slice(1)),r=0;r<aP.length;r++){var n=aP[r],o=n?"".concat(n).concat(t):e;if(iP(o))return uP[e]=o}return uP[e]=e}function qe(e,t){var r=e.style;for(var n in t){if(t.hasOwnProperty(n))r[cP(n)]=t[n]}}function We(e){return e instanceof Date||"Date"===(0,lP.M)(e)}function Ke(e){var t=e.ownerDocument;if(t){var r=t.defaultView;return r||void 0}}function ze(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,r="function"===typeof t.getComputedStyle?t.getComputedStyle(e,null):e.currentStyle;return r||{}}function Qe(e){var t=e.getRootNode;if((0,OT.m)(t))return t.call(e);for(var r=e;r.parentNode;)r=r.parentNode;return r}function Ze(e){return Boolean(e)&&"ShadowRoot"===(0,lP.M)(e)}function $e(e){for(var t=e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window,r=e;r;){if(r&&t.document.body.contains(r))return!0;var n=Qe(r);if(!Ze(n)||!dP(n.host))return!1;r=n.host}return!1}function Je(e,t){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function Xe(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];(0,sP.k)(e)&&e.forEach((function(e){"function"===typeof e&&e.apply(void 0,r)}))}function et(e){if(e){var t=e.parentElement;t&&t.removeChild(e)}}function tt(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(bP&&t)return[];for(var r=[],n=e;;)try{if(!(n=n.ownerDocument.defaultView.frameElement))return r;r.push(n)}catch(o){return r}}function rt(e,t){!function(e){return"function"===typeof e.dispatch}(e)?e(t):e.dispatch(t)}function nt(e,t){e.forEach((function(e){rt(e,t)}))}function ot(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function it(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function at(e){return(at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ut(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ct(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function st(){return(st="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=lt(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function lt(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=vt(e)););return e}function ft(e,t){return(ft=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function dt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=vt(e);if(t){var o=vt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ht(this,r)}}function ht(e,t){if(t&&("object"===at(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return pt(e)}function pt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vt(e){return(vt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gt(e){return[C_.q.NETWORK_PLAYER,C_.q.NETWORK_MEDIA,C_.q.NETWORK_TIMEOUT,C_.q.DRM,C_.q.ADS].indexOf(e)>-1}function bt(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.code;if(r===P_.NO_CODECS&&NP&&FP>6)return{title:"NO_CODECS_TITLE",message:"NO_CODECS_MESSAGE",helpLink:"https://yandex.ru/support/video-player/player-issues.html#no-codecs",helpLinkButtonText:"NO_CODECS_HELP_LINK_TITLE"};if(r===P_.DRM_PROXY_ERROR_NEED_COOKIE)return{title:"NEED_COOKIE_TITLE",message:"NEED_COOKIE_MESSAGE",helpLink:e.helpLink||void 0,helpLinkButtonText:"NEED_COOKIE_HELP_LINK_TITLE"};if(r===P_.DRM_PROXY_ERROR_NEED_TEAM_LOGIN)return{title:"NEED_TEAM_LOGIN_TITLE",message:"NEED_TEAM_LOGIN_MESSAGE",helpLink:e.helpLink||void 0,helpLinkButtonText:"NEED_TEAM_LOGIN_HELP_LINK_TITLE"};if(r===P_.DRM_PROXY_ERROR_NEED_VIEW_PERMISSION)return{title:"NEED_VIEW_PERMISSION_TITLE",message:"NEED_VIEW_PERMISSION_MESSAGE",helpLink:e.helpLink||void 0,helpLinkButtonText:"NEED_VIEW_PERMISSION_HELP_LINK_TITLE"};var n=o(r);return t&&gt(n)?{title:"ADBLOCK_DETECTED_TITLE",message:"ADBLOCK_DETECTED_MESSAGE",helpLink:"https://yandex.ru/support/video-player/blocker-settings.html",helpLinkButtonText:"ERROR_SCREEN_DEFAULT_HELP_LINK"}:wt(n)}function wt(e){return{title:VP[e],message:BP[e],helpLink:MP[e],helpLinkButtonText:UP[e]||"ERROR_SCREEN_DEFAULT_HELP_LINK"}}function St(e){return!e.supported&&void 0!==e.noSupportReason}function Et(e){return(t=e.supportInfo).supported&&void 0!==t.engine;var t}function Ot(e){return St(e.supportInfo)}function kt(e){return void 0===e?[]:(e.testIds||"").split(",").map((function(e){return parseInt(e,10)})).filter(TT.z)}function _t(e){var t=YP(e);return t?function(){YP(e)!==t&&L_()(e,t)}:gT.Z}function At(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tt(e){return void 0===e?void 0:Boolean(e)}function Pt(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return xt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xt(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Rt(e){return"number"===typeof e&&0<=e&&e<=1}function Lt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function jt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||Ct(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function It(e){return function(e){if(Array.isArray(e))return Dt(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ct(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ct(e,t){if(e){if("string"===typeof e)return Dt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Dt(e,t):void 0}}function Dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Nt(e){var t=function(e){if(0===e.length)return[];var t;t=function(e,t){for(var r=e.length-1;r>=0;--r)if(e[r]===t)return r;return-1}(e,ZP.ALL),e=-1!==t?[].concat(It(Sx),It(e.splice(t+1))):e;var r=new Map;return e.reverse().forEach((function(e){var t="!"===e[0],n=t?e.slice(1):e;r.has(n)||r.set(n,t)})),It(r.entries()).filter((function(e){var t=jt(e,2);t[0];return!t[1]})).map((function(e){return jt(e,1)[0]})).reverse()}(function(e){return void 0===e?[]:Array.isArray(e)?e.filter(Ox):String(e).split(",").map((function(e){return e.trim()})).filter(Ox)}(e));return t.includes(ZP.REPORT)||t.push(ZP.REPORT),t}function Ft(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ft(Object(r),!0).forEach((function(t){Ut(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ft(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Vt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Bt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ut(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gt(e,t){var r,n;if(!e.servers)return e;var o={},i=t.vsid,a=t.sourceIndex,u=function(e){return(0,Lx.Sr)(e,Ut({vsid:i},Ix.g,String(a)),{override:!0,saveOriginalPath:!0})};(0,Rx.J)(e.servers).forEach((function(e){var t=Vt(e,2),r=t[0],n=t[1];o[r]=n}));var c=Mt({},e);c.servers=o;var s=c;return null!==(r=s.advanced)&&void 0!==r&&null!==(n=r[jx.ly])&&void 0!==n&&n.serverCertificateUrl&&(s.advanced=Mt(Mt({},s.advanced),{},Ut({},jx.ly,Mt(Mt({},s.advanced[jx.ly]),{},{serverCertificateUrl:u(s.advanced[jx.ly].serverCertificateUrl)})))),function(e){if(!(0,N_.K)(e))return!1;if(!(0,N_.K)(e.servers)||!("com.apple.fps.1_0"in e.servers))return!1;if(!(0,N_.K)(e.advanced)||!("com.apple.fps.1_0"in e.advanced))return!1;var t=e.advanced["com.apple.fps.1_0"];if(!(0,N_.K)(t))return!1;var r=t.processSPCPath;return(0,I_.H)(r)}(c)&&(c.advanced=Mt(Mt({},c.advanced),{},Ut({},jx.h9,Mt(Mt({},c.advanced[jx.h9]),{},{processSPCPath:u(c.advanced[jx.h9].processSPCPath)})))),c}function Ht(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Yt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ht(Object(r),!0).forEach((function(t){qt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ht(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function qt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wt(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Kt(e){var t=e.filter(TT.z).sort().join(",");return t.length>0?t:void 0}function zt(e){return Kt(e.map((function(e){return parseInt(e,10)})))}function Qt(e){try{return JSON.stringify(e),!0}catch(t){return!1}}function Zt(e,t){for(var r in t)(0,$x.n)(t,r)&&(e[r]=t[r])}function $t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r={};return Zt(r,e),Jx.forEach((function(e){"undefined"===typeof r[e]&&"undefined"!==typeof t[e]&&(r[e]=t[e])})),r}function Jt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||Xt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xt(e,t){if(e){if("string"===typeof e)return er(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?er(e,t):void 0}}function er(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tr(e){var t=function(e){for(var t=Math.PI,r=Math.min,n=Math.max,o=Math.cos,i=Math.round,a=e[0]|e[1]<<8|e[2]<<16,u=e[3]|e[4]<<8,c=(63&a)/63,s=(a>>6&63)/31.5-1,l=(a>>12&63)/31.5-1,f=(a>>18&31)/31,d=a>>23,h=(u>>3&63)/63,p=(u>>9&63)/63,v=u>>15,y=n(3,v?d?5:7:7&u),m=n(3,v?7&u:d?5:7),g=d?(15&e[5])/15:1,b=(e[5]>>4)/15,w=d?6:5,S=0,E=function(t,r,n){for(var o=[],i=0;i<r;i++)for(var a=i?0:1;a*r<t*(r-i);a++)o.push(((e[w+(S>>1)]>>((1&S++)<<2)&15)/7.5-1)*n);return o},O=E(y,m,f),k=E(3,3,1.25*h),_=E(3,3,1.25*p),A=d&&E(5,5,b),T=function(e){var t=e[3],r=128&e[2],n=128&e[4];return(n?r?5:7:7&t)/(n?7&t:r?5:7)}(e),P=i(T>1?32:32*T),x=i(T>1?32/T:32),R=new Uint8Array(P*x*4),L=[],j=[],I=0,C=0;I<x;I++)for(var D=0;D<P;D++,C+=4){for(var N=c,F=s,M=l,V=g,B=0,U=n(y,d?5:3);B<U;B++)L[B]=o(t/P*(D+.5)*B);for(var G=0,H=n(m,d?5:3);G<H;G++)j[G]=o(t/x*(I+.5)*G);for(var Y=0,q=0;Y<m;Y++)for(var W=Y?0:1,K=2*j[Y];W*m<y*(m-Y);W++,q++)N+=O[q]*L[W]*K;for(var z=0,Q=0;z<3;z++)for(var Z=z?0:1,$=2*j[z];Z<3-z;Z++,Q++){var J=L[Z]*$;F+=k[Q]*J,M+=_[Q]*J}if(d)for(var X=0,ee=0;X<5;X++)for(var te=X?0:1,re=2*j[X];te<5-X;te++,ee++)V+=A[ee]*L[te]*re;var ne=N-2/3*F,oe=(3*N-ne+M)/2,ie=oe-M;R[C]=n(0,255*r(1,oe)),R[C+1]=n(0,255*r(1,ie)),R[C+2]=n(0,255*r(1,ne)),R[C+3]=n(0,255*r(1,V))}return{w:P,h:x,rgba:R}}(e);return function(e,t,r){for(var n=4*e+1,o=6+t*(5+n),i=[137,80,78,71,13,10,26,10,0,0,0,13,73,72,68,82,0,0,e>>8,255&e,0,0,t>>8,255&t,8,6,0,0,0,0,0,0,0,o>>>24,o>>16&255,o>>8&255,255&o,73,68,65,84,120,1],a=[0,498536548,997073096,651767980,1994146192,1802195444,1303535960,1342533948,-306674912,-267414716,-690576408,-882789492,-1687895376,-2032938284,-1609899400,-1111625188],u=1,c=0,s=0,l=0,f=n-1;s<t;s++,f+=n-1)for(i.push(s+1<t?0:1,255&n,n>>8,255&~n,n>>8^255,0),c=(c+u)%65521;l<f;l++){var d=255&r[l];i.push(d),c=(c+(u=(u+d)%65521))%65521}i.push(c>>8,255&c,u>>8,255&u,0,0,0,0,0,0,0,0,73,69,78,68,174,66,96,130);for(var h=0,p=[[12,29],[37,41+o]];h<p.length;h++){for(var v=Jt(p[h],2),y=v[0],m=v[1],g=-1,b=y;b<m;b++)g=(g=(g^=i[b])>>>4^a[15&g])>>>4^a[15&g];g=~g,i[m++]=g>>>24,i[m++]=g>>16&255,i[m++]=g>>8&255,i[m++]=255&g}return"data:image/png;base64,"+btoa(String.fromCharCode.apply(String,i))}(t.w,t.h,t.rgba)}function rr(e){for(var t=atob(e),r=new Uint8Array(t.length),n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return tr(r)}function nr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function or(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nr(Object(r),!0).forEach((function(t){ir(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ir(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ar(){for(var e={},t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];r.filter(Boolean).join(";").split(";").forEach((function(t){if(/^\d+,\d+,-?\d+$/.test(t)){var r=parseInt(t,10);e[r]=e[r]||t}}));var o=[];for(var i in e)e.hasOwnProperty(i)&&o.push(e[i]);return 0<o.length?o.join(";"):void 0}function ur(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function cr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ur(Object(r),!0).forEach((function(t){sr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ur(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function sr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lr(e,t,r){var n,o,i=cr(cr({},Xx.parse(e)),{},{sourceIndex:r}),a=t.vsid,u=t.vpuid;i.params.additionalParams.vsid=a,i.params.additionalParams=cr(cr(cr({},xx),i.params.additionalParams),{},{vsid:a});var c,s,l=(0,$P.rg)(),f=(c={slots:l.slots,testids:l.testids},{testIds:(s=Fx.parse({testIds:null===c||void 0===c?void 0:c.testids,slots:null===c||void 0===c?void 0:c.slots})).testIds,slots:s.slots}),d=f.testIds,h=f.slots,p=ar(i.params.additionalParams.slots,h),v=function(){for(var e={},t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];r.filter(Boolean).join(",").split(",").forEach((function(t){if(/^\d+$/.test(t)){var r=parseInt(t,10);e[r]=null}}));var o=Object.keys(e);return 0<o.length?o.join(","):void 0}(i.params.additionalParams.testIds,d);i.params.additionalParams=cr(cr(cr({},i.params.additionalParams),p?{slots:p}:{}),v?{testIds:v}:{}),i.params.posterStyle=cr({objectFit:t.objectFit},i.params.posterStyle);var y=i.params.adConfig;return void 0!==y&&void 0===y.skinType&&(y.skinType=function(e){return void 0===e.loadSkin?"defaultInstream":void 0}(t)),i.params.feed=null===(n=t.streamPlayerParams)||void 0===n?void 0:n.feed,i.params.shouldEmitFrameRendered=null===(o=t.streamPlayerParams)||void 0===o?void 0:o.shouldEmitFrameRendered,i.streams=i.streams.map((function(e){return cr(cr({},e),{},{drmConfig:e.drmConfig?Gt(e.drmConfig,{vsid:a,sourceIndex:r}):void 0,url:(0,Lx.Sr)(e.url,sr({vsid:a,vpuid:u},Ix.g,String(r)),{override:!0,saveOriginalPath:!0})})})),i}function fr(e){if(!(0,N_.K)(e))return!1;var t=e,r=t.utcStart,n=t.utcEnd;return(void 0===r||(0,TT.z)(r))&&(void 0===n||(0,TT.z)(n))}function dr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return hr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pr(e){return Array.isArray(e)?e.filter((function(e){return"string"===typeof e})):[]}function vr(e){if(!(0,N_.K)(e))return{init:[],start:[],end:[],setSource:[],adStart:[],adRequest:[],adError:[],adEnd:[],adPodStart:[],adPodClick:[],adPodEnd:[],adPodSkip:[],sourceStart:[],play:[],pause:[],seek:[],firstQuartile:[],midpoint:[],thirdQuartile:[],viewed:[],heartbeat:[],watchedTime:[],error:[]};var t,r,n,o=e.init,i=e.start,a=e.end,u=e.setSource,c=e.adRequest,s=e.adError,l=e.adStart,f=e.adEnd,d=e.adPodStart,h=e.adPodClick,p=e.adPodEnd,v=e.adPodSkip,y=e.sourceStart,m=e.play,g=e.pause,b=e.seek,w=e.firstQuartile,S=e.midpoint,E=e.thirdQuartile,O=e.viewed,k=e.heartbeat,_=e.watchedTime,A=e.error;return{init:pr(o),start:pr(i),end:pr(a),setSource:pr(u),adRequest:pr(c),adError:pr(s),adStart:pr(l),adEnd:pr(f),adPodStart:pr(d),adPodClick:pr(h),adPodEnd:pr(p),adPodSkip:pr(v),sourceStart:pr(y),play:pr(m),pause:pr(g),seek:pr(b),firstQuartile:pr(w),midpoint:pr(S),thirdQuartile:pr(E),heartbeat:(n=k,Array.isArray(n)?n.filter((function(e){if(!Array.isArray(e)||2!==e.length)return!1;var t=dr(e,2),r=t[0],n=t[1];if("string"!==typeof r||!fr(n))return!1;var o=n,i=o.offset,a=o.delay,u=o.callsCount;return"number"===typeof a&&(void 0===i||(0,TT.z)(i))&&(void 0===u||"number"===typeof u&&u>0)})):[]),viewed:(r=O,Array.isArray(r)?r.filter((function(e){if(Array.isArray(e)&&2===e.length){var t=dr(e,2),r=t[0],n=t[1];return"string"===typeof r&&!!(0,N_.K)(n)&&"number"===typeof n.percent}return!1})):[]),watchedTime:(t=_,Array.isArray(t)?t.filter((function(e){if(!Array.isArray(e)||2!==e.length)return!1;var t=dr(e,2),r=t[0],n=t[1];if("string"!==typeof r||!(0,N_.K)(n))return!1;var o=n.offset;return fr(n)&&"number"===typeof o})):[]),error:pr(A)}}function yr(e){if(void 0===e||!(0,N_.K)(e))return eR;var t=e.trackingEvents;return{trackingEvents:(Array.isArray(t)?t:[t]).map(vr)}}function mr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function gr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mr(Object(r),!0).forEach((function(t){br(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function br(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wr(e,t,r){return gr(gr({},function(e){return(0,N_.K)(e)?rR.parse(e):rR.parse({})}(e)),{},{source:lr(e,t,r)})}function Sr(e){if(void 0!==e){var t=e&&e.match&&e.match(cR);if(t&&t[1])return parseInt(t[1],10);var r=e.split(".");if(3===r.length)return parseInt(r[2],10);throw new Error("paramsObject.version must be a string like [1.0-0], [1.1.1111] or undefined")}}function Er(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;return(0,ox.O)(nx.Xy,(function(e){return e&&parseInt(e,10)}),t)||Sr(e)}function Or(e,t){return t?yx.PLAYER_API_MOCK:lR&&function(e){0;try{var t=(0,I_.H)(e)?Sr(e):e;return"number"===typeof t&&t>=1410}catch(r){return!1}}(e||vR)?yx.PLAYER_API_MODERN:yx.PLAYER_API}function kr(e,t){var r=e.version,n=e.useAbdBundle,o=e.usePlayerApiMock,i=Er(r,t),a=Or(i,o);return Ie(a,i||vR,"1.0-",Boolean(n))}function _r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=e.navigator.userAgent,r=void 0===t?"":t,n=/Android/.test(r),o=yR(e),i=/com\.yandex\.mobile\.metrica\.ads\.sdk.*?Android/.test(r);return n&&!o||i}function Ar(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.silent,n=void 0===r||r,o=t.allowRelative,i=void 0!==o&&o;return i||(0,Lx.sD)(e)?new OR((function(t,r){var o=document.createElement("img");o.onload=function(){return t(e)},o.onerror=n?function(){return t(null)}:function(){return r(new Error("knockPixel failed to load image [".concat(e,"]")))},o.src=e})):n?OR.resolve(null):OR.reject("[".concat(e,"] is not an absolute url, to knock this pixel use { allowRelative: true } option"))}function Tr(e,t,r){return e.replace(new RegExp("{{".concat(t,"}}"),"gm"),encodeURIComponent(r))}function Pr(e){return(Pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xr(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==Pr(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}xr=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=PR);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function Rr(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):PR.resolve(c).then(n,o)}function Lr(e){return function(){var t=this,r=arguments;return new PR((function(n,o){function i(e){Rr(u,n,o,i,a,"next",e)}function a(e){Rr(u,n,o,i,a,"throw",e)}var u=e.apply(t,r);i(void 0)}))}}function jr(e){return Ir.apply(this,arguments)}function Ir(){return(Ir=Lr(xr().mark((function e(t){var r,n,o,i,a;return xr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.url,n=t.data,o=t.contentType,i=o?new Blob([n],{type:o}):n,!TR(r,i)){e.next=6;break}return e.abrupt("return");case 6:(a=new XMLHttpRequest).open("POST",r),a.withCredentials=!0,void 0!==o&&a.setRequestHeader("Content-Type",o),a.send(n);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Fr(e,t,r){return t&&Nr(e.prototype,t),r&&Nr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Vr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Br(e){var t=Mr(e,2),r=t[0],n=t[1];return[r,{offset:n.offset,utcStart:n.utcStart,utcEnd:n.utcEnd,delay:1/0,callsCount:1}]}function Ur(e,t){return e.map((function(e){return[e,{percent:t}]}))}function Gr(e){return function(e){if(Array.isArray(e))return qr(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Yr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||Yr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yr(e,t){if(e){if("string"===typeof e)return qr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?qr(e,t):void 0}}function qr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Kr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zr(e){if("string"===typeof e)return"plain-url=".concat(e);var t=Wr(e,2),r=t[0],n=t[1],o=n.utcStart,i=void 0===o?"none":o,a=n.offset,u=void 0===a?"none":a,c=n.delay,s=void 0===c?"none":c;return"url=".concat(r,"|").concat(i,"/").concat(u,"/").concat(s)}function Qr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Zr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $r(e){return void 0===e?"":"inroll"===e?"midroll":"postPauseroll"===e?"pauseroll":e}function Jr(e){return(Jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||tn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function en(e){return function(e){if(Array.isArray(e))return rn(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||tn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tn(e,t){if(e){if("string"===typeof e)return rn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?rn(e,t):void 0}}function rn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function on(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nn(Object(r),!0).forEach((function(t){dn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function an(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function un(e,t){return(un=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function cn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=fn(e);if(t){var o=fn(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return sn(this,r)}}function sn(e,t){if(t&&("object"===Jr(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ln(e)}function ln(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fn(e){return(fn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hn(e){return Math.floor(e/30)}function pn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function vn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||yn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yn(e,t){if(e){if("string"===typeof e)return mn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?mn(e,t):void 0}}function mn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function bn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function wn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=e.navigator,r=t,n=r.connection,o=void 0===n?{}:n;return Boolean(o.saveData)}function En(e){return"number"===typeof e&&isFinite(e)}function On(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;if(!e.navigator)return qR;var t=e.navigator,r=t.connection,n=void 0===r?{}:r;return En(n.rtt)?n.rtt:qR}function kn(e,t,r,n){function o(){null!==i&&clearTimeout(i),i=null}3===arguments.length&&"boolean"!==typeof r&&(n=r,r=!1);var i=null,a=lT.Z,u=function(){var u=arguments;n=n||this,a=function(){o(),a=lT.Z,e.apply(n,u)},r&&null===i&&e.apply(n,u),o(),i=window.setTimeout((function(){r||e.apply(n,u),i=null}),t)};return u.cancel=o,u.now=function(){a()},u}function _n(e,t){return e?"fullscreen":t?"pip":"default"}function An(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Tn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?An(Object(r),!0).forEach((function(t){Ln(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):An(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Pn(e){return function(e){if(Array.isArray(e))return xn(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return xn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Rn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ln(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jn(e){return void 0===e?0:e.duration+e.getElapsedTime()/1e3}function In(e,t){return{reason:e,details:t,getElapsedTime:(0,y_.u)()}}function Cn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Dn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Cn(Object(r),!0).forEach((function(t){Fn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Nn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Fn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Vn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Un(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Gn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hn(){return(0,dR.m6)()}function Yn(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ",n=t-e.length;if(n>0){for(var o=r;o.length<n;)o+=o;var i=o.length>n?o.substr(0,n):o;return i+e}return e}function qn(e){return Yn(String(e%Math.pow(10,4)),4,"0")}function Wn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Kn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wn(Object(r),!0).forEach((function(t){Qn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function zn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Qn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zn(e){var t=e.location,r=e.referrer;return{location:(0,fL.b)(window),topLocation:t,referrer:window.document.referrer,topReferrer:r}}function $n(e){var t="",r="";e&&function(e){var t=tt(e.documentElement).map((function(e){return e.ownerDocument}));return t.unshift(e),t.map((function(e){return{location:(0,fL.b)(e.defaultView),referrer:e.referrer}}))}(e).reverse().forEach((function(e){var n=e.location,o=e.referrer;t=t||n,r=r||o}));return{location:t,referrer:r}}function Jn(e,t){return function(e,t){if(e.status===t.status)return 0;if(e.status===eP.OFFLINE)return 1;return-1}(e,t)||function(e,t){return String.prototype.localeCompare.call(e.name,t.name)}(e,t)}function Xn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function eo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xn(Object(r),!0).forEach((function(t){to(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function to(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ro(e){var t,r=0;return(0,pL.W)(eo(eo({},e),{},{checkStatus:function(e){return 304===(r=e)||r>=200&&r<300},url:(t=e.url,t.replace(/<tld>/g,hL))})).then((function(e){return e.responseText})).catch((function(e){throw e.status=r,e}))}function no(e){return{name:e.name,bitrate:e.bitrate,lang:e.lang}}function oo(e){return"undefined"===typeof e?null:{name:e.name,lang:e.lang}}function io(e){return{auto:e.auto,name:e.name,bitrate:e.bitrate,width:e.width,height:e.height}}function ao(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function uo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ao(Object(r),!0).forEach((function(t){co(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ao(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function co(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function so(e){return(so="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};for(var r in e){var n=e[r],o=so(n);"string"!==o&&"number"!==o&&"boolean"!==o||(t[r]=n)}return t}function fo(){var e,t=window.navigator||{},r=window.performance||{},n=$n(document),o=n.location,i=n.referrer;return{navigator:uo(uo({},lo(t)),{},{connection:lo(t.connection),plugins:(e=window.navigator.plugins,void 0===e||0===e.length?[]:gP(e,lo))}),performance:{memory:lo(r.memory)},playerLocation:location.href,iframeApiLocation:o,iframeApiReferrer:i}}function ho(e){var t=e.videoType,r=e.currentTime,n=e.dvrStartTime,o=e.dvrDuration;return void 0===t||t===DR.D.VOD?WP:o===1/0||r>n+o-10?EL:t!==DR.D.LIVE?WP:n+(0===r?0:10)>r?SL:WP}function po(e){return(po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function yo(e,t){return(yo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function mo(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=wo(e);if(t){var o=wo(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return go(this,r)}}function go(e,t){if(t&&("object"===po(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return bo(e)}function bo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wo(e){return(wo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function So(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eo(e){return(Eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oo(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==Eo(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}Oo=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=RL);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function ko(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):RL.resolve(c).then(n,o)}function _o(e){return function(){var t=this,r=arguments;return new RL((function(n,o){function i(e){ko(u,n,o,i,a,"next",e)}function a(e){ko(u,n,o,i,a,"throw",e)}var u=e.apply(t,r);i(void 0)}))}}function Ao(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function To(e,t,r){return t&&Ao(e.prototype,t),r&&Ao(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Po(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xo(e){return new RL((function(t,r){var n=new Image;n.onload=function(){n.width>0&&n.height>0&&t(!0),r("Feature isn't supported")},n.onerror=function(){r("Feature isn't supported")},n.src="data:image/webp;base64,"+LL[e]}))}function Ro(){return Lo.apply(this,arguments)}function Lo(){return(Lo=_o(Oo().mark((function e(){var t,r,n,o;return Oo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null===(t=mx.t.getItem("playerapi_webp_support_info"))){e.next=8;break}if(r=JSON.parse(t),n=r.isWebpSupported,o=r.lastCheckTimestamp,!n){e.next=6;break}return e.abrupt("return",!0);case 6:if(!(Date.now()-o<864e5)){e.next=8;break}return e.abrupt("return",!1);case 8:return e.next=10,RL.all([xo("lossy"),xo("lossless"),xo("alpha"),xo("animation")]);case 10:return mx.t.setItem("playerapi_webp_support_info",JSON.stringify(new jL(!0))),e.abrupt("return",!0);case 14:return e.prev=14,e.t0=e.catch(0),mx.t.setItem("playerapi_webp_support_info",JSON.stringify(new jL(!1))),e.abrupt("return",!1);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function jo(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==Do(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}jo=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=IL);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function Io(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):IL.resolve(c).then(n,o)}function Co(e){return function(){var t=this,r=arguments;return new IL((function(n,o){function i(e){Io(u,n,o,i,a,"next",e)}function a(e){Io(u,n,o,i,a,"throw",e)}var u=e.apply(t,r);i(void 0)}))}}function Do(e){return(Do="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function No(e){return(e=e.replace(/https?:\/\//i,"").replace(/\/\//i,"")).split("/")[1]||null}function Fo(e){if("object"!==Do(e))return OL.Horizontal;var t=e.width,r=e.height;return t&&r?t>r?OL.Horizontal:OL.Vertical:OL.Horizontal}function Mo(e,t){return Vo.apply(this,arguments)}function Vo(){return(Vo=Co(jo().mark((function e(t,r){var n,o,i,a;return jo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,xL.HD)(t)){e.next=2;break}return e.abrupt("return",void 0);case 2:if((n=No(t))&&-1!==DL.indexOf(n)){e.next=5;break}return e.abrupt("return",t);case 5:return o=r?Fo(r):OL.Horizontal,i=o===OL.Horizontal?"1920x1080":"1080x1920",e.next=9,Ro();case 9:if(!e.sent){e.next=13;break}e.t0="q15",e.next=14;break;case 13:e.t0="q30";case 14:return a=e.t0,e.abrupt("return",t.replace("orig","".concat(i).concat(a)));case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Uo(e,t){this[t]=Boolean(e)}function Go(e,t){this[t]=void 0!==e?Boolean(e):void 0}function Ho(e,t){!0===e&&(this[t]=e)}function Yo(e,t){e&&(this[t]=String(e))}function qo(e,t){(0,xL.hj)(e)&&(this[t]=e)}function Wo(e,t){var r=Number(e);this[t]=(0,xL.hj)(r)?r:0}function Ko(e,t){!GL&&Array.isArray(e)&&(GL=!0,this[t]=e)}function zo(){return{from:{value:"other",set:Yo},slots:null,"test-id":{value:[],set:function(e,t){var r=(0,xL.HD)(e)?NL.parseJSON(e):e;r&&(Array.isArray(r)?this[t]=r.filter(Boolean).map(String):(0,xL.HD)(r)?this[t]=r.split(/[,_]/).filter(Boolean):(0,xL.hj)(r)&&(this[t]=[String(r)]))}},distr_id:null,audio_only:!1,tv:{value:!1,set:Uo},loop:{value:!1,set:Uo},preload:{value:!1,set:Uo},report:{value:!1,set:Uo},preview:{value:!0,set:Uo},preview_src:{value:"",set:Yo},poster_object_fit:{set:Yo},nativeui:{value:!1,set:Uo},use_friendly_frame:{value:!0,set:Uo},branding_intro:{value:!1,set:Uo},restore_playback_progress:{value:!1,set:Uo},remote_progress_saving:{value:!1,set:Uo},progress:{value:!0,set:Uo},start_position_confirmation:{value:!1,set:Uo},force_unmute:{value:!0,set:Uo},stream_cms:{value:!0,set:Uo},beta:{value:!1,set:Ho},event_prefix:{value:"",set:Yo},from_block:{value:"other",set:Yo},hidden:{value:"",set:Yo},device_id:{value:"",set:Yo},primary_color:{set:Yo},secondary_color:{set:Yo},pip:{value:!0,set:function(e,t){0===e&&(this[t]=!1)}},autoplay:{value:!0,set:function(e,t){0===e&&(this[t]=!1)}},lang:{value:"",set:function(e,t){var r;(r=e,-1!==UL.indexOf(r))&&(this[t]=e)}},allow_muted:{set:Uo},mute:{value:!1,set:Go},volume:{set:function(e,t){(0,xL.hj)(e)&&e>=0&&e<=100&&(this[t]=e)}},play_on_visible:{set:function(e,t){(0,xL.hj)(e)?e>0&&e<=1&&(this[t]={threshold:e}):(0,xL.o8)(e)||"undefined"===e||(this[t]=Boolean(e))}},adConfig:{set:function(e,t){(0,xL.Kn)(e)&&(this[t]=e)}},streams:{set:function(e,t){Array.isArray(e)&&(this[t]=e)}},vmap_id:{set:Wo},vmap_scenario_id:{set:Wo},meta:{value:void 0,set:function(e,t){if((0,xL.HD)(e)){var r=FL[e];(0,xL.hj)(r)&&(this[t]=r)}}},subscribe_button:{value:void 0,set:function(e,t){if((0,xL.HD)(e)){var r=ML[e];(0,xL.hj)(r)&&(this[t]=e)}}},m_duration:{value:3e3,set:function(e,t){(0,xL.hj)(e)&&e>=0&&(this[t]=1e3*e)}},m_title:{value:null,set:Yo},m_desc:{value:null,set:Yo},live_offset:{set:function(e,t){(0,xL.hj)(e)&&e>=0&&(this[t]=e)}},platform:{set:function(e,t){VL.indexOf(e)>-1&&(this[t]=e)}},mod:{value:"",set:Yo},t:{set:qo},skippable_fragments:{value:!0,set:Uo},preferable_width:{set:qo},preferable_height:{set:qo},preferable_audio:{value:[],set:function(e,t){this[t]="string"===typeof e?e.split(",").filter((function(e){return e.length>0})):[]}},preferable_text:{value:[],set:function(e,t){this[t]="string"===typeof e?e.split(",").filter((function(e){return e.length>0})):[]}},release_timeout:{value:0,set:qo},retpath:{set:Yo},ya_station:{value:!0,set:Uo},share:{value:!0,set:Uo},has_preroll:{set:Uo},disable_update:{value:!1,set:Uo},velocity_metrics_sampled:{value:!0,set:Uo},test_mode:{value:!1,set:Uo},test_data:{value:"default",set:function(e,t){var r;(r=e,-1!==BL.indexOf(r))&&(this[t]=e)}},object_fit:{set:Yo},background_color:{set:Yo},zen_preload:{set:Uo},disable_postmessage_broadcast:{value:!1,set:Uo},cache_sources_count:{set:Wo},scriptedEvents:{set:Ko},version:{set:function(e,t){/^(1\.0-\d+|\d+\.\d+\.\d+)$/.test(e)&&(this[t]=e)}}}}function Qo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Zo(e,t){var r,n,o,i,a,u,c,s={yandexuid:qL,reqid:t.reqid,from:t.from,sandboxVersion:null===(r=e.request_info)||void 0===r?void 0:r.player_version,slots:ar((null===(n=e.request_info)||void 0===n?void 0:n.slots)||"",t.slots||""),frontendVhReqid:e["apphost-reqid"]||(null===(o=e.user_data)||void 0===o?void 0:o.req_id),contentId:null!==(a=e.content)&&void 0!==a&&a.actual_episode?e.content.actual_episode.content_id:null===(u=e.content)||void 0===u?void 0:u.content_id,fromBlock:t.from_block,streamBlock:t.stream_block||(null===(i=e.content)||void 0===i?void 0:i.streamBlock)};(!s.reqid&&(0,xL.Kn)(t.counters)&&(s.reqid=t.counters.reqid),!s.reqid&&e.user_data)&&(s.reqid=null===(c=e.user_data)||void 0===c?void 0:c.req_id);return s.reqid||(s.reqid=""),s}function $o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Jo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xo(e){var t=$o(e.split(":").map(Number).reverse(),3),r=t[0],n=t[1],o=t[2];return o?r+60*n+3600*o:r+60*n}function ei(e){return(ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ti(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==ei(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}ti=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=KL);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function ri(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):KL.resolve(c).then(n,o)}function ni(e){return function(){var t=this,r=arguments;return new KL((function(n,o){function i(e){ri(u,n,o,i,a,"next",e)}function a(e){ri(u,n,o,i,a,"throw",e)}var u=e.apply(t,r);i(void 0)}))}}function oi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ii(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ai(e,t){var r=parseFloat(e);r===r&&(this[t]=r)}function ui(e,t){(0,xL.o8)(e)||(this[t]=e)}function ci(e){return(ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function si(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==ci(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}si=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=QL);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function li(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?li(Object(r),!0).forEach((function(t){di(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):li(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function di(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hi(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):QL.resolve(c).then(n,o)}function pi(e){return function(){var t=this,r=arguments;return new QL((function(n,o){function i(e){hi(u,n,o,i,a,"next",e)}function a(e){hi(u,n,o,i,a,"throw",e)}var u=e.apply(t,r);i(void 0)}))}}function vi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function yi(e){return(yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mi(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==yi(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}mi=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=XL);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function gi(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):XL.resolve(c).then(n,o)}function bi(e){return function(){var t=this,r=arguments;return new XL((function(n,o){function i(e){gi(u,n,o,i,a,"next",e)}function a(e){gi(u,n,o,i,a,"throw",e)}var u=e.apply(t,r);i(void 0)}))}}function wi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Si(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wi(Object(r),!0).forEach((function(t){Ei(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ei(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oi(e,t){var r=function(){if(function(e){try{return new $L(e),!0}catch(t){return!1}}(e)){var t=(0,Lx.en)(e);return(0,Lx.hA)(Si(Si({},t),{},{pathname:t.pathname+".json"}))}var r=function(e,t){if(void 0===t||!t)return e;var r=(0,Lx.en)(e),n=r.hostname;return r.hostname=n.split(".").slice(0,-1).concat(t).join("."),r.host=r.host.replace(n,r.hostname),(0,Lx.hA)(r)}("https://runtime.video.cloud.yandex.net/player",void 0),n=K(window).contentBaseUrl||r;return"".concat(n,"/").concat(e,".json")}();return(0,Lx.Sr)(r,Si(Si({},t||{}),{},{vpuid:lL.getVpuid()}))}function ki(e,t){var r=Oi(e,t);return bi(mi().mark((function e(){var t,n;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new JL.H,n=setTimeout((function(){return t.abort()}),15e3),e.prev=2,void 0,e.next=6,window.fetch(r,Si({signal:t.signal},void 0));case 6:return e.next=8,e.sent.json();case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!t.signal.aborted){e.next=15;break}throw new Error("requestVhParams timeout");case 15:throw e.t0;case 16:return e.prev=16,clearTimeout(n),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[2,11,16,19]])})))()}function _i(e,t){return Ai.apply(this,arguments)}function Ai(){return(Ai=bi(mi().mark((function e(t,r){var n,o,i,a;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ki(t,r);case 2:return o=e.sent,i=new ZL(r,void 0),e.next=6,i.getPlayerConfig(o);case 6:return a=e.sent,e.abrupt("return",{vhParams:o,playerConfig:a,sourceConfig:a.source,skinConfig:(null===(n=a.skinParams)||void 0===n?void 0:n.skinConfig)||{}});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ti(e){return(Ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pi(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==Ti(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}Pi=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=rj);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function xi(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):rj.resolve(c).then(n,o)}function Ri(e){return function(){var t=this,r=arguments;return new rj((function(n,o){function i(e){xi(u,n,o,i,a,"next",e)}function a(e){xi(u,n,o,i,a,"throw",e)}var u=e.apply(t,r);i(void 0)}))}}function Li(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ji(e,t){return(ji=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ii(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Ni(e);if(t){var o=Ni(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ci(this,r)}}function Ci(e,t){if(t&&("object"===Ti(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Di(e)}function Di(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ni(e){return(Ni=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fi(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mi(e){return 0===String(e.code).indexOf("VH_")}function Vi(e){return-1===oj.indexOf(e.category)}function Bi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ui(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bi(Object(r),!0).forEach((function(t){Gi(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Gi(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hi(e,t){return uj.some((function(r){if(!e[r.element])return!1;for(var n=t;n;){if(e[r.element]===n)return!0;n=n.parentElement}return!1}))}function Yi(e){var t=(0,Lx.en)(e).pathname;return 0===t.indexOf("/vod/")||0===t.indexOf("/live/")||0===t.indexOf("/kal/")}function qi(e){if(e&&Yi(e))return(0,Lx.Sr)(e,{json_preview:"1",preview_version:"4"})}function Wi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ki(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wi(Object(r),!0).forEach((function(t){Ji(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function zi(e){return(zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qi(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return Zi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zi(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function Zi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ji(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xi(){this.returnValue=!1}function ea(){this.cancelBubble=!0}function ta(e){return function(t){var r=function(e){return e.stopPropagation||(e.stopPropagation=ea),e.preventDefault||(e.preventDefault=Xi),e.target||(e.target=e.srcElement),e}(t);e.call(this,r)}}function ra(e){e&&e.un()}function na(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oa(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ia(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aa(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ua(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ca(e,t,r){return Math.max(Math.min(t,r)-Math.max(e,0),0)}function sa(e){var t=Pj(e),r=t.width,n=t.height,o=0;if(r>0&&n>0){var i={width:window.innerWidth,height:window.innerHeight};o=ca(t.left,t.right,i.width)*ca(t.top,t.bottom,i.height)/(r*n)}return o}function la(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function fa(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function da(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return ha(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ha(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function ha(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pa(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function va(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ya(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ma(e){return(ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ga(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ba(e,t){return(ba=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function wa(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Oa(e);if(t){var o=Oa(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Sa(this,r)}}function Sa(e,t){if(t&&("object"===ma(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ea(e)}function Ea(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oa(e){return(Oa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ka(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _a(e){return(_a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Aa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ta(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Aa(Object(r),!0).forEach((function(t){Ca(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Aa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Pa(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xa(e,t){return(xa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ra(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Ia(e);if(t){var o=Ia(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return La(this,r)}}function La(e,t){if(t&&("object"===_a(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ja(e)}function ja(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ia(e){return(Ia=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ca(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Da(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Na(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Da(Object(r),!0).forEach((function(t){Ma(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Da(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Fa(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ma(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Va(e){var t=e.playingState;return t===YA.BUFFERING||t===YA.PLAY}function Ba(e){return e.playingState===YA.PLAY}function Ua(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ga(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ua(Object(r),!0).forEach((function(t){Ya(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ua(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ha(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ya(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qa(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Wa(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ka(e,t,r){(0,N_.K)(t)?(0,kT.M)(t,(function(t,r){(Array.isArray(t)?t:[t]).forEach((function(t){e(r,t)}))})):(0,OT.m)(r)&&e(t,r)}function za(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Qa(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Za(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,r=(0,DP.i)(t),n=new RegExp("\\b".concat(e,"/((?:\\d+)(?:\\.\\d+)*)\\b"),"i"),o=r.match(n);if(o)return o[1].split(".").map((function(e){return parseInt(e,10)}))}function $a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ja(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ja(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ja(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xa(){var e=Gj<5;return Uj(Wj,(function(e){var t=$a(e,2),r=t[0],n=t[1],o=Za(r);return void 0!==o&&$a(o,1)[0]<n}))||e}function eu(){return qj||mR&&Xa()}function tu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ru(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ru(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ru(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=(0,DP.i)(e),r=t.match(/AppleWebKit\/(\d+)\.(\d+)/);if(!r)return{major:-1,minor:-1};var n=tu(r,3),o=n[1],i=n[2];return{major:parseInt(o,10),minor:parseInt(i,10)}}function ou(e){var t=(0,DP.i)(e).match(/Chrom(e|ium)\/([0-9]+)\./);return t?parseInt(t[2],10):-1}function iu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=e.document,r=void 0===t?{}:t;return uj.filter((function(e){return e.enabled in r}))}function au(){return eu()||(window,!1)}function uu(){return!au()&&((mR||bR||Bj)&&!eu())}function cu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function su(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cu(Object(r),!0).forEach((function(t){lu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function lu(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fu(e){return function(e){if(Array.isArray(e))return du(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return du(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return du(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function du(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function pu(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vu(e){return(vu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yu(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==vu(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}yu=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=oI);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function mu(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):oI.resolve(c).then(n,o)}function gu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function bu(e,t){return(bu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function wu(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Ou(e);if(t){var o=Ou(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Su(this,r)}}function Su(e,t){if(t&&("object"===vu(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Eu(e)}function Eu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ou(e){return(Ou=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ku(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ku(Object(r),!0).forEach((function(t){Au(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ku(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Au(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tu(e){return function(e){if(Array.isArray(e))return Pu(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Pu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pu(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xu(e){var t=Tu(e),r=t.pop();if(!r||0===t.length)throw new Error("memoizeSingle need at least 2 functions as arg");return{preparers:t,resolver:r}}function Ru(e){return function(e){if(Array.isArray(e))return Lu(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Lu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lu(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ju(e){return(0,I_.H)(e.className)?e.className:e.namespaceURI===hI&&e.getAttribute("class")||""}function Iu(e,t){(0,I_.H)(e.className)?e.className=t:e.namespaceURI===hI&&e.setAttributeNS("","class",t)}function Cu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";0!==e.className.length?vI(e)?bI(e,t):Du(e,t):e.className=t}function Du(e,t){var r=ju(e).split(" ").concat(t.split(" "));Iu(e,(r=function(e){for(var t={},r=0;r<e.length;r++)t[e[r]]=r;return(0,ux.Z)(t)}((0,sI.h)(r,(function(e){return""!==e})))).join(" "))}function Nu(e,t){for(var r=ju(e).split(" "),n=t.split(" "),o=[],i=0;i<r.length;i++)r[i]&&-1===lI(n,r[i])&&o.push(r[i]);Iu(e,o.join(" "))}function Fu(e,t){var r=document.createElement("style");r.textContent+=e,t?t.appendChild(r):z(window).appendChild(r)}function Mu(e){var t=e.createElement("div");return qe(t,AI),t}function Vu(){var e=document.createElement("div");qe(e,{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"});var t=document.createElement("div");return e.appendChild(t),qe(t,{color:"#fff",fontFamily:'"Helvetica Neue",Helvetica,Arial,sans-serif',fontSize:"16px",lineHeight:"19px",textShadow:"0 0 3px #000",textAlign:"center",margin:"0 10px 20px 10px"}),{wrapper:e,setText:function(e){t.textContent=e}}}function Bu(e){var t=e.document,r=e.poster,n=e.firstFrameHash,o=e.firstFrameUrl,i=e.style,a=e.onReady,u=e.hiddenControls,c=void 0===u?[]:u,s=e.primaryColor,l=void 0===s?"#FFCC00":s,f=e.backgroundColor,d=t.createElement("div");qe(d,{width:"100%",height:"100%",display:"block",position:"relative",pointerEvents:"none",backgroundColor:f});var h,p=new cI({container:d,onReady:a,src:r,firstFrameUrl:o,firstFrameHash:n,style:i}),v=Mu(t);-1===c.indexOf(ZP.ALL)&&-1===c.indexOf(ZP.PRELOADER)&&(h=function(e){var t=e.document,r=e.primaryColor,n=e.isMobileSkin,o=void 0!==n&&n;_I();var i=t.createElement("div");Cu(i,EI().locals.spinner),i.innerHTML=o?kI:OI;var a=i.getElementsByTagName("svg")[0];return Cu(a,EI().locals.spinner__svg),o||a.setAttributeNS("","fill",r||"#FFCC00"),i.appendChild(a),i}({document:t,primaryColor:l,isMobileSkin:uu()}),v.appendChild(h)),d.appendChild(v);var y=Vu();return d.appendChild(y.wrapper),{element:d,setPoster:function(e,t,r){return p.setPoster(e,t,r)},setStyle:function(e){return p.setStyle(e)},setSpinnerVisibility:function(e){h&&qe(h,{display:e?"block":"none"})},setVisibility:function(e){qe(d,{display:e?"block":"none"})},setAnnotationText:function(e){y.setText(e)},destroy:function(){p.destroy(),et(d)}}}function Uu(){return(Uu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Gu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Hu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Yu(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qu(e){return(qu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wu(e){var t=function(){return RI.forEach((function(e){return window.removeEventListener(e,r)}))},r=function(r){"pagehide"===r.type&&r.persisted||(e(r),t())};return RI.forEach((function(e){return window.addEventListener(e,r)})),t}function Ku(e){if(e&&e.location){var t=e.location;return"function"===typeof t.toString?t.toString():t.href||""}return""}function zu(e){return"function"===typeof e}function Qu(e){return(Qu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zu(e){var t=Qu(e);return Boolean(e)&&("object"===t||"function"===t)}function $u(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return Ju(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ju(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function Ju(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xu(e){return!!(0,N_.K)(e)&&(!!(0,N_.K)(e.videoInfo)&&Boolean(e.enableRemoteProgressSaving&&e.videoInfo.videoContentId))}function ec(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/log";return MI+e}function tc(){return ec("/"+(0,uL.a)((e=BI,t=UI,Math.floor(Math.floor(Math.random()*(t-e+1))+e))));var e,t}function rc(e){return{reqid:null===e||void 0===e?void 0:e.reqid,from_block:null===e||void 0===e?void 0:e.from_block,frontend_vh_reqid:null===e||void 0===e?void 0:e.frontend_vh_reqid,recommender_reqid:null===e||void 0===e?void 0:e.recommender_reqid,stream_block:null===e||void 0===e?void 0:e.stream_block}}function nc(e,t){var r=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,GI.s)(e,(function(e){var n=e.start,o=e.end;return n-r<=t&&t<=o+r}))}(e,t);return void 0===r?void 0:r.end-t}function oc(){if(void 0!==document.featurePolicy)try{return document.featurePolicy.allowedFeatures()}catch(e){return}}function ic(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ac(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ic(Object(r),!0).forEach((function(t){uc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ic(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function uc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cc(e,t){if(e&&"adsdk-container-width"in e&&"adsdk-container-height"in e)return e;var r=t.getBoundingClientRect();return ac(ac({},e),{},{"adsdk-container-width":r.width,"adsdk-container-height":r.height})}function sc(e){return(sc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lc(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==sc(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}lc=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=qI);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function fc(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):qI.resolve(c).then(n,o)}function dc(e){return function(){var t=this,r=arguments;return new qI((function(n,o){function i(e){fc(u,n,o,i,a,"next",e)}function a(e){fc(u,n,o,i,a,"throw",e)}var u=e.apply(t,r);i(void 0)}))}}function hc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function pc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vc(Object(r),!0).forEach((function(t){mc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function mc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gc(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function bc(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(0,j_.Y)((function(){n.additional;var o=gc(n,nC);(DT.Z||window.Ya.Rum.sendTimeMark)(e,t,r,yc(yc({},o),{},{"-additional":ge(n)}))}))}function wc(e,t,r){return e>r?r:e<t?t:e}function Sc(e,t){return x(e)===t?iC.resolve():new iC((function(r){R(e,(function(e){e===t&&r()}))}))}function Ec(e){return 0===uC.length&&(aC=window.setInterval((function(){uC.forEach((function(e){return e()}))}),250)),uC.push(e),function(){var t=uC.indexOf(e);t>-1&&uC.splice(t,1),0===uC.length&&clearInterval(aC)}}function Oc(e){return(Oc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ac(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ac(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ac(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Pc(e,t){return(Pc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function xc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=jc(e);if(t){var o=jc(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Rc(this,r)}}function Rc(e,t){if(t&&("object"===Oc(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Lc(e)}function Lc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jc(e){return(jc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ic(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.HTMLVideoElement&&e.HTMLVideoElement.prototype||{};return uj.filter((function(e){return e.enabled in t}))}function Dc(e,t){var r=iu(e);if(r.length>0)return r[0];var n=Cc(e,t);return n.length>0?n[0]:void 0}function Nc(e,t){var r=Dc(e,t);if(!r)return null;var n=e.document[r.element];return t&&t[r.element]&&(n=t),n||null}function Fc(e){return!!e.includes(ZP.ALL)||sx.every((function(t){return t===ZP.ALL||e.includes(t)}))}function Mc(e,t){return e.map((function(e){return{adViewer:e,additionalData:{},adType:t}}))}function Vc(e){return(Vc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Uc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.map(Gc),o="YA PLAYER: ".concat((new Date).toString()," ").concat(n.join(" "));return o}function Gc(e){return e&&"object"===Vc(e)?JSON.stringify(e,Object.getOwnPropertyNames(e)):e}function Hc(e){return e.reduce((function(e,t){return e+t.getAdDuration()}),0)}function Yc(e){return(Yc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Wc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Kc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function zc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Kc(Object(r),!0).forEach((function(t){os(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Qc(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==Yc(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}Qc=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=vC);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function Zc(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):vC.resolve(c).then(n,o)}function $c(e){return function(){var t=this,r=arguments;return new vC((function(n,o){function i(e){Zc(u,n,o,i,a,"next",e)}function a(e){Zc(u,n,o,i,a,"throw",e)}var u=e.apply(t,r);i(void 0)}))}}function Jc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Xc(e,t){return(Xc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function es(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ns(e);if(t){var o=ns(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ts(this,r)}}function ts(e,t){if(t&&("object"===Yc(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return rs(e)}function rs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ns(e){return(ns=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function os(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function is(e){return Boolean(e&&e.adType===$I.inroll)}function as(e,t){var r=e.ad.originalBroadcastAdCues[t];if(r){var n=r.start;if(void 0===n)return;var o=r.end;return{start:n,end:void 0===o?n+900:o}}}function us(e){var t=e.ad,r=t.originalBroadcastAdCues,n=t.adInfo;return is(n)?n.params.cueId:(0,ux.Z)(r).find((function(t){return function(e,t){var r=e.controller,n=r.currentTime,o=r.programDateTime;if(void 0===o)return!1;var i=o/1e3+n,a=as(e,t);if(!a)return!1;var u=a.start,c=a.end;return u<=i&&i<=c}(e,t)}))}function cs(e){var t=e.controller,r=t.currentTime,n=t.programDateTime;return void 0===n?n:n+1e3*r}function ss(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ls(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function fs(e,t){return Math.max(e+1e4,t+5e3)}function ds(e){var t=e.cue_id,r=e.pts,n=e.offset,o=e.cutoff,i=r+n;return{start:i,isEndReceived:void 0!==o,cueId:t,end:void 0!==o?r+o:fs(r,i),isValid:!0,invalidateReason:void 0}}function hs(e){return(hs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ps(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vs(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ys(e,t){return(ys=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ms(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ws(e);if(t){var o=ws(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return gs(this,r)}}function gs(e,t){if(t&&("object"===hs(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return bs(e)}function bs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ws(e){return(ws=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ss(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Es(e){return function(e){if(Array.isArray(e))return As(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Os(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_s(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function ks(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||_s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _s(e,t){if(e){if("string"===typeof e)return As(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?As(e,t):void 0}}function As(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ts(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ps(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ts(Object(r),!0).forEach((function(t){Rs(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ts(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xs(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Rs(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ls(e){return(Ls="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function js(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==Ls(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}js=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=OC);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function Is(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Cs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Is(Object(r),!0).forEach((function(t){Gs(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Is(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ds(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):OC.resolve(c).then(n,o)}function Ns(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Fs(e,t){return(Fs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ms(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Us(e);if(t){var o=Us(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Vs(this,r)}}function Vs(e,t){if(t&&("object"===Ls(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Bs(e)}function Bs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Us(e){return(Us=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gs(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hs(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ys(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;try{return e.ya.videoAd.getBundleVersion()}catch(t){return"none"}}function Ws(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;try{return e.ya.videoAd.getModuleVersion()}catch(t){return"none"}}function Ks(e){return e.reduce((function(e,t){return e+Math.max(Math.floor(t.getAdPodsCount()))}),Math.max(Math.floor(0)))}function zs(e){return"string"===typeof e}function Qs(e){return zs(e)&&e.length>0}function Zs(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=AC(t,Boolean);if(0!==n.length)return n.join(";")}function $s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||Js(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Js(e,t){if(e){if("string"===typeof e)return Xs(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Xs(e,t):void 0}}function Xs(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function el(e){if(void 0!==e){if(!zs(e))throw new Error("testIdsString is not a string or undefined [".concat(e,"]"));if(0!==e.length){var t,r=function(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Js(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}(e.split(";"));try{for(r.s();!(t=r.n()).done;){var n=t.value.split(",");if(3!==n.length)throw new Error("testIdParts length error [".concat(e,"]"));var o=$s(n,3),i=o[0],a=o[2];if(0===i.trim().length)throw new Error("testId length error [".concat(e,"]"));if(0===a.trim().length)throw new Error("testId bucket length error [".concat(e,"]"))}}catch(u){r.e(u)}finally{r.f()}return e}}}function tl(e){if(!Boolean(null===e||void 0===e?void 0:e.toString))return!1;try{var t=e.toString();return/\[native code\]/.test(t)||/\/\* source code not available \*\//.test(t)}catch(r){return!1}}function rl(e){return JSON.stringify(e,(t=[],n="undefined"===typeof WeakMap?void 0:new WeakMap,o=[],r={set:function(e,t){if(void 0!==n)try{n.set(e,t)}catch(r){o.push({path:t,value:e})}else o.push({path:t,value:e})},get:function(e){var t=IC(o,(function(t){return t.value===e}));return void 0!==n&&void 0===t?n.get(e):t?t.path:void 0}},function(e,n){if(zu(n))return zs(n.name)?n.name:"[Function]";if(RC(n))return{name:(o=n).name,message:o.message,stack:o.stack};var o,i;if(!Zu(n))return n;if(function(e){try{return"display"in function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,r="function"===typeof t.getComputedStyle?t.getComputedStyle(e,null):e.currentStyle;return r||{}}(e)}catch(t){return!1}}(n))return(i=n).id?i.id:i.className?i.className:"HTML Element";var a=r.get(n);if(Qs(a))return"[Circular ".concat(a,"]");for(;t.length>0&&t[t.length-1].value[e]!==n;)t.pop();var u=(t.length>0?t[t.length-1].path:"")+(e?"/".concat(e):"~");return t.push({path:u,value:n}),r.set(n,u),n}));var t,r,n,o}function nl(e){return(nl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ol(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function il(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function al(e,t){if(t&&("object"===nl(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ul(e)}function ul(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cl(e){var t="function"===typeof Map?new Map:void 0;return(cl=function(e){function r(){return sl(e,arguments,dl(this).constructor)}if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),fl(r,e)})(e)}function sl(e,t,r){return(sl=ll()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&fl(o,r.prototype),o}).apply(null,arguments)}function ll(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function fl(e,t){return(fl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function dl(e){return(dl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hl(e){var t=e.url,r=e.line,n=e.col,o=e.fileName,i=e.columnNumber,a=e.lineNumber;return"".concat(t||o||"?",":").concat(r||a||"?",":").concat(n||i||"?")}function pl(){}function vl(e){var t=function(){var r;return t=function(){return r},r=e.apply(this,arguments)};return function(){return t.apply(this,arguments)}}function yl(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ml(e,t){try{return e()}catch(r){"function"===typeof t&&t(r)}}function gl(e){var t=e.DocumentTouch;return Boolean(t)&&e.document instanceof t}function bl(e){return"ontouchstart"in e}function wl(e){return function(e){return Boolean(e.PointerEvent)}(e)&&function(e){var t=e.navigator||{},r=t.msMaxTouchPoints,n=t.maxTouchPoints;return r||n||0}(e)>0&&!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return qC(e)>11}(e)}function Sl(e){return"function"===typeof e||"Function"===xC(e)}function El(e){return(El="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ol(e,t){if(!Sl(e.matchMedia))return!1;var r,n,o=e.matchMedia(t);return n=El(r=o),Boolean(r)&&("object"===n||"function"===n)&&Boolean(o.matches)}function kl(e){return Ol(e,zC)}function _l(e){return Ol(e,QC)}function Al(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return wl(e)||kl(e)||_l(e)||gl(e)||bl(e)}function Tl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return/Apple/.test(e.navigator.vendor)&&Al(e)}function Pl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=e.navigator.userAgent.toLowerCase();return/ipad|iphone|ipod/.test(t)&&!e.MSStream&&!ZC(e)}function xl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;try{var t=e.navigator||{};return t.userAgent||""}catch(r){return""}}function Rl(e){var t=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(JC&&t)return[];for(var r=[],n=e;;)try{if(!(n=n.ownerDocument.defaultView.frameElement))return r;r.push(n)}catch(o){return r}}(e.documentElement).map((function(e){return e.ownerDocument}));return t.unshift(e),t.map((function(e){return{location:Ku(e.defaultView),referrer:e.referrer}}))}function Ll(e){var t="",r="";e&&Rl(e).reverse().forEach((function(e){var n=e.location,o=e.referrer;t=t||n,r=r||o}));return{location:t,referrer:r}}function jl(e){var t=function(){var r;return t=function(){return r},r=e.apply(this,arguments)};return function(){return t.apply(this,arguments)}}function Il(){}function Cl(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Dl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Nl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dl(Object(r),!0).forEach((function(t){Fl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Fl(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ml(e){var t=e.method,r=e.url,n=e.async,o=void 0===n||n,i=e.data,a=e.responseType,u=void 0===a?"text":a,c=e.onBeforeSend,s=void 0===c?Il:c,l=e.onRetry,f=void 0===l?Il:l,d=e.checkStatus,h=void 0===d?function(e){return 200===e}:d,p=e.headers,v=void 0===p?{}:p,y=e.xhrConstructor,m=void 0===y?XMLHttpRequest:y,g=e.retries,b=void 0===g?0:g,w=e.timeout,S=void 0===w?0:w,E=e.withCredentials,O=e.onAbort,k=e.onSetup;if(m){var _,A=e.onSuccess?jl(e.onSuccess):Il,T=e.onError?jl(e.onError):Il,P=!1,x=0,R=function(e){P=!0,R=Il,_=e,L(new Error("Abort request")),"function"===typeof O&&O(e)},L=function(t){if(j.onerror=null,j.onreadystatechange=null,x&&clearTimeout(x),x&&4!==j.readyState||P)try{j.abort()}catch(t){}if(!P)if(b>0){var r=f(t,j);if("boolean"!==typeof r||Boolean(r)||R(),P)return;Ml(Nl(Nl({},e),{},{onSetup:function(e){var t=e.abort;R=function(e){return t(e)},P&&t(_)},retries:b-1}))}else R=Il,T(t,j)},j=new m;try{j.open(t,r,o)}catch(I){return void L(I)}if(j.responseType=u,j.withCredentials=Boolean(E),function(e,t,r){for(var n in e)Cl(e,n)&&t.call(r,e[n],n,e)}(v,(function(e,t){try{j.setRequestHeader(t,e)}catch(I){}})),S>0&&isFinite(S)&&(x=window.setTimeout((function(){L(new Error("Request timeout, ".concat(r)))}),S)),j.onerror=L,j.onreadystatechange=function(){if(4===j.readyState){var e=j.status;h(e)?(R=Il,clearTimeout(x),A(j)):L(new Error("Invalid request status ".concat(e,", ").concat(r)))}},("function"!==typeof k||(k({abort:function(e){return R(e)}}),!P))&&(s(j,e),!P))try{j.send(i)}catch(I){L(I)}}}function Vl(e){if(!e||!e.toString)return!1;var t=e.toString();return/\[native code\]/.test(t)||/\/\* source code not available \*\//.test(t)}function Bl(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ul(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return Gl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gl(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function Gl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hl(e,t){var r,n,o;return null!==(o=null!==(n=null!==(r=rD(e,t))&&void 0!==r?r:function(e,t){for(var r=function(e){var t,r,n=[e.document],o=e.document;for(;o;)(o=null===(r=null===(t=o.defaultView)||void 0===t?void 0:t.frameElement)||void 0===r?void 0:r.ownerDocument)&&n.push(o);return n}(e),n=0;n<r.length;n++){var o=new nD(r[n].location.search).get(t);if(null!==o)return o}return}(e,t))&&void 0!==n?n:function(e,t){var r,n,o,i=Ul(LI(e));try{for(i.s();!(o=i.n()).done;){var a=null===(n=null===(r=o.value.Ya)||void 0===r?void 0:r.hardcodedParams)||void 0===n?void 0:n[t];if(a)return String(a)}}catch(u){i.e(u)}finally{i.f()}return}(e,t))&&void 0!==o?o:void 0}function Yl(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ql(){return(ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Wl(e,t){var r,n,o;return null===(o=null===(n=null===(r=t.ya)||void 0===r?void 0:r.videoAd)||void 0===n?void 0:n.loadedModules)||void 0===o?void 0:o[e]}function Kl(){return(Kl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function zl(e){return AD||function(e){return"".concat(PD).concat(e,"/")}(e)}function Ql(e){return function(e){var t=e.src,r=e.win,n=e.onBeforeLoad,o=void 0===n?pl:n,i=new MC(new Error,{}),a=pl;return{promise:new RD((function(e,n){var u=r.document.createElement("script"),c=!1;a=function(){c=!0,function(e){if(e){var t=e.parentElement;t&&t.removeChild(e)}}(u)};u.type="text/javascript",u.async=!0,u.onload=function(){c||e()},u.onerror=function(e){c||(n(new MC(i,{message:"Failed to load script [".concat(t,"]"),details:{src:t,isSelfWindow:r===window,event:e}})),a())},u.src=t,u.charset="utf-8",o(u),function(e){var t=e.document,r=t.getElementsByTagName("head")[0];return r||(r=t.createElement("head"),t.documentElement.appendChild(r)),r}(r).appendChild(u)})),teardown:a}}(e)}function Zl(e){for(var t="",r=0;r<e;r++)t+=(16*vD()|0).toString(16);return t}function $l(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ",n=t-e.length;if(n>0){for(var o=r;o.length<n;)o+=o;var i=o.length>n?o.substr(0,n):o;return i+e}return e}function Jl(){return(Jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Xl(e){var t=ke();return GD.subpageIndex!==t?(GD.subpageIndex=t,GD.deltas={},!1):Boolean(GD.deltas[e])}function ef(e){GD.deltas[e]=!0}function tf(e){Xl(e)||xe(e)}function rf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Xl(e)||(Re(e,t),ef(e))}function nf(e){return(nf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function of(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==nf(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}of=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=HD);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function af(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function uf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?af(Object(r),!0).forEach((function(t){cf(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):af(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function cf(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sf(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):HD.resolve(c).then(n,o)}function lf(e){return function(){var t=this,r=arguments;return new HD((function(n,o){function i(e){sf(u,n,o,i,a,"next",e)}function a(e){sf(u,n,o,i,a,"throw",e)}var u=e.apply(t,r);i(void 0)}))}}function ff(){return df.apply(this,arguments)}function df(){return(df=lf(of().mark((function e(){var t,r,n,o,i,a,u,c=arguments;return of().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>0&&void 0!==c[0]?c[0]:window,n=c.length>1?c[1]:void 0,o=c.length>2?c[2]:void 0,i=c.length>3?c[3]:void 0,(a=r===window)&&tf("adsdk.multiroll.full"),(u=UD({serviceName:"player",serviceVersion:"1.0-12463",config:uf(uf({},n),{},{withCredentials:!i,additionalCustomRootFields:{vsid:o,contentPlayerVersion:"1.0-12463",testIds:null===(t=n.additionalParams)||void 0===t?void 0:t.slots}}),win:r,moduleName:"Multiroll"}).promise).then((function(){a&&rf("adsdk.multiroll.full")})).catch(gT.Z),e.abrupt("return",u);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hf(e){var t=e.controller,r=t.audioTrackValue;return t.audioTracks.find((function(e){return e.value===r}))}function pf(e){var t=e.controller,r=t.textTrackValue;return t.textTracks.find((function(e){return e.value===r}))}function vf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vf(Object(r),!0).forEach((function(t){mf(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function mf(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gf(e){var t=e.controller,r=t.videoTrackValue,n=t.videoTracks,o=t.isAbrEnabled,i=n.find((function(e){return e.value===r}));if(i)return yf(yf({},i),{},{auto:o})}function bf(e){return void 0!==e.ad.adInfo}function wf(e){var t=e.controller,r=t.currentTime;return nc(t.bufferingRanges,r)}function Sf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ef(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Of(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function kf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Of(Object(r),!0).forEach((function(t){_f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Of(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Af(e,t){(0,j_.Y)((function(){return(DT.Z||window.Ya.Rum.logError)(kf(kf({},e),{},{additional:ge()}),(0,N_.K)(t)?t:new Error("NOT_AN_OBJECT_ERROR"))}))}function Tf(e,t){if(!e||!e.height||!e.width||!t)return"unknown";var r=t.getMaxCapAllowedVideoTrack();return r&&r.height&&r.width?r.width===e.width&&r.height===e.height?"same":r.width>e.width||r.height>e.height?"smaller":r.width<e.width||r.height<e.height?"larger":"unknown":"unknown"}function Pf(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function xf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Rf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xf(Object(r),!0).forEach((function(t){Lf(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Lf(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jf(e){var t=Oe(),r=(0,N_.K)(t)?t.additional:void 0;return Rf(Rf({},t),{},{additional:Rf(Rf({},r),e)})}function If(e){var t=0===xN,r=RN[e];return RN[e]=!0,Se()&&t&&!r}function Cf(){If("sourceStart")&&bc(nN.autoplayFalse)}function Df(e){var t=e.reason,r=void 0===t?"unknown":t,n=Pf(e,wN);If("sourceStart")&&bc(nN.firstStartAdSDKFailed,void 0,void 0,Rf({reason:r},n))}function Nf(){xN++,RN.sourceStart=!1;var e,t=0===xN;t?bc(nN.firstLoadSource):zT=x(document);try{Ee(t);var r=Oe();e=(null===r||void 0===r?void 0:r.additional)||{},qT=e,KT=!1}catch(n){}}function Ff(e,t){if(Se()&&!RN.sourceStart){var r=0===xN;xe(r&&t?AN[e]:r?_N[e]:t?PN[e]:TN[e])}}function Mf(e,t,r){var n=RN.sourceStart;if(RN.sourceStart=!0,Se()&&!n)if(0===xN){var o=r?AN[e]:_N[e];bc(r?EN[e]:SN[e],void 0,!1,{additional:t}),Re(o,{additional:t})}else Re(r?PN[e]:TN[e],jf(t))}function Vf(e,t,r){If("yaFirstFrameDecoded")&&(r&&"AD"!==e||bc(ON[e],void 0,!1,{additional:t}))}function Bf(e,t,r){If("yaFirstFrameShown")&&(r&&"AD"!==e||bc(kN[e],void 0,!1,{additional:t}))}function Uf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Gf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Uf(Object(r),!0).forEach((function(t){Hf(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Hf(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yf(e){var t=function(e){return e.filter(Ot).map((function(e){return e.supportInfo.noSupportReason}))}(e),r={details:{streams:e},isFatal:!0};if(Uj(t,(function(e){return e===LN.INVALID_STREAM_URL})))return new cT(Gf(Gf({},r),{},{code:P_.INVALID_STREAM_URL}));if(Uj(t,(function(e){return e===LN.NO_SUPPORTED_DRM})))return new cT(Gf(Gf({},r),{},{code:P_.NO_DRM}));if(Uj(t,(function(e){return e===LN.NO_CODECS})))return new cT(Gf(Gf({},r),{},{code:P_.NO_CODECS}));var n=Uj(t,(function(e){return e===LN.NO_MSE}));return new cT(Gf(Gf({},r),{},n?IN?{code:P_.NO_PLAYABLE_STREAMS}:{code:P_.NO_MSE}:{code:P_.NO_PLAYABLE_STREAMS}))}function qf(e){if(void 0===e||!(0,N_.K)(e))return!1;var t=e,r=t.servers,n=t.advanced;return(0,N_.K)(r)&&(0,I_.H)(r["com.apple.fps.1_0"])&&(0,N_.K)(n)&&(0,N_.K)(n["com.apple.fps.1_0"])&&(0,I_.H)(n["com.apple.fps.1_0"].processSPCPath)}function Wf(e){return e.preferNative||$N||bP||qf(e.stream.drmConfig)?hT.NATIVE:hT.HLS}function Kf(){var e={};return JN.forEach((function(t){XN.forEach((function(r){var n;e["video/".concat(t,"/").concat(r)]=jN("video/".concat(t,'; codecs="').concat(r,'"')),e["mse-video/".concat(t,"/").concat(r)]=null!==(n=null===VN||void 0===VN?void 0:VN.isTypeSupported("video/".concat(t,'; codecs="').concat(r,'"')))&&void 0!==n&&n}))})),eF.forEach((function(t){tF.forEach((function(r){var n;e["audio/".concat(t,"/").concat(r)]=jN("audio/".concat(t,'; codecs="').concat(r,'"')),e["mse-audio/".concat(t,"/").concat(r)]=null!==(n=null===VN||void 0===VN?void 0:VN.isTypeSupported("audio/".concat(t,'; codecs="').concat(r,'"')))&&void 0!==n&&n}))})),e["audio/plain/flac"]=jN("audio/flac"),e}function zf(e){return(zf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qf(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==zf(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}Qf=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=rF);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function Zf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zf(Object(r),!0).forEach((function(t){Jf(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Jf(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xf(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):rF.resolve(c).then(n,o)}function ed(e){return function(){var t=this,r=arguments;return new rF((function(n,o){function i(e){Xf(u,n,o,i,a,"next",e)}function a(e){Xf(u,n,o,i,a,"throw",e)}var u=e.apply(t,r);i(void 0)}))}}function td(e){return rd.apply(this,arguments)}function rd(){return(rd=ed(Qf().mark((function e(t){var r;return Qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,void 0!==zN){e.next=6;break}return e.next=5,KN();case 5:zN=e.sent;case 6:if(r=zN.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')){e.next=9;break}return e.abrupt("return",IN?nF:{supported:!1,debugInfo:{checkedCodec:'video/mp4; codecs="avc1.42E01E,mp4a.40.2"',isCodecSupported:r,hasMse:!0,codecs:Kf(),IS_HLS_NATIVE_SUPPORTED:IN},noSupportReason:LN.NO_CODECS});case 9:if(IN){e.next=11;break}return e.abrupt("return",qf(t.stream.drmConfig)?{supported:!1,debugInfo:{IS_HLS_NATIVE_SUPPORTED:IN},noSupportReason:LN.NO_SUPPORTED_DRM}:oF);case 11:return e.abrupt("return",{supported:!0,engine:Wf(t)});case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",IN?nF:{supported:!1,debugInfo:$f($f({},(0,F_.V)(e.t0)?{message:e.t0.message,stack:e.t0.stack}:{message:"Unknown error while get support info",errorString:String(e.t0)}),{},{codecs:Kf()}),noSupportReason:LN.NO_MSE});case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function nd(e,t){return-1!==lI(e,t)}function od(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function id(e){return(id="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ad(e){return function(e){if(Array.isArray(e))return vd(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||pd(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ud(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function cd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ud(Object(r),!0).forEach((function(t){sd(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ud(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function sd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ld(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==id(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}ld=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=hF);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function fd(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):hF.resolve(c).then(n,o)}function dd(e){return function(){var t=this,r=arguments;return new hF((function(n,o){function i(e){fd(u,n,o,i,a,"next",e)}function a(e){fd(u,n,o,i,a,"throw",e)}var u=e.apply(t,r);i(void 0)}))}}function hd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||pd(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pd(e,t){if(e){if("string"===typeof e)return vd(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?vd(e,t):void 0}}function vd(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yd(e){if(!BN(e))return!1;var t=(0,gR.P)(e);if(t&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return/YandexSearch|YaSearchBrowser|YaApp_iOS|YaApp_Android/i.test((0,DP.i)(e))}(e))return!1;var r=function(e){return Za("YaBrowser",e)}(e);if(void 0===r)return!1;var n=hd(r,4),o=n[0],i=n[1],a=n[2],u=n[3];if(o<18)return!0;if(18===o){if(i>4)return!1;if(t&&a<3)return!0;if(_r(e)&&(a<1||!u||u<=526))return!0}return!1}function md(){return gd.apply(this,arguments)}function gd(){return(gd=dd(ld().mark((function e(){var t;return ld().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,hF.all(fF.map(function(){var e=dd(ld().mark((function e(r){return ld().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,window.navigator.requestMediaKeySystemAccess(r,dF);case 3:t.push(r),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()));case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bd(){var e=[];return fF.forEach((function(t){window.MSMediaKeys.isTypeSupported(t)&&e.push(t)})),e}function wd(e){var t=e.video,r=[];return fF.forEach((function(e){t.canPlayType("video/mp4",e)&&r.push(e)})),r}function Sd(e){return Ed.apply(this,arguments)}function Ed(){return(Ed=dd(ld().mark((function e(t){return ld().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!wR||(aF||iF||UN)){e.next=2;break}return e.abrupt("return",{supportedDrmSystems:[],detectionMethod:cF.YandexBrowserLinux});case 2:if(!yd()){e.next=4;break}return e.abrupt("return",{supportedDrmSystems:[],detectionMethod:cF.OldYandexBrowser});case 4:if("function"!==typeof window.navigator.requestMediaKeySystemAccess){e.next=10;break}return e.next=7,md();case 7:return e.t0=e.sent,e.t1=cF.requestMediaKeySystemAccess,e.abrupt("return",{supportedDrmSystems:e.t0,detectionMethod:e.t1});case 10:if("function"!==typeof window.MSMediaKeys){e.next=12;break}return e.abrupt("return",{supportedDrmSystems:bd(),detectionMethod:cF.MSMediaKeys});case 12:if(!t.video.webkitGenerateKeyRequest){e.next=14;break}return e.abrupt("return",{supportedDrmSystems:wd(t),detectionMethod:cF.GenerateKeyRequest});case 14:return e.abrupt("return",{supportedDrmSystems:[],detectionMethod:cF.NotAvailable});case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Od(e){return kd.apply(this,arguments)}function kd(){return(kd=dd(ld().mark((function e(t){var r;return ld().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===sF&&(sF=Sd(t)),e.next=3,sF;case 3:return r=e.sent,e.abrupt("return",cd(cd({},r),{},{supportedDrmSystems:ad(r.supportedDrmSystems)}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _d(e){return(_d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ad(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==_d(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}Ad=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=yF);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function Td(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):yF.resolve(c).then(n,o)}function Pd(){try{var e=mx.t.getItem("videoplayer-supported-drm-systems");if(null===e)return;var t=JSON.parse(e),r=t.value,n=t.time,o=t.version;if(Date.now()-n>2592e5)return void mx.t.removeItem("videoplayer-supported-drm-systems");if("343ba947d34e527fe24f4194d52d79f0"!==o)return void mx.t.removeItem("videoplayer-supported-drm-systems");if(0===r.supportedDrmSystems.length)return;return r}catch(i){return}}function xd(e){if(0!==e.supportedDrmSystems.length)try{mx.t.setItem("videoplayer-supported-drm-systems",JSON.stringify({value:e,time:Date.now(),version:"343ba947d34e527fe24f4194d52d79f0"}))}catch(t){}}function Rd(e){return(Rd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ld(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==Rd(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}Ld=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=wF);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function jd(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):wF.resolve(c).then(n,o)}function Id(e){return function(){var t=this,r=arguments;return new wF((function(n,o){function i(e){jd(u,n,o,i,a,"next",e)}function a(e){jd(u,n,o,i,a,"throw",e)}var u=e.apply(t,r);i(void 0)}))}}function Cd(e,t){return Dd.apply(this,arguments)}function Dd(){return(Dd=Id(Ld().mark((function e(t,r){var n,o,i,a,u;return Ld().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.servers,o=void 0===n?{}:n,0!==(i=(0,ux.Z)(o)).length){e.next=4;break}return e.abrupt("return",!1);case 4:return e.next=6,bF({video:r});case 6:return a=e.sent,u=Uj(i,(function(e){return nd(a,e)})),e.abrupt("return",u);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nd(){var e=SF.canPlayType('video/mp4;codecs="avc1.4D481F"');return e?{supported:!0,engine:hT.MP4}:{supported:!1,debugInfo:{checkedCodec:'video/mp4;codecs="avc1.4D481F"',isCodecSupported:e,codecs:Kf()},noSupportReason:LN.NO_CODECS}}function Fd(){return KN().then((function(){return EF})).catch((function(e){return{supported:!1,debugInfo:(0,F_.V)(e)?{message:e.message,stack:e.stack}:{message:"Unknown error while get support info",errorString:String(e)},noSupportReason:LN.NO_MSE}}))}function Md(e){var t,r=void 0!==e.stream.drmConfig,n=(null===(t=e.stream.drmConfig)||void 0===t?void 0:t.servers)||{},o=OF.some((function(e){return e in n}));return!(r&&!o)&&NN(e.stream.url)}function Vd(e){return(Vd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bd(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==Vd(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}Bd=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=kF);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function Ud(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Gd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ud(Object(r),!0).forEach((function(t){Hd(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ud(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Hd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yd(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):kF.resolve(c).then(n,o)}function qd(e){return function(){var t=this,r=arguments;return new kF((function(n,o){function i(e){Yd(u,n,o,i,a,"next",e)}function a(e){Yd(u,n,o,i,a,"throw",e)}var u=e.apply(t,r);i(void 0)}))}}function Wd(e){return Kd.apply(this,arguments)}function Kd(){return(Kd=qd(Bd().mark((function e(t){var r,n,o,i,a,u,c,s,l;return Bd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.stream,n=t.video,o=t.preferNative,i=r.drmConfig,a=r.url,CN(a)){e.next=4;break}return e.abrupt("return",{supported:!1,debugInfo:{cloud:!0},noSupportReason:LN.INVALID_STREAM_URL});case 4:e.next=8;break;case 8:if(u=NN(a),c=DN(a),!FN(a)){e.next=13;break}return e.abrupt("return",Nd());case 13:if(u||c){e.next=15;break}return e.abrupt("return",{supported:!1,debugInfo:{},noSupportReason:LN.NO_SUPPORTED_FORMAT});case 15:if(!u){e.next=25;break}if(e.t1=vF,e.t1){e.next=22;break}return e.next=21,Fd();case 21:e.t1=vF=e.sent;case 22:e.t0=e.t1,e.next=28;break;case 25:return e.next=27,td({stream:r,preferNative:o});case 27:e.t0=e.sent;case 28:if((s=e.t0).supported){e.next=31;break}return e.abrupt("return",s);case 31:if(void 0!==i&&(0,N_.K)(i)){e.next=35;break}if(!Md({stream:r})){e.next=34;break}return e.abrupt("return",Gd(Gd({},s),{},{engine:hT.YASP}));case 34:return e.abrupt("return",s);case 35:return e.next=37,Cd(i,n);case 37:if(!(l=e.sent)){e.next=42;break}if(!Md({stream:r})){e.next=41;break}return e.abrupt("return",Gd(Gd({},s),{},{engine:hT.YASP}));case 41:return e.abrupt("return",s);case 42:return e.abrupt("return",{supported:!1,debugInfo:{isStreamDRMSupported:l,previousSupportInfo:s},noSupportReason:LN.NO_SUPPORTED_DRM});case 43:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zd(e){return(zd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qd(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==zd(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}Qd=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=_F);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function Zd(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):_F.resolve(c).then(n,o)}function $d(e){var t=e.streams,r=e.video,n=e.preferNative;return _F.all(t.map(function(){var e,t=(e=Qd().mark((function e(t){return Qd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,Wd({stream:t,video:r,preferNative:n});case 3:return e.t1=e.sent,e.abrupt("return",{stream:e.t0,supportInfo:e.t1});case 5:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new _F((function(n,o){function i(e){Zd(u,n,o,i,a,"next",e)}function a(e){Zd(u,n,o,i,a,"throw",e)}var u=e.apply(t,r);i(void 0)}))});return function(e){return t.apply(this,arguments)}}()))}function Jd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Xd(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xd(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xd(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return th(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return th(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function th(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rh(e){var t=HP(e);if(0!==t.length){var r=t.find((function(e){return e.supportInfo.engine===hT.NATIVE})),n=function(e){var t,r=e.filter((function(e){return e.supportInfo.engine===hT.YASP}));if(0===r.length)return null;var n=r[0],o=null===(t=n.stream.drmConfig)||void 0===t?void 0:t.servers;return!o||xF.some((function(e){return e in o}))?n:jx.xE in o&&r.find((function(e){return xF.some((function(t){var r,n;return null===(r=e.stream.drmConfig)||void 0===r||null===(n=r.servers)||void 0===n?void 0:n[t]}))}))||n}(t),o=TF.major>=15&&!(Bj&&function(e){var t=!1;e&&(t=Uj(PF.T,(function(t){return e.startsWith("https://".concat(t,"/live/"))||e.startsWith("https://".concat(t,"/kal/"))})));return t}(null===n||void 0===n?void 0:n.stream.url)),i=RF.major>17||17===RF.major&&RF.minor>=1;if(bP&&!o&&!i&&r)return r;if(n)return n;var a=t.find((function(e){return e.supportInfo.engine!==hT.MP4}));return a||t[0]}}function nh(e){return(nh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oh(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==nh(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}oh=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=LF);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function ih(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):LF.resolve(c).then(n,o)}function ah(e){return function(){var t=this,r=arguments;return new LF((function(n,o){function i(e){ih(u,n,o,i,a,"next",e)}function a(e){ih(u,n,o,i,a,"throw",e)}var u=e.apply(t,r);i(void 0)}))}}function uh(e,t){return ch.apply(this,arguments)}function ch(){return(ch=ah(oh().mark((function e(t,r){var n,o;return oh().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.streams.length){e.next=2;break}return e.abrupt("return",{status:"error",error:new cT({code:P_.NO_STREAMS,details:{},isFatal:!0}),streamsWithSupportInfo:[]});case 2:return e.next=4,$d(t);case 4:if(n=e.sent,o=rh(n)){e.next=8;break}return e.abrupt("return",{status:"error",error:Yf(n),streamsWithSupportInfo:n});case 8:return n.find((function(e){var t;return St(e.supportInfo)&&(null===(t=e.supportInfo.debugInfo)||void 0===t?void 0:t.message)===qN}))&&r({event:LP.SourceOpenEventTimeout,params:{}}),e.abrupt("return",{status:"success",supportedStream:o,streamsWithSupportInfo:n});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sh(e){return PF.T.indexOf((0,Lx.en)(e).hostname)>-1}function lh(e){if(sh(e)){var t=(0,Lx.en)(e),r=t.protocol,n=t.host;return"".concat(r,"//").concat(n,"/ping")}}function fh(e){return(fh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dh(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==fh(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}dh=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=IF);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function hh(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):IF.resolve(c).then(n,o)}function ph(e){return function(){var t=this,r=arguments;return new IF((function(n,o){function i(e){hh(u,n,o,i,a,"next",e)}function a(e){hh(u,n,o,i,a,"throw",e)}var u=e.apply(t,r);i(void 0)}))}}function vh(e,t){return yh.apply(this,arguments)}function yh(){return(yh=ph(dh().mark((function e(t,r){return dh().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,pL.W)({url:t,withCredentials:r,method:"GET",checkStatus:function(e){return 0!==e},retries:3});case 3:return e.abrupt("return",!1);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function mh(e,t){return gh.apply(this,arguments)}function gh(){return(gh=ph(dh().mark((function e(t,r){var n,o;return dh().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=lh(t),o=n||(0,Lx.Ou)((0,jF.c)(t),"abd","1"),e.abrupt("return",vh(o,!(0,I_.H)(n)&&r));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wh(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bh(Object(r),!0).forEach((function(t){Sh(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bh(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Sh(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eh(e){var t=e.additionalParams,r=void 0===t?xx:t;if((0,N_.K)(e.adConfig)){var n=e.adConfig,o=n.partnerId,i=n.adBreaks;if(o||i)return wh(wh({},e.adConfig),{},{additionalParams:r})}}function Oh(e){if(void 0===e||isNaN(e))return"unknown";for(var t=0;t<NF.length;t++)if(e<NF[t].end)return NF[t].name;return"unknown"}function kh(e,t){return t&&"boolean"===typeof t.withCredentials?t.withCredentials:!!sh(e.url)||oN.withCredentials}function _h(e){if(void 0===e||isNaN(e))return"unknown";for(var t=0;t<FF.length;t++)if(e<FF[t].end)return FF[t].name;return"unknown"}function Ah(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Th(e){return(Th="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ph(e){return function(e){if(Array.isArray(e))return xh(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return xh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xh(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xh(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Rh(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Lh(e,t){return(Lh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function jh(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Dh(e);if(t){var o=Dh(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ih(this,r)}}function Ih(e,t){if(t&&("object"===Th(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ch(e)}function Ch(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dh(e){return(Dh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nh(e){return(0,N_.K)(e)&&!1===e.hasPreroll}function Fh(e){return e[0]}function Mh(e){return Array.isArray(e)}function Vh(e){var t=GF("playerapi-numbers-session-storage-key"),r=(0,j_.Y)((function(){return JSON.parse(t||"")}));return function(e,t){var r=e.find((function(e){return!!Mh(e)&&Fh(e)===t}));return void 0===r?void 0:r[1]}(Array.isArray(r)?r:[],e)}function Bh(e,t){var r=GF("playerapi-numbers-session-storage-key"),n=(0,j_.Y)((function(){return JSON.parse(r||"")})),o=Array.isArray(n)?n:[];UF("playerapi-numbers-session-storage-key",JSON.stringify(function(e,t,r){var n=function(e,t){return[e,t]}(t,r),o=e.findIndex((function(e){return!!Mh(e)&&Fh(e)===t}));for(0===o?e[0]=n:(o>0&&e.splice(o,1),e.splice(0,0,n));10<e.length;)e.pop();return e}(o,e,t)))}function Uh(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Gh(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hh(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function Yh(e,t){try{e.details||(e.details={}),e.details.stage=t}catch(r){}}function qh(e,t){return BN(e)?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=(0,DP.i)(e),r=t.match(/YaBrowser\/([\d.]+)/),n=r&&r[1]||"";return n?parseFloat(n):-1}(e)<18.6?"pip":"x-yandex-pip":"disablePictureInPicture"in t?"disablePictureInPicture":void 0}function Wh(e,t,r){var n=qh(e,r);n&&(t?r.removeAttribute(n):r.setAttribute(n,"true"))}function Kh(e,t){return e.responseStart-t.responseStart}function zh(e){return e.responseStart-e.requestStart}function Qh(){if("undefined"===typeof window.performance)return NaN;var e=qF.reduce((function(e,t){return(0,YF.Z)(e,function(e){try{return e.performance.getEntriesByType("resource").filter((function(e){var t=e.name,r=e.transferSize,n=e.responseStart,o=e.requestStart;return"string"===typeof t&&r>0&&n>0&&o>0}))}catch(t){return[]}}(t),Kh)}),[]).filter((function(e){var t=e.name;return WF.j.test(t)}));return 0===e.length?NaN:e.reduce((function(e,t){return(1.3*e+.7*zh(t))/2}),zh(e[0]))}function Zh(e){return(Zh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $h(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==Zh(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}$h=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=$F);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function Jh(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):$F.resolve(c).then(n,o)}function Xh(e){return(Xh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ep(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==Xh(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}ep=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=tM);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function tp(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):tM.resolve(c).then(n,o)}function rp(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function np(e,t,r){return t&&rp(e.prototype,t),r&&rp(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function op(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ip(e){return(ip="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ap(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function up(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cp(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function sp(e,t){return(sp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function lp(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=hp(e);if(t){var o=hp(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return fp(this,r)}}function fp(e,t){if(t&&("object"===ip(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return dp(e)}function dp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hp(e){return(hp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{bubbles:!1,cancelable:!1,detail:void 0};if("function"===typeof CustomEvent)return new CustomEvent(e,t);var r=document.createEvent("CustomEvent");return r.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),r}function yp(e){return(yp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gp(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function bp(e,t){return(bp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function wp(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Op(e);if(t){var o=Op(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Sp(this,r)}}function Sp(e,t){if(t&&("object"===yp(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ep(e)}function Ep(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Op(e){return(Op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _p(e){return(_p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ap(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tp(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Pp(){return(Pp="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=xp(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function xp(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Cp(e)););return e}function Rp(e,t){return(Rp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Lp(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Cp(e);if(t){var o=Cp(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return jp(this,r)}}function jp(e,t){if(t&&("object"===_p(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ip(e)}function Ip(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cp(e){return(Cp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Np(e,t){for(var r=0;r<e.length;r++)t.id!==e[r].id&&(e[r].enabled=!1)}function Fp(e){if(void 0!==e)for(;e.length>0;)e.removeTrack(e[0])}function Mp(e){return(Mp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vp(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Bp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Up(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Gp(e,t){return(Gp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Hp(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Wp(e);if(t){var o=Wp(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Yp(this,r)}}function Yp(e,t){if(t&&("object"===Mp(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return qp(e)}function qp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wp(e){return(Wp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zp(e){return(zp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zp(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $p(){return($p="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=Jp(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function Jp(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=nv(e)););return e}function Xp(e,t){return(Xp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ev(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=nv(e);if(t){var o=nv(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return tv(this,r)}}function tv(e,t){if(t&&("object"===zp(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return rv(e)}function rv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nv(e){return(nv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ov(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iv(e,t){for(var r=0;r<e.length;r++)Object.keys(e[r]).length&&t.id!==e[r].id&&(e[r].selected=!1)}function av(e){return(av="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function cv(e,t){return(cv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function sv(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=fv(e);if(t){var o=fv(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return lv(this,r)}}function lv(e,t){if(t&&("object"===av(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function fv(e){return(fv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function hv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dv(Object(r),!0).forEach((function(t){pv(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dv(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pv(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vv(e){if("function"===typeof e.getVideoPlaybackQuality){var t=e.getVideoPlaybackQuality();return{droppedVideoFrames:t.droppedVideoFrames,corruptedVideoFrames:t.corruptedVideoFrames,totalVideoFrames:t.totalVideoFrames}}var r=e;return"number"===typeof r.webkitDroppedFrameCount&&"number"===typeof r.webkitDecodedFrameCount?hv(hv({},gM),{},{droppedVideoFrames:r.webkitDroppedFrameCount,totalVideoFrames:r.webkitDecodedFrameCount}):gM}function yv(e){return(yv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function gv(e,t){return(gv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function bv(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Ev(e);if(t){var o=Ev(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return wv(this,r)}}function wv(e,t){if(t&&("object"===yv(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Sv(e)}function Sv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ev(e){return(Ev=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ov(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Av(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return Tv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tv(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function Tv(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Pv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xv(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rv(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return Lv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lv(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function Lv(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Iv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Cv(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Nv(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Mv(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vv(e){return(Vv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Uv(){return(Uv="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=Gv(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function Gv(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Kv(e)););return e}function Hv(e,t){return(Hv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Yv(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Kv(e);if(t){var o=Kv(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return qv(this,r)}}function qv(e,t){if(t&&("object"===Vv(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Wv(e)}function Wv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kv(e){return(Kv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zv(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Zv(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $v(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function Jv(e,t,n){var o={};o[n]=[];var i=t.toString(),a=i.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/)||i.match(/^\(\w+,\s*\w+,\s*(\w+)\)\s?\=\s?\>/);if(!a)return o;for(var u,c=a[1],s=new RegExp("(\\\\n|\\W)"+$v(c)+"\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)","g");u=s.exec(i);)"dll-reference"!==u[3]&&o[n].push(u[3]);for(s=new RegExp("\\("+$v(c)+'\\("(dll-reference\\s([\\.|\\-|\\+|\\w|/|@]+))"\\)\\)\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)',"g");u=s.exec(i);)e[u[2]]||(o[n].push(u[1]),e[u[2]]=r(u[1]).m),o[u[2]]=o[u[2]]||[],o[u[2]].push(u[4]);for(var l,f=Object.keys(o),d=0;d<f.length;d++)for(var h=0;h<o[f[d]].length;h++)l=o[f[d]][h],isNaN(1*l)||(o[f[d]][h]=1*o[f[d]][h]);return o}function Xv(e){return Object.keys(e).reduce((function(t,r){return t||e[r].length>0}),!1)}function ey(e,t,r,n){var o=e[n].map((function(e){return'"'.concat(e,'": ').concat(t[n][e].toString())})).join(","),i=DM.toString().split("ENTRY_MODULE");return"".concat(i[0],"{").concat(o,"}").concat(i[1],'"').concat(r,'"').concat(i[2])}function ty(e,t){t=t||{};var n={main:r.m},o=t.all?{main:Object.keys(n.main)}:function(e,t){for(var r={main:[t]},n={main:[]},o={main:{}};Xv(r);)for(var i=Object.keys(r),a=0;a<i.length;a++){var u=i[a],c=r[u].pop();if(o[u]=o[u]||{},!o[u][c]&&e[u][c]){o[u][c]=!0,n[u]=n[u]||[],n[u].push(c);for(var s=Jv(e,e[u][c],u),l=Object.keys(s),f=0;f<l.length;f++)r[l[f]]=r[l[f]]||[],r[l[f]]=r[l[f]].concat(s[l[f]])}}return n}(n,e),i="";Object.keys(o).filter((function(e){return"main"!==e})).forEach((function(e){for(var t=0;o[e][t];)t++;o[e].push(t),n[e][t]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",i+="var ".concat(e," = (").concat(ey(o,n,t,modules),")();\n")})),i+="var a = (".concat(ey(o,n,e,"main"),");\ntry {\n    a();\n} catch(e) { console.warn(e); throw e }");var a=window.Blob;try{a=window.top.Blob}catch(d){}var u=new a([i],{type:"text/javascript"});if(t.bare)return u;var c=void 0;try{c=window.top.URL||window.top.webkitURL||window.top.mozURL||window.top.msURL}catch(d){}c=c||window.URL||window.webkitURL||window.mozURL||window.msURL;var s=window.Worker;try{s=window.top.Worker}catch(d){}var l=c.createObjectURL(u),f=new s(l);return f.objectURL=l,f}function ry(e){return(ry="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ny(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==ry(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}ny=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=VM);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function oy(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):VM.resolve(c).then(n,o)}function iy(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ay(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uy(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function cy(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sy(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ly(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function dy(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fy(Object(r),!0).forEach((function(t){py(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fy(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function hy(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function py(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vy(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function yy(e){switch(e.source){case"default":case"default-slow":case"cache":case"timing-api":case"network-api":case"ewma":case"hlsjs":case"external-yasp":return e;default:return{value:e.value,source:"external-yasp"}}}function my(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function gy(e){if(!isNaN(e.value)&&XM.includes(e.source)){var t={bandwidthEstimate:Math.floor(e.value),time:$M(),source:e.source};mx.t.setItem("videoplayer-bandwidth-estimate",JSON.stringify(t))}}function by(){try{var e=mx.t.getItem("videoplayer-bandwidth-estimate");if(!e)return NaN;var t=JSON.parse(e),r=t.bandwidthEstimate,n=t.time,o=t.source;return XM.includes(o)&&$M()-n<JM?r:NaN}catch(i){return NaN}}function wy(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return Sy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sy(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function Sy(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ey(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oy(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ky(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ay(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ty(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Py(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xy(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ry(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ly(e,t){return(0,yM.Hi)(e)===(0,yM.Hi)(t)}function jy(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Iy(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cy(e){return e.startsWith("DETACHED_")?e:"DETACHED_".concat(e)}function Dy(e){return(Dy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ny(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==Dy(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}Ny=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=dV);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function Fy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function My(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fy(Object(r),!0).forEach((function(t){Zy(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fy(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Vy(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):dV.resolve(c).then(n,o)}function By(e){return function(){var t=this,r=arguments;return new dV((function(n,o){function i(e){Vy(u,n,o,i,a,"next",e)}function a(e){Vy(u,n,o,i,a,"throw",e)}var u=e.apply(t,r);i(void 0)}))}}function Uy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gy(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Hy(){return(Hy="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=Yy(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function Yy(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Qy(e)););return e}function qy(e,t){return(qy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Wy(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Qy(e);if(t){var o=Qy(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ky(this,r)}}function Ky(e,t){if(t&&("object"===Dy(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return zy(e)}function zy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qy(e){return(Qy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zy(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $y(e){var t;return t=function(e){function t(){var e;Uy(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return Zy(zy(e=s.call.apply(s,[this].concat(n))),"airplayController",void 0),Zy(zy(e),"progressWatcher",void 0),Zy(zy(e),"yaspEventListeners",void 0),Zy(zy(e),"yaspErrorListeners",void 0),Zy(zy(e),"gapController",void 0),Zy(zy(e),"eventsWatcher",void 0),Zy(zy(e),"playheadMover",void 0),Zy(zy(e),"srcSetDeferred",void 0),Zy(zy(e),"detachCallbacks",void 0),Zy(zy(e),"playCalled",void 0),Zy(zy(e),"shouldPlay",void 0),Zy(zy(e),"restorePrototype",void 0),Zy(zy(e),"yaspSrc",void 0),Zy(zy(e),"yaspError",null),Zy(zy(e),"error",null),Zy(zy(e),"audioTrackList",void 0),Zy(zy(e),"mediaStateNotifier",void 0),Zy(zy(e),"stallDetector",null),Zy(zy(e),"yaspSeekable",void 0),Zy(zy(e),"startTime",NaN),e}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qy(e,t)}(t,e);var r,n,o,i,a,u,c,s=Wy(t);return r=t,n=[{key:"checkShouldPlay",value:function(){return this.shouldPlay}},{key:"airplaySrc",get:function(){var e;return null===(e=this.airplayController)||void 0===e?void 0:e.airplaySrc},set:function(e){this.airplayController&&(this.airplayController.airplaySrc=e)}},{key:"audioTracks",get:function(){var e;return this.yaspSrc?this.audioTrackList:null!==(e=Hy(Qy(t.prototype),"audioTracks",this))&&void 0!==e?e:this.audioTrackList}},{key:"canPlayType",value:function(e){return Hy(Qy(t.prototype),"canPlayType",this).call(this,e)}},{key:"rethrowEmptySrc",value:function(e){e||(0,xR.L)(new Error("Setting empty src"))}},{key:"getAttribute",value:function(e){return"src"===e&&void 0!==this.yaspSrc?this.yaspSrc:Hy(Qy(t.prototype),"getAttribute",this).call(this,e)}},{key:"setAttribute",value:function(e,r){return"src"===e?(this.rethrowEmptySrc(r),this.setSrc(r)):Hy(Qy(t.prototype),"setAttribute",this).call(this,e,r)}},{key:"removeAttribute",value:function(e){"src"===e&&this.setSrc(""),Hy(Qy(t.prototype),"removeAttribute",this).call(this,e)}},{key:"src",get:function(){var e;return void 0===this.yaspSrc?null!==(e=HTMLMediaElement.prototype.getAttribute.call(this,"src"))&&void 0!==e?e:"":this.yaspSrc},set:function(e){this.rethrowEmptySrc(e),this.setSrc(e)}},{key:"addEventListener",value:function(e,r,n){var o;if(Hy(Qy(t.prototype),"addEventListener",this).call(this,e,r,n),"yasp-event"===e)null===(o=this.yaspEventListeners)||void 0===o||o.add(r);else if("yasp-error"===e){var i;null===(i=this.yaspErrorListeners)||void 0===i||i.add(r)}}},{key:"removeEventListener",value:function(e,r,n){var o;if(Hy(Qy(t.prototype),"removeEventListener",this).call(this,e,r,n),"yasp-event"===e)null===(o=this.yaspEventListeners)||void 0===o||o.delete(r);else if("yasp-error"===e){var i;null===(i=this.yaspErrorListeners)||void 0===i||i.delete(r)}}},{key:"yasp",get:function(){return!0}},{key:"getMediaElementDebugDump",value:function(){var e=this.paused,r=this.seeking,n=this.yaspError,o=this.yaspSeekable,i=this.currentTime,a=this.yaspSrc,u=this.readyState,c=qM.getTimeRanges(t.getNativeSeekableAndInitYaspSeekable(this)),s=t.getNativeErrorAndAttachErrorStore(this),l=(0,AM.w)(this);return{error:s,yaspError:n,paused:e,seeking:r,seekable:c,yaspSeekable:o,buffered:l,bufferedTime:nc(l,this.currentTime),currentTime:i,src:HTMLMediaElement.prototype.getAttribute.call(this,"src"),yaspSrc:a,readyState:u}}},{key:"yaspRequestDebugInfo",value:(c=By(Ny().mark((function e(){var r,n,o;return Ny().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={mediaElement:My({},this.getMediaElementDebugDump()),time:A_()/1e3,mediaEventsHistory:null===(r=this.eventsWatcher)||void 0===r?void 0:r.getEventHistory()},e.next=3,t.worker.request({method:"requestDebugInfo",params:{source:this.yaspSrc}});case 3:return o=e.sent,e.abrupt("return",My(My({},n),o));case 5:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"detach",value:(u=By(Ny().mark((function e(){var r,n,o,i,a,u,c,s,l=this;return Ny().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===this.yaspSrc){e.next=3;break}return e.next=3,t.worker.request({method:"detach",params:{source:this.yaspSrc}});case 3:this.detachCallbacks&&(this.detachCallbacks.filter(Boolean).forEach(function(){var e=By(Ny().mark((function e(t){return Ny().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),(0,xR.L)(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()),this.detachCallbacks.length=0,delete this.detachCallbacks),null===(r=this.yaspErrorListeners)||void 0===r||r.clear(),this.yaspErrorListeners=void 0,null===(n=this.yaspEventListeners)||void 0===n||n.clear(),this.yaspEventListeners=void 0,null===(o=this.gapController)||void 0===o||o.release(),this.stallDetector=null,this.gapController=void 0,null===(i=this.progressWatcher)||void 0===i||i.release(),this.progressWatcher=void 0,null===(a=this.eventsWatcher)||void 0===a||a.release(),this.eventsWatcher=void 0,null===(u=this.playheadMover)||void 0===u||u.release(),this.playheadMover=void 0,this.restore(),this.removeEventListener("progress",this.onSegmentAppended),this.removeEventListener("seeking",this.onSeeking),this.removeEventListener("canplay",this.onCanPlay),this.removeEventListener("error",this.onNativeError),this.removeAttribute("src"),t.messenger.emit("yasp-event",{name:"YaspDetached",data:void 0}),null===(c=this.restorePrototype)||void 0===c||c.call(this),this.restorePrototype=void 0,t.instances=t.instances.filter((function(e){return e!==l})),null===(s=this.mediaStateNotifier)||void 0===s||s.disable();case 28:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"yaspDispatchEvent",value:function(e,r,n){var o=new CustomEvent(e,My({detail:r},n));Hy(Qy(t.prototype),"dispatchEvent",this).call(this,o)}},{key:"handleError",value:function(e){e.isFatal?(this.yaspError=this.createMediaError(MediaError.MEDIA_ERR_NETWORK,e.message,e),this.yaspDispatchEvent("error",void 0)):("YASP_BUFFER_ALLOCATION_ERROR"===e.code&&(e.details.memory=self?lo((self.performance||{}).memory):{}),this.yaspDispatchEvent("yasp-error",e,{cancelable:!0}))}},{key:"yaspSetAudioTrack",value:function(e){e&&t.configureSource(this.src,{tracks:{audioLang:e}})}},{key:"initAudioTrackList",value:function(){var e=this;if(void 0===this.audioTrackList){var r=new fM;r.addEventListener("change",(function(){(0,yP.w)(r).find((function(r){r.enabled&&t.configureSource(e.src,{tracks:{audioLang:r.language}})}));var n=new Event("change");(0,j_.Y)((function(){Hy(Qy(t.prototype),"audioTracks",e).dispatchEvent(n)}))})),this.audioTrackList=r}}},{key:"updateObjectUrl",value:function(e){this.rethrowEmptySrc(e),"string"===typeof e?HTMLMediaElement.prototype.setAttribute.call(this,"src",e):this.srcObject=e}},{key:"registerRpcHandlerForInstance",value:function(e,r){var n=this;this.detachCallbacks.push(t.worker.registerRpcHandler(e,(function(e){return t.isCurrentSrc(n,"source"in e?e.source:null)?r(e):{done:!1,value:void 0}})))}},{key:"registerMediaRpcHandlers",value:function(){var e=this;this.registerRpcHandlerForInstance("setStartInfo",(function(t){var r,n;return e.updateObjectUrl(t.objectUrl),e.setStartPosition(t.startPosition),e.readyState<HTMLMediaElement.HAVE_METADATA&&e.addEventListener("loadedmetadata",(function(){Ly(e.yaspSrc,t.source)&&e.setStartPosition(t.startPosition)}),{once:!0}),null===(r=e.mediaStateNotifier)||void 0===r||r.handleTimeupdate(),null===(n=e.srcSetDeferred)||void 0===n||n.resolve(),{done:!0,value:void 0}})),this.registerRpcHandlerForInstance("addAudioTrack",(function(t){var r,n,o;return(null===(r=e.audioTrackList)||void 0===r?void 0:r.getTrackById(t.track.id))&&Ly(e.yaspSrc,t.source)||null===(n=e.audioTrackList)||void 0===n||n.addTrack(new cM({enabled:t.track.selected,label:t.track.label,language:null!==(o=t.track.language)&&void 0!==o?o:void 0,id:t.track.id,kind:t.track.kind,bitrate:t.track.bitrate,channels:t.track.channels})),{done:!0,value:void 0}})),this.registerRpcHandlerForInstance("changeSelectedAudioLanguage",(function(t){if(!e.audioTrackList)return{done:!0,value:void 0};for(var r=0;r<e.audioTrackList.length;r++)e.audioTrackList[r].enabled=e.audioTrackList[r].language===t.language;return{done:!0,value:void 0}})),this.registerRpcHandlerForInstance("applyDrmInfos",(function(t){return e.yaspDispatchEvent("yasp-drmInfoReceived",t.drmInfos,{cancelable:!0}),{done:!0,value:void 0}})),this.registerRpcHandlerForInstance("notifyWaitForKey",(function(t){return e.yaspDispatchEvent("yasp-waitForKey",t,{cancelable:!0}),{done:!0,value:void 0}})),this.registerRpcHandlerForInstance("emsg",(function(t){return e.yaspDispatchEvent("yasp-emsg",t.emsg,{cancelable:!0}),{done:!0,value:void 0}})),this.registerRpcHandlerForInstance("logSegmentLoaded",(function(t){var r="[SegmentLoader] loaded type = ".concat(t.info.type,", number = ").concat(t.info.number,", cmaf = ").concat(t.info.cmaf);return e.yaspDispatchEvent("yasp-debug",r,{cancelable:!0}),{done:!0,value:void 0}})),this.registerRpcHandlerForInstance("updateUtcStartTime",(function(t){return e.startTime=t.time,{done:!0,value:void 0}})),this.registerRpcHandlerForInstance("updateSeekableRange",(function(t){return e.yaspSeekable={start:t.start,end:t.end},{done:!0,value:void 0}})),this.registerRpcHandlerForInstance("urlObjectUpdated",(function(t){var r=e.currentTime;return e.updateObjectUrl(t.objectUrl),e.currentTime=r,{done:!0,value:void 0}})),this.registerRpcHandlerForInstance("flushMediaPipeline",(function(t){return 0===e.buffered.length&&(e.currentTime-=.001),{done:!0,value:void 0}})),this.registerRpcHandlerForInstance("event",(function(t){var r,n=t.source,o=t.event;return Ly(n,e.yaspSrc)&&null!==(r=e.yaspEventListeners)&&void 0!==r&&r.size?(e.yaspDispatchEvent("yasp-event",o,{cancelable:!0}),{done:!0,value:void 0}):{done:!1,value:void 0}})),this.registerRpcHandlerForInstance("error",(function(r){var n,o=r.error;if(Ly(r.source,e.yaspSrc)&&null!==(n=e.yaspErrorListeners)&&void 0!==n&&n.size){var i=t.parseErrorString(o);return e.handleError(i),{done:!0,value:void 0}}return{done:!1,value:void 0}}))}},{key:"setStartPosition",value:function(e){var t;e<=0||null===this.clampPosition(e)&&((0,$P.RW)("yasp_no_source_abort_on_fake_seek")&&this.currentTime===e||null===(t=this.playheadMover)||void 0===t||t.moveTo(e))}},{key:"forceTimeUpdate",value:function(){var e;null===(e=this.mediaStateNotifier)||void 0===e||e.handleTimeupdate()}},{key:"clearTrackLists",value:function(){Fp(this.audioTrackList)}},{key:"createMediaError",value:function(e,t,r){var n=r;if(this.error)try{var o="string"===typeof(null===r||void 0===r?void 0:r.details)?My(My({},JSON.parse(r.details)),{},{mediaTagError:this.error}):My(My({},r.details),{},{mediaTagError:this.error});n=new WM.w(My(My({},r),{},{details:o}))}catch(i){}return{code:e,message:t,yaspError:n}}},{key:"initNativeErrorHandling",value:function(){this.addEventListener("error",this.onNativeError)}},{key:"onNativeError",value:function(){this.yaspSrc&&t.getNativeErrorAndAttachErrorStore(this)&&t.worker.sendEvent({method:"destroy",params:{source:this.yaspSrc,reason:"Error"}})}},{key:"initEventsWatcher",value:function(){var e=this;this.eventsWatcher=new lV(this,(function(){return e.getMediaElementDebugDump()}))}},{key:"initPlayheadMover",value:function(){this.playheadMover=new iV(this,3)}},{key:"initWatchdog",value:function(){var e=this;this.initStallDetector(),this.gapController||(this.gapController=new HM(this,{getSeekRangeEnd:function(){return e.seekable.end(0)}},{jumpLargeGaps:!0,jumpOnPause:!0,largeGapLimit:KD},this.stallDetector,(function(t){var r;null===(r=e.eventsWatcher)||void 0===r||r.pushCustomEvent({event:"YaspLargeGap",timestamp:Date.now(),dump:t}),e.yaspDispatchEvent("yasp-event",{name:"YaspLargeGap",data:t},{cancelable:!0})})),this.addEventListener("seeking",this.onSeeking),this.addEventListener("canplay",this.onCanPlay),this.addEventListener("progress",this.onSegmentAppended),this.progressWatcher=new oV(this))}},{key:"onCanPlay",value:function(){var e;null===(e=this.gapController)||void 0===e||e.configure({jumpOnPause:!1}),this.shouldPlay&&(0,mP.v)(this.play())}},{key:"onSegmentAppended",value:function(){var e;null===(e=this.gapController)||void 0===e||e.onSegmentAppended()}},{key:"clampPosition",value:function(e){if(!this.seekable.length)return null;var t=this.seekable.end(this.seekable.length-1),r=this.seekable.start(0);return e<=t||t-r<=nV.C?null:(this.currentTime=t-nV.C,this.currentTime)}},{key:"onSeeking",value:function(){var e,r=this;if(null===this.clampPosition(this.currentTime))if(null===(e=this.gapController)||void 0===e||e.configure({jumpOnPause:!0}),!qM.isBuffered(this.buffered,this.currentTime,.5)&&this.yaspSrc){var n,o;(0,$P.RW)("yasp_no_source_abort_on_fake_seek")&&(null===(n=this.gapController)||void 0===n||n.lock(),null===(o=this.gapController)||void 0===o||o.onSeeking()),t.worker.request({method:"seeking",params:{source:this.yaspSrc,currentTime:this.currentTime}}).then(By(Ny().mark((function e(){var t,n,o;return Ny().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,$P.RW)("yasp_no_source_abort_on_fake_seek")?null===(t=r.gapController)||void 0===t||t.unlock():null===(n=r.gapController)||void 0===n||n.onSeeking(),bP&&dV.resolve().then(null===(o=r.mediaStateNotifier)||void 0===o?void 0:o.handleTimeupdate);case 2:case"end":return e.stop()}}),e)})))).catch((function(){var e;(0,$P.RW)("yasp_no_source_abort_on_fake_seek")&&(null===(e=r.gapController)||void 0===e||e.unlock())}))}else{var i;null===(i=this.gapController)||void 0===i||i.onSeeking()}}},{key:"updateShouldPlayState",value:function(e){this.shouldPlay=e}},{key:"play",value:(a=By(Ny().mark((function e(){var r;return Ny().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.playCalled=!0,this.updateShouldPlayState(!0),this.yaspSrc&&"none"===this.preload&&t.worker.sendEvent({method:"load",params:{source:this.yaspSrc}}),HTMLMediaElement.prototype.getAttribute.call(this,"src")||this.srcObject){e.next=6;break}return e.next=6,null===(r=this.srcSetDeferred)||void 0===r?void 0:r.promise;case 6:if(this.playCalled){e.next=8;break}return e.abrupt("return");case 8:return this.playCalled=!1,this.handleLivePresentationWindowDropout(),e.abrupt("return",Hy(Qy(t.prototype),"play",this).call(this));case 11:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"pause",value:function(){this.playCalled=!1,this.updateShouldPlayState(!1),Hy(Qy(t.prototype),"pause",this).call(this)}},{key:"isSupportedSrc",value:function(e){return NN(e)}},{key:"initAirplayController",value:function(){var e=this;this.airplayController||(this.airplayController=new fV(this,(function(t){return e.logAirplayStateChange(t)})))}},{key:"logAirplayStateChange",value:function(e){this.yaspDispatchEvent("yasp-event",{name:"AirplayStateChange",data:{enabled:e}})}},{key:"setSrc",value:function(e){var r,n,o;if(this.yaspSrc&&(t.worker.sendEvent({method:"detach",params:{source:this.yaspSrc}}),this.yaspSrc=void 0,this.clearSrcFromNativeElements(),this.srcSetDeferred=void 0,null===(r=this.mediaStateNotifier)||void 0===r||r.disable(),this.clearTrackLists(),this.restore()),this.srcSetDeferred=new dL.B,this.isSupportedSrc(e))return this.airplayController&&this.airplayController.airplayEnabled?void(this.airplayController.detachedSrc=e):(this.yaspSrc=e,t.worker.sendEvent({method:"attach",params:{source:e}}),null===(n=this.mediaStateNotifier)||void 0===n||n.enable(),null===(o=this.gapController)||void 0===o||o.configure({jumpOnPause:!0}),"none"!==this.preload&&t.worker.sendEvent({method:"load",params:{source:e}}),void(t.shouldSaveBandwidth&&t.worker.sendEvent({method:"configureSource",params:{source:e,config:{defaultBandwidthEstimate:t.getDefaultBandwidthEstimate()}}})));e?HTMLMediaElement.prototype.setAttribute.call(this,"src",e):HTMLMediaElement.prototype.removeAttribute.call(this,"src")}},{key:"clearSrcFromNativeElements",value:function(){this.srcObject=null,HTMLMediaElement.prototype.removeAttribute.call(this,"src")}},{key:"initStallDetector",value:function(){var e=this;this.stallDetector||(this.stallDetector=new rV(this,(function(){var t;null===(t=e.eventsWatcher)||void 0===t||t.pushCustomEvent({event:"YaspNudgeStalled",timestamp:Date.now(),dump:e.getMediaElementDebugDump()}),e.yaspDispatchEvent("yasp-event",{name:"YaspNudgeStalled",data:void 0},{cancelable:!0})})))}},{key:"restore",value:function(){this.startTime=NaN,this.yaspSeekable=void 0}},{key:"handleLivePresentationWindowDropout",value:function(){this.duration===1/0&&this.seekable.length&&this.currentTime<this.seekable.start(0)&&(this.currentTime=this.seekable.end(this.seekable.length-1))}},{key:"getStartDate",value:function(){return this.yaspSrc||"function"!==typeof Hy(Qy(t.prototype),"getStartDate",this)?new Date(this.startTime):new Date(Hy(Qy(t.prototype),"getStartDate",this).call(this))}}],o=[{key:"isSupported",value:function(){var e;return"function"===typeof(null===(e=(0,MN.Q)())||void 0===e?void 0:e.isTypeSupported)}},{key:"isCurrentSrc",value:function(e,r){return!(null===r||!t.isYaspElement(e))&&Ly(e.yaspSrc,r)}},{key:"getDefaultBandwidthEstimate",value:function(){var e=t.bandwidth;if(e)return yy(e);var r=by();return r?{value:r,source:"cache"}:{value:ZM.S,source:"default"}}},{key:"attachElement",value:function(e,r,n){if(!t.isSupported())throw new Error("Unsupported platform");if(t.isYaspElement(r))return(0,xR.L)(new Error("Unexpected YaspMediaElement.attach(yaspMediaElement) call")),r;t.setWorkerConfig(n);var o=_t(r);L_()(r,e.prototype);var i=r;i.restorePrototype=o,i.detachCallbacks=[],i.yaspEventListeners=new Set,i.yaspErrorListeners=new Set,i.registerMediaRpcHandlers(),i.initAudioTrackList(),i.initPlayheadMover(),i.initWatchdog(),i.initEventsWatcher(),i.initNativeErrorHandling(),i.initAirplayController();var a=t.overrideYaspGetters(i);return i.detachCallbacks.push(a),t.instances.push(i),i}},{key:"warmUp",value:function(){(0,gT.Z)(t.worker)}},{key:"destroy",value:(i=By(Ny().mark((function e(){var r;return Ny().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dV.all(t.instances.map((function(e){return e.detach()})));case 2:null===(r=t.workerImpl)||void 0===r||r.destroy();case 3:case"end":return e.stop()}}),e)}))),function(){return i.apply(this,arguments)})},{key:"hasActiveInstance",value:function(){return Boolean(t.instances.length)}},{key:"overrideYaspGetters",value:function(e){var r=t.initYaspSeekable(e),n=t.attachErrorStore(e),o=t.initYaspCurrentSrc(e);return function(){r(),n(),o()}}},{key:"attachErrorStore",value:function(e){return Object.defineProperty(e,"error",{get:function(){return void 0!==this.yaspError?this.yaspError:t.getNativeErrorAndAttachErrorStore(e)},configurable:!0}),function(){return delete e.error}}},{key:"getNativeErrorAndAttachErrorStore",value:function(e){delete e.error;var r=e.error;return t.attachErrorStore(e),r}},{key:"getNativeSeekableAndInitYaspSeekable",value:function(e){delete e.seekable;var r=e.seekable;return t.initYaspSeekable(e),r}},{key:"isYaspElement",value:function(e){return!0===e.yasp}},{key:"getStats",value:function(){return{bandwidth:t.bandwidth}}},{key:"configureSource",value:function(e,r){var n=r.defaultBandwidthEstimate?yy(r.defaultBandwidthEstimate):void 0;void 0!==n&&(t.shouldSaveBandwidth=!1);var o=n?My(My({},r),{},{defaultBandwidthEstimate:n}):r;t.worker.sendEvent({method:"configureSource",params:{source:e,config:o}})}},{key:"setWorkerConfig",value:function(e){void 0!==e&&(t.workerConfig.sourceLimit=e.sourceLimit,t.workerConfig.perfLogUrl=e.perfLogUrl)}},{key:"worker",get:function(){if(void 0!==t.workerImpl)return t.workerImpl;var e=(0,MN.Q)(),r=!!e&&"canConstructInDedicatedWorker"in e&&Boolean(e.canConstructInDedicatedWorker)&&!bP,n=!(!(0,$P.RW)("web_yasp_enable_worker")||!r)&&Boolean(window.MediaSourceHandle);return t.workerImpl=new BM({useWebWorker:n,workerConfig:My(My({},t.workerConfig),{},{flags:(0,$P.qm)()}),onTerminate:function(){t.messenger.emit("yasp-event",{name:"YaspWorkerTerminate",data:void 0}),t.workerImpl=void 0}}),t.workerImpl.registerStaticRpcHandler("updateBandwidthEstimate",(function(e){return t.bandwidth=e.bandwidth,t.shouldSaveBandwidth&&gy(e.bandwidth),{done:!0,value:void 0}})),t.workerImpl.registerStaticRpcHandler("updateBufferedInfo",(function(e){return t.messenger.emit("BufferedInfoChanged",e),{done:!0,value:void 0}})),t.workerImpl.registerStaticRpcHandler("error",t.globalErrorRpcHandler),t.workerImpl.registerStaticRpcHandler("event",t.globalEventRpcHandler),t.workerImpl}},{key:"parseErrorString",value:function(e){try{return new WM.w(JSON.parse(e))}catch(t){return new WM.w({code:"YASP_PARSE_ERROR_EXCEPTION",details:{error:t,errorString:e},message:"Expect error to be serialized error.",isFatal:!0,category:C_.q.EXCEPTION})}}},{key:"initYaspCurrentSrc",value:function(e){return Object.defineProperty(e,"currentSrc",{get:function(){return this.src},configurable:!0}),function(){return delete e.currentSrc}}},{key:"initYaspSeekable",value:function(e){return Object.defineProperty(e,"seekable",{get:function(){var e=this;return this.yaspSeekable?{start:function(t){if(t>e.length-1)throw new Error("Failed to execute 'start' on 'TimeRanges': The index provided (".concat(t,") is greater than the maximum bound (").concat(e.length-1,")"));return e.yaspSeekable.start},end:function(t){if(t>e.length-1)throw new Error("Failed to execute 'end' on 'TimeRanges': The index provided (".concat(t,") is greater than the maximum bound (").concat(e.length-1,")"));return e.yaspSeekable.end},length:1}:t.getNativeSeekableAndInitYaspSeekable(this)},configurable:!0}),function(){return delete e.seekable}}},{key:"getExpConfig",value:function(){var e=(new QM).getConfig();return{flags:e.flags,testids:e.testids,slots:e.slots}}}],n&&Gy(r.prototype,n),o&&Gy(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(e),Zy(t,"instances",[]),Zy(t,"shouldSaveBandwidth",!0),Zy(t,"bandwidth",void 0),Zy(t,"workerImpl",void 0),Zy(t,"messenger",new IR.v),Zy(t,"workerConfig",{}),Zy(t,"globalErrorRpcHandler",(function(e){var r=e.error,n=e.source,o=t.parseErrorString(r),i=new WM.w(My(My({},o),{},{message:"Detached mediaElement error: ".concat(o.message),isFatal:!1,code:Cy(o.code)}));return o.isFatal&&n&&t.worker.sendEvent({method:"destroy",params:{source:n,reason:"Error"}}),t.messenger.emit("yasp-error",i),{done:!0,value:void 0}})),Zy(t,"globalEventRpcHandler",(function(e){var r=e.event,n=e.isWorkerMessage;return t.messenger.emit("yasp-event",My(My({},r),{},{name:n?r.name:Cy(r.name)})),{done:!0,value:void 0}})),t}function Jy(e){return(Jy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xy(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==Jy(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}Xy=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=hV);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function em(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tm(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?em(Object(r),!0).forEach((function(t){hm(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):em(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function rm(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):hV.resolve(c).then(n,o)}function nm(e){return function(){var t=this,r=arguments;return new hV((function(n,o){function i(e){rm(u,n,o,i,a,"next",e)}function a(e){rm(u,n,o,i,a,"throw",e)}var u=e.apply(t,r);i(void 0)}))}}function om(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function im(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function am(){return(am="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=um(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function um(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=dm(e)););return e}function cm(e,t){return(cm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function sm(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=dm(e);if(t){var o=dm(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return lm(this,r)}}function lm(e,t){if(t&&("object"===Jy(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return fm(e)}function fm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dm(e){return(dm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hm(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pm(e,t){return void 0===t?e:void 0!==function(e){var t=(0,Lx.pp)(e,"t");return void 0===t?t:Number(t)}(e)?(0,Lx.Yc)(e,"t",t):(0,Lx.zP)(e,"t",String(t))}function vm(e,t){var r={audio_mbr:"1",mburl:"1",drm_packager:"1"};return(e.startsWith("https://strm.yandex.ru/live/")||e.startsWith("https://streaming.tst.strm.yandex.net/live/"))&&(r.packager="1",r.lowlatency="1"),(0,Lx.Sr)(pm(e,t),r,{saveOriginalPath:!0})}function ym(e){switch(e){case jx.ly:return QN.widevine;case jx.xE:return QN.playready;case jx.dn:return QN.clearkey;default:return QN.none}}function mm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function gm(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mm(Object(r),!0).forEach((function(t){bm(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mm(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function bm(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wm(e,t){var r=function(){try{return function(e){return{error:String(e.error)||"",isFatal:Boolean(e.isFatal),helpLink:String(e.helpLink)||""}}(JSON.parse(e))}catch(t){return gm(gm({},bV),{},{error:e})}}();return r.isFatal=r.isFatal||!isFinite(t)||t<=0,r}function Sm(e){switch(e.error){case yV.EXPIRED_SIGNATURE:return P_.DRM_PROXY_ERROR_SIGNATURE_EXPIRED;case yV.NEED_COOKIE:return P_.DRM_PROXY_ERROR_NEED_COOKIE;case yV.NEED_YATEAM_LOGIN:return P_.DRM_PROXY_ERROR_NEED_TEAM_LOGIN;case yV.NEED_VIEW_PERMISSION:return P_.DRM_PROXY_ERROR_NEED_VIEW_PERMISSION;default:return P_.DRM_PROXY_ERROR}}function Em(e){return new cT({isFatal:e.isFatal,code:Sm(e),details:{drmProxyError:e.error},helpLink:e.helpLink})}function Om(e,t){switch(e){case 429:return([500,2500,6500][t]||1e3)+1e3*Math.random();default:return 0}}function km(e){return(km="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Am(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_m(Object(r),!0).forEach((function(t){Mm(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Tm(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==km(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}Tm=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=AV);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function Pm(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):AV.resolve(c).then(n,o)}function xm(e){return function(){var t=this,r=arguments;return new AV((function(n,o){function i(e){Pm(u,n,o,i,a,"next",e)}function a(e){Pm(u,n,o,i,a,"throw",e)}var u=e.apply(t,r);i(void 0)}))}}function Rm(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Lm(){return(Lm="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=jm(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function jm(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Fm(e)););return e}function Im(e,t){return(Im=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Cm(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Fm(e);if(t){var o=Fm(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Dm(this,r)}}function Dm(e,t){if(t&&("object"===km(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Nm(e)}function Nm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fm(e){return(Fm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mm(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Bm(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vm(Object(r),!0).forEach((function(t){Um(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vm(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Um(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gm(e,t){var r,n,o;if(e){var i=null!==(r=null===(n=e.privateParams)||void 0===n?void 0:n.licenseId)&&void 0!==r?r:String(null===(o=e.requestParams)||void 0===o?void 0:o.contentId),a=TV.extendDrmConfig(e,i);return void 0!==t?Bm(Bm({},a),{},{withCredentials:t}):a}}function Hm(e){return(Hm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ym(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==Hm(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}Ym=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=xV);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function qm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Wm(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qm(Object(r),!0).forEach((function(t){rg(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qm(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Km(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):xV.resolve(c).then(n,o)}function zm(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Qm(){return(Qm="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=Zm(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function Zm(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=tg(e)););return e}function $m(e,t){return($m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Jm(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=tg(e);if(t){var o=tg(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Xm(this,r)}}function Xm(e,t){if(t&&("object"===Hm(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return eg(e)}function eg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tg(e){return(tg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rg(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ng(e){var t=e.engine,r=e.source,n=e.getState,o=e.getCapSizes,i=e.getVideoElementSizes,a=e.defaultQuality;switch(t){case hT.YASP:return new RV({source:r,getState:n,getCapSizes:o,getVideoElementSizes:i,defaultQuality:a});default:return}}function og(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ig(e,t,r){return t&&og(e.prototype,t),r&&og(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ag(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ug(e){var t=e.error;return new jV(t)}function cg(e){if(e.type===Hls.ErrorTypes.NETWORK_ERROR)return e.networkDetails?e.networkDetails.status:void 0}function sg(e){if(e.type===Hls.ErrorTypes.NETWORK_ERROR)return e.networkDetails?e.networkDetails.readyState:void 0}function lg(e){if(void 0!==e)return{level:e.level,start:e.start,duration:e.duration,url:e.url,relurl:e.relurl,sn:e.sn,programDateTime:e.programDateTime,deltaPTS:e.deltaPTS,dropped:e.dropped,endDTS:e.endDTS,endPTS:e.endPTS,startDTS:e.startDTS,startPTS:e.startPTS}}function fg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function dg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fg(Object(r),!0).forEach((function(t){hg(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fg(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function hg(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pg(e){try{return JSON.parse((0,wL.Y)(dg(dg({},e),{},{networkDetails:void 0,frag:lg(e.frag)})))}catch(t){return{message:(0,j_.Y)((function(){return t.message}))||"Cannot serialize hlsJsError"}}}function vg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vg(Object(r),!0).forEach((function(t){mg(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vg(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function mg(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gg(e){var t=e.details,r=e.networkDetails,n=r?r.status:NaN,o=t===Hls.ErrorDetails.MANIFEST_LOAD_ERROR,i=t===Hls.ErrorDetails.LEVEL_LOAD_ERROR;return 451===n?o?P_.REGIONAL_LIMITATION_MANIFEST:i?P_.REGIONAL_LIMITATION_LEVEL:P_.REGIONAL_LIMITATION_SEGMENT:BV.includes(n)?o?P_.SIGNATURE_EXPIRED_MANIFEST:i?P_.SIGNATURE_EXPIRED_LEVEL:P_.SIGNATURE_EXPIRED_SEGMENT:454===n?o?P_.BANNED_MANIFEST:i?P_.BANNED_LEVEL:P_.BANNED_SEGMENT:void 0}function bg(e){var t=e.details,r=e.fatal;return t?Hls.ErrorDetails.FRAG_DECRYPT_ERROR!==t&&Hls.ErrorDetails.FRAG_PARSING_ERROR!==t&&Hls.ErrorDetails.BUFFER_STALLED_ERROR!==t&&Hls.ErrorDetails.BUFFER_NUDGE_ON_STALL!==t&&(void 0!==gg(e)||Boolean(r)):Boolean(r)}function wg(e){if(void 0!==e){var t=e.details;if(t!==Hls.ErrorDetails.BUFFER_STALLED_ERROR){var r=bg(e)&&!Sg(e),n=gg(e)||t||P_.DEFAULT_ERROR,o=e.err,i=(o=void 0===o?{stack:void 0}:o).stack,a=void 0===i?new Error(function(e,t){return void 0===e.err||void 0===e.err.message?"MISSED_STACK__".concat(t):e.err.message}(e,n)).stack:i;return new cT({code:n,isFatal:r,details:yg(yg({},pg(e)),{},{networkErrorStatus:cg(e),xhrReadyState:sg(e)}),stack:a})}}}function Sg(e){if(void 0!==gg(e))return!1;var t=e.details;return!!t&&(Hls.ErrorDetails.FRAG_LOAD_ERROR===t||Hls.ErrorDetails.FRAG_LOAD_TIMEOUT===t||Hls.ErrorDetails.FRAG_PARSING_ERROR===t||Hls.ErrorDetails.BUFFER_APPEND_ERROR===t||Hls.ErrorDetails.INTERNAL_EXCEPTION===t||Hls.ErrorDetails.LEVEL_LOAD_TIMEOUT===t||Hls.ErrorDetails.MANIFEST_LOAD_ERROR===t||Hls.ErrorDetails.MANIFEST_LOAD_TIMEOUT===t)}function Eg(e){var t=e.details;return!!t&&(Hls.ErrorDetails.MANIFEST_LOAD_ERROR===t||Hls.ErrorDetails.MANIFEST_LOAD_TIMEOUT===t)}function Og(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return kg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kg(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kg(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _g(e,t){if(0!==Object.keys(e).length){var r=e.uri,n=e.duration,o=e.resolution,i=e.tiles;if([r,n,o,i].some((function(e){return!e})))t&&t("NonValidHLSThumbnailTileSessionData");else{var a=function(e){var t=e.split("x");if(!(t.length<2)){var r={rows:parseInt(t[0],10),columns:parseInt(t[1],10)};if(!isNaN(r.rows)&&!isNaN(r.columns))return r}}(i),u=function(e){if(""!==e){var t=Og(e.split("x"),2),r=t[0],n=t[1],o={width:parseInt(r,10),height:parseInt(n,10)};if(!isNaN(o.width)&&!isNaN(o.height))return o}}(o),c=parseFloat(n);if(void 0!==a&&void 0!==u&&!isNaN(c))return{tiles:a,uriTemplate:r,spriteDuration:c,resolution:u,tileSize:function(e,t){var r=e.rows,n=e.columns;return r&&n?{width:t.width/n,height:t.height/r}:null}(a,u),tileDuration:function(e,t){return 0===e.rows||0===e.columns?0:t/(e.rows*e.columns)}(a,c)};t&&t("MapTileSessionDataParseError")}}}function Ag(e,t,r){var n=t===LV.LOWRES?GV:HV,o=(e[n.tiles]||{}).VALUE,i=void 0===o?"":o,a=(e[n.duration]||{}).VALUE,u=void 0===a?"":a,c=(e[n.resolution]||{}).VALUE,s=void 0===c?"":c,l=(e[n.uri]||{}).VALUE,f=void 0===l?"":l,d=[i,u,s,f];if(!d.every((function(e){return""===e}))){if(!d.some((function(e){return""===e})))return{tiles:i,duration:u,resolution:s,uri:f};r&&r("NonValidHLSSessionData")}}function Tg(e){if(void 0!==e)return{name:e.name,value:String(e.id),lang:e.lang||""}}function Pg(e){if(void 0!==e)return{name:e.name,value:String(e.id),lang:e.lang||""}}function xg(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Rg(e){return"".concat(e,"p")}function Lg(e){var t=e.width,r=e.height,n=!(0,TT.z)(r)||r<=0;if(!(0,TT.z)(t)||t<=0||n)return n?"":Rg(r);for(var o=Math.max(t,r),i=Math.min(t,r),a=YV[0],u=0;u<YV.length;u++){if(YV[u]===i)return Rg(YV[u]);if(o>=qV*Math.floor(16*YV[u]/9)||i>=qV*YV[u])return Rg(a);a=YV[u]}return Rg(YV[YV.length-1])}function jg(e,t){var r=e.attrs,n=void 0===r?{}:r,o=e.width,i=e.height;if(!(0,TT.z)(i))return"";var a=Lg(e);if(!(0,TT.z)(o))return a;var u=function(e){var t=e.width,r=e.height,n=e.bitrate;return"".concat(t,"x").concat(r,"@").concat(n)}({width:o,height:i,bitrate:n["AVERAGE-BANDWIDTH"]?parseInt(n["AVERAGE-BANDWIDTH"],10):e.bitrate}),c=t.get(u);return void 0===c?a:c}function Ig(e,t){if(void 0!==e){var r=e.height,n=e.width,o=e.url,i=e.bitrate;if(Array.isArray(o))return{name:jg(e,t),value:o[0],width:n,height:r,bitrate:i?i/1e3:-1}}}function Cg(e,t){var r=function(e,t,r){var n={};return e.filter((function(e){return Boolean(r(e))})).forEach((function(e){var o=t(e);(!n[o]||r(n[o])<r(e))&&(n[o]=e)})),(0,ej.z)(n)}(e,(function(e){return e.height}),(function(e){return e.bitrate})),n=[];return r.forEach((function(e){var r=Ig(e,t);r&&n.push(r)})),n}function Dg(e,t){var r=t.name,n=t.lang,o=r?e.find((function(e){return e.name===r})):void 0;return o||(n?e.find((function(e){return e.lang===n})):void 0)}function Ng(e,t){var r=t.name,n=t.height,o=r?e.find((function(e){return e.name===r})):void 0;if(o)return o;if(void 0!==n){var i=e.filter((function(e){return void 0!==e.height}));return(0,WV.U)(i,(function(e){var t=e.height;return Math.abs(t-n)}))}}function Fg(e,t){var r=e.paused,n=t();return r||(0,mP.v)(e.play()),n}function Mg(e){return(Mg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Bg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bg(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bg(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ug(e){var t=e.reduce((function(e,t){var r=Vg(e,2),n=r[0],o=r[1];try{return!function(e){return"object"===Mg(e)&&e.id&&"number"===typeof e.offset&&(void 0===e.cutoff||"number"===typeof e.cutoff)}(JSON.parse(t))?o.push(t):n.push(t),[n,o]}catch(i){return[n,o]}}),[[],[]]),r=Vg(t,2),n=r[0],o=r[1];if(n.length>0){var i=n[n.length-1];return{data:i,index:e.indexOf(i),reason:KV.HasAd}}if(o.length>0){var a=o[o.length-1];return{data:a,index:e.indexOf(a),reason:KV.NoAd}}return{data:"",index:-1,reason:KV.NoData}}function Gg(e){if(e&&e.cues)for(;e.cues.length>0;)e.removeCue(e.cues[0])}function Hg(e){return void 0!==e&&(0,TT.z)(e)&&e>=0}function Yg(e){var t=e.type;return t===DR.D.VOD||!1===e.live?DR.D.VOD:t===DR.D.EVENT?DR.D.EVENT:DR.D.LIVE}function qg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Wg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wg(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wg(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Kg(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;try{e=t.devicePixelRatio}catch(r){}return e||1}function zg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Qg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qg(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qg(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Zg(e){var t=e.video,r=e.maxHeightCapping,n=e.levels,o=void 0===n?[]:n,i=e.bandwidth,a=o.slice().filter(Boolean).sort((function(e,t){return t.bitrate-e.bitrate}));if(0===a.length)return-1;var u=function(e){var t=Kg();return{width:(e.width||e.clientWidth||e.offsetWidth)*t,height:(e.height||e.clientHeight||e.offsetHeight)*t}}(t),c=u.width,s=u.height,l=zg(a.filter((function(e){return!(i&&e.bitrate>i)&&(!(r&&e.height>r)&&(e.width<=c||e.height<=s))})),1)[0];return void 0===l?o.indexOf(a.pop()):o.indexOf(l)}function $g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Jg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jg(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jg(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xg(e){var t=(e["com.yandex.video.labels.quality"]||{}).VALUE;return(void 0===t?"":t).split(",").filter(Boolean).reduce((function(e,t){var r=$g(t.split(":"),2),n=r[0],o=r[1];return void 0!==function(e){var t=e.match(QV);if(t)return{width:parseInt(t[1],10),height:parseInt(t[2],10),bitrate:parseInt(t[3],10)}}(n)&&o&&e.set(n,o),e}),new Map)}function eb(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:AP(),r=arguments.length>2?arguments[2]:void 0,n=r;return function(r){if(!t(n,r))return n=r,e(r)}}function tb(e){return!e.skin.hiddenControls.includes(ZP.TIMELINE)}function rb(e){return e.controller.videoType!==DR.D.VOD&&function(e){var t=e.controller,r=t.currentTime,n=t.bufferingRanges,o=e.skin,i=o.skinDVRStartTime,a=o.skinDVRDuration;return 0!==n.length&&(a===1/0||r>i+a-10)}(e)}function nb(e,t){var r=t.name,n=t.lang,o=e.find((function(e){return e.name===r}));return o||(n?e.find((function(e){return e.lang===n})):void 0)}function ob(e){return e?"".concat(zV.PromiseReject,"[").concat(e.code,"][").concat(e.name,"][").concat(e.message,"]"):zV.PromiseReject}function ib(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=0,n=[],o=function(t,o){n.push((0,aj.O)(e,t,o,rB)),clearTimeout(r)},i=function(){return Xe(n)},a=new tB((function(n,i){var a=function(t){e.paused&&i(t)},u=(0,mP.v)(e.play());if(a(zV.VideoTagPaused),o("durationchange",(function(){return a(zV.VideoTagPausedAfterDurationChange)})),o("error",(function(){return a(zV.VideoTagPausedAfterError)})),o("pause",(function(){return i(zV.PauseEvent)})),o("playing",(function(){n(zV.PlayingEvent)})),u)t.useProgressEvent&&o("progress",(function(){n(zV.ProgressEvent)})),u.then((function(){return n(zV.PromiseResolve)})).catch((function(e){return i(ob(e))}));else{var c=t.timeoutForNonPromisePlay;"number"===typeof c&&c>0&&(r=window.setTimeout((function(){i(zV.Timeout)}),t.timeoutForNonPromisePlay))}}));return a.then(i,i),a}function ab(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ub(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cb(e){return"subtitles"===e.kind}function sb(e){for(var t=[],r=0;r<e.length;r++)cb(e[r])&&t.push(e[r]);return t}function lb(e){return e?"showing":"hidden"}function fb(e,t){return e.responseEnd-t.responseEnd}function db(){if("undefined"===typeof window.performance)return{value:NaN,source:"timing-api"};var e=qF.reduce((function(e,t){return(0,YF.Z)(e,function(e){try{return e.performance.getEntriesByType("resource").filter((function(e){var t=e.duration,r=e.responseEnd,n=e.transferSize;return t>0&&r>0&&n>1024}))}catch(t){return[]}}(t),fb)}),[]).filter((function(e){var t=e.name;return WF.j.test(t)}));if(0===e.length)return{value:NaN,source:"timing-api"};var t=new aB.I;return e.forEach((function(e){var r=e.transferSize,n=e.duration;return t.sample(n,r)})),t.getBandwidthEstimate({value:NaN,source:"timing-api"})}function hb(e){var t=e.controller,r=t.lastKnownBandwidthEstimate,n=t.playerConfig;if(isFinite(r.value))return r;if(null!==n&&void 0!==n&&n.slowConnection)return{value:ZM.e,source:"default-slow"};var o=by();if(!isNaN(o)&&o>0)return{value:o,source:"cache"};var i=db();if(!isNaN(i.value)&&i.value>0)return i;var a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=e.navigator,r=t,n=r.connection,o=void 0===n?{}:n;if("number"===typeof o.downlink)return o.downlink;if("number"===typeof o.downlinkMax)return o.downlinkMax;if("string"===typeof o.type||"number"===typeof o.type)switch(o.type){case eB.BLUETOOTH:return 3;case XV.CELL_2G:return.384;case XV.CELL_3G:case eB.CELLULAR:return 2;case eB.WIMAX:return 37;case eB.NONE:return 0;case XV.ETHERNET:case eB.ETHERNET:case XV.WIFI:case eB.WIFI:case eB.MIXED:return 10;case XV.UNKNOWN:case eB.UNKNOWN:case eB.OTHER:}return-1}(window);return-1===a?{value:ZM.S,source:"network-api"}:{value:1e3*a*1e3,source:"network-api"}}function pb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function yb(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mb(e,t){aF&&cB<81&&cB>77&&e.duration-t<.5&&(t=e.duration-.5),e.currentTime=t}function gb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function wb(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sb(e){var t=e.watchedTime;return(void 0===t?0:t)<15?15:30}function Eb(e){var t=e.currentTime,r=void 0===t?0:t,n=e.skippableFragments;if(!n)return 30;var o=n.find((function(e){return r>=e.startTime&&r<e.endTime}));if(o)return o.startTime,3;var i=n.find((function(e){return r<e.startTime}));return i?i.startTime-r+KD:30}function Ob(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function kb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ob(Object(r),!0).forEach((function(t){Ab(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ob(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ab(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Pb(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Lb(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jb(e){return(jb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ib(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Cb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ib(Object(r),!0).forEach((function(t){Wb(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ib(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Db(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==jb(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}Db=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=mB);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function Nb(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):mB.resolve(c).then(n,o)}function Fb(e){return function(){var t=this,r=arguments;return new mB((function(n,o){function i(e){Nb(u,n,o,i,a,"next",e)}function a(e){Nb(u,n,o,i,a,"throw",e)}var u=e.apply(t,r);i(void 0)}))}}function Mb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Vb(){return(Vb="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=Bb(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function Bb(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=qb(e)););return e}function Ub(e,t){return(Ub=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Gb(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=qb(e);if(t){var o=qb(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Hb(this,r)}}function Hb(e,t){if(t&&("object"===jb(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Yb(e)}function Yb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qb(e){return(qb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wb(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kb(e){return(Kb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zb(e){return function(e){if(Array.isArray(e))return rw(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||tw(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qb(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==Kb(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}Qb=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=bB);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function Zb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zb(Object(r),!0).forEach((function(t){fw(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zb(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Jb(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):bB.resolve(c).then(n,o)}function Xb(e){return function(){var t=this,r=arguments;return new bB((function(n,o){function i(e){Jb(u,n,o,i,a,"next",e)}function a(e){Jb(u,n,o,i,a,"throw",e)}var u=e.apply(t,r);i(void 0)}))}}function ew(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||tw(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tw(e,t){if(e){if("string"===typeof e)return rw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?rw(e,t):void 0}}function rw(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ow(e,t){return(ow=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function iw(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=lw(e);if(t){var o=lw(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return aw(this,r)}}function aw(e,t){if(t&&("object"===Kb(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return uw(e)}function uw(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cw(){return(cw="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=sw(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function sw(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=lw(e)););return e}function lw(e){return(lw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fw(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function hw(e){if(EB(e.message))return P_[e.message];if(EB(e.code))return P_[e.code];var t=PV[e.code];return EB(t)?P_[t]:P_.DEFAULT_ERROR}function pw(e){if(void 0!==e){var t=e.id,r=e.label,n=e.language,o=e.bitrate;return{name:r||n,value:t,lang:n||"",bitrate:o||void 0}}}function vw(e){var t=(0,yP.w)(e.audioTracks).find((function(e){return e.enabled}));return t?pw(t):void 0}function yw(e){return"subtitles"===e.kind}function mw(e,t){if(void 0!==e){var r=e.id,n=e.label,o=e.language;return{name:n||o,value:"undefined"!==typeof r&&""!==r?r:"index:".concat(t),lang:o||""}}}function gw(e,t){for(var r=e.textTracks,n=void 0===r?[]:r,o=0;o<n.length;o++){var i=n[o];if(i&&yw(i)&&i.mode===t)return mw(i,o)}}function bw(e){var t=[];return(0,yP.w)(e).forEach((function(e){var r=pw(e);r&&t.push(r)})),t}function ww(e){var t=[];return(0,yP.w)(e).forEach((function(e,r){if(yw(e)){var n=mw(e,r);n&&t.push(n)}})),t}function Sw(e){if(void 0!==e){var t=e,r=t.id,n=t.label,o=t.language,i=t.bitrate,a=void 0===i?-1:i,u=t.height,c=void 0===u?0:u,s=t.width;return{name:n||o,value:r,bitrate:a,height:c,width:void 0===s?0:s,frameRate:t.frameRate}}}function Ew(e){var t=[];return(0,yP.w)(e).forEach((function(e){var r=Sw(e);r&&t.push(r)})),t.filter((function(e){return e.value!==cN.A}))}function Ow(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function kw(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _w(e){var t=e.videoTracks,r=void 0===t?[]:t,n=e.videoHeight,o=e.videoWidth,i=(0,yP.w)(r),a=i.find((function(e){return e.selected}));if(void 0!==a)return a.id===cN.A?function(e){var t=e.tracks,r=e.videoHeight,n=e.videoWidth;return t.sort((function(e,t){var o=e.width,i=void 0===o?0:o,a=e.height,u=void 0===a?0:a,c=t.width,s=void 0===c?0:c,l=t.height,f=void 0===l?0:l;return Math.abs(u-r)-Math.abs(f-r)||Math.abs(i-n)-Math.abs(s-n)}))[0]}({tracks:i,videoHeight:n,videoWidth:o}):a}function Aw(e){return(Aw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tw(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==Aw(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}Tw=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=kB);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function Pw(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):kB.resolve(c).then(n,o)}function xw(e){return function(){var t=this,r=arguments;return new kB((function(n,o){function i(e){Pw(u,n,o,i,a,"next",e)}function a(e){Pw(u,n,o,i,a,"throw",e)}var u=e.apply(t,r);i(void 0)}))}}function Rw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Lw(e,t){return(Lw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function jw(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Fw(e);if(t){var o=Fw(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Iw(this,r)}}function Iw(e,t){if(t&&("object"===Aw(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Cw(e)}function Cw(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dw(){return(Dw="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=Nw(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function Nw(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Fw(e)););return e}function Fw(e){return(Fw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mw(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vw(e){return(Vw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bw(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==Vw(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}Bw=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=TB);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function Uw(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):TB.resolve(c).then(n,o)}function Gw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Hw(){return(Hw="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=Yw(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function Yw(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Qw(e)););return e}function qw(e,t){return(qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ww(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Qw(e);if(t){var o=Qw(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Kw(this,r)}}function Kw(e,t){if(t&&("object"===Vw(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return zw(e)}function zw(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qw(e){return(Qw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zw(Object(r),!0).forEach((function(t){Jw(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zw(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Jw(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xw(e){var t,r=DT.Z,n=0,o=function(e){n=e.status,t=e.response};return{promise:new xB((function(t,n){(0,gV.W)($w($w({},e),{},{onSuccess:function(e){o(e),t(e)},onError:function(e,t){o(t),n(e)},onAbort:n,onSetup:function(e){var t=e.abort;return r=t}}))})),abort:function(e){return r(e)},getStatus:function(){return n},getResponse:function(){return t}}}function eS(e){return(eS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||vS(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function nS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rS(Object(r),!0).forEach((function(t){hS(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rS(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function oS(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==eS(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}oS=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=RB);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function iS(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):RB.resolve(c).then(n,o)}function aS(e){return function(){var t=this,r=arguments;return new RB((function(n,o){function i(e){iS(u,n,o,i,a,"next",e)}function a(e){iS(u,n,o,i,a,"throw",e)}var u=e.apply(t,r);i(void 0)}))}}function uS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function cS(e,t){return(cS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function sS(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=dS(e);if(t){var o=dS(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return lS(this,r)}}function lS(e,t){if(t&&("object"===eS(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return fS(e)}function fS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dS(e){return(dS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hS(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pS(e){return function(e){if(Array.isArray(e))return yS(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||vS(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vS(e,t){if(e){if("string"===typeof e)return yS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yS(e,t):void 0}}function yS(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mS(e){return String.fromCharCode.apply(String,pS(Array.from(e)))}function gS(e){return e.charCodeAt(0)}function bS(e){return Array.from(e,gS)}function wS(e){return(wS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ES(e,t){return(ES=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function OS(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=AS(e);if(t){var o=AS(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return kS(this,r)}}function kS(e,t){if(t&&("object"===wS(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _S(e)}function _S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AS(e){return(AS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function TS(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xS(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RS(e){return function(e){if(Array.isArray(e))return LS(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return LS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LS(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function LS(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jS(e){return(jS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function IS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function CS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?IS(Object(r),!0).forEach((function(t){WS(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IS(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function DS(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==jS(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}DS=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=NB);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function NS(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):NB.resolve(c).then(n,o)}function FS(e){return function(){var t=this,r=arguments;return new NB((function(n,o){function i(e){NS(u,n,o,i,a,"next",e)}function a(e){NS(u,n,o,i,a,"throw",e)}var u=e.apply(t,r);i(void 0)}))}}function MS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function VS(e,t){return(VS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function BS(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=qS(e);if(t){var o=qS(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return US(this,r)}}function US(e,t){if(t&&("object"===jS(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return GS(e)}function GS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HS(){return(HS="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=YS(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function YS(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=qS(e)););return e}function qS(e){return(qS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function WS(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KS(e){return e&&Ke(e)||window}function zS(e){return(zS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function QS(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==zS(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}QS=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=VB);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function ZS(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):VB.resolve(c).then(n,o)}function $S(e){return function(){var t=this,r=arguments;return new VB((function(n,o){function i(e){ZS(u,n,o,i,a,"next",e)}function a(e){ZS(u,n,o,i,a,"throw",e)}var u=e.apply(t,r);i(void 0)}))}}function JS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function XS(e,t){return(XS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eE(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=nE(e);if(t){var o=nE(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return tE(this,r)}}function tE(e,t){if(t&&("object"===zS(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return rE(e)}function rE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nE(e){return(nE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oE(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iE(e){return(iE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function aE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function uE(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?aE(Object(r),!0).forEach((function(t){bE(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aE(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function cE(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==iE(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}cE=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=qB);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function sE(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):qB.resolve(c).then(n,o)}function lE(e){return function(){var t=this,r=arguments;return new qB((function(n,o){function i(e){sE(u,n,o,i,a,"next",e)}function a(e){sE(u,n,o,i,a,"throw",e)}var u=e.apply(t,r);i(void 0)}))}}function fE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function dE(){return(dE="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=hE(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function hE(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=gE(e)););return e}function pE(e,t){return(pE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function vE(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=gE(e);if(t){var o=gE(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return yE(this,r)}}function yE(e,t){if(t&&("object"===iE(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return mE(e)}function mE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gE(e){return(gE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bE(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wE(e){if(e in QB)return QB[e];var t=document.createElement("link");return t.rel="preload",t.as="script",QB[e]=new KB((function(r,n){t.onload=r,t.onerror=n,t.href=e,t.crossOrigin="anonymous",zB.appendChild(t)})).then((function(){QB[e]=KB.resolve()})).catch((function(){delete QB[e],zB.removeChild(t)})),QB[e]}function SE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function EE(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?SE(Object(r),!0).forEach((function(t){OE(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SE(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function OE(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kE(e,t){e.supportInfo.engine===hT.HLS?wE(T_):e.supportInfo.engine===hT.YASP&&(vV.setWorkerConfig(EE(EE({},UB),t)),vV.warmUp())}function _E(e){return"ya-video-player-"+e}function AE(e,t){return function(e,t){if(!e)return;for(var r=e.parentElement,n=t;n>0;n--)r=r&&r.parentElement;return r||void 0}(t.getElementById(_E(e)),2)}function TE(e,t){return void 0===e?void 0===t:"auto"in e&&!0===e.auto?t===cN.A:e.value===t}function PE(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:AP(),n=t;return function(){var t;if(0!==arguments.length){var o=(t=arguments.length-1)<0||arguments.length<=t?void 0:arguments[t],i=r(o,n)||Number.isNaN(o)&&Number.isNaN(n);if(!i)return n=o,e.apply(void 0,arguments)}}}function xE(e,t){var r=e.getState().controller,n=r.textTrackValue,o=r.textTracks,i=r.userTextTrackName,a=r.userTextTrackLang;if(n)t.setTextTrack(n);else{var u=nb(o,{name:i,lang:a})||function(e){if(0!==e.length){var t=function(e,t){if("string"===typeof t)for(var r=t.split("-")[0].toLowerCase(),n=0;n<e.length;n++){var o=e[n];if(o.name.toLowerCase()===r)return o}}(e,navigator.language);return void 0!==t?t:e[0]}}(o);void 0===u?hC.error("No text tracks to enable"):t.setTextTrack(u.value)}}function RE(e,t){var r=e.getState(),n=r.skin.nativeControlsVisibility,o=r.controller,i=o.textTrackEnabled,a=o.nativeTextTrackVisible,u=o.isPip,c=void 0===a||a||u||Boolean(n&&i);t.toggleNativeSubtitles(c)}function LE(e,t){var r=e.getState().skin.hiddenControls;t.setHiddenControls(r)}function jE(e,t){var r=e.getState(),n=r.controller,o=n.videoType,i=n.playbackRate,a=n.encoderState;o!==DR.D.VOD&&a===CD.Attached&&(bf(r)||(i>1.03?function(e){var t=e.controller,r=t.currentTime,n=t.bufferingRanges,o=t.engine,i=e.skin,a=i.skinDVRStartTime,u=i.skinDVRDuration;if(0===n.length)return!1;var c=o===hT.NATIVE?5:0;return u===1/0||r>a+u-c}(r)&&t.setPlaybackRate(1):!function(e){var t=e.controller,r=t.currentTime,n=t.dvrStartTime,o=t.dvrDuration;return r<n||r>n+o}(r)&&function(e){if(e.controller.videoType!==DR.D.LIVE)return!1;var t=e.controller.currentTime;return e.skin.skinDVRStartTime+(0===t?0:10)>t}(r)&&t.setPlaybackRate(1)))}function IE(e){return"number"!==typeof(t=Math.floor(2*e)/2)||isNaN(t)||!isFinite(t)?0:t;var t}function CE(e){return(CE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function DE(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==CE(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}DE=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=tU);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function NE(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):tU.resolve(c).then(n,o)}function FE(e){return function(){var t=this,r=arguments;return new tU((function(n,o){function i(e){NE(u,n,o,i,a,"next",e)}function a(e){NE(u,n,o,i,a,"throw",e)}var u=e.apply(t,r);i(void 0)}))}}function ME(e,t){return VE.apply(this,arguments)}function VE(){return(VE=FE(DE().mark((function e(t,r){var n,o,i,a;return DE().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.getState(),o=n.controller,i=o.autoplay,a=o.encoderState,i){e.next=3;break}return e.abrupt("return");case 3:if(a===CD.Attached){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,r.play().catch(lT.Z);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function BE(e){return(BE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function UE(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==BE(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}UE=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=iU);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function GE(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):iU.resolve(c).then(n,o)}function HE(e){var t=function(e){return sh(e)&&(0,Lx.en)(e).pathname.slice(1).split("/")[1]||""}(e);return{channel:t,metaInfoUrl:"https://strm.yandex.net/kal/".concat(t,"/break/last?start_ts={{video-timestamp}}")}}function YE(e){var t=e.controller.stream;if(t)return void 0!==t.metaInfoUrl?t.metaInfoUrl:sh(t.url)?HE(t.url).metaInfoUrl:void 0}function qE(e){try{return(0,I_.H)(e)?JSON.parse(e):void 0}catch(t){return}}function WE(e,t){var r=e.height||0;return(t.height||0)-r}function KE(e){return(KE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zE(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==KE(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}zE=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=uU);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function QE(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):uU.resolve(c).then(n,o)}function ZE(e){return function(){var t=this,r=arguments;return new uU((function(n,o){function i(e){QE(u,n,o,i,a,"next",e)}function a(e){QE(u,n,o,i,a,"throw",e)}var u=e.apply(t,r);i(void 0)}))}}function $E(e){return($E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function JE(e){return function(e){if(Array.isArray(e))return XE(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return XE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XE(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function XE(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eO(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==$E(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}eO=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=cU);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function tO(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):cU.resolve(c).then(n,o)}function rO(e){return function(){var t=this,r=arguments;return new cU((function(n,o){function i(e){tO(u,n,o,i,a,"next",e)}function a(e){tO(u,n,o,i,a,"throw",e)}var u=e.apply(t,r);i(void 0)}))}}function nO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function oO(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function aO(e){if(bP)return null;try{if(jj(e.ownerDocument.defaultView).windowChain.some((function(e){return((0,j_.Y)((function(){return function(e){var t=e.navigator;if(t){var r=t.userActivation;if((0,N_.K)(r))return{isActive:r.isActive,hasBeenActive:r.hasBeenActive}}}(e)}))||{hasBeenActive:!1}).hasBeenActive})))return{muted:!1,allowed:!0,detectionMethod:"NavigationActive"}}catch(t){}return null}function uO(e){return(uO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cO(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==uO(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}cO=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=pU);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function sO(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):pU.resolve(c).then(n,o)}function lO(e){return function(){var t=this,r=arguments;return new pU((function(n,o){function i(e){sO(u,n,o,i,a,"next",e)}function a(e){sO(u,n,o,i,a,"throw",e)}var u=e.apply(t,r);i(void 0)}))}}function fO(e,t,r){return dO.apply(this,arguments)}function dO(){return(dO=lO(cO().mark((function e(t,r,n){return cO().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.stopped){e.next=2;break}return e.abrupt("return",null);case 2:if(Fg(t,(function(){t.load()})),!bP){e.next=8;break}return e.next=6,(0,nU._)(0);case 6:if(!n.stopped){e.next=8;break}return e.abrupt("return",null);case 8:return t.src=hU,t.muted=r,t.volume=r?0:1,e.abrupt("return",new pU((function(e){ib(t,{useProgressEvent:!0,timeoutForNonPromisePlay:500}).then((function(t){if(n.stopped)return e(null);e({muted:r,allowed:!0,detectionMethod:"RealPlayPolicy|".concat(t)})})).catch((function(){if(n.stopped)return e(null);var o=ug(t);o&&o.code===PV.MEDIA_ERR_DECODE?setTimeout((function(){if(n.stopped)return e(null);e({muted:r,allowed:!0,detectionMethod:"RealPlayPolicy|OldBrowser"})}),0):e(null)}))})));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hO(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.content,n=t.size,o=e.ownerDocument.createElement("iframe");o.scrolling="no",o.setAttribute("allowfullscreen",""),o.style.display="block",n&&(o.height=n.height,o.width=n.width),e.appendChild(o);var i=o.contentDocument;i.open(),r&&i.write(r),i.close();try{i.body.style.margin="0"}catch(a){}return o.style.borderWidth="0",o}function pO(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;if(t&&t[e]&&t[e].prototype){var r=t[e].prototype.play;if(r&&(0,hP.t)(r))return r}}function vO(e,t){var r,n,o,i,a=t.initialMuted,u=t.checkMuted,c=t.checkUnmuted,s=t.process;if(!u&&!c)return{muted:a,allowed:!1,detectionMethod:"NoCheck"};var l=e.muted,f=e.paused,d=e.volume,h=e.getAttribute("src"),p=function(){null===h?e.removeAttribute("src"):e.setAttribute("src",h),e.load(),e.muted=l,e.volume=d,f?e.pause():e.paused&&(0,mP.v)(function(e){if(!ZI)return vU.reject(new Error("No html5 video support"));var t,r=(t=e.play).__yaMuffleVideoPlayPromiseOriginalPlay||t;if((0,hP.t)(r))return r.call(e);var n=pO("HTMLVideoElement")||pO("HTMLMediaElement");if(n)return n.call(e);var o=document.createElement("div");o.style.display="none",document.body.appendChild(o);var i=pO("HTMLMediaElement",hO(o).contentWindow);if(i){var a=i.call(e);return et(o),a}return e.play()}(e))},v=null!==(r=null!==(n=null!==(o=null!==(i=null!==null?null:aO(e))&&void 0!==i?i:function(e,t){var r=t.checkMuted,n=t.checkUnmuted;try{if("boolean"===typeof e.allowedToPlay){var o=e;if(n&&(o.muted=!1,o.volume=1,o.allowedToPlay))return{muted:!1,allowed:!0,detectionMethod:"YandexBrowser"};if(r)return o.muted=!0,o.volume=0,{muted:!0,allowed:o.allowedToPlay,detectionMethod:"YandexBrowser"}}}catch(i){}return null}(e,{checkMuted:u,checkUnmuted:c}))&&void 0!==o?o:function(e){try{switch(navigator.getAutoplayPolicy(e)){case"allowed":return{muted:!1,allowed:!0,detectionMethod:"NavigatorAutoplayPolicy"};case"allowed-muted":return{muted:!0,allowed:!0,detectionMethod:"NavigatorAutoplayPolicy"};case"disallowed":return{muted:!1,allowed:!1,detectionMethod:"NavigatorAutoplayPolicy"};default:return null}}catch(t){return null}}(e))&&void 0!==n?n:dU>-1&&dU<=16?{muted:!1,allowed:!0,detectionMethod:"IEPolicy"}:null)&&void 0!==r?r:bR&&RF.major<=9?{muted:!1,allowed:!1,detectionMethod:"IosTill9Policy"}:null;if(null===v){if(c)return fO(e,!1,s).then((function(t){return null!==t&&void 0!==t?t:u?fO(e,!0,s):null})).then((function(e){return null!==e&&void 0!==e?e:{muted:a,allowed:!1,detectionMethod:"RestUnmuted"}})).then((function(e){return p(),e}));if(u)return fO(e,!0,s).then((function(e){return null!==e&&void 0!==e?e:{muted:a,allowed:!1,detectionMethod:"RestMuted"}})).then((function(e){return p(),e}))}return p(),null!==v&&void 0!==v?v:{muted:a,allowed:!1,detectionMethod:"Default"}}function yO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function mO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yO(Object(r),!0).forEach((function(t){gO(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yO(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function gO(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bO(e,t){var r="cover"===t.objectFit?{transform:"translate(-1px, -1px)",height:"calc(100% + 2px)",width:"calc(100% + 2px)"}:{transform:"",height:"",width:""};qe(e,mO(mO({},"objectFit"in t?r:{}),t))}function wO(e){return(wO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SO(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==wO(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}SO=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=yU);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function EO(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):yU.resolve(c).then(n,o)}function OO(e,t,r,n,o){if(!vV.isSupported())return e;if(vV.isYaspElement(e))return e;var i=function(e){r(cT.from(e))},a=function(e){var r=e.name,n=e.data;return t({event:r,params:n})},u=function(){var t,r=(t=SO().mark((function t(){return SO().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!vV.isYaspElement(e)){t.next=3;break}return t.next=3,e.detach();case 3:if(vV.messenger.off("yasp-event",a),vV.messenger.off("yasp-error",i),(0,$P.RW)("web_destroy_yasp_only_with_no_instances")){t.next=10;break}return t.next=8,vV.destroy();case 8:t.next=13;break;case 10:if(vV.hasActiveInstance()){t.next=13;break}return t.next=13,vV.destroy();case 13:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new yU((function(n,o){function i(e){EO(u,n,o,i,a,"next",e)}function a(e){EO(u,n,o,i,a,"throw",e)}var u=t.apply(e,r);i(void 0)}))});return function(){return r.apply(this,arguments)}}();return vV.messenger.on("yasp-event",a),vV.messenger.on("yasp-error",i),n(u),vV.attach(e,o)}function kO(e){return(kO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _O(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==kO(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}_O=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=wU);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function AO(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):wU.resolve(c).then(n,o)}function TO(e){return function(){var t=this,r=arguments;return new wU((function(n,o){function i(e){AO(u,n,o,i,a,"next",e)}function a(e){AO(u,n,o,i,a,"throw",e)}var u=e.apply(t,r);i(void 0)}))}}function PO(){return(PO="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=xO(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function xO(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=DO(e)););return e}function RO(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LO(e,t)}function LO(e,t){return(LO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function jO(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=DO(e);if(t){var o=DO(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return IO(this,r)}}function IO(e,t){if(t&&("object"===kO(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return CO(e)}function CO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DO(e){return(DO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function NO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function MO(e,t,r){return t&&FO(e.prototype,t),r&&FO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function VO(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BO(e){return(BO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function UO(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==BO(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}UO=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=_U);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function GO(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):_U.resolve(c).then(n,o)}function HO(e){return function(){var t=this,r=arguments;return new _U((function(n,o){function i(e){GO(u,n,o,i,a,"next",e)}function a(e){GO(u,n,o,i,a,"throw",e)}var u=e.apply(t,r);i(void 0)}))}}function YO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?YO(Object(r),!0).forEach((function(t){JO(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YO(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function WO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function KO(e,t){return(KO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function zO(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=$O(e);if(t){var o=$O(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return QO(this,r)}}function QO(e,t){if(t&&("object"===BO(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ZO(e)}function ZO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $O(e){return($O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function JO(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ek(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function tk(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rk(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return nk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nk(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nk(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ok(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=(0,DP.i)(e),r=t.match(/YaBrowser\/([\d]+)\.([\d]+)/);if(!r)return{major:-1,minor:-1};var n=rk(r,3),o=n[1],i=n[2];return{major:parseInt(o,10),minor:parseInt(i,10)}}function ik(e){return(ik="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ak(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ck(e,t){return(ck=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function sk(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=dk(e);if(t){var o=dk(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return lk(this,r)}}function lk(e,t){if(t&&("object"===ik(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return fk(e)}function fk(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dk(e){return(dk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hk(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pk(){return BN(window)&&!bR&&!Bj}function vk(e){return(vk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function mk(e,t){return(mk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function gk(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Sk(e);if(t){var o=Sk(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return bk(this,r)}}function bk(e,t){if(t&&("object"===vk(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return wk(e)}function wk(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sk(e){return(Sk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ek(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ok(e){return(0,OT.m)(e.toJSON)?e.toJSON():e}function kk(e){return(kk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _k(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==kk(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}_k=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=MU);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function Ak(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):MU.resolve(c).then(n,o)}function Tk(e){return function(){var t=this,r=arguments;return new MU((function(n,o){function i(e){Ak(u,n,o,i,a,"next",e)}function a(e){Ak(u,n,o,i,a,"throw",e)}var u=e.apply(t,r);i(void 0)}))}}function Pk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xk(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pk(Object(r),!0).forEach((function(t){Rk(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pk(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Rk(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lk(e){var t=e.getVideoType(),r=e.getTimelineInfo();if(t!==DR.D.LIVE)return r;var n=r.currentTime,o=r.utcStartTime,i=r.dvrStartTime;return{dvrDuration:r.dvrDuration,dvrStartTime:(o||0)+i,utcStartTime:0,duration:1/0,currentTime:(o||0)+n}}function jk(e,t){if(e.getVideoType()!==DR.D.LIVE)return t;var r=e.getTimelineInfo().utcStartTime,n=void 0===r?0:r;return t.map((function(e){var t=e.start,r=e.end;return{start:n+t,end:n+r}}))}function Ik(e,t){if(e.getVideoType()!==DR.D.LIVE)return t;var r=e.getTimelineInfo().utcStartTime;return t-(void 0===r?0:r)}function Ck(e){function t(){return(t=Tk(_k().mark((function e(){var t,r;return _k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={},void 0===n){e.next=5;break}return e.next=4,n.requestDebugInfo();case 4:r=e.sent;case 5:return e.abrupt("return",xk(xk({},r),{},{adState:HU,playingState:GU,vsid:u,vpuid:c,version:"1.0-12463",utcPosition:n.getUtcPosition(),currentTime:null===(t=n)||void 0===t?void 0:t.getState().controller.currentTime,system:fo(),clientTimestamp:Date.now(),internalInitialConfig:l}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function r(){return n?n.getSourceId():NaN}var n,o=e.container,i=e.postMessenger,a=e.streamPlayerParams,u=e.vsid,c=e.vpuid,s={onDrmSystemChange:function(e){i.sendEvent("onDrmSystemChange",{sourceId:r(),data:e})},onChangeStream:function(e){i.sendEvent("onChangeStream",{sourceId:r(),data:e})},onError:function(e){var t=Ok(e),n=t.isFatal?bt(t,UU):void 0,o=Ok(new cT(xk(xk({},t),{},{messageDetails:n})));i.sendEvent("onError",{sourceId:r(),data:o})},onRecover:function(e){i.sendEvent("onRecover",{sourceId:r(),data:e})},onStateChange:function(e){var t=r();i.sendEvent("onStateChange",{sourceId:t,data:{playingState:e,reason:BU}}),GU!==e&&(GU=e,BU=qA.Unknown)},onAdStateChange:function(e){HU.state!==e.state&&(BU=qA.Unknown);var t=xk({},HU);HU=e,i.sendEvent("onAdStateChange",{sourceId:r(),data:{nextAdState:e,prevAdState:t}})},onAdLoaded:function(e){i.sendEvent("onAdLoaded",{sourceId:r(),data:e})},onAdError:function(e){i.sendEvent("onAdError",{sourceId:r(),data:e})},onBeforeAdPodStart:function(e){i.sendEvent("onBeforeAdPodStart",{sourceId:r(),data:e})},onAdPodStart:function(){i.sendEvent("onAdPodStart",{sourceId:r(),data:void 0})},onAdPodClick:function(){i.sendEvent("onAdPodClick",{sourceId:r(),data:void 0})},onAdPodSkip:function(){i.sendEvent("onAdPodSkip",{sourceId:r(),data:void 0})},onAdPodEnd:function(){i.sendEvent("onAdPodEnd",{sourceId:r(),data:void 0})},onAdSkippableStateChange:function(e){i.sendEvent("onAdSkippableStateChange",{sourceId:r(),data:e})},onAdPodCloseStateChange:function(e){i.sendEvent("onAdPodCloseStateChange",{sourceId:r(),data:e})},onAdPodDurationChange:function(e){i.sendEvent("onAdPodDurationChange",{sourceId:r(),data:e})},onAdPodCurrentTimeChange:function(e){i.sendEvent("onAdPodCurrentTimeChange",{sourceId:r(),data:e})},onAdPodTimeToSkipChange:function(e){i.sendEvent("onAdPodTimeToSkipChange",{sourceId:r(),data:e})},onAdVolumeAvailabilityStateChange:function(e){i.sendEvent("onAdVolumeAvailabilityStateChange",{sourceId:r(),data:e})},onAdInteraction:function(){i.sendEvent("onAdInteraction",{sourceId:r(),data:void 0})},onVideoTypeChange:function(e){i.sendEvent("onVideoTypeChange",{sourceId:r(),data:e})},onDVRStartTimeChange:function(){void 0!==n&&i.sendEvent("onTimelineInfoChange",{sourceId:r(),data:Lk(n)})},onDVRDurationChange:function(){void 0!==n&&i.sendEvent("onTimelineInfoChange",{sourceId:r(),data:Lk(n)})},onCurrentTimeChange:function(){void 0!==n&&(i.sendEvent("onPositionChange",{sourceId:r(),data:{time:n.getState().controller.currentTime,utcTime:n.getUtcPosition(),watchedTime:n.getState().controller.watchedTime,videoPlaybackQuality:n.getVideoPlaybackQuality(),liveLatency:n.getLiveLatency()}}),i.sendEvent("onTimelineInfoChange",{sourceId:r(),data:Lk(n)}))},onFullScreenChange:function(e){i.sendEvent("onFullScreenChange",{sourceId:r(),data:e})},onVolumeChange:function(e){i.sendEvent("onVolumeChange",{sourceId:r(),data:e})},onVideoTrackChange:function(e){var t;i.sendEvent("onVideoTrackChange",{sourceId:r(),data:e}),i.sendEvent("onCapSizeChange",{sourceId:r(),data:null===(t=n)||void 0===t?void 0:t.getMaxCapAllowedVideoTrack()})},onVideoTracksChange:function(e){i.sendEvent("onVideoTracksChange",{sourceId:r(),data:e})},onAudioTrackChange:function(e){i.sendEvent("onAudioTrackChange",{sourceId:r(),data:e})},onAudioTracksChange:function(e){i.sendEvent("onAudioTracksChange",{sourceId:r(),data:e})},onTextTrackChange:function(e){i.sendEvent("onTextTrackChange",{sourceId:r(),data:e})},onTextTracksChange:function(e){i.sendEvent("onTextTracksChange",{sourceId:r(),data:e})},onSubtitlesChange:function(e){i.sendEvent("onSubtitlesChange",{sourceId:r(),data:e})},onPlaybackRateChange:function(e){i.sendEvent("onPlaybackRateChange",{sourceId:r(),data:e})},onThumbnailTileGeneralMetaInfoChange:function(e){i.sendEvent("onThumbnailTileGeneralMetaInfoChange",{sourceId:r(),data:e})},onOriginalBroadcastAdStateChange:function(e){i.sendEvent("onOriginalBroadcastAdStateChange",{sourceId:r(),data:e})},onAdblockDetected:function(e){UU=e,(0,j_.Y)((function(){(DT.Z||window.Ya.Rum.updateErrors)({blocker:UU}),(DT.Z||window.Ya.Rum.setVars)({"-blocker":UU}),bc(rC,0,!1,Rk({},rC,Number(UU)))}))},onContentImpression:function(e){i.sendEvent("onContentImpression",{sourceId:r(),data:e})},onResourcesIdle:function(){i.sendEvent("onResourcesIdle",{sourceId:r(),data:void 0})},onVisualStateChange:function(e){i.sendEvent("onVisualStateChange",{sourceId:r(),data:e})},onBufferingRangesChange:function(e){void 0!==n&&i.sendEvent("onBufferingRangesChange",{sourceId:r(),data:jk(n,e)})},onStartStageChange:function(e){i.sendEvent("onStartStageChange",{sourceId:r(),data:e})},onVideoSizeChange:function(e){i.sendEvent("onVideoSizeChange",{sourceId:r(),data:e})},onNextAdRemainingTimeChange:function(e){i.sendEvent("onNextAdRemainingTimeChange",{sourceId:r(),data:e})},logEvent:function(e){i.sendEvent("onLogEvent",{sourceId:-1,data:e})},onStreamsWithSupportInfoChange:function(e){i.sendEvent("onStreamsWithSupportInfoChange",{sourceId:r(),data:e})},onEngineChange:function(e,t){i.sendEvent("onEngineChange",{sourceId:t,data:e})},onBandwidthEstimateChange:function(e){i.sendEvent("onBandwidthEstimateChange",{sourceId:r(),data:e})},onCapSizeChange:function(e){i.sendEvent("onCapSizeChange",{sourceId:r(),data:e})},onPlaybackQualityUpdate:function(e){i.sendEvent("onPlaybackQualityUpdate",{sourceId:r(),data:e})},onExpectedStalledChange:function(e){i.sendEvent("onExpectedStalledChange",{sourceId:r(),data:e})},onRequestFullscreenChange:function(e){i.sendEvent("onRequestFullscreenChange",{sourceId:r(),data:e})},onInrollFrame:function(e){i.sendEvent("onInrollFrame",{sourceId:r(),data:e})},onFrameRendered:function(e){i.sendEvent("onFrameRendered",{sourceId:r(),data:e})},onTargetLatencyChange:function(e){i.sendEvent("onTargetLatencyChange",{sourceId:r(),data:e})}},l=xk(xk({},a),{},{perfLogUrl:a.perfLogUrl,device:a.device,bandwidthEstimateOffset:a.bandwidthEstimateOffset,maxBufferLength:a.maxBufferLength,skinConfig:a.skinConfig,backgroundColor:a.backgroundColor,togglePlaybackOnVisibilityChange:a.togglePlaybackOnVisibilityChange,isVisibilitySupported:a.isVisibilitySupported,initialVisibility:a.initialVisibility,callbacks:s});i.sendEvent("onInit",FU),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return(0,yP.w)(e.document.querySelectorAll(NU))}().forEach((function(e){return function(e,t){Ke(e)!==Ke(t)&&t.appendChild(e)}(e,o)}));var f=new DU(o,a.isVisibilitySupported||!1);n=new PU(o,l,{visualState:f},(function(){return i.sendEvent("onReady",FU)})),bc(tC),i.on("Command",(function(e){switch(e.commandName){case bL.pause:BU=e.params,void 0!==n&&n.pause(),e.sendAnswer();break;case bL.play:BU=e.params,n?n.play().then((function(){e.sendAnswer(!0)})).catch((function(){e.sendAnswer(!1)})):e.sendAnswer(!1);break;case bL.seek:n.seek({videoTime:Ik(n,e.params)});break;case bL.setPlaybackRate:n.setPlaybackRate(e.params);break;case bL.setSource:var r=e.params,o=r.sourceConfig,a=r.shouldSaveProgress;if(!o)throw new cT("setSource method receives an object");e.sendAnswer(),n.setSource(o,{shouldSaveProgress:a});break;case bL.preloadSource:var u=e.params,c=u.sourceConfig,s=u.requestId,l=n.preloadSource(c),d=l.promise,h=l.abort,p=l.end;YU[s]=h,d.then((function(){i.sendEvent("onPreloadSourceResolve",{sourceId:-1,data:s})})).catch((function(){i.sendEvent("onPreloadSourceReject",{sourceId:-1,data:s})})).then((function(){(0,j_.Y)(p),delete YU[s]}));break;case bL.abortPreloadSource:var v=YU[e.params];(0,OT.m)(v)&&(v(),delete YU[e.params]);break;case bL.setVolume:e.params>0&&n.setMuted(!1),n.setVolume(e.params);break;case bL.setMuted:n.setMuted(e.params);break;case bL.setVideoTrack:n.setVideoTrack(e.params);break;case bL.setAudioTrack:n.setAudioTrack(e.params);break;case bL.setTextTrack:n.setTextTrack(e.params);break;case bL.setNativeTextTrackVisibility:n.setNativeTextTrackVisibility(e.params);break;case bL.setNativeAdControlsVisibility:n.setNativeAdControlsVisibility(e.params);break;case bL.setFullscreen:n.setFullscreen(e.params);break;case bL.setPictureInPicture:f.changePipState({isPip:e.params});break;case bL.setHiddenControls:n.setHiddenControls(e.params);break;case bL.setVideoStyle:n.setVideoStyle(e.params);break;case bL.setPictureInPictureEnabled:n.setPictureInPictureEnabled(e.params);break;case bL.requestDebugInfo:(function(){return t.apply(this,arguments)})().then((function(t){return e.sendAnswer(t)}));break;case bL.stopAd:n.stopAd({stopAdReason:JI.InsertIntoCalled}).then((function(){e.sendAnswer()}));break;case bL.playInrollAd:n.playInrollAd(e.params);break;case bL.skipAdPod:n.skipAdPod();break;case bL.playAdViewers:var y=e.params,m=y.adType,g=y.adViewers;n.playAdViewers(m,g,{},!0).then((function(){e.sendAnswer({success:!0})})).catch((function(){e.sendAnswer({success:!1})}));break;case bL.destroy:f.destroy(),void 0!==n?n.destroy().catch(DT.Z).then((function(){e.sendAnswer(e.params)})):e.sendAnswer(e.params);break;case bL.setExternalVisualState:"boolean"===typeof e.params.isVisible&&f.setExternalVisibility(e.params.isVisible),"boolean"===typeof e.params.isFullscreen&&f.setExternalFullscreen(e.params.isFullscreen);break;case bL.logDelta:!function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Se()&&(0,j_.Y)((function(){var n=r.additional,o=r.initSubpage,i=void 0!==o&&o,a=Pe(r,$T);if(!(i&&ke()>0)){var u=Oe(),c=(0,N_.K)(u)?u.additional:void 0;(DT.Z||window.Ya.Rum.sendDelta)(e,t,Ae(Ae(Ae({},u),a),{},{"-additional":(0,N_.K)(n)?ge(Ae(Ae({},c),n)):ge(c)}))}}))}(e.params.deltaId,e.params.value,e.params.params);break;case bL.seekToNextFrame:case bL.seekToPreviousFrame:n[e.commandName]().then((function(){e.sendAnswer({success:!0})})).catch((function(){e.sendAnswer({success:!1})}));break;default:throw new Error("IFrameApi Error: unexpected command in MessageEvent: "+e.commandName)}})),xe("detect.visibility"),"boolean"===typeof a.initialVisibility?(f.setExternalVisibility(a.initialVisibility),Re("detect.visibility")):i.sendRequest(bL.getExternalVisualState,void 0).then((function(e){var t=e.isVisible;f.setExternalVisibility(t),Re("detect.visibility")}))}function Dk(e){var t=e.source;return!!t&&(!!t.adConfig&&(!(!t.adConfig.partnerId&&!t.adConfig.adBreaks)&&!1!==t.adConfig.hasPreroll))}function Nk(e){return(Nk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fk(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Mk(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==Nk(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}Mk=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=zU);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function Vk(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):zU.resolve(c).then(n,o)}function Bk(e){return function(){var t=this,r=arguments;return new zU((function(n,o){function i(e){Vk(u,n,o,i,a,"next",e)}function a(e){Vk(u,n,o,i,a,"throw",e)}var u=e.apply(t,r);i(void 0)}))}}function Uk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Gk(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Uk(Object(r),!0).forEach((function(t){$k(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uk(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Hk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Yk(e,t){return(Yk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function qk(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Zk(e);if(t){var o=Zk(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Wk(this,r)}}function Wk(e,t){if(t&&("object"===Nk(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Kk(e)}function Kk(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zk(){return(zk="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=Qk(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function Qk(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Zk(e)););return e}function Zk(e){return(Zk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $k(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jk(e){var t=hO(e);return t.width="0",t.height="0",t.style.position="absolute",t}function Xk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Er(e.version)||vR,r=[Ie(lR?VU.PLAYER_API_MODERN:VU.PLAYER_API,t,"1.0-",e.useAbdBundle||!1)];if(Dk(e)){var n,o=(null===(n=e.source)||void 0===n?void 0:n.adConfig)||{},i=XU({win:window,config:o,moduleName:"Multiroll"});i.forEach((function(e){var t=e.src;r.push(t)}))}return rG.all(r.map(wE)).then((function(){return r}))}function e_(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function t_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function r_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?t_(Object(r),!0).forEach((function(t){n_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function n_(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o_(e){var t=r_(r_({},e),{},{element:"string"===typeof e.element?document.getElementById(e.element):e.element}),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=e.getElementById("ya-video-playerapi-mock-frame");if(t)return t;var r=Jk(e.body);return r.id="ya-video-playerapi-mock-frame",r}(document).contentWindow,n=H(),o=n.setReadyInstance,i=n.setInstance,a=e_(n,oG);return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;Xk(e);try{var r=kr(e,window);return void 0===eG&&(eG=re({win:t,src:r,retries:3,dropCacheOnRetry:!0,onBeforeLoad:function(e){e.crossOrigin="anonymous"},checkLoad:function(){try{var e,r;return(0,OT.m)(null===(e=t.Ya)||void 0===e||null===(r=e.playerApi)||void 0===r?void 0:r.create)}catch(n){return!1}}})),{promise:eG,bundleUrl:r}}catch(n){return{promise:nG.reject(n),bundleUrl:""}}}(t,r).promise.then((function(){var e=r.Ya.playerApi.create(t);o(e),i(e)})),a}function i_(e){return Number.isFinite(e)||e===1/0||e===-1/0}function a_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u_(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s_(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l_(Object(r),!0).forEach((function(t){h_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h_(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p_,v_=r(80445),y_=r(24611),m_=r(25443),g_={}.toString,b_=/\[object (\w+)\]/,w_=Date&&n(Date.now)?function(){return Date.now()}:function(){return(new Date).getTime()},S_="undefined"===typeof window?void 0:window.performance,E_=S_&&n(S_.now),O_=S_&&S_.timing&&S_.timing.navigationStart,k_=S_&&S_.timeOrigin?S_.timeOrigin:O_?S_.timing.navigationStart:w_(),__=0,A_=function(){return E_?S_.now():(e=w_()-k_,__=Math.max(e,__));var e},T_="https://storage.yandexcloud.net/videoplatform-public/player/yandex-video-player-iframe-api-bundles/hlsjs/0.12.2-1761-1846-1976_tmp-2080-2095-2146-2171-2-2172-2232_tmp-2427-2498/hls.min.js";!function(e){e.BUFFER_FULL_ERROR="bufferFullError",e.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",e.BUFFER_STALLED_ERROR="bufferStalledError",e.FRAG_PARSING_ERROR="fragParsingError",e.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",e.BUFFER_APPENDING_ERROR="bufferAppendingError",e.PIPELINE_ERROR_DECODE="PIPELINE_ERROR_DECODE",e.DECODER_ERROR_NOT_SUPPORTED="DECODER_ERROR_NOT_SUPPORTED",e.BUFFER_APPEND_ERROR="bufferAppendError",e.MEDIA_ELEMENT_ERROR_FORMAT_ERROR="MEDIA_ELEMENT_ERROR: Format error",e.REMUX_ALLOC_ERROR="remuxAllocError",e.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",e.DEMUXER_ERROR_COULD_NOT_OPEN="DEMUXER_ERROR_COULD_NOT_OPEN",e.NS_ERROR_DOM_INVALID_STATE_ERR="NS_ERROR_DOM_INVALID_STATE_ERR",e.CHUNK_DEMUXER_ERROR_APPEND_FAILED="CHUNK_DEMUXER_ERROR_APPEND_FAILED",e.FAILED_TO_INIT_DECODER="Failed to init decoder",e.PIPELINE_ERROR_INITIALIZATION_FAILED="PIPELINE_ERROR_INITIALIZATION_FAILED",e.NS_ERROR_FAILURE="NS_ERROR_FAILURE",e.REQUEST_FAILED="2147500036: Request failed",e.PIPELINE_ERROR_EXTERNAL_RENDERER_FAILED="PIPELINE_ERROR_EXTERNAL_RENDERER_FAILED",e.PIPELINE_ERROR_COULD_NOT_RENDER="PIPELINE_ERROR_COULD_NOT_RENDER",e.MEDIA_ELEMENT_ERROR_EMPTY_SRC_ATTRIBUTE="MEDIA_ELEMENT_ERROR: Empty src attribute",e.NS_ERROR_DOM_MEDIA_METADATA_ERR="NS_ERROR_DOM_MEDIA_METADATA_ERR",e.NS_ERROR_DOM_MEDIA_FATAL_ERR="NS_ERROR_DOM_MEDIA_FATAL_ERR",e.MANIFEST_PARSING_ERROR="manifestParsingError",e.FRAG_LOAD_ERROR="fragLoadError",e.MANIFEST_LOAD_ERROR="manifestLoadError",e.LEVEL_LOAD_ERROR="levelLoadError",e.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",e.FRAG_LOAD_TIME_OUT="fragLoadTimeOut",e.MANIFEST_LOAD_TIME_OUT="manifestLoadTimeOut",e.LEVEL_LOAD_TIME_OUT="levelLoadTimeOut",e.AUDIO_TRACK_LOAD_TIME_OUT="audioTrackLoadTimeOut",e.INTERNAL_EXCEPTION="internalException",e.ON_PLAYER_INIT_ERROR_INTERNAL="ON_PLAYER_INIT_ERROR_INTERNAL",e.UNABLE_TO_LOAD_PLAYER_IFRAME="UNABLE_TO_LOAD_PLAYER_IFRAME",e.ON_PLAYER_INIT_ERROR="ON_PLAYER_INIT_ERROR",e.LOADER_INIT_ERROR="LoaderInitError",e.UNABLE_TO_LOAD_PLAYER_INTERNAL_SCRIPT="UNABLE_TO_LOAD_PLAYER_INTERNAL_SCRIPT",e.FAILED_TO_DOWNLOAD_DEBUG_INFO="FAILED_TO_DOWNLOAD_DEBUG_INFO",e.PLAYER_CONTAINER_NOT_FOUND="PLAYER_CONTAINER_NOT_FOUND",e.KEY_LOAD_ERROR="keyLoadError",e.FEATURE_HANDLER_ERROR="FEATURE_HANDLER_ERROR",e.INVALID_CONFIG_ELEMENT_IN_CREATE_PLAYER="InvalidConfigElementInCreatePlayer",e.INVALID_CONFIG_LANG_IN_CREATE_PLAYER="InvalidConfigLangInCreatePlayer",e.INVALID_CONFIG_IN_CREATE_PLAYER="InvalidConfigInCreatePlayer",e.INVALID_CONFIG_IN_SET_SOURCE="InvalidConfigInSetSource",e.INVALID_CONFIG_IN_SOURCE_UPDATE="InvalidConfigInSourceUpdate",e.INVALID_LOG_URL="InvalidLogUrl",e.IFRAME_DOES_NOT_ALLOW_DRM="IframeDoesNotAllowDrm",e.DRM_IS_NOT_ALLOWED="DrmIsNotAllowed",e.EXTERNAL_POST_MESSENGER_SEND_MESSAGE_ERROR="EXTERNAL_POST_MESSENGER_SEND_MESSAGE_ERROR",e.INTERNAL_POST_MESSENGER_SEND_MESSAGE_ERROR="INTERNAL_POST_MESSENGER_SEND_MESSAGE_ERROR",e.LOAD_SKIN_ERROR="LOAD_SKIN_ERROR",e.INSERT_INTO_WITH_SECURE_FRAME="INSERT_INTO_WITH_SECURE_FRAME",e.PLAY_AD_VIEWERS_WITH_SECURE_FRAME="PLAY_AD_VIEWERS_WITH_SECURE_FRAME",e.ELEMENT_NOT_IN_DOM="ELEMENT_NOT_IN_DOM",e.ERROR_SCREEN_LOAD_ERROR="ERROR_SCREEN_LOAD_ERROR",e.REQUEST_SOURCE_ERROR="REQUEST_SOURCE_ERROR",e.SCREEN_WAKE_LOCK_ERROR="SCREEN_WAKE_LOCK_ERROR",e.YASP_UNEXPECTED_METHOD_CALL="YASP_UNEXPECTED_METHOD_CALL"}(p_||(p_={}));var P_,x_=r(49607),R_=r(93559),L_=r.n(R_),j_=r(21658),I_=r(66696),C_=r(89225);!function(e){e.DEFAULT_ERROR="DEFAULT_ERROR",e.BROADCAST_AD_BLOCK_INIT_ERROR="BROADCAST_AD_BLOCK_INIT_ERROR",e.AD_TYPE_IS_NOT_RECOGNIZED="AD_TYPE_IS_NOT_RECOGNIZED",e.INVALID_METADATA="INVALID_METADATA",e.INVALID_STREAM_URL="INVALID_STREAM_URL",e.UNSUPPORTED_MEDIA_TYPE="UNSUPPORTED_MEDIA_TYPE",e.SCRIPT_INIT_ERROR="SCRIPT_INIT_ERROR",e.MPD_WIDEVINE_CERT_LOAD_ERROR="MPD_WIDEVINE_CERT_LOAD_ERROR",e.NATIVE_HLS_NOT_SUPPORTED_ERROR="NATIVE_HLS_NOT_SUPPORTED_ERROR",e.HLS_JS_NOT_SUPPORTED_ERROR="HLS_JS_NOT_SUPPORTED_ERROR",e.ON_TICK_ERROR="ON_TICK_ERROR",e.FAIRPLAY_NOT_SUPPORTED="FAIRPLAY_NOT_SUPPORTED",e.FAIRPLAY_CERT_LOAD_ERROR="FAIRPLAY_CERT_LOAD_ERROR",e.FAIRPLAY_CREATE_MEDIA_KEYS_ERROR="FAIRPLAY_CREATE_MEDIA_KEYS_ERROR",e.FAIRPLAY_CREATE_KEY_SESSION_ERROR="FAIRPLAY_CREATE_KEY_SESSION_ERROR",e.FAIRPLAY_SPC_LOAD_ERROR="FAIRPLAY_SPC_LOAD_ERROR",e.FAIRPLAY_CREATE_KEY_ERROR="FAIRPLAY_CREATE_KEY_ERROR",e.FAIRPLAY_INVALID_CONTENT_ID="FAIRPLAY_INVALID_CONTENT_ID",e.DRM_PROXY_ERROR="DRM_PROXY_ERROR",e.DRM_PROXY_ERROR_SIGNATURE_EXPIRED="DRM_PROXY_ERROR_SIGNATURE_EXPIRED",e.DRM_PROXY_ERROR_NEED_COOKIE="DRM_PROXY_ERROR_NEED_COOKIE",e.DRM_PROXY_ERROR_NEED_TEAM_LOGIN="DRM_PROXY_ERROR_NEED_TEAM_LOGIN",e.DRM_PROXY_ERROR_NEED_VIEW_PERMISSION="DRM_PROXY_ERROR_NEED_VIEW_PERMISSION",e.DRM_INIT_ERROR="DRM_INIT_ERROR",e.DRM_NO_INIT_DATA="DRM_NO_INIT_DATA",e.DRM_CERT_LOAD_ERROR="DRM_CERT_LOAD_ERROR",e.DRM_LICENSE_LOAD_ERROR="DRM_CERT_LOAD_ERROR",e.DRM_NO_SUPPORTED_KEY_SYSTEM="DRM_NO_SUPPORTED_KEY_SYSTEM",e.DRM_FAILED_TO_CREATE_CDM="DRM_FAILED_TO_CREATE_CDM",e.DRM_FAILED_TO_SET_MEDIA_KEYS="DRM_FAILED_TO_SET_MEDIA_KEYS",e.DRM_NO_LICENSE_SERVER="DRM_NO_LICENSE_SERVER",e.DRM_FAILED_TO_CREATE_SESSION="DRM_FAILED_TO_CREATE_SESSION",e.DRM_SESSION_ERROR="DRM_SESSION_ERROR",e.DRM_FAILED_TO_GENERATE_REQUEST="DRM_FAILED_TO_GENERATE_REQUEST",e.DRM_UNKNOWN_ERROR="DRM_UNKNOWN_ERROR",e.NO_HLS_JS_INSTANCE="NO_HLS_JS_INSTANCE",e.AD_IS_ALREADY_PLAYING="AD_IS_ALREADY_PLAYING",e.META_INFO_REQUEST_FAILED="META_INFO_REQUEST_FAILED",e.MULTIROLL_INIT_ERROR="MULTIROLL_INIT_ERROR",e.REACT_COMPONENT_DID_CATCH_ERROR_INFO="REACT_COMPONENT_DID_CATCH_ERROR_INFO",e.PLAY_AD_VIEWERS_ERROR="PLAY_AD_VIEWERS_ERROR",e.SAGA_ERROR="SAGA_ERROR",e.STRM_ABD_INVALID_RESPONSE="STRM_ABD_INVALID_RESPONSE",e.REPRESENTATION_CHANGE="REPRESENTATION_CHANGE",e.RECOVER_TASK_ERROR="RECOVER_TASK_ERROR",e.PRELOAD_SOURCE_FAILED="PRELOAD_SOURCE_FAILED",e.REGIONAL_LIMITATION_MANIFEST="REGIONAL_LIMITATION_MANIFEST",e.REGIONAL_LIMITATION_LEVEL="REGIONAL_LIMITATION_LEVEL",e.REGIONAL_LIMITATION_SEGMENT="REGIONAL_LIMITATION_SEGMENT",e.SIGNATURE_EXPIRED_MANIFEST="SIGNATURE_EXPIRED_MANIFEST",e.SIGNATURE_EXPIRED_LEVEL="SIGNATURE_EXPIRED_LEVEL",e.SIGNATURE_EXPIRED_SEGMENT="SIGNATURE_EXPIRED_SEGMENT",e.BANNED_MANIFEST="BANNED_MANIFEST",e.BANNED_LEVEL="BANNED_LEVEL",e.BANNED_SEGMENT="BANNED_SEGMENT",e.MANIFEST_NOT_FOUND="MANIFEST_NOT_FOUND",e.NO_STREAMS="NO_STREAMS",e.NO_CODECS="NO_CODECS",e.NO_MSE="NO_MSE",e.NO_DRM_CONFIG="NO_DRM_CONFIG",e.NO_DRM="NO_DRM",e.NO_PLAYABLE_STREAMS="NO_PLAYABLE_STREAMS",e.MEDIA_ERR_CUSTOM="MEDIA_ERR_CUSTOM",e.MEDIA_ERR_ABORTED="MEDIA_ERR_ABORTED",e.MEDIA_ERR_NETWORK="MEDIA_ERR_NETWORK",e.MEDIA_ERR_DECODE="MEDIA_ERR_DECODE",e.MEDIA_ERR_SRC_NOT_SUPPORTED="MEDIA_ERR_SRC_NOT_SUPPORTED",e.MEDIA_ERR_ENCRYPTED="MEDIA_ERR_ENCRYPTED"}(P_||(P_={}));var D_,N_=r(34129),F_=r(83237),M_=r(83361),V_=r(81917),B_=window.Map||function(){},U_=window.Set||function(){},G_=function(e,t){return(G_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},H_=function(){return(H_=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};!function(e){e.assertNever=function(e){throw new Error},e.arrayToEnum=function(e){var t,r,n={};try{for(var o=s(e),i=o.next();!i.done;i=o.next()){var a=i.value;n[a]=a}}catch(u){t={error:u}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return n},e.getValidEnumValues=function(t){var r,n,o=e.objectKeys(t).filter((function(e){return"number"!==typeof t[t[e]]})),i={};try{for(var a=s(o),u=a.next();!u.done;u=a.next()){var c=u.value;i[c]=t[c]}}catch(l){r={error:l}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return e.objectValues(i)},e.objectValues=function(t){return e.objectKeys(t).map((function(e){return t[e]}))},e.objectKeys="function"===typeof Object.keys?function(e){return Object.keys(e)}:function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},e.find=function(e,t){var r,n;try{for(var o=s(e),i=o.next();!i.done;i=o.next()){var a=i.value;if(t(a))return a}}catch(u){r={error:u}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}},e.isInteger="function"===typeof Number.isInteger?function(e){return Number.isInteger(e)}:function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e}}(D_||(D_={}));var Y_,q_=D_.arrayToEnum(["invalid_type","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of"]),W_=function(e){function t(t){var r=this.constructor,n=e.call(this)||this;n.issues=[],n.format=function(){var e={_errors:[]};return function t(r){var n,o;try{for(var i=s(r.issues),a=i.next();!a.done;a=i.next()){var u=a.value;if("invalid_union"===u.code)u.unionErrors.map(t);else if("invalid_return_type"===u.code)t(u.returnTypeError);else if("invalid_arguments"===u.code)t(u.argumentsError);else if(0===u.path.length)e._errors.push(u.message);else for(var c=e,l=0;l<u.path.length;){var f=u.path[l];if(l===u.path.length-1)c[f]=c[f]||{_errors:[]},c[f]._errors.push(u.message);else if("string"===typeof f)c[f]=c[f]||{_errors:[]};else if("number"===typeof f){var d=[];d._errors=[],c[f]=c[f]||d}c=c[f],l++}}}catch(h){n={error:h}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}}(n),e},n.addIssue=function(e){n.issues=f(f([],l(n.issues),!1),[e],!1)},n.addIssues=function(e){void 0===e&&(e=[]),n.issues=f(f([],l(n.issues),!1),l(e),!1)};var o=r.prototype;return Object.setPrototypeOf?Object.setPrototypeOf(n,o):n.__proto__=o,n.name="ZodError",n.issues=t,n}return a(t,e),Object.defineProperty(t.prototype,"errors",{get:function(){return this.issues},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this.message},Object.defineProperty(t.prototype,"message",{get:function(){return JSON.stringify(this.issues,null,2)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.issues.length},enumerable:!1,configurable:!0}),t.prototype.flatten=function(e){var t,r;void 0===e&&(e=function(e){return e.message});var n={},o=[];try{for(var i=s(this.issues),a=i.next();!a.done;a=i.next()){var u=a.value;u.path.length>0?(n[u.path[0]]=n[u.path[0]]||[],n[u.path[0]].push(e(u))):o.push(e(u))}}catch(c){t={error:c}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return{formErrors:o,fieldErrors:n}},Object.defineProperty(t.prototype,"formErrors",{get:function(){return this.flatten()},enumerable:!1,configurable:!0}),t.create=function(e){return new t(e)},t}(Error),K_=function(e,t){var r;switch(e.code){case q_.invalid_type:r="undefined"===e.received?"Required":"Expected ".concat(e.expected,", received ").concat(e.received);break;case q_.unrecognized_keys:r="Unrecognized key(s) in object: ".concat(e.keys.map((function(e){return"'".concat(e,"'")})).join(", "));break;case q_.invalid_union:r="Invalid input";break;case q_.invalid_union_discriminator:r="Invalid discriminator value. Expected ".concat(e.options.map((function(e){return"string"===typeof e?"'".concat(e,"'"):e})).join(" | "));break;case q_.invalid_enum_value:r="Invalid enum value. Expected ".concat(e.options.map((function(e){return"string"===typeof e?"'".concat(e,"'"):e})).join(" | "));break;case q_.invalid_arguments:r="Invalid function arguments";break;case q_.invalid_return_type:r="Invalid function return type";break;case q_.invalid_date:r="Invalid date";break;case q_.invalid_string:r="regex"!==e.validation?"Invalid ".concat(e.validation):"Invalid";break;case q_.too_small:r="array"===e.type?"Array must contain ".concat(e.inclusive?"at least":"more than"," ").concat(e.minimum," element(s)"):"string"===e.type?"String must contain ".concat(e.inclusive?"at least":"over"," ").concat(e.minimum," character(s)"):"number"===e.type?"Number must be greater than ".concat(e.inclusive?"or equal to ":"").concat(e.minimum):"Invalid input";break;case q_.too_big:r="array"===e.type?"Array must contain ".concat(e.inclusive?"at most":"less than"," ").concat(e.maximum," element(s)"):"string"===e.type?"String must contain ".concat(e.inclusive?"at most":"under"," ").concat(e.maximum," character(s)"):"number"===e.type?"Number must be less than ".concat(e.inclusive?"or equal to ":"").concat(e.maximum):"Invalid input";break;case q_.custom:r="Invalid input";break;case q_.invalid_intersection_types:r="Intersection results could not be merged";break;case q_.not_multiple_of:r="Number must be a multiple of ".concat(e.multipleOf);break;default:r=t.defaultError,D_.assertNever(e)}return{message:r}},z_=K_,Q_=D_.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Z_=function(e,t){if(t&&t.has(e))return t.get(e);switch(i(e)){case"undefined":return d(e,Q_.undefined,t);case"string":return d(e,Q_.string,t);case"number":return d(e,isNaN(e)?Q_.nan:Q_.number,t);case"boolean":return d(e,Q_.boolean,t);case"function":return d(e,Q_.function,t);case"bigint":return d(e,Q_.bigint,t);case"object":return Array.isArray(e)?d(e,Q_.array,t):null===e?d(e,Q_.null,t):e.then&&"function"===typeof e.then&&e.catch&&"function"===typeof e.catch?d(e,Q_.promise,t):"undefined"!==typeof B_&&e instanceof B_?d(e,Q_.map,t):"undefined"!==typeof U_&&e instanceof U_?d(e,Q_.set,t):"undefined"!==typeof Date&&e instanceof Date?d(e,Q_.date,t):d(e,Q_.object,t);default:return d(e,Q_.unknown,t)}},$_=function(e){var t,r,n=e.data,o=e.path,i=e.errorMaps,a=e.issueData,u=f(f([],l(o),!1),l(a.path||[]),!1),c=H_(H_({},a),{path:u}),d="",h=i.filter((function(e){return!!e})).slice().reverse();try{for(var p=s(h),v=p.next();!v.done;v=p.next()){d=(0,v.value)(c,{data:n,defaultError:d}).message}}catch(y){t={error:y}}finally{try{v&&!v.done&&(r=p.return)&&r.call(p)}finally{if(t)throw t.error}}return H_(H_({},a),{path:u,message:a.message||d})},J_=function(){function e(){this.value="valid"}return e.prototype.dirty=function(){"valid"===this.value&&(this.value="dirty")},e.prototype.abort=function(){"aborted"!==this.value&&(this.value="aborted")},e.mergeArray=function(e,t){var r,n,o=[];try{for(var i=s(t),a=i.next();!a.done;a=i.next()){var u=a.value;if("aborted"===u.status)return X_;"dirty"===u.status&&e.dirty(),o.push(u.value)}}catch(c){r={error:c}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return{status:e.value,value:o}},e.mergeObjectAsync=function(t,r){return u(this,void 0,void 0,(function(){var n,o,i,a,u,l,f,d,h,p;return c(this,(function(c){switch(c.label){case 0:n=[],c.label=1;case 1:c.trys.push([1,7,8,9]),o=s(r),i=o.next(),c.label=2;case 2:return i.done?[3,6]:(a=i.value,l=(u=n).push,p={},[4,a.key]);case 3:return p.key=c.sent(),[4,a.value];case 4:l.apply(u,[(p.value=c.sent(),p)]),c.label=5;case 5:return i=o.next(),[3,2];case 6:return[3,9];case 7:return f=c.sent(),d={error:f},[3,9];case 8:try{i&&!i.done&&(h=o.return)&&h.call(o)}finally{if(d)throw d.error}return[7];case 9:return[2,e.mergeObjectSync(t,n)]}}))}))},e.mergeObjectSync=function(e,t){var r,n,o={};try{for(var i=s(t),a=i.next();!a.done;a=i.next()){var u=a.value,c=u.key,l=u.value;if("aborted"===c.status)return X_;if("aborted"===l.status)return X_;"dirty"===c.status&&e.dirty(),"dirty"===l.status&&e.dirty(),("undefined"!==typeof l.value||u.alwaysSet)&&(o[c.value]=l.value)}}catch(f){r={error:f}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return{status:e.value,value:o}},e}(),X_=Object.freeze({status:"aborted"}),eA=function(e){return{status:"valid",value:e}},tA=function(e){return"aborted"===e.status},rA=function(e){return"dirty"===e.status},nA=function(e){return"valid"===e.status},oA=function(e){return void 0!==("undefined"===typeof M_?"undefined":i(M_))&&e instanceof M_};!function(e){e.errToObj=function(e){return"string"===typeof e?{message:e}:e||{}},e.toString=function(e){return"string"===typeof e?e:null===e||void 0===e?void 0:e.message}}(Y_||(Y_={}));var iA,aA=function(e,t){if(nA(t))return{success:!0,data:t.value};if(!e.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,error:new W_(e.issues)}},uA=function(){function e(e){this.spa=this.safeParseAsync,this.superRefine=this._refinement,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.default=this.default.bind(this),this.describe=this.describe.bind(this),this.isOptional=this.isOptional.bind(this),this.isNullable=this.isNullable.bind(this)}return Object.defineProperty(e.prototype,"description",{get:function(){return this._def.description},enumerable:!1,configurable:!0}),e.prototype._processInputParams=function(e){return{status:new J_,ctx:H_(H_({},e.parent),{data:e.data,parsedType:Z_(e.data,e.parent.typeCache),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent})}},e.prototype._parseSync=function(e){var t=this._parse(e);if(oA(t))throw new Error("Synchronous parse encountered promise.");return t},e.prototype._parseAsync=function(e){var t=this._parse(e);return M_.resolve(t)},e.prototype.parse=function(e,t){var r=this.safeParse(e,t);if(r.success)return r.data;throw r.error},e.prototype.safeParse=function(e,t){var r,n={path:(null===t||void 0===t?void 0:t.path)||[],issues:[],contextualErrorMap:null===t||void 0===t?void 0:t.errorMap,schemaErrorMap:this._def.errorMap,async:null!==(r=null===t||void 0===t?void 0:t.async)&&void 0!==r&&r,typeCache:"undefined"!==typeof B_?new B_:void 0,parent:null,data:e,parsedType:Z_(e)},o=this._parseSync({data:e,path:n.path,parent:n});return aA(n,o)},e.prototype.parseAsync=function(e,t){return u(this,void 0,void 0,(function(){var r;return c(this,(function(n){switch(n.label){case 0:return[4,this.safeParseAsync(e,t)];case 1:if((r=n.sent()).success)return[2,r.data];throw r.error}}))}))},e.prototype.safeParseAsync=function(e,t){return u(this,void 0,void 0,(function(){var r,n,o;return c(this,(function(i){switch(i.label){case 0:return r={path:(null===t||void 0===t?void 0:t.path)||[],issues:[],contextualErrorMap:null===t||void 0===t?void 0:t.errorMap,schemaErrorMap:this._def.errorMap,async:!0,typeCache:"undefined"!==typeof B_?new B_:void 0,parent:null,data:e,parsedType:Z_(e)},n=this._parse({data:e,path:[],parent:r}),[4,oA(n)?n:M_.resolve(n)];case 1:return o=i.sent(),[2,aA(r,o)]}}))}))},e.prototype.refine=function(e,t){return this._refinement((function(r,n){var o=e(r),i=function(){return n.addIssue(H_({code:q_.custom},function(e){return"string"===typeof t||"undefined"===typeof t?{message:t}:"function"===typeof t?t(e):t}(r)))};return"undefined"!==typeof M_&&o instanceof M_?o.then((function(e){return!!e||(i(),!1)})):!!o||(i(),!1)}))},e.prototype.refinement=function(e,t){return this._refinement((function(r,n){return!!e(r)||(n.addIssue("function"===typeof t?t(r,n):t),!1)}))},e.prototype._refinement=function(e){return new VA({schema:this,typeName:OA.ZodEffects,effect:{type:"refinement",refinement:e}})},e.prototype.optional=function(){return BA.create(this)},e.prototype.nullable=function(){return UA.create(this)},e.prototype.nullish=function(){return this.optional().nullable()},e.prototype.array=function(){return EA.create(this)},e.prototype.promise=function(){return MA.create(this)},e.prototype.or=function(e){return AA.create([this,e])},e.prototype.and=function(e){return PA.create(this,e)},e.prototype.transform=function(e){return new VA({schema:this,typeName:OA.ZodEffects,effect:{type:"transform",transform:e}})},e.prototype.default=function(e){return new GA({innerType:this,defaultValue:"function"===typeof e?e:function(){return e},typeName:OA.ZodDefault})},e.prototype.describe=function(e){return new(0,this.constructor)(H_(H_({},this._def),{description:e}))},e.prototype.isOptional=function(){return this.safeParse(void 0).success},e.prototype.isNullable=function(){return this.safeParse(null).success},e}(),cA=/^c[^\s-]{8,}$/i,sA=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,lA=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i,fA=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._regex=function(e,r,n){return t.refinement((function(t){return e.test(t)}),H_({validation:r,code:q_.invalid_string},Y_.errToObj(n)))},t.nonempty=function(e){return t.min(1,Y_.errToObj(e))},t}return a(t,e),t.prototype._parse=function(e){var t,r,n=this._processInputParams(e),o=n.status,i=n.ctx;if(i.parsedType!==Q_.string)return h(i,{code:q_.invalid_type,expected:Q_.string,received:i.parsedType}),X_;try{for(var a=s(this._def.checks),u=a.next();!u.done;u=a.next()){var c=u.value;if("min"===c.kind)i.data.length<c.value&&(h(i,{code:q_.too_small,minimum:c.value,type:"string",inclusive:!0,message:c.message}),o.dirty());else if("max"===c.kind)i.data.length>c.value&&(h(i,{code:q_.too_big,maximum:c.value,type:"string",inclusive:!0,message:c.message}),o.dirty());else if("email"===c.kind)lA.test(i.data)||(h(i,{validation:"email",code:q_.invalid_string,message:c.message}),o.dirty());else if("uuid"===c.kind)sA.test(i.data)||(h(i,{validation:"uuid",code:q_.invalid_string,message:c.message}),o.dirty());else if("cuid"===c.kind)cA.test(i.data)||(h(i,{validation:"cuid",code:q_.invalid_string,message:c.message}),o.dirty());else if("url"===c.kind)try{new V_(i.data)}catch(l){h(i,{validation:"url",code:q_.invalid_string,message:c.message}),o.dirty()}else if("regex"===c.kind){c.regex.lastIndex=0,c.regex.test(i.data)||(h(i,{validation:"regex",code:q_.invalid_string,message:c.message}),o.dirty())}}}catch(f){t={error:f}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return{status:o.value,value:i.data}},t.prototype._addCheck=function(e){return new t(H_(H_({},this._def),{checks:f(f([],l(this._def.checks),!1),[e],!1)}))},t.prototype.email=function(e){return this._addCheck(H_({kind:"email"},Y_.errToObj(e)))},t.prototype.url=function(e){return this._addCheck(H_({kind:"url"},Y_.errToObj(e)))},t.prototype.uuid=function(e){return this._addCheck(H_({kind:"uuid"},Y_.errToObj(e)))},t.prototype.cuid=function(e){return this._addCheck(H_({kind:"cuid"},Y_.errToObj(e)))},t.prototype.regex=function(e,t){return this._addCheck(H_({kind:"regex",regex:e},Y_.errToObj(t)))},t.prototype.min=function(e,t){return this._addCheck(H_({kind:"min",value:e},Y_.errToObj(t)))},t.prototype.max=function(e,t){return this._addCheck(H_({kind:"max",value:e},Y_.errToObj(t)))},t.prototype.length=function(e,t){return this.min(e,t).max(e,t)},Object.defineProperty(t.prototype,"isEmail",{get:function(){return!!this._def.checks.find((function(e){return"email"===e.kind}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isURL",{get:function(){return!!this._def.checks.find((function(e){return"url"===e.kind}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isUUID",{get:function(){return!!this._def.checks.find((function(e){return"uuid"===e.kind}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCUID",{get:function(){return!!this._def.checks.find((function(e){return"cuid"===e.kind}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minLength",{get:function(){var e=-1/0;return this._def.checks.map((function(t){"min"===t.kind&&(null===e||t.value>e)&&(e=t.value)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxLength",{get:function(){var e=null;return this._def.checks.map((function(t){"max"===t.kind&&(null===e||t.value<e)&&(e=t.value)})),e},enumerable:!1,configurable:!0}),t.create=function(e){return new t(H_({checks:[],typeName:OA.ZodString},p(e)))},t}(uA),dA=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.min=t.gte,t.max=t.lte,t.step=t.multipleOf,t}return a(t,e),t.prototype._parse=function(e){var t,r,n,o,i,a,u,c=this._processInputParams(e),l=c.status,f=c.ctx;if(f.parsedType!==Q_.number)return h(f,{code:q_.invalid_type,expected:Q_.number,received:f.parsedType}),X_;try{for(var d=s(this._def.checks),p=d.next();!p.done;p=d.next()){var v=p.value;if("int"===v.kind)D_.isInteger(f.data)||(h(f,{code:q_.invalid_type,expected:"integer",received:"float",message:v.message}),l.dirty());else if("min"===v.kind){(v.inclusive?f.data<v.value:f.data<=v.value)&&(h(f,{code:q_.too_small,minimum:v.value,type:"number",inclusive:v.inclusive,message:v.message}),l.dirty())}else if("max"===v.kind){(v.inclusive?f.data>v.value:f.data>=v.value)&&(h(f,{code:q_.too_big,maximum:v.value,type:"number",inclusive:v.inclusive,message:v.message}),l.dirty())}else"multipleOf"===v.kind?0!==(n=f.data,o=v.value,i=void 0,a=void 0,u=void 0,i=(n.toString().split(".")[1]||"").length,a=(o.toString().split(".")[1]||"").length,u=i>a?i:a,parseInt(n.toFixed(u).replace(".",""))%parseInt(o.toFixed(u).replace(".",""))/Math.pow(10,u))&&(h(f,{code:q_.not_multiple_of,multipleOf:v.value,message:v.message}),l.dirty()):D_.assertNever(v)}}catch(y){t={error:y}}finally{try{p&&!p.done&&(r=d.return)&&r.call(d)}finally{if(t)throw t.error}}return{status:l.value,value:f.data}},t.prototype.gte=function(e,t){return this.setLimit("min",e,!0,Y_.toString(t))},t.prototype.gt=function(e,t){return this.setLimit("min",e,!1,Y_.toString(t))},t.prototype.lte=function(e,t){return this.setLimit("max",e,!0,Y_.toString(t))},t.prototype.lt=function(e,t){return this.setLimit("max",e,!1,Y_.toString(t))},t.prototype.setLimit=function(e,r,n,o){return new t(H_(H_({},this._def),{checks:f(f([],l(this._def.checks),!1),[{kind:e,value:r,inclusive:n,message:Y_.toString(o)}],!1)}))},t.prototype._addCheck=function(e){return new t(H_(H_({},this._def),{checks:f(f([],l(this._def.checks),!1),[e],!1)}))},t.prototype.int=function(e){return this._addCheck({kind:"int",message:Y_.toString(e)})},t.prototype.positive=function(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Y_.toString(e)})},t.prototype.negative=function(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Y_.toString(e)})},t.prototype.nonpositive=function(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Y_.toString(e)})},t.prototype.nonnegative=function(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Y_.toString(e)})},t.prototype.multipleOf=function(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Y_.toString(t)})},Object.defineProperty(t.prototype,"minValue",{get:function(){var e,t,r=null;try{for(var n=s(this._def.checks),o=n.next();!o.done;o=n.next()){var i=o.value;"min"===i.kind&&(null===r||i.value>r)&&(r=i.value)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxValue",{get:function(){var e,t,r=null;try{for(var n=s(this._def.checks),o=n.next();!o.done;o=n.next()){var i=o.value;"max"===i.kind&&(null===r||i.value<r)&&(r=i.value)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isInt",{get:function(){return!!this._def.checks.find((function(e){return"int"===e.kind}))},enumerable:!1,configurable:!0}),t.create=function(e){return new t(H_({checks:[],typeName:OA.ZodNumber},p(e)))},t}(uA),hA=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype._parse=function(e){var t=this._processInputParams(e).ctx;return t.parsedType!==Q_.bigint?(h(t,{code:q_.invalid_type,expected:Q_.bigint,received:t.parsedType}),X_):eA(t.data)},t.create=function(e){return new t(H_({typeName:OA.ZodBigInt},p(e)))},t}(uA),pA=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype._parse=function(e){var t=this._processInputParams(e).ctx;return t.parsedType!==Q_.boolean?(h(t,{code:q_.invalid_type,expected:Q_.boolean,received:t.parsedType}),X_):eA(t.data)},t.create=function(e){return new t(H_({typeName:OA.ZodBoolean},p(e)))},t}(uA),vA=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype._parse=function(e){var t=this._processInputParams(e),r=t.status,n=t.ctx;return n.parsedType!==Q_.date?(h(n,{code:q_.invalid_type,expected:Q_.date,received:n.parsedType}),X_):isNaN(n.data.getTime())?(h(n,{code:q_.invalid_date}),X_):{status:r.value,value:new Date(n.data.getTime())}},t.create=function(e){return new t(H_({typeName:OA.ZodDate},p(e)))},t}(uA),yA=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype._parse=function(e){var t=this._processInputParams(e).ctx;return t.parsedType!==Q_.undefined?(h(t,{code:q_.invalid_type,expected:Q_.undefined,received:t.parsedType}),X_):eA(t.data)},t.create=function(e){return new t(H_({typeName:OA.ZodUndefined},p(e)))},t}(uA),mA=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype._parse=function(e){var t=this._processInputParams(e).ctx;return t.parsedType!==Q_.null?(h(t,{code:q_.invalid_type,expected:Q_.null,received:t.parsedType}),X_):eA(t.data)},t.create=function(e){return new t(H_({typeName:OA.ZodNull},p(e)))},t}(uA),gA=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._any=!0,t}return a(t,e),t.prototype._parse=function(e){var t=this._processInputParams(e).ctx;return eA(t.data)},t.create=function(e){return new t(H_({typeName:OA.ZodAny},p(e)))},t}(uA),bA=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._unknown=!0,t}return a(t,e),t.prototype._parse=function(e){var t=this._processInputParams(e).ctx;return eA(t.data)},t.create=function(e){return new t(H_({typeName:OA.ZodUnknown},p(e)))},t}(uA),wA=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype._parse=function(e){var t=this._processInputParams(e).ctx;return h(t,{code:q_.invalid_type,expected:Q_.never,received:t.parsedType}),X_},t.create=function(e){return new t(H_({typeName:OA.ZodNever},p(e)))},t}(uA),SA=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype._parse=function(e){var t=this._processInputParams(e).ctx;return t.parsedType!==Q_.undefined?(h(t,{code:q_.invalid_type,expected:Q_.void,received:t.parsedType}),X_):eA(t.data)},t.create=function(e){return new t(H_({typeName:OA.ZodVoid},p(e)))},t}(uA),EA=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype._parse=function(e){var t=this._processInputParams(e),r=t.status,n=t.ctx,o=this._def;if(n.parsedType!==Q_.array)return h(n,{code:q_.invalid_type,expected:Q_.array,received:n.parsedType}),X_;if(null!==o.minLength&&n.data.length<o.minLength.value&&(h(n,{code:q_.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,message:o.minLength.message}),r.dirty()),null!==o.maxLength&&n.data.length>o.maxLength.value&&(h(n,{code:q_.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,message:o.maxLength.message}),r.dirty()),n.async)return M_.all(n.data.map((function(e,t){return o.type._parseAsync({parent:n,path:f(f([],l(n.path),!1),[t],!1),data:e})}))).then((function(e){return J_.mergeArray(r,e)}));var i=n.data.map((function(e,t){return o.type._parseSync({parent:n,path:f(f([],l(n.path),!1),[t],!1),data:e})}));return J_.mergeArray(r,i)},Object.defineProperty(t.prototype,"element",{get:function(){return this._def.type},enumerable:!1,configurable:!0}),t.prototype.min=function(e,r){return new t(H_(H_({},this._def),{minLength:{value:e,message:Y_.toString(r)}}))},t.prototype.max=function(e,r){return new t(H_(H_({},this._def),{maxLength:{value:e,message:Y_.toString(r)}}))},t.prototype.length=function(e,t){return this.min(e,t).max(e,t)},t.prototype.nonempty=function(e){return this.min(1,e)},t.create=function(e,r){return new t(H_({type:e,minLength:null,maxLength:null,typeName:OA.ZodArray},p(r)))},t}(uA);!function(e){e.mergeShapes=function(e,t){return H_(H_({},e),t)}}(iA||(iA={}));var OA,kA=function(e){return function(t){return new _A(H_(H_({},e),{shape:function(){return H_(H_({},e.shape()),t)}}))}},_A=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._cached=null,t.nonstrict=t.passthrough,t.augment=kA(t._def),t.extend=kA(t._def),t}return a(t,e),t.prototype._getCached=function(){if(null!==this._cached)return this._cached;var e=this._def.shape(),t=D_.objectKeys(e);return this._cached={shape:e,keys:t}},t.prototype._parse=function(e){var t,r,n,o,i,a,d=this,p=this._processInputParams(e),v=p.status,y=p.ctx;if(y.parsedType!==Q_.object)return h(y,{code:q_.invalid_type,expected:Q_.object,received:y.parsedType}),X_;var m=this._getCached(),g=m.shape,b=m.keys,w=D_.objectKeys(y.data).filter((function(e){return!b.includes(e)})),S=[];try{for(var E=s(b),O=E.next();!O.done;O=E.next()){var k=g[x=O.value],_=y.data[x];S.push({key:{status:"valid",value:x},value:k._parse({parent:y,data:_,path:f(f([],l(y.path),!1),[x],!1)}),alwaysSet:x in y.data})}}catch(I){t={error:I}}finally{try{O&&!O.done&&(r=E.return)&&r.call(E)}finally{if(t)throw t.error}}if(this._def.catchall instanceof wA){var A=this._def.unknownKeys;if("passthrough"===A)try{for(var T=s(w),P=T.next();!P.done;P=T.next()){var x=P.value;S.push({key:{status:"valid",value:x},value:{status:"valid",value:y.data[x]}})}}catch(C){n={error:C}}finally{try{P&&!P.done&&(o=T.return)&&o.call(T)}finally{if(n)throw n.error}}else if("strict"===A)w.length>0&&(h(y,{code:q_.unrecognized_keys,keys:w}),v.dirty());else if("strip"!==A)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{var R=this._def.catchall;try{for(var L=s(w),j=L.next();!j.done;j=L.next()){x=j.value,_=y.data[x];S.push({key:{status:"valid",value:x},value:R._parse({parent:y,path:f(f([],l(y.path),!1),[x],!1),data:_}),alwaysSet:x in y.data})}}catch(D){i={error:D}}finally{try{j&&!j.done&&(a=L.return)&&a.call(L)}finally{if(i)throw i.error}}}return y.async?M_.resolve().then((function(){return u(d,void 0,void 0,(function(){var e,t,r,n,o,i,a,u,l,f,d;return c(this,(function(c){switch(c.label){case 0:e=[],c.label=1;case 1:c.trys.push([1,7,8,9]),t=s(S),r=t.next(),c.label=2;case 2:return r.done?[3,6]:[4,(n=r.value).key];case 3:return o=c.sent(),a=(i=e).push,d={key:o},[4,n.value];case 4:a.apply(i,[(d.value=c.sent(),d.alwaysSet=n.alwaysSet,d)]),c.label=5;case 5:return r=t.next(),[3,2];case 6:return[3,9];case 7:return u=c.sent(),l={error:u},[3,9];case 8:try{r&&!r.done&&(f=t.return)&&f.call(t)}finally{if(l)throw l.error}return[7];case 9:return[2,e]}}))}))})).then((function(e){return J_.mergeObjectSync(v,e)})):J_.mergeObjectSync(v,S)},Object.defineProperty(t.prototype,"shape",{get:function(){return this._def.shape()},enumerable:!1,configurable:!0}),t.prototype.strict=function(e){var r=this;return Y_.errToObj,new t(H_(H_(H_({},this._def),{unknownKeys:"strict"}),void 0!==e?{errorMap:function(t,n){var o,i,a,u,c=null!==(a=null===(i=(o=r._def).errorMap)||void 0===i?void 0:i.call(o,t,n).message)&&void 0!==a?a:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(u=Y_.errToObj(e).message)&&void 0!==u?u:c}:{message:c}}}:{}))},t.prototype.strip=function(){return new t(H_(H_({},this._def),{unknownKeys:"strip"}))},t.prototype.passthrough=function(){return new t(H_(H_({},this._def),{unknownKeys:"passthrough"}))},t.prototype.setKey=function(e,t){var r;return this.augment(((r={})[e]=t,r))},t.prototype.merge=function(e){var r=this;return new t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:function(){return iA.mergeShapes(r._def.shape(),e._def.shape())},typeName:OA.ZodObject})},t.prototype.catchall=function(e){return new t(H_(H_({},this._def),{catchall:e}))},t.prototype.pick=function(e){var r=this,n={};return D_.objectKeys(e).map((function(e){n[e]=r.shape[e]})),new t(H_(H_({},this._def),{shape:function(){return n}}))},t.prototype.omit=function(e){var r=this,n={};return D_.objectKeys(this.shape).map((function(t){-1===D_.objectKeys(e).indexOf(t)&&(n[t]=r.shape[t])})),new t(H_(H_({},this._def),{shape:function(){return n}}))},t.prototype.deepPartial=function(){return v(this)},t.prototype.partial=function(e){var r=this,n={};if(e)return D_.objectKeys(this.shape).map((function(t){-1===D_.objectKeys(e).indexOf(t)?n[t]=r.shape[t]:n[t]=r.shape[t].optional()})),new t(H_(H_({},this._def),{shape:function(){return n}}));for(var o in this.shape){var i=this.shape[o];n[o]=i.optional()}return new t(H_(H_({},this._def),{shape:function(){return n}}))},t.prototype.required=function(){var e={};for(var r in this.shape){for(var n=this.shape[r];n instanceof BA;)n=n._def.innerType;e[r]=n}return new t(H_(H_({},this._def),{shape:function(){return e}}))},t.create=function(e,r){return new t(H_({shape:function(){return e},unknownKeys:"strip",catchall:wA.create(),typeName:OA.ZodObject},p(r)))},t.strictCreate=function(e,r){return new t(H_({shape:function(){return e},unknownKeys:"strict",catchall:wA.create(),typeName:OA.ZodObject},p(r)))},t.lazycreate=function(e,r){return new t(H_({shape:e,unknownKeys:"strip",catchall:wA.create(),typeName:OA.ZodObject},p(r)))},t}(uA),AA=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype._parse=function(e){function t(e){var t,r,o,i,a;try{for(var u=s(e),c=u.next();!c.done;c=u.next()){if("valid"===(v=c.value).result.status)return v.result}}catch(m){t={error:m}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}try{for(var d=s(e),p=d.next();!p.done;p=d.next()){var v;if("dirty"===(v=p.value).result.status)return(a=n.issues).push.apply(a,f([],l(v.ctx.issues),!1)),v.result}}catch(g){o={error:g}}finally{try{p&&!p.done&&(i=d.return)&&i.call(d)}finally{if(o)throw o.error}}var y=e.map((function(e){return new W_(e.ctx.issues)}));return h(n,{code:q_.invalid_union,unionErrors:y}),X_}var r=this,n=this._processInputParams(e).ctx,o=this._def.options;return n.async?M_.all(o.map((function(e){return u(r,void 0,void 0,(function(){var t,r;return c(this,(function(o){switch(o.label){case 0:return t=H_(H_({},n),{issues:[],parent:null}),r={},[4,e._parseAsync({data:n.data,path:n.path,parent:t})];case 1:return[2,(r.result=o.sent(),r.ctx=t,r)]}}))}))}))).then(t):t(o.map((function(e){var t=H_(H_({},n),{issues:[],parent:null});return{result:e._parseSync({data:n.data,path:n.path,parent:t}),ctx:t}})))},Object.defineProperty(t.prototype,"options",{get:function(){return this._def.options},enumerable:!1,configurable:!0}),t.create=function(e,r){return new t(H_({options:e,typeName:OA.ZodUnion},p(r)))},t}(uA),TA=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype._parse=function(e){var t=this._processInputParams(e).ctx;if(t.parsedType!==Q_.object)return h(t,{code:q_.invalid_type,expected:Q_.object,received:t.parsedType}),X_;var r=this.discriminator,n=t.data[r],o=this.options.get(n);return o?t.async?o._parseAsync({data:t.data,path:t.path,parent:t}):o._parseSync({data:t.data,path:t.path,parent:t}):(h(t,{code:q_.invalid_union_discriminator,options:this.validDiscriminatorValues,path:[r]}),X_)},Object.defineProperty(t.prototype,"discriminator",{get:function(){return this._def.discriminator},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"validDiscriminatorValues",{get:function(){return Array.from(this.options.keys())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this._def.options},enumerable:!1,configurable:!0}),t.create=function(e,r,n){var o=new B_;try{r.forEach((function(t){var r=t.shape[e].value;o.set(r,t)}))}catch(i){throw new Error("The discriminator value could not be extracted from all the provided schemas")}if(o.size!==r.length)throw new Error("Some of the discriminator values are not unique");return new t(H_({typeName:OA.ZodDiscriminatedUnion,discriminator:e,options:o},p(n)))},t}(uA),PA=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype._parse=function(e){var t=this._processInputParams(e),r=t.status,n=t.ctx,o=function(e,t){if(tA(e)||tA(t))return X_;var o=function e(t,r){var n,o,i=Z_(t),a=Z_(r);if(t===r)return{valid:!0,data:t};if(i===Q_.object&&a===Q_.object){var u=D_.objectKeys(r),c=D_.objectKeys(t).filter((function(e){return-1!==u.indexOf(e)})),l=H_(H_({},t),r);try{for(var f=s(c),d=f.next();!d.done;d=f.next()){var h=d.value;if(!(y=e(t[h],r[h])).valid)return{valid:!1};l[h]=y.data}}catch(m){n={error:m}}finally{try{d&&!d.done&&(o=f.return)&&o.call(f)}finally{if(n)throw n.error}}return{valid:!0,data:l}}if(i===Q_.array&&a===Q_.array){if(t.length!==r.length)return{valid:!1};for(var p=[],v=0;v<t.length;v++){var y;if(!(y=e(t[v],r[v])).valid)return{valid:!1};p.push(y.data)}return{valid:!0,data:p}}return i===Q_.date&&a===Q_.date&&+t===+r?{valid:!0,data:t}:{valid:!1}}(e.value,t.value);return o.valid?((rA(e)||rA(t))&&r.dirty(),{status:r.value,value:o.data}):(h(n,{code:q_.invalid_intersection_types}),X_)};return n.async?M_.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((function(e){var t=l(e,2),r=t[0],n=t[1];return o(r,n)})):o(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))},t.create=function(e,r,n){return new t(H_({left:e,right:r,typeName:OA.ZodIntersection},p(n)))},t}(uA),xA=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype._parse=function(e){var t=this,r=this._processInputParams(e),n=r.status,o=r.ctx;if(o.parsedType!==Q_.array)return h(o,{code:q_.invalid_type,expected:Q_.array,received:o.parsedType}),X_;if(o.data.length<this._def.items.length)return h(o,{code:q_.too_small,minimum:this._def.items.length,inclusive:!0,type:"array"}),X_;!this._def.rest&&o.data.length>this._def.items.length&&(h(o,{code:q_.too_big,maximum:this._def.items.length,inclusive:!0,type:"array"}),n.dirty());var i=o.data.map((function(e,r){var n=t._def.items[r]||t._def.rest;return n?n._parse({data:e,path:f(f([],l(o.path),!1),[r],!1),parent:o}):null})).filter((function(e){return!!e}));return o.async?M_.all(i).then((function(e){return J_.mergeArray(n,e)})):J_.mergeArray(n,i)},Object.defineProperty(t.prototype,"items",{get:function(){return this._def.items},enumerable:!1,configurable:!0}),t.prototype.rest=function(e){return new t(H_(H_({},this._def),{rest:e}))},t.create=function(e,r){return new t(H_({items:e,typeName:OA.ZodTuple,rest:null},p(r)))},t}(uA),RA=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),Object.defineProperty(t.prototype,"keySchema",{get:function(){return this._def.keyType},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"valueSchema",{get:function(){return this._def.valueType},enumerable:!1,configurable:!0}),t.prototype._parse=function(e){var t=this._processInputParams(e),r=t.status,n=t.ctx;if(n.parsedType!==Q_.object)return h(n,{code:q_.invalid_type,expected:Q_.object,received:n.parsedType}),X_;var o=[],i=this._def.keyType,a=this._def.valueType;for(var u in n.data)o.push({key:i._parse({data:u,path:f(f([],l(n.path),!1),[u],!1),parent:n}),value:a._parse({data:n.data[u],path:f(f([],l(n.path),!1),[u],!1),parent:n})});return n.async?J_.mergeObjectAsync(r,o):J_.mergeObjectSync(r,o)},Object.defineProperty(t.prototype,"element",{get:function(){return this._def.valueType},enumerable:!1,configurable:!0}),t.create=function(e,r,n){return new t(r instanceof uA?H_({keyType:e,valueType:r,typeName:OA.ZodRecord},p(n)):H_({keyType:fA.create(),valueType:e,typeName:OA.ZodRecord},p(r)))},t}(uA),LA=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype._parse=function(e){var t,r,n=this,o=this._processInputParams(e),i=o.status,a=o.ctx;if(a.parsedType!==Q_.map)return h(a,{code:q_.invalid_type,expected:Q_.map,received:a.parsedType}),X_;var d=this._def.keyType,p=this._def.valueType,v=f([],l(a.data.entries()),!1).map((function(e,t){var r=l(e,2),n=r[0],o=r[1];return{key:d._parse({data:n,path:f(f([],l(a.path),!1),[t,"key"],!1),parent:a}),value:p._parse({data:o,path:f(f([],l(a.path),!1),[t,"value"],!1),parent:a})}}));if(a.async){var y=new B_;return M_.resolve().then((function(){return u(n,void 0,void 0,(function(){var e,t,r,n,o,a,u,l;return c(this,(function(c){switch(c.label){case 0:c.trys.push([0,6,7,8]),e=s(v),t=e.next(),c.label=1;case 1:return t.done?[3,5]:[4,(r=t.value).key];case 2:return n=c.sent(),[4,r.value];case 3:if(o=c.sent(),"aborted"===n.status||"aborted"===o.status)return[2,X_];"dirty"!==n.status&&"dirty"!==o.status||i.dirty(),y.set(n.value,o.value),c.label=4;case 4:return t=e.next(),[3,1];case 5:return[3,8];case 6:return a=c.sent(),u={error:a},[3,8];case 7:try{t&&!t.done&&(l=e.return)&&l.call(e)}finally{if(u)throw u.error}return[7];case 8:return[2,{status:i.value,value:y}]}}))}))}))}var m=new B_;try{for(var g=s(v),b=g.next();!b.done;b=g.next()){var w=b.value,S=w.key,E=w.value;if("aborted"===S.status||"aborted"===E.status)return X_;"dirty"!==S.status&&"dirty"!==E.status||i.dirty(),m.set(S.value,E.value)}}catch(O){t={error:O}}finally{try{b&&!b.done&&(r=g.return)&&r.call(g)}finally{if(t)throw t.error}}return{status:i.value,value:m}},t.create=function(e,r,n){return new t(H_({valueType:r,keyType:e,typeName:OA.ZodMap},p(n)))},t}(uA),jA=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype._parse=function(e){function t(e){var t,r,o=new U_;try{for(var i=s(e),a=i.next();!a.done;a=i.next()){var u=a.value;if("aborted"===u.status)return X_;"dirty"===u.status&&n.dirty(),o.add(u.value)}}catch(c){t={error:c}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return{status:n.value,value:o}}var r=this._processInputParams(e),n=r.status,o=r.ctx;if(o.parsedType!==Q_.set)return h(o,{code:q_.invalid_type,expected:Q_.set,received:o.parsedType}),X_;var i=this._def;null!==i.minSize&&o.data.size<i.minSize.value&&(h(o,{code:q_.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,message:i.minSize.message}),n.dirty()),null!==i.maxSize&&o.data.size>i.maxSize.value&&(h(o,{code:q_.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,message:i.maxSize.message}),n.dirty());var a=this._def.valueType,u=f([],l(o.data.values()),!1).map((function(e,t){return a._parse({data:e,path:f(f([],l(o.path),!1),[t],!1),parent:o})}));return o.async?M_.all(u).then((function(e){return t(e)})):t(u)},t.prototype.min=function(e,r){return new t(H_(H_({},this._def),{minSize:{value:e,message:Y_.toString(r)}}))},t.prototype.max=function(e,r){return new t(H_(H_({},this._def),{maxSize:{value:e,message:Y_.toString(r)}}))},t.prototype.size=function(e,t){return this.min(e,t).max(e,t)},t.prototype.nonempty=function(e){return this.min(1,e)},t.create=function(e,r){return new t(H_({valueType:e,minSize:null,maxSize:null,typeName:OA.ZodSet},p(r)))},t}(uA),IA=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.validate=t.implement,t}return a(t,e),t.prototype._parse=function(e){function t(e,t){return $_({data:e,path:o.path,errorMaps:[o.contextualErrorMap,o.schemaErrorMap,z_,K_].filter((function(e){return!!e})),issueData:{code:q_.invalid_arguments,argumentsError:t}})}function r(e,t){return $_({data:e,path:o.path,errorMaps:[o.contextualErrorMap,o.schemaErrorMap,z_,K_].filter((function(e){return!!e})),issueData:{code:q_.invalid_return_type,returnTypeError:t}})}var n=this,o=this._processInputParams(e).ctx;if(o.parsedType!==Q_.function)return h(o,{code:q_.invalid_type,expected:Q_.function,received:o.parsedType}),X_;var i={errorMap:o.contextualErrorMap},a=o.data;return this._def.returns instanceof MA?eA((function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];return u(n,void 0,void 0,(function(){var n,o,u;return c(this,(function(c){switch(c.label){case 0:return n=new W_([]),[4,this._def.args.parseAsync(e,i).catch((function(r){throw n.addIssue(t(e,r)),n}))];case 1:return o=c.sent(),[4,a.apply(void 0,f([],l(o),!1))];case 2:return u=c.sent(),[4,this._def.returns._def.type.parseAsync(u,i).catch((function(e){throw n.addIssue(r(u,e)),n}))];case 3:return[2,c.sent()]}}))}))})):eA((function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var u=n._def.args.safeParse(e,i);if(!u.success)throw new W_([t(e,u.error)]);var c=a.apply(void 0,f([],l(u.data),!1)),s=n._def.returns.safeParse(c,i);if(!s.success)throw new W_([r(c,s.error)]);return s.data}))},t.prototype.parameters=function(){return this._def.args},t.prototype.returnType=function(){return this._def.returns},t.prototype.args=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return new t(H_(H_({},this._def),{args:xA.create(e).rest(bA.create())}))},t.prototype.returns=function(e){return new t(H_(H_({},this._def),{returns:e}))},t.prototype.implement=function(e){return this.parse(e)},t.prototype.strictImplement=function(e){return this.parse(e)},t.create=function(e,r,n){return new t(H_({args:e?e.rest(bA.create()):xA.create([]).rest(bA.create()),returns:r||bA.create(),typeName:OA.ZodFunction},p(n)))},t}(uA),CA=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),Object.defineProperty(t.prototype,"schema",{get:function(){return this._def.getter()},enumerable:!1,configurable:!0}),t.prototype._parse=function(e){var t=this._processInputParams(e).ctx;return this._def.getter()._parse({data:t.data,path:t.path,parent:t})},t.create=function(e,r){return new t(H_({getter:e,typeName:OA.ZodLazy},p(r)))},t}(uA),DA=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype._parse=function(e){var t=this._processInputParams(e),r=t.status,n=t.ctx;return n.data!==this._def.value?(h(n,{code:q_.invalid_type,expected:Z_(this._def.value),received:n.parsedType}),X_):{status:r.value,value:n.data}},Object.defineProperty(t.prototype,"value",{get:function(){return this._def.value},enumerable:!1,configurable:!0}),t.create=function(e,r){return new t(H_({value:e,typeName:OA.ZodLiteral},p(r)))},t}(uA),NA=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype._parse=function(e){var t=this._processInputParams(e).ctx;return-1===this._def.values.indexOf(t.data)?(h(t,{code:q_.invalid_enum_value,options:this._def.values}),X_):eA(t.data)},Object.defineProperty(t.prototype,"options",{get:function(){return this._def.values},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enum",{get:function(){var e,t,r={};try{for(var n=s(this._def.values),o=n.next();!o.done;o=n.next()){var i=o.value;r[i]=i}}catch(a){e={error:a}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Values",{get:function(){var e,t,r={};try{for(var n=s(this._def.values),o=n.next();!o.done;o=n.next()){var i=o.value;r[i]=i}}catch(a){e={error:a}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Enum",{get:function(){var e,t,r={};try{for(var n=s(this._def.values),o=n.next();!o.done;o=n.next()){var i=o.value;r[i]=i}}catch(a){e={error:a}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return r},enumerable:!1,configurable:!0}),t.create=y,t}(uA),FA=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype._parse=function(e){var t=this._processInputParams(e).ctx,r=D_.getValidEnumValues(this._def.values);return-1===r.indexOf(t.data)?(h(t,{code:q_.invalid_enum_value,options:D_.objectValues(r)}),X_):eA(t.data)},t.create=function(e,r){return new t(H_({values:e,typeName:OA.ZodNativeEnum},p(r)))},t}(uA),MA=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype._parse=function(e){var t=this,r=this._processInputParams(e).ctx;if(r.parsedType!==Q_.promise&&!1===r.async)return h(r,{code:q_.invalid_type,expected:Q_.promise,received:r.parsedType}),X_;var n=r.parsedType===Q_.promise?r.data:M_.resolve(r.data);return eA(n.then((function(e){return t._def.type.parseAsync(e,{path:r.path,errorMap:r.contextualErrorMap})})))},t.create=function(e,r){return new t(H_({type:e,typeName:OA.ZodPromise},p(r)))},t}(uA),VA=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.innerType=function(){return this._def.schema},t.prototype._parse=function(e){var t=this,r=this._processInputParams(e),n=r.status,o=r.ctx,i=this._def.effect||null;if("preprocess"===i.type){var a=i.transform(o.data);return o.async?M_.resolve(a).then((function(e){return t._def.schema._parseAsync({data:e,path:o.path,parent:o})})):this._def.schema._parseSync({data:a,path:o.path,parent:o})}if("refinement"===i.type){var u={addIssue:function(e){h(o,e),e.fatal?n.abort():n.dirty()},get path(){return o.path}};u.addIssue=u.addIssue.bind(u);var c=function(e){var t=i.refinement(e,u);if(o.async)return M_.resolve(t);if(t instanceof M_)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===o.async){var s=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});return"aborted"===s.status?X_:("dirty"===s.status&&n.dirty(),c(s.value),{status:n.value,value:s.value})}return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then((function(e){return"aborted"===e.status?X_:("dirty"===e.status&&n.dirty(),c(e.value).then((function(){return{status:n.value,value:e.value}})))}))}if("transform"===i.type){if(!1===o.async){var l=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});if(!nA(l))return l;var f=i.transform(l.value);if(f instanceof M_)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return eA(f)}return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then((function(e){return nA(e)?M_.resolve(i.transform(e.value)).then(eA):e}))}D_.assertNever(i)},t.create=function(e,r,n){return new t(H_({schema:e,typeName:OA.ZodEffects,effect:r},p(n)))},t.createWithPreprocess=function(e,r,n){return new t(H_({schema:r,effect:{type:"preprocess",transform:e},typeName:OA.ZodEffects},p(n)))},t}(uA),BA=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype._parse=function(e){var t=this._processInputParams(e).ctx;return t.parsedType===Q_.undefined?eA(void 0):this._def.innerType._parse({data:t.data,path:t.path,parent:t})},t.prototype.unwrap=function(){return this._def.innerType},t.create=function(e,r){return new t(H_({innerType:e,typeName:OA.ZodOptional},p(r)))},t}(uA),UA=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype._parse=function(e){var t=this._processInputParams(e).ctx;return t.parsedType===Q_.null?eA(null):this._def.innerType._parse({data:t.data,path:t.path,parent:t})},t.prototype.unwrap=function(){return this._def.innerType},t.create=function(e,r){return new t(H_({innerType:e,typeName:OA.ZodNullable},p(r)))},t}(uA),GA=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype._parse=function(e){var t=this._processInputParams(e).ctx,r=t.data;return t.parsedType===Q_.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})},t.prototype.removeDefault=function(){return this._def.innerType},t.create=function(e,t){return new BA(H_({innerType:e,typeName:OA.ZodOptional},p(t)))},t}(uA),HA=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype._parse=function(e){var t=this._processInputParams(e),r=t.status,n=t.ctx;return n.parsedType!==Q_.nan?(h(n,{code:q_.invalid_type,expected:Q_.nan,received:n.parsedType}),X_):{status:r.value,value:n.data}},t.create=function(e){return new t(H_({typeName:OA.ZodNaN},p(e)))},t}(uA);_A.lazycreate;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodPromise="ZodPromise"}(OA||(OA={}));var YA,qA,WA,KA=fA.create,zA=dA.create,QA=(HA.create,hA.create,pA.create),ZA=(vA.create,yA.create),$A=(mA.create,gA.create),JA=bA.create,XA=wA.create,eT=(SA.create,EA.create),tT=_A.create,rT=(_A.strictCreate,AA.create),nT=(TA.create,PA.create),oT=(xA.create,RA.create,LA.create,jA.create,IA.create),iT=(CA.create,DA.create),aT=NA.create,uT=(FA.create,MA.create,VA.create,BA.create),cT=(UA.create,VA.createWithPreprocess,function(e){function t(e,r){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i="object"===b(e)?e:{message:String(e),code:0};P(E(n=c.call(this,i.message||String(i.code))),"message",void 0),P(E(n),"messageDetails",void 0),P(E(n),"code",void 0),P(E(n),"category",void 0),P(E(n),"isFatal",void 0),P(E(n),"details",void 0),P(E(n),"stack",void 0),P(E(n),"vsid",void 0),P(E(n),"helpLink",void 0),L_()(E(n),t.prototype),n.message=i.message||String(i.code)||n.message,n.messageDetails=i.messageDetails,n.code=i.code;var a=o(n.code);if(n.category=null!==i&&void 0!==i&&i.category&&a===C_.q.DEFAULT?i.category:a,n.details=i.details,n.isFatal=void 0===i.isFatal||i.isFatal,n.stack=i.stack&&"?:?:?"!==i.stack?i.stack:n.details&&n.details.stack||function(e,t){var r=e.url,n=e.line,o=e.col,i=e.fileName,a=e.columnNumber,u=e.lineNumber;return String(t||"".concat(r||i||"?",":").concat(n||u||"?",":").concat(o||a||"?"))}(i,E(n).stack),!n.stack||n.stack===x_.J.stack)try{throw new Error(n.message)}catch(u){(0,N_.K)(u)&&(n.stack=u.stack||x_.J.stack)}return n.helpLink=i.helpLink||void 0,n.vsid=r||i.vsid,n}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A(e,t)}(t,e);var r,n,i,a,u,c=(r=t,n=_(),function(){var e,t=T(r);if(n){var o=T(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return S(this,e)});return i=t,u=[{key:"from",value:function(e){var r,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=null!==(r=null!==(n=o.code)&&void 0!==n?n:(0,j_.Y)((function(){return e.code})))&&void 0!==r?r:0;return e instanceof t?o?new t(g(g(g({},e),o),{},{code:i})):e:e instanceof W_?new t(g(o?g(g({},e),o):g({},e),{},{code:i})):(0,F_.V)(e)?new t(g(g(g({},e),o),{},{code:i})):(0,I_.H)(e)?new t(g(g({message:e},o),{},{code:i})):new t(g(g({message:"UNEXPECTED_ERROR_TYPE"},o),{},{code:i}))}}],(a=[{key:"toString",value:function(){return JSON.stringify(this.toJSON())}},{key:"toJSON",value:function(){var e={message:this.message,messageDetails:this.messageDetails,code:this.code,category:this.category,isFatal:this.isFatal,details:this.details,stack:this.stack,vsid:this.vsid,helpLink:this.helpLink||void 0};return g(g({},e),{},{raw:JSON.stringify(e)})}}])&&w(i.prototype,a),u&&w(i,u),Object.defineProperty(i,"prototype",{writable:!1}),t}(O(Error))),sT=function(e){return"hidden"in e?"hidden":"webkitHidden"in e?"webkitHidden":void 0},lT=r(20290),fT=0;!function(e){e.PLAY="play",e.PAUSE="pause",e.BUFFERING="buffering",e.END="end"}(YA||(YA={})),function(e){e.Unknown="Unknown",e.ExternalApi="ExternalApi",e.VisiblePlayback="VisiblePlayback",e.PlayRejected="PlayRejected",e.RestoreAfterInsertInto="RestoreAfterInsertInto",e.WaitForSourceConfigUpdate="WaitForSourceConfigUpdate",e.CompletedRecoverSourceConfig="CompletedRecoverSourceConfig",e.StartPlayingAnotherPlayer="StartPlayingAnotherPlayer",e.PlayerListSdkPauseOnActiveItemChange="PlayerListSdkPauseOnActiveItemChange",e.BackwardPlayback="BackwardPlayback"}(qA||(qA={})),function(e){e.init="init",e.ready="ready",e.broken="broken",e.destroyed="destroyed"}(WA||(WA={}));var dT,hT,pT,vT,yT,mT,gT=r(69497),bT=["play","setSource","destroy"],wT=["sendReportLog","preloadSource","requestVideoElementFullscreen","requestDebugInfo","requestExternalPlay","requestExternalPlayerList","insertInto","playAdViewers","seekToNextFrame","seekToPreviousFrame"].concat(function(e){if(Array.isArray(e))return j(e)}(dT=bT)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(dT)||function(e,t){if(e){if("string"===typeof e)return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?j(e,t):void 0}}(dT)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),ST=["pause","on","once","off","publicEmit"],ET=["setVideoTrack","setAudioTrack","setTextTrack","changeAdditionalParams","exitVideoElementFullscreen","setPlaybackRate","setMuted","setVolume","setPictureInPictureAllowed","setVideoStyle","setNativeControlsVisibility","setNativeTextTrackVisibility","logEvent","logEventInternal","logError","seek","playInrollAd","skipAdPod","setNativeAdControlsVisibility","setDebugPanelVisibility"].concat(function(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return I(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(ST)),OT=r(69780),kT=r(78490),_T=r(83361),AT=[].concat(B(ST),B(bT)),TT=r(8450);!function(e){e.NATIVE="native",e.HLS="hls",e.MP4="mp4",e.YASP="yasp"}(hT||(hT={}));var PT,xT=(Y(pT={AD:"play.start.adsdk"},hT.YASP,"play.start.yasp"),Y(pT,hT.NATIVE,"play.start.native"),Y(pT,hT.HLS,"play.start.hls"),Y(pT,hT.MP4,"play.start.mp4"),pT),RT=(Y(vT={AD:"play.start.adsdk"},hT.YASP,"play.start.adsdk.yasp"),Y(vT,hT.NATIVE,"play.start.adsdk.native"),Y(vT,hT.HLS,"play.start.adsdk.hls"),Y(vT,hT.MP4,"play.start.adsdk.mp4"),vT),LT=(Y(yT={AD:"network.start.adsdk"},hT.YASP,"network.start.yasp"),Y(yT,hT.NATIVE,"network.start.native"),Y(yT,hT.HLS,"network.start.hls"),Y(yT,hT.MP4,"network.start.mp4"),yT),jT=(Y(mT={AD:"network.start.adsdk"},hT.YASP,"network.start.adsdk.yasp"),Y(mT,hT.NATIVE,"network.start.adsdk.native"),Y(mT,hT.HLS,"network.start.adsdk.hls"),Y(mT,hT.MP4,"network.start.adsdk.mp4"),mT);!function(e){e.Ready="Ready",e.SkinReady="SkinReady",e.PosterReady="PosterReady",e.UserReady="UserReady",e.Destroy="Destroy",e.ContentImpression="ContentImpression",e.ResourcesIdle="ResourcesIdle",e.SourceChange="SourceChange",e.StreamChange="StreamChange",e.StreamsWithSupportInfoChange="StreamsWithSupportInfoChange",e.StartStageChange="StartStageChange",e.PlayingStateChange="PlayingStateChange",e.RequestPlayingState="RequestPlayingState",e.VideoTypeChange="VideoTypeChange",e.UtcStartTimeChange="UtcStartTimeChange",e.DVRStartTimeChange="DVRStartTimeChange",e.DVRDurationChange="DVRDurationChange",e.CurrentTimeChange="CurrentTimeChange",e.WatchedTimeChange="WatchedTimeChange",e.LiveLatencyChange="LiveLatencyChange",e.DurationChange="DurationChange",e.VolumeChange="VolumeChange",e.MutedChange="MutedChange",e.VolumeChangeReasonChange="VolumeChangeReasonChange",e.FullscreenStateChange="FullscreenStateChange",e.RequestFullscreenStateChange="RequestFullscreenStateChange",e.PictureInPictureStateChange="PictureInPictureStateChange",e.VisibleStateChange="VisibleStateChange",e.VideoSizeChange="VideoSizeChange",e.VideoTracksChange="VideoTracksChange",e.VideoTrackChange="VideoTrackChange",e.AudioTracksChange="AudioTracksChange",e.AudioTrackChange="AudioTrackChange",e.TextTracksChange="TextTracksChange",e.TextTrackChange="TextTrackChange",e.SubtitlesChange="SubtitlesChange",e.ErrorChange="ErrorChange",e.PlaybackRateRangeChange="PlaybackRateRangeChange",e.PlaybackRateChange="PlaybackRateChange",e.AdStateChange="AdStateChange",e.NextAdRemainingTimeChange="NextAdRemainingTimeChange",e.BeforeAdPodStart="BeforeAdPodStart",e.AdPodStart="AdPodStart",e.AdPodSkip="AdPodSkip",e.AdPodEnd="AdPodEnd",e.AdSkippableStateChange="AdSkippableStateChange",e.AdVolumeAvailabilityStateChange="AdVolumeAvailabilityStateChange",e.AdPodCloseStateChange="AdPodCloseStateChange",e.AdPodDurationChange="AdPodDurationChange",e.AdPodCurrentTimeChange="AdPodCurrentTimeChange",e.AdPodTimeToSkipChange="AdPodTimeToSkipChange",e.AdInteraction="AdInteraction",e.BufferedRangesChange="BufferedRangesChange",e.TileMetaInfoChange="TileMetaInfoChange",e.TileMetaInfoUrlChange="TileMetaInfoUrlChange",e.RecoverStart="RecoverStart",e.ConnectionQualityChange="ConnectionQualityChange",e.DrmSystemChange="DrmSystemChange",e.AdLoaded="AdLoaded",e.AdError="AdError",e.AdPodClick="AdPodClick",e.InrollFrame="InrollFrame",e.UgcLiveStatusChange="UgcLiveStatusChange",e.FrameRendered="FrameRendered",e.RequestSeek="RequestSeek"}(PT||(PT={}));var IT=K("object"===("undefined"===typeof self?"undefined":W(self))?self:window),CT=r(15168),DT=r(10525),NT=function(){},FT=function(e){return!0},MT=r(83361),VT=r(83361),BT=[].concat(le(wT),le(ET),["getState","getReadyState"]),UT=window;UT.Ya||(UT.Ya={}),UT.Ya.playerApi||(UT.Ya.playerApi={}),UT.Ya.playerApi.METHODS||(UT.Ya.playerApi.METHODS=BT);window.Ya.playerApi;var GT,HT=window.Ya.playerApi,YT={},qT={},WT="",KT=!1,zT=x(document);R(document,(function(e){e||(zT=e)}));var QT=-1,ZT=["additional"],$T=["additional","initSubpage"],JT="ll".concat("1.0-12463");var XT,eP,tP,rP=r(83361),nP=["setReadyInstance","setInstance"],oP=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return XT||(XT=e.document.createElement("div")),XT}(window),iP=function(e,t){var r="undefined"!==typeof oP.style[e];if(r&&t&&(0,I_.H)(t))try{oP.style.cssText="".concat(e,": ").concat(t,";");var n=Boolean(oP.style.cssText);return oP.style.cssText="",n}catch(o){return!1}return r},aP=["","webkit","moz","o","ms"],uP={},cP=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return uP[e]||Ye(e)},sP=r(64059),lP=r(19526),fP=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{preserveConstructors:!0},n=t;if((0,sP.k)(t)){var o=t.map((function(t){return e(t,r)}));return o}return We(t)?new Date(t.getTime()):(!(0,OT.m)(t)&&(0,N_.K)(t)&&(n=r.preserveConstructors?Object.create(t):{},(0,kT.M)(t,(function(t,o){n[o]=e(t,r)}))),n)},dP=function(e){try{return"display"in ze(e)}catch(t){return!1}},hP=r(27794),pP=r(83361),vP=function(e){return function(e){return e instanceof pP||"Promise"===(0,lP.M)(e)&&Boolean((0,j_.Y)((function(){return(0,hP.t)(e.constructor)})))}(e)||function(e){return Boolean((0,j_.Y)((function(){return(0,OT.m)(e.then)&&(0,OT.m)(e.catch)})))}(e)},yP=r(29015),mP=r(49257),gP=function(e,t,r){for(var n=new Array(e.length),o=0;o<e.length;o++)n[o]=t.call(r,e[o],o,e);return n},bP=(0,r(15699).z)(),wP=tt(document.documentElement),SP=function(){var e=gP(wP,(function(e){return e.ownerDocument})),t=e.length,r=(t?e[t-1]:document).defaultView;return!!r&&r.self!==r.parent}(),EP=r(83361),OP=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),it(this,"on",[]),it(this,"once",[])}var t,r,n;return t=e,(r=[{key:"add",value:function(){for(var e,t=this,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=this.on).push.apply(e,n),function(){return t.remove.apply(t,n)}}},{key:"addOne",value:function(){for(var e,t=this,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=this.once).push.apply(e,n),function(){return t.remove.apply(t,n)}}},{key:"promise",value:function(){var e=this;return new EP((function(t){return e.addOne(t)}))}},{key:"dispatch",value:function(e){var t=this.once;this.once=[],nt(this.on,e),nt(t,e)}},{key:"removeAll",value:function(){this.on.length=0,this.once.length=0}},{key:"remove",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.on=this.on.filter((function(e){return t.indexOf(e)<0})),this.once=this.once.filter((function(e){return t.indexOf(e)<0}))}}])&&ot(t.prototype,r),n&&ot(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),kP=function(e){function t(e){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t){return e===t};return ut(this,t),(r=i.call(this)).checkToEqualFunction=n,yt(pt(r),"value",void 0),r.value=e,r}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ft(e,t)}(t,e);var r,n,o,i=dt(t);return r=t,(n=[{key:"getValue",value:function(){return this.value}},{key:"subscribeValueCondition",value:function(e,t){return this.add((function(r){e(r)&&rt(t,r)}))}},{key:"subscribeValueConditionOnce",value:function(e,t){var r=this.subscribeValueCondition(e,(function(e){r(),rt(t,e)}));return r}},{key:"dispatch",value:function(e){this.checkToEqualFunction(this.value,e)||(this.value=e,st(vt(t.prototype),"dispatch",this).call(this,e))}}])&&ct(r.prototype,n),o&&ct(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(OP),_P=r(10855),AP=r.n(_P);!function(e){e.OFFLINE="offline",e.IDLE="idle",e.ATTEMPT="attempt",e.PLAYING="playing",e.ERROR="error"}(eP||(eP={})),function(e){e.init="init",e.waitForUserPlay="waitForUserPlay",e.waitForDocumentVisibility="waitForDocumentVisibility",e.starting="starting",e.started="started",e.broken="broken",e.destroyed="destroyed"}(tP||(tP={}));var TP,PP,xP,RP,LP,jP,IP,CP,DP=r(2428),NP=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=(0,DP.i)(e).toLowerCase();return/windows/.test(t)}(),FP=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=(0,DP.i)(e).toLowerCase(),r=/windows nt (\d+\.\d+)/.exec(t);if(r){var n=Number(r[1]);return n>0?n:-1}return-1}(),MP=(mt(TP={},C_.q.MEDIA,"https://yandex.ru/support/video-player/loading-issues.html"),mt(TP,C_.q.NETWORK_MEDIA,"https://yandex.ru/support/video-player/loading-issues.html"),mt(TP,C_.q.NETWORK_PLAYER,"https://yandex.ru/support/video-player/player-issues.html"),mt(TP,C_.q.NETWORK_TIMEOUT,"https://yandex.ru/support/video-player/player-issues.html"),mt(TP,C_.q.NO_CODECS,"https://yandex.ru/search/?text=\u043a\u043e\u0434\u0435\u043a\u0438"),mt(TP,C_.q.UNSUPPORTED_ENV,"https://yandex.ru/soft/browsers/"),mt(TP,C_.q.EXCEPTION,"https://yandex.ru/support/video-player/loading-issues.html"),mt(TP,C_.q.DRM,"https://yandex.ru/support/video-player/drm.html"),mt(TP,C_.q.BANNED,null),TP),VP=(mt(PP={},C_.q.DEFAULT,"DEFAULT_ERROR_CATEGORY_TITLE"),mt(PP,C_.q.MEDIA,"MEDIA_ERROR_CATEGORY_TITLE"),mt(PP,C_.q.NETWORK_MEDIA,"NETWORK_MEDIA_ERROR_CATEGORY_TITLE"),mt(PP,C_.q.NETWORK_PLAYER,"NETWORK_PLAYER_ERROR_CATEGORY_TITLE"),mt(PP,C_.q.NETWORK_TIMEOUT,"NETWORK_TIMEOUT_ERROR_CATEGORY_TITLE"),mt(PP,C_.q.NO_CODECS,"NO_CODECS_ERROR_CATEGORY_TITLE"),mt(PP,C_.q.UNSUPPORTED_ENV,"UNSUPPORTED_ENV_ERROR_CATEGORY_TITLE"),mt(PP,C_.q.CANNOT_PLAY,"CANNOT_PLAY_ERROR_CATEGORY_TITLE"),mt(PP,C_.q.EXCEPTION,"EXCEPTION_ERROR_CATEGORY_TITLE"),mt(PP,C_.q.CONFIG,"CONFIG_ERROR_CATEGORY_TITLE"),mt(PP,C_.q.REGIONAL,"REGIONAL_ERROR_CATEGORY_TITLE"),mt(PP,C_.q.DRM,"DRM_ERROR_CATEGORY_TITLE"),mt(PP,C_.q.ACCESS,"ACCESS_ERROR_CATEGORY_TITLE"),mt(PP,C_.q.BANNED,"BANNED_ERROR_CATEGORY_TITLE"),PP),BP=(mt(xP={},C_.q.DEFAULT,"DEFAULT_ERROR_CATEGORY_MESSAGE"),mt(xP,C_.q.MEDIA,"MEDIA_ERROR_CATEGORY_MESSAGE"),mt(xP,C_.q.NETWORK_MEDIA,"NETWORK_MEDIA_ERROR_CATEGORY_MESSAGE"),mt(xP,C_.q.NETWORK_PLAYER,"NETWORK_PLAYER_ERROR_CATEGORY_MESSAGE"),mt(xP,C_.q.NETWORK_TIMEOUT,"NETWORK_TIMEOUT_ERROR_CATEGORY_MESSAGE"),mt(xP,C_.q.NO_CODECS,"NO_CODECS_ERROR_CATEGORY_MESSAGE"),mt(xP,C_.q.UNSUPPORTED_ENV,"UNSUPPORTED_ENV_ERROR_CATEGORY_MESSAGE"),mt(xP,C_.q.CANNOT_PLAY,"CANNOT_PLAY_ERROR_CATEGORY_MESSAGE"),mt(xP,C_.q.EXCEPTION,"EXCEPTION_ERROR_CATEGORY_MESSAGE"),mt(xP,C_.q.CONFIG,"CONFIG_ERROR_CATEGORY_MESSAGE"),mt(xP,C_.q.DRM,"DRM_ERROR_CATEGORY_MESSAGE"),mt(xP,C_.q.ACCESS,"ACCESS_ERROR_CATEGORY_MESSAGE"),mt(xP,C_.q.BANNED,"BANNED_ERROR_CATEGORY_MESSAGE"),xP),UP=(mt(RP={},C_.q.NO_CODECS,"NO_CODECS_ERROR_CATEGORY_HELP_LINK"),mt(RP,C_.q.UNSUPPORTED_ENV,"UNSUPPORTED_ENV_ERROR_CATEGORY_HELP_LINK"),RP);!function(e){e.BroadcastAdReceived="BroadcastAdReceived",e.BroadcastAdInit="BroadcastAdInit",e.StreamPlayerReceivedMetadata="StreamPlayerReceivedMetadata",e.StreamPlayerChooseMetadata="StreamPlayerChooseMetadata",e.PlayWithoutRAAResults="PlayWithoutRAAResults",e.CanPlay="CanPlay",e.ContentImpression="ContentImpression",e.WaitForPlayCompleted="WaitForPlayCompleted",e.DrmSystemsSupportDetected="DrmSystemsSupportDetected",e.InrollAdStart="InrollAdStart",e.InrollAdPodStart="InrollAdPodStart",e.InrollAdPodEnd="InrollAdPodEnd",e.InrollAdEnd="InrollAdEnd",e.PlayAdViewers="PlayAdViewers",e.AdStart="AdStart",e.AdPodImpression="AdPodImpression",e.AdPodLoading="AdPodLoading",e.AdPodError="AdPodError",e.AdPodStart="AdPodStart",e.AdPodEnd="AdPodEnd",e.AdEnd="AdEnd",e.AdClickThru="AdClickThru",e.NoAdPodsToPlayAd="NoAdPodsToPlayAd",e.Stalled="Stalled",e.NudgeStalledFailed="NudgeStalledFailed",e.LoadSource="LoadSource",e.PrerollInit="PrerollInit",e.WaitForUserGesture="WaitForUserGesture",e.WaitForDocumentVisibility="WaitForDocumentVisibility",e.HiddenAutoplayPrevented="HiddenAutoplayPrevented",e.PlayVideoOnVisibilityChange="PlayVideoOnVisibilityChange",e.PauseVideoOnVisibilityChange="PauseVideoOnVisibilityChange",e.StreamStopWhileLoadingMultiroll="StreamStopWhileLoadingMultiroll",e.StreamStopWhileChoosingStream="StreamStopWhileChoosingStream",e.StreamStopWhileDestroyVideoController="StreamStopWhileDestroyVideoController",e.StreamStopDuringDefineAutoplaySettings="StreamStopDuringDefineAutoplaySettings",e.StreamStopWhileWaitingForPlay="StreamStopWhileWaitingForPlay",e.StreamStopWhileWaitingForDocumentVisibility="StreamStopWhileWaitingForDocumentVisibility",e.StreamStopWhileLoadingPreroll="StreamStopWhileLoadingPreroll",e.StreamStopWhilePreloadingPreroll="StreamStopWhilePreloadingPreroll",e.SourceOpenEventTimeout="SourceOpenEventTimeout",e.PreloadSource="PreloadSource",e.UsePreloadedHlsJs="UsePreloadedHlsJs",e.PlayAfterWaitingForDocumentVisibility="PlayAfterWaitingForDocumentVisibility",e.ResourcesIdle="ResourcesIdle",e.ClientInfo="ClientInfo",e.HlsJsForceCappingStart="HlsJsForceCappingStart",e.ExternalPlaybackOpenButtonClick="ExternalPlaybackOpenButtonClick",e.ExternalPlaybackCloseButtonClick="ExternalPlaybackCloseButtonClick",e.ExternalPlayerListVisibleStatusChange="ExternalPlayerListVisibleStatusChange",e.ExternalPlaybackPlayerCsrfFetching="ExternalPlaybackPlayerCsrfFetching",e.ExternalPlaybackPlayerCsrfFetchSuccess="ExternalPlaybackPlayerCsrfFetchSuccess",e.ExternalPlaybackPlayerCsrfFetchError="ExternalPlaybackPlayerCsrfFetchError",e.ExternalPlaybackPlayerListHasAnyDevice="ExternalPlaybackPlayerListHasAnyDevice",e.ExternalPlaybackPlayerListFetching="ExternalPlaybackPlayerListFetching",e.ExternalPlaybackPlayerListFetchSuccess="ExternalPlaybackPlayerListFetchSuccess",e.ExternalPlaybackPlayerListFetchError="ExternalPlaybackPlayerListFetchError",e.ExternalPlaybackPlayerActivate="ExternalPlaybackPlayerActivate",e.ExternalPlaybackPlayerActivateSucceed="ExternalPlaybackPlayerActivateSucceed",e.ExternalPlaybackPlayerActivateFailed="ExternalPlaybackPlayerActivateFailed",e.ExternalPlaybackCsrfTokenExpired="ExternalPlaybackCsrfTokenExpired",e.Seek="Seek",e.MediaInternalsHistoryOnFatal="MediaInternalsHistoryOnFatal",e.PlayInrollAd="PlayInrollAd",e.FPSControllerRestrictions="FPSControllerRestrictions",e.NativeVideoTypeChange="NativeVideoTypeChange",e.LowLatencyDetected="LowLatencyDetected"}(LP||(LP={})),function(e){e[e.PLAYING=1]="PLAYING",e[e.NOT_PLAYING=2]="NOT_PLAYING"}(jP||(jP={})),function(e){e.INIT="INIT",e.SET_SOURCE="SET_SOURCE"}(IP||(IP={})),function(e){e.SetMuted="SetMuted",e.SetVolume="SetVolume",e.RequestAutoplaySettings="RequestAutoplaySettings",e.VolumeChangeEvent="VolumeChangeEvent",e.RestoreSavedMuted="RestoreSavedMuted"}(CP||(CP={}));var GP,HP=function(e){return e.filter(Et)},YP=(0,hP.t)(Object.getPrototypeOf)?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__||Object.prototype};!function(e){e.PublicApiCall="PublicApiCall",e.Unload="Unload",e.PlayerContainerNotFound="PlayerContainerNotFound"}(GP||(GP={}));var qP,WP={min:0,max:1/0},KP="0000000000000000000000000000000000000000000000000000000000000000",zP={state:jP.NOT_PLAYING,type:void 0,adParams:{}},QP={source:void 0,stream:void 0,drmSystem:void 0,startStage:tP.init,playingState:YA.PAUSE,playingStateReason:qA.Unknown,videoType:void 0,utcStartTime:void 0,currentTime:NaN,watchedTime:0,dvrStartTime:NaN,dvrDuration:NaN,duration:NaN,volume:NaN,muted:!1,volumeChangeReason:void 0,isFullscreen:!1,pictureInPictureAllowed:!1,isPictureInPicture:!1,isVisible:!1,videoSize:void 0,videoTracks:[],videoTrack:void 0,audioTracks:[],audioTrack:void 0,textTracks:[],textTrack:void 0,subtitles:[],vsid:KP,error:void 0,playbackRateRange:WP,playbackRate:1,version:"1.0-12463",adState:zP,adSkippableState:!1,adVolumeAvailabilityState:!1,adPodCloseState:void 0,adPodCurrentTime:NaN,adPodTimeToSkip:NaN,adPodDuration:NaN,nextAdRemainingTime:void 0,bufferedRanges:[],tileMetaInfo:void 0,tileMetaInfoUrl:void 0,liveLatency:void 0,connectionQuality:void 0,ugcLiveStatus:void 0};!function(e){e[e.LOADING=0]="LOADING",e[e.READY=1]="READY",e[e.ERROR=2]="ERROR"}(qP||(qP={}));var ZP,$P=r(99628),JP=["be","en","id","kk","ru","tr","tt","uk","uz"],XP=aT([JP[0]].concat(function(e){return function(e){if(Array.isArray(e))return At(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return At(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return At(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(JP.slice(1)))).transform((function(e){return e})).default("ru"),ex=rT([XP,KA().transform((function(){return"ru"}))]).transform((function(e){return e})).default("ru"),tx=function(e){return void 0!==function(e){var t;try{t=JSON.stringify(e)}catch(r){}return t}(e)},rx=rT([QA().default(!1).transform((function(e){return{autoplay:e,allowMuted:!0}})),tT({allowMuted:QA()}).transform((function(e){return{autoplay:!0,allowMuted:e.allowMuted}}))]),nx=r(81287),ox=r(11208),ix=rT([QA().default(!1).transform((function(e){return{logCalls:e,logEvents:e,logInternals:e,showDebugPanel:e}})),tT({logCalls:QA().default(!1),logEvents:QA().default(!1),logInternals:QA().default(!1),showDebugPanel:QA().default(!1)})]).transform((function(e){var t=e.logCalls,r=e.logEvents,n=e.logInternals,o=e.showDebugPanel;return{logCalls:(0,$P.RW)("web_debug_log_calls")||(0,ox.O)(nx.hV,Tt)||t,logEvents:(0,$P.RW)("web_debug_log_events")||(0,ox.O)(nx.wS,Tt)||r,logInternals:(0,$P.RW)("web_debug_log_internals")||(0,ox.O)(nx.V9,Tt)||n,showDebugPanel:(0,$P.RW)("web_debug_panel")||(0,ox.O)(nx.g2,Tt)||o}})),ax=tT({}).passthrough().optional(),ux=r(48448);!function(e){e.ALL="*",e.PLAY="play",e.START_SCREEN_PLAY="startScreenPlay",e.VOLUME="sound",e.VOLUME_SLIDER="volumeSlider",e.SETTINGS="settings",e.SETTINGS_ITEM="settingsItem",e.FULLSCREEN="fullscreen",e.TIMELINE="timeline",e.TIMELINE_PREVIEW="timelinePreview",e.LIVE="live",e.POSTER="poster",e.START_POSITION_CONFIRM="startPositionConfirm",e.TIME_DISPLAY="time",e.TITLE_DISPLAY="titleDisplay",e.REPORT="report",e.FORWARD="forward",e.BACKWARD="backward",e.LOGO="logo",e.PRELOADER="preloader",e.CONTEXT_MENU="contextMenu",e.START_SCREEN="startScreen",e.PLAYBACK_RATE="playbackRate",e.EXTERNAL_PLAYBACK="externalPlayback",e.RECOMMENDATIONS="recommendations",e.CLOSE_BUTTON="closeButton",e.NEXT_AD_INFO="nextAdInfo",e.SUBTITLES_TOGGLE="subtitlesToggle",e.SKIP_AD="skipAd",e.MOBILE_SEEK_BUTTONS="mobileSeekButtons",e.TITLE="title"}(ZP||(ZP={}));var cx,sx=(0,ux.Z)(ZP).map((function(e){return ZP[e]})),lx=KA().transform((function(e){if("!*"===e)throw new Error("!* is forbidden value");var t,r=Pt(sx);try{for(r.s();!(t=r.n()).done;){var n=t.value;if(e===n||e==="!"+n)return e}}catch(o){r.e(o)}finally{r.f()}return""})),fx=eT(lx).transform((function(e){return e.filter(Boolean)})),dx=rT([eT(lx),KA().transform((function(e){return e.split(",").map((function(e){return e.trim()})).filter((function(e){return""!==e}))}))]).transform((function(e){return fx.parse(e)})).default(""),hx=zA().optional().transform((function(e){return Math.max(void 0===e?(0,$P.RW)("yasp_15_sec_live_offset")?15:30:e,5)})),px=r(36714),vx=rT([QA().transform((function(e){if(e)return{onlyMuted:!1,forceAutoplay:!0,threshold:.5}})),ZA().transform((function(){return{onlyMuted:!0,forceAutoplay:!1,threshold:px.I}})),tT({onlyMuted:QA()}).strict().transform((function(e){return{threshold:.5,onlyMuted:e.onlyMuted,forceAutoplay:!0}})),tT({threshold:zA().nonnegative().max(1),onlyMuted:QA().default(!1)}).transform((function(e){return{threshold:e.threshold,onlyMuted:e.onlyMuted,forceAutoplay:!0}}))]);!function(e){e.VOLUME="JSPlayerApiSavedUserVolume",e.MUTED="JSPlayerApiSavedUserMuted"}(cx||(cx={}));var yx,mx=r(57740),gx=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,n=[{key:"setSavedVolume",value:function(e){mx.t.setItem(cx.VOLUME,String(e))}},{key:"getSavedVolume",value:function(){var e=this.parseVolume(mx.t.getItem(cx.VOLUME));return void 0===e?1:e}},{key:"setSavedMuted",value:function(e){mx.t.setItem(cx.MUTED,String(e))}},{key:"getSavedMuted",value:function(){return"true"===mx.t.getItem(cx.MUTED)}},{key:"parseVolume",value:function(e){if((0,I_.H)(e)){var t=parseFloat(e);if(!isNaN(t))return t>=0&&t<=1?t:t>=0&&t<=100?t/100:void 0}}}],(r=null)&&Lt(t.prototype,r),n&&Lt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),bx=zA().refine(Rt,"must be a number 0..1").optional().transform((function(e){return void 0===e?gx.getSavedVolume():e})).transform((function(e){return Rt(e)?e:1})),wx=tT({debug:ix,autoplay:rx,slowConnection:QA().default(!1),volume:bx,muted:QA().optional(),preload:QA().default(!0),autoQuality:QA().default(!0),defaultQuality:zA().nullable().default(720),feed:QA().default(!1),shouldEmitFrameRendered:QA().default(!1),useAbdBundle:QA().default(!1),lang:ex,env:ax,maxBufferLength:zA().refine(TT.z).transform(m_.my).optional(),enableRemoteProgressSaving:QA().default(!1),liveOffset:hx,bandwidthEstimateOffset:zA().refine(TT.z).transform(m_.LQ).optional(),preferNative:QA().default(!1),togglePlaybackOnVisibilityChange:vx,restoreTabSessionPlaybackProgress:QA().default(!1),useFallbackStream:QA().default(!1),loadSkin:rT([oT(),iT(!1)]).optional(),perfLogUrl:KA().optional(),allowPip:QA().default(!0),skinParams:tT({skinConfig:tT({hiddenControls:dx,primaryColor:KA().optional().default("#FFCC00"),secondaryColor:KA().optional().default("#EEEEEE"),timelineThumbColor:KA().optional().default("#FFCC00")}).passthrough().optional().default({})}).refine(tx).optional(),device:JA().refine(tx).transform((function(e){return e})).default({}),backgroundColor:KA().transform((function(e){return e||void 0})).default("#000"),objectFit:KA().optional().transform((function(e){return e||void 0})),cacheSourcesCount:zA().nonnegative().int().refine(TT.z).default(0),isVisibilitySupported:QA().optional(),initialVisibility:QA().optional()}),Sx=sx.filter((function(e){return e!==ZP.ALL})),Ex=new Set([ZP.ALL].concat(It(Sx),It(Sx.map((function(e){return"!"+e}))))),Ox=function(e){return Ex.has(e)},kx=(0,DP.i)(),_x=new RegExp("(".concat(["Googlebot","YandexBot","AhrefsBot","spider","Bot","HeadlessChrome"].join("|"),")"),"i"),Ax=new RegExp("(".concat(["Robotics"].join("|"),")"),"i"),Tx=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kx;return!Ax.test(e)&&_x.test(e)},Px=wx.transform((function(e){var t,r,n,o,i,a,u=Nt(null===(t=e.skinParams)||void 0===t||null===(r=t.skinConfig)||void 0===r?void 0:r.hiddenControls),c=0===e.volume||(void 0===e.muted?gx.getSavedMuted():e.muted),s=e.togglePlaybackOnVisibilityChange&&e.togglePlaybackOnVisibilityChange.forceAutoplay||e.autoplay.autoplay,l=null===e.defaultQuality?e.defaultQuality:Math.floor(e.defaultQuality/9*16),f=Tx();return{streamPlayerParams:{debug:e.debug.logInternals,hidden:!1===e.loadSkin?u:sx,allowPip:e.allowPip,autoplay:!f&&s,allowMuted:e.autoplay.allowMuted,lang:e.lang,autoQuality:e.autoQuality,defaultQuality:l,feed:e.feed,shouldEmitFrameRendered:e.shouldEmitFrameRendered,preload:!f&&e.preload,togglePlaybackOnVisibilityChange:e.togglePlaybackOnVisibilityChange,restoreTabSessionPlaybackProgress:e.restoreTabSessionPlaybackProgress,maxBufferLength:e.maxBufferLength,preferNative:e.preferNative,skinConfig:null===(n=e.skinParams)||void 0===n?void 0:n.skinConfig,backgroundColor:e.backgroundColor,shouldPlayOnFirstClick:void 0===e.loadSkin,bandwidthEstimateOffset:e.bandwidthEstimateOffset,device:e.device,volume:e.volume,muted:c,liveOffset:e.liveOffset,slowConnection:e.slowConnection,cacheSourcesCount:e.cacheSourcesCount,showUnmuteButtonForAll:!1,perfLogUrl:null!==(o=e.perfLogUrl)&&void 0!==o?o:"https://log.video.cloud.yandex.net/perf",isVisibilitySupported:e.isVisibilitySupported,initialVisibility:e.initialVisibility},useAbdBundle:e.useAbdBundle,useFallbackStream:e.useFallbackStream,debugConfig:e.debug,loadSkin:e.loadSkin,originalHiddenControls:u,primaryColor:null===(i=e.skinParams)||void 0===i||null===(a=i.skinConfig)||void 0===a?void 0:a.primaryColor,objectFit:e.objectFit,savedMutedRestored:void 0===e.muted&&0!==e.volume}})),xx={from:"other",reqid:void 0,hash:void 0,vsid:KP},Rx=r(89273),Lx=r(16566),jx=r(3309),Ix=r(32890),Cx=["partnerId","partner_id","category","impId","imp_id","hasPreroll","videoContentId","video_content_id","videoContentName","video_content_name","videoPublisherId","video_publisher_id","videoPublisherName","video_publisher_name","videoGenreId","video_genre_id","videoGenreName","video_genre_name","distrId","distr_id","adBreaks"],Dx=tT({}).passthrough().default({partnerId:void 0}).transform((function(e){var t=e.partnerId,r=e.partner_id,n=void 0===r?t:r,o=e.category,i=void 0===o?0:o,a=e.impId,u=e.imp_id,c=void 0===u?a:u,s=e.hasPreroll,l=e.videoContentId,f=e.video_content_id,d=void 0===f?l:f,h=e.videoContentName,p=e.video_content_name,v=void 0===p?h:p,y=e.videoPublisherId,m=e.video_publisher_id,g=void 0===m?y:m,b=e.videoPublisherName,w=e.video_publisher_name,S=void 0===w?b:w,E=e.videoGenreId,O=e.video_genre_id,k=void 0===O?E:O,_=e.videoGenreName,A=e.video_genre_name,T=void 0===A?_:A,P=e.distrId,x=e.distr_id,R=void 0===x?P:x,L=e.adBreaks;return Yt(Yt({},Wt(e,Cx)),{},{partnerId:Number(n),category:Number(i),impId:void 0!==c?parseInt(String(c),10)||0:void 0,hasPreroll:"boolean"===typeof s?s:void 0,videoContentId:d,videoContentName:v,videoPublisherId:g,videoPublisherName:S,videoGenreId:k,videoGenreName:T,distrId:R,adBreaks:L})})),Nx=/^\w(\-|_|:|\s|\.|\w){0,70}$/,Fx=tT({from:KA().transform((function(e){if(!e)return xx.from;var t=String(e);return Nx.test(t)?t:"_$invalid_label_value$_"})).optional(),slots:rT([KA().transform((function(e){return"string"===typeof e?e.split(";"):[]})),eT(KA()),JA().transform((function(){}))]).optional().transform((function(e){if(Array.isArray(e)){var t=e.filter((function(e){return"string"===typeof e&&/^\d+,\d+,-?\d+$/.test(e)})).sort().join(";");return t.length>0?t:void 0}})),testIds:rT([KA().transform((function(e){return zt(e.split(","))})),eT(KA()).transform(zt),eT(zA()).transform(Kt),JA().transform((function(){}))]).optional()}).catchall(JA().transform((function(e){if(void 0!==e)return String(e)}))).transform((function(e){return void 0!==e.slots&&(e.testIds=zt(e.slots.split(";"))),e})),Mx=tT({}).passthrough().refine(Qt,"must be serializable"),Vx=tT({preferredAudioLangs:eT(KA()).max(1),preferredTextLangs:eT(KA()).max(1)}).transform((function(e){return e})),Bx=uT(zA().nonnegative().refine(TT.z).transform(m_.my)).transform((function(e){return{videoTime:e}})),Ux=tT({url:KA().url(),drmConfig:Mx.optional(),metaInfoUrl:KA().optional()}),Gx=tT({objectFit:KA().optional()}).optional(),Hx=tT({videoContentId:KA().optional(),videoContentName:KA().optional(),videoContentDescription:KA().optional(),videoPublisherId:KA().optional(),videoPublisherName:KA().optional(),videoGenreId:KA().optional(),videoGenreName:KA().optional()}),Yx=tT({endTime:zA(),startTime:zA(),type:aT(["intro","recap","credits"])}),qx=tT({start:zA().transform(m_.my),title:KA()}),Wx=tT({loop:QA().default(!1),startPosition:Bx,adConfig:Dx.default({}),withCredentials:QA().optional(),passportRetpath:KA().url().optional(),preview:KA().optional(),firstFrameHash:KA().optional(),firstFrameUrl:KA().optional(),posterStyle:Gx,additionalParams:Fx.optional().default({}),externalPlayerConfig:tT({}).passthrough().optional(),id:KA().default(""),videoInfo:Hx.default({}),enableRemoteProgressSaving:QA().optional().default(!1),preferredTracks:Vx.default({preferredAudioLangs:[],preferredTextLangs:[]}),skippableFragments:eT(Yx).optional(),initialStalledDuration:zA().default(0),externalStalledDuration:zA().optional(),chapters:eT(qx).optional()}),Kx=tT({streamUrl:KA().url(),drmConfig:Mx.optional(),contentId:rT([ZA(),XA()])}),zx=tT({streams:eT(Ux).nonempty(),drmConfig:rT([ZA(),XA()]),contentId:rT([ZA(),XA()])}),Qx=tT({contentId:KA(),streamUrl:rT([ZA(),XA()]),streams:rT([ZA(),XA()])}),Zx=nT(rT([Qx,zx,Kx]).transform((function(e){if("contentId"in e)return{contentId:e.contentId,streams:[]};if("streams"in e)return{streams:e.streams,contentId:void 0};if("streamUrl"in e)return{streams:[{url:e.streamUrl,drmConfig:e.drmConfig}],contentId:void 0};throw new Error("SourceSchema Exception")})),Wx),$x=r(71920),Jx=["videoContentName","videoContentId","videoPublisherId","videoPublisherName","videoGenreId","videoGenreName"],Xx=Zx.transform((function(e){return{contentId:e.contentId,id:e.id,streams:e.streams,params:{startPosition:e.startPosition,adConfig:or(or({},e.adConfig),$t(e.videoInfo,e.adConfig)),withCredentials:e.withCredentials,loop:e.loop,preview:e.preview,firstFrameHash:rr(e.firstFrameHash||""),firstFrameUrl:e.firstFrameUrl,posterStyle:e.posterStyle,additionalParams:e.additionalParams,externalPlayerConfig:(0,N_.K)(e.externalPlayerConfig)?or(or({},e.externalPlayerConfig),{},{passportRetpath:(0,I_.H)(e.passportRetpath)?e.passportRetpath:void 0}):e.externalPlayerConfig,videoInfo:$t(e.videoInfo,e.adConfig),preferredTracks:e.preferredTracks,skippableFragments:e.skippableFragments,chapters:e.chapters},initialStalledDuration:e.initialStalledDuration,externalStalledDuration:void 0!==e.externalStalledDuration?e.externalStalledDuration:void 0}})),eR={trackingEvents:[{init:[],start:[],end:[],setSource:[],adStart:[],adRequest:[],adError:[],adEnd:[],adPodStart:[],adPodClick:[],adPodEnd:[],adPodSkip:[],sourceStart:[],play:[],pause:[],seek:[],firstQuartile:[],midpoint:[],thirdQuartile:[],viewed:[],heartbeat:[],watchedTime:[],error:[]}]},tR=oT().args().returns($A()),rR=tT({trackings:JA().transform(yr).default(eR),update:tR.default((function(){return gT.Z})),enableRemoteProgressSaving:QA().default(!1).or(JA().transform((function(){return!1}))),videoInfo:Hx.default({})});!function(e){e.PLAYER_API="player-api.js",e.PLAYER_API_MODERN="player-api.modern.js",e.PLAYER_API_MOCK="player-api-mock.js"}(yx||(yx={}));var nR,oR,iR,aR,uR=function(e){return function(e){try{if("noModule"in e.HTMLScriptElement.prototype)return!0}catch(t){}return!1}(e)&&function(e){return(0,hP.t)(e.navigator.sendBeacon)}(e)},cR=/1\.0-(\d+)/,sR=function(e){return uR(e)},lR=sR(window),fR=!(0,hP.t)(Math.random)||Math.random()===Math.random(),dR=r(44540),hR=(0,dR.m6)()*(0,dR.no)()%2147483647,pR=fR?function(){return((hR=16807*hR%2147483647)-1)/2147483646}:function(){return Math.random()},vR=function(e){for(var t=100*pR(),r=0,n=0;n<e.length;n++)if(t<(r+=e[n].percent))return e[n].id;return e[0].id}([{id:12463,percent:100,prefix:"1.0-"}]),yR=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return/Windows Phone/i.test(e.navigator.userAgent)},mR=_r(),gR=r(36570),bR=(0,gR.P)(),wR=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=(0,DP.i)(e).toLowerCase();return/linux/.test(t)&&!_r(e)}(),SR=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=(0,DP.i)(e).toLowerCase();return/mac/.test(t)&&!(0,gR.P)(e)}(),ER=yR(),OR=r(83361);!function(e){e.DESKTOP="d",e.MOBILE="m"}(nR||(nR={})),function(e){e.DESKTOP="desktop",e.MOBILE="mobile",e.TABLET="tablet"}(oR||(oR={})),function(e){e.UNDEFINED="0",e.DESKTOP="1",e.IOS="2",e.ANDROID="3",e.WINDOWS_MOBILE="4"}(iR||(iR={})),function(e){e.vsid="vsid",e.dl="dl",e.random="random",e.timestamp="timestamp",e.fts="fts",e.vts="vts",e["watched-time"]="watched-time",e["video-time"]="video-time",e["device-type"]="device-type",e["device-type-mediascope"]="device-type-mediascope",e["device-type-tns"]="device-type-tns",e.fullscreen="fullscreen",e.duration="duration",e["old-position"]="old-position",e["error-code"]="error-code",e["audio-track-name"]="audio-track-name",e["audio-track-lang"]="audio-track-lang",e["text-track-name"]="text-track-name",e["text-track-lang"]="text-track-lang",e.muted="muted",e["drm-supported"]="drm-supported",e["drm-type"]="drm-type",e["bitrate-video"]="bitrate-video",e["bitrate-audio"]="bitrate-audio",e["buffering-duration"]="buffering-duration",e["buffering-count"]="buffering-count",e["initial-buffering-time"]="initial-buffering-time",e["ad-position"]="ad-position",e["client-ad-sec"]="client-ad-sec"}(aR||(aR={}));var kR,_R,AR=(0,ux.Z)(aR),TR=function(e,t){if("function"!==typeof navigator.sendBeacon)return!1;try{return navigator.sendBeacon(e,t)}catch(r){return!1}},PR=r(83361),xR=r(84780),RR=function(){function e(){Dr(this,e)}return Fr(e,[{key:"setTimeout",value:function(e,t){if(!(t<=0)){var r=window.setTimeout(e,t);return function(){return window.clearTimeout(r)}}(0,j_.Y)(e,xR.L)}},{key:"now",value:function(){return(0,dR.m6)()}}]),e}(),LR=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;Dr(this,e),this.time=t,Cr(this,"tasks",void 0),this.tasks=[]}return Fr(e,[{key:"setTimeout",value:function(e,t){for(var r=this,n=this.time+t,o={task:e,time:n,isCanceled:!1,isRunned:!1},i=0;i<this.tasks.length&&!(n<this.tasks[i].time);i+=1);if(this.tasks.splice(i,0,o),!(t<=0))return function(){return o.isCanceled=!0};(0,j_.Y)((function(){return r.runTask(o)}),xR.L)}},{key:"setTime",value:function(e){if(!isNaN(e)){for(var t=0;t<this.tasks.length&&!(e<this.tasks[t].time);t+=1)this.runTask(this.tasks[t]);this.time=e,this.tasks.splice(0,t)}}},{key:"now",value:function(){return this.time}},{key:"tick",value:function(e){this.setTime(this.time+e)}},{key:"reset",value:function(){this.time=0,this.tasks=[]}},{key:"runTask",value:function(e){e.isRunned||e.isCanceled||(e.isRunned=!0,this.time=e.time,e.task())}}]),e}(),jR=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new RR;Dr(this,e),this.distributionFunction=t,this.clock=r,Cr(this,"stopped",!0),Cr(this,"cancel",void 0),Cr(this,"lastNow",0),Cr(this,"lastKnockTime",void 0),Cr(this,"lastTimeout",0),Cr(this,"restTime",0),Cr(this,"destroyed",!1),Cr(this,"isFirstKnock",!0),Cr(this,"count",0)}return Fr(e,[{key:"setEnabled",value:function(e){return e?this.start():this.stop(),this}},{key:"stop",value:function(){return this.stopped||(this.stopped=!0,this.cancelTimeout(),this.restTime=Math.max(this.restTime-(this.clock.now()-this.lastKnockTime),0)),this}},{key:"start",value:function(){var e=this;return this.stopped&&!this.destroyed&&(this.stopped=!1,this.lastKnockTime=this.clock.now(),this.setTimeout((function(){return e.knock(e.lastNow+e.lastTimeout)}),this.restTime)),this}},{key:"destroy",value:function(){this.cancelTimeout(),this.stopped=!0,this.destroyed=!0}},{key:"knock",value:function(e){var t=this;this.lastNow=e,this.lastKnockTime=this.clock.now(),this.isFirstKnock?this.isFirstKnock=!1:this.count++;var r=this.restTime=this.lastTimeout=this.distributionFunction({time:e,count:this.count});this.stopped||this.destroyed||this.setTimeout((function(){return t.knock(e+r)}),r)}},{key:"cancelTimeout",value:function(){void 0!==this.cancel&&this.cancel(),this.cancel=void 0}},{key:"setTimeout",value:function(e,t){this.cancelTimeout();var r=this.clock.setTimeout(e,t);void 0!==r&&(this.cancelTimeout(),this.cancel=r)}}]),e}(),IR=r(42630),CR=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Zr(this,"value",0),Zr(this,"measureTime",(function(){return 0}))}var t,r,n;return t=e,(r=[{key:"start",value:function(){this.measureTime=(0,y_.u)()}},{key:"pause",value:function(){this.value=this.value+this.measureTime(),this.measureTime=function(){return 0}}},{key:"getTime",value:function(){return this.value+this.measureTime()}},{key:"reset",value:function(){this.measureTime=(0,y_.u)(),this.value=0}}])&&Qr(t.prototype,r),n&&Qr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),DR=r(31969),NR=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test((0,DP.i)()),FR=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=i.call(this)).params=e,dn(ln(r),"MACROS",{dl:function(){return window.document.referrer||window.location&&window.location.href||""},random:function(){return Math.floor(Math.random()*Math.pow(10,16))},timestamp:function(){return String(Date.now())},vts:function(){return Math.floor((e=Date.now(),Math.round(e/1e3)));var e},fts:function(){var e=r.params.getVideoType();return Math.floor(e===DR.D.VOD?r.params.getCurrentTime():r.params.getUtcPosition())},"watched-time":function(){return Math.floor(r.params.getWatchedTime())},"video-time":function(){return Math.floor(r.params.getCurrentTime())},"device-type":function(){return NR?nR.MOBILE:nR.DESKTOP},"device-type-mediascope":function(){return NR?oR.MOBILE:oR.DESKTOP},"device-type-tns":function(){if(NR){if(bR)return iR.IOS;if(mR)return iR.ANDROID;if(ER)return iR.WINDOWS_MOBILE}else if(NP||SR||wR)return iR.DESKTOP;return iR.UNDEFINED},fullscreen:function(){return r.params.getIsFullscreen()?"1":"0"},duration:function(){return Math.floor(r.params.getDuration())},vsid:function(){return r.params.vsid},"audio-track-name":function(){var e=r.params.getAudioTrack();return e?e.name:""},"audio-track-lang":function(){var e=r.params.getAudioTrack();return e?e.lang:""},"text-track-name":function(){var e=r.params.getTextTrack();return e?e.name:""},"text-track-lang":function(){var e=r.params.getTextTrack();return e?e.lang:""},"drm-supported":function(){var e=r.params.getIsDrmSupported();switch(e){case!0:return"1";case!1:return"0";default:return""}},"drm-type":function(){var e;return null!==(e=r.params.getDrmSystemName())&&void 0!==e?e:""},"bitrate-video":function(){var e,t=null===(e=r.params.getVideoTrack())||void 0===e?void 0:e.bitrate;return t?Math.floor(1e3*t):""},"bitrate-audio":function(){var e,t=null===(e=r.params.getAudioTrack())||void 0===e?void 0:e.bitrate;return t?Math.floor(1e3*t):""},"initial-buffering-time":function(){var e;return null!==(e=r.initialBufferingTime)&&void 0!==e?e:""},"ad-position":function(){return $r(r.params.getAdState().type)},"client-ad-sec":function(){return Math.floor(r.clientAdTimeMeasurer.getTime()/1e3)},muted:function(){return r.params.getMuted()?"1":"0"}}),dn(ln(r),"measureInitialBufferingTime",void 0),dn(ln(r),"initialBufferingTime",void 0),dn(ln(r),"clientAdTimeMeasurer",new CR),dn(ln(r),"watchedTimeClock",new LR),dn(ln(r),"heartbeatTimers",[]),dn(ln(r),"bufferedInfoByTrackKey",{}),dn(ln(r),"trackingEvents",{init:[],start:[],end:[],setSource:[],adStart:[],adRequest:[],adError:[],adEnd:[],adPodStart:[],adPodClick:[],adPodEnd:[],adPodSkip:[],sourceStart:[],play:[],pause:[],seek:[],firstQuartile:[],midpoint:[],thirdQuartile:[],viewed:[],heartbeat:[],watchedTime:[],error:[]}),dn(ln(r),"onError",(function(e){var t=e.code;e.isFatal&&r.trackingEvents.error.forEach((function(e){var n=zr(e);r.parseAndTrackUrls([e],on({"error-code":function(){return String(t)}},r.getBufferedInfoGetters(n))),r.clearBufferedInfo(n)}))})),dn(ln(r),"onReady",(function(){r.parseAndTrackUrls(r.trackingEvents.init)})),dn(ln(r),"onSetSourceComplete",(function(){r.parseAndTrackUrls(r.trackingEvents.setSource)})),dn(ln(r),"onWatchedTimeChange",(function(e){isNaN(e)||r.watchedTimeClock.setTime(1e3*e)})),dn(ln(r),"onCurrentTimeChange",(function(e){r.emit("CurrentTimeChange",e)})),dn(ln(r),"onAdLoaded",(function(e){r.emit("AdLoaded",e)})),dn(ln(r),"onAdError",(function(){r.emit("AdError")})),dn(ln(r),"onAdStateChange",(function(e){r.emit("AdStateChange",e)})),dn(ln(r),"onAdPodStart",(function(){r.emit("AdPodStart")})),dn(ln(r),"onAdPodEnd",(function(){r.emit("AdPodEnd")})),dn(ln(r),"onAdPodClick",(function(){r.emit("AdPodClick")})),dn(ln(r),"onAdPodSkip",(function(){r.emit("AdPodSkip")})),dn(ln(r),"onStateChange",(function(e){r.emit("StateChange",e)})),r}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&un(e,t)}(t,e);var r,n,o,i=cn(t);return r=t,(n=[{key:"setTrackings",value:function(e){var t=this;this.resetTrackings(),this.trackingEvents=function(e){if(!Array.isArray(e))return e;var t={init:[],start:[],end:[],setSource:[],adStart:[],adRequest:[],adError:[],adEnd:[],adPodStart:[],adPodClick:[],adPodEnd:[],adPodSkip:[],sourceStart:[],play:[],pause:[],seek:[],firstQuartile:[],midpoint:[],thirdQuartile:[],viewed:[],heartbeat:[],watchedTime:[],error:[]};return e.forEach((function(e){(0,Rx.J)(e).forEach((function(e){var r,n=Hr(e,2),o=n[0],i=n[1];Array.isArray(t[o])||(t[o]=[]),(r=t[o]).push.apply(r,Gr(i))}))})),t}(e.trackingEvents);var r=this.trackingEvents,n=r.start,o=r.end,i=r.adStart,a=r.adError,u=r.adRequest,c=r.adEnd,s=r.adPodStart,l=r.adPodClick,f=r.adPodEnd,d=r.adPodSkip,h=r.sourceStart,p=r.play,v=r.pause,y=r.error,m=r.firstQuartile,g=r.midpoint,b=r.thirdQuartile,w=r.viewed,S=r.heartbeat,E=r.watchedTime,O=(0,v_.I)((function(){t.parseAndTrackUrls(h)})),k=[].concat(en(w),en(Ur(m,25)),en(Ur(g,50)),en(Ur(b,75))),_=!1;[].concat(en(S),en(v),en(y)).forEach((function(e){var r=zr(e);t.bufferedInfoByTrackKey[r]={count:0,time:0}}));var A=!1,T=!1;this.on("CurrentTimeChange",(function(e){if(t.isStreamPlaying()){!_&&e>0&&(O(),_=!0,t.parseAndTrackUrls(n),t.heartbeatTimers=S.concat(E.map(Br)).map((function(e){var r=Xr(e,2),n=r[0],o=r[1],i=o.delay,a=o.offset,u=void 0===a?i:a,c=o.callsCount,s=void 0===c?1/0:c,l=o.utcStart,f=o.utcEnd,d=zr(e),h=0,p=new jR((function(){var e=Math.round(t.params.getUtcPosition());return void 0!==l&&e<l||void 0!==f&&e>f?1e3:0===h?(h++,u):(t.parseAndTrackUrls([n],t.getBufferedInfoGetters(d)),t.clearBufferedInfo(d),++h>s?(p.destroy(),0):i)}),t.watchedTimeClock);return p})),t.heartbeatTimers.forEach((function(e){return e.start()})));var r=t.params.getDuration();if(r&&t.params.getVideoType()===DR.D.VOD){var o=e/r;k=k.filter((function(e){var r=Xr(e,2),n=r[0],i=r[1].percent;return!(o>i/100)||(t.parseAndTrackUrls([n]),!1)}))}}})),this.on("AdStateChange",(function(e){var r=e.state,n=(e.type,r===jP.PLAYING);n&&O(),t.parseAndTrackUrls(n?i:c),t.clientAdTimeMeasurer.reset()})),this.on("AdLoaded",(function(e){var r=e.adType;t.parseAndTrackUrls(u,{"ad-position":function(){return $r(r)}})})),this.on("AdError",(function(){t.parseAndTrackUrls(a)}));var P=null;this.on("StateChange",(function(e){if(t.isAdPlaying())P=null;else if(e===YA.BUFFERING)P=(0,y_.u)();else if(null!==P){var r=P()/1e3;for(var n in P=null,t.bufferedInfoByTrackKey)Object.prototype.hasOwnProperty.call(t.bufferedInfoByTrackKey,n)&&(t.bufferedInfoByTrackKey[n].count++,t.bufferedInfoByTrackKey[n].time=r+t.bufferedInfoByTrackKey[n].time)}})),this.on("StateChange",(function(e){t.isAdPlaying()?e===YA.PLAY?t.clientAdTimeMeasurer.start():t.clientAdTimeMeasurer.pause():t.clientAdTimeMeasurer.reset()})),this.on("StateChange",(function(e){if(e!==YA.END){if(A){if(!t.isAdPlaying()){var r=e===YA.PLAY||e===YA.BUFFERING;r!==T&&(T=r,r?t.parseAndTrackUrls(p):v.forEach((function(e){var r=zr(e);t.parseAndTrackUrls([e],t.getBufferedInfoGetters(r)),t.clearBufferedInfo(r)})))}}else if(e===YA.PLAY)t.initialBufferingTime=t.measureInitialBufferingTime?Math.floor(Math.floor(t.measureInitialBufferingTime())):Math.floor(0),t.parseAndTrackUrls(p),A=!0,T=!0;else if(e===YA.BUFFERING){var n;t.measureInitialBufferingTime=null!==(n=t.measureInitialBufferingTime)&&void 0!==n?n:(0,y_.u)()}}else t.parseAndTrackUrls(o)}));var x=!1,R=!1;this.on("AdPodStart",(function(){x=!0,R=!1,t.parseAndTrackUrls(s),t.clientAdTimeMeasurer.reset()})),this.on("AdPodClick",(function(){t.parseAndTrackUrls(l),t.clientAdTimeMeasurer.reset()})),this.on("AdPodSkip",(function(){R=!0,t.parseAndTrackUrls(d),t.clientAdTimeMeasurer.reset()})),this.on("AdPodEnd",(function(){!R&&x?(x=!1,t.parseAndTrackUrls(f),t.clientAdTimeMeasurer.reset()):x=!1}))}},{key:"destroy",value:function(){this.resetTrackings(),this.emit("Destroy"),this.off("Destroy")}},{key:"clearBufferedInfo",value:function(e){var t=this.bufferedInfoByTrackKey[e];void 0!==t&&(t.time=0,t.count=0)}},{key:"getBufferedInfoGetters",value:function(e){var t=this.bufferedInfoByTrackKey[e];return{"buffering-duration":function(){return void 0===t?"":Math.floor(t.time)},"buffering-count":function(){return void 0===t?"":t.count}}}},{key:"isStreamPlaying",value:function(){return this.params.getPlayingState()===YA.PLAY&&!this.isAdPlaying()}},{key:"isAdPlaying",value:function(){return this.params.getAdState().state===jP.PLAYING}},{key:"resetTrackings",value:function(){this.heartbeatTimers.forEach((function(e){return e.destroy()})),this.clientAdTimeMeasurer.reset(),this.watchedTimeClock.reset(),this.bufferedInfoByTrackKey={},this.measureInitialBufferingTime=void 0,this.initialBufferingTime=void 0,this.off("StateChange"),this.off("AdStateChange"),this.off("AdLoaded"),this.off("AdError"),this.off("AdPodStart"),this.off("AdPodClick"),this.off("AdPodSkip"),this.off("AdPodEnd"),this.off("CurrentTimeChange")}},{key:"parseAndTrackUrls",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=on(on({},this.MACROS),t);e.forEach((function(e){var t=AR.reduce((function(e,t){var n=r[t];return void 0===n?e:Tr(e,t,String(n()))}),e);Ar(t)}))}}])&&an(r.prototype,n),o&&an(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(IR.v);!function(e){e.Start="Start",e.Watched4Sec="4SecWatched",e.Watched10Sec="10SecWatched",e.Watched20Sec="20SecWatched",e.Heartbeat30Sec="30SecHeartbeat",e.End="End"}(kR||(kR={})),function(e){e.PLAY="play",e.PAUSE="pause",e.BUFFERING="buffering",e.END="end"}(_R||(_R={}));var MR,VR,BR=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.params=t,function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"previousWatchedTime",0)}var t,r,n;return t=e,(r=[{key:"onWatchedTimeChange",value:function(e){var t=this.previousWatchedTime;t!==e&&(function(e,t){return 0===e&&t>0}(t,e)?this.params.onEvent(kR.Start):function(e,t){return e<4&&t>=4}(t,e)?this.params.onEvent(kR.Watched4Sec):function(e,t){return e<10&&t>=10}(t,e)?this.params.onEvent(kR.Watched10Sec):function(e,t){return e<20&&t>=20}(t,e)?this.params.onEvent(kR.Watched20Sec):function(e,t){return hn(e)<hn(t)}(t,e)&&this.params.onEvent(kR.Heartbeat30Sec),this.previousWatchedTime=e)}},{key:"onPlayingStateChange",value:function(e){e===_R.END&&this.params.onEvent(kR.End)}}])&&pn(t.prototype,r),n&&pn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),UR=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"lastSourceIndexWithFatal",null)}var t,r,n;return t=e,(r=[{key:"extractSourceIndex",value:function(e){var t=e.split("?")[1];if(t){var r,n=function(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=yn(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}(t.split("&"));try{for(n.s();!(r=n.n()).done;){var o=vn(r.value.split("="),2),i=o[0],a=o[1];if("source_index"===i)return a?Number(a):null}}catch(u){n.e(u)}finally{n.f()}}return null}},{key:"checkIsFatal",value:function(e,t){if(!e||!t)return e;var r=this.extractSourceIndex(t);return null===r?e:(null===this.lastSourceIndexWithFatal||r>this.lastSourceIndexWithFatal)&&(this.lastSourceIndexWithFatal=r,!0)}}])&&gn(t.prototype,r),n&&gn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),GR=function(){function e(t,r){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onTick=t,this.onFlush=r,wn(this,"wasFirstFlush",!1),wn(this,"isDestroyed",!1),wn(this,"lastFlushTime",void 0),wn(this,"startTime",void 0),wn(this,"timer",void 0),wn(this,"handleTimeout",(function(){n.onTick(),n.handleFlush(),n.nextTick()})),this.startTime=this.lastFlushTime=(0,dR.no)(),this.timer=window.setTimeout((function(){n.onTick(),n.nextTick()}),0)}var t,r,n;return t=e,(r=[{key:"next",value:function(){this.isDestroyed||(window.clearTimeout(this.timer),this.handleFlush(),this.nextTick())}},{key:"destroy",value:function(){window.clearTimeout(this.timer),this.isDestroyed=!0}},{key:"nextTick",value:function(){this.isDestroyed||(window.clearTimeout(this.timer),this.timer=window.setTimeout(this.handleTimeout,this.getTimeout()))}},{key:"handleFlush",value:function(){this.needFlush()&&(this.onFlush(),this.lastFlushTime=this.wasFirstFlush?(0,dR.no)():this.startTime,this.wasFirstFlush=!0)}},{key:"needFlush",value:function(){var e=(0,dR.no)();return this.wasFirstFlush?e-this.lastFlushTime>=3e4:e-this.startTime>=1e4}},{key:"getTimeout",value:function(){return(0,dR.no)()-this.startTime<1e4?1e3:5e3}}])&&bn(t.prototype,r),n&&bn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),HR=Math.max(Math.abs(0),0),YR={remainingBufferedTime:Math.max(Math.abs(0),0),state:_R.BUFFERING,currentTime:HR,watchedTime:Math.max(Math.abs(0),0),duration:Math.max(0,0)},qR=NaN;!function(e){e[e.PLAYING=1]="PLAYING",e[e.NOT_PLAYING=2]="NOT_PLAYING"}(MR||(MR={})),function(e){e.preroll="preroll",e.midroll="midroll",e.postPauseroll="postPauseroll",e.postroll="postroll",e.inroll="inroll"}(VR||(VR={}));var WR,KR=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.props=t,Ln(this,"prevState",void 0),Ln(this,"states",[]),Ln(this,"timer",void 0),Ln(this,"destroyHandlers",[]),Ln(this,"writeStateManually",kn((function(){r.writeState(),r.timer.next()}),0)),this.timer=new GR((function(){return r.writeState()}),(function(){return r.flushStates()}))}var t,r,n;return t=e,(r=[{key:"addDestroyHandler",value:function(e){this.destroyHandlers.push(e)}},{key:"destroy",value:function(){this.timer.destroy(),this.flushStates(),this.destroyHandlers.forEach((function(e){e()})),this.destroyHandlers=[]}},{key:"getStates",value:function(){return Pn(this.states)}},{key:"flushStates",value:function(){this.writeStateManually.now();var e=this.getStates();e.length>0&&this.props.onFlushStates(e),this.states.length=0}},{key:"writeState",value:function(){var e=this.getPlayerAliveState();AP()(this.prevState,e)||(this.prevState=e,this.states.push(Tn(Tn({},e),{},{timestamp:this.props.getTimestamp()})))}},{key:"getPlayerAliveState",value:function(){var e,t,r=Tn(Tn({},YR),{},{saveData:Sn(),rtt:On()},this.props.stalledController.getStalledHistory()),n=this.props.getState();if(!n)return Tn({},r);var o=n.currentTime,i=n.duration,a=n.muted,u=n.playingState,c=n.remainingBufferedTime,s=n.adState,l=n.liveLatency,f=n.videoTracks,d=n.audioTrack,h=n.videoSize,p=n.isVisible,v=n.capHeight,y=n.capWidth,m=n.containerHeight,g=n.containerWidth,b=n.bandwidthEstimate,w=n.bandwidthSource,S=n.droppedFrames,E=n.shownFrames,O=n.isFullscreen,k=n.isPictureInPicture,_=n.volume,A=n.playbackRate,T=f.find((function(e){return e.selected})),P=Pn(f).sort((function(e,t){return t.bitrate-e.bitrate})),x=(null===s||void 0===s?void 0:s.state)===MR.PLAYING,R=!x,L=this.props.getWatchedTime();return Tn(Tn({},r),{},{watchedTime:Math.max(0,L),currentTime:isNaN(o)?0:Math.max(0,o),duration:isNaN(i)?0:Math.max(0,i),isMuted:a,state:u,remainingBufferedTime:(null===c||void 0===c?void 0:c.total)||0,remainingAudioBufferedTime:void 0===(null===c||void 0===c?void 0:c.audio)?void 0:Math.max(0,c.audio),remainingVideoBufferedTime:void 0===(null===c||void 0===c?void 0:c.video)?void 0:Math.max(0,c.video),ad:x?null===s||void 0===s?void 0:s.type:void 0,liveLatency:void 0===l?void 0:Math.max(0,l),stalledReason:this.props.stalledController.getCurrentStalledReason(),auto:void 0===(null===T||void 0===T?void 0:T.auto)?void 0:T.auto,isVisible:p,bitrate:null!==T&&void 0!==T&&T.bitrate?Math.max(0,Math.floor(1e3*T.bitrate)):void 0,width:void 0===(null===h||void 0===h?void 0:h.videoWidth)||isNaN(null===h||void 0===h?void 0:h.videoWidth)?void 0:Math.max(0,Math.floor(null===h||void 0===h?void 0:h.videoWidth)),height:void 0===(null===h||void 0===h?void 0:h.videoHeight)||isNaN(null===h||void 0===h?void 0:h.videoHeight)?void 0:Math.max(0,Math.floor(null===h||void 0===h?void 0:h.videoHeight)),maxWidth:R&&null!==(e=P[0])&&void 0!==e&&e.width?Math.max(0,Math.floor(P[0].width)):void 0,maxHeight:R&&null!==(t=P[0])&&void 0!==t&&t.height?Math.max(0,Math.floor(P[0].height)):void 0,audioTrack:(null===d||void 0===d?void 0:d.value)||void 0,audioLang:(null===d||void 0===d?void 0:d.lang)||void 0,audioBitrate:null!==d&&void 0!==d&&d.bitrate?Math.max(0,Math.floor(1e3*d.bitrate)):void 0,capHeight:R&&v?Math.max(0,Math.floor(v)):void 0,capWidth:R&&y?Math.max(0,Math.floor(y)):void 0,containerHeight:void 0!==m?Math.max(0,Math.floor(m)):void 0,containerWidth:void 0!==g?Math.max(0,Math.floor(g)):void 0,bandwidthEstimate:void 0===b||isNaN(b)?void 0:Math.max(0,Math.round(b)),bandwidthSource:w||void 0,droppedFrames:void 0===S?void 0:Math.max(0,Math.floor(S)),shownFrames:void 0===E?void 0:Math.max(0,Math.floor(E)),viewport:_n(O,k),volume:_,playbackRate:A})}}])&&Rn(t.prototype,r),n&&Rn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();!function(e){e.Init="Init",e.SetSource="SetSource",e.Seek="Seek",e.VideoTrackChange="VideoTrackChange",e.AudioTrackChange="AudioTrackChange",e.Recover="Recover",e.MediaError="MediaError",e.Offline="Offline",e.Other="Other",e.Render="Render",e.RepresentationsChange="RepresentationsChange",e.LiveEdge="LiveEdge",e.AdStart="AdStart",e.AdOther="AdOther",e.AdBetween="AdBetween",e.AdEnd="AdEnd"}(WR||(WR={}));var zR,QR=[0,1,4,5],ZR=0,$R=QR.map((function(e){return ZR=e+ZR})),JR=1e3*$R[$R.length-1],XR=[WR.Init],eL=function(){function e(t){var r=t.getState,n=t.logEvent;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Fn(this,"isBuffering",!1),Fn(this,"timer",void 0),Fn(this,"stalledId",1),Fn(this,"stalledDurationRemainder",0),Fn(this,"getState",void 0),Fn(this,"logEvent",void 0),Fn(this,"expectedStalled",In(WR.Init,{})),Fn(this,"currentStalled",void 0),Fn(this,"stalledTime",0),Fn(this,"stalledCount",0),this.getState=r,this.logEvent=n}var t,r,n;return t=e,(r=[{key:"setBuffering",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e!==this.isBuffering)if(this.isBuffering=e,this.isBuffering){var n=[],o=QR.filter((function(e,o){var i=t.currentStalled?t.currentStalled.expectedStalled:t.getExpectedStalled(),a=$R[o];if(r/1e3>a){var u=t.currentStalled?t.currentStalled.id:t.stalledId++;return t.currentStalled||t.stalledCount++,t.currentStalled={id:u,expectedStalled:i,duration:a,getElapsedTime:(0,y_.u)()},t.send(!1,i,a,u),!1}return n.push(a),!0}));this.currentStalled&&(this.stalledDurationRemainder=r/1e3-this.currentStalled.duration),o.length&&(o[0]=o[0]-this.stalledDurationRemainder),this.timer=new jR((function(e){var r=e.count,i=t.currentStalled?t.currentStalled.expectedStalled:t.getExpectedStalled();if(r>0){var a=n[r-1],u=t.currentStalled?t.currentStalled.id:t.stalledId++;t.currentStalled||t.stalledCount++,t.currentStalled={id:u,expectedStalled:i,duration:a,getElapsedTime:(0,y_.u)()},t.send(!1,i,a,u)}return r>=o.length?(t.destroyTimer(),1/0):1e3*o[r]})),this.timer.start()}else{if(this.currentStalled){var i,a,u=this.currentStalled,c=u.expectedStalled,s=u.id,l=jn(this.currentStalled)+this.stalledDurationRemainder;this.send(!0,c,l,s),this.currentStalled=void 0,this.stalledDurationRemainder=0,this.stalledTime=l+this.stalledTime;var f=(null===(i=this.getState())||void 0===i||null===(a=i.adState)||void 0===a?void 0:a.state)===MR.PLAYING?WR.AdOther:WR.Other;this.setExpectedStalled(In(f,void 0))}this.destroyTimer()}}},{key:"getStalledHistory",value:function(){var e=this.stalledCount,t=this.stalledTime;return{stalledCount:Math.max(Math.floor(e)),stalledTime:Math.max(t,0)}}},{key:"clearStalledHistory",value:function(){this.stalledCount=0,this.stalledTime=0}},{key:"destroy",value:function(){this.destroyTimer()}},{key:"getCurrentStalledReason",value:function(){var e;return null===(e=this.currentStalled)||void 0===e?void 0:e.expectedStalled.reason}},{key:"setExpectedStalled",value:function(e){this.expectedStalled=e}},{key:"isExpiredStalled",value:function(e){var t=e.getElapsedTime,r=e.reason;return!(XR.indexOf(r)>-1)&&(!this.currentStalled||this.currentStalled.expectedStalled!==e)&&t()>=JR}},{key:"getExpectedStalled",value:function(){var e=this.expectedStalled;return this.isExpiredStalled(e)?In(WR.Other,void 0):e}},{key:"destroyTimer",value:function(){this.timer&&(this.timer.destroy(),this.timer=void 0)}},{key:"send",value:function(e,t,r,n){var o={id:n,isStalledEnd:e,reason:t.reason,stalledDuration:r,details:t.details},i=Dn(Dn({},o.details),{},{stalledDuration:o.stalledDuration,stalledId:o.id}),a=this.getState();if(a){var u=a.muted,c=a.remainingBufferedTime,s=a.videoTracks.find((function(e){return e.selected}));i=Dn(Dn({},i),{},{remainingBufferedTime:c,videoTrack:s,isMuted:u})}this.logEvent({name:o.isStalledEnd?"StalledEnd":"Stalled",data:i,labels:{reason:o.reason}})}}])&&Nn(t.prototype,r),n&&Nn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),tL=["Start","4SecWatched","10SecWatched","20SecWatched","30SecHeartbeat","End"],rL=r(7312),nL=r(63440),oL=function(){function e(t,r){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getState=t,this.onChange=r,Vn(this,"intervalId",void 0),Vn(this,"watchedTimeCounter",new nL.p),Vn(this,"onTick",(function(){var e,t=n.getState();if(t){var r=t.currentTime,o=t.playbackRate,i=void 0===o?1:o,a=t.playingState,u=t.adState,c=(null===u||void 0===u?void 0:u.state)===MR.PLAYING;n.watchedTimeCounter.calc(r,i,a===_R.PLAY&&!c),null===(e=n.onChange)||void 0===e||e.call(n,n.watchedTimeCounter.get())}})),this.intervalId=setInterval(this.onTick,100)}var t,r,n;return t=e,(r=[{key:"reset",value:function(){var e;this.watchedTimeCounter=new nL.p,null===(e=this.onChange)||void 0===e||e.call(this,this.watchedTimeCounter.get())}},{key:"getWatchedTime",value:function(){return this.watchedTimeCounter.get()}},{key:"destroy",value:function(){clearInterval(this.intervalId),this.intervalId=void 0}}])&&Mn(t.prototype,r),n&&Mn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),iL=r(53605),aL=function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dR.no;Bn(this,e),Gn(this,"lastDateNow",void 0),Gn(this,"lastPerformanceNow",void 0),Gn(this,"total",0),Gn(this,"interval",void 0),Gn(this,"getTime",void 0),Gn(this,"now",(function(){var e=Hn(),r=t.getTime(),n=r-t.lastPerformanceNow,o=e-t.lastDateNow,i=function(n){return t.lastDateNow=e,t.lastPerformanceNow=r,t.total=t.total+n,t.total};return i(o<=0?n:o)})),this.getTime=r,this.lastDateNow=Hn(),this.lastPerformanceNow=r(),this.interval=setInterval(this.now,1e3)}var t,r,n;return t=e,(r=[{key:"stop",value:function(){clearInterval(this.interval)}}])&&Un(t.prototype,r),n&&Un(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),uL=r(20348),cL={enabled:!0,events:[kR.Watched10Sec,kR.Watched20Sec,kR.Heartbeat30Sec]},sL={logVersion:"1.2.0"},lL=function(){function e(t){var r=this,n=t.sendLog,o=t.playerInfo,i=t.getState,a=t.enableMonotonicTimer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Qn(this,"watchedTimeTracker",void 0),Qn(this,"fatalTracker",void 0),Qn(this,"playbackTracker",void 0),Qn(this,"playerAliveController",void 0),Qn(this,"stalledController",void 0),Qn(this,"remoteProgressSavingInfo",cL),Qn(this,"staticParams",{}),Qn(this,"playerInfo",void 0),Qn(this,"startTimestamp",dR.e0),Qn(this,"useOfDeprecatedMethodIsLogged",!1),Qn(this,"timer",null),Qn(this,"timerStartTime",Date.now()),Qn(this,"sendLog",void 0),Qn(this,"getState",void 0),Qn(this,"destroyed",!1),Qn(this,"wasInitBufferingLogged",!1),Qn(this,"externalStalledDuration",0),Qn(this,"initialStalledDuration",0),Qn(this,"wasInitBufferingHandled",!1),Qn(this,"initialStalledTimestamp",void 0),Qn(this,"initialStalledTimestampStop",void 0),Qn(this,"eventIndex",0),Qn(this,"reportNumber",0),Qn(this,"sourceIndexes",{current:0,last:0}),this.playerInfo=o,this.sendLog=n,this.getState=i,this.playbackTracker=new BR({onEvent:function(e){return r.logEvent({name:e})}}),this.stalledController=new eL({getState:this.getState,logEvent:function(e){return r.logEvent(e)}}),this.watchedTimeTracker=new oL(i,(function(e){return r.playbackTracker.onWatchedTimeChange(e)})),this.playerAliveController=new KR({getState:i,onFlushStates:function(e){return r.logEvent({name:"PlayerAlive",data:{states:e}})},getTimestamp:function(){return r.getLogTimestamp()},stalledController:this.stalledController,getWatchedTime:function(){return r.watchedTimeTracker.getWatchedTime()}}),this.fatalTracker=new UR,this.initOnVisibilityChangeHandling(),a&&(this.timer=new aL)}var t,r,n;return t=e,n=[{key:"getVpuid",value:function(){return iL.z}}],(r=[{key:"getLogTimestamp",value:function(){return this.timer?Math.round(this.timerStartTime+this.timer.now()):Math.round(this.startTimestamp+(0,dR.no)())}},{key:"initOnVisibilityChangeHandling",value:function(){var e=this,t=R(document,(function(t){t||e.playerAliveController.flushStates()}));this.playerAliveController.addDestroyHandler(t)}},{key:"setStaticParams",value:function(e,t){this.staticParams=Kn(t?{}:Kn({},this.staticParams),e)}},{key:"enableRemoteProgressSaving",value:function(e){this.remoteProgressSavingInfo.enabled=e}},{key:"updateWatchedTime",value:function(){this.useOfDeprecatedMethodIsLogged||(this.logEvent({name:"DeprecatedTelemetryMethodUsed",data:{method:"updateWatchedTime"}}),this.useOfDeprecatedMethodIsLogged=!0),(0,xR.L)(new Error("Deprecated method used. Method is Telemetry#updateWatchedTime(). Just remove. Telemetry calculates watchedTime itself now."))}},{key:"setPlayingState",value:function(e){this.playbackTracker.onPlayingStateChange(e),this.handleInitialBuffering(),e===_R.BUFFERING?this.setBuffering(!0):this.setBuffering(!1)}},{key:"logEvent",value:function(e,t){if(!this.destroyed){var r=this.getFullEventLog(e,t),n=this.getUrlParams(r.eventType,r.eventName,e.labels);this.sendData(r,n)}}},{key:"logError",value:function(e,t){var r=e.error,n=e.labels,o=e.extraRootFields;if(!this.destroyed){r.isFatal=this.fatalTracker.checkIsFatal(r.isFatal,this.staticParams.streamUrl);var i=this.getFullErrorLog({error:r,labels:n,extraRootFields:o,sourceIndex:t}),a=this.getUrlParams(i.eventType,i.eventName,n);this.sendData(i,a)}}},{key:"getUrlParams",value:function(e,t,r){var n;return Kn(Kn({},r),{},(Qn(n={},this.playerInfo.service,this.playerInfo.version),Qn(n,e,String(t)),n))}},{key:"getFullEventLog",value:function(e,t){var r=this.getState(),n=Kn(Kn(Kn({},this.staticParams.labels),e.labels),{},{videoType:null===r||void 0===r?void 0:r.videoType}),o=tL.includes(e.name)?Kn(Kn({},e.data),this.getDataToSend(r)):e.data,i={};return this.remoteProgressSavingInfo.events.includes(e.name)&&r&&(i.playbackProgress={time:r.currentTime}),Kn(Kn(Kn(Kn(Kn(Kn({},sL),this.staticParams),e.extraRootFields),i),this.playerInfo),{},{vpuid:iL.z,eventType:"event",eventName:e.name,timestamp:this.getLogTimestamp(),documentIsVisible:x(document),eventIndex:this.eventIndex,data:o,labels:n,sourceIndex:null!==t&&void 0!==t?t:this.sourceIndexes.current})}},{key:"getFullErrorLog",value:function(e){var t=e.error,r=e.labels,n=e.extraRootFields,o=e.sourceIndex,i=Kn(Kn({},this.staticParams.labels),r);return t.details=(0,j_.Y)((function(){return"string"===typeof t.details?t.details:JSON.stringify(t.details)}))||t.details,Kn(Kn(Kn(Kn(Kn({},sL),this.playerInfo),this.staticParams),n),{},{vpuid:iL.z,eventType:t.isFatal?"fatal":"error",eventName:String(t.code),timestamp:this.getLogTimestamp(),documentIsVisible:x(document),eventIndex:this.eventIndex,data:t,labels:i,sourceIndex:null!==o&&void 0!==o?o:this.sourceIndexes.current})}},{key:"getDataToSend",value:function(e){if(!e)return{};var t=e.duration,r=e.currentTime,n=e.utcStartTime,o=e.isFullscreen,i=e.volume,a=e.muted;return{watchedSec:this.watchedTimeTracker.getWatchedTime(),duration:isNaN(t)?void 0:t,time:r,utcTime:void 0===n?void 0:n+r,isFullscreen:o,isMuted:a||0===i}}},{key:"sendData",value:function(e,t){var r=this;void 0!==e&&((0,j_.Y)((function(){return r.sendLog(e,t)}),xR.L),this.eventIndex++)}},{key:"checkStalledReason",value:function(e){return this.stalledController.getCurrentStalledReason()===e}},{key:"setBuffering",value:function(e,t){this.stalledController.setBuffering(e,t)}},{key:"setExpectedBuffering",value:function(e){var t=e.reason,r=e.details;switch(this.checkInitBuffering(t),t){case WR.SetSource:this.setBuffering(!1),this.clearBufferingHistory();break;case WR.Init:break;default:this.checkStalledReason(t)||this.setBuffering(!1)}return this.stalledController.setExpectedStalled(In(t,r))}},{key:"checkInitBuffering",value:function(e){this.wasInitBufferingLogged||e===WR.Init||this.onInitBuffering()}},{key:"setExternalStalledDuration",value:function(e){var t=this.getExpectedStalled();t.reason===WR.Init&&e&&(t.details={externalStalledDuration:e/1e3},this.setExpectedBuffering(t))}},{key:"startInitBufferingTimer",value:function(){this.initialStalledTimestamp=(0,dR.no)()}},{key:"stopInitBufferingTimer",value:function(){this.initialStalledTimestampStop=(0,dR.no)()}},{key:"onInitBuffering",value:function(e){if(!this.wasInitBufferingLogged){var t=this.initialStalledTimestamp&&!this.initialStalledTimestampStop,r=this.initialStalledTimestamp&&this.initialStalledTimestampStop;this.initialStalledDuration=t?(0,dR.no)()-this.initialStalledTimestamp:r?this.initialStalledTimestampStop-this.initialStalledTimestamp:0,this.externalStalledDuration=null!==e&&void 0!==e?e:0,"pause"!==(this.getState()||{}).playingState&&this.handleInitialBuffering(),this.wasInitBufferingLogged=!0,this.initialStalledTimestamp=void 0,this.initialStalledTimestampStop=void 0}}},{key:"handleInitialBuffering",value:function(){this.wasInitBufferingHandled||(this.externalStalledDuration&&this.setExternalStalledDuration(this.externalStalledDuration),this.setBuffering(!0,this.initialStalledDuration),this.wasInitBufferingHandled=!0)}},{key:"destroy",value:function(e){var t;this.stalledController.destroy(),this.playerAliveController.destroy(),this.watchedTimeTracker.destroy(),this.logEvent({name:"DestroyPlayer",data:{reason:null===e||void 0===e?void 0:e.reason}}),null===(t=this.timer)||void 0===t||t.stop(),this.destroyed=!0}},{key:"getExpectedStalled",value:function(){return this.stalledController.getExpectedStalled()}},{key:"clearBufferingHistory",value:function(){return this.stalledController.clearStalledHistory()}},{key:"setPreloadDetails",value:function(){this.useOfDeprecatedMethodIsLogged||(this.logEvent({name:"DeprecatedTelemetryMethodUsed",data:{method:"setPreloadDetails"}}),this.useOfDeprecatedMethodIsLogged=!0),(0,xR.L)(new Error("Deprecated method used. Method is Telemetry#setPreloadDetails(). Just remove it."))}},{key:"writePlayerAliveStateManually",value:function(){return this.playerAliveController.writeStateManually()}},{key:"flushStates",value:function(){return this.playerAliveController.flushStates()}},{key:"onCreatePlayer",value:function(e,t){this.logEvent({name:"CreatePlayer",data:e,extraRootFields:t})}},{key:"onBeforePreload",value:function(){return++this.sourceIndexes.last}},{key:"getSourceIndex",value:function(){return this.sourceIndexes.current}},{key:"onBeforeSetSource",value:function(){return++this.sourceIndexes.last}},{key:"onSetSource",value:function(e,t,r){var n;this.flushStates(),this.sourceIndexes.current=this.sourceIndexes.last>this.sourceIndexes.current?this.sourceIndexes.last:++this.sourceIndexes.last,this.watchedTimeTracker.reset(),r&&this.setStaticParams(r),this.logEvent({name:"SetSource",data:e}),this.setExpectedBuffering({reason:WR.SetSource,details:t});var o=null===(n=this.getState())||void 0===n?void 0:n.playingState;o!==_R.PAUSE&&o!==_R.END&&this.setBuffering(!0)}},{key:"sendReportLog",value:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=null!==t&&void 0!==t?t:this.generateReportId();return this.logEvent({name:"ReportLog",data:{reportId:n,reported:r,reportData:e}}),n}},{key:"generateReportId",value:function(){return"".concat(this.playerInfo.vsid,"x").concat(this.reportNumber++)}},{key:"onExpectedBuffering",value:function(e){var t=e.reason,r=e.details;return this.checkInitBuffering(t),this.stalledController.setExpectedStalled(In(t,r))}},{key:"onSeek",value:function(e){this.setExpectedBuffering({reason:WR.Seek,details:e})}},{key:"onVideoTrackChange",value:function(e){this.setExpectedBuffering({reason:WR.VideoTrackChange,details:e})}},{key:"onAudioTrackChange",value:function(e){this.setExpectedBuffering({reason:WR.AudioTrackChange,details:e})}},{key:"onRecover",value:function(e){this.setExpectedBuffering({reason:WR.Recover,details:e})}},{key:"onMediaError",value:function(e){this.setExpectedBuffering({reason:WR.MediaError,details:e})}},{key:"onNetworkStatusChange",value:function(e){this.setExpectedBuffering({reason:WR.Offline,details:e})}},{key:"onRepresentationsChange",value:function(e){this.setExpectedBuffering({reason:WR.RepresentationsChange,details:e})}},{key:"onLiveEdge",value:function(e){this.setExpectedBuffering({reason:WR.LiveEdge,details:e})}},{key:"onAdStart",value:function(e){this.setExpectedBuffering({reason:WR.AdStart,details:e})}},{key:"onAdBetween",value:function(e){this.setExpectedBuffering({reason:WR.AdBetween,details:e})}},{key:"onAdEnd",value:function(e){this.setExpectedBuffering({reason:WR.AdEnd,details:e})}}])&&zn(t.prototype,r),n&&zn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),fL=r(67176),dL=r(7889),hL=(0,Lx.en)(window.location.href).hostname.split(".").reverse()[0],pL=r(41224),vL=function(){return ro({method:"GET",url:"https://frontend.vh.yandex.ru/csrf_token",retries:3,withCredentials:!0}).then((function(e){try{return{token:e}}catch(t){return{token:""}}}))},yL=function(){return ro({method:"GET",url:"https://cloud-api.yandex.ru/videoplayer/v1/personality/profile/yandex_io/devices/",retries:3,withCredentials:!0}).then((function(e){try{var t=JSON.parse(e).items;return t&&t.length?t:[]}catch(r){return[]}}))},mL=function(){return ro({method:"GET",url:"https://quasar.yandex.<tld>/devices_online_stats",retries:3,withCredentials:!0}).then((function(e){try{var t=JSON.parse(e).items;return t&&t.length?t:[]}catch(r){return[]}}))},gL=function(e,t){var r={msg:eo(eo({},e.config),{},{start_position:e.startPosition}),device:e.externalPlayerId};return ro({method:"POST",url:"https://yandex.ru/video/station",headers:{"X-CSRF-TOKEN":t},data:JSON.stringify(r),retries:3,withCredentials:!0}).then((function(e){var t=JSON.parse(e);if("play"!==t.status)throw new Error("ExternalPlaybackError: ".concat(t.msg))}))};!function(e){e.OK="OK",e.SLOW="SLOW",e.UNKNOWN="UNKNOWN"}(zR||(zR={}));var bL,wL=r(14381),SL={min:1,max:1/0},EL={min:0,max:1};!function(e){e.play="play",e.pause="pause",e.seek="seek",e.setSource="setSource",e.preloadSource="preloadSource",e.abortPreloadSource="abortPreloadSource",e.setVolume="setVolume",e.setMuted="setMuted",e.setFullscreen="setFullscreen",e.setPictureInPicture="setPictureInPicture",e.setPlaybackRate="setPlaybackRate",e.setVideoTrack="setVideoTrack",e.setAudioTrack="setAudioTrack",e.setTextTrack="setTextTrack",e.setNativeTextTrackVisibility="setNativeTextTrackVisibility",e.setNativeAdControlsVisibility="setNativeAdControlsVisibility",e.setHiddenControls="setHiddenControls",e.setVideoStyle="setVideoStyle",e.setPictureInPictureEnabled="setPictureInPictureEnabled",e.setExternalVisualState="setExternalVisualState",e.getExternalVisualState="getExternalVisualState",e.requestDebugInfo="requestDebugInfo",e.xhrRequest="xhrRequest",e.stopAd="stopAd",e.playInrollAd="playInrollAd",e.skipAdPod="skipAdPod",e.playAdViewers="playAdViewers",e.seekToNextFrame="seekToNextFrame",e.seekToPreviousFrame="seekToPreviousFrame",e.destroy="destroy",e.logDelta="logDelta"}(bL||(bL={}));var OL,kL=r(83361),_L={},AL={},TL=function(e){function t(e){var r,n=e.id,o=e.sender,a=e.receiver;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),So(bo(r=i.call(this)),"id",void 0),So(bo(r),"sender",void 0),So(bo(r),"receiver",void 0),r.id=n,r.sender=o,r.receiver=a;a["handle_event_".concat(n)]=function(e){return r.emit("Event",e)};return a["handle_command_".concat(n)]=function(e){return r.emit("Command",e)},r}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yo(e,t)}(t,e);var r,n,o,i=mo(t);return r=t,(n=[{key:"sendEvent",value:function(e,t){var r=t.sourceId,n=void 0===r?NaN:r,o=t.data;try{this.sender["handle_event_".concat(this.id)]({eventName:e,data:o,sourceId:n})}catch(i){}}},{key:"sendCommand",value:function(e,t){try{this.sender["handle_command_".concat(this.id)]({commandName:e,params:t,sendAnswer:DT.Z})}catch(r){}}},{key:"sendRequest",value:function(e,t){var r=this;return new kL((function(n){try{r.sender["handle_command_".concat(r.id)]({commandName:e,params:t,sendAnswer:n})}catch(o){}}))}},{key:"destroy",value:function(){this.receiver["handle_event_".concat(this.id)]=void 0,this.receiver["handle_command_".concat(this.id)]=void 0,this.off("Command"),this.off("Event")}}])&&vo(r.prototype,n),o&&vo(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(IR.v),PL=r(16258),xL=r(90541),RL=r(83361),LL={lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"},jL=To((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Po(this,"isWebpSupported",void 0),Po(this,"lastCheckTimestamp",void 0),this.isWebpSupported=t,this.lastCheckTimestamp=Date.now()})),IL=r(83361);!function(e){e.Horizontal="HORIZONTAL",e.Vertical="VERTICAL"}(OL||(OL={}));var CL,DL=["get-vh"],NL=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var o,i={},a={};if((0,xL.Kn)(r))for(var u in r)if(r.hasOwnProperty(u)){var c=r[u];(0,xL.Kn)(c)?((0,xL.o8)(c.value)||(this[u]=c.value),(0,xL.mf)(c.set)&&(i[u]=c.set),c.unsafe&&(a[u]=!0)):(0,xL.o8)(c)||(this[u]=c)}if(t){var s=(0,xL.Kn)(t)?t:e.parse(t);for(var l in s)if(s.hasOwnProperty(l)){var f=this[l],d=i[l];i.hasOwnProperty(l)&&(0,xL.mf)(d)?d.call(this,s[l],l):this[l]=s[l],this[l]!==f&&a[l]&&((o=o||{})[l]=this[l])}}o&&(0,xL.mf)(n)&&n(o,this)}var t,r,n;return t=e,n=[{key:"parse",value:function(t,r,n){var o={};if(!t||!(0,xL.HD)(t))return o;var i=t;"?"!==i[0]&&"#"!==i[0]||(i=i.slice(1));for(var a=i.split(r||"&"),u=0;u<a.length;u++){var c=a[u].indexOf("=");-1!==c?o[decodeURIComponent(a[u].slice(0,c))]=e.parseJSON(decodeURIComponent(a[u].slice(c+1))):n&&(o[decodeURIComponent(a[u])]=!0)}return o}},{key:"parseJSON",value:function(e){try{return JSON.parse(e)}catch(t){return e}}}],(r=[{key:"toString",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"&",r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=encodeURIComponent,i=this,a=Object.keys(this).filter((function(e){return!(0,xL.o8)(i[e])&&!(0,xL.mf)(i[e])})).map((function(t){return e=i[t],(0,xL.Kn)(e)&&(e=JSON.stringify(e)),n.indexOf(t)>-1?t+"="+e:o(t)+"="+o(e)})).join(t);return r&&(a+=t),a}},{key:"appendTo",value:function(e){var t=this.toString();return t?(e+=e.indexOf("?")>-1?"&":"?",e+=t):e}}])&&Bo(t.prototype,r),n&&Bo(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),FL=("undefined"!==typeof window&&location.protocol,{none:0,always:1,start:2,ui:3,restriction_age:4}),ML={plain:0,colourful:1,with_subscribe_info:2,with_subscribe_label:3},VL=["desktop","touch","pad","app","tv","tvapp"],BL=["default","live","paid","avod","alive"],UL=["be","en","id","kk","ru","tr","tt","uk","uz"],GL=!1,HL=function(e,t){return function(r,n){if(!(0,xL.mf)(n))throw new Error("VHQuery: missing method for handling unsafe params.");var o=new NL(r,e(),n.bind(this));return t(o)}}((function(){return zo()}),(function(e){return e.reqid&&(0,xL.Kn)(e.counters)&&!e.counters.reqid&&(e.counters.reqid=e.reqid),(0,xL.Kn)(e.counters)&&e.counters.reqid&&!e.reqid&&(e.reqid=e.counters.reqid),(e.tv||e.nativeui||e.test_mode)&&(e.recommendations=""),function(e){var t={};(0,xL.HD)(e.slots)&&e.slots.split(";").forEach((function(e){var r=e.split(",",1)[0];r&&(t[r]=e)}));Array.isArray(e["test-id"])&&e["test-id"].forEach((function(e){e&&(t[e]||(t[e]=e+",0,-1"))}));var r="",n=[];for(var o in t)t.hasOwnProperty(o)&&(r+=r.length>0?";"+t[o]:t[o],n.push(o));r&&(e.slots=r);n.length>0&&(e["test-id"]=n)}(e),e})),YL=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,n=[{key:"parse",value:function(){for(var t=e.getDefault(),r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];var i=n.filter(Boolean).join(";"),a=NL.parse(i,";",!0);return new NL(a,t)}},{key:"getDefault",value:function(){return{"videoplayer-version":void 0,version:void 0,force_unmute:{value:void 0,set:Uo},restore_playback_progress:{value:void 0,set:Uo},use_friendly_frame:{value:void 0,set:Uo},progress:{value:void 0,set:Uo},start_position_confirmation:{value:void 0,set:Uo},hide_brand_play_button:{value:void 0,set:Uo},disable_autoplay_slow_connection:{value:!1,set:Uo},disable_autoplay_save_data:{value:!1,set:Uo},max_buffer_length:{value:void 0,set:qo},bandwidth_estimate_offset:{value:void 0,set:qo},soft_max_res_height:{value:void 0,set:qo},poll_id:{value:void 0,set:Yo},poll_timeout:{value:21600,set:qo},poll_show_before_midroll:{value:!1,set:Uo}}}}],(r=null)&&Qo(t.prototype,r),n&&Qo(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),qL=function(e,t){var r=[];try{r=e.cookie?e.cookie.split("; "):[]}catch(s){}for(var n,o=/(%[0-9A-Z]{2})+/g,i=0;i<r.length;i++){var a=r[i].split("="),u=a.slice(1).join("=");try{var c=a[0].replace(o,decodeURIComponent);if(u.replace(o,decodeURIComponent),t===c){n=decodeURIComponent(u);break}}catch(s){return}}return n}(document,"yandexuid"),WL=/\b(\d+:)?[0-5]\d:[0-5]\d\b/,KL=r(83361),zL=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ii(this,"params",void 0),ii(this,"query",void 0),ii(this,"ids",void 0),ii(this,"expFlags",void 0),ii(this,"player",void 0),ii(this,"requestInfo",void 0),this.params=t.params,this.query=t.query,this.ids=t.ids,this.expFlags=t.expFlags,this.player=t.player,this.requestInfo=t.params.data.request_info||{}}var t,r,n,o,i;return t=e,r=[{key:"prepareVHParams",value:(i=ni(ti().mark((function e(){var t,r,n,o,i;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.params.data.content||{},r=Object.create(t),n=t.actual_episode)for(o in n)n.hasOwnProperty(o)&&(r[o]=n[o]);if(r.stream&&(r.withCredentials=Boolean(r.stream.withCredentials)),r.loop=Boolean(r.loop),i=t.max_video_size,!r.meta){e.next=11;break}return e.next=10,Mo(r.meta.announce_thumbnail,i);case 10:r.meta.announce_thumbnail=e.sent;case 11:return e.next=13,Mo(r.thumbnail,i);case 13:return r.thumbnail=e.sent,e.next=16,Mo(r.onto_poster,i);case 16:return r.onto_poster=e.sent,e.next=19,Mo(r.cover,i);case 19:return r.cover=e.sent,e.next=22,Mo(r.first_frame_url,i);case 22:return r.first_frame_url=e.sent,e.abrupt("return",r);case 24:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"getHiddenControls",value:function(e){if(this.query.tv)return"*";var t=[];return(0,xL.Kn)(null===e||void 0===e?void 0:e.auto_fields)&&null!==e&&void 0!==e&&e.auto_fields.player_controls_hidden&&(t=e.auto_fields.player_controls_hidden),[].concat(t,this.query.hidden.split(",")).join(",")}},{key:"getLiveOffset",value:function(e){return(0,xL.hj)(this.query.live_offset)?this.query.live_offset:null!==e&&void 0!==e&&e.ugc_live?15:void 0}},{key:"getSkinConfig",value:function(e){var t=this.getHiddenControls(e),r=this.getLogoConfig(e),n=this.getTitleSettings(),o=this.getSubscribeButton();return{showReportButton:!1,showUnmuteButtonForAll:this.expFlags.force_unmute,logoConfig:r,hiddenControls:t,showSubscribeButton:o,title:n,primaryColor:this.getColor(this.query.primary_color),secondaryColor:this.getColor(this.query.secondary_color),timelineThumbColor:this.getColor(this.query.timeline_thumb_color)}}},{key:"getPlayerConfig",value:(o=ni(ti().mark((function e(){var t,r,n,o,i,a;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.prepareVHParams();case 2:return t=e.sent,r=this.getSourceConfig(t),n=this.getAutoplay(),o=this.getLiveOffset(t),i=this.getSkinConfig(t),a={source:r,skinParams:{skinConfig:i},autoplay:n,allowPip:this.query.pip,volume:this.query.volume,muted:this.query.mute,lang:this.query.lang||this.requestInfo.lang,preload:this.getPreload(),platform:this.query.platform,togglePlaybackOnVisibilityChange:this.query.play_on_visible,useAbdBundle:this.requestInfo.use_aab_bundle,useFriendlyFrame:this.query.use_friendly_frame,flags:this.expFlags,usePlayerApiMock:this.query.test_mode,liveOffset:o,slowConnection:this.requestInfo.slow_connection||this.query.slow_connection,maxBufferLength:this.expFlags.max_buffer_length,bandwidthEstimateOffset:this.expFlags.bandwidth_estimate_offset,logUrl:this.requestInfo.use_aab_bundle?this.requestInfo.logging_url:void 0,device:{id:this.query.device_id},objectFit:this.query.object_fit,backgroundColor:this.query.background_color,zenPreload:this.query.zen_preload,cacheSourcesCount:this.query.cache_sources_count,restoreTabSessionPlaybackProgress:this.expFlags.restore_playback_progress,loadSkin:this.query.skin},this.params.disableOTTPlayerLoader&&(a.disableOTTPlayerLoader=!0),e.abrupt("return",a);case 10:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"getSourceConfig",value:function(e){var t;this.preparePlaybackParams(e),this.prepareAdParams(e);var r=String(this.getStreamParams(e)),n=this.getAdConfig(e),o=this.getVideoInfo(e),i=this.getTrackings(e),a=this.getOTTParams(e),u=this.getStartPosition(e),c=this.getAdditionalParams(e),s=this.getPreview(e),l=this.getPosterStyle(),f={adConfig:n,videoInfo:o,trackings:i,preview:s,chapters:this.getChapters(null===e||void 0===e?void 0:e.description),firstFrameHash:null===e||void 0===e?void 0:e.first_frame_hash,firstFrameUrl:null===e||void 0===e?void 0:e.first_frame_url,startPosition:u,enableRemoteProgressSaving:this.query.remote_progress_saving||this.expFlags.progress,withCredentials:this.query.with_credentials||(null===e||void 0===e?void 0:e.withCredentials),loop:(null===e||void 0===e?void 0:e.loop)||this.query.loop,additionalParams:c,preferredTracks:{preferredAudioLangs:this.query.preferable_audio,preferredTextLangs:this.query.preferable_text},context:a,passportRetpath:this.query.retpath},d=null===(t=this.getStreamsConfig(e))||void 0===t?void 0:t.map((function(e){return r&&(e.url+=e.url.indexOf("?")>-1?"&":"?",e.url+=r),e}));return d&&(f.streams=d),l&&(f.posterStyle=l),this.params.data.scriptedEvents&&(f.scriptedEvents=this.params.data.scriptedEvents),(0,xL.HD)(c.slots)&&(0,xL.Kn)(f.context)&&(f.context.testIds=c.slots.split(";").map((function(e){return parseInt(e,10)})).join(",")),this.query.scriptedEvents&&(f.scriptedEvents=this.query.scriptedEvents,delete this.query.scriptedEvents),f}},{key:"preparePlaybackParams",value:function(e){e&&(e.start_time=parseInt(e.start_time,10)||void 0,e.finish_time=parseInt(e.finish_time,10),e.finish_time=isNaN(e.finish_time)?void 0:e.finish_time-1,e.dvr=parseInt(e.dvr,10)||void 0)}},{key:"prepareAdParams",value:function(e){}},{key:"getStreamParams",value:function(e){var t={audio_only:this.query.audio_only,start:null===e||void 0===e?void 0:e.start_time,end:null===e||void 0===e?void 0:e.finish_time,dvr:null===e||void 0===e?void 0:e.dvr,soft_max_res_height:this.expFlags.soft_max_res_height};return new NL(t,{audio_only:{set:function(e,t){e&&(this[t]=1)}},start:{set:ui},end:{set:ui},dvr:{set:ui},soft_max_res_height:{set:ai}})}},{key:"getStreamsConfig",value:function(e){var t=Array.isArray(this.query.streams)?this.query.streams:null===e||void 0===e?void 0:e.streams;if(Array.isArray(t))return t.reduce((function(e,t){var r={};for(var n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);if(!r.url)return e;var o=r.id||"default";return e.defId||(e.defId=o),r.drmConfig=r.drmConfig||r.drm_config||void 0,delete r.id,delete r.options,delete r.drm_config,o===e.defId&&e.result.push(r),e}),{result:[],defId:""}).result}},{key:"getAdConfig",value:function(e){if((0,xL.Kn)(this.query.adConfig))return this.query.adConfig;var t=(0,xL.Kn)(null===e||void 0===e?void 0:e.adConfig)?null===e||void 0===e?void 0:e.adConfig:{},r=t||{};if(t){r.partnerId=t.partner_id||t.partnerId,r.category=t.category,r.videoContentId=t.video_content_id||t.videoContentId,r.videoContentName=t.video_content_name||t.videoContentName,r.videoGenreId=t.video_genre_id,r.videoGenreName=t.video_genre_name,r.hasPreroll=(0,xL.jn)(this.query.has_preroll)?this.query.has_preroll:t.hasPreroll,r.distrId=this.query.distr_id||t.distr_id,r.useAdSession=(0,xL.jn)(this.query.use_ad_session)?this.query.use_ad_session:t.useAdSession;var n=parseInt(r.partnerId,10);n&&(r.partnerId=n);var o=parseInt(r.category,10);o&&(r.category=o),t.video_publisher_id&&(r.videoPublisherId=t.video_publisher_id),t.video_publisher_name&&(r.videoPublisherName=t.video_publisher_name)}return this.query.vmap_id&&(r.vmapId=this.query.vmap_id),this.query.vmap_scenario_id&&(r.vmapScenarioId=this.query.vmap_scenario_id),(0,xL.hj)(this.query.preferable_width)&&(0,xL.hj)(this.query.preferable_height)&&(r.preferableAdSize={width:this.query.preferable_width,height:this.query.preferable_height}),r}},{key:"getVideoInfo",value:function(e){var t=(0,xL.Kn)(null===e||void 0===e?void 0:e.adConfig)?null===e||void 0===e?void 0:e.adConfig:{},r={videoContentId:null===e||void 0===e?void 0:e.content_id,videoContentName:null===e||void 0===e?void 0:e.title,videoContentDescription:null===e||void 0===e?void 0:e.description,videoPublisherId:(null===t||void 0===t?void 0:t.video_publisher_id)||"",videoPublisherName:(null===t||void 0===t?void 0:t.video_publisher_name)||""};return r.videoGenreId=String((null===t||void 0===t?void 0:t.video_genre_id)||""),r.videoGenreName=String((null===e||void 0===e?void 0:e.genres)||(null===t||void 0===t?void 0:t.video_genre_name)||""),Object.keys(r).reduce((function(e,t){var n=r[t];return n&&(e[t]=n),e}),{})}},{key:"getTrackings",value:function(e){if("zen"===this.ids.from)return{trackingEvents:[]};var t=[];(0,xL.Kn)(null===e||void 0===e?void 0:e.trackingEvents)&&(t=t.concat(e.trackingEvents)),(0,xL.Kn)(null===e||void 0===e?void 0:e.stream)&&(0,xL.Kn)(null===e||void 0===e?void 0:e.stream.trackings)&&(0,xL.Kn)(null===e||void 0===e?void 0:e.stream.trackings.trackingEvents)&&(t=t.concat(e.stream.trackings.trackingEvents));var r=this.getYaVideoTrackings(e);return r&&(t=t.concat(r).filter(Boolean)),{trackingEvents:t}}},{key:"getSubscribeButton",value:function(){return{type:this.query.subscribe_button}}},{key:"getColor",value:function(e){return e&&(0,xL.HD)(e)&&CSS.supports("color","#"+e)?"#"+e:e}},{key:"getChapters",value:function(e){if(e){var t=function(e){var t=[];return e.split("\n").forEach((function(e){var r=e.match(WL);if(r){var n=r[0],o=e.slice(n.length).trim();t.push({start:Xo(n),title:o})}})),t.length>0?t:void 0}(e);if(t&&!(t.length<2)&&0===t[0].start)return t}}},{key:"getPreview",value:function(e){return this.query.preview_src?this.query.preview_src:this.query.preview&&!this.query.streams?null===e||void 0===e?void 0:e.thumbnail:""}},{key:"getPosterStyle",value:function(){var e;return this.query.poster_object_fit&&(e={objectFit:String(this.query.poster_object_fit)}),e}},{key:"getLogoConfig",value:function(e){return null!==e&&void 0!==e&&e.logoConfig?e.logoConfig:(0,xL.Kn)(null===e||void 0===e?void 0:e.watermark)&&(0,xL.HD)(null===e||void 0===e?void 0:e.watermark.src)?null===e||void 0===e?void 0:e.watermark:void 0}},{key:"getTitleSettings",value:function(){if(void 0!==this.query.meta){if(this.query.meta===FL.none)return null;var e={name:this.query.m_title,description:this.query.m_desc};switch(this.query.meta){case FL.always:e.isVisible=!0;break;case FL.start:e.isVisible=!0,e.duration=this.query.m_duration;break;case FL.restriction_age:e.isVisible=!0,e.visibleOnPlay=!0,e.duration=this.query.m_duration;break;case FL.ui:e.isVisible=!0,e.visibleWithSkinOnly=!0}return e}}},{key:"getOTTParams",value:function(e){return null}},{key:"createOttEventTrigger",value:function(e){var t=this;return function(r){var n;r.event===e&&(null===(n=t.player)||void 0===n||n.publicEmit("OTT/"+e,r))}}},{key:"getStartPosition",value:function(e){return(0,xL.hj)(this.query.t)?this.query.t:(0,xL.hj)(null===e||void 0===e?void 0:e.progress)&&(0,xL.hj)(null===e||void 0===e?void 0:e.duration)&&e.progress/e.duration>.95?0:this.expFlags.progress&&(0,xL.hj)(null===e||void 0===e?void 0:e.progress)?null===e||void 0===e?void 0:e.progress:void 0}},{key:"getYaVideoTrackings",value:function(e){return(0,xL.Kn)(e),null}},{key:"getAdditionalParams",value:function(e){var t=(0,xL.Kn)(null===e||void 0===e?void 0:e.additionalParams)?e.additionalParams:{};if(this.ids.frontendVhReqid&&(t.frontend_vh_reqid=this.ids.frontendVhReqid),this.ids.reqid&&(t.reqid=this.ids.reqid),(null!==e&&void 0!==e&&e.puid||this.query.puid)&&(t.puid=(null===e||void 0===e?void 0:e.puid)||this.query.puid),null!==e&&void 0!==e&&e.content_id&&(t.content_id=e.content_id),null!==e&&void 0!==e&&e.folder_id&&(t.folder_id=e.folder_id),this.ids.from&&(t.from=this.ids.from),this.ids.fromBlock&&(t.from_block=this.ids.fromBlock),this.ids.slots&&(t.slots=this.ids.slots),this.ids.streamBlock&&(t.stream_block=this.ids.streamBlock),null!==e&&void 0!==e&&e.channel_id&&(t.channel_id=e.channel_id),!Array.isArray(this.query["brand-safety-categories"])||(0,xL.Kn)(null===e||void 0===e?void 0:e.adTags)&&null!==e&&void 0!==e&&e.adTags["brand-safety-categories"]||(t["brand-safety-categories"]=this.prepareCategory("brand-safety-categories")),(0,xL.Kn)(null===e||void 0===e?void 0:e.adTags))for(var r in null===e||void 0===e?void 0:e.adTags)null!==e&&void 0!==e&&e.adTags.hasOwnProperty(r)&&(t[r]=this.prepareCategory(r,e.adTags[r]));return t.sandboxVersion=this.ids.sandboxVersion,t}},{key:"prepareCategory",value:function(e,t){var r=this.query[e],n=[];if(Array.isArray(t)&&Array.isArray(r))n=t.concat(r);else if(Array.isArray(t))n=t;else{if(!Array.isArray(r))return null;n=r}return"brand-safety-categories"===e?"["+n.join(",")+"]":n.join("\n")}},{key:"getAutoplay",value:function(){if(Tx())return!1;var e=navigator&&navigator.connection&&navigator.connection.saveData,t=this.requestInfo.slow_connection||this.query.slow_connection;return!(this.expFlags.disable_autoplay_slow_connection&&this.expFlags.disable_autoplay_save_data&&t&&e)&&!(this.expFlags.disable_autoplay_slow_connection&&!this.expFlags.disable_autoplay_save_data&&t)&&!(!this.expFlags.disable_autoplay_slow_connection&&this.expFlags.disable_autoplay_save_data&&e)&&((0,xL.jn)(this.query.allow_muted)?{allowMuted:this.query.allow_muted}:Boolean(this.query.autoplay))}},{key:"getPreload",value:function(){return!Tx()&&this.query.preload}}],n=[{key:"create",value:function(t){var r,n,o,i=t.queryParams,a=t.vhParams,u=t.playerApi,c=HL(i||{},(function(){}));null!==(r=a.content)&&void 0!==r&&r.ottParams&&(0,xL.hj)(null===(n=a.content)||void 0===n?void 0:n.restriction_age)&&(c.meta=FL.restriction_age,c.m_duration=8,c.m_title=a.content.restriction_age+"+");var s=YL.parse(null===(o=a.request_info)||void 0===o?void 0:o.flags,c.mb_flags);return function(e,t){e.version=e["videoplayer-version"]||t.version,e.progress=(0,xL.jn)(e.progress)?e.progress:t.progress,e.start_position_confirmation=(0,xL.jn)(e.start_position_confirmation)?e.start_position_confirmation:t.start_position_confirmation,e.force_unmute=(0,xL.jn)(e.force_unmute)?e.force_unmute:t.force_unmute,e.restore_playback_progress=(0,xL.jn)(e.restore_playback_progress)?e.restore_playback_progress:t.restore_playback_progress,e.hide_brand_play_button=(0,xL.jn)(e.hide_brand_play_button)?e.hide_brand_play_button:t.hide_brand_play_button}(s,c),new e({query:c,expFlags:s,params:{data:a},player:u,ids:Zo(a,c)})}}],r&&oi(t.prototype,r),n&&oi(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),QL=r(83361),ZL=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.params=t,this.playerApi=r}var t,r,n,o,i;return t=e,(r=[{key:"getSourceConfig",value:(i=pi(si().mark((function e(t){var r,n,o=this;return si().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.createInternalVhConfig(t).getPlayerConfig();case 2:return r=e.sent,n=r.source,e.abrupt("return",fi(fi({},n),{},{update:function(){var e=pi(si().mark((function e(){var r,n,i;return si().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_i(null===(r=t.content)||void 0===r?void 0:r.content_id,o.params);case 2:return n=e.sent,i=n.sourceConfig,e.abrupt("return",fi(fi({},i),{},{startPosition:void 0}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"getPlayerConfig",value:(o=pi(si().mark((function e(t){return si().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=fi,e.t1=fi,e.t2={},e.next=5,this.createInternalVhConfig(t).getPlayerConfig();case 5:return e.t3=e.sent,e.t4=(0,e.t1)(e.t2,e.t3),e.t5={},e.next=10,this.getSourceConfig(t);case 10:return e.t6=e.sent,e.t7={source:e.t6},e.abrupt("return",(0,e.t0)(e.t4,e.t5,e.t7));case 13:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"getIframeParams",value:function(){var e,t;return{eventPrefix:null!==(e=this.params)&&void 0!==e&&e.event_prefix?String(null===(t=this.params)||void 0===t?void 0:t.event_prefix):void 0}}},{key:"createInternalVhConfig",value:function(e){return zL.create({vhParams:e,queryParams:this.params,playerApi:this.playerApi})}}])&&vi(t.prototype,r),n&&vi(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),$L=r(81917),JL=r(5923),XL=r(83361),ej=r(86589),tj={no_licenses:{message:"ACCESS_ERROR_NO_LICENSE",code:151},invalid_region:{message:"ACCESS_ERROR_INVALID_REGION",code:153},old_browser:{message:"ACCESS_ERROR_OLD_BROWSER",code:5},future_vod_release:{message:"ACCESS_ERROR_FUTURE_VOD_RELEASE",code:100},access_denied:{message:"ACCESS_DENIED",code:100},unexpected:{message:"ACCESS_ERROR_UNEXPECTED",code:100},unsupported_browser:{message:"ACCESS_ERROR_UNSUPPORTED_BROWSER",code:412},not_found:{message:"ACCESS_ERROR_NOT_FOUND",code:404},video_processing:{message:"VIDEO_PROCESSING",code:100},video_processing_failed:{message:"VIDEO_PROCESSING_FAILED",code:100}},rj=((0,ej.z)(tj).map((function(e){var t=e.code;return String(t)})),r(83361)),nj=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=c.call(this)).params=e,Fi(Di(r),"destroyed",!1),Fi(Di(r),"requestSourceConfigTimeout",void 0),Fi(Di(r),"currentPoster",void 0),Fi(Di(r),"currentUgcLiveStatus",void 0),Fi(Di(r),"releaseDate",void 0),r.releaseDate=function(){var t,n,o,i=parseInt(String(null===(t=r.params.queryParams)||void 0===t?void 0:t.release_timeout),10);if(i)return Date.now()/1e3+i;var a=parseInt((null===(n=e.vhParams)||void 0===n||null===(o=n.content)||void 0===o?void 0:o.release_date)||"",10)||void 0;return void 0!==a&&Date.now()/1e3<a?a:void 0}(),r.once("Destroy",(function(){r.destroyed=!0,window.clearTimeout(r.requestSourceConfigTimeout),void 0!==r.currentUgcLiveStatus&&(r.currentUgcLiveStatus=void 0,r.emit("UgcLiveStatusChange",void 0))})),rj.resolve().then((function(){r.start()})),r}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ji(e,t)}(t,e);var r,n,o,i,a,u,c=Ii(t);return r=t,(n=[{key:"start",value:(u=Ri(Pi().mark((function e(){var t,r,n;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.params.vhParams){e.next=7;break}return r=new ZL(this.params.queryParams,this.params.playerApi),e.next=4,r.getPlayerConfig(this.params.vhParams);case 4:return n=e.sent,this.handleVhAnswer({vhParams:this.params.vhParams,sourceConfig:n.source,skinConfig:(null===(t=n.skinParams)||void 0===t?void 0:t.skinConfig)||{},autoplay:n.autoplay}),e.abrupt("return");case 7:return e.next=9,this.run();case 9:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"run",value:(a=Ri(Pi().mark((function e(){var t,r=arguments;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:0,e.prev=1,e.next=4,this.requestSourceConfig();case 4:e.next=13;break;case 6:if(e.prev=6,e.t0=e.catch(1),!(3<=t)){e.next=11;break}return this.emit("Error",new cT({code:p_.REQUEST_SOURCE_ERROR,category:/timeout/i.test(String(e.t0))?C_.q.NETWORK_TIMEOUT:C_.q.NETWORK_MEDIA,details:e.t0,isFatal:!0})),e.abrupt("return");case 11:return t++,e.abrupt("return",this.run(t));case 13:case"end":return e.stop()}}),e,this,[[1,6]])}))),function(){return a.apply(this,arguments)})},{key:"requestSourceConfig",value:(i=Ri(Pi().mark((function e(){var t,r,n,o,i,a,u;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.getContentId(),!this.destroyed&&t){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,_i(t,this.params.queryParams);case 5:if(r=e.sent,n=r.sourceConfig,o=r.vhParams,i=r.skinConfig,a=r.playerConfig,!this.destroyed){e.next=12;break}return e.abrupt("return");case 12:u=a.autoplay,this.handleVhAnswer({vhParams:o,sourceConfig:n,skinConfig:i,autoplay:u});case 14:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"handleVhAnswer",value:function(e){var t,r,n,o,i=e.sourceConfig,a=e.skinConfig,u=e.vhParams,c=e.autoplay,s=function(e){if(void 0!==e)return e.error?tj[e.error]||tj.unexpected:void 0===e.content?tj.not_found:void 0}(u);if(s)return this.requestSetPoster(null===i||void 0===i?void 0:i.preview),this.emit("ShowAnnotation",s.message),void this.emit("Error",new cT({code:"VH_"+String(s.message),isFatal:!0,details:{reqId:null===(o=u.user_data)||void 0===o?void 0:o.req_id}}));this.releaseDate&&Date.now()/1e3<this.releaseDate?this.handleVhAnswerForReleaseDate({sourceConfig:i,releaseDate:this.releaseDate}):null!==(t=u.content)&&void 0!==t&&t.ugc_live?this.handleVhAnswerForUgc({sourceConfig:i,skinConfig:a,autoplay:c,vhParamsContent:u.content}):this.requestSetSource({sourceConfig:i,skinConfig:a,autoplay:c,externalPlayerConfig:null===(r=u.content)||void 0===r?void 0:r.yastation_cast_cfg,maxVideoSize:null===(n=u.content)||void 0===n?void 0:n.max_video_size})}},{key:"handleVhAnswerForUgc",value:function(e){var t=this,r=e.sourceConfig,n=e.skinConfig,o=e.vhParamsContent,i=e.autoplay,a=o.ugc_live_status,u=o.reload_on_ready;if(this.currentUgcLiveStatus!==a&&(this.currentUgcLiveStatus=a,this.emit("UgcLiveStatusChange",this.currentUgcLiveStatus)),"onair"===a||"finished"===a||"ready"===a&&u)this.requestSetSource({sourceConfig:r,skinConfig:n,autoplay:i,externalPlayerConfig:o.yastation_cast_cfg,maxVideoSize:o.max_video_size});else{var c;this.requestSetPoster(r.preview),"cancelled"===a?c="UGC_LIVE_CANCELLED":("offline"===a||"ready"===a&&!u)&&(c="UGC_LIVE_OFFLINE"),void 0!==c&&this.emit("ShowAnnotation",c),window.clearTimeout(this.requestSourceConfigTimeout);var s=Math.max(o.auto_reload_ms||6e4,5e3);this.requestSourceConfigTimeout=window.setTimeout((function(){return t.run()}),s)}}},{key:"handleVhAnswerForReleaseDate",value:function(e){var t=this,r=e.releaseDate,n=e.sourceConfig;this.requestSetPoster(n.preview),this.emit("ShowAnnotation","UGC_LIVE_OFFLINE"),window.clearTimeout(this.requestSourceConfigTimeout);var o=1e3*Math.max(r-Date.now()/1e3,0);this.requestSourceConfigTimeout=window.setTimeout((function(){return t.run()}),o)}},{key:"requestSetSource",value:function(e){this.setupUpdateRetriesCount(e.sourceConfig),this.emit("SetSource",e)}},{key:"requestSetPoster",value:function(e){this.currentPoster!==e&&(this.currentPoster=e,this.emit("SetPoster",e))}},{key:"getContentId",value:function(){var e,t;return this.params.contentId||(null===(e=this.params.vhParams)||void 0===e||null===(t=e.content)||void 0===t?void 0:t.content_id)}},{key:"setupUpdateRetriesCount",value:function(e){var t=e.update,r=this.params.playerApi;if(t&&r){var n=0,o=function(){var e=Ri(Pi().mark((function e(){var r;return Pi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(1<=n)){e.next=2;break}return e.abrupt("return",void 0);case 2:return n+=1,e.next=5,t();case 5:if(r=e.sent){e.next=8;break}return e.abrupt("return",void 0);case 8:return r.update=o,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e.update=o;var i=function(){n=0};r.on(PT.ContentImpression,i),this.once("Destroy",(function(){r.off(PT.ContentImpression,i)}))}}}])&&Li(r.prototype,n),o&&Li(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(PL.M),oj=[C_.q.NO_CODECS,C_.q.UNSUPPORTED_ENV,C_.q.CONFIG,C_.q.NETWORK_PLAYER,C_.q.BANNED,C_.q.REGIONAL],ij=Ui(Ui({},{onReady:!1,onResourcesIdle:!1,onInit:!1,onInitError:!1,onVolumeChange:!1,onFullScreenChange:!1,onVisualStateChange:!1,onStartStageChange:!1,onNextAdRemainingTimeChange:!1,onStreamsWithSupportInfoChange:!1,onLogEvent:!1,onPreloadSourceResolve:!1,onPreloadSourceReject:!1,onBandwidthEstimateChange:!1,onRequestFullscreenChange:!1,onPlaybackQualityUpdate:!1,onExpectedStalledChange:!1,onCapSizeChange:!1}),{onChangeStream:!0,onDrmSystemChange:!0,onStateChange:!0,onAdStateChange:!0,onAdLoaded:!0,onAdError:!0,onBeforeAdPodStart:!0,onAdPodStart:!0,onAdPodClick:!0,onAdPodSkip:!0,onAdPodEnd:!0,onAdSkippableStateChange:!0,onAdVolumeAvailabilityStateChange:!0,onAdPodCloseStateChange:!0,onAdPodDurationChange:!0,onAdPodCurrentTimeChange:!0,onAdPodTimeToSkipChange:!0,onAdInteraction:!0,onPositionChange:!0,onTimelineInfoChange:!0,onError:!0,onRecover:!0,onVideoTrackChange:!0,onVideoTracksChange:!0,onAudioTrackChange:!0,onAudioTracksChange:!0,onTextTrackChange:!0,onTextTracksChange:!0,onSubtitlesChange:!0,onThumbnailTileGeneralMetaInfoChange:!0,onVideoTypeChange:!0,onVideoSizeChange:!0,onOriginalBroadcastAdStateChange:!0,onContentImpression:!0,onBufferingRangesChange:!0,onPlaybackRateChange:!0,onEngineChange:!0,onInrollFrame:!0,onFrameRendered:!0,onTargetLatencyChange:!0}),aj=r(6005),uj=[{enabled:"fullscreenEnabled",element:"fullscreenElement",request:"requestFullscreen",exit:"exitFullscreen",events:{change:"fullscreenchange",error:"fullscreenerror"}},{enabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",request:"webkitRequestFullscreen",exit:"webkitExitFullscreen",events:{change:"webkitfullscreenchange",error:"webkitfullscreenerror"}},{enabled:"mozFullScreenEnabled",element:"mozFullScreenElement",request:"mozRequestFullScreen",exit:"mozCancelFullScreen",events:{change:"mozfullscreenchange",error:"mozfullscreenerror"}},{enabled:"msFullscreenEnabled",element:"msFullscreenElement",request:"msRequestFullscreen",exit:"msExitFullscreen",events:{change:"MSFullscreenChange",error:"MSFullscreenError"}},{enabled:"webkitSupportsFullscreen",element:"webkitDisplayingFullscreen",request:"webkitEnterFullscreen",exit:"webkitExitFullscreen",events:{change:"webkitfullscreenchange",error:"webkitfullscreenerror"}}],cj=["from_block","stream_block"];!function(e){e.PLAY="PLAY",e.PAUSE="PAUSE",e.PREVENT_ACTIONS="PREVENT_ACTIONS",e.CALL_NEXT="CALL_NEXT"}(CL||(CL={}));var sj=function(){return function(e){(0,e.next)({actionType:CL.PREVENT_ACTIONS})}},lj=function(e){var t=e.settings;return void 0===t?sj():function(e){var t=e.next,r=(0,e.getState)().visualState;return r.isFullScreen?t({actionType:r.isDocumentVisible?CL.PLAY:CL.PAUSE}):t({actionType:CL.CALL_NEXT})}},fj=function(e){var t=e.settings;return void 0===t?sj():function(e){var t=e.next,r=(0,e.getState)().visualState;return t({actionType:(r.isVisibilitySupported?r.isElementVisible:r.isDocumentVisible)?CL.PLAY:CL.PAUSE})}},dj=function(e){var t=e.settings;return void 0===t?sj():function(e){var r=e.next,n=e.getState;return t.onlyMuted&&!n().muted?r({actionType:CL.PREVENT_ACTIONS}):r({actionType:CL.CALL_NEXT})}},hj=function(e){var t=e.settings;return void 0===t?sj():function(e){var t=e.next;return(0,e.getState)().visualState.isPip?t({actionType:CL.PREVENT_ACTIONS}):t({actionType:CL.CALL_NEXT})}},pj=function e(t,r,n,o){return function(){try{return r.apply(n||this,arguments)}catch(i){if((0,OT.m)(o)&&o(i),!0===i.preventProtect)throw i;e.log(i,t)}}};pj.log=function(e,t){console.log("LOG:"+t+":"+e)},pj.setTimeout=function(e,t,r,n){return window.setTimeout(pj("timeout",e,r,n),t)};var vj=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(r,n){var o,i={portion:void 0!==t.portion?t.portion:0,interval:void 0!==t.interval?t.interval:300,overlappedPoints:void 0!==t.overlappedPoints?t.overlappedPoints:[[0,0]]},a=e({portion:Math.max(Number.MIN_VALUE,i.portion),interval:i.interval,overlappedPoints:i.overlappedPoints,element:r,callback:pj("visibilityObserver",(function(e){o!==e&&(o=e,n(e))}))});if(!a)throw new Error("visibilityObserver: no strategy");return a.start(),(0,v_.I)((function(){return a.stop()}))}},yj=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.args=t,Ji(this,"strategies",void 0),Ji(this,"runningCount",0),Ji(this,"callback",(function(e,t){var n=e+1;t?n===r.strategies.length?r.args.callback(t):n===r.runningCount&&r.startNext():(r.stopUntil(n),r.args.callback(t))})),this.strategies=gP(t.strategyFactories,(function(e,t){return e((function(e){return r.callback(t,e)}))}))}var t,r,n;return t=e,n=[{key:"from",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(t){var n,o=[],i=Qi(r);try{var a=function(){var e=n.value,r=function(){return null},i=e(Ki(Ki({},t),{},{callback:function(e){return r(e)}}));if(!i)return{v:null};o.push((function(e){return r=e,i}))};for(i.s();!(n=i.n()).done;){var u=a();if("object"===zi(u))return u.v}}catch(c){i.e(c)}finally{i.f()}return new e({callback:t.callback,strategyFactories:o})}}}],(r=[{key:"start",value:function(){!this.runningCount&&this.strategies.length&&this.startNext()}},{key:"stop",value:function(){this.stopUntil(0)}},{key:"isDetermined",get:function(){var e,t=Qi(this.strategies);try{for(t.s();!(e=t.n()).done;)if(!e.value.isDetermined)return!1}catch(r){t.e(r)}finally{t.f()}return!0}},{key:"getIsVisible",value:function(){for(var e=0;e<this.strategies.length;e++)if(!this.strategies[e].getIsVisible())return!1;return!0}},{key:"startNext",value:function(){this.strategies[this.runningCount++].start()}},{key:"stopUntil",value:function(e){for(;this.runningCount>e;)this.strategies[--this.runningCount].stop()}}])&&$i(t.prototype,r),n&&$i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),mj=r(50066),gj=r(85089),bj=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;na(this,e),this.windowObj=t,ia(this,"yaBroApiInstance",void 0),this.initYaBrowserApi()}var t,r,n;return t=e,(r=[{key:"canUseYaBroApi",value:function(){return Boolean(this.yaBroApiInstance&&this.yaBroApiInstance.isInCustoPage)}},{key:"isPageHiddenYaBroApi",value:function(){return!(this.yaBroApiInstance&&this.yaBroApiInstance.pageVisible)}},{key:"initYaBrowserApi",value:function(){var e=this;this.windowObj.browser&&this.windowObj.browser.BrowserEmbeddedApi&&this.windowObj.browser.BrowserEmbeddedApi.getInstance().then((function(t){e.yaBroApiInstance=t}))}}])&&oa(t.prototype,r),n&&oa(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),wj="hidden",Sj="visibilitychange";if(!(wj in document))for(var Ej=0,Oj=["webkit","moz","ms","o"];Ej<Oj.length;Ej++){var kj=Oj[Ej],_j="".concat(kj,"Hidden");if(_j in document){wj=_j,Sj="".concat(kj,"visibilitychange");break}}var Aj=new bj,Tj=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.args=t,ua(this,"isDetermined",!0),ua(this,"subscription",void 0),ua(this,"timer",void 0),ua(this,"onVisibilityChangeCallback",(function(){r.args.callback(r.getIsVisible())}))}var t,r,n;return t=e,n=[{key:"factory",value:function(t){return new e(t)}}],(r=[{key:"start",value:function(){var e=this;this.timer=window.setTimeout((function(){e.onVisibilityChangeCallback(),e.subscription=function(e,t,r,n,o){if(!e||!r)return null;var i,a=ta(pj("handler:"+t,r,n)),u={un:function(){(0,mj.f)(e,t,a)}};return o&&o.once&&!gj.vE&&(i=a,a=function(e){i.call(this,e),ra(u)}),gj.wI?(0,mj.h)(e,t,a,o):(0,mj.h)(e,t,a,o&&o.capture),u}(document,Sj,e.onVisibilityChangeCallback)}))}},{key:"stop",value:function(){window.clearTimeout(this.timer),ra(this.subscription)}},{key:"getIsVisible",value:function(){return!(Aj.canUseYaBroApi()?Aj.isPageHiddenYaBroApi():Boolean(document[wj]))}}])&&aa(t.prototype,r),n&&aa(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Pj=function(e){try{var t=e.getBoundingClientRect(),r=t.left,n=t.right,o=t.top,i=t.bottom;return{left:r,right:n,top:o,bottom:i,width:n-r,height:i-o}}catch(a){return{left:0,width:0,top:0,height:0,right:0,bottom:0}}},xj=Math.pow(2,-149),Rj=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.args=t,fa(this,"isDetermined",!0),fa(this,"observer",void 0),fa(this,"threshold",void 0),fa(this,"callback",(function(e){var t=e[e.length-1].intersectionRatio>=r.observer.thresholds[0];r.args.callback(t)})),this.threshold=Math.max(xj,this.args.portion),this.observer=new IntersectionObserver(this.callback,{threshold:this.threshold})}var t,r,n;return t=e,n=[{key:"factory",value:function(t){return"undefined"===typeof IntersectionObserver?null:"thresholds"in IntersectionObserver.prototype&&t.element?new e(t):null}}],(r=[{key:"start",value:function(){this.observer.observe(this.args.element)}},{key:"stop",value:function(){this.observer.disconnect()}},{key:"getIsVisible",value:function(){return e=this.args.element,t=this.threshold,sa(e)>=(t||Number.MIN_VALUE);var e,t}}])&&la(t.prototype,r),n&&la(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Lj=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,n=[{key:"from",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){var r,n=da(t);try{for(n.s();!(r=n.n()).done;){var o=(0,r.value)(e);if(o)return o}}catch(i){n.e(i)}finally{n.f()}return null}}}],(r=null)&&pa(t.prototype,r),n&&pa(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),jj=function(e){for(var t=[],r=[];e;)try{if(r.push((0,fL.b)(e)),t.push(e),e.parent===e)break;e=e.parent}catch(n){break}return{windowChain:t,locationChain:r}},Ij=function(e){function t(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=i.call(this,e)).args=e,ka(Ea(r),"isDetermined",void 0),ka(Ea(r),"windowChain",jj(window).windowChain.reverse());try{r.isDetermined=Boolean((window.top||window).location.hostname)}catch(n){r.isDetermined=!1}return r}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ba(e,t)}(t,e);var r,n,o,i=wa(t);return r=t,o=[{key:"factory",value:function(e){return e.element?new t(e):null}}],(n=[{key:"isVisible",value:function(){var e=this,t=Pj(this.args.element),r=t.width*t.height;if(r<=0)return!1;var n=function(e,t,r){var n=0;for(arguments.length<3&&(n=1,r=e[0]);n<e.length;n++)r=t(r,e[n],n,e);return r}(this.windowChain,(function(t,r){return e.getFrameVisiblePart(r,t)}),void 0),o=Math.max(t.left,n.left),i=Math.max(t.top,n.top);return(Math.min(t.right,n.right)-o)*(Math.min(t.bottom,n.bottom)-i)>=Math.floor(r*this.args.portion)}},{key:"getFrameVisiblePart",value:function(e,t){if(!t||!e.frameElement)return{left:0,right:e.innerWidth,top:0,bottom:e.innerHeight};var r=Pj(e.frameElement);return{left:Math.max(t.left-r.left,0),right:e.innerWidth-Math.max(r.right-t.right,0),top:Math.max(t.top-r.top,0),bottom:e.innerHeight-Math.max(r.bottom-t.bottom,0)}}}])&&ga(r.prototype,n),o&&ga(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.args=t,ya(this,"isDetermined",!0),ya(this,"timer",void 0)}var t,r,n;return t=e,(r=[{key:"start",value:function(){var e=this;this.timer=window.setInterval(pj("visibilityObserver",(function(){e.args.callback(e.isVisible())})),this.args.interval)}},{key:"stop",value:function(){window.clearInterval(this.timer)}},{key:"getIsVisible",value:function(){return this.isVisible()}}])&&va(t.prototype,r),n&&va(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()),Cj=null;try{"undefined"!==typeof IntersectionObserver&&(Cj=yj.from(Lj.from(Rj.factory,Ij.factory),Tj.factory))}catch(hG){}var Dj=function(e){function t(e,r){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ca(ja(n=i.call(this)),"visibilityThreshold",-1),Ca(ja(n),"state",{isPip:!1,isFullScreen:!1,isDocumentVisible:x(document),isElementVisible:!0,isVisibilitySupported:null!==Cj}),Ca(ja(n),"element",void 0),Ca(ja(n),"observe",(function(e){return n.on("Change",e),function(){return n.off("Change",e)}})),Ca(ja(n),"notifyDocumentVisibility",(function(e){n.state.isDocumentVisible!==e&&(n.state=Ta(Ta({},n.state),{},{isDocumentVisible:e}),n.handleChange())})),Ca(ja(n),"notifyElementVisibility",(function(e){n.state.isElementVisible!==e&&(n.state=Ta(Ta({},n.state),{},{isElementVisible:e}),n.handleChange())})),n.element=e,n.state.isDocumentVisible=x(e.ownerDocument),r&&(n.visibilityThreshold=Math.min(r.threshold,.99)),n.observeVisibility(),n}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xa(e,t)}(t,e);var r,n,o,i=Ra(t);return r=t,(n=[{key:"notifyFullScreen",value:function(e){this.state.isFullScreen!==e&&(this.state=Ta(Ta({},this.state),{},{isFullScreen:e}),this.handleChange())}},{key:"notifyPip",value:function(e){this.state.isPip!==e&&(this.state=Ta(Ta({},this.state),{},{isPip:e}),this.handleChange())}},{key:"destroy",value:function(){this.emit("Destroy"),this.off("Change")}},{key:"getState",value:function(){return this.state}},{key:"observeVisibility",value:function(){var e=this;if(this.state.isVisibilitySupported)try{var t=vj(Cj,{portion:this.visibilityThreshold})(this.element,this.notifyElementVisibility);this.once("Destroy",t),this.once("Restart",t),this.once("Restart",(function(){return e.off("Destroy",t)}))}catch(n){this.state.isVisibilitySupported=!1,this.state.isElementVisible=!0}try{var r=vj(yj.from(Tj.factory))(this.element,this.notifyDocumentVisibility);this.once("Destroy",r),this.once("Restart",r),this.once("Restart",(function(){return e.off("Destroy",r)}))}catch(n){}}},{key:"restart",value:function(){this.emit("Restart"),this.observeVisibility()}},{key:"handleChange",value:function(){this.emit("Change",this.state)}}])&&Pa(r.prototype,n),o&&Pa(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(IR.v),Nj=function(){function e(t){var r=this,n=t.element,o=t.togglePlaybackVisibilitySetting,i=t.playerStateAdaptor,a=t.playPauseController;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ma(this,"visibilityObserver",void 0),Ma(this,"playerStateAdaptor",void 0),Ma(this,"playPauseController",void 0),Ma(this,"middlewareInitParams",void 0),Ma(this,"middlewareList",void 0),Ma(this,"destroyCallbacks",void 0),Ma(this,"lastChainId",0),Ma(this,"done",(function(e){switch(e.actionType){case CL.PLAY:return r.playPauseController.play();case CL.PAUSE:return r.playPauseController.pause();case CL.PREVENT_ACTIONS:case CL.CALL_NEXT:return}})),this.destroyCallbacks=[],this.visibilityObserver=new Dj(n,o),this.playPauseController=a;var u=this.visibilityObserver.observe((function(){r.emitChange()})),c=i.onChange((function(){r.emitChange()}));this.playerStateAdaptor=i,this.destroyCallbacks.push(u,c,(function(){return r.visibilityObserver.destroy()})),this.middlewareInitParams={settings:o},this.middlewareList=o?[fj(this.middlewareInitParams),lj(this.middlewareInitParams),hj(this.middlewareInitParams),dj(this.middlewareInitParams)]:[]}var t,r,n;return t=e,(r=[{key:"appendMiddleware",value:function(e){this.middlewareList.unshift(e(this.middlewareInitParams))}},{key:"prependMiddleware",value:function(e){this.middlewareList.push(e(this.middlewareInitParams))}},{key:"observeVisualState",value:function(e){return this.visibilityObserver.observe(e)}},{key:"restartVisibilityObserver",value:function(){return this.visibilityObserver.restart()}},{key:"getVisualState",value:function(){return this.visibilityObserver.getState()}},{key:"notifyFullScreen",value:function(e){this.visibilityObserver.notifyFullScreen(e)}},{key:"notifyPip",value:function(e){this.visibilityObserver.notifyPip(e)}},{key:"destroy",value:function(){this.destroyCallbacks.forEach((function(e){return e()}))}},{key:"emitChange",value:function(){var e=this,t=++this.lastChainId,r=Na(Na({},this.playerStateAdaptor.getState()),{},{visualState:this.visibilityObserver.getState()}),n=function(){return r};this.middlewareList.reduce((function(r,o){return function(){o({getState:n,next:(0,v_.I)((function(n){if(t===e.lastChainId)return n.actionType===CL.CALL_NEXT?r():e.done(n)}))})}}),gT.Z)()}}])&&Fa(t.prototype,r),n&&Fa(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Fj=function(){function e(t){var r=this,n=t.play,o=t.pause,i=t.togglePlaybackVisibilitySetting,a=t.autoplay,u=t.playerStateAdaptor,c=t.logEvent;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ya(this,"play",void 0),Ya(this,"pause",void 0),Ya(this,"destroy",void 0),Ya(this,"paused",!1),Ya(this,"wasEverPlaying",!1),Ya(this,"pausedViaController",!1),Ya(this,"expectedAutoplay",!1),this.expectedAutoplay=a,this.paused=!Va(u.getState()),this.play=function(){(function(e){var t=e.playingState,r=e.togglePlaybackVisibilitySetting,n=e.autoplay,o=e.wasEverPlaying;return!!r&&(o?!Va({playingState:t}):(r.forceAutoplay||n)&&!Ba({playingState:t}))})(Ga(Ga({},u.getState()),{},{togglePlaybackVisibilitySetting:i,autoplay:r.expectedAutoplay,wasEverPlaying:r.wasEverPlaying}))&&(!r.pausedViaController&&r.wasEverPlaying||(r.pausedViaController=!1,n(),c("PlayVideoOnVisibilityChange")))},this.pause=function(){r.paused||(r.pausedViaController=!0,r.paused=!0,o(),c("PauseVideoOnVisibilityChange"))},this.destroy=u.onChange((function(){var e=u.getState(),t=Va(e);r.wasEverPlaying=Ba(e)&&(e.hasWatchedTime||e.adState.state===jP.PLAYING)||r.wasEverPlaying,r.paused=!t,t&&(r.pausedViaController=!1)}))}var t,r,n;return t=e,(r=[{key:"actualizeAutoplay",value:function(e){this.expectedAutoplay=e}}])&&Ha(t.prototype,r),n&&Ha(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Mj=function(){function e(t){var r=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Wa(this,"playerApi",void 0),Wa(this,"handlers",void 0),Wa(this,"previousWatchedTime",0),Wa(this,"emitChange",(function(){r.handlers.forEach((function(e){return e()}))})),Wa(this,"emitWatchedTimeChange",(function(e){var t=e.watchedTime;(r.previousWatchedTime>0&&0===t||0===r.previousWatchedTime&&t>0)&&r.emitChange(),r.previousWatchedTime=t})),this.playerApi=t,!t.getState())throw new Error("PlayerStateAdaptorV2 should use only inited PlayerApi");this.handlers=[],this.playerApi.on(PT.WatchedTimeChange,this.emitWatchedTimeChange),this.playerApi.on(PT.PlayingStateChange,this.emitChange),this.playerApi.on(PT.MutedChange,this.emitChange),this.playerApi.on(PT.AdStateChange,this.emitChange)}var t,r,n;return t=e,(r=[{key:"getState",value:function(){var e=this.playerApi.getState();return{hasWatchedTime:e.watchedTime>0,muted:e.muted,playingState:e.playingState,playingStateReason:e.playingStateReason,adState:e.adState}}},{key:"onChange",value:function(e){var t=this;return this.handlers.push(e),function(){t.handlers=t.handlers.filter((function(t){return t!==e}))}}},{key:"destroy",value:function(){this.playerApi.off(PT.WatchedTimeChange,this.emitWatchedTimeChange),this.playerApi.off(PT.PlayingStateChange,this.emitChange),this.playerApi.off(PT.MutedChange,this.emitChange),this.playerApi.off(PT.AdStateChange,this.emitChange),this.handlers=[]}}])&&qa(t.prototype,r),n&&qa(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Vj=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Qa(this,"handlers",Object.create(null)),Qa(this,"filters",Object.create(null)),Qa(this,"batchFn",(function(e){return e()})),(0,N_.K)(t)&&(0,OT.m)(t.eventListenersBatch)&&(this.batchFn=t.eventListenersBatch)}var t,r,n;return t=e,(r=[{key:"on",value:function(e,t){var r=this;Ka((function(e,t){return r.getHandlers(e).push({once:!1,fn:t})}),e,t)}},{key:"once",value:function(e,t){var r=this;Ka((function(e,t){return r.getHandlers(e).push({once:!0,fn:t})}),e,t)}},{key:"off",value:function(e,t){var r=this.getHandlers(e),n=r.findIndex((function(e){return e.fn===t}));-1!==n&&r.splice(n,1)}},{key:"setFilter",value:function(e,t){this.filters[e]=t}},{key:"unsetFilter",value:function(e){delete this.filters[e]}},{key:"getAllHandlers",value:function(){return this.handlers}},{key:"emit",value:function(e,t){var r=this,n=this.filters[e];n&&!n(t)||this.batchFn((function(){r.getHandlers(e).slice().forEach((function(n){try{n.once&&r.off(e,n.fn),n.fn(t)}catch(o){setTimeout((function(){throw o}),0)}}))}))}},{key:"destroy",value:function(){var e=this;(0,ux.Z)(this.handlers).forEach((function(t){e.handlers[t]=void 0}))}},{key:"getHandlers",value:function(e){return void 0===this.handlers[e]&&(this.handlers[e]=[]),this.handlers[e]}}])&&za(t.prototype,r),n&&za(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Bj=navigator&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,Uj=function(e,t){for(var r=0;r<e.length;r++)if(t(e[r],r,e))return!0;return!1},Gj=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=e.navigator.userAgent,r=t.indexOf("Android");return-1===r?-1:parseFloat(t.slice(r+8))}(),Hj=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=e.navigator||{},r=t.vendor,n=void 0===r?"":r;return 0===n.indexOf("Google")},Yj=r(20724),qj=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=e.navigator||{},r=t.platform,n=void 0===r?"":r;return Hj(e)&&!_r(e)&&0===n.indexOf("Linux ")&&(0,Yj.b)(e)}(),Wj=[["XiaoMi/MiuiBrowser",11],["UCBrowser",12],["HuaweiBrowser",9]],Kj=(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=nu(e),r=t.major,n=t.minor,o=ou(e),i=_r(e);if(-1===r||-1===n)return!1;var a=r<537||537===r&&n<40,u=-1===o||o<37}(window),r(20809)),zj=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return-1!==(0,Kj.N)(e)}(),Qj=DT.Z,Zj=DT.Z,$j=DT.Z,Jj=r(83361),Xj=r(83361),eI=function(e){var t=e.win,r=e.propertyName;return{call:function(e){return Qj(su({win:t,propertyName:r},e))},subscribe:function(e){return $j(su({win:t,propertyName:r},e))},wait:function(e){return function(e){var t=e.propertyName,r=e.win;return new Jj((function(e){$j({callback:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e(r)},propertyName:t,win:r})}))}(su({win:t,propertyName:r},e))},waitUntil:function(e){return function(e){var t=e.propertyName,r=e.win,n=e.comparator;return new Xj((function(e){$j({propertyName:t,win:r,callback:function(){n.apply(void 0,arguments)&&e()}})}))}(su({win:t,propertyName:r},e))},clear:function(e){return Zj(su({win:t,propertyName:r},e))}}},tI=(eI({propertyName:"YANDEX_DESTROYABLE_GLOBAL_CALLBACK_PROPERTY_NAME",win:window}),function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),pu(this,"_isDestroyed",!1),pu(this,"destroyHandlers",[]),pu(this,"_destroyReason",void 0)}var t,r,n;return t=e,n=[{key:"addErrorHandler",value:function(t){e.errorHandlers.push(t)}}],(r=[{key:"destroyReason",get:function(){return this._destroyReason}},{key:"isDestroyed",get:function(){return this._isDestroyed}},{key:"addDestroyHandler",value:function(e){this._isDestroyed?e.apply(void 0,fu([this._destroyReason])):this.destroyHandlers.push(e)}},{key:"destroy",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var o=r[0];if(!this._isDestroyed){this._isDestroyed=!0,this._destroyReason=o;try{Xe.apply(void 0,[this.destroyHandlers].concat(r))}catch(i){Xe(e.errorHandlers,i)}this.destroyHandlers.length=0}}}])&&hu(t.prototype,r),n&&hu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}());pu(tI,"errorHandlers",[]);var rI,nI,oI=r(83361),iI={position:"absolute",width:"100%",height:"100%",top:"0",left:"0"},aI=_u(_u({},iI),{},{overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",pointerEvents:"none"}),uI=_u(_u({},iI),{},{backgroundSize:"cover",backgroundPosition:"center center",backgroundRepeat:"no-repeat"}),cI=function(e){function t(e){var r,n=e.container,o=e.onReady,i=void 0===o?gT.Z:o,a=e.src,c=e.firstFrameHash,s=e.firstFrameUrl,l=e.style;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Au(Eu(r=u.call(this)),"container",void 0),Au(Eu(r),"background",void 0),Au(Eu(r),"src",void 0),Au(Eu(r),"style",void 0),Au(Eu(r),"onReady",void 0),r.src=a,r.style=l,r.onReady=(0,v_.I)(i),r.container=document.createElement("div"),r.src?r.setPoster(r.src,c,s):qe(r.container,{opacity:"0"}),r.addDestroyHandler((function(){et(r.container),r.onReady=gT.Z})),n.appendChild(r.container),r}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bu(e,t)}(t,e);var r,n,o,i,a,u=wu(t);return r=t,(n=[{key:"setPoster",value:function(e,t,r){if(!this.isDestroyed)if(e||t&&r){this.src=t&&r?r:e,qe(this.container,_u(_u({},aI),{},{opacity:"1"}));var n={backgroundImage:"url(".concat(t||this.src,")"),transition:t&&r?"background-image 1s":""};this.initBackground(n,Boolean(t&&r))}else this.onReady()}},{key:"setStyle",value:function(e){this.isDestroyed||(this.style=e,this.background&&e&&qe(this.background,_u({},e.objectFit?{backgroundSize:e.objectFit}:{})))}},{key:"initBackground",value:(i=yu().mark((function e(t,r){var n,o,i,a=this;return yu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(n=this.background)||void 0===n||n.remove(),qe(o=this.background=document.createElement("div"),uI),this.setStyle(this.style),i=Ar(this.src),!zj){e.next=8;break}return e.next=8,i;case 8:qe(o,t),this.container.appendChild(o),i.then((function(){r&&qe(a.background,{backgroundImage:'url("'.concat(a.src,'")')}),a.onReady()})).catch(gT.Z);case 11:case"end":return e.stop()}}),e,this)})),a=function(){var e=this,t=arguments;return new oI((function(r,n){function o(e){mu(u,r,n,o,a,"next",e)}function a(e){mu(u,r,n,o,a,"throw",e)}var u=i.apply(e,t);o(void 0)}))},function(e,t){return a.apply(this,arguments)})}])&&gu(r.prototype,n),o&&gu(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(tI),sI=r(92627),lI=function(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:fI,o=r;o<e.length;o++)if(n(e[o],t))return o;return-1},fI=function(e,t){return e===t},dI=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,o=xu(t),i=o.resolver,a=o.preparers,u=null,c=null;return function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(u&&u.every((function(e,r){return t[r]===e})))return n;var o=a.map((function(e){return e.apply(void 0,t)}));if(c&&c.every((function(e,t){return o[t]===e})))return u=t,n;var s=i.apply(void 0,Tu(o));return u=t,c=o,n=s,s}},hI="http://www.w3.org/2000/svg",pI="classList"in document.documentElement,vI=dI((function(e){return e.classList&&e.classList.add}),hP.t),yI=dI((function(e){return e.classList&&e.classList.remove}),hP.t),mI=(rI=document.createElement("p"),!!pI&&(rI.classList.add("c1","c2"),!!rI.classList.contains("c2")&&(rI.classList.toggle("c3",!1),!rI.classList.contains("c3")))),gI=function(e){return e.split(" ").filter((function(e){return Boolean(e)}))},bI=mI?function(e,t){var r,n=gI(t);(r=e.classList).add.apply(r,Ru(n))}:function(e,t){for(var r=gI(t),n=0;n<r.length;n++)e.classList.add(r[n])},wI=mI?function(e,t){var r,n=gI(t);(r=e.classList).remove.apply(r,Ru(n))}:function(e,t){for(var r=gI(t),n=0;n<r.length;n++)e.classList.remove(r[n])},SI=r(60856),EI=r.n(SI),OI=r(60310),kI=r(17792),_I=(0,v_.I)((function(){return Fu(EI().toString())})),AI={display:"flex",position:"absolute",top:"0",left:"0",bottom:"0",right:"0",padding:"20px",color:"#fff",fontSize:"24px",textAlign:"center",justifyContent:"center",alignItems:"center"},TI=r(69071),PI=[PT.SourceChange,PT.DrmSystemChange,PT.StreamChange,PT.StartStageChange,PT.PlayingStateChange,PT.VideoTypeChange,PT.UtcStartTimeChange,PT.CurrentTimeChange,PT.WatchedTimeChange,PT.LiveLatencyChange,PT.DurationChange,PT.DVRStartTimeChange,PT.DVRDurationChange,PT.VolumeChange,PT.MutedChange,PT.VolumeChangeReasonChange,PT.FullscreenStateChange,PT.PictureInPictureStateChange,PT.VisibleStateChange,PT.VideoSizeChange,PT.VideoTracksChange,PT.VideoTrackChange,PT.AudioTracksChange,PT.AudioTrackChange,PT.TextTracksChange,PT.TextTrackChange,PT.SubtitlesChange,PT.ErrorChange,PT.PlaybackRateRangeChange,PT.PlaybackRateChange,PT.AdStateChange,PT.NextAdRemainingTimeChange,PT.BufferedRangesChange,PT.TileMetaInfoChange,PT.TileMetaInfoUrlChange,PT.ConnectionQualityChange,PT.AdPodDurationChange,PT.AdPodCurrentTimeChange,PT.AdPodTimeToSkipChange,PT.AdSkippableStateChange,PT.AdPodCloseStateChange,PT.AdVolumeAvailabilityStateChange,PT.UgcLiveStatusChange],xI=function(){function e(t,r){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Yu(this,"state",void 0),this.state=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gu(Object(r),!0).forEach((function(t){Yu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t);var o=function(e){Uu(n.state,e)};PI.forEach((function(e){r(e,o)}))}var t,r,n;return t=e,(r=[{key:"getState",value:function(){return this.state}}])&&Hu(t.prototype,r),n&&Hu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),RI=["object"===("undefined"===typeof document?"undefined":qu(document))&&document&&"onfreeze"in document?"pagehide":"beforeunload"],LI=function(e){for(var t=[];e;)try{if(Ku(e),t.push(e),e.parent===e)break;e=e.parent}catch(r){break}return t},jI="__ADB_CONFIG__",II=function(e,t,r){for(var n=0;n<e.length;n++)t.call(r,e[n],n,e)},CI=Zu(jI)&&Zu(jI.fn)?jI.fn:void 0,DI=["encodeUrl","decodeUrl","encodeCSS","isEncodedUrl"],NI=function(e){if(CI)return CI;for(var t={},r=LI(e),n=function(){var e=r.pop();if(!e)return"continue";II(DI,(function(r){if(!zu(t[r])){var n=function(e,t){var r,n=$u(t.split("."));try{for(n.s();!(r=n.n()).done;){var o=r.value;if(!Zu(e)){e=void 0;break}e=e[o]}}catch(i){n.e(i)}finally{n.f()}return e}(e,"ya.videoAd.".concat(r));zu(n)&&(t[r]=n)}}))};r.length;)n();return t},FI=function(e){return NI(e).encodeUrl},MI=(eI({propertyName:"YANDEX_STATS_GLOBAL_CALLBACK_PROPERTY_NAME",win:window}),"https://log.strm.yandex.ru"),VI=ec(),BI=Math.floor(5),UI=Math.floor(20),GI=r(69864),HI=void 0===(nI=oc())||nI.includes("encrypted-media"),YI=r(56559),qI=r(83361),WI=(0,YI.I)(),KI=function(){return WI.navigator.wakeLock},zI=function(){function e(t){var r=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.params=t,pc(this,"visibilityObserver",void 0),pc(this,"lockPromise",void 0),pc(this,"lockerObj",void 0),pc(this,"destroyed",!1),pc(this,"handler",dc(lc().mark((function e(){return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.destroyed){e.next=2;break}return e.abrupt("return");case 2:if(!r.lockPromise){e.next=5;break}return r.lockPromise=r.lockPromise.then(r.handler),e.abrupt("return");case 5:if(!r.shouldLock()){e.next=10;break}if(!r.lockerObj){e.next=8;break}return e.abrupt("return");case 8:return r.lockPromise=KI().request("screen").then((function(e){r.lockPromise=void 0,r.lockerObj=e})).catch((function(e){r.destroy(),r.params.onError(e)})),e.abrupt("return");case 10:r.lockerObj&&(r.lockPromise=r.lockerObj.release().then((function(){r.lockPromise=void 0})),r.lockerObj=void 0);case 11:case"end":return e.stop()}}),e)})))),KI()){var n=t.playerContainer,o=t.playerApi;o.on(PT.PlayingStateChange,this.handler),o.on(PT.MutedChange,this.handler),this.visibilityObserver=new Dj(n,{threshold:.75}),this.visibilityObserver.observe(this.handler)}else this.destroyed=!0}var t,r,n;return t=e,(r=[{key:"restartVisibilityObserver",value:function(){var e;this.destroyed||null===(e=this.visibilityObserver)||void 0===e||e.restart()}},{key:"destroy",value:function(){var e;this.destroyed=!0,this.params.playerApi.off(PT.PlayingStateChange,this.handler),this.params.playerApi.off(PT.MutedChange,this.handler),null===(e=this.visibilityObserver)||void 0===e||e.destroy()}},{key:"shouldLock",value:function(){var e=this.params.playerApi.getState();if(!e)return!1;var t=e.playingState,r=e.muted;return t!==YA.PAUSE&&t!==YA.END&&!!this.visibilityObserver&&(this.visibilityObserver.getState().isElementVisible||!r)}}])&&hc(t.prototype,r),n&&hc(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),QI=document.createElement("video"),ZI="function"===typeof QI.load;r(31267),r(9906),r(60936),r(66202),r(5585),r(32274),r(99186),r(15515),r(98316),function(){function e(){return(0,mP.v)(t.apply(this))}if(ZI){var t=HTMLMediaElement.prototype.play;e.__yaMuffleVideoPlayPromiseOriginalPlay=t,HTMLMediaElement.prototype.play=e}}(),"toJSON"in Error.prototype||Object.defineProperty(Error.prototype,"toJSON",{value:function(){var e=this,t={};return(0,j_.Y)((function(){Object.getOwnPropertyNames(e).forEach((function(e){t[e]=this[e]}),e)})),t},configurable:!0,writable:!0});var $I,JI,XI="https://strm.yandex.net/int/enc/srvr.xml",eC=-1===XI.indexOf("int/enc/srvr.xml"),tC="3036",rC="2923",nC=["additional"],oC=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return(0,DP.i)(e).indexOf("SamsungBrowser")>-1}(),iC=r(83361),aC=0,uC=[],cC=function(e){function t(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ic(Lc(r=i.call(this)),"onResize",void 0),Ic(Lc(r),"resizeObserverCallback",(function(e){var t=_c(e,1)[0].contentRect,n=t.width,o=t.height;r.onResize.dispatch({width:n,height:o})}));var n=Pj(e);if(r.onResize=new kP({width:n.width,height:n.height},(function(e,t){var r=t.width,n=t.height;return!!(isNaN(r)||isNaN(n)||r<1||n<1)||e.width===r&&e.height===n})),r.addDestroyHandler((function(){r.onResize.removeAll()})),"undefined"!==typeof ResizeObserver)try{var o=new ResizeObserver(r.resizeObserverCallback);o.observe(e),r.addDestroyHandler((function(){o.disconnect()}))}catch(a){r.fallbackToCustomDetectionMethods(e)}else r.fallbackToCustomDetectionMethods(e);return r}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pc(e,t)}(t,e);var r,n,o,i=xc(t);return r=t,(n=[{key:"getSize",value:function(){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kc(Object(r),!0).forEach((function(t){Ic(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},this.onResize.getValue())}},{key:"fallbackToCustomDetectionMethods",value:function(e){var t=this,r=e.ownerDocument;if(r){var n=r.defaultView;if(n){var o=function(){var r=Pj(e);t.onResize.dispatch({width:r.width,height:r.height})};this.addDestroyHandler((0,aj.O)(n,"resize",o,{passive:!0})),this.addDestroyHandler(Ec(o))}}}}])&&Tc(r.prototype,n),o&&Tc(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(tI),sC=r(83361),lC=function(e){var t=0;return{promise:new sC((function(r){t=window.setTimeout(r,e)})),clear:function(){clearTimeout(t)},timeoutId:t}},fC=bP?"":"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";!function(e){e.preroll="preroll",e.midroll="midroll",e.postPauseroll="postPauseroll",e.postroll="postroll",e.inroll="inroll"}($I||($I={})),function(e){e.AdCompleted="AdCompleted",e.LoadSource="LoadSource",e.PlayerDestroy="PlayerDestroy",e.CutOff="CutOff",e.PlayerError="PlayerError",e.AdTypeChange="AdTypeChange",e.InsertIntoCalled="InsertIntoCalled",e.AdSkipped="AdSkipped"}(JI||(JI={}));var dC=[],hC=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,n=[{key:"enableConsole",value:function(){e.consoleEnabled=!0,e.log("YA PLAYER VERSION: 1.0-12463")}},{key:"log",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];e.consoleEnabled&&console.log(Uc.apply(void 0,r)),e.addToHistory("log",r)}},{key:"warn",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];e.consoleEnabled&&console.warn(Uc.apply(void 0,r)),e.addToHistory("warn",r)}},{key:"error",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];e.consoleEnabled&&console.error(Uc.apply(void 0,r)),e.addToHistory("error",r)}},{key:"getHistory",value:function(){return[].concat(dC)}},{key:"addToHistory",value:function(e,t){dC.length>=150&&dC.shift(),dC.push("[".concat(e,"][").concat(Date.now(),"] ").concat(t.map((function(e){try{return(0,wL.Y)(e)}catch(t){return(0,N_.K)(t)?JSON.stringify(["stringify_error",t.stack]):JSON.stringify(["stringify_error","not_an_object_error"])}})).join()))}}],(r=null)&&Bc(t.prototype,r),n&&Bc(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(hC,"consoleEnabled",void 0);var pC,vC=r(83361),yC={play:YA.PLAY,pause:YA.PAUSE,end:YA.END,idle:YA.PAUSE},mC=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=i.call(this)).params=e,os(rs(r),"destroyPromise",new vC((function(e){r.addDestroyHandler((function(){e()}))}))),os(rs(r),"currentAdPlaybackController",void 0),os(rs(r),"playbackQueue",[]),os(rs(r),"logAdStart",(0,v_.I)((function(){var e=r.getAdTypeForLogs(),t=r.playbackQueue.length,n=r.params.logEvent;n({event:LP.AdStart,params:{adPodsCount:t,adType:e}}),e===$I.inroll&&n({event:LP.InrollAdStart,params:{adPodsCount:t}})}))),os(rs(r),"logAdEnd",(0,v_.I)((function(){var e=r.getAdTypeForLogs(),t=r.playbackQueue.length,n=r.params.logEvent;e===$I.inroll&&n({event:LP.InrollAdEnd,params:{adPodsCount:t}}),n({event:LP.AdEnd,params:{stopAdReason:r.destroyReason||JI.AdCompleted,adPodsCount:t,adType:e}})}))),os(rs(r),"adPodIndex",0),os(rs(r),"startPlayingAd",(0,v_.I)($c(Qc().mark((function e(){var t;return Qc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.logAdStart();case 1:if(!(r.adPodIndex<r.playbackQueue.length)){e.next=9;break}if(!r.isDestroyed){e.next=4;break}return e.abrupt("break",9);case 4:return e.next=6,r.playAdPod(r.playbackQueue[r.adPodIndex]);case 6:r.adPodIndex++,e.next=1;break;case 9:r.logAdEnd(),t=r.playbackQueue[r.playbackQueue.length-1],r.isDestroyed||void 0===t||(0,j_.Y)((function(){r.params.onLastAdPodStopped({adType:t.adViewer.getAdBreakType()})})),r.destroy(JI.AdCompleted);case 13:case"end":return e.stop()}}),e)}))))),os(rs(r),"dispatchOnFirstAdPodStarted",(0,v_.I)((function(){r.params.onFirstAdPodStarted()}))),os(rs(r),"updateAdPodCloseState",(function(e){r.params.onAdPodCloseStateChange(e.getAdPodCloseState())})),os(rs(r),"updateAdVolumeAvailabilityStateChange",(function(e){r.params.onAdVolumeAvailabilityStateChange(e.getAdVolumeAvailabilityState())})),os(rs(r),"updateAdPodTimeToSkip",(function(e){var t=e.getAdPodTimeToSkip();r.params.onAdPodTimeToSkipChange((0,TT.z)(t)?Math.ceil(t):void 0)})),os(rs(r),"playAdPod",function(){var e=$c(Qc().mark((function e(t){var n,o,i,a,u,c,s,l,f,d,h;return Qc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.adType,o=t.adViewer,i=t.additionalData,a=t.adDisplayConfig,u=t.posterUrl,c=t.adElement,0!==o.getAdPodsCount()){e.next=4;break}return hC.log("AdViewer is empty"),e.abrupt("return");case 4:return(s=r.params.logEvent)({event:LP.AdPodLoading,params:{adPodsCount:r.playbackQueue.length,adType:r.playbackQueue[r.adPodIndex].adPodType,additionalData:i}}),n===$I.inroll&&(l=i.cueId,s({event:LP.InrollAdPodStart,params:{adPodsCount:r.playbackQueue.length,cueId:l}}),o.setStatsRootFields({cueid:l})),f=zc({videoSlotCanAutoPlay:!0,controlsSettings:r.params.getControlsSettings(),visibilitySlot:r.params.playerContainer,lang:r.params.lang,contentAfterAd:r.getContentAfterAd(n,u),adSequence:{index:r.adPodIndex,count:r.playbackQueue.length},requestFullscreenStateChange:r.params.onRequestFullscreenStateChange},a),d=o.createPlaybackController(r.params.video,c,f),r.currentAdPlaybackController=d,r.updateAdPodDuration(d),r.params.onAdPodCurrentTimeChange(0),r.params.onAdSkippableStateChange(d.getAdSkippableState()),r.updateAdPodCloseState(d),r.updateAdVolumeAvailabilityStateChange(d),d.subscribe("AdPlayingStateChange",(function(){r.updateAdPodPlayingStateChange()})),d.subscribe("AdMediaStateChange",(function(){r.updateAdPodPlayingStateChange()})),d.subscribe("AdRemainingTimeChange",(function(){var e=d.getAdPodRemainingTime(),t=r.updateAdPodDuration(d);r.params.onAdPodCurrentTimeChange(t-e),r.updateAdPodTimeToSkip(d),r.updateAdPodPlayingStateChange()})),d.subscribe("AdPodError",(function(e){var t=zc(zc({},e),{},{adPodsCount:r.playbackQueue.length,adType:r.playbackQueue[r.adPodIndex].adPodType,additionalData:i});s({event:"AdPodError",params:t}),r.params.onAdPodError(t)})),d.subscribe("AdInteraction",(function(){r.params.onAdInteraction()})),d.subscribe("AdSkippableStateChange",(function(e){r.updateAdPodTimeToSkip(d),r.params.onAdSkippableStateChange(e.skippableState)})),d.subscribe("AdStartRejected",(function(e){r.params.onAdStartRejected(new Error("AdStartRejected"))})),d.subscribe("AdPodDurationChange",(function(){r.updateAdPodDuration(d)})),d.subscribe("AdPodStartRequest",(function(){r.params.onBeforeAdPodStart({adPlaybackController:d})})),d.subscribe("AdPodStarted",(function(){s({event:LP.AdPodStart,params:{adPodsCount:r.playbackQueue.length,adType:r.playbackQueue[r.adPodIndex].adPodType,additionalData:i}}),r.dispatchOnFirstAdPodStarted(),r.params.onAdPodStarted(),r.updateAdPodPlayingStateChange(),r.updateAdPodDuration(d)})),h=function(){r.params.onAdPodDurationChange(void 0),r.params.onAdPodCurrentTimeChange(void 0),r.params.onAdSkippableStateChange(!1),r.params.onAdPodTimeToSkipChange(void 0),r.params.onAdPodCloseStateChange(void 0)},d.subscribe("AdPodStopped",(function(){h(),r.params.onAdPodStopped()})),d.subscribe("AdPodSkipped",(function(){h(),r.params.onAdPodSkipped()})),d.subscribe("AdContentSizeChange",(function(){var e=d.getAdContentSize();if(void 0!==e){var t=e.width,n=e.height;r.params.onAdSizeChange({width:(0,TT.z)(t)?t:NaN,height:(0,TT.z)(n)?n:NaN})}})),d.subscribe("AdPodImpression",(function(){s({event:LP.AdPodImpression,params:{adPodsCount:r.playbackQueue.length,adType:r.playbackQueue[r.adPodIndex].adPodType,additionalData:i}})})),d.subscribe("AdClickThru",(function(){r.params.onAdClickThru(),s({event:"AdClickThru",params:{adPodsCount:r.playbackQueue.length,adType:r.playbackQueue[r.adPodIndex].adPodType,additionalData:i}})})),r.shouldSkipAllAdPods()&&d.subscribe("AdPodSkipped",(function(){r.destroy(JI.AdSkipped)})),d.subscribe("AdPodCloseStateChange",(function(){r.updateAdPodCloseState(d)})),d.subscribe("AdVolumeAvailabilityStateChange",(function(){r.updateAdVolumeAvailabilityStateChange(d)})),e.next=36,new vC((function(e){d.subscribe("AdStopped",e),d.playAd(),r.params.onAdPodPlayingStateChange({adType:n,playingState:YA.BUFFERING,expectedStalledReason:0===r.adPodIndex?WR.AdStart:WR.AdBetween})}));case 36:r.currentAdPlaybackController=void 0,s({event:LP.AdPodEnd,params:{adPodsCount:r.playbackQueue.length,adType:r.playbackQueue[r.adPodIndex].adPodType,additionalData:i}}),n===$I.inroll&&(s({event:LP.InrollAdPodEnd,params:{adPodsCount:r.playbackQueue.length,cueId:i.cueId}}),o.setStatsRootFields({cueid:void 0}));case 39:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r.addDestroyHandler((function(){r.currentAdPlaybackController&&(r.currentAdPlaybackController.stopAd(),r.currentAdPlaybackController=void 0)})),r}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xc(e,t)}(t,e);var r,n,o,i=es(t);return r=t,(n=[{key:"getUtcPositionBeforeAd",value:function(){return this.params.utcPositionBeforeAd}},{key:"getCurrentAdPodRemainingTime",value:function(){var e;return null===(e=this.currentAdPlaybackController)||void 0===e?void 0:e.getAdRemainingTime()}},{key:"getQueueDuration",value:function(){return Hc(this.playbackQueue.map((function(e){return e.adViewer})))}},{key:"getIsLastAdPod",value:function(){return this.adPodIndex===this.playbackQueue.length-1}},{key:"playAdViewers",value:function(e){var t=this;this.isDestroyed||(this.playbackQueue.push(e),this.addDestroyHandler((function(){e.adViewer.destroy()})),vC.resolve().then((function(){return t.startPlayingAd()})))}},{key:"resumeAd",value:function(){this.currentAdPlaybackController&&(this.currentAdPlaybackController.resumeAd(),this.updateAdPodPlayingStateChange())}},{key:"pauseAd",value:function(){this.currentAdPlaybackController&&(this.currentAdPlaybackController.pauseAd(),this.updateAdPodPlayingStateChange())}},{key:"skipAdPod",value:function(){this.currentAdPlaybackController&&this.currentAdPlaybackController.skipAd()}},{key:"setVolume",value:function(e){this.currentAdPlaybackController&&this.currentAdPlaybackController.setAdVolume(e)}},{key:"getDestroyPromise",value:function(){return this.destroyPromise}},{key:"getAdTypeForLogs",value:function(){var e=qc(this.playbackQueue,1)[0];return e?e.adType:(this.params.onError(new cT({code:P_.AD_TYPE_IS_NOT_RECOGNIZED,isFatal:!1})),"unrecognized")}},{key:"updateAdPodPlayingStateChange",value:function(){if(this.currentAdPlaybackController){var e=this.currentAdPlaybackController.getAdMediaState(),t=this.currentAdPlaybackController.getAdPlayingState(),r=this.playbackQueue[this.adPodIndex].adPodType,n=this.params.video.src,o="stalled"===(null===e||void 0===e?void 0:e.name)&&n?{adType:r,playingState:YA.BUFFERING,expectedStalledReason:WR.AdOther}:{adType:r,playingState:yC[t],expectedStalledReason:void 0};this.params.onAdPodPlayingStateChange(o)}}},{key:"updateAdPodDuration",value:function(e){var t=e.getAdPodDuration();return this.params.onAdPodDurationChange(t),t}},{key:"shouldSkipAllAdPods",value:function(){var e;return Boolean(null===(e=this.params.adConfig)||void 0===e?void 0:e.skipAllAdPods)||!1}},{key:"getContentAfterAd",value:function(e,t){var r=this.getIsLastAdPod(),n=this.shouldSkipAllAdPods(),o=t?[{url:t}]:[];switch(e){case $I.preroll:return r||n?{type:"startVideo",poster:o}:{type:"nextAd",poster:[]};case $I.postroll:return{poster:[]};case $I.midroll:case $I.postPauseroll:case $I.inroll:return r||n?{type:"continueVideo",poster:o}:{type:"nextAd",poster:[]};default:return{poster:[]}}}}])&&Jc(r.prototype,n),o&&Jc(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(tI);!function(e){e.original="original"}(pC||(pC={}));var gC,bC=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.parent=t,function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"element",document.createElement("div"));var n=this.element.style;n.backgroundColor=function(e){switch(e){case pC.original:return"rgba(0, 255, 0, 0.5)";default:throw new Error("Unexpected BroadcastAdType [".concat(e,"]"))}}(r),n.width="10px",n.height="10px",n.cssFloat="left",n.marginRight="1px"}var t,r,n;return t=e,(r=[{key:"setVisibility",value:function(e){e?this.show():this.hide()}},{key:"show",value:function(){this.parent.appendChild(this.element)}},{key:"hide",value:function(){et(this.element)}}])&&ss(t.prototype,r),n&&ss(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),wC=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"element",document.createElement("div")),t.appendChild(this.element);var r=this.element.style;r.position="absolute",r.bottom="1px",r.left="1px"}var t,r,n;return t=e,(r=[{key:"createIndicator",value:function(e){return new bC(this.element,e)}}])&&ls(t.prototype,r),n&&ls(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();!function(e){e.INVALID_INROLL_FRAME="INVALID_INROLL_FRAME",e.INVALID_START="INVALID_START",e.CROSSED_BY_INVALID="CROSSED_BY_INVALID",e.MAX_DURATION="MAX_DURATION"}(gC||(gC={}));var SC=function(e){function t(){var e;ps(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return Ss(bs(e=i.call.apply(i,[this].concat(n))),"adIntervals",[]),e}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ys(e,t)}(t,e);var r,n,o,i=ms(t);return r=t,(n=[{key:"handleInrollFrame",value:function(e){if(!function(e){if(e.offset<-6e5||e.offset>63e4)return!1;if(void 0===e.cutoff)return!0;if(e.cutoff<-6e5||e.cutoff>63e4)return!1;var t=e.cutoff-e.offset;return t>=5e3&&t<=6e5}(e))return hC.warn("invalid inroll frame:",e),void this.handleInvalidInrollFrame(e,gC.INVALID_INROLL_FRAME);var t=this.adIntervals.find((function(t){return t.cueId===e.cue_id}));if(!t)return this.addAdIntervalByFastFrame(e);this.updateAdIntervalByInrollFrame(t,e)}},{key:"validateAdIntervalsByTimestamp",value:function(e){for(var t=0;t<this.adIntervals.length;t++){var r=this.adIntervals[t];if(r.start>e)return;if(r.isValid&&!r.isEndReceived)if(e-r.start>6e5)this.invalidateAdInterval(r,gC.MAX_DURATION);else{var n=this.adIntervals[t+1];if(!n)return;n.start<=e&&this.invalidateAdInterval(r,gC.CROSSED_BY_INVALID)}}}},{key:"handleInvalidInrollFrame",value:function(e,t){var r=this.adIntervals.find((function(t){return t.cueId===e.cue_id}));if(r)return this.invalidateAdInterval(r,t),void this.updateAdIntervalByInrollFrame(r,e);var n=ds(e);this.invalidateAdInterval(n,t),this.pushAdInterval(n)}},{key:"addAdIntervalByFastFrame",value:function(e){var t=ds(e);return this.pushAdInterval(t),t.isValid?t:void 0}},{key:"updateAdIntervalByInrollFrame",value:function(e,t){var r=t.pts+t.offset;if(Math.abs(e.start-r)>1e3)this.invalidateAdInterval(e,gC.INVALID_START);else if(!e.isEndReceived){var n=void 0!==t.cutoff,o=n?t.pts+t.cutoff:fs(t.pts,e.start);e.isEndReceived=n,e.end=o,this.handleUpdatedAdInterval(e)}}},{key:"findCrossedAdIntervals",value:function(e){return this.adIntervals.filter((function(t){return e!==t&&(e.start<t.start?e.end>t.start:t.end>e.start)}))}},{key:"pushAdInterval",value:function(e){var t=this.findCrossedAdIntervals(e);t.length&&this.invalidateAdInterval(e,gC.CROSSED_BY_INVALID),this.adIntervals.push(e),this.adIntervals.sort((function(e,t){return e.start-t.start})),this.invalidate(t,gC.CROSSED_BY_INVALID),e.isValid&&this.emit("AdIntervalUpdated",e)}},{key:"handleUpdatedAdInterval",value:function(e){var t=this.findCrossedAdIntervals(e);if(t.length)return t.push(e),void this.invalidate(t,gC.CROSSED_BY_INVALID);e.isValid&&this.emit("AdIntervalUpdated",e)}},{key:"invalidate",value:function(e,t){var r=this;e.forEach((function(e){r.invalidateAdInterval(e,t)}))}},{key:"invalidateAdInterval",value:function(e,t){e.isValid&&(e.isValid=!1,e.invalidateReason=t,this.emit("InvalidAdInterval",{reason:t,cueId:e.cueId}))}}])&&vs(r.prototype,n),o&&vs(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(IR.v),EC=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Rs(this,"ads",[]),Rs(this,"postAdsIds",[])}var t,r,n;return t=e,(r=[{key:"add",value:function(e){if(!(this.postAdsIds.indexOf(e.cueId)>-1)){var t=this.findById(e.cueId);t?t.startTime=e.startTime:this.ads.push(Ps(Ps({},e),{},{adViewers:e.adViewers.reduce((function(e,t){return e.concat(t.separateAdPods())}),[])}))}}},{key:"getAdViewers",value:function(e,t){var r,n=ks(L(this.ads,(function(r){var n=r.startTime,o=r.endTime,i=r.cueId,a=r.adViewers;if(i!==t)return!1;if(e<n)return!1;if(o-15e3<e)return!1;var u,c=Os(a);try{for(c.s();!(u=c.n()).done;){var s=u.value;if(e+1e3*s.getAdDuration()<o)return!0}}catch(l){c.e(l)}finally{c.f()}return!1})),2),o=n[0],i=n[1];if(0===o.length)return[];(r=this.postAdsIds).push.apply(r,Es(o.map((function(e){return e.cueId})))),this.ads=i,o.sort((function(e,t){return e.startTime-t.startTime}));var a,u=0,c=[],s=Os(o);try{for(s.s();!(a=s.n()).done;){var l,f=a.value,d=f.adViewers,h=f.endTime,p=f.cueId,v=Os(d);try{for(v.s();!(l=v.n()).done;){var y=l.value,m=e+1e3*u;if(h-15e3<m)break;h<m+1e3*y.getAdDuration()||(c.push({adViewer:y,additionalData:{cueId:p},adType:$I.inroll}),u+=y.getAdDuration())}}catch(g){v.e(g)}finally{v.f()}}}catch(g){s.e(g)}finally{s.f()}return c}},{key:"findById",value:function(e){return this.ads.find((function(t){return t.cueId===e}))}}])&&xs(t.prototype,r),n&&xs(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),OC=r(83361),kC=function(e){function t(e){var r,n,o=e.video,i=e.slot,a=e.playerApi,c=e.playerStore,s=e.stateController,l=e.onError;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Gs(Bs(r=u.call(this)),"adIntervalStorage",new SC),Gs(Bs(r),"isEnabled",!0),Gs(Bs(r),"adIndicators",void 0),Gs(Bs(r),"inrolls",new EC),Gs(Bs(r),"playerApi",void 0),Gs(Bs(r),"playerStore",void 0),Gs(Bs(r),"stateController",void 0),Gs(Bs(r),"onError",void 0),r.adIndicators=new wC(i),r.playerApi=a,r.playerStore=c,r.stateController=s,r.onError=l;var f=r.adIndicators.createIndicator(pC.original);return o.addEventListener("timeupdate",(function(){var e=r.playerStore.getState(),t=us(e);if(n!==t){var i=void 0!==t;f.setVisibility(i),n=t}var a=cs(e);a&&(r.adIntervalStorage.validateAdIntervalsByTimestamp(a),r.isEnabled&&!o.paused&&(r.stateController.updateOriginalAdState(),r.handleInrolls()))})),r.adIntervalStorage.on("AdIntervalUpdated",(function(e){r.emit("AdIntervalUpdated",{cueId:e.cueId,start:e.start,end:e.end})})),r.adIntervalStorage.on("InvalidAdInterval",(function(e){var t=e.cueId,n=e.reason;hC.warn("invalid ad interval: [cueId=".concat(t,"] [reason=").concat(n,"]")),r.onError(new cT({code:P_.INVALID_METADATA,details:{cueId:t,reason:n},isFatal:!1})),r.emit("AdIntervalRemoved",t)})),r}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fs(e,t)}(t,e);var r,n,o,i,a,u=Ms(t);return r=t,(n=[{key:"handleInrollFrame",value:function(e){var t=this.adIntervalStorage.handleInrollFrame(e);if(!t)return OC.resolve();var r=t.cueId,n=t.start,o=t.end,i=t.isEndReceived?o+15e3:n+6e5;return this.addInroll(r,n,i,{inrollFrame:e})}},{key:"setEnabled",value:function(e){this.isEnabled=e}},{key:"addInroll",value:(i=js().mark((function e(t,r,n,o){var i,a,u,c;return js().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=o.inrollFrame,this.playerApi.callbacks.logEvent({event:LP.BroadcastAdReceived,params:{cueId:t,podStart:r,adType:$I.inroll}}),a=this.playerApi.getMultiroll(),e.next=5,a.inroll.loadViewers(Cs({},i));case 5:if(0!==(u=e.sent).length){e.next=8;break}return e.abrupt("return");case 8:c=Hc(u),this.playerApi.callbacks.logEvent({event:LP.BroadcastAdInit,params:{cueId:t,podStart:r,duration:c,adPodsCount:u.length,adType:$I.inroll}}),this.inrolls.add({adViewers:u,cueId:t,startTime:r,endTime:n});case 11:case"end":return e.stop()}}),e,this)})),a=function(){var e=this,t=arguments;return new OC((function(r,n){function o(e){Ds(u,r,n,o,a,"next",e)}function a(e){Ds(u,r,n,o,a,"throw",e)}var u=i.apply(e,t);o(void 0)}))},function(e,t,r,n){return a.apply(this,arguments)})},{key:"handleInrolls",value:function(){var e=this.playerStore.getState(),t=cs(e);if(t){var r=us(e);if(r){var n=this.inrolls.getAdViewers(t,r);n.length&&this.emit("InrollAdPlayRequest",n)}}}}])&&Ns(r.prototype,n),o&&Ns(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(PL.M),_C=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ys(this,"stopReasonInternal",void 0),Ys(this,"stopDeferred",new dL.B)}var t,r,n;return t=e,(r=[{key:"stop",value:function(e){this.stopReasonInternal=e,this.stopDeferred.resolve(e)}},{key:"stopReason",get:function(){return this.stopReasonInternal}},{key:"stopPromise",get:function(){return this.stopDeferred.promise}}])&&Hs(t.prototype,r),n&&Hs(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),AC=function(e,t,r){for(var n=[],o=0;o<e.length;o++){var i=e[o];t.call(r,i,o,e)&&n.push(i)}return n},TC={}.toString,PC=/\[object (\w+)\]/,xC=function(e){var t=TC.call(e);if(!t)return null;var r=t.match(PC);if(!r)return null;var n=r[1];return n||null},RC=function(e){return e instanceof Error||"Error"===xC(e)},LC=function(e){return!!Zu(e)&&(!!zs(e.name)&&!!zs(e.message))},jC=[].find,IC=tl(jC)?function(e,t){return jC.call(e,t)}:function(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(t(n,r,e))return n}},CC="DEFAULT_ERROR_MESSAGE",DC="0",NC="",FC="?:?:?",MC=function(e){function t(){var e;il(this,t);var r=2===arguments.length?arguments.length<=0?void 0:arguments[0]:void 0,n=2===arguments.length?arguments.length<=1?void 0:arguments[1]:arguments.length<=0?void 0:arguments[0],o=LC(r)||"object"===nl(r)&&r&&"code"in r&&"details"in r?r:{message:String(r||CC)};e=u.call(this),Object.defineProperty(ul(e),"originalError",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(ul(e),"message",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(ul(e),"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(ul(e),"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(ul(e),"stack",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(ul(e),"toString",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(ul(e),"toJSON",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e.originalError="object"===nl(r)&&r?r:{unknown:r,unknownStr:String(r)},L_()(ul(e),t.prototype);var i=n.code||o.code||o.id||DC,a=n.message||o.message||CC;e.message="VAS Error [".concat(i,"]")+(a?"[".concat(a,"]"):""),e.code=i,e.details=n.details||o.details||NC;var c=o.stack||hl(o),s=c===FC?e.stack:c;if(s&&s!==FC)e.stack=s;else if(!e.stack)try{throw new Error(e.message)}catch(l){e.stack=s=l.stack||FC}return e.toString=function(){return rl(e.toJSON())},e.toJSON=function(){return{originalError:e.originalError,message:e.message,code:e.code,details:e.details,stack:s}},e}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fl(e,t)}(t,e);var r,n,o,i,a,u=(r=t,n=ll(),function(){var e,t=dl(r);if(n){var o=dl(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return al(this,e)});return o=t,i&&ol(o.prototype,i),a&&ol(o,a),Object.defineProperty(o,"prototype",{writable:!1}),o}(cl(Error)),VC=function(e,t){var r=e[t];if(!tl(r)){var n=r;try{delete e[t];var o=e[t];"function"===typeof o&&(r=o),e[t]=n}catch(i){}}return r}(Array,"isArray"),BC=Boolean(VC)?function(e){return VC.call(Array,e)}:function(e){return"Array"===xC(e)},UC=r(83361),GC=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,"dispatch",{enumerable:!0,configurable:!0,writable:!0,value:vl((function(e){r.value=e,r._isDispatched=!0,function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];BC(e)&&II(e,(function(e){"function"===typeof e&&e.apply(void 0,r)}))}(r.callbacks,e),r.callbacks.length=0}))}),Object.defineProperty(this,"callbacks",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_isDispatched",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),zu(t)&&this.callbacks.push(t)}var t,r,n;return t=e,(r=[{key:"subscribe",value:function(e){var t=this;return this._isDispatched?(e(this.value),pl):(this.callbacks.push(e),function(){t.callbacks=AC(t.callbacks,(function(t){return t!==e}))})}},{key:"getDispatched",value:function(){return this._isDispatched}},{key:"getValue",value:function(){return this.value}},{key:"wait",value:function(){var e=this;return new UC((function(t){e.subscribe(t)}))}}])&&yl(t.prototype,r),n&&yl(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),HC=r(83361),YC=r(7507),qC=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=YC(e);return"boolean"===typeof t?-1:t},WC=function(e,t,r){for(var n=new Array(e.length),o=0;o<e.length;o++)n[o]=t.call(r,e[o],o,e);return n},KC=["","-webkit-","-ms-","-moz-","-o-"],zC=WC(KC,(function(e){return"(".concat(e,"any-pointer:coarse)")})).join(","),QC=WC(KC,(function(e){return"(".concat(e,"touch-enabled)")})).join(","),ZC=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return e.navigator.userAgent.indexOf("UCBrowser")>-1},$C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=xl(e).toLowerCase();if(t.indexOf("android")>-1)return!1;var r=t.replace(/\(.+?\)/gi,"").split(" ").map((function(e){return e.trim().split("/")[0]})).filter((function(e){return e&&"mobile"!==e}));return 4===r.length&&"mozilla"===r[0]&&"applewebkit"===r[1]&&"version"===r[2]&&"safari"===r[3]},JC=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return $C(e)||Pl(e)||Tl(e)}(),XC=function(e){return Vl(e.navigator.sendBeacon)},eD=XC(window),tD=function(){function e(t){var r=this,n=t.defaultProbability,o=t.rnd,i=t.vsid,a=t.serviceName,u=t.serviceVersion;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,"rnd",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"vsid",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"defaultProbability",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"serviceName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"serviceVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"error",{enumerable:!0,configurable:!0,writable:!0,value:function(e){var t=e.error;r.push({eventName:String(t.code),eventType:"error",eventData:t,probability:1})}}),this.rnd=o,this.vsid=i,this.defaultProbability=n,this.serviceName=a,this.serviceVersion=u}var t,r,n;return t=e,(r=[{key:"log",value:function(e){var t=e.name,r=e.probability,n=e.data;this.push({eventType:"event",eventName:t,probability:r,eventData:n})}},{key:"push",value:function(e){var t=e.eventType,r=e.eventName,n=e.probability,o=void 0===n?this.defaultProbability:n,i=e.eventData;if(this.rnd<o){var a="".concat("https://log.strm.yandex.ru/log","?").concat(t,"=").concat(r),u=JSON.stringify({service:"VAS",eventType:t,eventName:r,rnd:this.rnd,vsid:this.vsid,data:i,topLocation:Ll(document).location,version:"loadVasModule_".concat(this.serviceName||"unknown","_").concat(this.serviceVersion||"unknown"),timestamp:Date.now()});if(function(e,t){return!!eD&&window.navigator.sendBeacon(e,t)}(a,u))return;Ml({url:a,data:u,method:"POST"})}}}])&&Bl(t.prototype,r),n&&Bl(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),rD=function(e,t){try{return e.localStorage.getItem(t)}catch(r){return null}},nD=r(60987),oD=function(e,t){var r=Hl(e,t);return"false"!==r&&Boolean(r)},iD=function(e){var t,r,n=!1,o=!1,i=!1;return ml((function(){t=function(e){var t=Hl(e,"adsdkecmaver");if("ES2017"===t||"ES5"===t)return t;return}(e)})),ml((function(){i=Boolean(Hl(e,"adsdkdebug"))})),ml((function(){r=Hl(e,"adsdkver")})),ml((function(){n=Boolean(Hl(e,"vasnetworklogs"))})),ml((function(){o=oD(e,"vasfulldebug")})),i&&(console.warn("adsdkdebug is deprecated, use vasfulldebug instead"),o=!0),o&&(n=!0),{adsdkecmaver:t,vasfulldebug:o,vasnetworklogs:n,adsdkver:r,adsdkdebug:i}}(window),aD=iD.vasnetworklogs?1:.05,uD=!Vl(Math.random)||Math.random()===Math.random(),cD=Date&&Sl(Date.now)?function(){return Date.now()}:function(){return(new Date).getTime()},sD="undefined"===typeof window?void 0:window.performance,lD=sD&&Sl(sD.now),fD=sD&&sD.timing&&sD.timing.navigationStart?sD.timing.navigationStart:cD(),dD=0,hD=lD?function(){return sD.now()}:function(){return e=cD()-fD,dD=Math.max(e,dD);var e},pD=Date.now()*hD()%2147483647,vD=uD?function(){return((pD=16807*pD%2147483647)-1)/2147483646}:function(){return Math.random()},yD=vD(),mD=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r},gD=function(e){e.expFlags;var t=mD(e,["expFlags"]),r={},n={};return II(e.expFlags,(function(e){II(e,(function(e){var t=e.CONTEXT.FLAGS,o=e.TESTID;Zu(t)&&II(function(e){if("function"===typeof Object.keys)return Object.keys(e);var t=[];for(var r in e)Yl(e,r)&&t.push(r);return t}(t),(function(e){var i,a=t[e];r[e]=a,n[e]=null!==(i=n[e])&&void 0!==i?i:[],n[e].push({value:a,testId:o[0]})}))}))})),ql({flags:r,flagsMap:n},t)},bD={testIds:"",flags:{}};vl((function(){try{return __UAAS_CFG__}catch(e){return e}}));var wD,SD=function(e){if(RC(e))return{error:e,config:bD};try{var t=Zu(e)?e:JSON.parse("".concat(e||"")),r=function(e){return!!Zu(e)&&!(!("expFlags"in e)||!BC(e.expFlags))}(t)?gD(t):t;if(!function(e,t){if(!Zu(t))throw new Error("Parsed replaced macro is not an object: ".concat(e));if(el(t.testIds),!("flags"in t)||!Zu(t.flags))throw new Error("Parsed replaced macro has no flags field: ".concat(e));return!0}(String(e),r))throw new Error("UAAS config is not valid: ".concat(e));return{error:void 0,config:r}}catch(n){return{error:n,config:bD}}},ED=function(e){var t,r=SD(e),n=r.error,o=r.config;if(!n){var i=o.flags,a=null!==(t=i.ADSDKVER)&&void 0!==t?t:i.VAS_STABLE_VERSION,u=Qs(a)?a:void 0;if(Qs(u))return{version:u,parsedUaasConfig:o,parseUaasConfigError:void 0}}return{version:void 0,parsedUaasConfig:void 0,parseUaasConfigError:n}},OD=function(e){return function(e){try{if("noModule"in e.HTMLScriptElement.prototype)return!0}catch(t){}return!1}(e)&&XC(e)}(window)?"ES2017":"ES5",kD={ES5:"bundles",ES2017:"bundles-es2017"},_D=Kl(Kl({},{InPage:"inpage",AdLoader:"loader",VideoBannerAd:"videobannerad",Multiroll:"multiroll",YaMusicAPI:"ya-music-api",VpaidPlayer:"vpaid_player",Rum:"rum"}),{MotionTailor:"motion_ad_creative",Survey:"survey"}),AD="undefined"===typeof BUNDLES_PATH?"":BUNDLES_PATH,TD=("undefined"===typeof BUNDLE_NAME||BUNDLE_NAME,"undefined"===typeof BUILD_TIME||BUILD_TIME,["a","n.ya","nd","ex.ru"].join(""),["y","a","nde","x.ru"].join(""),["y","a",".r","u"].join(""),["ya","sta","tic.net"].join("")),PD=(["ver","ify.y","a","nde","x.ru"].join(""),"https://".concat(TD,"/vas-bundles/")),xD=function(e){var t=e.bundleName,r=e.win,n=e.ecmaVersion,o=e.version,i=kD[n],a=FI(r),u="".concat(_D[t],".bundle.js"),c="".concat(zl(o)).concat(i,"/").concat(u);return zu(a)?a(c):c},RD=r(83361),LD=r(83361),jD=r(83361),ID=function(e){return new jD((function(t,r){Ml({method:"GET",url:"https://yandex.ru/ads/system/video-ads-sdk/vas_uaas",responseType:"json",retries:2,withCredentials:Boolean(e),onSuccess:function(e){t(e.response)},onError:function(){r(new Error("Cannot load uaas"))}})}))};try{wD=BUILD_VERSION}catch(pG){wD="INVALID_BUILD_VERSION"}var CD,DD=wD,ND="VAS",FD=function(e){return $l(e.substr(-4),4,"0")},MD=function(){return $l(Date.now().toString().slice(0,10),10,"0")},VD=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:DD;return[Zl(44),ND,FD(e),MD()].join("x")}("1"),BD=r(83361),UD=function(e){var t;var r=e.win,n=e.config,o=n.vasUaasConfig,i=n.activeTestIds,a=n.additionalCustomRootFields,u=n.vh_sid,c=n.withCredentials,s=e.moduleName,l=e.serviceName,f=e.serviceVersion,d=e.productTheme,h=e.pageId,p=e.impId,v=null!==(t=null===a||void 0===a?void 0:a.vsid)&&void 0!==t?t:VD,y=function(e){var t=e.serviceName,r=e.serviceVersion,n=e.vsid,o=new tD({rnd:yD,vsid:n,defaultProbability:aD,serviceName:t,serviceVersion:r});return{event:function(e){return o.log(e)},error:function(e){return o.error(e)}}}({serviceName:l,serviceVersion:f,vsid:v}),m=Jl({},a),g=Qs(u)?u:void 0;!Qs(m.vh_sid)&&g&&(m.vh_sid=g);var b,w,S=ml((function(){return el(null===m||void 0===m?void 0:m.testIds)}),(function(e){y.error({error:new MC({code:"LOAD_VAS_MODULE_INVALID_TEST_IDS",details:{message:e.message}})})}));return b=function(e){var t=e.resolve,n=e.reject,a=e.subscribeForTeardown,u=!1;a((function(){u=!0,n(new Error("Teardown called"))})),function(e){var t=e.externalUaasConfig,r=e.loaderFunctionsStatsWrapper,n=e.withCredentials;return new BD((function(e,o){var i,a,u=ED(t);t?u.parseUaasConfigError?r.error({error:new MC({code:"LOAD_VAS_MODULE_PARSE_EXTERNAL_UAAS_CONFIG_ERROR",details:{message:u.parseUaasConfigError.message,vasUaasConfig:t}})}):void 0===(null===(a=null===(i=u.parsedUaasConfig)||void 0===i?void 0:i.flags)||void 0===a?void 0:a.VAS_STABLE_VERSION)&&r.error({error:new MC({code:"LOAD_VAS_MODULE_NO_VAS_STABLE_VERSION_IN_EXTERNAL_AB_FLAGS",details:{vasUaasConfig:t}})}):r.event({name:"LoadVasModule_NoUAAS",data:{}}),u.version?e({uaasConfig:u.parsedUaasConfig,rawUaasConfig:t,version:u.version}):ID(n).then((function(t){var n,o,i,a=ED(t);a.parseUaasConfigError?r.error({error:new MC({code:"LOAD_VAS_MODULE_PARSE_LOADED_UAAS_CONFIG_ERROR",details:{message:a.parseUaasConfigError.message,vasUaasConfig:t}})}):void 0===(null===(o=null===(n=a.parsedUaasConfig)||void 0===n?void 0:n.flags)||void 0===o?void 0:o.VAS_STABLE_VERSION)&&r.error({error:new MC({code:"LOAD_VAS_MODULE_NO_VAS_STABLE_VERSION_IN_LOADED_AB_FLAGS",details:{vasUaasConfig:t}})}),e({uaasConfig:a.parsedUaasConfig,rawUaasConfig:t,version:null!==(i=a.version)&&void 0!==i?i:String(t.stableVersion),stableVersion:t.stableVersion})})).catch(o)}))}({externalUaasConfig:o,loaderFunctionsStatsWrapper:y,withCredentials:c}).then((function(e){var o,c,l=e.uaasConfig,f=e.rawUaasConfig,g=e.version,b=e.stableVersion;if(!u){if(function(e){return!(!function(e){var t=e.document;return"documentMode"in t&&"undefined"!==typeof t.documentMode}(e)&&!function(e){var t=e.navigator.userAgent;return t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0}(e))}(r))return y.event({name:"LoadVasModule_brokeInIE11",probability:aD,data:{bundleName:s}}),t(void 0);var w={AB_FLAGS_STORE:void 0,AB_FLAGS:null!==(o=null===l||void 0===l?void 0:l.flags)&&void 0!==o?o:{},ICOOKIE:null===l||void 0===l?void 0:l.iCookie,TEST_IDS:Zs(S,null===l||void 0===l?void 0:l.testIds),VAS_UAAS_CONFIG:l,ActiveTestIds:i,AdditionalStatsRootFields:m,VSID:v,VAS_USER_SESSION_RANDOM:yD,STATS_ROOT_PARAMS:{},loaderLoadedFromAnYandexRu:void 0,loaderLoadedFromYaRu:void 0,grWasSent:void 0,productTheme:d,pageId:h,impId:p},E=function(e){var t=function(e){var t,r=e.moduleName,n=e.version,o=e.win,i=e.scriptSessionParams,a=Wl(r,o);if(a)return{promise:LD.resolve(a),teardown:pl};var u=Ql({src:xD({version:n,bundleName:r,win:o,ecmaVersion:null!==(t=iD.adsdkecmaver)&&void 0!==t?t:OD}),win:o,onBeforeLoad:function(e){var t;(function(e){e.crossOrigin="anonymous"})(e),t=i,e.__AD_SDK_SCRIPT_SESSION_PARAMETERS__=t}}),c=u.promise,s=u.teardown;return{promise:c.then((function(){return Wl(r,o)})),teardown:s}}({moduleName:s,scriptSessionParams:w,version:e,win:r}),n=t.promise,o=t.teardown;return a(o),n},O=function(e){y.event({name:"LoadVasModule_ModuleLoaded",probability:aD,data:{bundleName:s}}),t(e)},k=null!==(c=iD.adsdkver)&&void 0!==c?c:g;E(k).then(O).catch((function(e){if(k===String(b))throw e;return y.error({error:new MC({code:"LOAD_VAS_MODULE_CANNOT_LOAD_MODULE_WITH_UAAS_VERSION",details:{vasUaasConfig:f}})}),b?E(String(b)).then(O):ID().then((function(e){return String(e.stableVersion)})).then(E).then(O)})).catch(n)}})).catch(n)},w=new GC,{promise:new HC((function(e,t){b({resolve:e,reject:t,subscribeForTeardown:function(e){w.subscribe(e)}})})),teardown:function(){return w.dispatch(void 0)}}},GD={subpageIndex:ke(),deltas:{}},HD=r(83361),YD=r(83361),qD={inStreamPlayingState:void 0,adConfig:void 0,adInfo:void 0,originalBroadcastAdCueId:void 0,originalBroadcastAdCues:{},adblockDetected:!1,hasPreroll:!1,adSyncInit:!1,nextAdInfo:void 0,nativeAdControlsVisibility:!0},WD=Math.max(0,0),KD=Math.max(5,0);!function(e){e.Detached="Detached",e.Attaching="Attaching",e.Attached="Attached"}(CD||(CD={}));var zD,QD,ZD,$D,JD,XD={autoplay:!1,initialAutoplay:!1,allowMuted:!0,autoplayImpossible:!1,startStage:tP.init,preload:!0,from:void 0,encoderState:CD.Detached,vsid:KP,streams:[],stream:void 0,sourceParams:void 0,sourceId:0,volume:1,muted:!1,userVolume:NaN,duration:NaN,currentTime:WD,currentTimeLowGranularity:WD,watchedTime:0,startPosition:{},programDateTime:void 0,fragmentDuration:KD,dvrStartTime:0,dvrDuration:NaN,videoType:void 0,playingState:YA.PAUSE,bufferingRanges:[],preview:void 0,isFullscreen:!1,isPip:!1,isVisible:void 0,togglePlaybackOnVisibilityChangeSetting:void 0,errorInfo:{},lastRecoverPosition:void 0,isDocumentVisible:!0,lastKnownBandwidthEstimate:{value:NaN,source:"default"},isAbrSupported:!1,isAbrEnabled:!1,defaultQuality:720,feed:!1,shouldEmitFrameRendered:!1,videoTrackValue:void 0,videoTracks:[],userVideoTrackName:void 0,userVideoTrackHeight:void 0,audioTrackValue:void 0,audioTracks:[],userAudioTrackName:void 0,userAudioTrackLang:void 0,textTrackEnabled:!1,nativeTextTrackVisible:void 0,textTrackValue:void 0,textTracks:[],userTextTrackEnabled:void 0,userTextTrackLang:void 0,userTextTrackName:void 0,playbackRate:1,expectedStalled:{reason:WR.Init,details:{}},videoWidth:0,videoHeight:0,playerConfig:void 0},eN={hiddenControls:[],useNativeSubtitles:!1,nativeControlsVisibility:!0,skinDVRStartTime:0,skinDVRDuration:0};!function(e){e.inStreamPlayingState="inStreamPlayingState",e.adConfig="adConfig",e.adInfo="adInfo",e.originalBroadcastAdCueId="originalBroadcastAdCueId",e.originalBroadcastAdCues="originalBroadcastAdCues",e.adblockDetected="adblockDetected",e.hasPreroll="hasPreroll",e.adSyncInit="adSyncInit",e.nextAdInfo="nextAdInfo",e.nativeAdControlsVisibility="nativeAdControlsVisibility"}(zD||(zD={})),function(e){e.hiddenControls="hiddenControls",e.useNativeSubtitles="useNativeSubtitles",e.nativeControlsVisibility="nativeControlsVisibility",e.skinDVRStartTime="skinDVRStartTime",e.skinDVRDuration="skinDVRDuration"}(QD||(QD={})),function(e){e.engine="engine",e.autoplay="autoplay",e.allowMuted="allowMuted",e.autoplayImpossible="autoplayImpossible",e.startStage="startStage",e.preload="preload",e.duration="duration",e.encoderState="encoderState",e.from="from",e.vsid="vsid",e.streams="streams",e.stream="stream",e.streamsWithSupportInfo="streamsWithSupportInfo",e.sourceParams="sourceParams",e.sourceId="sourceId",e.bufferingRanges="bufferingRanges",e.userVolume="userVolume",e.currentTime="currentTime",e.currentTimeLowGranularity="currentTimeLowGranularity",e.watchedTime="watchedTime",e.startPosition="startPosition",e.videoType="videoType",e.playingState="playingState",e.errorInfo="errorInfo",e.lastRecoverPosition="lastRecoverPosition",e.preview="preview",e.isFullscreen="isFullscreen",e.isPip="isPip",e.isVisible="isVisible",e.togglePlaybackOnVisibilityChangeSetting="togglePlaybackOnVisibilityChangeSetting",e.isDocumentVisible="isDocumentVisible",e.lastKnownBandwidthEstimate="lastKnownBandwidthEstimate",e.fragmentDuration="fragmentDuration",e.dvrStartTime="dvrStartTime",e.dvrDuration="dvrDuration",e.programDateTime="programDateTime",e.isAbrSupported="isAbrSupported",e.isAbrEnabled="isAbrEnabled",e.defaultQuality="defaultQuality",e.videoTrackValue="videoTrackValue",e.videoTracks="videoTracks",e.userVideoTrackName="userVideoTrackName",e.userVideoTrackHeight="userVideoTrackHeight",e.audioTrackValue="audioTrackValue",e.audioTracks="audioTracks",e.userAudioTrackName="userAudioTrackName",e.userAudioTrackLang="userAudioTrackLang",e.textTrackEnabled="textTrackEnabled",e.nativeTextTrackVisible="nativeTextTrackVisible",e.textTrackValue="textTrackValue",e.textTracks="textTracks",e.userTextTrackEnabled="userTextTrackEnabled",e.userTextTrackName="userTextTrackName",e.userTextTrackLang="userTextTrackLang",e.playbackRate="playbackRate",e.expectedStalled="expectedStalled",e.videoWidth="videoWidth",e.videoHeight="videoHeight",e.volume="volume",e.videoElementStyle="videoElementStyle",e.playerConfig="playerConfig",e.feed="feed",e.shouldEmitFrameRendered="shouldEmitFrameRendered"}(ZD||(ZD={})),function(e){e.PlaybackRateCatchupSelection="PlaybackRateCatchupSelection",e.Recover="Recover",e.Other="Other"}($D||($D={})),function(e){e.ApiPlay="ApiPlay",e.VolumeChange="VolumeChange",e.MuteChange="MuteChange"}(JD||(JD={}));var tN,rN,nN,oN={startPosition:{},additionalParams:xx,adConfig:void 0,withCredentials:!1,loop:!1,preview:"",videoInfo:{}},iN=r(67302),aN=r.n(iN),uN=function(e){IT.i18nLang||(IT.i18nLang="ru");var t=IT.i18nLang;if(!(0,OT.m)(IT.i18nTranslateEngine)){var n=r(7050)("./".concat(t,".ts"));(0,iN.setI18nLang)(t),IT.i18nTranslateEngine=aN()(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sf(Object(r),!0).forEach((function(t){Ef(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},n))}return IT.i18nTranslateEngine(e)},cN=r(88554),sN=(0,v_.I)((function(){return{name:uN("TRACK_AUTO"),value:cN.A,bitrate:-1}}));!function(e){e.VideoIsNotPausedOnInit="VideoIsNotPausedOnInit",e.DetectByInterval="DetectByInterval",e.VideoPlayEvent="VideoPlayEvent",e.PlayCallback="PlayCallback"}(tN||(tN={})),function(e){e.firstNetworkAdSDK="first.network.adsdk",e.firstNetworkHls="first.network.hls",e.firstNetworkMpd="first.network.mpd",e.firstNetworkMp4="first.network.mp4",e.firstNetworkNative="first.network.native",e.firstNetworkYasp="first.network.yasp",e.firstNetworkAdSDKHls="first.network.adsdk.hls",e.firstNetworkAdSDKMpd="first.network.adsdk.mpd",e.firstNetworkAdSDKMp4="first.network.adsdk.mp4",e.firstNetworkAdSDKNative="first.network.adsdk.native",e.firstNetworkAdSDKYasp="first.network.adsdk.yasp",e.setSourceNetworkAdSDK="setsource.network.adsdk",e.setSourceNetworkHls="setsource.network.hls",e.setSourceNetworkMpd="setsource.network.mpd",e.setSourceNetworkMp4="setsource.network.mp4",e.setSourceNetworkNative="setsource.network.native",e.setSourceNetworkYasp="setsource.network.yasp",e.setSourceNetworkAdSDKHls="setsource.network.adsdk.hls",e.setSourceNetworkAdSDKMpd="setsource.network.adsdk.mpd",e.setSourceNetworkAdSDKMp4="setsource.network.adsdk.mp4",e.setSourceNetworkAdSDKNative="setsource.network.adsdk.native",e.setSourceNetworkAdSDKYasp="setsource.network.adsdk.yasp"}(rN||(rN={})),function(e){e.firstLoadSource="firstloadsource",e.yaFirstFrameDecodedMp4="ya.firstframedecoded.mp4",e.yaFirstFrameDecodedMpd="ya.firstframedecoded.mpd",e.yaFirstFrameDecodedHls="ya.firstframedecoded.hls",e.yaFirstFrameDecodedYandex="ya.firstframedecoded.yandex",e.yaFirstFrameDecodedYasp="ya.firstframedecoded.yasp",e.yaFirstFrameDecodedNative="ya.firstframedecoded.native",e.yaFirstFrameDecodedAdSDK="ya.firstframedecoded.adsdk",e.yaFirstFrameShownMp4="ya.firstframeshown.mp4",e.yaFirstFrameShownMPD="ya.firstframeshown.mpd",e.yaFirstFrameShownHls="ya.firstframeshown.hls",e.yaFirstFrameShownYandex="ya.firstframeshown.yandex",e.yaFirstFrameShownYasp="ya.firstframeshown.yasp",e.yaFirstFrameShownNative="ya.firstframeshown.native",e.yaFirstFrameShownAdSDK="ya.firstframeshown.adsdk",e.autoplayFalse="autoplayfalse",e.firstStartAdSDKFailed="firststart.adsdk.failed",e.firstStartAdSDK="firststart.adsdk",e.firstStartYandex="firststart.yandex",e.firstStartYasp="firststart.yasp",e.firstStartHls="firststart.hls",e.firstStartMp4="firststart.mp4",e.firstStartMpd="firststart.mpd",e.firstStartNative="firststart.native",e.firstStartAdSDKYandex="firststart.adsdk.yandex",e.firstStartAdSDKYasp="firststart.adsdk.yasp",e.firstStartAdSDKHls="firststart.adsdk.hls",e.firstStartAdSDKMpd="firststart.adsdk.mpd",e.firstStartAdSDKMp4="firststart.adsdk.mp4",e.firstStartAdSDKNative="firststart.adsdk.native"}(nN||(nN={}));var lN,fN,dN,hN,pN,vN,yN,mN,gN,bN,wN=["reason"],SN=(Lf(lN={},hT.HLS,nN.firstStartHls),Lf(lN,hT.MP4,nN.firstStartMp4),Lf(lN,hT.NATIVE,nN.firstStartNative),Lf(lN,hT.YASP,nN.firstStartYasp),Lf(lN,"AD",nN.firstStartAdSDK),lN),EN=(Lf(fN={},hT.HLS,nN.firstStartAdSDKHls),Lf(fN,hT.MP4,nN.firstStartAdSDKMp4),Lf(fN,hT.NATIVE,nN.firstStartAdSDKNative),Lf(fN,hT.YASP,nN.firstStartAdSDKYasp),Lf(fN,"AD",nN.firstStartAdSDK),fN),ON=(Lf(dN={},hT.HLS,nN.yaFirstFrameDecodedHls),Lf(dN,hT.MP4,nN.yaFirstFrameDecodedMp4),Lf(dN,hT.NATIVE,nN.yaFirstFrameDecodedNative),Lf(dN,hT.YASP,nN.yaFirstFrameDecodedYasp),Lf(dN,"AD",nN.yaFirstFrameDecodedAdSDK),dN),kN=(Lf(hN={},hT.HLS,nN.yaFirstFrameShownHls),Lf(hN,hT.MP4,nN.yaFirstFrameShownMp4),Lf(hN,hT.NATIVE,nN.yaFirstFrameShownNative),Lf(hN,hT.YASP,nN.yaFirstFrameShownYasp),Lf(hN,"AD",nN.yaFirstFrameShownAdSDK),hN),_N=(Lf(pN={},hT.HLS,rN.firstNetworkHls),Lf(pN,hT.MP4,rN.firstNetworkMp4),Lf(pN,hT.NATIVE,rN.firstNetworkNative),Lf(pN,hT.YASP,rN.firstNetworkYasp),Lf(pN,"AD",rN.firstNetworkAdSDK),pN),AN=(Lf(vN={},hT.HLS,rN.firstNetworkAdSDKHls),Lf(vN,hT.MP4,rN.firstNetworkAdSDKMp4),Lf(vN,hT.NATIVE,rN.firstNetworkAdSDKNative),Lf(vN,hT.YASP,rN.firstNetworkAdSDKYasp),Lf(vN,"AD",rN.firstNetworkAdSDK),vN),TN=(Lf(yN={},hT.HLS,rN.setSourceNetworkHls),Lf(yN,hT.MP4,rN.setSourceNetworkMp4),Lf(yN,hT.NATIVE,rN.setSourceNetworkNative),Lf(yN,hT.YASP,rN.setSourceNetworkYasp),Lf(yN,"AD",rN.setSourceNetworkAdSDK),yN),PN=(Lf(mN={},hT.HLS,rN.setSourceNetworkAdSDKHls),Lf(mN,hT.MP4,rN.setSourceNetworkAdSDKMp4),Lf(mN,hT.NATIVE,rN.setSourceNetworkAdSDKNative),Lf(mN,hT.YASP,rN.setSourceNetworkAdSDKYasp),Lf(mN,"AD",rN.setSourceNetworkAdSDK),mN),xN=-1,RN={sourceStart:!1,yaFirstFrameDecoded:!1,yaFirstFrameShown:!1};!function(e){e.ON="ON",e.OFF="OFF"}(gN||(gN={})),function(e){e.setSource="setSource",e.destroy="destroy",e.end="end"}(bN||(bN={}));var LN,jN=ZI?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:QI;return Boolean(t.canPlayType(e).replace(/no/,""))}:function(){return!1},IN=jN("application/vnd.apple.mpegurl")||Gj>=4.4;!function(e){e.NO_MSE="NO_MSE",e.NO_CODECS="NO_CODECS",e.NO_SUPPORTED_DRM="NO_SUPPORTED_DRM",e.NO_SUPPORTED_FORMAT="NO_SUPPORTED_FORMAT",e.INVALID_STREAM_URL="INVALID_STREAM_URL"}(LN||(LN={}));var CN=function(e){return!0},DN=function(e){return"m3u8"===(0,Lx.lm)(e.toLocaleLowerCase())},NN=function(e){return"mpd"===(0,Lx.lm)(e.toLocaleLowerCase())},FN=function(e){return"mp4"===(0,Lx.lm)(e.toLocaleLowerCase())},MN=r(17986),VN=(0,MN.Q)(),BN=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return/YaBrowser/.test((0,DP.i)(e))},UN=BN(),GN=r(83361),HN=r(81917),YN="MSE is not supported",qN="MSE didn't emit sourceopen event in 1 second",WN="detect.probe_mse_support.success",KN=(0,v_.I)((function(){if(void 0===VN)return GN.reject(new Error(YN));if(function(){if(!UN)return!1;try{return void 0!==window.top.WEB_NTP_VERSION}catch(hG){return!1}}())return GN.resolve(VN);if(xe(WN),xe("detect.probe_mse_support.fail"),function(){try{var e=mx.t.getItem("videoplayer-supported-mse");if(null===e)return;var t=JSON.parse(e),r=t.value,n=t.time,o=t.version;if(Date.now()-n>2592e5)return void mx.t.removeItem("videoplayer-supported-mse");if("1"!==o)return;return r||void 0}catch(i){return}}())return Re(WN),GN.resolve(VN);var e,t,r=document.createElement("video"),n=new VN,o=HN.createObjectURL(n),i=new GN((function(i,a){e=function(){i(VN);try{mx.t.setItem("videoplayer-supported-mse",JSON.stringify({value:!0,time:Date.now(),version:"1"}))}catch(hG){}},t=function(e){return a(new Error(e))},n.addEventListener("sourceopen",e),r.addEventListener("error",(function(){return t(YN)})),r.addEventListener("durationchange",(function(){return t(YN)})),r.setAttribute("x-webkit-airplay","deny"),bR&&setTimeout((function(){return t(qN)}),1e3),r.src=o}));return i.then((function(){return Re(WN)})).catch((function(){return Re("detect.probe_mse_support.fail")})).then((function(){HN.revokeObjectURL(o),n.removeEventListener("sourceopen",e),r.removeEventListener("error",(function(){return t(YN)})),r.removeEventListener("durationchange",(function(){return t(YN)}))})),i}));(0,mP.v)(KN());var zN,QN,ZN,$N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=(0,DP.i)(e).toLowerCase();return/yandexstation.*yandexio/.test(t)||/station.*crosswalk/.test(t)}(),JN=["mp4","webm"],XN=["vp09.00.50.08.00.02.02.02.00","vp09.00.31.08.00.02.02.02.00","hev1.1.6.L150.90","hev1.1.6.L93.90","avc1.640028","avc1.64001F"],eF=["mp4","ogg","webm"],tF=["mp4a.40.2","vorbis","opus","flac"],rF=r(83361),nF={supported:!0,engine:hT.NATIVE},oF={supported:!0,engine:hT.HLS},iF=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return/Chrome/.test(e.navigator.userAgent)&&/Google Inc/.test(e.navigator.vendor)&&!BN(e)}(),aF=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return/firefox/.test(e.navigator.userAgent.toLowerCase())}();!function(e){e.fairplay="fairplay",e.playready="playready",e.widevine="widevine",e.clearkey="clearkey",e.none="none"}(QN||(QN={}));var uF,cF,sF,lF=(od(ZN={},QN.fairplay,[jx.D,jx.h9,jx.oo]),od(ZN,QN.widevine,[jx.ly]),od(ZN,QN.playready,[jx.xE]),od(ZN,QN.clearkey,[jx.dn]),od(ZN,QN.none,[]),ZN),fF=(uF=(0,ej.z)(lF),[].concat.apply([],uF)),dF=[{initDataTypes:["cenc"],audioCapabilities:[{contentType:'audio/mp4;codecs="mp4a.40.2"'}],videoCapabilities:[{contentType:'video/mp4; codecs="avc1.42E01E"'}]}],hF=r(83361);!function(e){e.YandexBrowserLinux="YandexBrowserLinux",e.OldYandexBrowser="OldYandexBrowser",e.WebKitMediaKeys="WebKitMediaKeys",e.requestMediaKeySystemAccess="requestMediaKeySystemAccess",e.MSMediaKeys="MSMediaKeys",e.GenerateKeyRequest="GenerateKeyRequest",e.Constant="Constant",e.NotAvailable="NotAvailable",e.LiteMode="LiteMode"}(cF||(cF={}));var pF,vF,yF=r(83361),mF=[],gF=function(){var e,t=(e=Ad().mark((function e(t){var r,n,o;return Ad().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.video,n=Pd(),xe("detect.drm"),e.t0=n,e.t0){e.next=8;break}return e.next=7,Od({video:r});case 7:e.t0=e.sent;case 8:return o=e.t0,mF.forEach((function(e){return e(o)})),mF.length=0,pF=o,void 0===n&&xd(o),Re("detect.drm"),e.abrupt("return",o.supportedDrmSystems);case 15:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new yF((function(n,o){function i(e){Td(u,n,o,i,a,"next",e)}function a(e){Td(u,n,o,i,a,"throw",e)}var u=e.apply(t,r);i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),bF=(0,v_.I)(gF),wF=r(83361),SF=document.createElement("video"),EF={supported:!0,engine:hT.YASP},OF=[jx.ly,jx.xE,jx.dn],kF=(r(81917),r(83361)),_F=r(83361),AF=r(6437),TF=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;if((0,AF.B)(e)){var t=(0,DP.i)(e),r=t.match(/version\/([\d]+)\.([\d]+)/i);if(!r)return{major:-1,minor:-1};var n=Jd(r,3),o=n[1],i=n[2];return{major:parseInt(o,10),minor:parseInt(i,10)}}return{major:-1,minor:-1}}(),PF=r(47286),xF=[jx.ly],RF=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;if((0,gR.P)(e)&&e.navigator){var t=(0,DP.i)(e),r=t.match(/OS ([\d]+)_([\d]+)_?(\d+)?/i);if(!r)return{major:-1,minor:-1};var n=eh(r,3),o=n[1],i=n[2];return{major:parseInt(o,10),minor:parseInt(i,10)}}return{major:-1,minor:-1}}(),LF=r(83361),jF=r(9140),IF=r(83361),CF=r(83361),DF={destroy:gT.Z,setStatsRootFields:gT.Z,dispatchEvent:gT.Z,getNextAdInfo:function(){},preroll:{loadViewers:function(){return CF.resolve([])}},midroll:{loadViewers:function(){return CF.resolve([])}},inroll:{loadViewers:function(){return CF.resolve([])},schedule:gT.Z},postroll:{loadViewers:function(){return CF.resolve([])}},postPauseroll:{loadViewers:function(){return CF.resolve([])}}},NF=[{end:0,name:"invalid"},{end:750,name:"750)"},{end:1250,name:"[750-1250)"},{end:2e3,name:"[1250-2000)"},{end:3500,name:"[2000-3500)"},{end:5500,name:"[3500-5500)"},{end:9e3,name:"[5500-9000)"},{end:1e6,name:"[9000"},{end:1/0,name:"infinity"}],FF=[{end:0,name:"invalid"},{end:100,name:"100"},{end:250,name:"250"},{end:500,name:"500"},{end:750,name:"750"},{end:1e3,name:"1000"},{end:1500,name:"1500"},{end:2500,name:"2500"},{end:5e3,name:"5000"},{end:1/0,name:"infinity"}],MF=r(91595),VF=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.length=t,function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"list",[])}var t,r,n;return t=e,(r=[{key:"push",value:function(e){this.list.length>=this.length&&this.list.shift(),this.list.push(e)}},{key:"getAll",value:function(){return this.list}},{key:"clear",value:function(){this.list.length=0}},{key:"copy",value:function(){var t=new e(this.length);return t.list=this.list.slice(),t}},{key:"has",value:function(e){return-1!==this.list.indexOf(e)}},{key:"size",value:function(){return this.list.length}}])&&Ah(t.prototype,r),n&&Ah(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),BF=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Ch(r=i.call(this)),"history",new VF(100)),r.addDestroyHandler((0,aj.O)(e,"logposted",(function(e){hC.log("chrome://media-internals event",e.data),r.history.push(e.data)}))),r.addDestroyHandler((function(){r.history=null})),r}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lh(e,t)}(t,e);var r,n,o,i=jh(t);return r=t,(n=[{key:"getHistory",value:function(){return this.history?Ph(this.history.getAll()):["MediaInternalsHistory is destroyed"]}}])&&Rh(r.prototype,n),o&&Rh(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(tI),UF=function(e,t){try{sessionStorage.setItem(e,t)}catch(pG){}},GF=function(e){try{return sessionStorage.getItem(e)}catch(pG){return null}},HF=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Gh(this,"videoContentId",void 0),Gh(this,"lastProgress",void 0)}var t,r,n;return t=e,(r=[{key:"setVideoContentId",value:function(e){this.lastProgress=void 0,this.videoContentId=e}},{key:"clearVideoContentId",value:function(){this.lastProgress=void 0,this.videoContentId=void 0}},{key:"getProgress",value:function(){if(this.videoContentId){var e=Vh(this.videoContentId);if((0,TT.z)(e))return e}}},{key:"saveProgress",value:function(e){this.videoContentId&&("number"===typeof this.lastProgress&&Math.abs(this.lastProgress-e)<1||(this.lastProgress=e,Bh(this.videoContentId,e)))}}])&&Uh(t.prototype,r),n&&Uh(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),YF=r(88150),qF=jj(window).windowChain,WF=r(62058),KF=function(e){return e.devicePixelRatio||e.screen.deviceXDPI&&e.screen.deviceXDPI/e.screen.logicalXDPI||1},zF=(0,r(44885).y)(),QF=(0,r(85348).F)(),ZF=(0,r(12917).V)(),$F=r(83361),JF=(0,v_.I)(function(){var e,t=(e=$h().mark((function e(t){var r,n,o,i;return $h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=KF(t),zF){e.next=3;break}return e.abrupt("return",r);case 3:if(n=t.tizen){e.next=6;break}return e.abrupt("return",r);case 6:return o=t.screen.height,e.prev=7,e.next=10,new $F((function(e){n.systeminfo.getPropertyValue("PANEL",(function(t){return e(t.panelHeight)}))}));case 10:if(i=e.sent){e.next=13;break}return e.abrupt("return",r);case 13:return e.abrupt("return",i/o);case 16:return e.prev=16,e.t0=e.catch(7),e.abrupt("return",r);case 19:case"end":return e.stop()}}),e,null,[[7,16]])})),function(){var t=this,r=arguments;return new $F((function(n,o){function i(e){Jh(u,n,o,i,a,"next",e)}function a(e){Jh(u,n,o,i,a,"throw",e)}var u=e.apply(t,r);i(void 0)}))});return function(e){return t.apply(this,arguments)}}()),XF=(0,v_.I)((function(e){var t=KF(e);if(!QF)return t;var r=e.Hisense_GetPanelResolution,n=e.Hisense_Get4KSupportState;if(n&&n()&&(t=2),!r)return t;var o=e.screen.height;try{var i=r(),a=eM(i).height;return a?a/o:t}catch(hG){return t}})),eM=function(e){var t=e.split("*");return{height:parseInt(t[1],10),width:parseInt(t[0],10)}},tM=r(83361),rM=(0,v_.I)(function(){var e,t=(e=ep().mark((function e(t){var r,n,o,i;return ep().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=KF(t),ZF){e.next=3;break}return e.abrupt("return",r);case 3:if(n=t.webOS){e.next=6;break}return e.abrupt("return",r);case 6:return o=t.screen.height,e.prev=7,e.next=10,new tM((function(e){n.deviceInfo((function(t){return e(t.screenHeight)}))}));case 10:if(i=e.sent){e.next=13;break}return e.abrupt("return",r);case 13:return e.abrupt("return",i/o);case 16:return e.prev=16,e.t0=e.catch(7),e.abrupt("return",r);case 19:case"end":return e.stop()}}),e,null,[[7,16]])})),function(){var t=this,r=arguments;return new tM((function(n,o){function i(e){tp(u,n,o,i,a,"next",e)}function a(e){tp(u,n,o,i,a,"throw",e)}var u=e.apply(t,r);i(void 0)}))});return function(e){return t.apply(this,arguments)}}()),nM=r(83361),oM=function(e){return zF?JF(e):ZF?rM(e):QF?nM.resolve(XF(e)):nM.resolve(KF(e))},iM=0,aM=np((function e(t){var r=t.label,n=void 0===r?"":r,o=t.language,i=void 0===o?"":o,a=t.id,u=void 0===a?"media-track-".concat(iM++):a,c=t.sourceBuffer,s=void 0===c?null:c,l=t.props,f=void 0===l?void 0:l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),op(this,"label",void 0),op(this,"id",void 0),op(this,"language",void 0),op(this,"kind",""),op(this,"props",void 0),op(this,"sourceBuffer",null),this.label=n,this.language=i,this.id=u,this.sourceBuffer=s,this.props=f})),uM=["enabled","bitrate","channels"],cM=function(e){function t(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.enabled,o=void 0!==n&&n,a=r.bitrate,u=r.channels,c=ap(r,uM);return up(this,t),pp(dp(e=i.call(this,c)),"_enabled",!1),pp(dp(e),"bitrate",void 0),pp(dp(e),"channels",void 0),pp(dp(e),"onenabledchange",void 0),e._enabled=o,e.bitrate=a,e.channels=u,e}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sp(e,t)}(t,e);var r,n,o,i=lp(t);return r=t,(n=[{key:"_destroy",value:function(){delete this.onenabledchange}},{key:"enabled",get:function(){return this._enabled},set:function(e){var t;"boolean"===typeof e&&e!==this._enabled&&(this._enabled=e,null===(t=this.onenabledchange)||void 0===t||t.call(this))}}])&&cp(r.prototype,n),o&&cp(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(aM),sM=r(40313),lM=function(e){function t(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];mp(this,t),kp(Ep(e=i.call(this)),"tracks",[]),kp(Ep(e),"_changing",!1);for(var n=0;n<r.length;n++)e.addTrack(r[n]);return e}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bp(e,t)}(t,e);var r,n,o,i=wp(t);return r=t,(n=[{key:"length",get:function(){return this.tracks.length}},{key:"addTrack",value:function(e){var t=this;if(-1===this.tracks.indexOf(e)){var r=this.tracks.length;Object.defineProperty(this,r,{get:function(){return t.tracks[r]},enumerable:!1,configurable:!0}),this.tracks.push(e),this.dispatchTrackEvent("addtrack",e)}}},{key:"removeTrack",value:function(e){var t,r=this.tracks.indexOf(e);if(-1!==r){null===(t=e._destroy)||void 0===t||t.call(e);var n=this.tracks.length-1;String(n)in this&&Object.defineProperty(this,n,{get:void 0,enumerable:!1,configurable:!0}),this.tracks.splice(r,1),this.dispatchTrackEvent("removetrack",e)}}},{key:"getTrackById",value:function(e){return this.tracks.find((function(t){return t.id===e}))||null}},{key:"item",value:function(e){return this.tracks[e]}},{key:"dispatchTrackEvent",value:function(e,t){var r=vp(e);r.track=t,this.dispatchEvent(r)}}])&&gp(r.prototype,n),o&&gp(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(sM.Z),fM=function(e){function t(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Ap(this,t);for(var n=r.length-1;n>=0;n--)if(r[n].enabled){Np(r,r[n]);break}return Dp(Ip(e=i.call(this,r)),"onaddtrack",void 0),Dp(Ip(e),"onchange",void 0),Dp(Ip(e),"onremovetrack",void 0),e.onaddtrack=null,e.onchange=null,e.onremovetrack=null,e.addEventListener("change",(function(t){var r,n;return null===(r=(n=e).onchange)||void 0===r?void 0:r.call(n,t)})),e.addEventListener("addtrack",(function(t){var r,n;return null===(r=(n=e).onaddtrack)||void 0===r?void 0:r.call(n,t)})),e.addEventListener("removetrack",(function(t){var r,n;return null===(r=(n=e).onremovetrack)||void 0===r?void 0:r.call(n,t)})),e}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rp(e,t)}(t,e);var r,n,o,i=Lp(t);return r=t,(n=[{key:"addTrack",value:function(e){var r=this;e.enabled&&Np(this,e),Pp(Cp(t.prototype),"addTrack",this).call(this,e),e.onenabledchange=function(){r._changing||(r._changing=!0,Np(r,e),r._changing=!1,r.dispatchEvent(vp("change")))}}},{key:"addEventListener",value:function(e,r,n){Pp(Cp(t.prototype),"addEventListener",this).call(this,e,r,n)}},{key:"removeEventListener",value:function(e,r,n){Pp(Cp(t.prototype),"removeEventListener",this).call(this,e,r,n)}}])&&Tp(r.prototype,n),o&&Tp(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(lM),dM=["selected","width","height","bitrate","frameRate"],hM=function(e){function t(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.selected,o=void 0!==n&&n,a=r.width,u=r.height,c=r.bitrate,s=r.frameRate,l=Vp(r,dM);return Bp(this,t),Kp(qp(e=i.call(this,l)),"_selected",!1),Kp(qp(e),"width",void 0),Kp(qp(e),"height",void 0),Kp(qp(e),"bitrate",void 0),Kp(qp(e),"frameRate",void 0),Kp(qp(e),"onselectedchange",void 0),e.selected=o,e.bitrate=c,e.frameRate=s,e.width=a,e.height=u,e}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gp(e,t)}(t,e);var r,n,o,i=Hp(t);return r=t,(n=[{key:"_destroy",value:function(){delete this.onselectedchange}},{key:"selected",get:function(){return this._selected},set:function(e){var t;"boolean"===typeof e&&e!==this._selected&&(this._selected=e,null===(t=this.onselectedchange)||void 0===t||t.call(this))}}])&&Up(r.prototype,n),o&&Up(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(aM),pM=function(e){function t(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Qp(this,t);for(var n=r.length-1;n>=0;n--)if(r[n].selected){iv(r,r[n]);break}return ov(rv(e=i.call(this,r)),"onaddtrack",void 0),ov(rv(e),"onchange",void 0),ov(rv(e),"onremovetrack",void 0),e.onaddtrack=null,e.onchange=null,e.onremovetrack=null,e.addEventListener("change",(function(t){var r,n;return null===(r=(n=e).onchange)||void 0===r?void 0:r.call(n,t)})),e.addEventListener("addtrack",(function(t){var r,n;return null===(r=(n=e).onaddtrack)||void 0===r?void 0:r.call(n,t)})),e.addEventListener("removetrack",(function(t){var r,n;return null===(r=(n=e).onremovetrack)||void 0===r?void 0:r.call(n,t)})),e}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xp(e,t)}(t,e);var r,n,o,i=ev(t);return r=t,(n=[{key:"addEventListener",value:function(e,r,n){$p(nv(t.prototype),"addEventListener",this).call(this,e,r,n)}},{key:"removeEventListener",value:function(e,r,n){$p(nv(t.prototype),"removeEventListener",this).call(this,e,r,n)}},{key:"selectedIndex",get:function(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1}},{key:"addTrack",value:function(e){var r=this;e.selected&&iv(this,e),$p(nv(t.prototype),"addTrack",this).call(this,e),e.onselectedchange=function(){r._changing||(r._changing=!0,iv(r,e),r._changing=!1,r.dispatchEvent(vp("change")))}}}])&&Zp(r.prototype,n),o&&Zp(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(lM),vM=r(81917).createObjectURL(new Blob(["WEBVTT"],{type:"text/vtt"})),yM=r(33157),mM=function(e){function t(e,r){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=i.call(this);var o={videoWidth:e.videoWidth,videoHeight:e.videoHeight},a=function(){var t=e.videoWidth,n=e.videoHeight;isNaN(t)||isNaN(n)||t<1||n<1||o.videoWidth===t&&o.videoHeight===n||(o={videoWidth:t,videoHeight:n},r({videoWidth:t,videoHeight:n}))};if("onresize"in e)e.addEventListener("resize",a),n.once("Destroy",(function(){return e.removeEventListener("resize",a)}));else{e.addEventListener("timeupdate",a),n.once("Destroy",(function(){return e.removeEventListener("timeupdate",a)}));var u=setInterval(a,1e3);n.once("Destroy",(function(){return clearInterval(u)}))}return n}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cv(e,t)}(t,e);var r,n,o,i=sv(t);return r=t,n&&uv(r.prototype,n),o&&uv(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r}(PL.M),gM={droppedVideoFrames:0,corruptedVideoFrames:0,totalVideoFrames:0},bM=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ov(Sv(r=i.call(this)),"video",void 0),Ov(Sv(r),"playbackQuality",gM),Ov(Sv(r),"persistedPlaybackQuality",gM),Ov(Sv(r),"accumulatedPlaybackQuality",gM),r.video=e,r.addDestroyHandler((function(){r.reset(),r.video=void 0})),r}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gv(e,t)}(t,e);var r,n,o,i=bv(t);return r=t,(n=[{key:"update",value:function(){if(this.video){var e=vv(this.video);this.playbackQuality=e,0!==this.persistedPlaybackQuality.totalVideoFrames&&(this.persistedPlaybackQuality.totalVideoFrames>e.totalVideoFrames&&(this.accumulatedPlaybackQuality={droppedVideoFrames:this.accumulatedPlaybackQuality.droppedVideoFrames+this.persistedPlaybackQuality.droppedVideoFrames,corruptedVideoFrames:this.accumulatedPlaybackQuality.corruptedVideoFrames+this.persistedPlaybackQuality.corruptedVideoFrames,totalVideoFrames:this.accumulatedPlaybackQuality.totalVideoFrames+this.persistedPlaybackQuality.totalVideoFrames}),this.persistedPlaybackQuality=gM)}}},{key:"persist",value:function(){0!==this.playbackQuality.totalVideoFrames&&(this.persistedPlaybackQuality=this.playbackQuality,this.playbackQuality=gM)}},{key:"reset",value:function(){this.playbackQuality=gM,this.persistedPlaybackQuality=gM,this.accumulatedPlaybackQuality=gM}},{key:"getPlaybackQuality",value:function(){return this.persistedPlaybackQuality.totalVideoFrames>0?gM:{droppedVideoFrames:this.playbackQuality.droppedVideoFrames+this.accumulatedPlaybackQuality.droppedVideoFrames,corruptedVideoFrames:this.playbackQuality.corruptedVideoFrames+this.accumulatedPlaybackQuality.corruptedVideoFrames,totalVideoFrames:this.playbackQuality.totalVideoFrames+this.accumulatedPlaybackQuality.totalVideoFrames}}}])&&mv(r.prototype,n),o&&mv(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(tI),wM=function(){function e(t,r){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),_v(this,"callback",void 0),_v(this,"intervalId",void 0),_v(this,"playbackQualityController",void 0),_v(this,"oldValues",{}),_v(this,"dprCheckingInProgress",!1),_v(this,"tick",(function(){var e;null===(e=n.playbackQualityController)||void 0===e||e.update();var t=n.getFramesValue();void 0!==t&&n.callback("frames",t),n.checkDevicePixelRatio()})),this.callback=r,this.playbackQualityController=new bM(t),this.intervalId=null}var t,r,n;return t=e,(r=[{key:"getFramesValue",value:function(){var e,t;if(null!==this.playbackQualityController&&null!==this.oldValues){var r=this.playbackQualityController.getPlaybackQuality(),n=r.droppedVideoFrames,o=r.totalVideoFrames;if((null===(e=this.oldValues.frames)||void 0===e?void 0:e.dropped)!==n||(null===(t=this.oldValues.frames)||void 0===t?void 0:t.total)!==o)return this.oldValues.frames={dropped:Math.max(Math.floor(n)),total:Math.max(Math.floor(o))},this.oldValues.frames}}},{key:"checkDevicePixelRatio",value:function(){var e=this;if(null!==this.oldValues&&!this.dprCheckingInProgress){var t="undefined"!==typeof globalThis?globalThis:window;this.oldValues.devicePixelRatio||this.handleDpr(KF(t)),this.dprCheckingInProgress=!0,oM(t).then((function(t){e.handleDpr(t)})).catch((function(){e.handleDpr(KF(t))}))}}},{key:"handleDpr",value:function(e){this.dprCheckingInProgress=!1,null!==this.oldValues&&this.oldValues.devicePixelRatio!==e&&(this.oldValues.devicePixelRatio=e,void 0!==e&&this.callback("devicePixelRatio",e))}},{key:"enable",value:function(){this.tick(),this.intervalId=setInterval(this.tick,250)}},{key:"disable",value:function(){var e;this.oldValues={},null===(e=this.playbackQualityController)||void 0===e||e.persist(),clearInterval(this.intervalId)}},{key:"destroy",value:function(){var e;this.disable(),null===(e=this.playbackQualityController)||void 0===e||e.destroy(),this.callback=gT.Z,this.oldValues=null}}])&&kv(t.prototype,r),n&&kv(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),SM=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),xv(this,"observer",void 0),xv(this,"lastValue",void 0),xv(this,"video",void 0),xv(this,"onChangeCallbacks",[]),this.video=t,this.lastValue=this.computeObjectFit(),this.observer=new MutationObserver((function(e){var t,n=Av(e);try{for(n.s();!(t=n.n()).done;){var o=t.value;"attributes"!==o.type||"class"!==o.attributeName&&"style"!==o.attributeName||function(){var e=r.computeObjectFit();r.lastValue!==e&&(r.lastValue=e,r.onChangeCallbacks.forEach((function(t){return t(e)})))}()}}catch(i){n.e(i)}finally{n.f()}})),this.observer.observe(t,{attributes:!0,attributeFilter:["class","style"]})}var t,r,n;return t=e,(r=[{key:"computeObjectFit",value:function(){if(!this.video)throw new Error("No video-element to compute object-fit");return self.getComputedStyle(this.video).getPropertyValue("object-fit")}},{key:"getObjectFit",value:function(){return this.lastValue}},{key:"onChange",value:function(e){this.onChangeCallbacks.push(e)}},{key:"destroy",value:function(){var e;null===(e=this.observer)||void 0===e||e.disconnect(),this.observer=null,this.video=null,this.onChangeCallbacks=[]}}])&&Pv(t.prototype,r),n&&Pv(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),EM={attributes:!0,childList:!1,subtree:!1,attributeFilter:["loop"]},OM=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"observer",void 0),this.observer=new MutationObserver((function(e){var n,o=Rv(e);try{for(o.s();!(n=o.n()).done;){var i=n.value;if("attributes"!==i.type)return;var a=i.attributeName;r(a,t[a])}}catch(u){o.e(u)}finally{o.f()}})),this.observer.observe(t,EM)}var t,r,n;return t=e,(r=[{key:"destroy",value:function(){var e;null===(e=this.observer)||void 0===e||e.disconnect(),this.observer=null}}])&&jv(t.prototype,r),n&&jv(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),kM=zj||bP?function(e,t){var r=e.paused;return Ec((function(){e.paused!==r&&(r=e.paused,t(r))}))}:function(e,t){var r=e.paused,n=function(e){var n="pause"===e.type;n!==r&&t(r=n)},o=(0,aj.O)(e,"pause",n,{passive:!0}),i=(0,aj.O)(e,"playing",n,{passive:!0}),a=(0,aj.O)(e,"play",n,{passive:!0});return function(){o(),i(),a()}},_M=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Cv(this,"unsubscribers",[]),Cv(this,"media",void 0),Cv(this,"destroy",(function(){Xe(r.unsubscribers)})),this.unsubscribers=[],this.media=t}var t,r,n;return t=e,(r=[{key:"observe",value:function(e){var t=this,r=kM(this.media,e),n=function e(){r(),t.unsubscribers=t.unsubscribers.filter((function(t){return t!==e}))};return this.unsubscribers.push(n),n}}])&&Iv(t.prototype,r),n&&Iv(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),AM=r(53396),TM=function(e,t){if(!e||!e.length)return null;if(1===e.length&&e.end(0)-e.start(0)<1e-6)return null;for(var r=0;r<e.length;r++)if(e.start(r)>t&&(0===r||e.end(r-1)-t<=.5))return r;return null},PM=function(e,t,r){var n=!1,o=function(){var o=xM(e,n?.3:.15,r);o!==n&&t(n=o)},i=Ec(o),a=setTimeout(o,0);return function(){i(),clearTimeout(a)}},xM=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15,r=arguments.length>2?arguments[2]:void 0,n=e.currentTime,o=e.duration;if(e.readyState<e.HAVE_FUTURE_DATA)return!0;var i=null!==TM(e.buffered,e.currentTime);return(!i||!r)&&!(0,AM.w)(e).some((function(e){var r=e.start,i=e.end;return!(n<r||n>i)&&(o<=i||n+t<i)}))},RM=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Nv(this,"unsubscribers",[]),Nv(this,"media",void 0),Nv(this,"destroy",(function(){Xe(r.unsubscribers)})),this.unsubscribers=[],this.media=t}var t,r,n;return t=e,(r=[{key:"observe",value:function(e){var t=this,r=PM(this.media,e),n=function e(){r(),t.unsubscribers=t.unsubscribers.filter((function(t){return t!==e}))};return this.unsubscribers.push(n),n}}])&&Dv(t.prototype,r),n&&Dv(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),LM=function(e){function t(e,r){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),zv(Wv(n=i.call(this,e,r)),"intervalWatcher",null),zv(Wv(n),"videoSizeObserver",null),zv(Wv(n),"videoSizeSensor",null),zv(Wv(n),"objectFitObserver",null),zv(Wv(n),"handleIntervalUpdate",(function(e,t){switch(e){case"frames":return void n.handleFrames(t);case"devicePixelRatio":return void n.handleDevicePixelRatio(t)}})),zv(Wv(n),"handleVideoResize",(function(){if(null===n.yaspMediaElement)throw new Error("Unexpected subscription call after destroy");n.notify("updateVideoSize",{height:Math.max(Math.floor(n.yaspMediaElement.videoHeight)),width:Math.max(Math.floor(n.yaspMediaElement.videoWidth))})})),zv(Wv(n),"handleResize",(function(e,t){if(null===n.yaspMediaElement)throw new Error("Unexpected subscription call after destroy");n.notify("updateContainerSize",{height:Math.max(Math.floor(t),0),width:Math.max(Math.floor(e),0)})})),zv(Wv(n),"handleObjectFit",(function(e){n.notify("updateObjectFit",e)})),n.yaspMediaElement=e,n.intervalWatcher=new wM(n.yaspMediaElement,n.handleIntervalUpdate),n}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hv(e,t)}(t,e);var r,n,o,i=Yv(t);return r=t,(n=[{key:"enable",value:function(){var e=this;if(null!==this.intervalWatcher){Uv(Kv(t.prototype),"enable",this).call(this),this.intervalWatcher.enable(),this.videoSizeObserver=new mM(this.yaspMediaElement,this.handleVideoResize),this.videoSizeSensor=new cC(this.yaspMediaElement),this.videoSizeSensor.onResize.add((function(t){var r=t.width,n=t.height;return e.handleResize(r,n)})),this.objectFitObserver=new SM(this.yaspMediaElement),this.objectFitObserver.onChange(this.handleObjectFit);var r=this.videoSizeSensor.getSize();this.handleResize(r.width,r.height)}}},{key:"disable",value:function(){var e,r,n;null!==this.intervalWatcher&&(Uv(Kv(t.prototype),"disable",this).call(this),this.intervalWatcher.disable(),null===(e=this.videoSizeSensor)||void 0===e||e.destroy(),null===(r=this.videoSizeObserver)||void 0===r||r.destroy(),this.videoSizeObserver=null,null===(n=this.objectFitObserver)||void 0===n||n.destroy(),this.objectFitObserver=null)}},{key:"destroy",value:function(){var e;Uv(Kv(t.prototype),"destroy",this).call(this),null===(e=this.intervalWatcher)||void 0===e||e.destroy(),this.intervalWatcher=null}},{key:"handleFrames",value:function(e){if(null===this.yaspMediaElement)throw new Error("Unexpected notification call after destroy");this.notify("updateFrames",e)}},{key:"handleDevicePixelRatio",value:function(e){if(null===this.yaspMediaElement)throw new Error("Unexpected notification call after destroy");this.notify("updateDevicePixelRatio",e)}}])&&Bv(r.prototype,n),o&&Bv(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(function(){function e(t,r){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Mv(this,"yaspMediaElement",void 0),Mv(this,"notifyCallback",void 0),Mv(this,"notify",void 0),Mv(this,"attributeObserver",null),Mv(this,"pausedObserver",null),Mv(this,"bufferingObserver",null),Mv(this,"handlePaused",(function(e){n.notify("updatePaused",e)})),Mv(this,"handleBuffering",(function(e){n.notify("updateBuffering",e)})),Mv(this,"handleBuffered",(function(){if(null===n.yaspMediaElement)throw new Error("Unexpected subscription call after destroy");for(var e=[],t=n.yaspMediaElement.buffered,r=0;r<t.length;r++)e.push([t.start(r),t.end(r)]);n.notify("updateBuffered",e)})),Mv(this,"handleRatechange",(function(){if(null===n.yaspMediaElement)throw new Error("Unexpected subscription call after destroy");n.notify("updatePlaybackRate",n.yaspMediaElement.playbackRate)})),Mv(this,"handleTimeupdate",(function(){if(null===n.yaspMediaElement)throw new Error("Unexpected subscription call after destroy");n.notify("updateCurrentTime",Math.max(n.yaspMediaElement.currentTime,0))})),Mv(this,"handleDurationchange",(function(){if(null===n.yaspMediaElement)throw new Error("Unexpected subscription call after destroy");n.notify("updateDuration",Math.max(n.yaspMediaElement.duration,0))})),this.yaspMediaElement=t,this.notifyCallback=r,this.notify=function(e,t){n.notifyCallback&&n.notifyCallback(e,t)}}var t,r,n;return t=e,(r=[{key:"enable",value:function(){var e,t=this;null!==this.yaspMediaElement&&(this.disable(),this.yaspMediaElement.addEventListener("ratechange",this.handleRatechange,{passive:!0}),this.yaspMediaElement.addEventListener("timeupdate",this.handleTimeupdate,{passive:!0}),this.yaspMediaElement.addEventListener("seeking",this.handleTimeupdate,{passive:!0}),this.yaspMediaElement.addEventListener("durationchange",this.handleDurationchange,{passive:!0}),this.yaspMediaElement.addEventListener("progress",this.handleBuffered,{passive:!0}),this.attributeObserver=new OM(this.yaspMediaElement,(function(e,r){"loop"===e&&t.handleLoop(null!==r&&void 0!==r&&r)})),this.pausedObserver=new _M(this.yaspMediaElement),this.bufferingObserver=new RM(this.yaspMediaElement),this.pausedObserver.observe(this.handlePaused),this.bufferingObserver.observe(this.handleBuffering),this.handleLoop(null!==(e=this.yaspMediaElement.loop)&&void 0!==e&&e))}},{key:"disable",value:function(){var e,t,r;null!==this.yaspMediaElement&&(this.yaspMediaElement.removeEventListener("ratechange",this.handleRatechange),this.yaspMediaElement.removeEventListener("timeupdate",this.handleTimeupdate),this.yaspMediaElement.removeEventListener("seeking",this.handleTimeupdate),this.yaspMediaElement.removeEventListener("durationchange",this.handleDurationchange),this.yaspMediaElement.removeEventListener("progress",this.handleBuffered),null===(e=this.attributeObserver)||void 0===e||e.destroy(),this.attributeObserver=null,null===(t=this.pausedObserver)||void 0===t||t.destroy(),this.pausedObserver=null,null===(r=this.bufferingObserver)||void 0===r||r.destroy(),this.bufferingObserver=null)}},{key:"destroy",value:function(){this.disable(),this.yaspMediaElement=null,this.notifyCallback=null}},{key:"handleLoop",value:function(e){this.notify("updateLoop",e)}}])&&Fv(t.prototype,r),n&&Fv(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()),jM=r(43391),IM=r(83361),CM=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Zv(this,"externalEventTarget",new sM.Z),Zv(this,"internalEventTarget",new sM.Z),t({addEventListener:this.internalEventTarget.addEventListener.bind(this.internalEventTarget),removeEventListener:this.internalEventTarget.removeEventListener.bind(this.internalEventTarget),postMessage:function(e){var t=new MessageEvent("message",{data:e});IM.resolve().then((function(){return r.externalEventTarget.dispatchEvent(t)}))}})}var t,r,n;return t=e,(r=[{key:"addEventListener",value:function(e,t,r){this.externalEventTarget.addEventListener(e,t,r)}},{key:"removeEventListener",value:function(e,t,r){this.externalEventTarget.removeEventListener(e,t,r)}},{key:"terminate",value:function(){}},{key:"postMessage",value:function(e){this.internalEventTarget.dispatchEvent(new MessageEvent("message",{data:e}))}}])&&Qv(t.prototype,r),n&&Qv(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),DM=function(){function e(n){if(r[n])return r[n].exports;var o=r[n]={exports:{}};return t[n](o,o.exports,e),o.exports}var t=ENTRY_MODULE,r={};e.m=t,e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,{a:r}),r},e.d=function(t,r){for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},e.g=function(){if("[object Object]"===Object.prototype.toString.call(globalThis))return globalThis;try{return this||new Function("return this")()}catch(pG){if("[object Object]"===Object.prototype.toString.call(window))return window}}(),e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n=e(ENTRY_MODULE);return n.default||n};DM.toString();var NM=r(89501),FM=r(77521),MM=r(83361),VM=r(83361),BM=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ay(this,"workerPromise",void 0),ay(this,"handleTerminate",void 0),this.workerPromise=function e(t){var r,n=t.inline,o=t.path,i=t.workerInternal,a=t.workerConfig;if(!n)try{r=ty(o),(0,hP.t)(r.constructor)||(n=!0,r.terminate())}catch(l){n=!0}n&&(r=new CM(i));var u=new NM.A((function(e){r.postMessage(e,(0,FM._)(e))})),c=!1,s=new MM((function(t,s){var l=u.request({method:"initWorker",params:a}),f=function(u){c||n?console.error(u):(d(),r.terminate(),t(e({inline:!0,workerInternal:i,path:o,workerConfig:a})))},d=function(){r.removeEventListener("error",f)};l.then((function(){c=!0,d(),t({worker:r,rpc:u})})).catch(f),r.addEventListener("error",f),r.addEventListener("message",(function(e){u.handleMessage(e)}))}));return(0,mP.v)(s),s}({inline:!t.useWebWorker,path:43391,workerInternal:jM.Z,workerConfig:t.workerConfig}),this.handleTerminate=t.onTerminate}var t,r,n,o,i;return t=e,(r=[{key:"postMessage",value:(o=ny().mark((function e(){var t,r,n=arguments;return ny().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.workerPromise;case 2:t=e.sent,(r=t.worker).postMessage.apply(r,n);case 5:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new VM((function(r,n){function i(e){oy(u,r,n,i,a,"next",e)}function a(e){oy(u,r,n,i,a,"throw",e)}var u=o.apply(e,t);i(void 0)}))},function(){return i.apply(this,arguments)})},{key:"sendEvent",value:function(e){var t=e.method,r=e.params;return this.workerPromise.then((function(e){return e.rpc.sendEvent({method:t,params:r})}))}},{key:"request",value:function(e){var t=e.method,r=e.params;return this.workerPromise.then((function(e){return e.rpc.request({method:t,params:r})}))}},{key:"registerRpcHandler",value:function(e,t){var r=this;return this.workerPromise.then((function(r){return r.rpc.registerHandler(e,t)})),function(){return r.removeRpcHandler(e,t)}}},{key:"registerStaticRpcHandler",value:function(e,t){var r=this;return this.workerPromise.then((function(r){return r.rpc.registerStaticHandler(e,t)})),function(){return r.removeRpcHandler(e,t)}}},{key:"removeRpcHandler",value:function(e,t){this.workerPromise.then((function(r){return r.rpc.removeHandler(e,t)}))}},{key:"destroy",value:function(){var e=this;this.workerPromise.then((function(t){var r=t.worker,n=t.rpc;r.terminate(),n.destroy(),e.handleTerminate()}))}}])&&iy(t.prototype,r),n&&iy(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),UM=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),cy(this,"onTick",void 0),cy(this,"cancelPending",void 0),this.onTick=t,this.cancelPending=null}var t,r,n;return t=e,(r=[{key:"tickAfter",value:function(e){var t=this;this.stop();var r=!0,n=null;return this.cancelPending=function(){self.clearTimeout(n),r=!1},n=self.setTimeout((function(){r&&t.onTick()}),1e3*e),this}},{key:"stop",value:function(){this.cancelPending&&(this.cancelPending(),this.cancelPending=null)}}])&&uy(t.prototype,r),n&&uy(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),GM=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ly(this,"onTick",void 0),ly(this,"ticker",void 0),this.onTick=t,this.ticker=null}var t,r,n;return t=e,(r=[{key:"tickNow",value:function(){return this.stop(),this.onTick(),this}},{key:"tickAfter",value:function(e){var t=this;return this.stop(),this.ticker=new UM((function(){t.onTick()})).tickAfter(e),this}},{key:"tickEvery",value:function(e){var t=this;return this.stop(),this.ticker=new UM((function(){var r;null===(r=t.ticker)||void 0===r||r.tickAfter(e),t.onTick()})).tickAfter(e),this}},{key:"stop",value:function(){this.ticker&&(this.ticker.stop(),this.ticker=null)}}])&&sy(t.prototype,r),n&&sy(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),HM=function(){function e(t,r,n,o,i){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),py(this,"media",void 0),py(this,"timeline",void 0),py(this,"config",void 0),py(this,"stallDetector",void 0),py(this,"onEvent",void 0),py(this,"unsubscribe",void 0),py(this,"seekingEventReceived",void 0),py(this,"prevReadyState",void 0),py(this,"didFireLargeGap",void 0),py(this,"hadSegmentAppended",void 0),py(this,"locked",void 0),py(this,"gapJumpTimer",void 0),this.media=t,this.timeline=r,this.config=n,this.stallDetector=o,this.onEvent=i,this.seekingEventReceived=!1,this.prevReadyState=t.readyState,this.didFireLargeGap=!1,this.hadSegmentAppended=!1,this.locked=!1,this.unsubscribe=(0,aj.O)(t,"waiting",(function(){return a.onPollGapJump()}),!1),this.gapJumpTimer=new GM((function(){a.onPollGapJump()})).tickEvery(.25)}var t,r,n;return t=e,(r=[{key:"release",value:function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null),null!==this.gapJumpTimer&&(this.gapJumpTimer.stop(),this.gapJumpTimer=null),this.stallDetector&&(this.stallDetector.release(),this.stallDetector=null),this.onEvent=null,this.timeline=null,this.media=null}},{key:"configure",value:function(e){this.config=dy(dy({},this.config),e)}},{key:"onSegmentAppended",value:function(){this.hadSegmentAppended=!0,this.onPollGapJump()}},{key:"onSeeking",value:function(){this.seekingEventReceived=!0,this.hadSegmentAppended=!1,this.didFireLargeGap=!1}},{key:"lock",value:function(){this.locked=!0}},{key:"unlock",value:function(){this.locked=!1}},{key:"onPollGapJump",value:function(){var t,r,n,o,i;if(this.media&&(!this.locked||!(0,$P.RW)("yasp_no_source_abort_on_fake_seek"))&&0!==this.media.readyState){if(this.media.seeking){if(!this.seekingEventReceived)return}else this.seekingEventReceived=!1;if((!this.media.paused||null!==(t=this.config)&&void 0!==t&&t.jumpOnPause)&&(this.media.readyState!==this.prevReadyState&&(this.didFireLargeGap=!1,this.prevReadyState=this.media.readyState),null===(r=this.stallDetector)||void 0===r||!r.poll())){var a=(null===(n=this.config)||void 0===n?void 0:n.smallGapLimit)||.5,u=(null===(o=this.config)||void 0===o?void 0:o.largeGapLimit)||1/0,c=this.media.currentTime,s=this.media.buffered,l=TM(s,c);if(null!==l&&(0!==l||this.hadSegmentAppended)){var f=s.start(l);if(!(f>=((null===(i=this.timeline)||void 0===i?void 0:i.getSeekRangeEnd())||0))){var d=f-c,h=d<=a,p=!1;if(!(d<e.BROWSER_GAP_TOLERANCE)){if(!h&&!this.didFireLargeGap){var v,y;this.didFireLargeGap=!0;for(var m=[],g=0;g<this.media.buffered.length;g++)m.push([this.media.buffered.start(g),this.media.buffered.end(g)]);null===(v=this.onEvent)||void 0===v||v.call(this,{currentTime:c,gapSize:d,bufferedRanges:m}),null!==(y=this.config)&&void 0!==y&&y.jumpLargeGaps&&d<u&&(p=!0)}(h||p)&&(this.media.currentTime=f)}}}}}}}])&&hy(t.prototype,r),n&&hy(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();py(HM,"BROWSER_GAP_TOLERANCE",.001);var YM=r(95594),qM=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,n=[{key:"isBuffered",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!e||!e.length)return!1;if(1===e.length&&e.end(0)-e.start(0)<1e-6)return!1;if(t>e.end(e.length-1))return!1;for(var n=0;n<e.length;n++)if(t+r>=e.start(n)&&t-r<=e.end(n))return!0;return!1}},{key:"getTimeRanges",value:function(e){for(var t=[],r=0;r<e.length;r++)try{t.push({start:e.start(r),end:e.end(r)})}catch(pG){}return(0,YM.l)(t)}}],(r=null)&&vy(t.prototype,r),n&&vy(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),WM=r(41838),KM=new dL.B;(0,$P.aY)(KM.resolve);var zM=r(83361),QM=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,(r=[{key:"isInited",value:function(){return(0,$P.rg)().flagsInited}},{key:"waitForInit",value:function(){var e=this;return this.isInited()?zM.resolve(this.getConfig()):KM.promise.then((function(){return e.getConfig()}))}},{key:"getConfig",value:function(){var e=(0,$P.rg)(),t=e.flags,r=e.testids,n=e.slots;return{flags:(0,N_.K)(t)?JSON.parse(JSON.stringify(t)):{},testids:(0,I_.H)(r)?r.split(",").map(Number).filter(Boolean):[],slots:(0,I_.H)(n)?n:""}}}])&&my(t.prototype,r),n&&my(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),ZM=r(82640),$M=Date&&(0,OT.m)(Date.now)?function(){return Date.now()}:function(){return(new Date).getTime()},JM=(0,Yj.b)()?9e5:864e5,XM=["ewma","hlsjs"],eV=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=(0,DP.i)(e);return t.includes("CrKey")}(),tV=QF||ZF||zF,rV=function(){function e(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gT.Z,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Ey(this,e),ky(this,"video",void 0),ky(this,"wasMakingProgress",void 0),ky(this,"value",void 0),ky(this,"lastUpdateSeconds",void 0),ky(this,"didJump",void 0),ky(this,"didTryToEscape",void 0),ky(this,"didTryToEscapeSeekingStucking",void 0),ky(this,"skipOffset",void 0),ky(this,"stallThresholdSeconds",void 0),ky(this,"extraThresholdSeconds",void 0),ky(this,"onEvent",void 0),ky(this,"makePP",(function(){r.video&&(r.video.pause(),(0,mP.v)(r.video.play()))})),ky(this,"handleTVPoll",(function(e,t){return!!r.video&&(r.video.seeking?r.tryToEscapeSeekingStucking(e):e>=r.stallThresholdSeconds&&t&&!r.didJump?(r.onStall(),r.didJump=!0,r.value=r.video.currentTime,r.onEvent(),!0):!(!(e>=r.extraThresholdSeconds&&t)||r.didTryToEscape)&&r.tryToEscapeTVStucking())})),ky(this,"handlePoll",(function(e,t){if(!r.video)return!1;var n=e>=r.stallThresholdSeconds&&t&&!r.didJump;return n&&(r.onStall(),r.didJump=!0,r.value=r.video.currentTime,r.onEvent()),n})),this.video=t,this.wasMakingProgress=this.shouldBeMakingProgress(),this.value=null===t||void 0===t?void 0:t.currentTime,this.lastUpdateSeconds=Date.now()/1e3,this.didJump=!1,this.didTryToEscape=!1,this.didTryToEscapeSeekingStucking=!1,this.skipOffset=o,this.stallThresholdSeconds=i,this.extraThresholdSeconds=2*i,this.onEvent=n}var t,r,n;return t=e,(r=[{key:"release",value:function(){this.video=null,this.onEvent=gT.Z}},{key:"onStall",value:function(){this.video&&(ZF||zF||eV||!this.skipOffset?this.makePP():this.video.currentTime+=this.skipOffset)}},{key:"poll",value:function(){if(this.video){var e=this.shouldBeMakingProgress(),t=this.video.currentTime,r=Date.now()/1e3;(this.value!==t||this.wasMakingProgress!==e)&&(this.lastUpdateSeconds=r,this.value=t,this.wasMakingProgress=e,this.didJump=!1,this.didTryToEscape=!1,this.didTryToEscapeSeekingStucking=!1);var n=r-this.lastUpdateSeconds;return(tV?this.handleTVPoll:this.handlePoll)(n,e)}}},{key:"shouldBeMakingProgress",value:function(){return!!this.video&&!this.video.paused&&0!==this.video.playbackRate&&0!==this.video.buffered.length&&this.hasContentFor(this.video.currentTime)}},{key:"tryToEscapeTVStucking",value:function(){var e=this;if(!this.video)return!1;if(QF)return!(this.video.readyState<this.video.HAVE_ENOUGH_DATA)&&(this.didTryToEscape=!0,setTimeout((function(){var t;null!==(t=e.video)&&void 0!==t&&t.paused||e.makePP()}),2e3),!0);if(zF){var t=nc((0,AM.w)(this.video),this.video.currentTime);if(!t||t<7.5)return!1;if(this.video.readyState===this.video.HAVE_METADATA)return this.video.currentTime+=this.skipOffset,this.value=this.video.currentTime,this.didTryToEscape=!0,!0}return!1}},{key:"tryToEscapeSeekingStucking",value:function(e){return!(!this.video||this.didTryToEscapeSeekingStucking||!this.video.paused||e<this.extraThresholdSeconds)&&this.video.readyState===this.video.HAVE_METADATA&&(this.video.currentTime+=this.skipOffset,this.value=this.video.currentTime,this.didTryToEscapeSeekingStucking=!0,!0)}},{key:"hasContentFor",value:function(e){if(!this.video)return!1;var t,r=wy((0,AM.w)(this.video));try{for(r.s();!(t=r.n()).done;){var n=t.value,o=n.start,i=n.end;if(!(e<o-.1)&&!(e>i-.5))return!0}}catch(a){r.e(a)}finally{r.f()}return!1}}])&&Oy(t.prototype,r),n&&Oy(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),nV=r(67709),oV=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ay(this,"media",null),Ay(this,"wasNativeProgressEmited",{default:!1,onPause:!1}),Ay(this,"interval",null),Ay(this,"lastBufferedEnd",0),Ay(this,"onPoll",(function(){if(r.media){var e=r.media.buffered.length;if(e){var t=r.media.buffered.end(e-1);r.lastBufferedEnd<t&&r.emitProgress(),r.lastBufferedEnd=t}else r.lastBufferedEnd=0}})),Ay(this,"onProgress",(function(e){r.media&&("detail"in e&&e.detail.synthetic||(r.media.paused?r.wasNativeProgressEmited.onPause=!0:r.wasNativeProgressEmited.default=!0,r.shouldStopPolling()&&r.release()))})),this.media=t,t.addEventListener("progress",this.onProgress),this.interval=setInterval(this.onPoll,250)}var t,r,n;return t=e,(r=[{key:"shouldStopPolling",value:function(){return(0,ej.z)(this.wasNativeProgressEmited).every(Boolean)}},{key:"release",value:function(){var e;null===(e=this.media)||void 0===e||e.removeEventListener("progress",this.onProgress),this.interval&&(clearInterval(this.interval),this.interval=null),this.media=null}},{key:"emitProgress",value:function(){var e,t;this.shouldStopPolling()||(this.wasNativeProgressEmited.default||null!==(e=this.media)&&void 0!==e&&e.paused)&&(this.wasNativeProgressEmited.onPause||null===(t=this.media)||void 0===t||!t.paused)||this.dispatchSyntheticProgress()}},{key:"dispatchSyntheticProgress",value:function(){var e;null===(e=this.media)||void 0===e||e.dispatchEvent(new CustomEvent("progress",{detail:{synthetic:!0}}))}}])&&_y(t.prototype,r),n&&_y(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),iV=function(){function e(t,r){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.maxAttempts=r,Py(this,"remainingAttempts",0),Py(this,"originTime",0),Py(this,"targetTime",0),Py(this,"timer",new GM((function(){n.onTick()}))),Py(this,"media",void 0),this.media=t}var t,r,n;return t=e,(r=[{key:"release",value:function(){this.timer&&(this.timer.stop(),this.timer=null),this.media=null}},{key:"moveTo",value:function(e){this.media&&this.timer&&(this.originTime=this.media.currentTime,this.targetTime=e,this.remainingAttempts=this.maxAttempts,this.media.currentTime=e,this.timer.tickEvery(.1))}},{key:"onTick",value:function(){this.media&&this.timer&&(this.remainingAttempts<=0?this.timer.stop():this.media.currentTime===this.originTime?(this.media.currentTime=this.targetTime,this.remainingAttempts--):this.timer.stop())}}])&&Ty(t.prototype,r),n&&Ty(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),aV=r(40097),uV=r(33263),cV=["play","playing","pause","error","waiting","stalled","suspend","ended","loadstart","abort","loadedmetadata","loadeddata","canplay","canplaythrough","durationchange","seeking","seeked","encrypted","ratechange"],sV=["error","waiting","seeking","seeked","canplay","encrypted"],lV=function(){function e(t,r){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.media=t,this.getDump=r,Ry(this,"history",new uV.d(aV.K)),Ry(this,"handleEvent",(function(e){var t=e.type,r={event:t,timestamp:Date.now()};sV.includes(t)&&(r.dump=n.getDump()),n.history.push(r)})),this.subscribeToEvents()}var t,r,n;return t=e,(r=[{key:"subscribeToEvents",value:function(){var e=this;cV.forEach((function(t){e.media.addEventListener(t,e.handleEvent)}))}},{key:"release",value:function(){var e=this;cV.forEach((function(t){e.media.removeEventListener(t,e.handleEvent)}))}},{key:"getEventHistory",value:function(){return this.history.toArray()}},{key:"pushCustomEvent",value:function(e){this.history.push(e)}}])&&xy(t.prototype,r),n&&xy(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),fV=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Iy(this,"yaspMedia",void 0),Iy(this,"detachedSrcInternal",void 0),Iy(this,"airplaySrcInternal",void 0),Iy(this,"airplayEnabled",void 0),Iy(this,"lastSetSrcTime",void 0),Iy(this,"onAirplayStateChange",void 0),this.airplayEnabled=t.webkitCurrentPlaybackTargetIsWireless,this.onAirplayStateChange=r,this.yaspMedia=t,this.setUpAirplay()}var t,r,n;return t=e,(r=[{key:"airplaySrc",get:function(){return this.airplaySrcInternal},set:function(e){this.airplaySrcInternal=e,this.airplayEnabled&&e&&(this.lastSetSrcTime=A_(),this.yaspMedia.src=e,this.yaspMedia.play())}},{key:"detachedSrc",get:function(){return this.detachedSrcInternal},set:function(e){this.detachedSrcInternal=e}},{key:"setUpAirplay",value:function(){var e,t=this;this.yaspMedia.setAttribute("x-webkit-airplay","allow"),this.yaspMedia.disableRemotePlayback=!0,this.yaspMedia.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",(function(r){var n=A_();if(!(t.lastSetSrcTime&&n-t.lastSetSrcTime<3e3)&&!(e&&n-e<2e3)){e=A_();var o=t.yaspMedia.currentTime;t.yaspMedia.disableRemotePlayback?(t.yaspMedia.disableRemotePlayback=!1,t.onAirplayStateChange(!0),t.airplayEnabled=!0,t.detachedSrc=t.yaspMedia.src,t.yaspMedia.src=t.airplaySrcInternal,t.yaspMedia.addEventListener("loadedmetadata",(function(){t.yaspMedia.currentTime=o,t.yaspMedia.play()}))):(t.airplayEnabled=!1,t.onAirplayStateChange(!1),t.yaspMedia.disableRemotePlayback=!0,t.yaspMedia.src=t.detachedSrc,t.yaspMedia.addEventListener("loadedmetadata",(function(){t.yaspMedia.currentTime=o,t.yaspMedia.play()})))}}))}}])&&jy(t.prototype,r),n&&jy(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),dV=r(83361),hV=r(83361),pV=$y(HTMLVideoElement),vV=function(e){function t(){var e;om(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return hm(fm(e=f.call.apply(f,[this].concat(n))),"videoTrackList",void 0),hm(fm(e),"unsubscribeTextTracksChange",void 0),hm(fm(e),"unsubscribeTextTracksAdd",void 0),hm(fm(e),"isLowLatency",!1),hm(fm(e),"serverTimeInfo",void 0),hm(fm(e),"streamEndTime",void 0),e}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cm(e,t)}(t,e);var r,n,o,i,a,u,c,s,l,f=sm(t);return r=t,n=[{key:"videoTracks",get:function(){var e;return this.yaspSrc?this.videoTrackList:null!==(e=am(dm(t.prototype),"videoTracks",this))&&void 0!==e?e:this.videoTrackList}},{key:"canPlayType",value:function(e){return t.isSupported()&&"application/dash+xml"===e?am(dm(t.prototype),"canPlayType",this).call(this,'video/mp4; codecs="avc1.42E01E"'):am(dm(t.prototype),"canPlayType",this).call(this,e)}},{key:"addEventListener",value:function(e,r,n){am(dm(t.prototype),"addEventListener",this).call(this,e,r,n)}},{key:"removeEventListener",value:function(e,r,n){am(dm(t.prototype),"removeEventListener",this).call(this,e,r,n)}},{key:"yaspRequestDebugInfo",value:(l=nm(Xy().mark((function e(){var r,n,o,i;return Xy().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.videoTracks,n=this.audioTracks,o=this.textTracks,i={videoElement:{audioTracks:(0,yP.w)(n),videoTracks:(0,yP.w)(r),textTracks:(0,yP.w)(o)}},e.t0=tm,e.t1=tm({},i),e.next=6,am(dm(t.prototype),"yaspRequestDebugInfo",this).call(this);case 6:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 8:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"detach",value:(s=nm(Xy().mark((function e(){var r,n;return Xy().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,am(dm(t.prototype),"detach",this).call(this);case 2:null===(r=this.unsubscribeTextTracksChange)||void 0===r||r.call(this),this.unsubscribeTextTracksChange=void 0,null===(n=this.unsubscribeTextTracksAdd)||void 0===n||n.call(this),this.unsubscribeTextTracksAdd=void 0;case 6:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"yaspPreloadSrc",value:(c=nm(Xy().mark((function e(r,n){return Xy().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.preloadSrc(r,n));case 1:case"end":return e.stop()}}),e)}))),function(e,t){return c.apply(this,arguments)})},{key:"yaspReleaseSrc",value:(u=nm(Xy().mark((function e(r){return Xy().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.releaseSrc(r));case 1:case"end":return e.stop()}}),e)}))),function(e){return u.apply(this,arguments)})},{key:"yaspSetVideoElementSizes",value:function(e){t.setVideoElementSizes(this.src,e)}},{key:"yaspDispatchEvent",value:function(e,r,n){var o=new CustomEvent(e,tm({detail:r},n));am(dm(t.prototype),"dispatchEvent",this).call(this,o)}},{key:"initVideoTrackList",value:function(){var e=this;if(void 0===this.videoTrackList){var r=new pM;r.addEventListener("change",(function(){var n=r[r.selectedIndex].id;t.configureSource(e.src,{tracks:{videoTrackId:n}});var o=new Event("change");(0,j_.Y)((function(){am(dm(t.prototype),"videoTracks",e).dispatchEvent(o)}))})),this.videoTrackList=r}}},{key:"initTextTrackList",value:function(){var e=this;QF&&(this.unsubscribeTextTracksAdd=(0,aj.O)(this.textTracks,"addtrack",(function(t){var r,n=t.track;"empty-yasp-text-track"===n.id&&"showing"===n.mode&&(n.mode="disabled",null===(r=e.findEmptyTextTrack())||void 0===r||r.remove())}))),this.unsubscribeTextTracksChange=(0,aj.O)(this.textTracks,"change",(function(r){for(var n=r.target,o={source:e.yaspSrc,track:null},i=n,a=0;a<i.length;a++){var u,c=i[a];"empty-yasp-text-track"!==c.id?"disabled"!==c.mode&&(t.removeCues(c),o.track={id:c.id,label:c.label,language:c.language,kind:c.kind}):null===(u=e.findEmptyTextTrack())||void 0===u||u.remove()}t.configureSource(e.src,{tracks:{textTrack:o.track}})}))}},{key:"findEmptyTextTrack",value:function(){return this.querySelector('track[id="'.concat("empty-yasp-text-track",'"]'))}},{key:"registerVideoRpcHandlers",value:function(){var e=this;this.registerRpcHandlerForInstance("changeVideoTracks",(function(t){var r=t.added;return t.removed.forEach((function(t){var r,n,o=null===(r=e.videoTrackList)||void 0===r?void 0:r.getTrackById(t);o&&(null===(n=e.videoTrackList)||void 0===n||n.removeTrack(o))})),r.forEach((function(t){var r,n,o,i=t.source,a=t.track,u=null===(r=e.videoTrackList)||void 0===r?void 0:r.getTrackById(a.id);Ly(e.yaspSrc,i)&&u||null===(n=e.videoTrackList)||void 0===n||n.addTrack(new hM({selected:a.selected,width:a.width,height:a.height,bitrate:a.bitrate,label:a.label,language:null!==(o=a.language)&&void 0!==o?o:void 0,frameRate:a.frameRate,id:a.id,kind:a.kind}))})),{done:!0,value:void 0}})),this.registerRpcHandlerForInstance("addTextTrack",(function(t){var r=e.getElementsByTagName("track"),n=(0,yP.w)(r).some((function(e){return e.id===t.track.id}));if(Ly(e.yaspSrc,t.source)&&n)return{done:!0,value:void 0};if(QF&&!e.findEmptyTextTrack()){var o=document.createElement("track");o.setAttribute("kind",t.track.kind),o.setAttribute("default","true"),o.setAttribute("id","empty-yasp-text-track"),o.src=vM,e.appendChild(o)}var i=document.createElement("track");return i.setAttribute("kind",t.track.kind),i.setAttribute("label",t.track.label),i.setAttribute("srclang",t.track.language),i.setAttribute("id",t.track.id),i.src=vM,e.appendChild(i),{done:!0,value:void 0}})),this.registerRpcHandlerForInstance("cuesAdded",(function(t){t.source;for(var r,n=t.cues,o=t.label,i=0;i<e.textTracks.length;i++)e.textTracks[i].label===o&&(r=e.textTracks[i]);return r?(n.forEach((function e(t){var n=new VTTCue(t.startTime,t.endTime,t.payload);r.addCue(n),(t.nestedCues||[]).forEach(e)})),{done:!0,value:void 0}):{done:!0,value:void 0}})),this.registerRpcHandlerForInstance("changeSelectedVideoTrack",(function(t){if(!e.videoTrackList)return{done:!0,value:void 0};var r=e.videoTrackList.getTrackById(t.trackId);return r?(r.selected=!0,{done:!0,value:void 0}):{done:!0,value:void 0}})),this.registerRpcHandlerForInstance("changeVideoType",(function(t){return e.yaspDispatchEvent("yasp-videoTypeChange",t.videoType,{cancelable:!0}),{done:!0,value:void 0}})),this.registerRpcHandlerForInstance("changeIsLowLatency",(function(t){return e.isLowLatency=t.isLowLatency,{done:!0,value:void 0}})),this.registerRpcHandlerForInstance("updateTargetLatency",(function(t){return e.yaspDispatchEvent("yasp-updateTargetLatency",t.latency,{cancelable:!0}),{done:!0,value:void 0}})),this.registerRpcHandlerForInstance("updateServerTime",(function(t){return e.serverTimeInfo?(e.serverTimeInfo.time=t.time,e.serverTimeInfo.getTime=(0,y_.u)()):e.serverTimeInfo={time:t.time,getTime:(0,y_.u)()},{done:!0,value:void 0}})),this.registerRpcHandlerForInstance("updateStreamEndTime",(function(t){return e.streamEndTime=t.time,{done:!0,value:void 0}}))}},{key:"initVideoStateNotifier",value:function(){var e=this;this.mediaStateNotifier=new LM(this,(function(r,n){null!==e.yasp&&t.worker.postMessage({jsonrpc:"2.0",method:r,sourceKey:(0,yM.Hi)(e.yaspSrc),params:n})})),this.mediaStateNotifier.enable()}},{key:"getServerTime",value:function(){if(this.serverTimeInfo&&this.serverTimeInfo.time)return(this.serverTimeInfo.time+this.serverTimeInfo.getTime())/1e3}},{key:"getStreamEndTime",value:function(){return this.streamEndTime?this.streamEndTime/1e3:null}},{key:"isLowLatencyLive",value:function(){return this.isLowLatency}},{key:"clearTextTrackList",value:function(){for(var e=0;e<this.textTracks.length;e++)this.textTracks[e].mode="disabled";for(var t=this.getElementsByTagName("track");t.length;)t[0].remove()}},{key:"clearTrackLists",value:function(){am(dm(t.prototype),"clearTrackLists",this).call(this),Fp(this.videoTrackList),this.clearTextTrackList()}},{key:"setSrc",value:function(e){am(dm(t.prototype),"setSrc",this).call(this,e),NN(e)&&t.setDevicePixelRatioForSource(e)}},{key:"restore",value:function(){am(dm(t.prototype),"restore",this).call(this),this.streamEndTime=void 0,this.serverTimeInfo=void 0,this.isLowLatency=!1}}],o=[{key:"setDevicePixelRatioForSource",value:function(e){t.worker.request({method:"setDevicePixelRatio",params:{source:e,devicePixelRatio:KF(window)}}).catch(gT.Z),oM(window).then((function(r){return t.worker.request({method:"setDevicePixelRatio",params:{source:e,devicePixelRatio:r}})})).catch(gT.Z)}},{key:"attach",value:function(e,r){if(t.isYaspVideoElement(e))return e;var n=pV.attachElement(t,e,r);return n.registerVideoRpcHandlers(),n.initVideoStateNotifier(),n.initVideoTrackList(),n.initTextTrackList(),pV.messenger.emit("yasp-event",{name:"YaspAttached",data:void 0}),n}},{key:"isYaspVideoElement",value:function(e){return!0===e.yasp}},{key:"preloadSrc",value:(a=nm(Xy().mark((function e(r,n){var o,i;return Xy().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=n.yaspSourceConfig)?t.configureSource(r,i):t.shouldSaveBandwidth&&t.worker.sendEvent({method:"configureSource",params:{source:r,config:{defaultBandwidthEstimate:t.getDefaultBandwidthEstimate()}}}),t.setDevicePixelRatioForSource(r),e.abrupt("return",t.worker.request({method:"load",params:{source:r,contentId:null===i||void 0===i||null===(o=i.offlineParams)||void 0===o?void 0:o.contentId}}));case 4:case"end":return e.stop()}}),e)}))),function(e,t){return a.apply(this,arguments)})},{key:"releaseSrc",value:(i=nm(Xy().mark((function e(r){return Xy().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.worker.request({method:"destroy",params:{source:r,reason:"ExternalApi"}}).catch(hC.warn));case 1:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)})},{key:"setVideoElementSizes",value:function(e,r){NN(e)&&t.configureSource(e,{videoSizes:r})}},{key:"getStats",value:function(){return tm(tm({},pV.getStats()),{},{maxCapAllowedVideoTrack:t.maxCapAllowedVideoTrack})}},{key:"worker",get:function(){var e=pV.worker;return e.registerStaticRpcHandler("updateMaxCapAllowedVideoTrack",(function(e){return t.maxCapAllowedVideoTrack=e.maxCapAllowedVideoTrack,{done:!0,value:void 0}})),pV.worker.registerStaticRpcHandler("workerInited",(function(e){return t.sourceLimit=e.sourceLimit,{done:!0,value:e.sourceLimit}})),e}},{key:"removeCues",value:function(e){if(e.cues)for(var t=e.cues,r=t.length-1;r>=0;r--){var n=t[r];n&&e.removeCue(n)}}}],n&&im(r.prototype,n),o&&im(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(pV);hm(vV,"maxCapAllowedVideoTrack",void 0),hm(vV,"sourceLimit",null);r(83361),r(81917),$y(HTMLAudioElement);var yV,mV=r(19071),gV=r(58828),bV={error:"",isFatal:!1,helpLink:""},wV=r(48932);!function(e){e.EXPIRED_SIGNATURE="EXPIRED_SIGNATURE",e.NEED_COOKIE="NEED_COOKIE",e.NEED_YATEAM_LOGIN="NEED_YATEAM_LOGIN",e.NEED_VIEW_PERMISSION="NEED_VIEW_PERMISSION"}(yV||(yV={}));var SV,EV=r(47751),OV=r(18535);!function(e){e.Temporary="temporary",e.Persistent="persistent"}(SV||(SV={}));var kV=r(56924),_V=r(80726),AV=r(83361),TV=function(e){function t(e,r,n,o){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(i=E.call(this)).video=e,i.config=r,i.onEvent=o,Mm(Nm(i),"session",void 0),Mm(Nm(i),"initPromise",void 0),Mm(Nm(i),"shouldStopOnEncrypted",!1),Mm(Nm(i),"mainEventUnsubscribers",[]),Mm(Nm(i),"currentDrmKeySystem",QN.none),Mm(Nm(i),"keySystem",void 0),Mm(Nm(i),"requestSync",(0,TI.l)()),Mm(Nm(i),"onError",void 0),i.onError=function(e){i.isDestroyed||(e.isFatal&&i.destroy(),n(e))},i.mainEventUnsubscribers.push(i.addEventListener(i.video,"encrypted",(function(e){i.logEvent("DrmEncrypted",{initDataType:e.initDataType}),i.removeSubscriptions(),i.onEncrypted(e.target)}),{once:!0})),i.mainEventUnsubscribers.push(i.addEventListener(i.video,"waitingforkey",(function(e){i.logEvent("DrmWaitingForKey",void 0),i.removeSubscriptions(),i.onEncrypted(e.target)}),{once:!0})),i.keySystem=null,i.logEvent("CreateDrmController",{config:r}),i}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Im(e,t)}(t,e);var r,n,o,i,a,u,c,s,l,f,d,h,p,v,y,m,g,b,w,S,E=Cm(t);return r=t,n=[{key:"removeSubscriptions",value:function(){this.mainEventUnsubscribers.forEach((function(e){return e()})),this.mainEventUnsubscribers.length=0}},{key:"getMediaKeySessionInitData",value:(S=xm(Tm().mark((function e(){return Tm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",AV.resolve({}));case 1:case"end":return e.stop()}}),e)}))),function(){return S.apply(this,arguments)})},{key:"loadCertificate",value:(w=xm(Tm().mark((function e(r){var n,o,i,a;return Tm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.keySystem!==jx.dn){e.next=2;break}return e.abrupt("return",new ArrayBuffer(0));case 2:if(!r){e.next=18;break}return e.prev=3,this.logEvent("DrmCertificateLoad",{url:r}),n=(0,y_.u)(),e.next=8,t.requestDrmProxy({method:"get",responseType:"arraybuffer",url:r,withCredentials:this.config.withCredentials},0,this.requestSync);case 8:return o=e.sent,i=o.response,this.logEvent("DrmCertificateLoadEnd",{url:r,requestTime:Math.round(n())}),e.abrupt("return",i);case 14:e.prev=14,e.t0=e.catch(3),a=cT.from(e.t0),this.onError(new cT(Am(Am({},a.toJSON()),{},{code:P_.DRM_CERT_LOAD_ERROR,message:"Failed to get certificate via direct link: ".concat(a),isFatal:!1})));case 18:return e.abrupt("return",new ArrayBuffer(0));case 19:case"end":return e.stop()}}),e,this,[[3,14]])}))),function(e){return w.apply(this,arguments)})},{key:"removeMediaKeys",value:(b=xm(Tm().mark((function e(){var t;return Tm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.video.mediaKeys){e.next=2;break}return e.abrupt("return");case 2:if(""!==(t=this.video.src)){e.next=12;break}return e.prev=4,e.next=7,this.video.setMediaKeys(null);case 7:e.next=11;break;case 9:e.prev=9,e.t0=e.catch(4);case 11:return e.abrupt("return");case 12:return this.video.removeAttribute("src"),e.prev=13,e.next=16,this.video.setMediaKeys(null);case 16:e.next=20;break;case 18:e.prev=18,e.t1=e.catch(13);case 20:this.video.src=t;case 21:case"end":return e.stop()}}),e,this,[[4,9],[13,18]])}))),function(){return b.apply(this,arguments)})},{key:"activatePreloadedSession",value:(g=xm(Tm().mark((function e(t){var r;return Tm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.mediaKeys,e.next=3,this.removeMediaKeys();case 3:if(!this.isDestroyed){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,this.video.setMediaKeys(r);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return g.apply(this,arguments)})},{key:"loadOfflineSession",value:(m=xm(Tm().mark((function e(r){var n;return Tm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getPreloadedSession(r,SV.Persistent);case 2:if(n=e.sent){e.next=5;break}throw new cT({code:P_.DRM_SESSION_ERROR,message:"Session not found for content ID: ".concat(r),isFatal:!1});case 5:return e.abrupt("return",this.activatePreloadedSession(n));case 6:case"end":return e.stop()}}),e,this)}))),function(e){return m.apply(this,arguments)})},{key:"init",value:(y=xm(Tm().mark((function e(){return Tm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.initPromise){e.next=2;break}return e.abrupt("return",this.initPromise);case 2:return this.initPromise=this.initInternal(),e.abrupt("return",this.initPromise);case 4:case"end":return e.stop()}}),e,this)}))),function(){return y.apply(this,arguments)})},{key:"initInternal",value:(v=xm(Tm().mark((function e(){var r,n,o,i,a,u,c,s,l,f,d;return Tm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentDrmKeySystem===QN.none){e.next=2;break}return e.abrupt("return");case 2:if(this.video){e.next=4;break}return e.abrupt("return");case 4:if(r=this.config.privateParams||{},n=r.mode,o=r.licenseId,n!==SV.Persistent){e.next=7;break}return e.abrupt("return",this.loadOfflineSession(o));case 7:return e.next=9,t.getPreloadedSession(o,n);case 9:if(!(i=e.sent)){e.next=29;break}return e.prev=11,e.next=14,this.activatePreloadedSession(i);case 14:return this.session=i.session,this.keySystem=i.keySystem,this.currentDrmKeySystem=ym(this.keySystem),this.shouldStopOnEncrypted=!0,e.abrupt("return");case 21:return e.prev=21,e.t0=e.catch(11),e.next=25,this.removeMediaKeys();case 25:this.shouldStopOnEncrypted=!1;case 26:return e.prev=26,t.temporarySessions.delete(o),e.finish(26);case 29:if(this.keySystem=t.getDrmKeySystem(this.config),this.keySystem){e.next=33;break}return this.onError(new cT({code:P_.DRM_NO_SUPPORTED_KEY_SYSTEM,message:"No supported drm server specified",isFatal:!0})),e.abrupt("return");case 33:if(!this.video.mediaKeys){e.next=35;break}return e.abrupt("return");case 35:if(!(0,OV.b)([{keySystem:this.keySystem}])){e.next=38;break}return this.currentDrmKeySystem=ym(this.keySystem),e.abrupt("return");case 38:return a=t.getServerCertificateUrl(this.config,this.keySystem),u=this.loadCertificate(a),e.prev=40,e.next=43,t.getMediaKeySystemAccess(this.keySystem);case 43:return s=e.sent,e.next=46,s.createMediaKeys();case 46:c=e.sent,e.next=54;break;case 49:return e.prev=49,e.t1=e.catch(40),l=(0,N_.K)(e.t1)?e.t1.message:(0,I_.H)(e.t1)?e.t1:"",this.onError(cT.from(e.t1,{code:P_.DRM_FAILED_TO_CREATE_CDM,message:"Failed to create mediaKeys: ".concat(l),isFatal:!0})),e.abrupt("return");case 54:if(e.prev=54,!this.isDestroyed){e.next=57;break}return e.abrupt("return");case 57:return e.next=59,this.video.setMediaKeys(c);case 59:e.next=66;break;case 61:return e.prev=61,e.t2=e.catch(54),f=(0,N_.K)(e.t2)?e.t2.message:(0,I_.H)(e.t2)?e.t2:"",this.onError(cT.from(e.t2,{code:P_.DRM_FAILED_TO_SET_MEDIA_KEYS,message:"Failed set mediaKeys: ".concat(f),isFatal:!0})),e.abrupt("return");case 66:return e.next=68,u;case 68:if(!(d=e.sent).byteLength){e.next=72;break}return e.next=72,c.setServerCertificate(d);case 72:this.currentDrmKeySystem=ym(this.keySystem);case 73:case"end":return e.stop()}}),e,this,[[11,21,26,29],[40,49],[54,61]])}))),function(){return v.apply(this,arguments)})},{key:"onEncrypted",value:(p=xm(Tm().mark((function e(r){var n,o,i,a,u=this;return Tm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isDestroyed){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.initPromise;case 4:if(!this.shouldStopOnEncrypted){e.next=6;break}return e.abrupt("return");case 6:if(r.mediaKeys&&this.keySystem){e.next=9;break}return this.onError(new cT({code:P_.DRM_INIT_ERROR,message:"MediaKeys not inited",isFatal:!0})),e.abrupt("return");case 9:if(o=null===(n=this.config.servers)||void 0===n?void 0:n[this.keySystem]){e.next=13;break}return this.onError(new cT({code:P_.DRM_NO_LICENSE_SERVER,message:"No valid url to license server",isFatal:!0})),e.abrupt("return");case 13:e.prev=13,this.session=r.mediaKeys.createSession(),e.next=22;break;case 17:return e.prev=17,e.t0=e.catch(13),i=(0,N_.K)(e.t0)?e.t0.message:(0,I_.H)(e.t0)?e.t0:"",this.onError(cT.from(e.t0,{code:P_.DRM_FAILED_TO_CREATE_SESSION,message:"Failed to create session: ".concat(i),isFatal:!0})),e.abrupt("return");case 22:if(this.session){e.next=25;break}return this.onError(new cT({code:P_.DRM_FAILED_TO_CREATE_SESSION,message:"session is ".concat(this.session),isFatal:!0})),e.abrupt("return");case 25:return this.addEventListener(this.session,"message",function(){var e=xm(Tm().mark((function e(r){var n,i,a,c,s,l,f,d;return Tm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.message,e.prev=1,u.logEvent("DrmProxyRequest",{requestParams:u.config.requestParams,url:o,keySystem:u.keySystem}),i=(0,y_.u)(),a={keySystem:u.keySystem,url:o,config:u.config,message:n,retry:0},e.next=7,t.handleSessionMessage(a,u.requestSync,u.onError);case 7:if(c=e.sent,s=c.response,u.logEvent("DrmProxyRequestEnd",{url:o,requestTime:Math.round(i()),keySystem:u.keySystem}),!u.isDestroyed){e.next=12;break}return e.abrupt("return");case 12:return e.next=14,u.updateSession(s);case 14:e.next=21;break;case 16:e.prev=16,e.t0=e.catch(1),f=cT.from(e.t0),d=null!==(l=f.details)&&void 0!==l&&l.drmProxyError?f.code:P_.DRM_SESSION_ERROR,u.onError(new cT(Am(Am({},f.toJSON()),{},{code:d,message:"Failed to handle session message: ".concat(f)})));case 21:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}(),!1),this.addEventListener(this.session,"error",(function(e){var t,r;u.onError(new cT(Am(Am({},e),{},{code:P_.DRM_SESSION_ERROR,message:"Session error: ".concat(e.message),isFatal:null===(t=null===(r=e.details)||void 0===r?void 0:r.isFatal)||void 0===t||t})))})),e.prev=27,e.next=30,this.getMediaKeySessionInitData();case 30:return a=e.sent,e.next=33,this.generateRequest(this.session,a);case 33:e.next=39;break;case 35:return e.prev=35,e.t1=e.catch(27),this.onError(cT.from(e.t1,{code:P_.DRM_UNKNOWN_ERROR})),e.abrupt("return");case 39:case"end":return e.stop()}}),e,this,[[13,17],[27,35]])}))),function(e){return p.apply(this,arguments)})},{key:"updateSession",value:(h=xm(Tm().mark((function e(t){var r;return Tm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.keySystem!==jx.dn){e.next=5;break}return e.next=3,this.updateClearKeyLicense(t);case 3:e.next=7;break;case 5:return e.next=7,null===(r=this.session)||void 0===r?void 0:r.update(t);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return h.apply(this,arguments)})},{key:"createClearKeyObject",value:function(e,t){return{kty:"oct",kid:e,k:t,alg:"A128KW"}}},{key:"updateClearKeyLicense",value:(d=xm(Tm().mark((function e(t){var r,n,o,i,a,u=this;return Tm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.keySystem===jx.dn){e.next=2;break}return e.abrupt("return");case 2:return n=JSON.parse((new TextDecoder).decode(t)),o=n.keys,i=o.map((function(e){var t=e.key_id,r=e.key;return u.createClearKeyObject(t,r)})),a=(new TextEncoder).encode(JSON.stringify({keys:i})),e.next=8,null===(r=this.session)||void 0===r?void 0:r.update(a);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return d.apply(this,arguments)})},{key:"generateRequest",value:(f=xm(Tm().mark((function e(t,r){var n,o,i,a;return Tm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.initData,o=r.initDataType,!this.isDestroyed){e.next=3;break}return e.abrupt("return");case 3:if(n){e.next=6;break}return this.onError(new cT({code:P_.DRM_NO_INIT_DATA,message:"No drm initialization data in initialization info",isFatal:!0})),e.abrupt("return");case 6:return e.prev=6,i=mV.P.fromBase64(n).buffer,e.next=10,t.generateRequest(o,i);case 10:e.next=16;break;case 12:e.prev=12,e.t0=e.catch(6),a=(0,N_.K)(e.t0)?e.t0.message:(0,I_.H)(e.t0)?e.t0:"",this.onError(cT.from(e.t0,{code:P_.DRM_FAILED_TO_GENERATE_REQUEST,message:"Failed to generate request: ".concat(a,"}"),isFatal:!0}));case 16:case"end":return e.stop()}}),e,this,[[6,12]])}))),function(e,t){return f.apply(this,arguments)})},{key:"addEventListener",value:function(e,t,r,n){var o=(0,aj.O)(e,t,r,n);return this.addDestroyHandler(o),o}},{key:"destroy",value:(l=xm(Tm().mark((function e(){var r,n,o;return Tm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Lm(Fm(t.prototype),"destroy",this).call(this),this.logEvent("DestroyDrmControllerCalled",void 0),this.currentDrmKeySystem=QN.none,e.prev=3,o=lC(1e3).promise,e.next=7,AV.race([AV.all([null===(r=this.session)||void 0===r?void 0:r.closed,null===(n=this.session)||void 0===n?void 0:n.close()]),o]);case 7:e.next=11;break;case 9:e.prev=9,e.t0=e.catch(3);case 11:if(this.session=void 0,""!==this.video.src){e.next=20;break}return e.prev=13,e.next=16,this.video.setMediaKeys(null);case 16:e.next=20;break;case 18:e.prev=18,e.t1=e.catch(13);case 20:this.logEvent("DestroyDrmController",void 0);case 21:case"end":return e.stop()}}),e,this,[[3,9],[13,18]])}))),function(){return l.apply(this,arguments)})},{key:"logEvent",value:function(e,t){this.onEvent({name:e,data:t})}}],o=[{key:"savePreloadedSession",value:function(e,r,n,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:SV.Temporary,a=arguments.length>5?arguments[5]:void 0;i!==SV.Persistent?t.temporarySessions.set(r,{session:n,mediaKeys:o,keySystem:e}):kV.gl.appendToJSON(_V.Wq,Mm({},r,{sessionId:n.sessionId,keySystem:e,expirationTimestamp:a}))}},{key:"getMediaKeySystemAccess",value:(s=xm(Tm().mark((function e(r){var n,o,i=arguments;return Tm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]?i[1]:SV.Temporary,!(o=t.mediaKeySystemAccessMaps[n].get(r))){e.next=4;break}return e.abrupt("return",o);case 4:return e.next=6,window.navigator.requestMediaKeySystemAccess(r,t.getVideoConfigs(n));case 6:return o=e.sent,t.mediaKeySystemAccessMaps[n].set(r,o),e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)}))),function(e){return s.apply(this,arguments)})},{key:"extendDrmConfig",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:SV.Temporary;return Am(Am({},e),{},{privateParams:{licenseId:t,mode:r}})}},{key:"preloadSession",value:(c=xm(Tm().mark((function e(r,n){var o,i,a,u,c,s;return Tm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.privateParams||{},i=o.mode,a=void 0===i?SV.Temporary:i,u=o.licenseId,e.next=3,t.getPreloadedSession(u,a);case 3:if(!e.sent){e.next=6;break}return e.abrupt("return");case 6:return c=new dL.B,s=t.preloadSessionInternal(r,n,c),e.abrupt("return",AV.race([s,c.promise]).then(function(){var e=xm(Tm().mark((function e(n){var o,i,a,u,c,s;return Tm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.keySystem,a=n.licenseId,u=n.session,c=n.mediaKeys,s=n.mode,t.savePreloadedSession(i,a,u,c,s,null===r||void 0===r||null===(o=r.requestParams)||void 0===o?void 0:o.expirationTimestamp),s!==SV.Persistent){e.next=5;break}return e.next=5,u.close();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 9:case"end":return e.stop()}}),e)}))),function(e,t){return c.apply(this,arguments)})},{key:"preloadSessionInternal",value:(u=xm(Tm().mark((function e(r,n,o){var i,a,u,c,s,l,f,d,h,p,v,y,m,g,b,w,S,E,O,k,_,A,T,P,x,R,L,j;return Tm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=r.privateParams||{},c=u.mode,s=void 0===c?SV.Temporary:c,l=u.licenseId){e.next=3;break}throw new cT({code:P_.DRM_CERT_LOAD_ERROR,message:"Can not preload drm session without licenseId",isFatal:!1});case 3:if(null!==(f=t.getDrmKeySystem(r))){e.next=6;break}throw new cT({code:P_.DRM_CERT_LOAD_ERROR,message:"Can not preload drm session without supported key system in drm config",isFatal:!1});case 6:if(d=n.find((function(e){return e.keySystem===f}))){e.next=9;break}throw new cT({code:P_.DRM_CERT_LOAD_ERROR,message:"Can not preload drm session without drm info for chosen key system ".concat(f),isFatal:!1});case 9:if(h=d.initData[0],p=h.initData,v=h.initDataType,p){e.next=12;break}throw new cT({code:P_.DRM_CERT_LOAD_ERROR,message:"Can not preload drm session without init data for chosen key system ".concat(f),isFatal:!1});case 12:if(y=null===(i=r.servers)||void 0===i?void 0:i[f]){e.next=15;break}throw new cT({code:P_.DRM_CERT_LOAD_ERROR,message:"Can not preload drm session without license url",isFatal:!1});case 15:return e.next=17,t.getMediaKeySystemAccess(f,s);case 17:return m=e.sent,e.next=20,m.createMediaKeys();case 20:if(g=e.sent,b=mV.P.fromBase64(p).buffer,(w=g.createSession(s===SV.Persistent?"persistent-license":"temporary")).onkeystatuseschange=function(){switch(w.keyStatuses.values().next().value){case"usable":o.resolve({keySystem:f,licenseId:l,session:w,mediaKeys:g,mode:s});break;case"expired":o.reject(new cT({code:P_.DRM_LICENSE_LOAD_ERROR,message:"License expired",isFatal:!1}));break;case"internal-error":o.reject(new cT({code:P_.DRM_LICENSE_LOAD_ERROR,message:"EME internal error",isFatal:!1}))}},S=(0,TI.l)(),E=(null===(a=r.advanced)||void 0===a?void 0:a[f])||{},!(O=E.serverCertificateUrl)){e.next=33;break}return e.next=29,t.requestDrmProxy({method:"get",responseType:"arraybuffer",url:O,withCredentials:r.withCredentials},0,S);case 29:return k=e.sent,_=k.response,e.next=33,g.setServerCertificate(_);case 33:return e.next=35,w.generateRequest(v,b);case 35:if(O){e.next=45;break}return e.next=38,t.getSessionMessage(w,o.promise);case 38:return A=e.sent,e.next=41,t.handleSessionMessage({keySystem:f,url:y,config:r,message:A,retry:0},S);case 41:return T=e.sent,P=T.response,e.next=45,w.update(P);case 45:return e.next=47,t.getSessionMessage(w,o.promise);case 47:return x=e.sent,R={keySystem:f,url:y,config:r,message:x,retry:0},e.next=51,t.handleSessionMessage(R,S);case 51:return L=e.sent,j=L.response,e.next=55,w.update(j);case 55:return e.abrupt("return",{keySystem:f,licenseId:l,session:w,mediaKeys:g,mode:s});case 56:case"end":return e.stop()}}),e)}))),function(e,t,r){return u.apply(this,arguments)})},{key:"getSessionMessage",value:function(e,t){return new AV((function(r,n){var o=function(e){r(e.message)},i=function(){n(new cT({code:P_.DRM_SESSION_ERROR,message:"DRM session error",isFatal:!1}))};if(e.addEventListener("message",o,{once:!0}),e.addEventListener("error",i,{once:!0}),t){var a=function(){e.removeEventListener("message",o),e.removeEventListener("error",i)};t.then(a,a)}}))}},{key:"isExpired",value:function(e){var t=e.expiration;return!isNaN(t)&&t<=Date.now()}},{key:"getPreloadedSession",value:(a=xm(Tm().mark((function e(r){var n,o,i,a,u,c,s,l,f,d,h,p=arguments;return Tm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=p.length>1&&void 0!==p[1]?p[1]:SV.Temporary,r){e.next=3;break}return e.abrupt("return",null);case 3:if(o!==SV.Persistent){e.next=27;break}return e.prev=4,e.next=7,kV.gl.getParsedJSON(_V.Wq);case 7:if(a=e.sent,i=a[r]){e.next=11;break}return e.abrupt("return",null);case 11:e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(4),e.abrupt("return",null);case 16:return c=(u=i).sessionId,s=u.keySystem,e.next=19,t.getMediaKeySystemAccess(s,SV.Persistent);case 19:return l=e.sent,e.next=22,l.createMediaKeys();case 22:return f=e.sent,d=f.createSession("persistent-license"),e.next=26,d.load(c);case 26:return e.abrupt("return",{session:d,mediaKeys:f,keySystem:s});case 27:if(h=t.temporarySessions.get(r)){e.next=30;break}return e.abrupt("return",null);case 30:if(!t.isExpired(h.session)){e.next=33;break}return t.temporarySessions.delete(r),e.abrupt("return",null);case 33:return e.abrupt("return",null!==(n=t.temporarySessions.get(r))&&void 0!==n?n:null);case 34:case"end":return e.stop()}}),e,null,[[4,13]])}))),function(e){return a.apply(this,arguments)})},{key:"removeOfflineSession",value:(i=xm(Tm().mark((function e(r){var n,o;return Tm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getPreloadedSession(r,SV.Persistent);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:if(n=e.t0,o=n.session,e.t1=o,!e.t1){e.next=11;break}return e.next=11,o.remove();case 11:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)})},{key:"getVideoConfigs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:SV.Temporary;return e===SV.Persistent?dF.map((function(e){return Am(Am({},e),{},{sessionTypes:["persistent-license"]})})):dF}},{key:"requestDrmProxy",value:function(e,t,r){return r.waitAndLock((function(){return new AV((function(n,o){(0,gV.W)(Am(Am({},e),{},{onSuccess:n,onError:function(e,n){var i=wm(wV.x.fromUTF8(n.response),n.status),a=Om(n.status,t);return r.addLock((0,EV._)(a)),o(Em(i))}}))}))}))}},{key:"getRequestParams",value:function(e,r,n,o){var i=o,a=n.requestParams,u=n.withCredentials,c=Am({},a),s={method:"post",data:"",responseType:"arraybuffer",url:r,withCredentials:u};if(e===jx.xE){var l=t.unpackPlayReadyRequest(o);s.headers=Am(Am({},l.headers),s.headers),delete s.headers["Content-Type"],i=l.data}if(e===jx.dn){var f=JSON.parse((new TextDecoder).decode(o));c.key_ids=f.kids}return s.data=function(){if(!a)return i;var e=Am(Am({},c),{},{rawLicenseRequestBase64:mV.P.toBase64(new Uint8Array(i))});return wV.x.toUTF8(JSON.stringify(e))}(),s}},{key:"handleSessionMessage",value:function(e,r,n){var o=e.keySystem,i=e.url,a=e.config,u=e.message,c=e.retry,s=t.getRequestParams(o,i,a,u);return t.requestDrmProxy(s,c,r).catch((function(e){var s,l=cT.from(e),f=new cT(Am(Am({},l.toJSON()),{},{isFatal:l.isFatal||c>3,code:null!==(s=l.details)&&void 0!==s&&s.drmProxyError?l.code:P_.DRM_SESSION_ERROR,message:"Failed to handle session message: ".concat(l)}));if(null===n||void 0===n||n(f),f.isFatal)throw f;return t.handleSessionMessage({keySystem:o,url:i,config:a,message:u,retry:c+1},r,n)}))}},{key:"unpackPlayReadyRequest",value:function(e){var t=wV.x.fromUTF16(e,!0,!0),r={},n=e;if(!t.includes("PlayReadyKeyMessage"))return{headers:r,data:n};for(var o=(new DOMParser).parseFromString(t,"application/xml"),i=o.getElementsByTagName("HttpHeader"),a=0;a<i.length;++a){var u=i[a].getElementsByTagName("name")[0],c=i[a].getElementsByTagName("value")[0];u.textContent&&c.textContent&&(r[u.textContent]=c.textContent)}var s=o.getElementsByTagName("Challenge")[0];return s&&"base64encoded"===s.getAttribute("encoding")&&(n=mV.P.fromBase64(s.textContent).buffer),{headers:r,data:n}}},{key:"getDrmKeySystem",value:function(e){var t,r,n;return null!==(t=e.servers)&&void 0!==t&&t[jx.ly]?jx.ly:null!==(r=e.servers)&&void 0!==r&&r[jx.xE]?jx.xE:null!==(n=e.servers)&&void 0!==n&&n[jx.dn]?jx.dn:null}},{key:"getServerCertificateUrl",value:function(e,t){var r;return((null===(r=e.advanced)||void 0===r?void 0:r[t])||{}).serverCertificateUrl}}],n&&Rm(r.prototype,n),o&&Rm(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(tI);Mm(TV,"temporarySessions",new Map),Mm(TV,"mediaKeySystemAccessMaps",{persistent:new Map,temporary:new Map});var PV,xV=r(83361),RV=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=i.call(this)).props=e,rg(eg(r),"isDestroyed",!1),rg(eg(r),"preloaded",!1),rg(eg(r),"url",""),rg(eg(r),"preload",(0,v_.I)(function(){var e,t=(e=Ym().mark((function e(t){var n,o,i,a,u,c,s,l,f,d,h,p=arguments;return Ym().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=!(p.length>1&&void 0!==p[1])||p[1],!r.isDestroyed){e.next=3;break}throw new Error("YaspPreloader was destroyed");case 3:return r.url=vm(r.props.source.stream.url,r.props.source.sourceParams.startPosition.videoTime),c=r.props.getVideoElementSizes(),s=Wm(Wm({},t),{},{maxAutoQuality:null!==(n=null===t||void 0===t?void 0:t.maxAutoQuality)&&void 0!==n?n:r.props.defaultQuality,videoSizes:c}),e.next=8,vV.preloadSrc(r.url,{videoContentId:null!==(o=null===(i=r.props.source.sourceParams.videoInfo)||void 0===i?void 0:i.videoContentId)&&void 0!==o?o:"missed",yaspSourceConfig:s});case 8:if(l=e.sent,f=l.drmInfos,(0,$P.RW)("web_preload_drm")){e.next=13;break}return r.preloaded=!0,e.abrupt("return");case 13:if(d=r.props.source.stream.drmConfig,h=Gm(d),!(u&&h&&null!==(a=h.privateParams)&&void 0!==a&&a.licenseId)){e.next=18;break}return e.next=18,TV.preloadSession(h,f);case 18:r.preloaded=!0;case 19:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new xV((function(n,o){function i(e){Km(u,n,o,i,a,"next",e)}function a(e){Km(u,n,o,i,a,"throw",e)}var u=e.apply(t,r);i(void 0)}))});return function(e){return t.apply(this,arguments)}}())),r.once("Destroy",(function(){r.isDestroyed=!0})),r}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$m(e,t)}(t,e);var r,n,o,i=Jm(t);return r=t,(n=[{key:"getSource",value:function(){return this.props.source}},{key:"destroy",value:function(){this.preloaded||vV.releaseSrc(this.url),Qm(tg(t.prototype),"destroy",this).call(this)}}])&&zm(r.prototype,n),o&&zm(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(PL.M);!function(e){e[e.MEDIA_ERR_CUSTOM=0]="MEDIA_ERR_CUSTOM",e[e.MEDIA_ERR_ABORTED=1]="MEDIA_ERR_ABORTED",e[e.MEDIA_ERR_NETWORK=2]="MEDIA_ERR_NETWORK",e[e.MEDIA_ERR_DECODE=3]="MEDIA_ERR_DECODE",e[e.MEDIA_ERR_SRC_NOT_SUPPORTED=4]="MEDIA_ERR_SRC_NOT_SUPPORTED",e[e.MEDIA_ERR_ENCRYPTED=5]="MEDIA_ERR_ENCRYPTED"}(PV||(PV={}));var LV,jV=ig((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ag(this,"code",0),ag(this,"message",""),ag(this,"details",void 0),"number"===typeof t?this.code=t:"string"===typeof t?this.message=t:(0,N_.K)(t)&&("number"===typeof t.code&&(this.code=t.code),"string"===typeof t.message&&(this.message=t.message),this.details=t.details),this.message||(this.message=PV[this.code]||"")})),IV=r(31430),CV=(0,MN.Q)(),DV=window.SourceBuffer||window.WebKitSourceBuffer,NV=CV&&"function"===typeof CV.isTypeSupported&&CV.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),FV=!DV||DV.prototype&&"function"===typeof DV.prototype.appendBuffer&&"function"===typeof DV.prototype.remove,MV=Boolean(NV)&&Boolean(FV),VV=r(55502),BV=[401,403];!function(e){e.LOWRES="lowres",e.HIGHRES="highres"}(LV||(LV={}));var UV,GV={tiles:"com.yandex.video.thumbnail.lowres.tiles",duration:"com.yandex.video.thumbnail.lowres.duration",resolution:"com.yandex.video.thumbnail.lowres.resolution",uri:"com.yandex.video.thumbnail.lowres.uri"},HV={tiles:"com.yandex.video.thumbnail.tiles",duration:"com.yandex.video.thumbnail.duration",resolution:"com.yandex.video.thumbnail.resolution",uri:"com.yandex.video.thumbnail.uri"},YV=[4320,2880,2160,1440,1080,720,576,480,360,240,144],qV=Math.min.apply(Math,function(e){return function(e){if(Array.isArray(e))return xg(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return xg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xg(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(YV.slice(1).map((function(e,t){return YV[t]/e})))),WV=r(11312);!function(e){e.WAS_WORKER_INTERNAL_ERROR="YANDEX_PLAYER_HLS_WAS_WORKER_INTERNAL_ERROR"}(UV||(UV={}));var KV;!function(e){e.HasAd="HasAd",e.NoAd="NoAd",e.NoData="NoData"}(KV||(KV={}));var zV,QV=/^(\d+)x(\d+)@(\d+)$/,ZV=function(){try{var e=QI.volume;QI.volume=0===e?1:0;var t=QI.volume!==e;return QI.volume=e,t}catch(hG){return!1}}(),$V=(0,AF.B)(),JV=$V?.25:.02;!function(e){e.VideoTagPaused="VideoTagPaused",e.VideoTagPausedAfterDurationChange="VideoTagPausedAfterDurationChange",e.VideoTagPausedAfterError="VideoTagPausedAfterError",e.PauseEvent="PauseEvent",e.ProgressEvent="ProgressEvent",e.PromiseResolve="PromiseResolve",e.PromiseReject="PromiseReject",e.PlayingEvent="PlayingEvent",e.Timeout="Timeout"}(zV||(zV={}));var XV,eB,tB=r(83361),rB={once:!0,passive:!0},nB=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.props=t,ub(this,"currentAttempt",0),ub(this,"recovering",!1),ub(this,"plannedTaskPromise",void 0),ub(this,"resetTimeoutId",0)}var t,r,n;return t=e,(r=[{key:"allowed",get:function(){return this.currentAttempt<10}},{key:"started",get:function(){return this.currentAttempt>0}},{key:"attempt",get:function(){return this.currentAttempt}},{key:"getState",value:function(){return this.started?gN.ON:gN.OFF}},{key:"planTask",value:function(e,t){var r,n=this,o=t.reason,i=t.delay,a=t.force,u=t.rawData;if(this.recovering&&!a)return this.log("Can't plan task cause is in process of recover"),void this.props.onConcurrentRecover({reason:o,rawData:u});this.clearPlannedTask("new task planned"),this.clearResetTimeout("new task planned"),"number"===typeof i?(r=lC(i).promise.then(gT.Z),this.log("#".concat(this.currentAttempt,", PLAN task, ").concat(i,"ms, [").concat(o,"]"),u)):(r=i,this.log("#".concat(this.currentAttempt,", PLAN async task, [").concat(o,"]"),u)),(0,mP.v)(r),r.then((function(){if(r===n.plannedTaskPromise)return n.recovering=!0,n.currentAttempt++,n.props.onRunTask({reason:o,delay:i,rawData:u,attempt:n.currentAttempt}),n.log("#".concat(n.currentAttempt,", RUN task, [").concat(o,"]"),u),n.clearPlannedTask(),e()})).catch((function(e){n.log("Error while recover",e),n.props.onRecoverError({reason:o,rawData:u},e)})).then((function(){n.recovering=!1})),this.plannedTaskPromise=r}},{key:"isRecovering",value:function(){return this.recovering}},{key:"planReset",value:function(e){var t=this,r=e.reason,n=e.delay;this.log("plan RESET, ".concat(n,"ms, if [").concat(r,"]")),this.clearResetTimeout("new reset planned"),this.resetTimeoutId=window.setTimeout((function(){t.reset(r)}),n)}},{key:"destroy",value:function(){this.reset("destroy")}},{key:"reset",value:function(e){this.props.onReset(),this.log("RESET because of [".concat(e,"]")),this.clearPlannedTask(),this.clearResetTimeout(),this.currentAttempt=0}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];hC.log.apply(hC,["RecoverHelper:"].concat(t))}},{key:"clearPlannedTask",value:function(e){e&&this.log("CLEAR planned TASKS because of [".concat(e,"]")),this.plannedTaskPromise=void 0}},{key:"clearResetTimeout",value:function(e){e&&this.log("CLEAR planned RESET because of [".concat(e,"]")),0!==this.resetTimeoutId&&(clearTimeout(this.resetTimeoutId),this.resetTimeoutId=0)}}])&&ab(t.prototype,r),n&&ab(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),oB=r(38024),iB=r.n(oB);!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.ETHERNET=1]="ETHERNET",e[e.WIFI=2]="WIFI",e[e.CELL_2G=3]="CELL_2G",e[e.CELL_3G=4]="CELL_3G"}(XV||(XV={})),function(e){e.BLUETOOTH="bluetooth",e.CELLULAR="cellular",e.ETHERNET="ethernet",e.MIXED="mixed",e.NONE="none",e.OTHER="other",e.UNKNOWN="unknown",e.WIFI="wifi",e.WIMAX="wimax"}(eB||(eB={}));var aB=r(84119),uB=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};pb(this,e),yb(this,"timeMeasurer",void 0),yb(this,"lastDroppedFrames",0),yb(this,"lastDecodedFrames",0),yb(this,"totalDecodedFrames",0),yb(this,"totalDroppedFrames",0),yb(this,"lastVideoWidth",void 0),yb(this,"lastVideoHeight",void 0),yb(this,"maxWidth",1/0),yb(this,"maxHeight",1/0),yb(this,"props",void 0),yb(this,"frameHistoryDuration",1e3),yb(this,"frameHistory",[{time:0,shownFrames:0,droppedFrames:0}]),this.props=t}var t,r,n;return t=e,(r=[{key:"setRestrictions",value:function(e,t){var r,n;e>=this.maxWidth&&t>=this.maxHeight||t<360||(this.maxWidth=e,this.maxHeight=t,hC.warn("FPSController changed restrictions: ".concat(e,"\xd7").concat(t,".")),null===(r=(n=this.props).onRestrictionsChange)||void 0===r||r.call(n,{decodedFrames:this.totalDecodedFrames,droppedFrames:this.totalDroppedFrames,maxWidth:e,maxHeight:t}))}},{key:"getRestrictions",value:function(){return{maxWidth:this.maxWidth,maxHeight:this.maxHeight}}},{key:"update",value:function(e){if(e.videoWidth&&e.videoHeight){var t=vv(e);this.checkFPS(e.videoWidth,e.videoHeight,t.totalVideoFrames,t.droppedVideoFrames)}}},{key:"checkFPS",value:function(e,t,r,n){if(!this.timeMeasurer||!r||this.lastVideoWidth!==e||this.lastVideoHeight!==t||r<this.lastDecodedFrames)this.timeMeasurer=(0,y_.u)(),this.totalDecodedFrames=0,this.totalDroppedFrames=0;else{var o=r-this.lastDecodedFrames,i=n-this.lastDroppedFrames;this.totalDecodedFrames+=o,this.totalDroppedFrames+=i,this.timeMeasurer()>5e3&&this.totalDroppedFrames>.25*this.totalDecodedFrames&&this.setRestrictions(e,t),this.updateFrameHistory(o,i)}this.lastDecodedFrames=r,this.lastDroppedFrames=n,this.lastVideoWidth=e,this.lastVideoHeight=t}},{key:"updateFrameHistory",value:function(e,t){if(this.timeMeasurer){var r=this.timeMeasurer();this.frameHistory.push({time:r,shownFrames:e-t,droppedFrames:t}),this.cleanFilterFrameHistory(r)}}},{key:"cleanFilterFrameHistory",value:function(e){var t=this;this.timeMeasurer&&(this.frameHistory=this.frameHistory.filter((function(r){return e-r.time<=t.frameHistoryDuration})))}},{key:"getApproximateFPS",value:function(){if(!this.timeMeasurer)return{approximateShownFPS:0,approximateDroppedFPS:0};var e=this.timeMeasurer();if(this.cleanFilterFrameHistory(e),!this.frameHistory.length)return{approximateShownFPS:0,approximateDroppedFPS:0};var t=this.frameHistory[0].time,r=(this.frameHistory[this.frameHistory.length-1].time-t)/1e3,n=r>0?1/r:1,o=this.frameHistory.slice(1).reduce((function(e,t){return e+t.shownFrames}),0)*n,i=this.frameHistory.slice(1).reduce((function(e,t){return e+t.droppedFrames}),0)*n;return{approximateShownFPS:o<0?0:o,approximateDroppedFPS:i<0?0:i}}}])&&vb(t.prototype,r),n&&vb(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),cB=function(e){var t=(0,DP.i)(e).match(/Firefox\/([0-9]+)\./);return t&&parseInt(t[1],10)||-1}(window),sB=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;gb(this,e),this.win=t,this.callback=r,this.interval=n,wb(this,"started",!1),wb(this,"intervalId",0),wb(this,"getDiff",(0,y_.u)())}var t,r,n;return t=e,(r=[{key:"start",value:function(){var e=this;this.started||(this.started=!0,this.getDiff=(0,y_.u)(),this.intervalId=this.win.setInterval((function(){var t=e.getDiff();e.getDiff=(0,y_.u)(),e.callback(t)}),this.interval))}},{key:"stop",value:function(){this.started&&(this.started=!1,this.win.clearInterval(this.intervalId))}}])&&bb(t.prototype,r),n&&bb(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),lB=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ab(this,"props",void 0),Ab(this,"bufferGoalFilters",[Sb,Eb]),this.props=t}var t,r,n;return t=e,(r=[{key:"getBufferGoal",value:function(e){var t=e.watchedTime,r=void 0===t?0:t,n=e.currentTime,o=void 0===n?0:n,i=kb(kb({},this.props),{},{watchedTime:r,currentTime:o});return this.bufferGoalFilters.reduce((function(e,t){return Math.min(t(i),e)}),30)}}])&&_b(t.prototype,r),n&&_b(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),fB=r(89426),dB=r(2445),hB=r(41925),pB=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.props=t,Pb(this,"video",void 0),Pb(this,"videoSizeSensor",void 0),Pb(this,"defaultQuality",void 0),Pb(this,"getPipWindowSize",void 0);var r=this.props,n=r.video,o=r.videoSizeSensor,i=r.defaultQuality,a=r.getPipWindowSize;this.video=n,this.videoSizeSensor=o,this.defaultQuality=i,this.getPipWindowSize=a}var t,r,n;return t=e,(r=[{key:"getCapSizes",value:function(){var e,t=null!==(e=this.getPipWindowSize())&&void 0!==e?e:(0,dB.k)(this.video,this.props.objectFit||"contain",this.videoSizeSensor.getSize()),r=t.height>t.width,n=(0,MF.R)(),o=null!==this.defaultQuality,i=(0,hB.R)(this.defaultQuality),a=(o?Math.max(screen.height,t.height):t.height)*devicePixelRatio,u=(o?Math.max(screen.width,t.width):t.width)*devicePixelRatio,c=r?Math.min(a,i):a,s=r?u:Math.min(u,i),l=r&&n?fB.T/9*16:1/0;return{width:s,height:c,maxWidth:!r&&n?fB.T/9*16:1/0,maxHeight:l}}}])&&Tb(t.prototype,r),n&&Tb(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),vB=function(){var e=document.createElement("video");if(!("playbackRate"in e))return!1;try{return e.playbackRate-=.05,!0}catch(hG){return!1}}(),yB=function(){function e(t,r){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;xb(this,e),this.video=t,this.onFrameTickCallback=r,this.win=o,Lb(this,"intervalController",null),Lb(this,"lastHandle",0),Lb(this,"lastCurrentTime",-1),Lb(this,"stopped",!1),Lb(this,"onTick",(function(){if(!n.stopped){var e=n.video.currentTime;e!==n.lastCurrentTime&&(n.onFrameTick(),n.lastCurrentTime=e)}}));var i="function"===typeof this.video.requestVideoFrameCallback;i?this.startNative():this.startIntervals()}var t,r,n;return t=e,(r=[{key:"onFrameTick",value:function(){try{this.onFrameTickCallback()}catch(pG){(0,xR.L)(pG)}}},{key:"startNative",value:function(){var e=this;this.lastHandle=this.video.requestVideoFrameCallback((function t(){e.stopped||(e.onFrameTick(),e.lastHandle=e.video.requestVideoFrameCallback(t))}))}},{key:"startIntervals",value:function(){var e,t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:25;null===(e=this.intervalController)||void 0===e||e.stop(),this.intervalController=new sB(this.win,(function(){try{t.onTick()}catch(pG){}}),1e3/r),this.stopped||this.intervalController.start()}},{key:"stop",value:function(){this.stopped=!0,this.intervalController?this.intervalController.stop():this.video.cancelVideoFrameCallback(this.lastHandle)}},{key:"start",value:function(){this.stopped=!1,this.intervalController?this.intervalController.start():this.startNative()}},{key:"setFps",value:function(e){this.intervalController&&this.startIntervals(e)}}])&&Rb(t.prototype,r),n&&Rb(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),mB=r(83361),gB=function(e){function t(e){var r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=d.call(this)).props=e,Wb(Yb(n),"engine",void 0),Wb(Yb(n),"recoverHelper",void 0),Wb(Yb(n),"video",void 0),Wb(Yb(n),"wasPausedAfterQualityChanged",!1),Wb(Yb(n),"currentTextTrack",void 0),Wb(Yb(n),"withCredentials",!1),Wb(Yb(n),"targetLatency",7),Wb(Yb(n),"playerStore",void 0),Wb(Yb(n),"stateController",void 0),Wb(Yb(n),"currentState",void 0),Wb(Yb(n),"videoTrackLabels",new Map),Wb(Yb(n),"destroy",(0,v_.I)((function(){return n.destroyed=!0,n.destroyUnsafe()}))),Wb(Yb(n),"destroyed",!1),Wb(Yb(n),"tickController",void 0),Wb(Yb(n),"fpsController",new uB({onRestrictionsChange:function(e){n.props.logEvent({event:"FPSControllerRestrictions",params:e})}})),Wb(Yb(n),"frameTickController",null),Wb(Yb(n),"currentSubtitles",[]),Wb(Yb(n),"bandwidthEstimateUpdateInterval",null),Wb(Yb(n),"bufferGoalManager",void 0),Wb(Yb(n),"preventPauseState",void 0),Wb(Yb(n),"playDeferred",void 0),Wb(Yb(n),"sizeCapper",void 0),Wb(Yb(n),"isPauseHandlerCalled",void 0),Wb(Yb(n),"longStalledRecoverInfo",null),Wb(Yb(n),"handleConcurrentRecover",(function(e){n.props.logEvent({event:"ConcurrentRecoverCalled",params:e})})),Wb(Yb(n),"handleRecoverError",(function(e,t){n.props.onError(new cT({code:P_.RECOVER_TASK_ERROR,isFatal:!1,details:e,stack:null===t||void 0===t?void 0:t.stack}))})),n.setMaxListeners(100),n.isPauseHandlerCalled=n.props.video.paused,n.recoverHelper=new nB({onRunTask:n.props.onRecover,onReset:function(){return n.playerStore.setControllerStateField(ZD.lastRecoverPosition,void 0)},onConcurrentRecover:n.handleConcurrentRecover,onRecoverError:n.handleRecoverError}),n.on("Destroy",(function(){return n.recoverHelper.destroy()}));var o=n.props,i=o.video,a=o.playerStore,u=o.sourceParams,c=o.stateController;n.video=i,n.playerStore=a,n.stateController=c,n.setLoop(Boolean(e.sourceParams.loop)),n.withCredentials=Boolean(e.sourceParams.withCredentials);var s=!u.startPosition.videoTime&&(!u.adConfig||!1===u.adConfig.hasPreroll)&&u.firstFrameHash&&u.firstFrameUrl;n.setPoster(s?u.firstFrameUrl:u.preview,s?u.firstFrameHash:""),n.updateNativeControlsVisibility();var l=n.playerStore.getState().controller.preload||bR;i.setAttribute("preload",l?"auto":"none");var f=n.playerStore.getState().controller.vsid,h=(0,aj.O)(i,"loadstart",(function(){n.video.style.opacity="1",(0,j_.Y)((function(){return n.video.setVideoSessionId(f)}))}));return n.on("Destroy",h),n.tickController=new sB(window,(function(e){try{n.onTick(e)}catch(pG){n.props.onError(cT.from(pG,{code:P_.ON_TICK_ERROR,isFatal:!1}))}})),n.on("Destroy",(function(){return n.tickController.stop()})),n.on("InternalPlayingStateChange",n.updateBufferGoal),mB.resolve().then((function(){n.initInternalSubscribe()})),n.bufferGoalManager=new lB({skippableFragments:e.sourceParams.skippableFragments}),n.sizeCapper=new pB({video:n.video,fpsController:n.fpsController,videoSizeSensor:n.props.videoSizeSensor,getPipWindowSize:n.props.getPipWindowSize,from:n.state.controller.from,defaultQuality:n.props.defaultQuality,objectFit:null===(r=n.state.controller.videoElementStyle)||void 0===r?void 0:r.objectFit}),n.initFrameTickController(),n}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ub(e,t)}(t,e);var r,n,o,i,a,u,c,s,l,f,d=Gb(t);return r=t,n=[{key:"state",get:function(){return this.playerStore.getState()}},{key:"fragDuration",get:function(){return this.getFragmentsData().fragmentDuration}},{key:"isDestroyed",get:function(){return this.destroyed}},{key:"requestDebugInfo",value:(f=Fb(Db().mark((function e(){return Db().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{notImplemented:!0});case 1:case"end":return e.stop()}}),e)}))),function(){return f.apply(this,arguments)})},{key:"emitTargetLatencyChanged",value:function(){this.emit("TargetLatencyChanged",this.targetLatency)}},{key:"initInternalSubscribe",value:function(){var e=this;this.on("VideoPlayingStateChange",(function(t){if(t!==YA.END||bf(e.state)){if(t===YA.PLAY&&!bf(e.state)){var r=e.fragDuration<=2*KD?1e3*e.fragDuration:1e3*KD;e.recoverHelper.planReset({delay:r,reason:"no new errors for ".concat(r,"ms")})}}else e.recoverHelper.reset("onPlayingStateChange [".concat(YA.END,"]"))})),this.on("InternalPlayingStateChange",(function(t){var r=e.state.controller.encoderState;(r===CD.Attaching||r===CD.Attached)&&e.currentState!==t&&(e.isBufferingOnPreload(t)||e.currentState===YA.END&&e.video.paused||(e.currentState=t,e.emit("VideoPlayingStateChange",t)))})),this.on("CurrentTimeChange",(function(t){var r=e.getDuration(),n=e.state.controller.videoType;t>=r&&r>0&&n===DR.D.VOD&&!e.props.sourceParams.loop&&e.emit("InternalPlayingStateChange",YA.END)})),this.on("InternalVideoTrackValueChange",eb((function(t){e.emit("VideoTrackValueChange",t)}))),this.on("InternalAudioTrackValueChange",eb((function(t){e.emit("AudioTrackValueChange",t)}))),this.on("InternalTextTrackValueChange",eb((function(t){e.emit("TextTrackValueChange",t)}))),this.subscribeYabroRum(),this.addVideoEventListener("playing",(function(){return e.handleVideoElementPlayEvent()})),this.addVideoEventListener("loadedmetadata",(function(){e.dispatchOnDurationChange()})),this.addVideoEventListener("play",(function(){e.isPauseHandlerCalled=!1})),this.addVideoEventListener("seeking",(function(){(0,$P.RW)("web_disable_seeking_logging")||e.props.logEvent({event:"Seeking",params:{time:e.video.currentTime}})})),this.addVideoEventListener("seeked",(function(){(0,$P.RW)("web_disable_seeking_logging")||e.props.logEvent({event:"Seeked",params:{time:e.video.currentTime}}),e.emit("Seeked")}));var t=this.video.playbackRate;this.addVideoEventListener("ratechange",(function(){var r=e.video.playbackRate,n=e.state.controller.playbackRate;if(t!==r){var o=t;t=r,bf(e.state)||e.recoverHelper.isRecovering()||0===r||r===n||(0===o&&r!==n?e.setPlaybackRate(n,$D.Recover):r!==e.state.controller.playbackRate&&e.stateController.putPlaybackRate(r,$D.Other))}})),this.addVideoEventListener("pause",(function(){return e.onPause()})),this.addVideoEventListener("progress",(function(){bf(e.state)||e.emit("BufferingRangesChange",(0,AM.w)(e.props.video))})),this.addVideoEventListener("canplay",(function(){e.emit("CanPlay",void 0)})),this.addVideoEventListener("ended",(function(){var t=e.playerStore.getState().controller.videoType;t===DR.D.VOD||void 0===t?e.emit("InternalPlayingStateChange",YA.END):e.video.paused&&hC.warn('Pause stream after "ended" event on LIVE stream')})),this.addVideoEventListener("loadeddata",(function(){e.emit("LoadedData",void 0)})),this.addVideoEventListener("error",(function(t){return e.onVideoTagError(t)})),this.handleSubtitles(),this.addVideoEventListener("timeupdate",(function(){bf(e.state)||e.state.controller.playingState===YA.PAUSE||e.fpsController.update(e.video)})),this.addVideoEventListener("durationchange",(function(){e.dispatchOnDurationChange()})),this.on("DvrChange",(function(){return e.updateDVRParams()}))}},{key:"play",value:(l=Fb(Db().mark((function e(){var t=this;return Db().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.preventPauseState){e.next=8;break}if(this.preventPauseState=Cb(Cb({},this.preventPauseState),{},{shouldPlayAfterEnd:!0}),hC.log("play method call during preventPauseAsync operation"),!this.playDeferred){e.next=5;break}return e.abrupt("return",this.playDeferred.promise);case 5:return this.playDeferred=new dL.B,this.playDeferred.promise.catch(gT.Z).then((function(){return t.playDeferred=void 0})),e.abrupt("return",this.playDeferred.promise);case 8:return e.next=10,this.playInternal();case 10:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"getVideoElementSizes",value:function(){var e,t;return Cb(Cb({},null!==(e=this.props.getPipWindowSize())&&void 0!==e?e:(0,dB.k)(this.video,(null===(t=this.state.controller.videoElementStyle)||void 0===t?void 0:t.objectFit)||"contain",this.props.videoSizeSensor.getSize())),{},{dpi:"undefined"!==typeof devicePixelRatio?devicePixelRatio:1})}},{key:"getFragmentsData",value:function(){return{totalDuration:this.getDuration(),fragmentDuration:KD,startTime:0}}},{key:"getUtcStartTime",value:function(){return 0}},{key:"getUtcPosition",value:function(){return 0}},{key:"attachEncoder",value:(s=Fb(Db().mark((function e(){var t,r,n=this;return Db().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.tickController.start(),null===(t=this.frameTickController)||void 0===t||t.start(),this.bandwidthEstimateUpdateInterval=window.setInterval((function(){n.stateController.putLastKnownBandwidthEstimate(n.getBandwidthEstimate()),gy(n.getBandwidthEstimate())}),5e3),"defaultPlaybackRate"in this.video&&(this.video.defaultPlaybackRate=this.state.controller.playbackRate),r=new mM(this.video,(function(){n.onVideoResize()})),this.once("Detach",(function(){return r.destroy()})),this.isLowLatencyLive()&&this.emitTargetLatencyChanged();case 7:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"onVideoTagError",value:function(e){!this.video.src&&!bf(this.state)&&(this.video.style.opacity="0")}},{key:"seek",value:function(e){if(this.canSeek()){this.playerStore.setControllerStateField(ZD.lastRecoverPosition,void 0);var t=this.getSeekableRange(),r=t.start,n=t.end,o=this.state.controller.currentTime,i=wc(e,r,n);this.props.onExpectedStalledChange({reason:WR.Seek,details:{oldPosition:o,newPosition:i}}),mb(this.video,i),this.emit("CurrentTimeChange",this.getCurrentTime())}else this.playerStore.setControllerStateField(ZD.startPosition,{videoTime:e})}},{key:"setPlaybackRate",value:function(e,t){if(vB){var r=this.video.playbackRate;if(r!==e){this.video.playbackRate=e;var n=this.video.playbackRate;n!==r&&this.stateController.putPlaybackRate(n,t)}}}},{key:"getUtcEndTime",value:function(){return 0}},{key:"updateNativeControlsVisibility",value:function(){var e,t,r=!Fc(this.state.skin.hiddenControls)&&(this.state,!0);this.playerStore.setSkinStateField(QD.nativeControlsVisibility,r),e=this.video,t={controls:r?"controls":null},(0,ux.Z)(t).forEach((function(r){var n=t[r];null===n?e.removeAttribute(r):e.setAttribute(r,n)})),this.video.classList.toggle(iB().video_hiddenControls,!r),this.setNativeTimeControlVisibility(tb(this.state)),this.setNativeTimelineControlVisibility(tb(this.state))}},{key:"detachEncoder",value:function(){var e;if(this.tickController.stop(),null===(e=this.frameTickController)||void 0===e||e.stop(),this.state.controller.encoderState===CD.Attached){var t=this.getBandwidthEstimate();this.stateController.putLastKnownBandwidthEstimate(t),gy(t)}return null!==this.bandwidthEstimateUpdateInterval&&clearInterval(this.bandwidthEstimateUpdateInterval),this.emit("BufferingRangesChange",[]),this.emit("InternalVideoTrackValueChange",void 0),this.emit("InternalAudioTrackValueChange",void 0),this.emit("InternalTextTrackValueChange",void 0),this.emit("Detach",void 0),"defaultPlaybackRate"in this.video&&(this.video.defaultPlaybackRate=1),mB.resolve()}},{key:"preloadSource",value:(c=Fb(Db().mark((function e(){return Db().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:hC.log("preloadSource() is not implemented for ".concat(this.engine));case 1:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"createCachePreloader",value:function(){}},{key:"setLoop",value:function(e){var t=this.props.video;e!==this.video.loop&&(t.loop=e)}},{key:"isPaused",value:function(){return this.props.video.paused}},{key:"pause",value:function(){var e;this.recoverHelper.reset("pause"),this.props.video.pause(),this.onPause(),null===(e=this.playDeferred)||void 0===e||e.reject(new Error("playing rejected cause of #pause()"))}},{key:"getDuration",value:function(){return this.video.duration}},{key:"getCurrentTime",value:function(){return Math.floor(1e3*this.props.video.currentTime)/1e3}},{key:"getVideoWidth",value:function(){return this.video.videoWidth}},{key:"getVideoHeight",value:function(){return this.video.videoHeight}},{key:"setVolume",value:function(e){Rt(e)?ZV?this.video.volume=e:hC.warn("cannot change video volume"):hC.warn("setVolume wrong value")}},{key:"getVolume",value:function(){return this.video.volume}},{key:"setMuted",value:function(e){this.video.muted=e}},{key:"getMuted",value:function(){return this.video.muted}},{key:"setPoster",value:function(e,t){var r=this;(this.state.skin.nativeControlsVisibility||t)&&(this.removePoster(),t?(this.props.video.setAttribute("poster",t),e&&Ar(e).then((function(){r.isDestroyed||r.props.video.setAttribute("poster",e)})).catch(gT.Z)):this.props.video.setAttribute("poster",e||fC))}},{key:"removePoster",value:function(){this.props.video.removeAttribute("poster")}},{key:"isDvrEnabled",value:function(){return!0}},{key:"toggleNativeSubtitles",value:function(e){var t=this.state.skin.useNativeSubtitles;if(t!==e){var r=lb(t),n=lb(e);this.playerStore.setSkinStateField(QD.useNativeSubtitles,e),sb(this.video.textTracks).forEach((function(e,t){e&&(e.mode=r===e.mode?n:"disabled")}))}}},{key:"canSeek",value:function(){var e=this.props.video;return e.readyState>0&&e.duration>0}},{key:"getRecoverHelperState",value:function(){return this.recoverHelper.getState()}},{key:"getCapSizes",value:function(){return this.sizeCapper.getCapSizes()}},{key:"getMaxCapAllowedVideoTrack",value:function(){}},{key:"getRemainingBufferedTime",value:function(){return{total:wf(this.state)||0}}},{key:"getBandwidthEstimate",value:function(){return hb(this.playerStore.getState())}},{key:"recoverStream",value:(u=Fb(Db().mark((function e(){var t,r,n=arguments;return Db().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]&&n[0],r=this.getPositionToRecover(),this.playerStore.setControllerStateField(ZD.startPosition,t?{}:r),e.next=5,this.detachEncoder();case 5:return e.next=7,this.attachEncoder();case 7:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"getLiveLatency",value:function(){if(this.isLiveStreaming()){var e=this.getUtcPosition(),t=this.getServerTime();return e>0&&void 0!==t?Math.max(t-e,0):void 0}}},{key:"getServerTime",value:function(){}},{key:"getPlayingState",value:function(){return this.currentState}},{key:"isLiveStreaming",value:function(){var e=this.state;if(!rb(e)||bf(e))return!1;var t=e.controller,r=t.playingState,n=t.currentTime,o=t.duration;return!(r!==YA.PLAY&&r!==YA.BUFFERING)&&!(0===n||!o)}},{key:"subscribeVideoBuffering",value:function(e){var t=this,r=this.video,n=xM(r),o=function(){var e,o=(e=n,r.paused?YA.PAUSE:e?YA.BUFFERING:YA.PLAY);if(t.isStalledLiveEdge(o))t.props.onExpectedStalledChange({reason:WR.LiveEdge,details:void 0});else if(t.isRender(o)){if((0,$P.RW)("web_ignore_render_stalled"))return;t.props.onExpectedStalledChange({reason:WR.Render,details:{}})}t.emit("InternalPlayingStateChange",o)},i=PM(r,(function(e){n=e,o()}),e);this.addEventListener(r,"play",o),this.once("Destroy",i)}},{key:"updateVideoSize",value:function(){var e=this.video,t=e.videoWidth,r=e.videoHeight;this.state.controller.videoWidth===t&&this.state.controller.videoHeight===r||this.stateController.putVideoSize({videoWidth:t,videoHeight:r})}},{key:"isRender",value:function(e){if(e!==YA.BUFFERING||this.video.seeking)return!1;var t=this.fpsController.getApproximateFPS(),r=t.approximateShownFPS,n=t.approximateDroppedFPS;return!!n&&r+n>300&&n>r}},{key:"isStalledLiveEdge",value:function(e){var t=this.video,r=this.state.controller.videoType,n=e===YA.BUFFERING,o=r===DR.D.EVENT||r===DR.D.LIVE,i=t.seekable.length>0&&t.seekable.end(0)-t.currentTime<2.5;return n&&o&&i}},{key:"initFrameTickController",value:function(){var e=this;this.state.controller.shouldEmitFrameRendered&&!this.frameTickController&&(this.frameTickController=new yB(this.video,(function(){e.emit("FrameRendered",e.getCurrentTime())})),this.on("Destroy",(function(){var t;null===(t=e.frameTickController)||void 0===t||t.stop(),e.frameTickController=null})))}},{key:"getPositionToRecover",value:function(){var e=this.state.controller,t=e.programDateTime,r=e.currentTime,n=e.startPosition;return r?{utc:void 0===t?void 0:t/1e3+r,videoTime:r}:n}},{key:"subscribeContentImpression",value:function(){var e=this;this.once("Detach",function(e,t){var r=(0,aj.O)(e,"timeupdate",(function(){e.currentTime>0&&!e.paused&&(o(),t())})),n=(0,aj.O)(e,"playing",(function(){e.duration>0&&(o(),t())})),o=function(){r(),n()};return o}(this.video,(function(){e.emit("ContentImpression",void 0)})))}},{key:"onTick",value:function(e){var t=this.getCurrentTime();t===this.state.controller.currentTime&&0!==t||this.emit("CurrentTimeChange",t),this.video.paused&&this.currentState===YA.PLAY&&!this.wasPausedAfterQualityChanged&&this.state.controller.encoderState!==CD.Attaching&&this.state.controller.playingState!==YA.PAUSE&&this.emit("InternalPlayingStateChange",YA.PAUSE),this.setPlaybackRateCatchup(),this.planRecoverCauseLongStalled()}},{key:"planRecoverCauseLongStalled",value:function(){var e=this;if(this.state.controller.playingState===YA.BUFFERING&&this.state.controller.encoderState===CD.Attached){if(this.engine===hT.NATIVE)if(null!==this.longStalledRecoverInfo){if(!this.longStalledRecoverInfo.planned){var t=4*this.getFragmentsData().fragmentDuration;if(!isNaN(t)&&this.longStalledRecoverInfo.getTime()>1e3*t){this.longStalledRecoverInfo.planned=!0;var r=this.state.controller.videoType!==DR.D.VOD;this.recoverHelper.planTask((function(){return e.recoverStream(r)}),{delay:0,reason:"Stalled longer than ".concat(4," segments.")})}}}else this.longStalledRecoverInfo={getTime:(0,y_.u)(),planned:!1}}else this.longStalledRecoverInfo=null}},{key:"addVideoEventListener",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.once,i=t,a=this.video,u=function(){a.removeEventListener(e,i)};return o&&(i=function(e){r.off("Destroy",u),u(),t.call(a,e)}),this.on("Destroy",u),this.video.addEventListener(e,i),u}},{key:"addEventListener",value:function(e,t,r,n){var o=(0,aj.O)(e,t,r,n);this.once("Destroy",o)}},{key:"getSeekableRange",value:function(){return{start:0,end:this.getDuration()||0}}},{key:"setNativeTimeControlVisibility",value:function(e){this.video.classList.toggle(iB().video_hiddenTime,!e)}},{key:"setNativeTimelineControlVisibility",value:function(e){this.video.classList.toggle(iB().video_hiddenTimeline,!e)}},{key:"getVisibleTextTrackMode",value:function(){return lb(this.state.skin.useNativeSubtitles)}},{key:"getHiddenTextTrackMode",value:function(){return"disabled"}},{key:"getCurrentTextTrack",value:function(){if(this.video){var e=this.getVisibleTextTrackMode();return sb(this.video.textTracks).find((function(t){return void 0!==t&&t.mode===e}))}}},{key:"restoreUserTextTrack",value:function(){var e,t,r,n,o=this.state.controller.userTextTrackEnabled;if(void 0!==o)if(o){var i=(e=this.state,t=e.controller,r=t.userTextTrackName,n=t.userTextTrackLang,nb(t.textTracks,{name:r,lang:n}));i&&this.setTextTrack(i)}else this.disableTextTrack()}},{key:"restoreUserAudioTrack",value:function(){var e,t,r,n,o=(e=this.playerStore.getState(),t=e.controller,r=t.userAudioTrackName,n=t.userAudioTrackLang,Dg(t.audioTracks,{name:r,lang:n}));o&&(hC.log("Set audio track by user params audioTrack=[".concat(JSON.stringify(o),"]")),this.setAudioTrack(o))}},{key:"restoreUserVideoTrack",value:function(){var e,t,r=(e=this.playerStore.getState(),Ng((t=e.controller).videoTracks,{name:t.userVideoTrackName,height:t.userVideoTrackHeight}));r&&(hC.log("Set video track by user params videoTrack=[".concat(JSON.stringify(r),"]")),this.setVideoTrack(r))}},{key:"updateSkinDvrParameters",value:function(e){var t=e/1e3,r=this.state,n=r.skin,o=n.skinDVRStartTime,i=n.skinDVRDuration,a=r.controller,u=a.videoType,c=a.dvrDuration,s=a.duration;if(u===DR.D.LIVE){var l=Math.min(o+t,s||0);this.playerStore.setSkinStateField(QD.skinDVRStartTime,l),this.emit("DVRStartTimeChange",l)}else if(u===DR.D.EVENT){var f=Math.min(i+t,c);this.playerStore.setSkinStateField(QD.skinDVRDuration,f),this.emit("DVRDurationChange",f)}}},{key:"destroyUnsafe",value:(a=Fb(Db().mark((function e(){var r;return Db().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.emit("Destroy",void 0),e.next=3,this.detachEncoder();case 3:Vb(qb(t.prototype),"destroy",this).call(this),(r=this.state.controller.errorInfo.error)&&r.isFatal&&this.video.src&&this.video.removeAttribute("src");case 6:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"preventPauseAsync",value:(i=Fb(Db().mark((function e(t,r){var n,o,i,a,u=this;return Db().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.paused,o=r(),this.preventPauseState||(this.preventPauseState={promises:[],shouldPlayAfterEnd:!n}),this.preventPauseState.promises.push(o),e.next=6,o;case 6:return i=e.sent,this.preventPauseState&&(a=this.preventPauseState.promises.length,mB.all(this.preventPauseState.promises).catch(gT.Z).then((function(){u.preventPauseState&&a===u.preventPauseState.promises.length&&(u.preventPauseState.shouldPlayAfterEnd&&(0,mP.v)(u.playInternal()),u.preventPauseState=void 0)}))),e.abrupt("return",i);case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"getVideoOwnerDocument",value:function(){return this.video.ownerDocument||document}},{key:"logLoadToRum",value:function(){Ff(this.engine,this.state.ad.adSyncInit)}},{key:"subscribeYabroRum",value:function(){var e=this;this.once("Detach",this.addVideoEventListener("firstframedecoded",(function(){Vf(e.engine,{},e.state.ad.adSyncInit)}),{once:!0})),this.once("Detach",this.addVideoEventListener("firstframeshown",(function(){Bf(e.engine,{},e.state.ad.adSyncInit)}),{once:!0}))}},{key:"getStreamUrl",value:function(){return this.props.stream.url}},{key:"shouldUseLowBuffer",value:function(){var e=this.state.controller,t=e.startStage,r=e.autoplay,n=e.preload,o=e.feed;return!(!this.video.paused||!o)||t!==tP.started&&!r&&n}},{key:"isBufferingOnPreload",value:function(e){if(e!==YA.BUFFERING)return!1;if(!this.state.controller.preload)return!1;var t=this.state.controller.startStage;return t!==tP.started&&t!==tP.starting&&(t!==tP.init||!this.state.controller.initialAutoplay||!this.state.controller.autoplay)}},{key:"getMaxBufferLength",value:function(){return this.shouldUseLowBuffer()?5:this.bufferGoalManager.getBufferGoal({watchedTime:this.state.controller.watchedTime,currentTime:this.getCurrentTime()})}},{key:"handleVideoElementPlayEvent",value:function(){this.video.paused||(this.wasPausedAfterQualityChanged=!1,this.emit("InternalPlayingStateChange",YA.PLAY))}},{key:"updateBufferGoal",value:function(){}},{key:"isLowLatencyLive",value:function(){return!1}},{key:"onVideoResize",value:function(){this.updateVideoSize()}},{key:"onPause",value:function(){this.video.paused&&(this.isPauseHandlerCalled||(this.isPauseHandlerCalled=!0,this.wasPausedAfterQualityChanged||this.video.ended||this.getCurrentTime()>=this.getDuration()||this.emit("InternalPlayingStateChange",YA.PAUSE)))}},{key:"calculateDVRParams",value:function(){var e=this.getFragmentsData(),t=e.fragmentDuration,r=e.startTime,n=e.totalDuration;return{fragmentDuration:t,dvrDuration:n,dvrStartTime:r,skinDVRDuration:n,skinDVRStartTime:r}}},{key:"updateDVRParams",value:function(){if(!isNaN(this.video.duration)){var e=this.calculateDVRParams(),t=e.fragmentDuration,r=e.dvrStartTime,n=e.dvrDuration,o=e.skinDVRStartTime,i=e.skinDVRDuration;this.playerStore.setControllerStateField(ZD.fragmentDuration,t);var a=this.state.controller,u=a.dvrDuration,c=a.dvrStartTime;AP()(u,n)||(this.playerStore.setControllerStateField(ZD.dvrDuration,n),this.playerStore.setSkinStateField(QD.skinDVRDuration,i),this.emit("DVRDurationChange",i)),AP()(c,r)||(this.playerStore.setControllerStateField(ZD.dvrStartTime,r),this.playerStore.setSkinStateField(QD.skinDVRStartTime,o),this.emit("DVRStartTimeChange",o))}}},{key:"setPlaybackRateCatchup",value:function(){var e=function(e,t,r,n){if(!$V&&rb(e)&&!bf(e)&&r){var o=e.controller,i=o.playingState,a=o.playbackRate;if(i===YA.PLAY){var u,c=t.total;if(c<2){var s=5*(c-2);u=.97+.06/(1+Math.exp(-s))}else{if(Math.abs(r-n)<=.02*n)return 1;var l=5*(r-n);u=.97+.06/(1+Math.exp(-l))}var f=Math.abs(a-u)<=JV,d=Math.abs(a-u)>=.06;if(!f&&!d)return a===u?void 0:u}}}(this.state,this.getRemainingBufferedTime(),this.getLiveLatency(),this.targetLatency);void 0!==e&&this.isLowLatencyLive()&&this.setPlaybackRate(e,$D.PlaybackRateCatchupSelection)}},{key:"handleSubtitles",value:function(){var e=this,t=this.video.textTracks;this.on("Destroy",(0,aj.O)(t,"addtrack",(function(t){"subtitles"===(null===t||void 0===t?void 0:t.track.kind)&&e.on("Destroy",(0,aj.O)(t.track,"cuechange",(function(){return e.refreshSubtitles()})))}))),this.on("TextTrackValueChange",(function(t){void 0===t?e.emptySubtitles():e.refreshSubtitles()})),this.on("Detach",(function(){for(var e=0;e<t.length;e++)cb(t[e])&&(t[e].mode="disabled")}))}},{key:"refreshSubtitles",value:function(){var e=function(e){try{if(void 0===e)return[];for(var t=e.activeCues,r=[],n=0;n<((null===t||void 0===t?void 0:t.length)||0);n++){var o=null===t||void 0===t?void 0:t[n];o&&o.text&&r.push(o.text)}return r}catch(hG){return[]}}(this.getCurrentTextTrack());AP()(this.currentSubtitles,e)||(this.currentSubtitles=e,this.props.onSubtitlesChange(e))}},{key:"emptySubtitles",value:function(){this.currentSubtitles.length>0&&(this.currentSubtitles=[],this.props.onSubtitlesChange([]))}},{key:"dispatchOnDurationChange",value:function(){if(this.state.controller.encoderState!==CD.Detached){var e=this.getDuration();isNaN(e)||this.state.controller.duration!==e&&this.emit("DurationChange",e)}}},{key:"playInternal",value:function(){var e=this,t=ib(this.video);return t.then((function(){var t;return null===(t=e.playDeferred)||void 0===t?void 0:t.resolve()})).catch((function(t){var r;-1!==String(t).indexOf("no supported sources")&&e.props.onError(new cT({code:P_.UNSUPPORTED_MEDIA_TYPE,isFatal:!0})),null===(r=e.playDeferred)||void 0===r||r.reject(t)})),t.then(gT.Z)}},{key:"shouldLogStalledDebugInfo",value:function(){return!1}}],o=[{key:"isLiveStreamUrl",value:function(e){return e.startsWith("https://strm.yandex.ru/live/")||e.startsWith("https://streaming.tst.strm.yandex.net/live/")||e.startsWith("https://edge.video.cloud.yandex.net/live/")}}],n&&Mb(r.prototype,n),o&&Mb(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(PL.M),bB=r(83361),wB=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=f.call(this,e)).props=e,fw(uw(r),"engine",hT.HLS),fw(uw(r),"preloadSourceHLSEncoder",void 0),fw(uw(r),"preloadSourceHandlers",[]),fw(uw(r),"preloadPosition",{}),fw(uw(r),"HLSEncoder",void 0),fw(uw(r),"lastKnownLevelDetails",void 0),fw(uw(r),"HLSEncoderAttachTime",1/0),fw(uw(r),"loadStarted",!1),fw(uw(r),"recoverOnBufferingReason",null),fw(uw(r),"initHlsEncoderPromise",void 0),fw(uw(r),"maxHeightCapping",void 0),fw(uw(r),"levelForcingInterval",void 0),fw(uw(r),"bufferGoalUpdateInterval",void 0),fw(uw(r),"stallDetector",void 0),fw(uw(r),"gapJumpTimer",void 0),fw(uw(r),"updateBufferGoal",(function(){r.HLSEncoder&&(r.HLSEncoder.config.maxMaxBufferLength=r.getMaxBufferLength())})),fw(uw(r),"restoreUserTracksWhenPossible",(function(){var e=uw(r).HLSEncoder;e&&(e.levels&&0!==e.levels.length?(0,TT.z)(r.HLSEncoderAttachTime)?r.restoreUserTracks():e.once(Hls.Events.MEDIA_ATTACHED,r.restoreUserTracks):e.once(Hls.Events.MANIFEST_LOADED,r.restoreUserTracksWhenPossible))})),fw(uw(r),"restoreUserTracks",(function(){r.restoreUserTextTrack(),r.restoreUserAudioTrack(),r.restoreUserVideoTrack()})),fw(uw(r),"onLevelUpdated",(function(){r.emit("VideoTypeChange",r.getVideoType());var e=r.getHlsEncoderLevelDetails();e&&e.fragments&&e.fragments.length>0&&(ew(e.fragments,1)[0].programDateTime&&r.emit("ProgramDateTimeChange",1e3*r.getUtcStartTime()))})),fw(uw(r),"onSubtitleTracksUpdated",(function(){var e,t;r.HLSEncoder&&r.emit("TextTracksChange",(e=r.HLSEncoder.subtitleTracks,t=[],Array.isArray(e)&&e.forEach((function(e){var r=Pg(e);r&&t.push(r)})),t))})),fw(uw(r),"onAudioTracksUpdated",(function(){var e=uw(r).HLSEncoder;if(e){var t,n,o=e.audioTracks;e.config.maxBufferSize=o.length>0?12e6:Hls.DefaultConfig.maxBufferSize,r.emit("AudioTracksChange",(t=o,n=[],Array.isArray(t)?(t.forEach((function(e){var t=Tg(e);t&&n.push(t)})),n):[]))}})),(0,mP.v)(je()),r.playerStore.setIsAbrSupported(!0),r}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ow(e,t)}(t,e);var r,n,o,i,a,u,c,s,l,f=iw(t);return r=t,(n=[{key:"initInternalSubscribe",value:function(){var e=this;cw(lw(t.prototype),"initInternalSubscribe",this).call(this),this.on("VideoPlayingStateChange",(function(t){t===YA.PLAY?e.recoverHelper.reset("play"):t===YA.END?e.stopLoad():t===YA.BUFFERING&&e.tryRecoverOnBuffering()})),this.subscribeVideoBuffering()}},{key:"getEngine",value:function(){return hT.HLS}},{key:"getFragmentsData",value:function(){var e=this.getHlsEncoderLevelDetails();if(!e)return cw(lw(t.prototype),"getFragmentsData",this).call(this);var r=e.totalduration,n=e.targetduration,o=ew(e.fragments,1)[0];return o?{totalDuration:Math.min(r,this.getDuration()),fragmentDuration:n,startTime:o.start}:cw(lw(t.prototype),"getFragmentsData",this).call(this)}},{key:"play",value:function(){return this.startLoadOnce(),cw(lw(t.prototype),"play",this).call(this)}},{key:"getUtcStartTime",value:function(){var e=this.getHlsEncoderLevelDetails();if(!e||!e.hasProgramDateTime)return 0;var t=ew(e.fragments,1)[0];return t&&t.programDateTime?t.programDateTime/1e3-t.start:0}},{key:"getUtcPosition",value:function(){var e=this.getUtcStartTime();return e>0?e+this.getCurrentTime():cw(lw(t.prototype),"getUtcPosition",this).call(this)}},{key:"setVideoTrack",value:function(e){var t=this.HLSEncoder;if(void 0!==t){var r=t.levels;if(void 0!==r){var n=e.value===sN().value?-1:r.findIndex((function(t){return t.url.some((function(t){return t===e.value}))}));-1===n?this.startLevelForcingWithSizeCap():this.stopLevelForcingWithSizeCap();var o=this.isPaused();t.currentLevel=n,!o&&this.isPaused()&&(this.wasPausedAfterQualityChanged=!0,this.emit("InternalPlayingStateChange",YA.BUFFERING))}}}},{key:"setAudioTrack",value:function(e){var t=this.HLSEncoder;if(void 0!==t){var r=t.audioTracks.find((function(t){return e.value===String(t.id)}));r&&(t.audioTrack=Number(r.id))}}},{key:"setTextTrack",value:function(e){var t=this.HLSEncoder;if(void 0!==t){var r=this.getHlsTextTrack(e);r&&(this.emit("InternalTextTrackValueChange",e&&e.value),t.subtitleTrack=r.id)}}},{key:"disableTextTrack",value:function(){this.emit("InternalTextTrackValueChange",void 0)}},{key:"toggleNativeSubtitles",value:function(e){cw(lw(t.prototype),"toggleNativeSubtitles",this).call(this,e);var r=this.HLSEncoder;void 0!==r&&(r.subtitleDisplay=e)}},{key:"preloadSource",value:(l=Xb(Qb().mark((function e(){var t,r,n,o,i,a,u=this;return Qb().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!1,r=function(){t=!0},this.once("Destroy",r),this.once("Detach",r),e.prev=4,e.next=7,je();case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(4),this.props.onError(cT.from(e.t0,{code:P_.SCRIPT_INIT_ERROR,isFatal:!1})),e.abrupt("return");case 13:if(!(t||this.HLSEncoder||this.initHlsEncoderPromise||this.preloadSourceHLSEncoder)){e.next=15;break}return e.abrupt("return");case 15:n=$b($b({},this.getHlsJsConfig()),{},{liveSyncDuration:KD}),o=window.hls=this.preloadSourceHLSEncoder=new Hls(n),i=function(e,t){u.preloadSourceHandlers.push([e,t]),o.once(e,t)},c=Hls.Events.ERROR,s=function(e,t){if(t){var r=bg(t),n=wg(t);void 0!==n&&(u.props.onError(new cT($b($b({},n),{},{isFatal:!1}))),r&&(u.props.onError(new cT({code:P_.PRELOAD_SOURCE_FAILED,isFatal:!1,details:{reason:n}})),u.unsubscribePreloadSourceHandlers(),o.destroy(),u.clearPreloadSourceHlsEncoder()))}},u.preloadSourceHandlers.push([c,s]),o.on(c,s),a=function(){u.preloadPosition=u.state.controller.startPosition,o.config.startFragPrefetch=!0,u.loadStarted=!0},i(Hls.Events.MANIFEST_PARSED,(function(e,t){var r=t.levels,n=void 0===r?[]:r,c=t.audioTracks,s=void 0===c?[]:c,l=u.getStartVideoLevelIndex(n);o.startLevel=l,u.state.controller.isAbrEnabled||(o.loadLevel=l),u.getStartAudioTrackIndex(s)>-1&&(o.audioTrack=u.getStartAudioTrackIndex(s));var f=u.getStartLoadPosition();i(Hls.Events.LEVEL_UPDATED,(function(e,t){var r=t.details,n=u.getStartLoadPosition(r);f!==n&&void 0!==n&&o.streamController.startLoad(n),a()})),o.startLoad(f)})),o.loadSource(this.getStreamUrl());case 23:case"end":return e.stop()}var c,s}),e,this,[[4,9]])}))),function(){return l.apply(this,arguments)})},{key:"attachEncoder",value:(s=Xb(Qb().mark((function e(){var r;return Qb().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cw(lw(t.prototype),"attachEncoder",this).call(this);case 2:if(MV){e.next=6;break}return r=new cT({code:P_.HLS_JS_NOT_SUPPORTED_ERROR}),this.props.onError(r),e.abrupt("return",bB.reject(bt(r,this.state.ad.adblockDetected)));case 6:return this.initHlsEncoderPromise=this.initHlsEncoder(),e.next=9,this.initHlsEncoderPromise;case 9:return this.initHlsEncoderPromise=void 0,this.subscribeContentImpression(),this.startLevelForcingWithSizeCap(),e.abrupt("return",this.attachMedia());case 13:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"destroyUnsafe",value:(c=Xb(Qb().mark((function e(){return Qb().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cw(lw(t.prototype),"destroyUnsafe",this).call(this);case 2:this.preloadSourceHLSEncoder&&this.preloadSourceHLSEncoder.destroy(),this.HLSEncoder&&this.HLSEncoder.destroy();case 4:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"canSeek",value:function(){return void 0!==this.HLSEncoder&&Boolean(this.HLSEncoder.media)&&cw(lw(t.prototype),"canSeek",this).call(this)}},{key:"detachEncoder",value:(u=Xb(Qb().mark((function e(){var r,n,o,i,a,u,c=this;return Qb().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,yP.w)(this.video.textTracks).forEach(Gg),this.stopLevelForcingWithSizeCap(),this.stopBufferGoalAutoUpdate(),e.next=5,cw(lw(t.prototype),"detachEncoder",this).call(this);case 5:if(this.loadStarted=!1,this.preloadSourceHLSEncoder&&(this.preloadSourceHLSEncoder.destroy(),this.clearPreloadSourceHlsEncoder()),this.HLSEncoder){e.next=16;break}if(!this.initHlsEncoderPromise){e.next=13;break}return e.next=11,this.initHlsEncoderPromise;case 11:e.next=16;break;case 13:return null===(o=this.stallDetector)||void 0===o||o.release(),null===(i=this.gapJumpTimer)||void 0===i||i.stop(),e.abrupt("return");case 16:if(null===(r=this.stallDetector)||void 0===r||r.release(),null===(n=this.gapJumpTimer)||void 0===n||n.stop(),a=this.video,void 0!==(u=this.HLSEncoder)){e.next=21;break}return e.abrupt("return");case 21:return this.recoverOnBufferingReason=null,e.abrupt("return",new bB((function(e){u.media?u.once(Hls.Events.MEDIA_DETACHED,(function(){c.HLSEncoderAttachTime=1/0,e()})):e(),c.lastKnownLevelDetails=void 0,Fg(a,(function(){u.destroy(),c.HLSEncoder=void 0}))})));case 23:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"getMaxCapAllowedVideoTrack",value:function(){var e=this.HLSEncoder;if(e&&e.levels&&e.autoLevelEnabled){var t=e.levels[e.autoLevelCapping];if(t){var r=this.state.controller.videoTracks.find((function(e){return e.value===t.url[0]}));if(r&&r.width&&r.height)return{width:r.width,height:r.height}}}}},{key:"onVideoTagError",value:function(e){var r=this;if(cw(lw(t.prototype),"onVideoTagError",this).call(this,e),this.video.error&&!bf(this.state)){var n=ug(this.video);if(n.code===PV.MEDIA_ERR_DECODE||n.code===PV.MEDIA_ERR_SRC_NOT_SUPPORTED){var o=n.code===PV.MEDIA_ERR_SRC_NOT_SUPPORTED,i=new cT({code:PV[n.code],details:n,isFatal:o});if(this.props.onError(i),!o){var a="VideoTagError MEDIA_ERR_DECODE";hC.log(a),this.props.onExpectedStalledChange({reason:WR.MediaError,details:void 0}),this.isPaused()&&this.recoverHelper.planTask((function(){return r.recoverCurrentFrag()}),{reason:a,delay:1e3})}}}}},{key:"calculateDVRParams",value:function(){var e=this.state.controller.videoType;if(e===DR.D.VOD||void 0===e)return cw(lw(t.prototype),"calculateDVRParams",this).call(this);var r=this.getFragmentsData(),n=r.fragmentDuration,o=r.startTime,i=r.totalDuration,a=this.props.liveOffset,u=1*n,c=e===DR.D.EVENT?a:u+a;return{fragmentDuration:n,dvrStartTime:o,dvrDuration:i,skinDVRStartTime:e===DR.D.EVENT?o:u+o,skinDVRDuration:i-c}}},{key:"onTick",value:function(e){cw(lw(t.prototype),"onTick",this).call(this,e),this.updateSkinDvrParameters(e)}},{key:"getStreamUrl",value:function(){var e=cw(lw(t.prototype),"getStreamUrl",this).call(this),r={session_data:"1"};return Yi(e)||(r.preview="1"),(0,Lx.Sr)(e,r,{saveOriginalPath:!0})}},{key:"getBandwidthEstimate",value:function(){var e=this;if(!this.HLSEncoder)return cw(lw(t.prototype),"getBandwidthEstimate",this).call(this);var r=(0,j_.Y)((function(){return e.HLSEncoder.abrController._bwEstimator.getEstimate()}));return(0,TT.z)(r)?{value:r,source:"hlsjs"}:cw(lw(t.prototype),"getBandwidthEstimate",this).call(this)}},{key:"getUtcEndTime",value:function(){var e=this.getUtcStartTime();return e?e+this.getDuration():0}},{key:"stopLoad",value:function(){this.HLSEncoder&&(this.HLSEncoder.stopLoad(),this.loadStarted=!1)}},{key:"tryRecoverOnBuffering",value:function(){var e=this;if(this.recoverOnBufferingReason){var t=this.recoverOnBufferingReason,r=t.type,n=t.url,o=t.details,i=t.frag,a=this.state.controller,u=a.bufferingRanges,c=a.fragmentDuration,s=this.getCurrentTime();u.some((function(e){var t=e.start,r=e.end;return t+c<s&&r-c>s}))?hC.log("skip recover",{currentTime:s,bufferingRanges:u}):this.recoverHelper.planTask((function(){return e.recoverCurrentFrag()}),{reason:"HlsJs ".concat(r),rawData:{details:o,type:r,url:n,isFatal:!0,frag:lg(i)},delay:100})}}},{key:"getHlsJsConfig",value:function(){var e=this,t="true"!==mx.t.getItem(UV.WAS_WORKER_INTERNAL_ERROR);return{manifestLoadingTimeOut:VV.d4,levelLoadingTimeOut:VV.e8,fragLoadingTimeOut:VV.C,fragLoadingMaxRetry:5,debug:this.props.debug,enableWorker:t,autoStartLoad:!1,capLevelToPlayerSize:!1,liveSyncDuration:this.props.liveOffset,levelLoadingMaxRetry:25,levelLoadingMaxRetryTimeout:100,enableCEA708Captions:!1,xhrSetup:function(t,r){e.withCredentials&&(t.withCredentials=!0);var n=(0,Lx.lm)(r);("m3u8"===n||"ts"===n)&&t.open("GET",(0,jF.c)(r),!0)},fetchSetup:function(t,r){return e.withCredentials&&(r.credentials="include"),new Request(t.url,r)},maxMaxBufferLength:this.getMaxBufferLength()}}},{key:"preparePreloadSourceHlsEncoderToAttach",value:function(){var e=this.preloadSourceHLSEncoder;if(e){this.HLSEncoder=e;var t=this.preloadPosition;if(this.unsubscribePreloadSourceHandlers(),this.clearPreloadSourceHlsEncoder(),e.config.liveSyncDuration=this.props.liveOffset,!e.levels||0===e.levels.length)return e;this.onLevelsUpdated(),this.onLevelUpdated(),this.updateThumbnailTileMeta(),this.onAudioTracksUpdated(),this.onAudioTrackUpdated(e.audioTrack),this.onSubtitleTracksUpdated();var r=this.state.controller.startPosition,n=r.videoTime,o=r.utc;if(t.utc===o&&t.videoTime===n)return e;var i=this.getStartLoadPosition(this.getHlsEncoderLevelDetails());return void 0!==i&&e.streamController.startLoad(i),e}}},{key:"initHlsEncoder",value:(a=Xb(Qb().mark((function e(){var t,r,n,o=this;return Qb().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.HLSEncoder){e.next=2;break}return e.abrupt("return");case 2:if(this.HLSEncoder=this.preparePreloadSourceHlsEncoderToAttach(),!this.HLSEncoder){e.next=7;break}this.props.logEvent({event:LP.UsePreloadedHlsJs,params:{}}),e.next=18;break;case 7:return e.prev=7,e.next=10,je();case 10:e.next=17;break;case 12:throw e.prev=12,e.t0=e.catch(7),t=cT.from(e.t0,{code:P_.SCRIPT_INIT_ERROR}),this.props.onError(t),t;case 17:this.HLSEncoder=new Hls(this.getHlsJsConfig());case 18:r=this.HLSEncoder,window.hls=r,this.subscribeHlsEncoderEvents(r),this.restoreUserTracksWhenPossible(),this.initBufferGoalAutoUpdate(),n=function e(t){t!==YA.BUFFERING&&t!==YA.PLAY||(r.config.maxMaxBufferLength=o.getMaxBufferLength(),o.off("VideoPlayingStateChange",e))},this.on("VideoPlayingStateChange",n);case 25:case"end":return e.stop()}}),e,this,[[7,12]])}))),function(){return a.apply(this,arguments)})},{key:"subscribeHlsEncoderEvents",value:function(e){var t=this;e.subtitleDisplay=this.state.skin.useNativeSubtitles;var r=function(r){if(e.levels){var n=e.levels[r];if(n){var o=Ig(n,t.videoTrackLabels);o&&t.emit("InternalVideoTrackValueChange",o.value)}}};e.on(Hls.Events.LEVEL_SWITCHING,(function(e,t){r(t.level)})),e.on(Hls.Events.LEVEL_SWITCHED,(function(e,t){r(t.level)})),e.levels&&0!==e.levels.length||e.on(Hls.Events.MANIFEST_PARSED,(function(n,o){var i=o.levels,a=void 0===i?[]:i,u=o.audioTracks,c=void 0===u?[]:u;t.onLevelsUpdated(),t.updateThumbnailTileMeta();var s=t.getStartVideoLevelIndex(a);e.startLevel=s,t.state.controller.isAbrEnabled||(e.loadLevel=s),t.getStartAudioTrackIndex(c)>-1&&(e.audioTrack=t.getStartAudioTrackIndex(c)),e.once(Hls.Events.LEVEL_LOADED,(function(e,t){var n=t.level;r(n)}))})),e.on(Hls.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated),e.on(Hls.Events.AUDIO_TRACK_SWITCHING,(function(e,r){t.onAudioTrackUpdated(r.id)})),e.on(Hls.Events.AUDIO_TRACK_SWITCHED,(function(e,r){t.onAudioTrackUpdated(r.id)})),e.on(Hls.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated),e.on(Hls.Events.SUBTITLE_TRACK_SWITCH,(function(r,n){if(e.subtitleTrack>-1){var o=Pg(e.subtitleTracks.find((function(e){return e.id===n.id})));if(!o)return;t.emit("InternalTextTrackValueChange",o.value)}else t.emit("InternalTextTrackValueChange",void 0)})),e.on(Hls.Events.FRAG_PARSING_METADATA,function(){var e=Xb(Qb().mark((function e(r,n){var o,i,a,u,c,s,l,f;return Qb().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.samples,i=n.frag,o&&0!==o.length){e.next=3;break}return e.abrupt("return");case 3:a=o.map((function(e){var t=e.data;return(0,IV.parseV2Tag)(t)})).filter((function(e){return!1!==e&&void 0!==e.writer})).map((function(e){return e.writer})),u=a.filter((function(e){return void 0!==e})),c=Ug(u),s=c.data,l=c.index,f=c.reason,hC.log("choose metadata: ",s,l,f),Math.random()<.01&&t.props.logEvent({event:LP.StreamPlayerChooseMetadata,params:{fragmentMetadataArray:s,chosenIndex:l,chosenReason:f}}),t.emit("MetadataChange",{fragmentMetadataArray:[s],fragmentStart:i.start,fragmentDuration:i.duration,src:i?i.url:t.getStreamUrl()});case 10:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),e.on(Hls.Events.MANIFEST_LOADED,(function(){t.onLevelsUpdated(),t.forceLevel(),t.onAudioTracksUpdated(),t.onSubtitleTracksUpdated()})),e.on(Hls.Events.LEVEL_UPDATED,this.onLevelUpdated),e.on(Hls.Events.ERROR,(function(e,r){r&&t.onEncoderError(r)})),e.on(Hls.Events.FRAG_PARSED,(function(e,r){return t.handleFragParsed(e,r)})),this.on("VideoPlayingStateChange",(function(e){"play"!==e&&"buffering"!==e||t.startLoadOnce()}))}},{key:"initBufferGoalAutoUpdate",value:function(){var e=this;this.stopBufferGoalAutoUpdate(),this.bufferGoalUpdateInterval=window.setInterval((function(){e.updateBufferGoal()}),1e3)}},{key:"stopBufferGoalAutoUpdate",value:function(){window.clearInterval(this.bufferGoalUpdateInterval)}},{key:"getStartVideoLevelIndex",value:function(e){var t=this.playerStore.getState().controller,r=t.userVideoTrackHeight,n=Ng(e,{name:t.userVideoTrackName,height:r});if(n){var o=e.indexOf(n);return hC.log("User level found, start loading by index=[".concat(o,"]")),o}return Zg({levels:e,maxHeightCapping:this.maxHeightCapping,video:this.video,bandwidth:this.state.controller.isAbrEnabled?this.getBandwidthEstimate().value:1/0})}},{key:"getStartAudioTrackIndex",value:function(e){var t=this.playerStore.getState().controller,r=Dg(e,{name:t.userAudioTrackName,lang:t.userAudioTrackLang});if(!r)return-1;var n=e.indexOf(r);return hC.log("User audio track found, start loading by index=[".concat(n,"]")),n}},{key:"handleFragParsed",value:function(e,t){var r=t.frag,n=r.duration;if(0===n&&this.state.controller.videoType===DR.D.VOD){var o=this.getHlsEncoderLevelDetails(),i=o?o.fragments:[];if(i[i.length-1]===r)return}(n<=0||n>=2*this.fragDuration)&&this.props.logEvent({event:"InvalidFragDuration",params:lg(r)})}},{key:"startLoadOnce",value:function(e){var t=this,r=this.HLSEncoder;this.loadStarted||void 0===r||(r.levels&&r.levels.length>0?(r.startLoad(e),this.loadStarted=!0):r.once(Hls.Events.MANIFEST_PARSED,(function(){t.startLoadOnce(e)})))}},{key:"getHlsEncoderLevelDetails",value:function(){var e=this.HLSEncoder;if(void 0!==e){var t=e.currentLevel,r=e.levels;if(r){var n=r[t];if(n&&n.details)return this.lastKnownLevelDetails=n.details,this.lastKnownLevelDetails;var o=r.find((function(e){var t=e.details;return Boolean(t)}));if(o){var i=o.details;this.lastKnownLevelDetails=i}return this.lastKnownLevelDetails}}}},{key:"computeRecoverJumpGap",value:function(){var e=this.state.controller.bufferingRanges,t=this.getCurrentTime();return Math.max.apply(Math,zb(e.map((function(e){return e.end}))))+1.1*this.fragDuration<t?(hC.log("use 0 as recoverJumpGap",{currentTime:t,bufferingRanges:e}),0):1.1*this.fragDuration}},{key:"computeRecoverPositionFromStartPosition",value:function(){var e=this.state.controller.startPosition,t={},r=this.computeRecoverJumpGap();return void 0!==e.utc&&e.utc>0&&(t.utc=e.utc+r),t.videoTime=(e.videoTime||0)+r,t}},{key:"computeRecoverPositionFromCurrentTime",value:function(){var e={},t=this.state.controller.lastRecoverPosition,r=this.getCurrentTime(),n=this.getUtcPosition(),o=this.computeRecoverJumpGap(),i=t||{},a=i.utc,u=void 0===a?0:a,c=i.videoTime,s=void 0===c?0:c;return(n>0||u>0)&&(e.utc=Math.max(n,u)+o),e.videoTime=Math.max(r,s)+o,e}},{key:"recoverCurrentFrag",value:(i=Xb(Qb().mark((function e(){var t,r,n,o;return Qb().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.controller,r=t.lastRecoverPosition,n=t.bufferingRanges,o=this.getDuration()>0||void 0!==r?this.computeRecoverPositionFromCurrentTime():this.computeRecoverPositionFromStartPosition(),this.playerStore.setControllerStateField(ZD.lastRecoverPosition,o),this.playerStore.setControllerStateField(ZD.startPosition,o),e.next=6,this.detachEncoder();case 6:return this.emit("BufferingRangesChange",n),e.next=9,this.attachEncoder();case 9:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"attachMedia",value:function(){var e=this;hC.log("attachMedia"),this.logLoadToRum();var t=this.video,r=this.HLSEncoder;if(void 0===r){var n=new cT({code:P_.NO_HLS_JS_INSTANCE,isFatal:!1});return this.props.onError(n),bB.reject(n)}var o=new bB((function(t){r.once(Hls.Events.MEDIA_ATTACHED,(function(){e.HLSEncoderAttachTime=A_(),r.url||r.loadSource(e.getStreamUrl()),t()}))}));r.once(Hls.Events.MANIFEST_PARSED,(function(){if(!e.loadStarted){var t=e.getStartLoadPosition();r.startLoad(t),e.loadStarted=!0,r.once(Hls.Events.LEVEL_UPDATED,(function(n,o){var i=o.details,a=e.getStartLoadPosition(i);a!==t&&void 0!==a&&r.streamController.startLoad(a)}))}}));var i=r.levels&&r.levels.length>0?bB.resolve():new bB((function(e){r.once(Hls.Events.MANIFEST_PARSED,(function(){e()}))}));return Fg(this.video,(function(){r.attachMedia(t)})),this.stallDetector=new rV(this.video,(function(){e.props.logEvent({event:"HlsJsStallDetected",params:{}})})),this.gapJumpTimer=new GM((function(){var t;null===(t=e.stallDetector)||void 0===t||t.poll()})).tickEvery(.25),bB.all([o,i]).then((function(){}))}},{key:"onAudioTrackUpdated",value:function(e){var t=this.HLSEncoder;if(t){var r=Tg(t.audioTracks.find((function(t){return t.id===e})));r&&this.emit("InternalAudioTrackValueChange",r.value)}}},{key:"getVideoType",value:function(){var e=this.getHlsEncoderLevelDetails();return e?Yg(e):(this.HLSEncoder&&this.HLSEncoder.levels||[]).some((function(e){var t=e.details;return Boolean(t&&t.live)}))||this.getDuration()===1/0?DR.D.LIVE:DR.D.VOD}},{key:"onLevelsUpdated",value:function(){var e=this.HLSEncoder||{},t=e.sessionData,r=void 0===t?{}:t,n=e.levels,o=void 0===n?[]:n;this.videoTrackLabels=Xg(r),this.maxHeightCapping=function(e){var t=(e["com.yandex.video.capping.maxheight"]||{}).VALUE,r=parseInt(void 0===t?"":t,10);return r>0?r:void 0}(r),this.emit("VideoTracksChange",Cg(o,this.videoTrackLabels))}},{key:"updateThumbnailTileMeta",value:function(){var e=this,t=(this.HLSEncoder||{}).sessionData,r=void 0===t?{}:t,n=function(t){e.props.logEvent({event:t,params:void 0})},o=Ag(r,LV.LOWRES,n),i=Ag(r,LV.HIGHRES,n);if(void 0!==i){var a=o?_g(o,n):void 0,u=_g(i,n),c=function(e){var t=(e["com.yandex.video.thumbnail.version"]||{}).VALUE;return parseFloat(void 0===t?"":t)||0}(r);this.props.onThumbnailTileGeneralMetaInfoChange({version:c,lowRes:a,highRes:u})}}},{key:"onEncoderError",value:function(e){var t=this,r=e.details,n=e.type,o=e.url,i=e.frag;if(r){var a;if((a=e).networkDetails&&423===a.networkDetails.status&&a.details===Hls.ErrorDetails.LEVEL_LOAD_ERROR)return this.props.logEvent({event:LP.HlsJsForceCappingStart,params:{}}),void this.recoverHelper.planTask((function(){return t.recoverCurrentFrag()}),{force:Eg(e),reason:"HlsJs ".concat(n),rawData:{details:r,type:n,url:o,isFatal:!1},delay:0});var u=bg(e),c=wg(e);if(void 0!==c&&(u||n===Hls.ErrorTypes.MEDIA_ERROR))if(this.recoverHelper.allowed&&!c.isFatal){if(this.props.onError(c),Sg(e)){if(this.currentState!==YA.BUFFERING&&function(e){var t=e.details;return!!t&&(Hls.ErrorDetails.FRAG_LOAD_ERROR===t||Hls.ErrorDetails.FRAG_LOAD_TIMEOUT===t||Hls.ErrorDetails.FRAG_PARSING_ERROR===t||Hls.ErrorDetails.LEVEL_LOAD_TIMEOUT===t)}(e))return void(this.recoverOnBufferingReason=e);var s;e.details===Hls.ErrorDetails.INTERNAL_EXCEPTION&&"demuxerWorker"===e.event?(mx.t.setItem(UV.WAS_WORKER_INTERNAL_ERROR,"true"),s=function(){return t.recoverStream()}):s=function(){return t.recoverCurrentFrag()},this.recoverHelper.planTask(s,{force:Eg(e),reason:"HlsJs ".concat(n),rawData:{details:r,type:n,url:o,isFatal:u,frag:lg(i)},delay:1e3})}}else this.props.onError(new cT($b($b({},c),{},{isFatal:!0})))}}},{key:"getHlsTextTrack",value:function(e){if(this.HLSEncoder)return this.HLSEncoder.subtitleTracks.find((function(t){return e.value===String(t.id)}))}},{key:"unsubscribePreloadSourceHandlers",value:function(){var e=this.preloadSourceHLSEncoder;e&&(this.preloadSourceHandlers.forEach((function(t){var r=ew(t,2),n=r[0],o=r[1];e.off(n,o)})),this.preloadSourceHandlers.length=0)}},{key:"clearPreloadSourceHlsEncoder",value:function(){this.preloadSourceHLSEncoder=void 0,this.preloadPosition={}}},{key:"getStartLoadPosition",value:function(e){return function(e){var t=e.details,r=e.startPosition,n=e.liveOffset,o=r.videoTime;if(void 0===t)return o;if(t.hasProgramDateTime&&Hg(r.utc)){var i=t.fragments[0].programDateTime/1e3;o=r.utc-i}if(Hg(o)){var a=Yg(t)===DR.D.VOD?0:n,u=qg(t.fragments,1)[0];return wc(o,void 0===u?0:u.start,t.totalduration-a)}}({details:e,startPosition:this.state.controller.startPosition,liveOffset:this.props.liveOffset})}},{key:"startLevelForcingWithSizeCap",value:function(){var e=this;clearInterval(this.levelForcingInterval),this.levelForcingInterval=window.setInterval((function(){e.forceLevel()}),1e3)}},{key:"stopLevelForcingWithSizeCap",value:function(){clearInterval(this.levelForcingInterval)}},{key:"forceLevel",value:function(){if(this.HLSEncoder&&this.HLSEncoder.autoLevelEnabled&&this.HLSEncoder.levels&&this.HLSEncoder.levels.length){var e=this.getCapSizes(),t=e.width,r=e.height,n=e.maxWidth,o=e.maxHeight,i=Math.min(t,n||1/0),a=Math.min(r,o||1/0),u=Math.min.apply(Math,zb([this.maxHeightCapping,a].filter(TT.z))),c=this.HLSEncoder.levels,s=c.reduce((function(e,t,r){if((t.height<e.smallestLevel.height||t.width<e.smallestLevel.width)&&(e.smallestLevel=t,e.smallestLevelIndex=r),t.height>u||t.width>i)return e;var n=(c[e.index]||{}).height||0;return t.height>n?$b($b({},e),{},{index:r}):e}),{index:-1,smallestLevel:c[0],smallestLevelIndex:0});this.HLSEncoder.autoLevelCapping=-1===s.index?s.smallestLevelIndex:s.index}}}])&&nw(r.prototype,n),o&&nw(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(gB),SB=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"status",void 0),this.status=t.status}var t,r,n;return t=e,n=[{key:"fromXHR",value:function(t){return new e(t)}}],(r=[{key:"isFatalError",value:function(){return this.isRegionLimitationError()||this.isSignatureExpiredError()||this.isBannedError()}},{key:"toPlayerError",value:function(){return new cT({code:this.getErrorCode(),isFatal:this.isFatalError(),details:JSON.parse((0,wL.Y)(this))})}},{key:"isRegionLimitationError",value:function(){return 451===this.status}},{key:"isSignatureExpiredError",value:function(){return BV.includes(this.status)}},{key:"isBannedError",value:function(){return 454===this.status}},{key:"getErrorCode",value:function(){return this.isRegionLimitationError()?P_.REGIONAL_LIMITATION_MANIFEST:this.isSignatureExpiredError()?P_.SIGNATURE_EXPIRED_MANIFEST:this.isBannedError()?P_.BANNED_MANIFEST:P_.DEFAULT_ERROR}}])&&dw(t.prototype,r),n&&dw(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),EB=function(e){return(0,I_.H)(e)&&(0,$x.n)(P_,e)},OB=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),kw(this,"serverTimestamp",void 0),kw(this,"getElapsedTimeFromServerDate",(function(){return 0}))}var t,r,n;return t=e,(r=[{key:"parseServerTime",value:function(e,t){if(e.date||e["x-server-time-ms"]){var r=NaN;e["x-server-time-ms"]?r=new Date(parseInt(e["x-server-time-ms"],10)).getTime():e.date&&(r=new Date(e.date).getTime()),(0,TT.z)(r)&&(this.serverTimestamp=r+t/2,this.getElapsedTimeFromServerDate=(0,y_.u)())}}},{key:"getServerTime",value:function(){if(void 0!==this.serverTimestamp)return this.serverTimestamp+this.getElapsedTimeFromServerDate()}}])&&Ow(t.prototype,r),n&&Ow(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),kB=r(83361),_B=["loadstart","progress","durationchange","loadedmetadata","loadeddata","canplay","playing"],AB=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=u.call(this,e)).props=e,Mw(Cw(r),"serverTimeEstimator",void 0),Mw(Cw(r),"estimatorPollingInterval",void 0),Mw(Cw(r),"isRecoverablePlaylistHTTPStatus",!0),Mw(Cw(r),"checkPlaylistHTTPStatusPromise",void 0),Mw(Cw(r),"applyStartPosition",(function(){if(r.canSeek()){var e=r.getCurrentTime(),t=r.getStartPosition();(0,TT.z)(t)&&e!==t&&r.seekInternal(t)}})),Mw(Cw(r),"saveUserAudioTrack",(function(e){if(e.isTrusted){var t=vw(r.video);t&&r.playerStore.setUserAudioTrackParams({name:t.name||void 0,lang:t.lang||void 0})}})),Mw(Cw(r),"actualizeNativeAudioTrack",(function(){var e=vw(r.video);r.emit("InternalAudioTrackValueChange",e&&e.value)})),Mw(Cw(r),"notifyTextTracksChanged",(function(e){r.saveUserTextTrack(e);var t=gw(r.video,r.getVisibleTextTrackMode());r.emit("InternalTextTrackValueChange",t&&t.value)})),Mw(Cw(r),"saveUserTextTrack",(function(e){if(e&&e.isTrusted){var t=gw(r.video,r.getVisibleTextTrackMode());t&&r.playerStore.setUserTextTrackParams({enabled:!0,lang:t.lang,name:t.name})}})),r.playerStore.setIsAbrSupported(!0),r.stateController.putIsAbrEnabled(!0),r.serverTimeEstimator=new OB,r.estimateLatency(),r.on("VideoTypeChange",(function(e){r.startLatencyPolling(e)})),r.on("Detach",(function(){return r.stopLatencyPolling()})),r.once("Destroy",(function(){return r.stopLatencyPolling()})),r}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lw(e,t)}(t,e);var r,n,o,i,a,u=jw(t);return r=t,(n=[{key:"subscribeVideoTracksChange",value:function(){var e=this;this.addEventListener(this.video.videoTracks,"addtrack",this.createAddTrackCallback((function(){e.emit("VideoTracksChange",Ew(e.video.videoTracks)),e.restoreUserVideoTrack()}))),this.addEventListener(this.video.videoTracks,"removetrack",(function(){e.emit("VideoTracksChange",Ew(e.video.videoTracks))})),this.addEventListener(this.video.videoTracks,"change",(function(){var t=e.video,r=t.videoHeight,n=t.videoWidth,o=Sw(_w({videoTracks:t.videoTracks,videoHeight:r,videoWidth:n}));e.emit("InternalVideoTrackValueChange",o&&o.value)}))}},{key:"createAddTrackCallback",value:function(e){return kn(e,0)}},{key:"subscribeAudioTracksChange",value:function(){var e=this;this.addEventListener(this.video.audioTracks,"addtrack",this.createAddTrackCallback((function(t){e.emit("AudioTracksChange",bw(e.video.audioTracks)),e.actualizeNativeAudioTrack(),e.restoreUserAudioTrack()}))),this.addEventListener(this.video.audioTracks,"removetrack",(function(){e.emit("AudioTracksChange",bw(e.video.audioTracks)),e.actualizeNativeAudioTrack()})),this.addEventListener(this.video.audioTracks,"change",(function(t){e.actualizeNativeAudioTrack(),e.saveUserAudioTrack(t)}))}},{key:"subscribeTextTracksChange",value:function(){var e=this;this.addEventListener(this.video.textTracks,"addtrack",(function(){e.emit("TextTracksChange",ww(e.video.textTracks)),e.restoreUserTextTrack()}))}},{key:"initInternalSubscribe",value:function(){var e=this;Dw(Fw(t.prototype),"initInternalSubscribe",this).call(this),this.subscribeVideoBuffering();var r=(0,v_.I)((function(){e.emit("VideoTracksChange",Ew(e.video.videoTracks)),e.emit("AudioTracksChange",bw(e.video.audioTracks)),e.emit("TextTracksChange",ww(e.video.textTracks));var t=e.video,r=t.videoHeight,n=t.videoWidth,o=Sw(_w({videoTracks:t.videoTracks,videoHeight:r,videoWidth:n}));o&&e.emit("InternalVideoTrackValueChange",o.value),e.setFirstAudioTrack()}));this.initTextTracks(),this.once("CanPlay",r),this.once("Destroy",(function(){e.off("CanPlay",r)})),this.video.videoTracks&&this.subscribeVideoTracksChange(),this.video.audioTracks&&this.subscribeAudioTracksChange(),this.video.textTracks&&this.subscribeTextTracksChange(),this.addVideoEventListener("progress",(function(){var t=e.state.controller.videoType;t!==DR.D.LIVE&&t!==DR.D.EVENT||e.emit("DvrChange")})),this.subscribeCueChange()}},{key:"getServerTime",value:function(){var e=this.serverTimeEstimator.getServerTime();return e?e/1e3:void 0}},{key:"setAudioTrack",value:function(e){if(""!==e.value){var t=(0,yP.w)(this.video.audioTracks),r=t.find((function(t){return t.id===e.value}));void 0!==r&&(r.enabled=!0,t.forEach((function(e){e!==r&&(e.enabled=!1)})))}}},{key:"setTextTrack",value:function(e){""!==e.lang&&this.renderTextTrack(e.lang)}},{key:"disableTextTrack",value:function(){this.renderTextTrack(void 0)}},{key:"renderTextTrack",value:function(e){var t=this;sb(this.video.textTracks).forEach((function(r,n){r&&(mw(r,n).lang===e?r.mode=t.getVisibleTextTrackMode():r.mode=t.getHiddenTextTrackMode())}))}},{key:"seekInternal",value:function(e){mb(this.video,wc(e,0,this.getDuration()||0))}},{key:"getSeekableRange",value:function(){var e=this.video.seekable;return{start:e.start(0),end:e.end(e.length-1)}}},{key:"getFragmentsData",value:function(){if(!this.isDvrEnabled()||!this.video||!this.video.seekable.length)return Dw(Fw(t.prototype),"getFragmentsData",this).call(this);var e=this.getSeekableRange(),r=e.start;return{totalDuration:e.end-r,fragmentDuration:KD,startTime:r}}},{key:"shouldSkipVideoTagError",value:function(e){return e.code!==PV.MEDIA_ERR_DECODE&&e.code!==PV.MEDIA_ERR_ENCRYPTED&&e.code!==PV.MEDIA_ERR_SRC_NOT_SUPPORTED||bf(this.state)}},{key:"onVideoTagError",value:(a=xw(Tw().mark((function e(){var t,r,n,o,i=this;return Tw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=ug(this.video),!this.shouldSkipVideoTagError(t)){e.next=3;break}return e.abrupt("return");case 3:if(this.video.poster=fC,this.checkPlaylistHTTPStatus(),r=!this.recoverHelper.allowed||!this.isRecoverablePlaylistHTTPStatus,n=new cT({code:hw(t),details:t,isFatal:r}),r){e.next=11;break}return this.props.onError(n),this.recoverHelper.planTask((function(){return i.recoverStream()}),{delay:500,reason:"VideoTagError [".concat(t.code,"][").concat(t.message,"]")}),e.abrupt("return");case 11:return e.next=13,this.checkPlaylistHTTPStatusPromise;case 13:if((o=e.sent)&&o.isFatalError()){e.next=17;break}return this.props.onError(n),e.abrupt("return");case 17:this.props.onError(o.toPlayerError());case 18:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"onTick",value:function(e){Dw(Fw(t.prototype),"onTick",this).call(this,e),this.isDvrEnabled()&&this.updateSkinDvrParameters(e)}},{key:"attachEncoder",value:(i=xw(Tw().mark((function e(){var r,n,o,i,a,u=this;return Tw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dw(Fw(t.prototype),"attachEncoder",this).call(this);case 2:if(r=function(e){return u.props.onError(e),kB.reject(bt(e,u.state.ad.adblockDetected))},this.engine!==hT.NATIVE||IN){e.next=5;break}return e.abrupt("return",r(new cT({code:P_.NATIVE_HLS_NOT_SUPPORTED_ERROR})));case 5:return n=this.video,this.subscribeContentImpression(),e.prev=7,e.next=10,this.initDrm(this.props.stream.drmConfig);case 10:e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(7),e.abrupt("return",r(cT.from(e.t0)));case 15:this.establishStartPosition(),this.initVideoTypeQualifier(),this.logLoadToRum(),vV.isYaspVideoElement(n)&&(o=n,(i=this.playerStore.getState().controller.streamsWithSupportInfo)&&((a=i.find((function(e){var t=e.supportInfo,r=e.stream;return DN(r.url)&&t.supported})))?o.airplaySrc=a.stream.url:(o.disableRemotePlayback=!0,o.airplaySrc=""))),Fg(n,(function(){return n.src=u.getStreamUrl()})),this.startLatencyPolling(this.state.controller.videoType);case 21:case"end":return e.stop()}}),e,this,[[7,12]])}))),function(){return i.apply(this,arguments)})},{key:"getStreamUrl",value:function(){var e=this.getStartPosition();return pm(Dw(Fw(t.prototype),"getStreamUrl",this).call(this),e)}},{key:"establishStartPosition",value:function(){var e=this,t=[];_B.forEach((function(r){t.push(e.addVideoEventListener(r,(function(){e.canSeek()&&(e.applyStartPosition(),Xe(t))}),{once:!0}))})),this.once("Detach",(function(){Xe(t)}))}},{key:"canSeek",value:function(){var e=this.props.video;return e.readyState>0&&e.duration>0}},{key:"getStartPosition",value:function(){var e=this.state.controller.startPosition,t=e.videoTime,r=e.utc;if((0,TT.z)(t)||(0,TT.z)(r)){var n=this.getUtcStartTime();return n>0&&(0,TT.z)(r)&&r>0?r-n:(0,TT.z)(t)?t:void 0}}},{key:"getUtcPosition",value:function(){var e=this.getUtcStartTime();return e>=0?e+this.getCurrentTime():Dw(Fw(t.prototype),"getUtcPosition",this).call(this)}},{key:"checkPlaylistHTTPStatus",value:function(){var e=this;this.checkPlaylistHTTPStatusPromise||(this.checkPlaylistHTTPStatusPromise=this.loadPlaylistInfo().then(SB.fromXHR).then((function(t){return e.isRecoverablePlaylistHTTPStatus=!t.isFatalError(),t})).catch((function(){})))}},{key:"estimateLatency",value:function(){var e=this,t=$M();(0,pL.W)({url:this.getStreamUrl(),method:"HEAD",timeout:5e3}).then((function(r){var n;e.serverTimeEstimator.parseServerTime((Mw(n={},"x-server-time-ms",r.getResponseHeader("x-server-time-ms")),Mw(n,"date",r.getResponseHeader("date")),n),$M()-t)}),(function(){}))}},{key:"startLatencyPolling",value:function(e){var t=this;this.estimatorPollingInterval||e!==DR.D.EVENT&&e!==DR.D.LIVE||(this.estimatorPollingInterval=window.setInterval((function(){return t.estimateLatency()}),1e4))}},{key:"stopLatencyPolling",value:function(){clearInterval(this.estimatorPollingInterval),this.estimatorPollingInterval=void 0}},{key:"initTextTracks",value:function(){var e=this,t=!1,r=!1,n=this.video.textTracks;if(n){var o=(0,v_.I)((function(){e.castTextTracksModeOnInit(),e.restoreUserTextTrack(),e.addEventListener(n,"change",e.notifyTextTracksChanged),e.notifyTextTracksChanged()})),i=function(){t&&r&&o()};this.addEventListener(this.video,"loadedmetadata",(function(){t=!0,i()})),this.addEventListener(n,"addtrack",this.createAddTrackCallback((function(){r=!0,i()})))}}},{key:"setFirstAudioTrack",value:function(){this.restoreUserAudioTrack();var e=vw(this.video);e&&this.emit("InternalAudioTrackValueChange",e.value)}},{key:"loadPlaylistInfo",value:function(){return(0,pL.W)({method:"GET",url:"".concat(this.getStreamUrl(),"&xhr=1"),timeout:3e3,checkStatus:function(){return!0}})}},{key:"subscribeCueChange",value:function(){var e=this,t=this.video.textTracks;if(t&&"function"===typeof t.addEventListener){var r=function(t){var r=t.track;r&&"metadata"===r.kind&&(r.mode="hidden",e.addEventListener(r,"cuechange",(function(t){var r=t.target.activeCues,n=r.length;if(n){var o=r[n-1];if(o){var i=o.value,a=o.startTime,u=o.endTime;if(i){var c="number"===typeof u&&isFinite(u)?u-a:KD,s=(0,yP.w)(r).map((function(e){if(e&&e.value){var t=e.value.data;if("string"===typeof t)return t}return""}));e.emit("MetadataChange",{fragmentMetadataArray:s,fragmentStart:a,fragmentDuration:c,src:e.video.src})}}}})))};t.addEventListener("addtrack",r),this.on("Destroy",(function(){return t.removeEventListener("addtrack",r)}))}}},{key:"castTextTracksModeOnInit",value:function(){var e=this;this.state.skin.useNativeSubtitles||void 0!==sb(this.video.textTracks).find((function(e){return Boolean(e&&"disabled"===e.mode)}))||sb(this.video.textTracks).forEach((function(t){t&&(t.mode="showing"===t.mode?e.getVisibleTextTrackMode():e.getHiddenTextTrackMode())}))}}])&&Rw(r.prototype,n),o&&Rw(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(gB),TB=r(83361),PB=function(e){function t(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=u.call(this,e)).props=e,function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(zw(r),"engine",hT.MP4);var n=(0,v_.I)((function(){r.emit("VideoTracksChange",function(e){var t=e.videoWidth,r=e.videoHeight;return[{name:Lg({width:t,height:r}),value:"0",bitrate:-1,width:t,height:r}]}(e.video))}));return r.once("CanPlay",n),r.once("Destroy",(function(){return r.off("CanPlay",n)})),r}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qw(e,t)}(t,e);var r,n,o,i,a,u=Ww(t);return r=t,(n=[{key:"attachEncoder",value:(i=Bw().mark((function e(){return Bw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hw(Qw(t.prototype),"attachEncoder",this).call(this);case 2:hC.log("mp4 native mode");case 3:case"end":return e.stop()}}),e,this)})),a=function(){var e=this,t=arguments;return new TB((function(r,n){function o(e){Uw(u,r,n,o,a,"next",e)}function a(e){Uw(u,r,n,o,a,"throw",e)}var u=i.apply(e,t);o(void 0)}))},function(){return a.apply(this,arguments)})},{key:"establishStartPosition",value:function(){var e=this,t=this.addVideoEventListener("durationchange",(function(){e.canSeek()&&(e.applyStartPosition(),t())}));this.once("Detach",(function(){t()}))}},{key:"initVideoTypeQualifier",value:function(){this.emit("VideoTypeChange",DR.D.VOD)}},{key:"initDrm",value:function(){return TB.resolve()}},{key:"setVideoTrack",value:function(){}}])&&Gw(r.prototype,n),o&&Gw(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(AB),xB=r(83361),RB=r(83361),LB=function(e){function t(e,r,n,o){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(i=u.call(this)).drmConfig=r,i.errorCallback=n,i.withCredentials=o,hS(fS(i),"video",void 0),hS(fS(i),"loadCertificate",(0,v_.I)(aS(oS().mark((function e(){var t,r,n,o,a;return oS().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Xw({method:"GET",url:i.drmConfig.servers["com.apple.fps.1_0"],responseType:"arraybuffer",retries:3,timeout:1e4,onRetry:i.onRequestRetry((function(e){i.onError(new cT({code:P_.FAIRPLAY_CERT_LOAD_ERROR,isFatal:!1,details:e}))})),withCredentials:i.withCredentials}),r=t.promise,n=t.abort,i.addDestroyHandler(n),e.next=5,r;case 5:return o=e.sent,a=o.response,e.abrupt("return",new Uint8Array(a));case 10:return e.prev=10,e.t0=e.catch(0),i.onError(new cT({isFatal:!0,code:P_.FAIRPLAY_CERT_LOAD_ERROR,details:(0,N_.K)(e.t0)?e.t0:void 0})),e.abrupt("return",new Uint8Array(0));case 14:case"end":return e.stop()}}),e,null,[[0,10]])}))))),hS(fS(i),"onNeedKey",aS(oS().mark((function e(){var t,r,n,o,a,u,c,s,l,f=arguments;return oS().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.length>0&&void 0!==f[0]?f[0]:{},r=t.initData,n=fS(i),o=n.video,r&&!i.isDestroyed){e.next=4;break}return e.abrupt("return");case 4:return a=i.extractContentId(r),e.next=7,i.waitForLoadedMetaData();case 7:return o.webkitKeys||"function"!==typeof WebKitMediaKeys||o.webkitSetMediaKeys(new WebKitMediaKeys("com.apple.fps.1_0")),o.webkitKeys||i.onError(new cT({code:P_.FAIRPLAY_CREATE_MEDIA_KEYS_ERROR})),e.next=11,i.getWebKitMediaKeySessionInitData(r,a);case 11:u=e.sent,(c=i.video.webkitKeys.createSession("video/mp4",u))||i.onError(new cT({code:P_.FAIRPLAY_CREATE_KEY_SESSION_ERROR})),i.addDestroyHandler((function(){return c.close()})),s=function(e){var t=e.message;if(!i.isDestroyed){var r=t||new ArrayBuffer(0),n=nS({},i.drmConfig.headers),o=(0,TI.l)(),u=0,s=function(){var e=aS(oS().mark((function e(){var t,l,f,d,h,p,v,y;return oS().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.isDestroyed){e.next=2;break}return e.abrupt("return");case 2:return t=Xw({responseType:"json",method:"POST",url:i.drmConfig.advanced["com.apple.fps.1_0"].processSPCPath,data:JSON.stringify(nS({assetId:a,spc:btoa(mS(new Uint8Array(r)))},i.drmConfig.requestParams)),headers:n,timeout:1e4,withCredentials:i.withCredentials}),l=t.abort,f=t.promise,d=t.getStatus,i.addDestroyHandler(l),e.prev=4,e.next=7,f;case 7:return h=e.sent,p=h.response.ckc,v=bS(atob(p)),c.update(new Uint8Array(v)),e.abrupt("return");case 14:if(e.prev=14,e.t0=e.catch(4),y=u>=3,i.onError(new cT({isFatal:y,code:P_.FAIRPLAY_SPC_LOAD_ERROR,details:e.t0})),!y){e.next=20;break}return e.abrupt("return");case 20:o.addLock((0,EV._)(Om(d(),u++))),o.waitAndLock(s);case 22:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(){return e.apply(this,arguments)}}();o.waitAndLock(s)}},i.addDestroyHandler((0,aj.O)(c,"webkitkeymessage",s)),l=function(e){var t,r=c.error;r&&(t={code:r.code,systemCode:r.systemCode});i.onError(new cT({code:P_.FAIRPLAY_CREATE_KEY_ERROR,isFatal:!1,details:t}))},i.addDestroyHandler((0,aj.O)(c,"webkitkeyerror",l));case 19:case"end":return e.stop()}}),e)})))),hS(fS(i),"onError",(function(e){i.isDestroyed||(i.errorCallback.call(i.errorCallback,e),e.isFatal&&i.destroy())})),hS(fS(i),"onRequestRetry",(function(e){return function(t,r){var n=r.status;if(418!==n)return e(t),!0;var o=wm(r.response,n);return i.onError(Em(o)),!o.isFatal}})),i.video=e,i.addDestroyHandler((0,aj.O)(e,"webkitneedkey",i.onNeedKey)),i.loadCertificate(),i}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cS(e,t)}(t,e);var r,n,o,i,a,u=sS(t);return r=t,(n=[{key:"getWebKitMediaKeySessionInitData",value:(a=aS(oS().mark((function e(t,r){var n,o,i,a,u,c,s;return oS().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadCertificate();case 2:return n=e.sent,o=new Uint16Array(bS(r)),i=0,a=t.byteLength+4+o.byteLength+4+n.byteLength,u=new ArrayBuffer(a),c=new DataView(u),new Uint8Array(u,i,t.byteLength).set(new Uint8Array(t)),i+=t.byteLength,c.setUint32(i,o.byteLength,!0),i+=4,(s=new Uint16Array(u,i,o.length)).set(o),i+=s.byteLength,c.setUint32(i,n.byteLength,!0),i+=4,new Uint8Array(u,i,n.byteLength).set(n),e.abrupt("return",new Uint8Array(u,0,u.byteLength));case 21:case"end":return e.stop()}}),e,this)}))),function(e,t){return a.apply(this,arguments)})},{key:"extractContentId",value:function(e){var t=new Uint8Array(e),r=tS(mS(new Uint16Array(t.buffer)).split("//"),2)[1];return r||(this.onError(new cT({isFatal:!1,code:P_.FAIRPLAY_INVALID_CONTENT_ID})),"")}},{key:"waitForLoadedMetaData",value:(i=aS(oS().mark((function e(){var t=this;return oS().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.video.readyState>=HTMLMediaElement.HAVE_METADATA)){e.next=2;break}return e.abrupt("return");case 2:return e.abrupt("return",new RB((function(e){t.addDestroyHandler((0,aj.O)(t.video,"loadedmetadata",(function(){return e()}),{once:!0}))})));case 3:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})}])&&uS(r.prototype,n),o&&uS(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(tI);hS(LB,"IS_SUPPORTED","undefined"!==typeof WebKitMediaKeys&&(0,OT.m)(WebKitMediaKeys.isTypeSupported)&&WebKitMediaKeys.isTypeSupported("com.apple.fps.1_0","video/mp4"));var jB,IB,CB=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),TS(_S(r=i.call(this)),"video",void 0),TS(_S(r),"unsubscribers",[]),TS(_S(r),"isStrmCatchUpStream",void 0),TS(_S(r),"seekableEndFifo",new VF(2)),TS(_S(r),"destroy",(function(){Xe(r.unsubscribers)})),TS(_S(r),"handleProgressEvent",(function(){if(r.video&&r.video.seekable.length){var e=r.video.seekable,t=e.end(e.length-1),n=r.seekableEndFifo.getAll();t!==n[n.length-1]&&(r.seekableEndFifo.push(t),r.updateVideoType({reason:"progress"}))}})),TS(_S(r),"updateVideoType",(function(e){var t=e.reason;r.emit("VideoTypeChange",{videoType:r.getVideoType(),videoTagDuration:r.video?r.video.duration:null,reason:t})})),r.isStrmCatchUpStream=function(e){if(!sh(e))return!1;var t=(0,Lx.dD)((0,Lx.en)(e).search);return Boolean(t.start)}(e),r}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ES(e,t)}(t,e);var r,n,o,i=OS(t);return r=t,(n=[{key:"setHTMLVideoElement",value:function(e){var t=this;this.destroy(),this.video=e,this.unsubscribers.push((0,aj.O)(e,"timeupdate",(function(){t.updateVideoType({reason:"timeupdate"})}))),this.unsubscribers.push((0,aj.O)(e,"durationchange",(function(){t.updateVideoType({reason:"durationchange"})}))),this.unsubscribers.push((0,aj.O)(e,"progress",this.handleProgressEvent))}},{key:"getVideoType",value:function(){if(!this.video||isFinite(this.video.duration))return DR.D.VOD;if(this.isStrmCatchUpStream)return DR.D.EVENT;var e=this.seekableEndFifo.getAll();if(!this.video.seekable.length||e.length<2)return DR.D.LIVE;var t=this.video.seekable.start(0);return e[1]>e[0]&&t?DR.D.LIVE:DR.D.EVENT}}])&&SS(r.prototype,n),o&&SS(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(IR.v),DB=function(){function e(t){var r=t.retries,n=void 0===r?3:r,o=t.nudgeDelay,i=void 0===o?2e3:o,a=t.nudge,u=t.shouldNudge,c=t.onNudgeFailed,s=void 0===c?gT.Z:c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),xS(this,"retries",void 0),xS(this,"nudge",void 0),xS(this,"shouldNudge",void 0),xS(this,"nudgeDelay",void 0),xS(this,"onNudgeFailed",void 0),xS(this,"currentRetries",0),xS(this,"timer",void 0),this.retries=n,this.nudge=a,this.shouldNudge=u,this.nudgeDelay=i,this.onNudgeFailed=s}var t,r,n;return t=e,(r=[{key:"schedule",value:function(){var e=this;this.timer||(this.currentRetries++,this.timer=window.setTimeout((function(){e.timer=void 0,e.shouldNudge()&&(e.currentRetries>e.retries?e.onNudgeFailed():(e.nudge(),e.schedule()))}),this.nudgeDelay))}},{key:"clear",value:function(){this.currentRetries=0,window.clearTimeout(this.timer),this.timer=void 0}}])&&PS(t.prototype,r),n&&PS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),NB=r(83361),FB=function(e){function t(e){var r,n,o,i,a,u,c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=s.call(this,e)).props=e,WS(GS(r),"engine",hT.NATIVE),WS(GS(r),"stalledNudger",void 0),WS(GS(r),"fairPlayController",void 0),WS(GS(r),"isLowLatencyLiveStream",!1),WS(GS(r),"isStuck",(o=(n={getCurrentTime:function(){return r.getCurrentTime()},getPlayingState:function(){return r.getPlayingState()}}).getCurrentTime,i=n.getPlayingState,a=new VF(5),u=0,c=o(),function(e){var t=o();if(i()!==_R.PLAY)return u=0,a.clear(),!1;var r=!1;if((u=e+u)>1e3&&c!==t&&(a.push(t),u=0,5===a.size())){var n=a.getAll(),s=Math.max.apply(Math,RS(n))-Math.min.apply(Math,RS(n));r=s>0&&s<1}return c=t,r})),r.stalledNudger=new DB({nudge:function(){r.state.controller.playbackRate>1&&r.setPlaybackRate(1,$D.Recover),r.onNudge()},shouldNudge:function(){return r.getPlayingState()===YA.BUFFERING&&(!!r.shouldNudge()&&r.getRemainingBufferedTime().total>0)},onNudgeFailed:function(){r.props.logEvent({event:LP.NudgeStalledFailed,params:{}})}}),r.updateIsLowLatencyLiveStream(),r.seekToLiveEdgeForSafariWithM4s(),r}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VS(e,t)}(t,e);var r,n,o,i,a,u,c,s=BS(t);return r=t,(n=[{key:"initInternalSubscribe",value:function(){HS(qS(t.prototype),"initInternalSubscribe",this).call(this),this.recoverSleepMode(),this.activateVideoTagIosWorkaround(),this.subscribeStalledNudger()}},{key:"getUtcStartTime",value:function(){var e=this.video;if(!this.video.src||0===e.readyState||"function"!==typeof e.getStartDate)return HS(qS(t.prototype),"getUtcStartTime",this).call(this);var r=e.getStartDate();if(!r||"function"!==typeof r.getTime)return HS(qS(t.prototype),"getUtcStartTime",this).call(this);var n=r.getTime();return isNaN(n)?HS(qS(t.prototype),"getUtcStartTime",this).call(this):n/1e3}},{key:"attachEncoder",value:(c=FS(DS().mark((function e(){return DS().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.emit("BufferingRangesChange",[]),e.next=3,HS(qS(t.prototype),"attachEncoder",this).call(this);case 3:hC.log("hls native mode");case 4:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"detachEncoder",value:(u=FS(DS().mark((function e(){return DS().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,HS(qS(t.prototype),"detachEncoder",this).call(this);case 2:this.video.src&&this.video.removeAttribute("src");case 3:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"shouldSkipVideoTagError",value:function(e){return HS(qS(t.prototype),"shouldSkipVideoTagError",this).call(this,e)||Boolean(this.fairPlayController&&this.fairPlayController.isDestroyed)}},{key:"shouldNudge",value:function(){return!bf(this.state)&&this.canSeek()}},{key:"onNudge",value:function(){this.seek(this.state.controller.currentTime+.001)}},{key:"getStartPosition",value:function(){var e=this.state.controller.startPosition,t=e.videoTime,r=e.utc;if((0,TT.z)(t)||(0,TT.z)(r)){if(this.state.controller.videoType===DR.D.LIVE){var n=this.getUtcStartTime();if(n>0&&(0,TT.z)(r)&&r>0)return r-n}return(0,TT.z)(t)?t:void 0}}},{key:"isDvrEnabled",value:function(){return!(!$V||bR)||!this.state.skin.nativeControlsVisibility}},{key:"setVideoTrack",value:function(){hC.log("Unable to set video track on native encoder")}},{key:"getBandwidthEstimate",value:function(){return{value:NaN,source:"default"}}},{key:"initDrm",value:(a=FS(DS().mark((function e(){var t;return DS().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.stream.drmConfig,e.abrupt("return",this.initFairPlay(t));case 2:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"calculateDVRParams",value:function(){var e=this.state.controller.videoType;if(e===DR.D.VOD||void 0===e)return HS(qS(t.prototype),"calculateDVRParams",this).call(this);var r=this.getFragmentsData(),n=r.fragmentDuration,o=r.startTime,i=r.totalDuration;return{fragmentDuration:n,dvrStartTime:o,dvrDuration:i,skinDVRStartTime:o,skinDVRDuration:i-KD}}},{key:"getStreamUrl",value:function(){var e=HS(qS(t.prototype),"getStreamUrl",this).call(this),r={force_m4s:"1"},n=this.video.getBoundingClientRect(),o=n.width,i=n.height,a=Kg();return r.video_width=String(o*a),r.video_height=String(i*a),this.isLowLatencyLiveStream&&(r.lowlatency="1"),(0,Lx.Sr)(e,r,{saveOriginalPath:!0})}},{key:"isLowLatencyLive",value:function(){return this.isLowLatencyLiveStream}},{key:"initVideoTypeQualifier",value:function(){var e=this,t=new CB(this.getStreamUrl());this.once("Detach",t.destroy),t.on("VideoTypeChange",(function(t){if(null!==t&&void 0!==t&&t.videoType){var r=e.props.playerStore.getState().controller.videoType;e.checkIfRecoverNecessary(t,r)&&(e.stateController.putPlaybackRate(1,$D.Recover),e.props.onRecover({reason:"currentTime is greater than duration during LIVE / EVENT in NativeController",delay:0,attempt:1}),e.recoverStream().then((function(){e.play()}))),void 0!==r&&t.videoType!==r&&e.props.logEvent({event:LP.NativeVideoTypeChange,params:CS(CS({},t),{},{previousVideoType:r})}),e.emit("VideoTypeChange",t.videoType)}})),t.setHTMLVideoElement(this.video)}},{key:"onTick",value:function(e){this.handleBufferingRangesUpdate(),HS(qS(t.prototype),"onTick",this).call(this,e),this.checkStuckState(e),this.checkOutOfDvr(),this.updateProgramDateTime()}},{key:"updateIsLowLatencyLiveStream",value:function(){var e=HS(qS(t.prototype),"getStreamUrl",this).call(this),r=gB.isLiveStreamUrl(e),n=RF.major>=14,o=TF.major>=15,i=n||o;this.isLowLatencyLiveStream=r&&i,this.isLowLatencyLiveStream&&this.props.logEvent({event:LP.LowLatencyDetected,params:{}})}},{key:"checkIfRecoverNecessary",value:function(e,t){var r=e.reason,n=e.videoTagDuration;return(t===DR.D.LIVE||t===DR.D.EVENT)&&"durationchange"!==r&&n&&isFinite(n)}},{key:"checkStuckState",value:function(e){var t=this;this.video.error||this.isStuck(e)&&this.recoverHelper.planTask((function(){return t.recoverStream()}),{delay:100,reason:"Stuck on time ".concat(this.getCurrentTime())})}},{key:"checkOutOfDvr",value:function(){var e=this;if(!this.video.error){var t=this.getCurrentTime(),r=this.getFragmentsData().startTime,n=this.state.controller,o=n.videoType,i=n.playingState;this.recoverHelper.started||t>=r||i===YA.PLAY&&o===DR.D.LIVE&&this.recoverHelper.planTask((function(){return e.recoverStream(!0)}),{delay:0,reason:"Out of DVR. CurrentTime=".concat(t," startTime=").concat(r)})}}},{key:"handleBufferingRangesUpdate",value:function(){var e=RF.major>=15,t=TF.major>=15;if(e||t){var r=this.props.video.buffered,n=this.props.video.buffered.length;if(!n)return;var o=this.state.controller.currentTime,i=this.state.controller.bufferingRanges.find((function(e){return o>=e.start&&o<=e.end}));if(!i)return;for(var a=0;a<n;a++)if(r.start(a)<=o&&r.end(a)>o)return void(r.end(a)>i.end&&this.emit("BufferingRangesChange",(0,AM.w)(this.props.video)))}}},{key:"initFairPlay",value:(i=FS(DS().mark((function e(t){var r,n,o,i,a;return DS().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(qf(t)){e.next=4;break}return we("drm","none"),this.emit("DrmSystemChange",QN.none),e.abrupt("return");case 4:if(we("drm","fairplay"),LB.IS_SUPPORTED){e.next=7;break}throw new cT({code:P_.FAIRPLAY_NOT_SUPPORTED});case 7:n=this.props,o=n.video,i=n.onError,null===(r=this.fairPlayController)||void 0===r||r.destroy(),a=new LB(o,t,i,this.withCredentials),this.fairPlayController=a,this.emit("DrmSystemChange",QN.fairplay),this.once("Detach",(function(){return a.destroy()})),this.once("Destroy",(function(){return a.destroy()}));case 14:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"recoverSleepMode",value:function(){var e=this,t=R(this.getVideoOwnerDocument(),(function(t){t&&e.shouldNudge()&&e.video.paused&&(e.video.currentTime-=.001)}));this.once("Destroy",t)}},{key:"subscribeStalledNudger",value:function(){var e=this;this.on("VideoPlayingStateChange",(function(t){var r,n;t===YA.BUFFERING?null===(r=e.stalledNudger)||void 0===r||r.schedule():null===(n=e.stalledNudger)||void 0===n||n.clear()}))}},{key:"updateProgramDateTime",value:function(){var e=this.state.controller.videoType,t=this.getUtcStartTime(),r=e!==DR.D.LIVE&&e!==DR.D.EVENT||!t?void 0:1e3*t;this.emit("ProgramDateTimeChange",r)}},{key:"activateVideoTagIosWorkaround",value:function(){var e=this;bR&&this.once("Destroy",(0,aj.O)(this.video,"touchstart",(function(){e.video.paused?e.video.pause():NB.resolve(e.video.play()).catch(gT.Z)}),{once:!0}))}},{key:"handleVideoElementPlayEvent",value:function(){this.props.video.buffered.length&&HS(qS(t.prototype),"handleVideoElementPlayEvent",this).call(this)}},{key:"isStalledLiveEdge",value:function(){return!1}},{key:"seekToLiveEdgeForSafariWithM4s",value:function(){var e=this,r=HS(qS(t.prototype),"getStreamUrl",this).call(this);!gB.isLiveStreamUrl(r)||$V&&TF.major<16||$V&&16===TF.major&&TF.minor<5||bR&&RF.major<16||bR&&16===RF.major&&RF.minor<5||this.addEventListener(this.props.video,"loadeddata",(function(){e.props.video.seekable.length&&e.seek(e.props.video.seekable.end(e.props.video.seekable.length-1))}),{once:!0})}}])&&MS(r.prototype,n),o&&MS(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(AB),MB=r(35318),VB=r(83361),BB=function(e){function t(e,r,n){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),oE(rE(o=a.call(this,e,r,n,(function(t){var r;null===(r=e.yaspDispatchEvent)||void 0===r||r.call(e,"yasp-event",t)}))),"drmInfoReceivedDeferred",new dL.B),oE(rE(o),"onYaspWaitForKey",function(){var e=$S(QS().mark((function e(t){var r,n,i,a,u,c,s;return QS().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.message,i=t.source,e.next=3,o.initPromise;case 3:if(o.keySystem&&o.keySystem===jx.dn){e.next=5;break}return e.abrupt("return");case 5:if(a=null===(r=o.config.servers)||void 0===r?void 0:r[o.keySystem]){e.next=8;break}return e.abrupt("return");case 8:return u={keySystem:o.keySystem,url:a,config:o.config,message:n,retry:0},e.next=11,TV.handleSessionMessage(u,o.requestSync,o.onError);case 11:c=e.sent,s=c.response,vV.configureSource(i,{drmKeysResponse:s});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),o.addEventListener(o.video,"yasp-drmInfoReceived",(function(t){var r,n=t.detail.map((function(e){return e.keySystem}));null===(r=e.yaspDispatchEvent)||void 0===r||r.call(e,"yasp-event",{name:"DrmInfoReceived",data:{keySystems:n}}),o.drmInfoReceivedDeferred.resolve(t)}),{once:!0}),o.addEventListener(o.video,"yasp-waitForKey",(function(e){var t=e.detail;return o.onYaspWaitForKey(t)}),{once:!0}),o}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XS(e,t)}(t,e);var r,n,o,i,a=eE(t);return r=t,(n=[{key:"getMediaKeySessionInitData",value:(i=$S(QS().mark((function e(){var t,r,n,o,i,a=this;return QS().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.drmInfoReceivedDeferred.promise;case 2:if(n=e.sent,o=n.detail,i=o.find((function(e){return e.keySystem===a.keySystem}))){e.next=7;break}throw new cT({code:P_.DRM_INIT_ERROR,message:"No drm initialization info",isFatal:!0});case 7:if(null!==(t=i.initData)&&void 0!==t&&null!==(r=t[0])&&void 0!==r&&r.initData){e.next=9;break}throw new cT({code:P_.DRM_INIT_ERROR,message:"No drm initialization data in initialization info",isFatal:!0});case 9:return e.abrupt("return",i.initData[0]);case 10:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})}])&&JS(r.prototype,n),o&&JS(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(TV),UB={sourceLimit:Number.MAX_SAFE_INTEGER},GB=5*Math.random(),HB=r(95542),YB=r(82619),qB=r(83361),WB=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=p.call(this,e)).props=e,bE(mE(r),"engine",hT.YASP),bE(mE(r),"yaspVideoElement",null),bE(mE(r),"preloader",void 0),bE(mE(r),"initEncoderPromise",void 0),bE(mE(r),"drmController",void 0),bE(mE(r),"targetLatency",(0,YB.c)(7)),bE(mE(r),"handleVideoTypeChange",(function(e){var t=e.detail;t&&r.emit("VideoTypeChange",t);var n=1e3*r.getUtcStartTime();switch(t){case DR.D.LIVE:r.emit("ProgramDateTimeChange",0);break;case DR.D.EVENT:r.emit("ProgramDateTimeChange",n);break;default:r.emit("ProgramDateTimeChange",n||void 0)}})),bE(mE(r),"handleYaspEvent",(function(e){var t=e.detail,n=t.name,o=t.data;r.props.logEvent({event:n,params:o}),"YaspLargeGap"===n&&hC.log("-> Yasp LargeGapEvent",o)})),bE(mE(r),"handleTargetLatencyUpdate",(function(e){var t=e.detail;r.targetLatency=t/1e3,r.emitTargetLatencyChanged()})),bE(mE(r),"handleDebug",(function(e){var t=e.detail;"string"===typeof t&&hC.log("[PLAYER] [YASP]",t)})),bE(mE(r),"reportEmsg",(function(e){var t=e.detail,n=t.startTime,o=t.messageData,i=t.segmentDuration,a=(0,IV.parseV2Tag)(o);a&&a.writer&&r.emit("MetadataChange",{fragmentMetadataArray:[a.writer],fragmentStart:n,fragmentDuration:i,src:r.getStreamUrl()})})),bE(mE(r),"reportError",(function(e){var t,n,i=e.detail;if("YASP_FETCH_SEGMENT_BAD_HTTP_STATUS"===i.code||"YASP_FETCH_MANIFEST_BAD_HTTP_STATUS"===i.code){var a=(t=i.details.status,n="YASP_FETCH_MANIFEST_BAD_HTTP_STATUS"===i.code,451===t?n?P_.REGIONAL_LIMITATION_MANIFEST:P_.REGIONAL_LIMITATION_SEGMENT:BV.includes(t)?n?P_.SIGNATURE_EXPIRED_MANIFEST:P_.SIGNATURE_EXPIRED_SEGMENT:454===t?n?P_.BANNED_MANIFEST:P_.BANNED_SEGMENT:404===t&&n?P_.MANIFEST_NOT_FOUND:void 0);a&&(i.code=a,i.category=o(a),i.isFatal=!0)}r.props.onError(cT.from(i))})),function(e){try{if(!navigator.requestMediaKeySystemAccess)return;var t=KS(e);if(t===window)return;if(!t.navigator.requestMediaKeySystemAccess)return;navigator.requestMediaKeySystemAccess=function(){var e;return(e=t.navigator).requestMediaKeySystemAccess.apply(e,arguments)}}catch(hG){}}(r.video),r}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pE(e,t)}(t,e);var r,n,i,a,u,c,s,l,f,d,h,p=vE(t);return r=t,(n=[{key:"requestDebugInfo",value:(h=lE(cE().mark((function e(){return cE().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.yaspVideoElement&&this.yaspVideoElement.yasp){e.next=2;break}return e.abrupt("return",{noYasp:!0});case 2:return e.abrupt("return",this.yaspVideoElement.yaspRequestDebugInfo());case 3:case"end":return e.stop()}}),e,this)}))),function(){return h.apply(this,arguments)})},{key:"attachEncoder",value:(d=lE(cE().mark((function e(){var r=this;return cE().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.initEncoderPromise=this.preventPauseAsync(this.video,lE(cE().mark((function e(){var n;return cE().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.yaspVideoElement=vV.attach(r.video,uE(uE({},UB),{},{perfLogUrl:r.props.perfLogUrl})),r.configureSource(r.getYaspConfig()),r.initTextTracks(),r.subscribeVideoTracksChange(),r.subscribeAudioTracksChange(),r.subscribeTextTracksChange(),r.yaspVideoElement.addEventListener("yasp-event",r.handleYaspEvent),r.yaspVideoElement.addEventListener("yasp-error",r.reportError),r.yaspVideoElement.addEventListener("yasp-debug",r.handleDebug),r.yaspVideoElement.addEventListener("yasp-videoTypeChange",r.handleVideoTypeChange),r.yaspVideoElement.addEventListener("yasp-emsg",r.reportEmsg),r.yaspVideoElement.addEventListener("yasp-updateTargetLatency",r.handleTargetLatencyUpdate),e.next=14,dE(gE(t.prototype),"attachEncoder",r).call(r);case 14:r.preventPauseState&&(n=r.yaspVideoElement.checkShouldPlay(),r.preventPauseState.shouldPlayAfterEnd=null!==n&&void 0!==n?n:r.preventPauseState.shouldPlayAfterEnd),r.initVideoSizesUpdater();case 16:case"end":return e.stop()}}),e)})))),e.next=3,this.initEncoderPromise;case 3:this.initEncoderPromise=void 0;case 4:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"play",value:(f=lE(cE().mark((function e(){return cE().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.yaspVideoElement){e.next=2;break}return e.abrupt("return",dE(gE(t.prototype),"play",this).call(this));case 2:return this.configureSource({videoSizes:this.getVideoElementSizes()}),e.abrupt("return",this.yaspVideoElement.play());case 4:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"detachEncoder",value:(l=lE(cE().mark((function e(){var r,n,o,i,a=this;return cE().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isRecoverablePlaylistHTTPStatus=!0,null===(r=this.yaspVideoElement)||void 0===r||r.removeEventListener("yasp-event",this.handleYaspEvent),null===(n=this.yaspVideoElement)||void 0===n||n.removeEventListener("yasp-error",this.reportError),null===(o=this.yaspVideoElement)||void 0===o||o.removeEventListener("yasp-debug",this.handleDebug),null===(i=this.yaspVideoElement)||void 0===i||i.removeEventListener("yasp-videoTypeChange",this.handleVideoTypeChange),!this.initEncoderPromise){e.next=13;break}return e.prev=6,e.next=9,this.initEncoderPromise;case 9:e.next=13;break;case 11:e.prev=11,e.t0=e.catch(6);case 13:return e.next=15,this.preventPauseAsync(this.video,lE(cE().mark((function e(){return cE().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.yaspVideoElement=null,e.next=3,dE(gE(t.prototype),"detachEncoder",a).call(a);case 3:case"end":return e.stop()}}),e)}))));case 15:case"end":return e.stop()}}),e,this,[[6,11]])}))),function(){return l.apply(this,arguments)})},{key:"reportYaspUnexpectedMethodCall",value:function(e,t){var r=this.state.controller.encoderState;this.props.onError(new cT({code:p_.YASP_UNEXPECTED_METHOD_CALL,details:{encoderState:r,method:e,message:(0,F_.V)(t)?t.message:void 0},isFatal:!1}))}},{key:"isStalledLiveEdge",value:function(e){var r,n=this;if(!this.yaspVideoElement)return dE(gE(t.prototype),"isStalledLiveEdge",this).call(this,e);var o=null!==(r=(0,j_.Y)((function(){return n.yaspVideoElement?n.yaspVideoElement.getStreamEndTime():null}),(function(e){return n.reportYaspUnexpectedMethodCall("getStreamEndTime",e)})))&&void 0!==r?r:null;if(!o)return!1;var i=this.state.controller.videoType,a=this.yaspVideoElement.currentTime,u=e===YA.BUFFERING,c=i===DR.D.EVENT||i===DR.D.LIVE;return u&&c&&o-a<2.5}},{key:"handleVideoElementPlayEvent",value:function(){if(0!==this.video.buffered.length)return dE(gE(t.prototype),"handleVideoElementPlayEvent",this).call(this)}},{key:"destroyUnsafe",value:(s=lE(cE().mark((function e(){var r,n;return cE().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.getStreamUrl(),e.next=3,dE(gE(t.prototype),"destroyUnsafe",this).call(this);case 3:if(this.props.feed){e.next=6;break}return e.next=6,vV.releaseSrc(n);case 6:return this.video.src&&this.video.removeAttribute("src"),e.next=9,null===(r=this.drmController)||void 0===r?void 0:r.destroy();case 9:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"initInternalSubscribe",value:function(){var e=this;dE(gE(t.prototype),"initInternalSubscribe",this).call(this),this.on("InternalPlayingStateChange",(function(t){var r;t===YA.END&&(null===(r=e.yaspVideoElement)||void 0===r||r.forceTimeUpdate())})),this.addVideoEventListener("resize",(function(){var t=e.video,r=Sw(_w({videoTracks:t.videoTracks,videoWidth:t.videoWidth,videoHeight:t.videoHeight}));e.emit("InternalVideoTrackValueChange",r?r.value:void 0)})),this.addVideoEventListener("loadedmetadata",(function(){e.currentState===YA.END&&e.video.paused&&0===e.video.currentTime&&e.seek(0)})),this.once("ContentImpression",(function(){var t,r;e.emit("DrmSystemChange",null!==(t=null===(r=e.drmController)||void 0===r?void 0:r.currentDrmKeySystem)&&void 0!==t?t:QN.none)}))}},{key:"setVideoTrack",value:function(e){if(this.yaspVideoElement&&this.yaspVideoElement.videoTracks){var t=this.yaspVideoElement.videoTracks.getTrackById(e.value);t&&(t.selected=!0,this.stateController.putIsAbrEnabled(e.value===sN().value),this.configureSource({userQuality:(0,MB.nK)(),maxAutoQuality:this.props.defaultQuality}))}}},{key:"getStreamUrl",value:function(){return vm(dE(gE(t.prototype),"getStreamUrl",this).call(this))}},{key:"initDrm",value:(c=lE(cE().mark((function e(t){var r,n,o,i,a=this;return cE().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.yaspVideoElement){e.next=2;break}return e.abrupt("return");case 2:if(t){e.next=5;break}return this.addEventListener(this.yaspVideoElement,"encrypted",(function(){a.props.onError(new cT({code:P_.NO_DRM_CONFIG,isFatal:!0}))}),{once:!0}),e.abrupt("return");case 5:if(this.preloadSource(!1),o=(null===(r=this.playerStore.getState().controller.errorInfo.error)||void 0===r?void 0:r.category)===C_.q.DRM,!this.drmController||o){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,null===(n=this.drmController)||void 0===n?void 0:n.destroy();case 11:return i=Gm(t,this.withCredentials),this.drmController=new BB(this.video,i,(function(e){a.props.onError(e)})),e.next=15,this.drmController.init();case 15:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"getMaxCapAllowedVideoTrack",value:function(){if("function"!==typeof vV.getStats)return dE(gE(t.prototype),"getMaxCapAllowedVideoTrack",this).call(this);var e=(vV.getStats()||{}).maxCapAllowedVideoTrack;return e||dE(gE(t.prototype),"getMaxCapAllowedVideoTrack",this).call(this)}},{key:"seekInternal",value:function(e){var t=this.getSeekableRange(),r=t.start,n=t.end;mb(this.video,wc(e,r,n||0))}},{key:"getSeekableRange",value:function(){return this.video.seekable.length?{start:this.video.seekable.start(0),end:this.video.seekable.end(0)}:{start:0,end:this.getDuration()||0}}},{key:"updateSkinDvrParameters",value:function(e){var t=e/1e3,r=this.state,n=r.skin,o=n.skinDVRStartTime,i=n.skinDVRDuration,a=r.controller,u=a.videoType,c=a.dvrDuration;if(u===DR.D.LIVE){var s=o+t;this.playerStore.setSkinStateField(QD.skinDVRStartTime,s),this.emit("DVRStartTimeChange",s)}else if(u===DR.D.EVENT){var l=Math.min(i+t,c);this.playerStore.setSkinStateField(QD.skinDVRDuration,l),this.emit("DVRDurationChange",l)}}},{key:"startLatencyPolling",value:function(){}},{key:"getDuration",value:function(){return this.video.duration}},{key:"isLowLatencyLive",value:function(){return this.yaspVideoElement?this.yaspVideoElement.isLowLatencyLive():dE(gE(t.prototype),"isLowLatencyLive",this).call(this)}},{key:"getUtcStartTime",value:function(){var e,r=this;if(!this.yaspVideoElement)return dE(gE(t.prototype),"getUtcStartTime",this).call(this);var n=null!==(e=(0,j_.Y)((function(){return r.yaspVideoElement?r.yaspVideoElement.getStartDate():null}),(function(e){return r.reportYaspUnexpectedMethodCall("getStartDate",e)})))&&void 0!==e?e:null;if(!n)return dE(gE(t.prototype),"getUtcStartTime",this).call(this);var o=n.getTime();return isNaN(o)?dE(gE(t.prototype),"getUtcStartTime",this).call(this):o/1e3}},{key:"onTick",value:function(e){this.state.controller.videoType&&dE(gE(t.prototype),"onTick",this).call(this,e)}},{key:"getServerTime",value:function(){return this.yaspVideoElement?this.yaspVideoElement.getServerTime():dE(gE(t.prototype),"getServerTime",this).call(this)}},{key:"getFragmentsData",value:function(){var e=this.getSeekableRange(),t=e.start;return{totalDuration:e.end-t,fragmentDuration:KD,startTime:t}}},{key:"isDvrEnabled",value:function(){return!0}},{key:"getBandwidthEstimate",value:function(){if("function"!==typeof vV.getStats)return dE(gE(t.prototype),"getBandwidthEstimate",this).call(this);var e=(vV.getStats()||{}).bandwidth;if(e){var r=yy(e);if(r&&(0,TT.z)(r.value))return r}return dE(gE(t.prototype),"getBandwidthEstimate",this).call(this)}},{key:"canSeek",value:function(){var e=this.props.video;return e.readyState>0&&e.duration>0}},{key:"onVideoTagError",value:(u=lE(cE().mark((function e(){var r,n,o;return cE().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.controller.encoderState===CD.Attached){e.next=2;break}return e.abrupt("return",dE(gE(t.prototype),"onVideoTagError",this).call(this));case 2:if((r=this.video.error)&&r.yaspError){e.next=5;break}return e.abrupt("return",dE(gE(t.prototype),"onVideoTagError",this).call(this));case 5:return this.video.poster=fC,this.checkPlaylistHTTPStatus(),n=cT.from(r.yaspError),e.next=10,this.checkPlaylistHTTPStatusPromise;case 10:if((o=e.sent)&&o.isFatalError()){e.next=14;break}return this.props.onError(n),e.abrupt("return");case 14:this.props.onError(o.toPlayerError());case 15:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"initVideoTypeQualifier",value:function(){}},{key:"configureSource",value:function(e){vV.configureSource(this.getStreamUrl(),e)}},{key:"preloadSource",value:(a=lE(cE().mark((function e(t){var r,n=this;return cE().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.isDestroyed||this.preloader&&!this.preloader.isDestroyed)){e.next=3;break}return e.abrupt("return");case 3:if(r=ng({source:this.props,engine:this.engine,getState:function(){return n.state},getCapSizes:function(){return n.getCapSizes()},getVideoElementSizes:function(){return n.getVideoElementSizes()},defaultQuality:this.props.defaultQuality})){e.next=6;break}return e.abrupt("return");case 6:return this.preloader=r,r.on("Destroy",(function(){n.preloader=void 0})),e.next=10,r.preload(this.getYaspConfig(),t);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"getYaspConfig",value:function(){var e;return{defaultBandwidthEstimate:null!==(e=vV.getStats().bandwidth)&&void 0!==e?e:this.getBandwidthEstimate(),presentationDelay:1e3*(this.props.liveOffset+GB),userQuality:(0,MB.nK)(),maxAutoQuality:this.props.defaultQuality,withCredentials:this.props.sourceParams.withCredentials,skippableFragments:this.props.sourceParams.skippableFragments,maxStartTime:(0,HB.p)()}}},{key:"initVideoSizesUpdater",value:function(){var e=this,t=NaN,r=NaN;this.configureSource({videoSizes:this.getVideoElementSizes()});var n=setInterval((function(){var n=e.getVideoElementSizes(),o=n.width,i=n.height;o===t&&i===r||(t=o,r=i,(0,j_.Y)((function(){e.configureSource({videoSizes:n})}),(function(t){e.reportYaspUnexpectedMethodCall("configureSource",t)})))}),1e3);this.once("Detach",(function(){clearInterval(n)}))}},{key:"shouldLogStalledDebugInfo",value:function(){return!0}},{key:"estimateLatency",value:function(){}}])&&fE(r.prototype,n),i&&fE(r,i),Object.defineProperty(r,"prototype",{writable:!1}),t}(AB),KB=r(83361),zB=z(window),QB={},ZB=r(14661),$B=r.n(ZB),JB=r(80604),XB=[$I.midroll,$I.postroll,$I.preroll],eU=function(){return PE((function(e,t,r){var n=function(e){var t=e.ad.nextAdInfo,r=e.controller.videoType;if(void 0!==t&&("postroll"!==t.adBreakType||r===DR.D.VOD))return t.remainingTime}(e.getState());t.callbacks.onNextAdRemainingTimeChange(n)}))},tU=r(83361),rU=["ewma","hlsjs"],nU=r(71377),oU=r(46063),iU=r(83361),aU=function(){return PE(function(){var e,t=(e=UE().mark((function e(t,r){var n,o,i,a;return UE().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:return t.callbacks.onResourcesIdle(),t.callbacks.logEvent({event:LP.ResourcesIdle,params:{}}),e.next=6,(0,nU._)(5e3);case 6:i=(0,j_.Y)((function(){return(0,oU.getGpu)()})),a=Kf(),t.callbacks.logEvent({event:LP.ClientInfo,params:{gpu:i?{renderer:i.renderer,vendor:i.vendor}:null,codecs:a,bundles:{supported:sR(window)?"modern":"legacy",loaded:"legacy"},display:{width:(null===(n=window.screen)||void 0===n?void 0:n.width)*window.devicePixelRatio,height:(null===(o=window.screen)||void 0===o?void 0:o.height)*window.devicePixelRatio,dpr:window.devicePixelRatio}}});case 9:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new iU((function(n,o){function i(e){GE(u,n,o,i,a,"next",e)}function a(e){GE(u,n,o,i,a,"throw",e)}var u=e.apply(t,r);i(void 0)}))});return function(e,r){return t.apply(this,arguments)}}())},uU=r(83361),cU=r(83361),sU=function(){function e(t){var r,n,o,i=this,a=t.playerApi,u=t.store;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),oO(this,"playerApi",void 0),oO(this,"store",void 0),oO(this,"destroyed",!1),oO(this,"lastSourceId",void 0),oO(this,"prevVolumeInfoPayload",void 0),oO(this,"prevIsAbrEnabled",void 0),oO(this,"prevVideoTrackValue",void 0),oO(this,"waitingForVideoTracks",!1),oO(this,"currentPostPauserollInterval",void 0),oO(this,"watchedTimeCounter",void 0),oO(this,"effects",{putAdblockDetected:PE((function(e,t){e.callbacks.onAdblockDetected(t)})),putVideoSize:PE((function(e,t){e.callbacks.onVideoSizeChange(t)})),putAudioTrackValue:PE((function(e,t,r){var n=e.getState();t.callbacks.onAudioTrackChange(hf(n))})),putAudioTracks:PE((function(e,t){e.callbacks.onAudioTracksChange(t)})),putBufferingRanges:PE((function(e,t){e.callbacks.onBufferingRangesChange(t)})),putIsFullscreen:PE((function(e,t,r){t.callbacks.onFullScreenChange(r),LE(e,t),RE(e,t)})),putTextTracks:PE((function(e,t){e.callbacks.onTextTracksChange(t)})),putStream:PE((function(e,t){e.callbacks.onChangeStream(t)})),putStreamsWithSupportInfo:PE((function(e,t){e.callbacks.onStreamsWithSupportInfoChange(t)})),putVideoType:PE((function(e,t){e.callbacks.onVideoTypeChange(t)})),putAdInfo:PE((function(e,t){t||e.updateVideoControllerNativeControlsVisibility()})),putNextAdInfo:eU(),putStartStage:PE((function(e,t,r){t.callbacks.onStartStageChange(r)})),putLastKnownBandwidthEstimate:PE((function(e,t,r){rU.includes(r.source)&&t.callbacks.onBandwidthEstimateChange(r)})),updateOriginalAdState:(r=0,function(e,t){var n,o=e.getState(),i=o.ad,a=i.adInfo,u=i.originalBroadcastAdCueId,c=o.controller.watchedTime,s=us(o);if(s&&is(a)){var l=as(o,s);if(l){var f=a.params,d=f.startProgramDateTime,h=f.startVideoTime,p=f.startTimestamp,v=l.end+15,y=Date.now()/1e3-p,m=d+h;if(v<y+m){var g={utc:m+y,videoTime:(0,TT.z)(h)?h+y:void 0};return e.setControllerStateField(ZD.startPosition,g),void t.stopAd({stopAdReason:JI.CutOff})}}}s!==u&&(e.setAdStateField(zD.originalBroadcastAdCueId,s),void 0!==s?r=c:n=c-r,t.callbacks.onOriginalBroadcastAdStateChange({cueId:s,originalBroadcastAdDuration:n}))}),putResourcesIdle:aU()}),oO(this,"putVolumeInfo",(function(e){var t,r;(i.store.setVolumeInfo(e),t=i.prevVolumeInfoPayload,r=e,t.volume!==r.volume||t.muted!==r.muted)&&(i.prevVolumeInfoPayload=e,function(e,t){var r=t.volume,n=t.muted,o=t.changeReason;e.callbacks.onVolumeChange({volume:r,muted:n,changeReason:o})}(i.playerApi,e),LE(i.store,i.playerApi))})),oO(this,"updateAdInfo",PE((function(e){var t=i.store.getState().ad.adInfo;i.putAdInfo(e),function(e,t,r){r&&t&&r.adType!==t.adType?(e.callbacks.onAdStateChange({state:jP.NOT_PLAYING,type:r.adType,adParams:{}}),e.callbacks.onAdStateChange({state:jP.PLAYING,type:t.adType,adParams:{}})):r&&!t?e.callbacks.onAdStateChange({state:jP.NOT_PLAYING,type:r.adType,adParams:{}}):!r&&t&&e.callbacks.onAdStateChange({state:jP.PLAYING,type:t.adType,adParams:{}})}(i.playerApi,e,t),void 0!==e&&is(e)&&i.requestMetaInfo(e,pL.W)}))),oO(this,"putInStreamPlayingState",PE((function(e){i.store.setAdStateField(zD.inStreamPlayingState,e),i.handlePlayingStateChange()}),qD.inStreamPlayingState)),oO(this,"putPlayingState",PE((function(e){i.store.setControllerStateField(ZD.playingState,e),i.handlePlayingStateChange(),i.handleMidroll(),LE(i.store,i.playerApi),i.handlePostPauseroll()}),XD.playingState)),oO(this,"putCurrentTime",PE((function(e){i.store.setControllerStateField(ZD.currentTime,e),i.updateWatchedTime(),jE(i.store,i.playerApi),i.playerApi.callbacks.onCurrentTimeChange(e),i.store.setControllerStateField(ZD.currentTimeLowGranularity,IE(e))}))),oO(this,"handleMidroll",(n=rO(eO().mark((function e(){var t,r,n,o,a,u,c,s,l,f;return eO().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.store.getState(),r=t.controller,n=r.currentTimeLowGranularity,o=r.duration,a=r.videoType,u=r.watchedTime,!isNaN(o)){e.next=4;break}return e.abrupt("return");case 4:return c=i.playerApi.getMultiroll(),s={watchedTime:u,sourceWatchedTime:u,currentTime:n,duration:o,videoType:a||DR.D.VOD},e.next=8,c.midroll.loadViewers(s);case 8:if(l=e.sent,!i.destroyed){e.next=11;break}return e.abrupt("return");case 11:if(f=c.getNextAdInfo(s),i.putNextAdInfo(f),!(l.length<=0)){e.next=15;break}return e.abrupt("return");case 15:return e.next=17,i.playerApi.playAdViewers($I.midroll,Mc(l,$I.midroll),{});case 17:case"end":return e.stop()}}),e)}))),o=!1,ZE(zE().mark((function e(){var t=arguments;return zE().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=2;break}return e.abrupt("return");case 2:return o=!0,e.prev=3,e.next=6,n.apply(void 0,t);case 6:return e.prev=6,o=!1,e.finish(6);case 9:case"end":return e.stop()}}),e,null,[[3,,6,9]])}))))),oO(this,"handlePostPauseroll",function(e){var t,r=function(e){t=e};return function(){t&&(t(),t=void 0);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return e.apply(void 0,[r].concat(o))}}((function(e){var t=i.store.getState().controller,r=t.duration,n=t.playingState,o=t.watchedTime;if(!isNaN(r)&&0!==o&&n===YA.PAUSE&&!bf(i.store.getState())){var a,u=(0,y_.u)(),c=function(){var e=rO(eO().mark((function e(){var t,r;return eO().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u()/1e3,e.next=3,i.playerApi.getMultiroll().postPauseroll.loadViewers({pausedTime:t});case 3:if(r=e.sent,!i.destroyed){e.next=6;break}return e.abrupt("return");case 6:if(i.currentPostPauserollInterval===a){e.next=8;break}return e.abrupt("return");case 8:if(0===r.length){e.next=11;break}return i.playerApi.planAdViewers(Mc(r,$I.postPauseroll)),e.abrupt("return");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();c(),a=window.setInterval((function(){c()}),15e3),e((function(){clearInterval(a),i.currentPostPauserollInterval=void 0})),i.currentPostPauserollInterval=a}}))),oO(this,"putResourcesIdle",(function(e){i.effects.putResourcesIdle(i.playerApi,e)})),this.playerApi=a,this.store=u;var c=this.store.getState().controller,s=c.volume,l=c.muted,f=c.isAbrEnabled,d=c.videoTrackValue;this.prevVideoTrackValue={isAbrEnabled:f,videoTrackValue:d},this.prevIsAbrEnabled=f,this.prevVolumeInfoPayload={volume:s,muted:l,changeReason:void 0},this.watchedTimeCounter=new nL.p}var t,r,n,o,i,a;return t=e,(r=[{key:"refreshCue",value:function(e){var t=e.cueId,r=e.start,n=e.end,o=this.store.getState().ad.originalBroadcastAdCues,i=fP(o),a=i[t]||{start:r,end:n};void 0!==r&&(a.start=r),void 0!==n&&(a.end=n),i[t]=a,this.putOriginalBroadcastAdCues(i)}},{key:"putOriginalBroadcastAdCues",value:function(e){this.store.setAdStateField(zD.originalBroadcastAdCues,e),this.updateOriginalAdState()}},{key:"putIsAbrEnabled",value:function(e){if(this.prevIsAbrEnabled!==e){this.prevIsAbrEnabled=e,this.store.setIsAbrEnabled(e);var t=this.store.getState().controller.videoTrackValue;this.putVideoTrackParams({videoTrackValue:t,isAbrEnabled:e})}}},{key:"putVideoTracks",value:function(e){var t=JE(e).sort(WE);this.store.setControllerStateField(ZD.videoTracks,t),this.waitingForVideoTracks&&this.handleVideoTrackChange(),this.playerApi.callbacks.onVideoTracksChange(t)}},{key:"putVideoTrackParams",value:function(e){var t=e.isAbrEnabled,r=e.videoTrackValue,n={isAbrEnabled:t,videoTrackValue:r};AP()(n,this.prevVideoTrackValue)||(this.store.setVideoTrackParams({videoTrackValue:r,isAbrEnabled:t}),this.prevVideoTrackValue=n,0!==this.store.getState().controller.videoTracks.length||void 0===n.videoTrackValue?this.handleVideoTrackChange():this.waitingForVideoTracks=!0)}},{key:"handleVideoTrackChange",value:(a=rO(eO().mark((function e(){return eO().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.waitingForVideoTracks=!1,e.next=3,(0,nU._)(0);case 3:this.playerApi.callbacks.onVideoTrackChange(gf(this.store.getState()));case 4:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"handlePlayingStateChange",value:function(){var e=this.store.getState(),t=e.controller.playingState,r=e.ad.inStreamPlayingState;this.updateWatchedTime(),void 0===r||r===YA.END?this.playerApi.callbacks.onStateChange(t):this.playerApi.callbacks.onStateChange(r)}},{key:"requestMetaInfo",value:(i=rO(eO().mark((function e(t,r){var n,o,i,a,u,c,s,l,f,d,h,p,v,y,m,g,b;return eO().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,nU._)(5e3);case 2:if(!this.destroyed){e.next=4;break}return e.abrupt("return");case 4:if(n=this.store.getState(),o=n.ad.adInfo,i=n.controller.stream,a=YE(n),o&&is(o)&&o.params.startTimestamp===t.params.startTimestamp&&i&&a){e.next=9;break}return e.abrupt("return");case 9:return u=o.params,c=u.startProgramDateTime,s=u.startVideoTime,l=u.startTimestamp,d=(f=c+s)+300,h=Math.round(1e3*(f+(Date.now()/1e3-l))),p=Tr(a,"video-timestamp",String(h)),e.prev=14,e.next=17,r({method:"GET",url:p});case 17:if(v=e.sent,!this.destroyed){e.next=20;break}return e.abrupt("return");case 20:e.next=27;break;case 22:return e.prev=22,e.t0=e.catch(14),this.playerApi.callbacks.onError(new cT({code:P_.META_INFO_REQUEST_FAILED,details:{url:p},isFatal:!1}).toJSON()),this.refreshCue({end:d,cueId:o.params.cueId}),e.abrupt("return");case 27:if(y=qE(v.responseText),(0,N_.K)(y)){e.next=30;break}return e.abrupt("return");case 30:if(m=y.cutoff,(g=y.cue_id)===o.params.cueId){e.next=33;break}return e.abrupt("return");case 33:b=(0,TT.z)(m)?(h+m)/1e3:d,this.refreshCue({end:b,cueId:g}),this.requestMetaInfo(t,r);case 36:case"end":return e.stop()}}),e,this,[[14,22]])}))),function(e,t){return i.apply(this,arguments)})},{key:"updateWatchedTime",value:function(){var e=this.store.getState().controller,t=e.currentTime,r=e.playingState,n=e.playbackRate,o=e.sourceId;this.lastSourceId!==o&&(this.watchedTimeCounter.restoreLastUpdate(),this.lastSourceId=o);var i,a,u=(i=this.store.getState(),void 0!==(a=i.ad.adInfo)&&XB.includes(a.adType));this.watchedTimeCounter.calc(t,n,r===YA.PLAY&&!u),this.putWatchedTime(this.watchedTimeCounter.get())}},{key:"handlePostroll",value:(o=rO(eO().mark((function e(){var t,r;return eO().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.playerApi.getMultiroll(),e.next=3,t.postroll.loadViewers({});case 3:if(r=e.sent,!this.destroyed){e.next=6;break}return e.abrupt("return");case 6:if(!(r.length>0)){e.next=9;break}return e.next=9,this.playerApi.playAdViewers($I.postroll,Mc(r,$I.postroll),{});case 9:this.playerApi.stop(),this.putPlayingState(YA.END);case 11:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"handleVideoTagPlayingStateChange",value:function(e){var t=this.store.getState().controller,r=t.playingState,n=t.watchedTime;if(r!==e&&(r!==YA.END||e!==YA.PAUSE))if(e!==YA.BUFFERING)if(r===YA.BUFFERING&&e===YA.PAUSE&&0===n||this.putStartStage(tP.started),e===YA.END){var o=this.store.getState(),i=o.ad.adInfo;bf(o)?hC.log("putPlayingState(".concat(YA.END,") has not been dispatched because ad(").concat(i&&i.adType,") is playing")):this.handlePostroll()}else this.putPlayingState(e);else this.putPlayingState(YA.BUFFERING)}},{key:"putAdblockDetected",value:function(e){this.store.setAdStateField(zD.adblockDetected,e),this.effects.putAdblockDetected(this.playerApi,e)}},{key:"putVideoSize",value:function(e){this.store.setVideoSize(e),this.effects.putVideoSize(this.playerApi,e)}},{key:"putPlaybackRate",value:function(e,t){this.store.setControllerStateField(ZD.playbackRate,e),t!==$D.PlaybackRateCatchupSelection&&function(e,t){e.callbacks.onPlaybackRateChange(t)}(this.playerApi,e)}},{key:"enableTextTrack",value:function(){xE(this.store,this.playerApi)}},{key:"putAudioTrackValue",value:function(e){this.store.setControllerStateField(ZD.audioTrackValue,e),this.effects.putAudioTrackValue(this.store,this.playerApi,e)}},{key:"putAudioTracks",value:function(e){this.store.setControllerStateField(ZD.audioTracks,e),this.effects.putAudioTracks(this.playerApi,e)}},{key:"putBufferingRanges",value:function(e){this.store.setControllerStateField(ZD.bufferingRanges,e),this.effects.putBufferingRanges(this.playerApi,e)}},{key:"putErrorInfo",value:function(e){this.store.setControllerStateField(ZD.errorInfo,e),function(e,t){var r=t.error;if(void 0!==r){var n=r.code,o=r.isFatal,i=r.details;o?(hC.error(n,i),e.setFullscreen(!1)):hC.warn(n,i),e.callbacks.onError(r.toJSON())}}(this.playerApi,e)}},{key:"putIsFullscreen",value:function(e){this.store.setControllerStateField(ZD.isFullscreen,e),this.effects.putIsFullscreen(this.store,this.playerApi,e)}},{key:"putIsPip",value:function(e){this.store.setControllerStateField(ZD.isPip,e),RE(this.store,this.playerApi)}},{key:"putTextTrackEnabled",value:function(e){this.store.setControllerStateField(ZD.textTrackEnabled,e),RE(this.store,this.playerApi)}},{key:"putNativeTextTrackVisibility",value:function(e){this.store.setControllerStateField(ZD.nativeTextTrackVisible,e),RE(this.store,this.playerApi)}},{key:"putTextTracks",value:function(e){this.store.setControllerStateField(ZD.textTracks,e),this.effects.putTextTracks(this.playerApi,e)}},{key:"putStream",value:function(e){this.store.setControllerStateField(ZD.stream,e),this.effects.putStream(this.playerApi,e)}},{key:"putLastKnownBandwidthEstimate",value:function(e){this.store.setControllerStateField(ZD.lastKnownBandwidthEstimate,e),this.effects.putLastKnownBandwidthEstimate(this.store,this.playerApi,e)}},{key:"putStreamsWithSupportInfo",value:function(e){this.store.setControllerStateField(ZD.streamsWithSupportInfo,e),this.effects.putStreamsWithSupportInfo(this.playerApi,e)}},{key:"putVideoType",value:function(e){this.store.setControllerStateField(ZD.videoType,e),this.effects.putVideoType(this.playerApi,e)}},{key:"putAdInfo",value:function(e){this.store.setAdStateField(zD.adInfo,e),this.effects.putAdInfo(this.playerApi,e)}},{key:"putNextAdInfo",value:function(e){this.store.setAdStateField(zD.nextAdInfo,e),this.effects.putNextAdInfo(this.store,this.playerApi,e)}},{key:"putWatchedTime",value:function(e){this.store.setControllerStateField(ZD.watchedTime,e),this.handleMidroll()}},{key:"putStartStage",value:function(e){this.store.setControllerStateField(ZD.startStage,e),this.effects.putStartStage(this,this.playerApi,e)}},{key:"putEncoderState",value:function(e){var t,r;this.store.setControllerStateField(ZD.encoderState,e),t=this.store,r=this.playerApi,t.getState().controller.encoderState===CD.Attached&&ME(t,r)}},{key:"putAutoplay",value:function(e){this.store.setControllerStateField(ZD.autoplay,e),ME(this.store,this.playerApi)}},{key:"updateOriginalAdState",value:function(){this.effects.updateOriginalAdState(this.store,this.playerApi)}},{key:"destroy",value:function(){this.destroyed=!0,clearInterval(this.currentPostPauserollInterval)}}])&&nO(t.prototype,r),n&&nO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();!function(e){e.ExternalApi="ExternalApi",e.InternalApi="InternalApi"}(jB||(jB={})),function(e){e.OnAdStart="OnAdStart",e.BeforeAdEnd="BeforeAdEnd",e.BeforeAdSkip="BeforeAdSkip"}(IB||(IB={}));var lU=function(){function e(t){var r=t.initialState;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"state",void 0),this.state=r}var t,r,n;return t=e,(r=[{key:"getState",value:function(){return this.state}},{key:"removeCue",value:function(e){var t=this.state.ad,r=fP(t.originalBroadcastAdCues);delete r[e],t.originalBroadcastAdCues=r}},{key:"updateSourceId",value:function(){var e=this.state.controller;e.sourceId=e.sourceId+1}},{key:"setVolumeInfo",value:function(e){var t=e.volume,r=e.muted,n=this.state.controller;n.volume=t,n.muted=r}},{key:"setVideoSize",value:function(e){var t=e.videoWidth,r=e.videoHeight,n=this.state.controller;n.videoWidth=t,n.videoHeight=r}},{key:"setIsAbrEnabled",value:function(e){var t=this.state.controller;t.isAbrEnabled=t.isAbrSupported&&e}},{key:"setIsAbrSupported",value:function(e){var t=this.state.controller;t.isAbrSupported=e,t.isAbrEnabled=t.isAbrEnabled&&e}},{key:"setVideoTrackParams",value:function(e){var t=e.isAbrEnabled,r=e.videoTrackValue,n=this.state.controller;n.videoTrackValue=r,n.isAbrEnabled=t&&n.isAbrSupported}},{key:"setUserAudioTrackParams",value:function(e){var t=e.name,r=e.lang,n=this.state.controller;n.userAudioTrackName=t,n.userAudioTrackLang=r}},{key:"setUserTextTrackParams",value:function(e){var t=e.enabled,r=e.name,n=e.lang,o=this.state.controller;o.userTextTrackEnabled=t,o.userTextTrackName=r,o.userTextTrackLang=n}},{key:"setUserVideoTrackParams",value:function(e){var t=e.name,r=e.height,n=this.state.controller;n.userVideoTrackName=t,n.userVideoTrackHeight=r}},{key:"setErrorInfo",value:function(e){var t,r=this.state.controller;(!e||(t=e,!(0,ux.Z)(t).length)||e.error&&e.error.isFatal)&&(r.errorInfo=e)}},{key:"setSkinStateField",value:function(e,t){this.state.skin[e]=t}},{key:"setAdStateField",value:function(e,t){this.state.ad[e]=t}},{key:"setControllerStateField",value:function(e,t){this.state.controller[e]=t}}])&&iO(t.prototype,r),n&&iO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),fU=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return(0,gR.P)(e)&&(0,DP.i)(e).toLowerCase().indexOf("iphone")>-1}(),dU=(0,Kj.N)(),hU=!bP&&jN("video/webm")?"data:video/webm;base64,GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4EEQoWBAhhTgGcBAAAAAAAByhFNm3RAHU27i1OrhBVJqWZTrIHlTbuMU6uEFlSua1OsggEj7AEAAAAAAAC5AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAADIq17GDD0JATYCNTGF2ZjU3Ljc2LjEwMFdBjUxhdmY1Ny43Ni4xMDBEiYhASwAAAAAAABZUrmsBAAAAAAAAYq4BAAAAAAAAWdeBAXPFgQGcgQAitZyDdW5khoZBX09QVVNWqoNjLqBWu4QExLQAg4EC4QEAAAAAAAARn4ECtYhA53AAAAAAAGJkgSBjopNPcHVzSGVhZAECOAGAuwAAAAAAH0O2dQEAAAAAAAAt54EAo4eBAACA/P/+o4eBABWA/P/+oAEAAAAAAAAPoYeBACkA/P/+daKDa3KD":"data:video/mp4;base64,AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAAMm1kYXTeBABMYXZjNTcuMTA3LjEwMABCIAjBGDghEARgjBwhEARgjBwhEARgjBwAAAMbbW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAAAEsAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAkV0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAAEsAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAA1AAAEAAABAAAAAAG9bWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAADgZVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAABaG1pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAABLHN0YmwAAABqc3RzZAAAAAAAAAABAAAAWm1wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAANmVzZHMAAAAAA4CAgCUAAQAEgICAF0AVAAAAAAH0AAAAEYwFgICABRGQVuUABoCAgAECAAAAMHN0dHMAAAAAAAAABAAAAAEAAAQAAAAAAQAABBgAAAABAAAEAAAAAAEAAAHuAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAAEAAAAAQAAACRzdHN6AAAAAAAAAAAAAAAEAAAAGAAAAAYAAAAGAAAABgAAABRzdGNvAAAAAAAAAAEAAAAsAAAAGnNncGQBAAAAcm9sbAAAAAIAAAAB//8AAAAcc2JncAAAAAByb2xsAAAAAQAAAAQAAAABAAAAYnVkdGEAAABabWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcmFwcGwAAAAAAAAAAAAAAAAtaWxzdAAAACWpdG9vAAAAHWRhdGEAAAABAAAAAExhdmY1Ny44My4xMDA=",pU=r(83361),vU=r(83361),yU=r(83361),mU=function(e){var t=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||function(t){return e.setTimeout(t,1e3/60)},r=e.cancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelAnimationFrame||e.msCancelAnimationFrame||function(t){return e.clearTimeout(t)};return{requestAnimationFrame:t.bind(e),cancelAnimationFrame:r.bind(e)}}(window),gU=mU.requestAnimationFrame,bU=mU.cancelAnimationFrame,wU=r(83361),SU=function(){function e(t){NO(this,e),this.props=t,VO(this,"destroyed",!1),VO(this,"framesCount",1)}return MO(e,[{key:"destroy",value:function(){this.destroyed=!0}},{key:"setFramesCount",value:function(e){this.framesCount=e}}],[{key:"isSupported",value:function(e){return!0}},{key:"create",value:function(e){return new([kU,OU,EU].find((function(t){return t.isSupported(e)})))(e)}}]),e}(),EU=function(e){function t(e){var r;NO(this,t),VO(CO(r=i.call(this,e)),"handle",void 0);var n=e.video.currentTime;return r.handle=gU((function t(){r.destroyed||(e.video.currentTime!==n&&(n=e.video.currentTime,e.onTimeUpdate(e.video.currentTime)),r.handle=gU(t))})),r}RO(t,e);var r,n,o,i=jO(t);return MO(t,[{key:"seekToDirection",value:(o=TO(_O().mark((function e(t){var r,n,o,i,a;return _O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.props.getFPS(),n=this.props.video,o=Math.floor(n.currentTime*r),i=Math.max(0,o+t),a=new wU((function(e){return n.addEventListener("seeked",e,{once:!0})})),n.currentTime=i/r+.001,e.next=8,a;case 8:return this.props.onTimeUpdate(n.currentTime),e.abrupt("return",n.currentTime);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"seekToNextFrame",value:(n=TO(_O().mark((function e(){return _O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.seekToDirection(this.framesCount));case 1:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"seekToPreviousFrame",value:(r=TO(_O().mark((function e(){return _O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.seekToDirection(-this.framesCount));case 1:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"destroy",value:function(){PO(DO(t.prototype),"destroy",this).call(this),bU(this.handle)}}],[{key:"isSupported",value:function(e){return!0}}]),t}(SU),OU=function(e){function t(){return NO(this,t),n.apply(this,arguments)}RO(t,e);var r,n=jO(t);return MO(t,[{key:"seekToNextFrame",value:(r=TO(_O().mark((function e(){var t,r,n;return _O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,r=t.video,n=t.onTimeUpdate,e.next=3,r.seekToNextFrame();case 3:return n(r.currentTime),e.abrupt("return",r.currentTime);case 5:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})}],[{key:"isSupported",value:function(e){return"function"===typeof e.video.seekToNextFrame}}]),t}(EU),kU=function(e){function t(){var e;NO(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return VO(CO(e=o.call.apply(o,[this].concat(n))),"frameRequestId",null),e}RO(t,e);var r,n,o=jO(t);return MO(t,[{key:"seekToNextFrame",value:(n=TO(_O().mark((function e(){var t,r,n,o,i;return _O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,r=t.video,n=t.getFPS,o=n(),i=this.framesCount/o,e.abrupt("return",this.seekToTime(r.currentTime+i));case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"seekToPreviousFrame",value:(r=TO(_O().mark((function e(){var t,r,n,o,i;return _O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,r=t.video,n=t.getFPS,o=n(),i=this.framesCount/o,e.abrupt("return",this.seekToTime(r.currentTime-i));case 4:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"seekToTime",value:function(e){var t=this,r=this.props,n=r.video,o=r.onTimeUpdate;return new wU((function(r){n.requestVideoFrameCallback((function(){t.destroyed||(o(n.currentTime),r(n.currentTime))})),n.currentTime=e}))}},{key:"destroy",value:function(){PO(DO(t.prototype),"destroy",this).call(this),null!==this.frameRequestId&&(window.cancelAnimationFrame(this.frameRequestId),this.frameRequestId=null)}}],[{key:"isSupported",value:function(e){return"function"===typeof e.video.requestVideoFrameCallback&&!$V}}]),t}(SU),_U=r(83361),AU=document.createElement("video"),TU=FI(window),PU=function(e){function t(e,r,n,o){var i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),JO(ZO(i=w.call(this)),"plannedAdViewers",[]),JO(ZO(i),"callbacks",void 0),JO(ZO(i),"videoController",void 0),JO(ZO(i),"multiroll",DF),JO(ZO(i),"accurateSeekingLock",!1),JO(ZO(i),"defineAutoplaySettingsDeferred",new dL.B),JO(ZO(i),"abortRequestAutoplaySettings",gT.Z),JO(ZO(i),"playbackProgressStorage",new HF),JO(ZO(i),"visualState",void 0),JO(ZO(i),"container",void 0),JO(ZO(i),"video",void 0),JO(ZO(i),"videoSizeSensor",void 0),JO(ZO(i),"div",void 0),JO(ZO(i),"adDiv",void 0),JO(ZO(i),"playbackQualityController",void 0),JO(ZO(i),"playerStore",void 0),JO(ZO(i),"stateController",void 0),JO(ZO(i),"broadcastAd",void 0),JO(ZO(i),"playCallbacks",[]),JO(ZO(i),"config",void 0),JO(ZO(i),"mediaInternalsHistory",void 0),JO(ZO(i),"currentAdPlaybackQueue",void 0),JO(ZO(i),"stopLoadSource",gT.Z),JO(ZO(i),"onReady",void 0),JO(ZO(i),"playDeferred",void 0),JO(ZO(i),"becameStarting",!1),JO(ZO(i),"canMuteForPlay",!0),JO(ZO(i),"destroyed",!1),JO(ZO(i),"handleAdEnd",void 0),JO(ZO(i),"frameSeeker",void 0),JO(ZO(i),"stopAd",(function(){return _U.resolve()})),JO(ZO(i),"setHiddenControls",(function(e){e.indexOf(ZP.ALL)>-1?i.playerStore.setSkinStateField(QD.hiddenControls,sx):i.playerStore.setSkinStateField(QD.hiddenControls,e),i.videoController&&!i.playerStore.getState().ad.adInfo&&i.videoController.updateNativeControlsVisibility()})),JO(ZO(i),"setPlaybackRate",(function(e){var t,r,n,o,a,u,c=(r=i.state,n=r.controller,o=n.videoType,a=n.currentTime,u=r.skin,ho({videoType:o,currentTime:a,dvrStartTime:u.skinDVRStartTime,dvrDuration:u.skinDVRDuration})),s=c.max,l=c.min;null===(t=i.videoController)||void 0===t||t.setPlaybackRate(wc(e,l,s),$D.Other)})),JO(ZO(i),"seek",(function(e){var t=e.videoTime,r=e.utc,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("number"===typeof r){var o=i.videoController.getUtcStartTime(),a=r-o;i.seekToVideoPosition(a,n)}else"number"===typeof t&&i.seekToVideoPosition(t,n)})),JO(ZO(i),"setVolume",(function(e){if(void 0===i.videoController)return i.stateController.putVolumeInfo({muted:i.state.controller.muted,volume:e,changeReason:CP.SetVolume}),void i.abortRequestAutoplaySettings(JD.VolumeChange);var t=i.state.controller,r=t.muted,n=t.volume,o=e,a=r;0===e&&(o=i.state.controller.userVolume||n||1,a=!0);i.stateController.putVolumeInfo({volume:o,muted:a,changeReason:CP.SetVolume}),i.currentAdPlaybackQueue&&bf(i.state)?i.currentAdPlaybackQueue.setVolume(e):i.videoController&&(i.videoController.setVolume(o),i.videoController.setMuted(a))})),JO(ZO(i),"setMuted",(function(e){var t={volume:i.state.controller.volume,muted:e,changeReason:CP.SetMuted};if(!i.videoController)return i.stateController.putVolumeInfo(t),void i.abortRequestAutoplaySettings(JD.MuteChange);i.stateController.putVolumeInfo(t),i.currentAdPlaybackQueue&&bf(i.state)?i.currentAdPlaybackQueue.setVolume(e?0:i.state.controller.volume):i.videoController&&i.videoController.setMuted(e)})),JO(ZO(i),"playInrollAd",(function(e){i.multiroll.inroll.schedule(qO(qO({},e),{},{timeOffset:(null===e||void 0===e?void 0:e.timeOffset)||0}))})),JO(ZO(i),"playAdViewers",function(){var e=HO(UO().mark((function e(t,r,n,o){return UO().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return tf("player.adsdk.empty.".concat(t)),tf("player.adsdk.start.".concat(t)),tf("player.adsdk.fail.".concat(t)),e.prev=3,e.next=6,i.initAdPlaybackQueue(t);case 6:return e.next=8,i.playAdViewersInternal(t,r,n,o);case 8:e.next=15;break;case 10:e.prev=10,e.t0=e.catch(3),tf("player.adsdk.fail.".concat(t)),Df({reason:"PLAY_AD_VIEWERS_ERROR",adSdkVersion:Ws(),adSdkLoaderVersion:qs(),adblockDetected:i.state.ad.adblockDetected,adType:t,bandwidth:Oh(void 0)}),i.onError(cT.from(e.t0,{code:P_.PLAY_AD_VIEWERS_ERROR,isFatal:!1,details:{adType:t,adViewersWithData:r,adDisplayConfig:n}}));case 15:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,r,n,o){return e.apply(this,arguments)}}()),JO(ZO(i),"defineAutoplaySettingsAndLoadSource",(function(){var e=i.config.source,t=i.playerStore.getState().controller,r=t.initialAutoplay,n=t.allowMuted,o=t.muted,a=t.volume,u=t.togglePlaybackOnVisibilityChangeSetting;i.defineAutoplaySettings(i.video,{autoplay:r,muted:o||0===a,allowMuted:!(!u||!u.forceAutoplay)||n}),i.loadSource(e,{shouldSaveProgress:!1}).catch((function(e){hC.error("load source error",e),Yh(e,IP.INIT),i.onError(e)})).then((function(){i.onReady(),i.state.controller.autoplay||i.stateController.putResourcesIdle(!0)})).then((function(){void 0!==e.params.adConfig&&(eC?(0,pL.W)({method:"GET",url:XI,retries:2,checkStatus:function(e){return e>=200&&e<400}}).then((function(e){if(-1===e.responseText.trim().indexOf('<VAST version="3.0">'))throw new Error("Invalid XML in response from [".concat(XI,"]"))})):YD.resolve()).catch((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.message;i.stateController.putAdblockDetected(!0),i.onError(new cT({code:P_.STRM_ABD_INVALID_RESPONSE,isFatal:!0,details:{reason:t}}))}))}))})),JO(ZO(i),"subscribeHandlers",(function(){i.on("VideoTypeChange",(function(e){i.stateController.putVideoType(e)})),i.on("DurationChange",(function(e){i.playerStore.setControllerStateField(ZD.duration,e),i.videoController.updateDVRParams(),i.updateVideoInfo()})),i.on("DvrChange",(function(){i.updateVideoInfo()})),i.on("ProgramDateTimeChange",(function(e){i.playerStore.setControllerStateField(ZD.programDateTime,e)})),i.on("CurrentTimeChange",i.handleVideoControllerCurrentTimeChange),i.on("BufferingRangesChange",(function(e){i.stateController.putBufferingRanges(e)})),i.on("VideoTrackValueChange",(function(e){i.stateController.putVideoTrackParams({videoTrackValue:e,isAbrEnabled:i.state.controller.isAbrEnabled})})),i.on("VideoTracksChange",(function(e){i.stateController.putVideoTracks(e)})),i.on("AudioTrackValueChange",(function(e){i.stateController.putAudioTrackValue(e)})),i.on("AudioTracksChange",(function(e){i.stateController.putAudioTracks(e)})),i.on("TextTrackValueChange",(function(e){var t=i.state.controller,r=t.textTrackEnabled,n=t.textTrackValue,o=void 0!==e,a=void 0===e?n:e;if(i.stateController.putTextTrackEnabled(o),i.playerStore.setControllerStateField(ZD.textTrackValue,a),(r?n:void 0)!==(o?e:void 0)){var u=o?pf(i.state):void 0;i.callbacks.onTextTrackChange(u)}})),i.on("TextTracksChange",(function(e){i.stateController.putTextTracks(e)})),i.on("VideoPlayingStateChange",(function(e){i.stateController.handleVideoTagPlayingStateChange(e)}));var e=i.logCanPlay(IP.INIT);i.once("CanPlay",e),i.once("SetSource",(function(){return i.off("CanPlay",e)}));var t=i.logLoadStartHavingCurrentData(IP.INIT);i.once("LoadedData",t),i.once("SetSource",(function(){return i.off("LoadedData",t)})),i.once("Destroy",(function(){i.off("ContentImpression")}));var r,n=R(i.getContainerDocument(),(function(e){i.playerStore.setControllerStateField(ZD.isDocumentVisible,e)}));i.once("Destroy",n),i.once("Destroy",(r=function(e){i.callbacks.logEvent({event:LP.DrmSystemsSupportDetected,params:e})},void 0===pF?(mF.push(r),function(){var e=mF.indexOf(r);-1!==e&&mF.splice(e,1)}):(r(pF),gT.Z)))})),JO(ZO(i),"setBackgroundImage",(function(e){i.div.style.backgroundImage=e?"url('".concat(e,"')"):""})),JO(ZO(i),"setBackgroundVisibility",(function(e){i.div.style.backgroundSize=e?"contain":"0  0"})),JO(ZO(i),"playAdViewersInternal",function(){var e=HO(UO().mark((function e(t,r,n,o){var a,u,c,s,l,f,d,h,p,v,y,m,g,b;return UO().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.currentAdPlaybackQueue){e.next=2;break}return e.abrupt("return");case 2:if(a=i.currentAdPlaybackQueue,u=i.state.ad.adInfo,c=i.getAdViewersWithData(r),s=c.map((function(e){return e.adViewer})),0!==(l=Ks(s))){e.next=12;break}return rf("player.adsdk.empty.".concat(t)),Df({reason:"NO_AD_PODS_TO_PLAY_AD",adSdkVersion:Ws(),adSdkLoaderVersion:qs(),adblockDetected:i.state.ad.adblockDetected,adType:t,bandwidth:Oh(void 0)}),i.callbacks.logEvent({event:"NoAdPodsToPlayAd",params:void 0}),e.abrupt("return");case 12:if(u&&!o&&i.onError(new cT({code:P_.AD_IS_ALREADY_PLAYING,isFatal:!1,details:{currentAdType:u.adType,adType:t}})),i.prepareBeforeOrAfterAd(!1,t),i.callbacks.logEvent({event:"PlayAdViewers",params:{adType:t,adPodsCount:l}}),f=t===$I.inroll?{cueId:i.getAdViewersCueId(t,r),startProgramDateTime:i.state.controller.programDateTime/1e3,startVideoTime:i.videoController?i.videoController.getCurrentTime():i.state.controller.currentTime,startTimestamp:Date.now()/1e3}:{},d=function(){i.stateController.updateAdInfo({adType:t,params:f})},h=!1,p=(0,v_.I)(function(){var e=HO(UO().mark((function e(r){var n,o,a;return UO().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.stopAdReason,o=i.state.ad.inStreamPlayingState,h=!0,i.currentAdPlaybackQueue&&(i.currentAdPlaybackQueue.destroy(n),i.currentAdPlaybackQueue=void 0),i.stateController.updateAdInfo(void 0),i.callbacks.onExpectedStalledChange({reason:WR.AdEnd,details:{adType:t}}),i.prepareBeforeOrAfterAd(!0,t),a=function(){var e=HO(UO().mark((function e(){return UO().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return tf("encoder.attach"),e.prev=1,e.next=4,i.attachEncoder();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),hC.error(e.t0);case 9:return e.prev=9,rf("encoder.attach",{additional:{engine:i.state.controller.engine}}),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[1,6,9,12]])})));return function(){return e.apply(this,arguments)}}(),n===JI.LoadSource||n===JI.PlayerDestroy){e.next=11;break}return e.next=11,a();case 11:t!==$I.postroll&&(hC.log("videoController.play()"),o!==YA.PAUSE&&(0,mP.v)(i.videoController.play()));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),i.stopAd=p,v=Hc(s),y=a.getQueueDuration(),m=v+y,g=i.currentAdPlaybackQueue.getUtcPositionBeforeAd(),b=i.getSeekPositionAfterAd({adType:t,adViewersDuration:m,utcPosition:g}),i.playerStore.setControllerStateField(ZD.startPosition,b),i.prepareBeforeAd(t),d(),!h){e.next=30;break}return e.abrupt("return");case 30:return c.forEach((function(e){var r=e.adViewer,o=e.additionalData,u=e.adType;a.playAdViewers({adType:t,adPodType:u,adViewer:r,additionalData:o,adDisplayConfig:n,adElement:i.adDiv,posterUrl:i.getPosterUrlForAd()})})),i.plannedAdViewers=[],e.next=34,a.getDestroyPromise();case 34:if(!i.handleAdEnd){e.next=37;break}return e.next=37,i.handleAdEnd();case 37:if(h){e.next=40;break}return e.next=40,i.stopAd({stopAdReason:JI.AdCompleted});case 40:case"end":return e.stop()}}),e)})));return function(t,r,n,o){return e.apply(this,arguments)}}()),JO(ZO(i),"handleVideoControllerCurrentTimeChange",(function(e){i.state.controller.encoderState===CD.Attached&&(!(e<.5&&i.state.controller.engine===hT.NATIVE&&i.state.controller.videoType===DR.D.LIVE)&&(i.stateController.putCurrentTime(e),i.playerStore.getState().ad.adInfo||i.playbackProgressStorage.saveProgress(e)),i.videoController.updateDVRParams(),i.updateVideoInfo())})),JO(ZO(i),"handleVisualStateChange",(function(e){var t=e.isPip,r=e.isFullScreen,n=e.isVisible;i.stateController.putIsFullscreen(r);var o=i.visualState,a=o.isSupportedPipMode,u=o.isYandexPipMode,c=o.isVisibilitySupported;i.emit("VisualStateChange",qO({isPip:t,isVisible:n,isFullScreen:r,isSupportedPipMode:a,isYandexPipMode:u,isVisibilitySupported:c},i.videoSizeSensor.getSize())),a&&!u&&(i.stateController.putIsPip(t),c&&i.playerStore.setControllerStateField(ZD.isVisible,n))})),JO(ZO(i),"onRecover",(function(e){i.callbacks.onRecover(qO(qO({},e),i.getSyncDebugInfo()))})),JO(ZO(i),"logLoadStartHavingCurrentData",(function(e){return function(){if(!oC){if(i.video.readyState<i.video.HAVE_CURRENT_DATA){var t=i.logLoadStartHavingCurrentData(e);return i.once("LoadedData",t),void i.once("SetSource",(function(){return i.off("LoadedData",t)}))}i.isCanPlayAndStartHavingCurrentDataLog()&&i.emit("ContentImpression")}}})),JO(ZO(i),"logCanPlay",(function(e){return function(){oC||i.isCanPlayAndStartHavingCurrentDataLog()&&(i.callbacks.logEvent({event:LP.CanPlay,params:{stage:e}}),i.emit("ContentImpression"))}})),JO(ZO(i),"isCanPlayAndStartHavingCurrentDataLog",(function(){return!i.state.ad.hasPreroll&&i.state.controller.preload})),JO(ZO(i),"startStream",(function(){return i.state.controller.encoderState===CD.Attached?_U.resolve():i.attachEncoder().catch(hC.error)})),JO(ZO(i),"handleFirstContentImpression",(function(){i.resetPosterFitStyle();var e=i.playerStore.getState().controller,t=e.videoTracks.find((function(t){return t.value===e.videoTrackValue}));be({browserRtt:_h(On()),calcRtt:_h(Qh())}),Mf(i.videoController.engine,{videoType:e.videoType,bandwidth:Oh(t&&t.bitrate),startWithCapping:Tf(t,i.videoController)},i.state.ad.adSyncInit),i.callbacks.logEvent({event:LP.ContentImpression,params:{}}),i.callbacks.onContentImpression({hasPreroll:i.state.ad.adSyncInit,engine:i.state.controller.engine}),i.stateController.putResourcesIdle(!0),i.hidePoster()})),i.setMaxListeners(14),i.container=e,i.config=r,i.onReady=(0,v_.I)(o);var a=r.source.params,u=a.additionalParams,c=r.volume,s=r.togglePlaybackOnVisibilityChange;i.callbacks=r.callbacks;var l=r.autoplay,f=r.hidden;r.debug&&hC.enableConsole(),i.div=document.createElement("div"),i.div.className=$B().locals.StreamPlayer,(0,I_.H)(r.backgroundColor)&&(i.div.style.backgroundColor=r.backgroundColor),i.adDiv=document.createElement("div"),i.adDiv.className=$B().locals.StreamPlayer_ui,i.div.tabIndex=-1,i.container.appendChild(i.div),i.container.appendChild(i.adDiv);var d=Boolean(r.allowMuted),h=qO({},r);delete h.callbacks;var p={controller:qO(qO({},XD),{},{autoplay:l,initialAutoplay:l,allowMuted:d,preload:r.preload,from:u.from,vsid:u.vsid,volume:r.volume,muted:r.muted,userVolume:void 0===r.volume?NaN:c,isFullscreen:!1,togglePlaybackOnVisibilityChangeSetting:s,isDocumentVisible:x(i.getContainerDocument()),isAbrEnabled:r.autoQuality,defaultQuality:r.defaultQuality,feed:r.feed,shouldEmitFrameRendered:r.shouldEmitFrameRendered,preview:a.preview,posterStyle:a.posterStyle,playerConfig:h}),ad:qO(qO({},qD),{},{adblockDetected:eC}),skin:qO(qO({},eN),{},{hiddenControls:f,useNativeSubtitles:!0,nativeControlsVisibility:!Fc(f)})},v=new lU({initialState:p}),y=new sU({store:v,playerApi:ZO(i)});i.playerStore=v,i.stateController=y,i.once("Destroy",(function(){return i.stateController.destroy()})),i.updateRumInfo();var m=document.createElement("video");i.video=i.handleVideoNode(m);i.frameSeeker=SU.create({video:i.video,getFPS:function(){var e=i.getState().controller,t=e.videoTracks,r=e.videoTrackValue,n=t.find((function(e){return e.value===r}));return(null===n||void 0===n?void 0:n.frameRate)||30},onTimeUpdate:gT.Z}),i.once("Destroy",(function(){var e;null===(e=i.frameSeeker)||void 0===e||e.destroy(),i.frameSeeker=void 0})),m.poster||(m.poster=fC),i.playbackQualityController=new bM(m),i.mediaInternalsHistory=new BF(m);var g=_t(m);i.div.appendChild(m),g();var b=i.getContainerDocument().getElementsByTagName("head")[0];Fu($B().toString(),b),Cu(m,$B().locals.player__video),i.videoSizeSensor=new cC(m),(0,j_.Y)((function(){return(gT.Z||window.Ya.Rum.sendHeroElement)()})),m.setAttribute("playsinline","playsinline"),m.setAttribute("webkit-playsinline","webkit-playsinline"),i.visualState=n.visualState,i.visualState.setVideoElement(m),i.on("VisualStateChange",(function(e){e&&i.callbacks.onVisualStateChange(e)}));var S,E,O,k,_,A,T=(S=function(e){var t=e.width,r=e.height;i.emit("VisualStateChange",qO(qO({},i.visualState.getState()),{},{width:t,height:r}))},E=500,_=0,A=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];S.call.apply(S,[O].concat(t))},function(){var e,t=Date.now(),r=t-_;clearTimeout(k);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];r<E?k=(e=window).setTimeout.apply(e,[A,E-r].concat(o)):(_=t,A.apply(void 0,o))});return i.videoSizeSensor.onResize.add((function(e){var t=e.width,r=e.height;return T({width:t,height:r})})),T(i.videoSizeSensor.getSize()),i.once("Destroy",(function(){return i.videoSizeSensor.destroy()})),(!r.allowPip||s&&i.visualState.isYandexPipMode)&&Wh(window,!1,i.video),i.visualState.observe(i.handleVisualStateChange),i.handleVisualStateChange(i.visualState.getState()),i.defineAutoplaySettingsAndLoadSource(),i.initTelemetryTracking(),i.iosLandscapeScreenOrientationWorkaround(),_U.resolve().then((function(){i.initEventSubscribes(r,m)})),i}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KO(e,t)}(t,e);var r,n,o,i,a,u,c,s,l,f,d,h,p,v,y,m,g,b,w=zO(t);return r=t,(n=[{key:"state",get:function(){return this.playerStore.getState()}},{key:"handleVideoNode",value:function(e){var t=this;return OO(e,this.callbacks.logEvent,(function(e){return t.onError(e)}),(function(e){t.once("Destroy",e)}),qO(qO({},UB),{},{perfLogUrl:this.config.perfLogUrl}))}},{key:"initTelemetryTracking",value:function(){var e=this;this.callbacks.onCapSizeChange(this.getMaxCapAllowedVideoTrack());var t=function(){var t=e.getMaxCapAllowedVideoTrack();e.callbacks.onCapSizeChange(t)},r=function(){var t=e.getBandwidthEstimate();t&&e.callbacks.onBandwidthEstimateChange(t)},n=function(t){e.callbacks.onPlaybackQualityUpdate(t)};this.once("Destroy",(function(){e.off("CanPlay",r),e.off("CanPlay",t),e.off("VideoTracksChange",t),e.off("VisualStateChange",t),e.off("VideoTrackValueChange",t),e.off("PlaybackQualityUpdate",n)})),this.on("PlaybackQualityUpdate",n),this.on("CanPlay",r),this.on("CanPlay",t),this.on("VideoTracksChange",t),this.on("VisualStateChange",t),this.on("VideoTrackValueChange",t)}},{key:"recoverStream",value:function(){return this.videoController?this.videoController.recoverStream():_U.resolve()}},{key:"getRecoverHelper",value:function(){var e;if(this.videoController)return null===(e=this.videoController)||void 0===e?void 0:e.recoverHelper}},{key:"toggleNativeSubtitles",value:function(e){var t;null===(t=this.videoController)||void 0===t||t.toggleNativeSubtitles(e)}},{key:"updateVideoControllerNativeControlsVisibility",value:function(){var e;null===(e=this.videoController)||void 0===e||e.updateNativeControlsVisibility()}},{key:"getMultiroll",value:function(){return this.multiroll}},{key:"setPictureInPictureEnabled",value:function(e){Wh(window,e,this.video)}},{key:"getRemainingBufferedTime",value:function(){var e,t;return null!==(e=null===(t=this.videoController)||void 0===t?void 0:t.getRemainingBufferedTime())&&void 0!==e?e:{total:0}}},{key:"getVideoPlaybackQuality",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return this.playbackQualityController.getPlaybackQuality()}))},{key:"getCapSizes",value:function(){var e;return null===(e=this.videoController)||void 0===e?void 0:e.getCapSizes()}},{key:"getMaxCapAllowedVideoTrack",value:function(){if(this.videoController)return this.videoController.getMaxCapAllowedVideoTrack()}},{key:"getContainerSize",value:function(){var e,t=null!==(e=this.visualState.getPipWindowSize())&&void 0!==e?e:this.videoSizeSensor.getSize();return{width:t.width*devicePixelRatio,height:t.height*devicePixelRatio}}},{key:"getVideoTrack",value:function(){return gf(this.state)}},{key:"getAudioTrack",value:function(){return hf(this.state)}},{key:"getTextTrack",value:function(){return function(e){if(e.controller.textTrackEnabled)return pf(e)}(this.state)}},{key:"setNativeTextTrackVisibility",value:function(e){this.stateController.putNativeTextTrackVisibility(e)}},{key:"setNativeAdControlsVisibility",value:function(e){this.playerStore.setAdStateField(zD.nativeAdControlsVisibility,e)}},{key:"getLiveLatency",value:function(){var e;return null===(e=this.videoController)||void 0===e?void 0:e.getLiveLatency()}},{key:"getVideoType",value:function(){return this.state.controller.videoType}},{key:"getTimelineInfo",value:function(){var e=this.state,t=e.controller,r=t.duration,n=t.currentTime,o=e.skin,i=o.skinDVRStartTime,a=o.skinDVRDuration;return{currentTime:n,duration:r,utcStartTime:this.getUtcStartTime(),dvrStartTime:i,dvrDuration:a}}},{key:"getBandwidthEstimate",value:function(){var e,t;return null!==(e=null===(t=this.videoController)||void 0===t?void 0:t.getBandwidthEstimate())&&void 0!==e?e:this.state.controller.lastKnownBandwidthEstimate}},{key:"setVideoStyle",value:function(e){this.playerStore.setControllerStateField(ZD.videoElementStyle,e),bO(this.video,e)}},{key:"setSource",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.shouldSaveProgress,o=void 0!==n&&n;this.loadSource(e,{shouldSaveProgress:o}).catch((function(e){Yh(e,IP.SET_SOURCE),t.onError(e)})),this.emit("SetSource",e);var i=this.logCanPlay(IP.SET_SOURCE);this.once("CanPlay",i),this.once("SetSource",(function(){return t.off("CanPlay",i)}));var a=this.logLoadStartHavingCurrentData(IP.SET_SOURCE);this.once("LoadedData",a),this.once("SetSource",(function(){return t.off("LoadedData",a)}))}},{key:"getSourceId",value:function(){return this.playerStore.getState().controller.sourceId}},{key:"seekToNextFrame",value:(b=HO(UO().mark((function e(){return UO().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.accurateSeekingLock&&this.frameSeeker){e.next=2;break}return e.abrupt("return");case 2:return this.accurateSeekingLock=!0,e.next=5,this.frameSeeker.seekToNextFrame();case 5:this.accurateSeekingLock=!1;case 6:case"end":return e.stop()}}),e,this)}))),function(){return b.apply(this,arguments)})},{key:"seekToPreviousFrame",value:(g=HO(UO().mark((function e(){return UO().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.accurateSeekingLock&&this.frameSeeker){e.next=2;break}return e.abrupt("return");case 2:return this.accurateSeekingLock=!0,e.next=5,this.frameSeeker.seekToPreviousFrame();case 5:this.accurateSeekingLock=!1;case 6:case"end":return e.stop()}}),e,this)}))),function(){return g.apply(this,arguments)})},{key:"getUtcPosition",value:function(){var e,t;return null!==(e=null===(t=this.videoController)||void 0===t?void 0:t.getUtcPosition())&&void 0!==e?e:0}},{key:"planAdViewers",value:function(e){this.plannedAdViewers=e}},{key:"play",value:function(){var e,t,r=this;if(this.performPlayCallbacks(),(0,mP.v)(this.video.play()),this.state.controller.startStage!==tP.started&&this.stateController.putStartStage(this.becameStarting?tP.starting:tP.init),this.currentAdPlaybackQueue&&bf(this.state))return this.currentAdPlaybackQueue.resumeAd(),null===(e=this.playDeferred)||void 0===e||e.resolve(),_U.resolve();if(this.plannedAdViewers.length>0)return this.playAdViewers($I.postPauseroll,this.plannedAdViewers,{}),null===(t=this.playDeferred)||void 0===t||t.resolve(),_U.resolve();if(this.state.controller.autoplay||(this.stateController.putAutoplay(!0),this.abortRequestAutoplaySettings(JD.ApiPlay)),!this.videoController||this.state.controller.encoderState!==CD.Attached)return this.playDeferred||(this.playDeferred=new dL.B,this.playDeferred.promise.catch(gT.Z).then((function(){return r.playDeferred=void 0}))),this.playDeferred.promise;var n=this.videoController.getCurrentTime(),o=this.videoController.getDuration();o>0&&n>=o&&this.seek({videoTime:0}),hC.log("StreamPlayer.play() -> videoController.play()");var i=this.state.controller.startStage===tP.starting||this.state.controller.startStage===tP.started?this.videoController.play():this.tryToPlay(this.videoController);return i.then((function(){var e;return null===(e=r.playDeferred)||void 0===e?void 0:e.resolve()}),(function(){var e;null===(e=r.playDeferred)||void 0===e||e.reject(void 0),r.state.controller.startStage===tP.init&&r.stateController.putStartStage(tP.waitForUserPlay)})),i}},{key:"pause",value:function(){var e;Cf(),this.stateController.putResourcesIdle(!0),this.emit("PauseCalled"),this.video.pause(),this.state.controller.startStage!==tP.started&&(this.stateController.putAutoplay(!1),this.stateController.putStartStage(tP.waitForUserPlay)),null===(e=this.playDeferred)||void 0===e||e.reject(new Error("playing rejected cause of #pause()")),this.currentAdPlaybackQueue&&bf(this.state)?this.currentAdPlaybackQueue.pauseAd():(this.stateController.putAutoplay(!1),this.videoController&&this.state.controller.encoderState===CD.Attached&&this.videoController.pause())}},{key:"setVideoTrack",value:function(e){var t=this.getVideoTrack();if(!TE(t,e)){this.stateController.putIsAbrEnabled(e===sN().value);var r=e===sN().value&&this.state.controller.isAbrSupported?sN():this.state.controller.videoTracks.find((function(t){return t.value===String(e)}));if(r===sN()&&(0,$P.RW)("web_userquality_ttl")&&JB.ZP.removeItem("videoplayer-user-quality-choice"),r&&r!==sN()&&r.height&&r.width){var n={height:Math.min(r.height,r.width),width:Math.max(r.height,r.width)};(0,$P.RW)("web_userquality_ttl")&&(n.timestamp=Date.now()),JB.ZP.setItem("videoplayer-user-quality-choice",JSON.stringify(n))}this.playerStore.setUserVideoTrackParams({name:r&&r.value!==sN().value&&r.name||void 0,height:r&&r.height?r.height:void 0}),r&&(this.videoController.setVideoTrack(r),this.callbacks.onExpectedStalledChange({reason:WR.VideoTrackChange,details:{newTrack:r,oldTrack:t}}),hC.log("SELECTED VIDEO TRACK: ",r))}}},{key:"setAudioTrack",value:function(e){var t=this.getAudioTrack();if(!TE(t,e)){var r=this.state.controller.audioTracks.find((function(t){return t.value===String(e)}));r&&(this.playerStore.setUserAudioTrackParams({name:r.name||void 0,lang:r.lang||void 0}),this.videoController.setAudioTrack(r),this.callbacks.onExpectedStalledChange({reason:WR.AudioTrackChange,details:{newTrack:r,oldTrack:t}}),hC.log("SELECTED AUDIO TRACK: ",r))}}},{key:"getSyncDebugInfo",value:function(){var e,t;return{recoverHelperState:null!==(e=null===(t=this.videoController)||void 0===t?void 0:t.getRecoverHelperState())&&void 0!==e?e:gN.OFF,state:this.state,remainingBufferedTime:wf(this.state),mediaInternalsHistory:this.mediaInternalsHistory.getHistory()}}},{key:"requestDebugInfo",value:(m=HO(UO().mark((function e(){return UO().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=qO,e.t1=qO({},this.getSyncDebugInfo()),e.t2={},!this.videoController){e.next=9;break}return e.next=6,this.videoController.requestDebugInfo();case 6:e.t3=e.sent,e.next=10;break;case 9:e.t3={noController:!0};case 10:return e.t4=e.t3,e.t5={videoController:e.t4},e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t5));case 13:case"end":return e.stop()}}),e,this)}))),function(){return m.apply(this,arguments)})},{key:"getState",value:function(){return this.state}},{key:"setTextTrack",value:function(e){var t=this.state.controller,r=t.textTracks,n=t.userTextTrackLang,o=t.userTextTrackName,i=t.textTrackEnabled,a=t.textTrackValue;if(!i||a!==e)if(e===cN.A)this.stateController.enableTextTrack();else{var u=void 0===e?void 0:r.find((function(t){return t.value===e})),c={enabled:Boolean(u),lang:u?u.lang||void 0:n,name:u?u.name||void 0:o};this.playerStore.setUserTextTrackParams(c),u?(this.videoController.setTextTrack(u),hC.log("SELECTED TEXT TRACK: ",u)):(this.videoController.disableTextTrack(),hC.log("DISABLE TEXT TRACK"))}}},{key:"setFullscreen",value:function(e){if(e)try{this.visualState.changeFullscreenState({isFullScreen:!0})}catch(pG){hC.error("Request fullscreen for element:",pG)}else try{this.visualState.changeFullscreenState({isFullScreen:!1})}catch(pG){hC.error("Exit fullscreen for element:",pG)}}},{key:"destroy",value:(y=HO(UO().mark((function e(){return UO().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.stopAd({stopAdReason:JI.PlayerDestroy}),this.stopLoadSource(bN.destroy),this.multiroll.destroy(),this.currentAdPlaybackQueue&&this.currentAdPlaybackQueue.destroy(JI.PlayerDestroy),this.visualState.destroy(),this.mediaInternalsHistory.destroy(),this.playbackQualityController.destroy(),this.destroyed=!0,e.next=10,this.destroyVideoController();case 10:this.emit("Destroy"),Hh(this.container);case 12:case"end":return e.stop()}}),e,this)}))),function(){return y.apply(this,arguments)})},{key:"skipAdPod",value:function(){var e;null===(e=this.currentAdPlaybackQueue)||void 0===e||e.skipAdPod()}},{key:"stop",value:function(){this.seek({videoTime:0}),this.pause(),this.videoController.engine===hT.NATIVE&&0===this.video.buffered.length&&this.video.load()}},{key:"preloadSource",value:function(e){this.callbacks.logEvent({event:LP.PreloadSource,params:{source:e,reason:jB.ExternalApi},sourceIndex:e.sourceIndex});var t=gT.Z,r=gT.Z,n=!1;return{promise:this.preloadSourceImpl(e,(function(){return n}),(function(e){return t=e}),(function(e){return r=e})),abort:function(){n||(n=!0,t())},end:function(){n||(n=!0,r())}}}},{key:"initEventSubscribes",value:function(e,t){var r=this;this.waitForPlayOccurred().then((function(){var e=r.state.controller.startStage;[tP.started,tP.broken,tP.destroyed].includes(e)||(r.stateController.putStartStage(tP.starting),r.becameStarting=!0)})).catch(gT.Z),zj&&this.once("Destroy",Wu((function(){return r.destroy()}))),this.once("Destroy",(0,aj.O)(this.div,"selectstart",(function(e){e.preventDefault(),e.stopPropagation()}))),this.once("Destroy",Ec((function(){r.stateController.updateOriginalAdState()}))),this.once("Destroy",(0,aj.O)(this.getMainContainer(),"click",(function(t){r.state.controller.watchedTime>0||void 0===r.state.ad.inStreamPlayingState&&e.shouldPlayOnFirstClick&&r.play()}),{once:!0})),zj&&this.once("Destroy",Wu((function(){return r.destroy()}))),this.once("Destroy",(function(){return r.off("VisualStateChange")})),this.once("Destroy",(0,aj.O)(this.video,"volumechange",(function(){(r.videoController||r.currentAdPlaybackQueue)&&r.updateVolumeInfo()}))),this.subscribeHandlers()}},{key:"updateRumInfo",value:function(){var e=this.state.controller;be({apiVersion:2,bundle:"legacy",slowConnection:this.config.slowConnection,vsid:e.vsid,from:e.from,saveData:(0,MF.R)()})}},{key:"requestAutoplaySettings",value:function(e,t){var r={stopped:!1},n=function(){r.stopped=!0},o=vO(e,{initialMuted:t.muted,checkUnmuted:t.autoplay&&!t.muted,checkMuted:t.autoplay&&(t.muted||t.allowMuted),process:r});return vP(o)?{promise:o.then((function(e){return{autoplay:e.allowed,muted:e.muted||t.muted,detectionMethod:e.detectionMethod}})),abort:n}:{promise:{autoplay:o.allowed,muted:o.muted||t.muted,detectionMethod:o.detectionMethod},abort:n}}},{key:"defineAutoplaySettings",value:function(e,t){var r,n=this;if(this.state.controller.autoplay&&!this.state.controller.isDocumentVisible)return this.stateController.putStartStage(tP.waitForDocumentVisibility),this.stateController.putAutoplay(!1),void this.defineAutoplaySettingsDeferred.resolve();xe("detect.autoplay");var o=this.requestAutoplaySettings(e,t),i=o.promise,a=o.abort;vP(i)?i.then((function(){Re("detect.autoplay")})):Re("detect.autoplay");var u=lC(500),c=u.promise,s=u.clear;c.then((function(){n.state.controller.startStage===tP.init&&n.stateController.putStartStage(tP.waitForUserPlay)}));var l=(0,y_.u)();this.abortRequestAutoplaySettings=function(e){void 0===r&&n.callbacks.logEvent({event:"PlayWithoutRAAResults",params:{delay:l(),reason:e}}),s(),a()};var f=function(e){r=e,n.callbacks.logEvent({event:e.autoplay?"AutoplayAllowed":"AutoplayDisabled",params:{message:JSON.stringify(null!==e&&void 0!==e?e:t),autoplaySettingsRequestResult:e,initialAutoplayParams:t}}),s();var o=n.state.controller.isVisible;hC.log("Autoplay settings defined",r);var i,a,u=(i=e.muted&&(t.muted||t.allowMuted),a=e.autoplay&&(e.muted?i:t.autoplay),qO(qO({},r),{},{muted:i,autoplay:a})),c=u.muted,l=u.autoplay,f=u.autoplayImpossible,d=u.requireAllowMutedToAutoplay;n.stateController.putVolumeInfo({muted:c,volume:n.state.controller.volume,changeReason:CP.RequestAutoplaySettings});var h=function(e){var t=e.controller,r=t.togglePlaybackOnVisibilityChangeSetting,n=t.muted;return!!r&&!(r.onlyMuted&&!n)}(n.state)&&!1===o;h&&n.callbacks.logEvent({event:"HiddenAutoplayPrevented",params:{autoplaySettingsRequestResult:r}});var p,v=l&&!h&&n.state.controller.autoplay;if(hC.log("autoplay status:",l),hC.log("isVisible",o),hC.log("preventHiddenAutoplay",h),v||n.stateController.putStartStage(tP.waitForUserPlay),v?n.playerStore.setControllerStateField(ZD.preload,!0):(Cf(),null===(p=n.playDeferred)||void 0===p||p.reject(new Error("playing rejected cause of autoplay-false"))),n.playerStore.setControllerStateField(ZD.autoplay,v),f){n.playerStore.setControllerStateField(ZD.autoplayImpossible,!0),n.callbacks.logEvent({event:"AutoplayImpossible",params:{message:JSON.stringify(r),autoplaySettingsRequestResult:r}});try{console.warn("Cannot autoplay video".concat(d?" with sound":""," in this environment.")+(d?" Use autoplay={allowMuted: true} if you prefer mute video and enable autoplay.":""))}catch(hG){}}};if(vP(i))i.then(f).catch(gT.Z).then((function(){n.defineAutoplaySettingsDeferred.resolve()}));else try{f(i)}finally{this.defineAutoplaySettingsDeferred.resolve()}}},{key:"createVideoController",value:function(e,t){var r,n,o=this,i=e.stream,a=e.supportInfo,u={playerStore:this.playerStore,stateController:this.stateController,video:this.video,videoSizeSensor:this.videoSizeSensor,stream:i,sourceParams:t,debug:this.config.debug,liveOffset:this.config.liveOffset,slowConnection:this.config.slowConnection,maxBufferLength:this.config.maxBufferLength,defaultQuality:this.state.controller.defaultQuality,skippableFragments:t.skippableFragments,feed:t.feed,shouldEmitFrameRendered:t.shouldEmitFrameRendered,bandwidthEstimateOffset:this.config.bandwidthEstimateOffset,perfLogUrl:this.config.perfLogUrl,setPlayerBackgroundImage:this.setBackgroundImage,setPlayerBackgroundVisibility:this.setBackgroundVisibility,onError:function(e){return o.onError(e)},onRecover:this.onRecover,logEvent:this.callbacks.logEvent,onSubtitlesChange:this.callbacks.onSubtitlesChange,onThumbnailTileGeneralMetaInfoChange:this.callbacks.onThumbnailTileGeneralMetaInfoChange,onExpectedStalledChange:this.callbacks.onExpectedStalledChange,getPipWindowSize:function(){return o.visualState.getPipWindowSize()}},c=(r=a.engine,n=u,r===hT.HLS?new wB(n):r===hT.MP4?new PB(n):r===hT.YASP?new WB(n):new FB(n)),s=function(e){o.videoController=e,o.playerStore.setControllerStateField(ZD.engine,a.engine),o.callbacks.onEngineChange(a.engine,o.playerStore.getState().controller.sourceId),we("engine",a.engine),e.on("VideoPlayingStateChange",(function(e){return o.emit("VideoPlayingStateChange",e)})),e.on("MetadataChange",(function(e){return o.emit("MetadataChange",e)})),e.on("CurrentTimeChange",(function(e){return o.emit("CurrentTimeChange",e)})),e.on("FrameRendered",(function(e){o.callbacks.onFrameRendered(e)})),e.on("TargetLatencyChanged",(function(e){o.callbacks.onTargetLatencyChange(e)})),e.on("DurationChange",(function(e){return o.emit("DurationChange",e)})),e.on("DvrChange",(function(){return o.emit("DvrChange")})),e.on("DVRDurationChange",(function(e){return o.callbacks.onDVRDurationChange(e)})),e.on("DVRStartTimeChange",(function(e){return o.callbacks.onDVRStartTimeChange(e)})),e.on("ProgramDateTimeChange",(function(e){return o.emit("ProgramDateTimeChange",e)})),e.on("BufferingRangesChange",(function(e){return o.emit("BufferingRangesChange",e)})),e.on("CanPlay",(function(){return o.emit("CanPlay")})),e.on("ContentImpression",(function(){return o.emit("ContentImpression")})),e.on("DrmSystemChange",o.callbacks.onDrmSystemChange),e.on("LoadedData",(function(){return o.emit("LoadedData")})),e.on("VideoTypeChange",(function(e){return o.emit("VideoTypeChange",e)})),e.on("VideoTrackValueChange",(function(e){o.emit("VideoTrackValueChange",e)})),e.on("AudioTrackValueChange",(function(e){return o.emit("AudioTrackValueChange",e)})),e.on("TextTrackValueChange",(function(e){return o.emit("TextTrackValueChange",e)})),e.on("VideoTracksChange",(function(e){return o.emit("VideoTracksChange",e)})),e.on("AudioTracksChange",(function(e){return o.emit("AudioTracksChange",e)})),e.on("TextTracksChange",(function(e){return o.emit("TextTracksChange",e)}))};return vP(c)?_U.resolve().then(HO(UO().mark((function e(){return UO().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=s,e.next=3,c;case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))):s(c)}},{key:"getPreparedSourceParams",value:function(e,t,r){return qO(qO(qO({},oN),t),{},{startPosition:this.getInitialStartPosition(t,r),withCredentials:kh(e,t)})}},{key:"getInitialStartPosition",value:function(e,t){var r=e&&e.startPosition||oN.startPosition;if(r&&(0,ux.Z)(r).some((function(e){return(0,TT.z)(r[e])})))return r;var n=null===t||void 0===t?void 0:t.getProgress();return void 0===n?r:{videoTime:n}}},{key:"loadSource",value:(v=HO(UO().mark((function e(t,r){var n,o,i,a,u,c,s,l,f,d,h,p,v,y,m,g,b,w,S,E,O,k=this;return UO().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=r.shouldSaveProgress,hC.log("loadSource start",t),this.callbacks.onEngineChange(void 0,this.playerStore.getState().controller.sourceId),this.callbacks.onDrmSystemChange(void 0),o=n?"LoadSourceWithSaveProgress":"LoadSource",this.callbacks.logEvent({event:o,params:{source:t}}),Nf(),this.stopAd({stopAdReason:JI.LoadSource}),this.plannedAdViewers=[],this.stopLoadSource(bN.setSource),this.playbackProgressStorage.clearVideoContentId(),this.stateController.putStreamsWithSupportInfo(void 0),this.stateController.putStream(void 0),this.playerStore.setControllerStateField(ZD.sourceParams,void 0),this.playerStore.setControllerStateField(ZD.streams,t.streams),this.stateController.putResourcesIdle(!1),i=t.params.preferredTracks,a=i.preferredAudioLangs,u=i.preferredTextLangs,a.length>0&&this.playerStore.setUserAudioTrackParams({lang:a[0],name:void 0}),u.length>0&&this.playerStore.setUserTextTrackParams({lang:u[0],name:void 0,enabled:!0}),c=new _C,this.stopLoadSource=function(e){return c.stop(e)};try{this.multiroll.destroy()}catch(_){Af({message:"Can not destroy multiroll instance",method:"loadSource",source:"multiroll",sourceMethod:"destroy",type:"logic"},_)}return this.multiroll=DF,s=!this.videoController,l=t.streams,f=uh({streams:l,video:this.video,preferNative:this.config.preferNative},this.callbacks.logEvent),d=Eh(t.params),h=Nh(d),this.playerStore.setAdStateField(zD.adSyncInit,(0,N_.K)(d)&&(!h||!1!==d.hasPreroll)),p=h?null:this.initMultirollModule(d,c),we("hasPreroll",!h),v=this.destroyVideoController(),e.next=34,f;case 34:if(y=e.sent,this.stateController.putStreamsWithSupportInfo(y.streamsWithSupportInfo),!c.stopReason){e.next=39;break}return this.callbacks.logEvent({event:LP.StreamStopWhileChoosingStream,params:void 0}),e.abrupt("return");case 39:if("error"!==y.status){e.next=41;break}throw y.error;case 41:return kE(m=y.supportedStream,{perfLogUrl:this.config.perfLogUrl}),g=m.stream,this.playbackProgressStorage.setVideoContentId(this.config.restoreTabSessionPlaybackProgress?t.params.videoInfo.videoContentId:void 0),b=this.getPreparedSourceParams(g,t.params,this.playbackProgressStorage),e.next=48,v;case 48:if(!c.stopReason){e.next=51;break}return this.callbacks.logEvent({event:LP.StreamStopWhileDestroyVideoController,params:void 0}),e.abrupt("return");case 51:return this.resetPlayerStore(g,b,{shouldSaveProgress:n,isFirstLoad:s}),e.next=54,_U.race([this.defineAutoplaySettingsDeferred.promise,c.stopPromise]);case 54:if(!c.stopReason){e.next=57;break}return this.callbacks.logEvent({event:LP.StreamStopDuringDefineAutoplaySettings,params:void 0}),e.abrupt("return");case 57:if(w=this.createVideoController(m,b),!vP(w)){e.next=63;break}return e.next=61,_U.race([w,c.stopPromise]);case 61:if(!c.stopReason){e.next=63;break}return e.abrupt("return");case 63:if(we("bandwidthEstimate",Oh(this.videoController.getBandwidthEstimate().value/1e3)),we("drm","none"),s?(_U.resolve().then((function(){k.initBroadcastAd()})),mh(g.url,Boolean(b.withCredentials)).then((function(e){k.stateController.putAdblockDetected(e||eC)})),this.setMuted(this.state.controller.muted),this.setVolume(this.state.controller.volume)):this.prepareNextSource(g,b),this.playerStore.getState().skin.nativeControlsVisibility&&this.setPosterFitStyle(),this.once("ContentImpression",this.handleFirstContentImpression),this.once("SetSource",(function(){return k.off("ContentImpression",k.handleFirstContentImpression)})),S=function(){var e=HO(UO().mark((function e(){var t;return UO().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p||(p=k.initMultirollModule(d,c)),e.next=3,p;case 3:if(t=e.sent,!c.stopReason){e.next=8;break}return k.callbacks.logEvent({event:LP.StreamStopWhileLoadingMultiroll,params:{streamStopReason:c.stopReason}}),t.destroy(),e.abrupt("return");case 8:k.multiroll=t;case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),!h){e.next=76;break}E=(d||{}).adInitOffset,O=void 0===E?0:E,new _U((function(e){var t=!1,r=function(){k.off("CurrentTimeChange",n),k.off("ContentImpression",o)},n=function(){t&&(k.state.controller.watchedTime<=O||(r(),e()))},o=function(){return t=!0};k.on("ContentImpression",o),k.on("CurrentTimeChange",n),k.once("SetSource",r)})).then((function(){c.stopReason||S()})),e.next=78;break;case 76:return e.next=78,S();case 78:if(!c.stopReason){e.next=80;break}return e.abrupt("return");case 80:this.startPrerollAndContent(c,s);case 81:case"end":return e.stop()}}),e,this)}))),function(e,t){return v.apply(this,arguments)})},{key:"preloadSourceImpl",value:(p=HO(UO().mark((function e(t,r,n,o){var i,a,u,c,s,l,f,d,h,p=this;return UO().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.streams,a=uh({streams:i,video:AU,preferNative:this.config.preferNative},this.callbacks.logEvent),e.next=4,a;case 4:if(u=e.sent,!r()){e.next=7;break}throw new Error("abort preloadSource");case 7:if("error"!==u.status){e.next=9;break}throw u.error;case 9:if(c=u.supportedStream,s=c.stream,(l=c.supportInfo).engine===hT.YASP){e.next=13;break}throw new Error("can not create preloader");case 13:if((f=new HF).setVideoContentId(this.config.restoreTabSessionPlaybackProgress?t.params.videoInfo.videoContentId:void 0),d=this.getPreparedSourceParams(s,t.params,f),kE(c,{perfLogUrl:this.config.perfLogUrl}),h=ng({engine:l.engine,source:{stream:s,sourceParams:d},getState:function(){return p.playerStore.getState()},getCapSizes:function(){var e;return null===(e=p.videoController)||void 0===e?void 0:e.getCapSizes()},getVideoElementSizes:function(){var e;return null===(e=p.videoController)||void 0===e?void 0:e.getVideoElementSizes()},defaultQuality:this.config.defaultQuality})){e.next=20;break}throw new Error("can not create preloader");case 20:return n((function(){return h.destroy()})),o((function(){return h.destroy()})),e.abrupt("return",h.preload());case 23:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n){return p.apply(this,arguments)})},{key:"initMultirollModule",value:(h=HO(UO().mark((function e(t,r){var n,o,i,a,u,c,s,l=this;return UO().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=DF,t){e.next=3;break}return e.abrupt("return",n);case 3:return Ff("AD",!0),e.prev=4,o=ff(window,t,this.state.controller.vsid,eC),e.next=8,_U.race([o,r.stopPromise.then((function(){}))]);case 8:if(void 0!==(i=e.sent)){e.next=11;break}return e.abrupt("return",n);case 11:return a=i.loadMultiroll,u=a(qO(qO({},t),{},{secureMode:"Safe"}),{preroll:{shouldPreload:function(){var e=l.state.controller,t=e.preload,r=e.startStage;return t&&(r===tP.waitForUserPlay||r===tP.waitForDocumentVisibility)}},midroll:{preloadOffset:20,preloadMinTime:5},postroll:{preloadOffset:20,preloadMinTime:5},getPreloadParams:function(){var e={videoSlot:l.video},t=l.getBandwidthEstimate();return null!==t&&void 0!==t&&t.value?qO(qO({},e),{},{desiredBitrate:t.value/1e3}):e},adLoaded:function(e){var t=e.adBreakType,r=function(){switch(t){case $I.preroll:return $I.preroll;case $I.midroll:return $I.midroll;case $I.postroll:return $I.postroll;case $I.inroll:return $I.inroll;case $I.postPauseroll:return $I.postPauseroll}}();void 0!==r&&l.callbacks.onAdLoaded({adType:r})}}),(0,mP.v)(r.stopPromise.then((function(){return u})).then((function(e){return e.destroy()}))),e.next=16,_U.race([u,r.stopPromise.then((function(){}))]);case 16:if(void 0!==(c=e.sent)){e.next=19;break}return e.abrupt("return",n);case 19:n=c,e.next=28;break;case 22:e.prev=22,e.t0=e.catch(4),Df({reason:"MULTIROLL_INIT_ERROR",adSdkVersion:Ws(),adSdkLoaderVersion:qs(),adblockDetected:this.state.ad.adblockDetected,bandwidth:Oh(void 0)}),s=new cT({isFatal:(0,OT.m)(TU)&&(!(0,N_.K)(e.t0)||"0"===String(e.t0.code)||!e.t0.code),code:P_.MULTIROLL_INIT_ERROR,details:{error:e.t0,adConfig:t}}),this.callbacks.onAdError(qO(qO({},s),{},{code:String(s.code)})),this.onError(s);case 28:return e.abrupt("return",n);case 29:case"end":return e.stop()}}),e,this,[[4,22]])}))),function(e,t){return h.apply(this,arguments)})},{key:"startPrerollAndContent",value:(d=HO(UO().mark((function e(t,r){var n,o,i,a,u,c,s=this;return UO().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(hC.log("startPrerollAndContent"),n=[],o=(0,v_.I)((function(){return s.startStream()})),i=(0,v_.I)(HO(UO().mark((function e(){var r,o,i,a;return UO().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.multiroll!==DF&&tf("adsdk.loadviewers.preroll"),r=s.multiroll.preroll.loadViewers({}),e.next=4,_U.race([r,t.stopPromise.then((function(){}))]);case 4:if(void 0!==(o=e.sent)){e.next=7;break}return e.abrupt("return");case 7:n=o,s.multiroll!==DF&&rf("adsdk.loadviewers.preroll"),i=n.length>0,a=i,s.playerStore.setAdStateField(zD.hasPreroll,a),a&&s.callbacks.logEvent({event:LP.PrerollInit,params:{}});case 13:case"end":return e.stop()}}),e)})))),a=this.state.controller,u=a.startStage,c=a.preload,u!==tP.waitForUserPlay&&u!==tP.waitForDocumentVisibility){e.next=25;break}if(hC.log("Waiting for ".concat(u===tP.waitForUserPlay?"user gesture":"document visibility")),this.callbacks.logEvent({event:u===tP.waitForUserPlay?LP.WaitForUserGesture:LP.WaitForDocumentVisibility,params:{preload:c}}),!c){e.next=16;break}return hC.log("Preload preroll in player"),e.next=12,_U.race([i(),t.stopPromise]);case 12:if(!t.stopReason){e.next=15;break}return this.callbacks.logEvent({event:LP.StreamStopWhilePreloadingPreroll,params:{streamStopReason:t.stopReason}}),e.abrupt("return");case 15:this.state.ad.hasPreroll||(hC.log("No preroll, preload content"),o());case 16:if(u!==tP.waitForDocumentVisibility){e.next=19;break}return e.next=19,Sc(this.getContainerDocument(),!0);case 19:if(this.state.controller.startStage!==tP.waitForUserPlay){e.next=22;break}return e.next=22,this.waitForPlay();case 22:if(!t.stopReason){e.next=25;break}return this.callbacks.logEvent({event:u===tP.waitForUserPlay?LP.StreamStopWhileWaitingForPlay:LP.StreamStopWhileWaitingForDocumentVisibility,params:{streamStopReason:t.stopReason}}),e.abrupt("return");case 25:return hC.log("Start playing"),r&&this.stateController.putAutoplay(!0),e.next=29,_U.race([i(),t.stopPromise]);case 29:if(!t.stopReason){e.next=32;break}return this.callbacks.logEvent({event:LP.StreamStopWhileLoadingPreroll,params:{streamStopReason:t.stopReason}}),e.abrupt("return");case 32:if(this.state.ad.hasPreroll){e.next=37;break}return e.next=35,o();case 35:return this.logPlayAfterWaitingForDocumentVisibility(),e.abrupt("return");case 37:return this.playerStore.setControllerStateField(ZD.preload,!0),hC.log("Start preroll"),this.playAdViewers($I.preroll,Mc(n,$I.preroll),{videoSlotCanAutoPlay:u!==tP.waitForDocumentVisibility||void 0}),e.abrupt("return");case 41:case"end":return e.stop()}}),e,this)}))),function(e,t){return d.apply(this,arguments)})},{key:"waitForPlay",value:function(){var e=this,t=(0,y_.u)();return new _U((function(r){e.waitForPlayOccurred().then((function(n){e.callbacks.logEvent({event:LP.WaitForPlayCompleted,params:{reason:n,timeout:t()}}),r()})).catch(gT.Z),e.playCallbacks.push(r)}))}},{key:"waitForPlayOccurred",value:(f=HO(UO().mark((function e(){var t=this;return UO().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new _U((function(e,r){var n=gT.Z,o=gT.Z,i=0,a=function(){n(),o(),clearInterval(i)},u=function(r){void 0!==t.videoController&&(a(),e(r))};t.video.paused?(n=(0,aj.O)(t.video,"play",(function(){u(tN.VideoPlayEvent)})),o=(0,aj.O)(t.video,"timeupdate",(function(){t.video.paused||u(tN.DetectByInterval)})),i=window.setInterval((function(){t.video.paused||u(tN.DetectByInterval)}),100),t.once("Destroy",(function(){a(),r(new Error("StreamPlayer destroy called"))}))):u(tN.VideoIsNotPausedOnInit)})));case 1:case"end":return e.stop()}}),e)}))),function(){return f.apply(this,arguments)})},{key:"initBroadcastAd",value:function(){var e=this,t=this.video;if(this.broadcastAd=new kC({video:t,slot:t.parentElement,playerApi:this,stateController:this.stateController,onError:function(t){return e.onError(t)},playerStore:this.playerStore}),this.videoController&&this.videoController.engine===hT.NATIVE){var r=0;t.addEventListener("timeupdate",(function(){var n=t.currentTime;e.state.controller.videoType===DR.D.LIVE&&n<r&&e.broadcastAd&&e.stateController.putOriginalBroadcastAdCues({}),r=n}))}this.on("MetadataChange",(function(t){var r=t.fragmentMetadataArray,n=t.fragmentStart;if(hC.log("receive metadata: ",r),e.broadcastAd){var o=e.state.controller.programDateTime;if(void 0!==o){var i,a=o+1e3*n;Math.random()<.01&&e.callbacks.logEvent({event:LP.StreamPlayerReceivedMetadata,params:t}),r.forEach((function(e){try{var t=JSON.parse(e);if(!function(e){return(0,N_.K)(e)&&(0,I_.H)(e.cue_id)&&(0,TT.z)(e.offset)}(t))return;i=qO(qO({},t),{},{pts:a})}catch(pG){hC.log("metadata is not valid [".concat(e,"]"))}})),i&&(e.callbacks.onInrollFrame(i),e.state.ad.adConfig&&e.broadcastAd.handleInrollFrame(i).catch((function(t){hC.error(t),e.onError(new cT(qO(qO({},t),{},{code:P_.BROADCAST_AD_BLOCK_INIT_ERROR,isFatal:!1,details:{code:t.code,message:t.message,id:t.id,details:t.details,stack:t.stack,metadata:{cueId:i.cue_id,podStart:a+i.offset}}})))})))}}})),this.broadcastAd.on("AdIntervalRemoved",(function(t){e.playerStore.removeCue(t)})),this.broadcastAd.on("AdIntervalUpdated",(function(t){var r=t.cueId,n=t.start,o=t.end;e.stateController.refreshCue({cueId:r,start:n/1e3,end:o/1e3})})),this.broadcastAd.on("InrollAdPlayRequest",(function(t){e.playAdViewers($I.inroll,t,{})}))}},{key:"getPosterUrlForAd",value:function(){var e,t=null===(e=this.state.controller.sourceParams)||void 0===e?void 0:e.preview;return t&&t!==fC?t:null}},{key:"prepareBeforeOrAfterAd",value:function(e,t){this.broadcastAd&&t!==$I.inroll&&this.broadcastAd.setEnabled(e)}},{key:"getSeekPositionAfterAd",value:function(e){var t=e.adType,r=e.adViewersDuration,n=e.utcPosition;return t===$I.inroll?{utc:n?n+r:void 0,videoTime:this.state.controller.currentTime+r}:t===$I.preroll?this.state.controller.startPosition:t===$I.midroll||t===$I.postPauseroll?{utc:n||void 0,videoTime:this.state.controller.currentTime}:t===$I.postroll?{videoTime:0}:{}}},{key:"getAdViewersWithData",value:function(e){var t=this.state.controller,r=t.isFullscreen,n=t.isPip,o=r&&Nc(this.getContainerDocument().defaultView,this.video)===this.video;return o||n?e.filter((function(e){var t=e.adViewer;return t.filterAdPodsIndependentOnHtmlControls("StreamPlayer can't play CPC ads: [".concat(n?"PiP":o?"FullScreen":"unknown","] mode")),t.getAdPodsCount()>0})):e}},{key:"getAdViewersCueId",value:function(e,t){var r;if(e!==$I.inroll)return this.state.ad.originalBroadcastAdCueId;var n=t.find((function(e){return e.additionalData.cueId}));return null!==(r=null===n||void 0===n?void 0:n.additionalData.cueId)&&void 0!==r?r:this.state.ad.originalBroadcastAdCueId}},{key:"prepareBeforeAd",value:function(e){var t=this;this.state.ad.adInfo||(this.handleAdEnd=(0,v_.I)(HO(UO().mark((function r(){return UO().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:tf("adsdk.player.start.".concat(e)),t.once("ContentImpression",(function(){rf("adsdk.player.start.".concat(e)),t.handleAdEnd=void 0}));case 2:case"end":return r.stop()}}),r)})))))}},{key:"initAdPlaybackQueue",value:(l=HO(UO().mark((function e(t){var r,n,o,i,a,u,c=this;return UO().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.currentAdPlaybackQueue){e.next=2;break}return e.abrupt("return");case 2:return r=this.state.ad.adSyncInit,n=[(0,aj.O)(this.video,"firstframedecoded",(function(){Vf("AD",{},r)}),{once:!0}),(0,aj.O)(this.video,"firstframeshown",(function(){Bf("AD",{},r)}),{once:!0})],o=this.getUtcPosition(),t!==$I.preroll&&tf("encoder.detach"),e.next=8,this.detachEncoder();case 8:t!==$I.preroll&&rf("encoder.detach",{additional:{engine:this.state.controller.engine}}),i=(0,v_.I)((function(e,t){return c.preloadVideoControllerSource({rule:e,ruleValue:t,whileAd:!0})})),a=!1,u=new mC({video:this.handleVideoNode(this.video),utcPositionBeforeAd:o,onAdStartRejected:function(e){var t;null===(t=c.playDeferred)||void 0===t||t.reject(e)},onAdSkippableStateChange:function(e){c.callbacks.onAdSkippableStateChange(e)},onAdPodCloseStateChange:function(e){c.callbacks.onAdPodCloseStateChange(e)},onAdVolumeAvailabilityStateChange:function(e){c.callbacks.onAdVolumeAvailabilityStateChange(e)},onAdPodError:function(e){c.callbacks.onAdError(e)},onAdPodDurationChange:function(e){c.callbacks.onAdPodDurationChange(e)},onAdPodCurrentTimeChange:function(e){if(c.callbacks.onAdPodCurrentTimeChange(e),(0,$P.RW)("yasp_preload_content_5_sec_before_ad_end")){var r,n,o=null===(r=c.currentAdPlaybackQueue)||void 0===r?void 0:r.getCurrentAdPodRemainingTime();null!==(n=c.currentAdPlaybackQueue)&&void 0!==n&&n.getIsLastAdPod()&&t!==$I.postroll&&o&&o<=5&&i(IB.BeforeAdEnd,o)}},onAdPodTimeToSkipChange:function(e){var r;c.callbacks.onAdPodTimeToSkipChange(e),(0,$P.RW)("yasp_preload_content_5_sec_before_ad_skip")&&null!==(r=c.currentAdPlaybackQueue)&&void 0!==r&&r.getIsLastAdPod()&&t!==$I.postroll&&e&&-1!==e&&e<=5&&i(IB.BeforeAdSkip,e)},onAdInteraction:function(){c.callbacks.onAdInteraction()},onFirstAdPodStarted:function(){var e;Mf("AD",{adblockDetected:c.state.ad.adblockDetected,adType:t,bandwidth:Oh(void 0)},c.state.ad.adSyncInit),rf("player.adsdk.start.".concat(t)),c.hidePoster(),(0,$P.RW)("yasp_preload_content_5_sec_before_ad_end")||(0,$P.RW)("yasp_preload_content_5_sec_before_ad_skip")||t!==$I.postroll&&c.preloadVideoControllerSource({rule:IB.OnAdStart,ruleValue:0,whileAd:!0}),null===(e=c.playDeferred)||void 0===e||e.resolve()},onLastAdPodStopped:function(e){c.multiroll.dispatchEvent({event:"AdBreakEnd",data:e})},onBeforeAdPodStart:function(e){c.callbacks.onBeforeAdPodStart(e)},onAdPodStarted:function(){c.stateController.putResourcesIdle(!0),c.callbacks.onAdPodStart(),a&&rf("adsdk.creative.switch.".concat(t))},onAdPodSkipped:function(){c.callbacks.onAdPodSkip()},onAdPodStopped:function(){Xe(n),a=!0,tf("adsdk.creative.switch.".concat(t)),c.stateController.putInStreamPlayingState(void 0),c.callbacks.onAdPodEnd()},onAdPodPlayingStateChange:function(e){var t=e.playingState,r=e.expectedStalledReason,n=e.adType;t===YA.BUFFERING&&c.callbacks.onExpectedStalledChange({reason:r,details:{adType:n}}),c.stateController.putInStreamPlayingState(t)},onAdClickThru:function(){c.callbacks.onAdPodClick()},onAdSizeChange:function(e){c.stateController.putVideoSize({videoWidth:void 0===e.width?NaN:e.width,videoHeight:void 0===e.height?NaN:e.height})},onRequestFullscreenStateChange:function(e){c.callbacks.onRequestFullscreenChange(e)},getControlsSettings:function(){return{controlsVisibility:c.playerStore.getState().ad.nativeAdControlsVisibility?{}:{mute:!1,timeline:!1,play:!1,loader:!1}}},logEvent:this.callbacks.logEvent,onError:function(e){c.onError(e)},adConfig:this.state.ad.adConfig,playerContainer:AE(this.state.controller.vsid,document),lang:this.config.lang}),this.currentAdPlaybackQueue=u;case 13:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"updateVideoInfo",value:function(){bf(this.state)?this.playbackQualityController.persist():(this.playbackQualityController.update(),this.emit("PlaybackQualityUpdate",this.playbackQualityController.getPlaybackQuality()))}},{key:"resetPlayerStore",value:function(e,t,r){var n=r.shouldSaveProgress,o=r.isFirstLoad;this.playerStore.updateSourceId(),this.stateController.putStream(e),this.playerStore.setControllerStateField(ZD.sourceParams,t);var i=this.getStartPositionForLoadSource(t,{shouldSaveProgress:n});if(this.playerStore.setControllerStateField(ZD.startPosition,i),this.playerStore.getState().controller.autoplay||this.playerStore.setControllerStateField(ZD.autoplay,Va(this.playerStore.getState().controller)),n||(this.playerStore.setControllerStateField(ZD.duration,XD.duration),this.playerStore.setControllerStateField(ZD.dvrDuration,XD.dvrDuration),this.playerStore.setSkinStateField(QD.skinDVRDuration,eN.skinDVRDuration),this.stateController.watchedTimeCounter=new nL.p,this.stateController.putWatchedTime(XD.watchedTime)),this.stateController.putCurrentTime(Math.max(0,i.videoTime||XD.currentTime)),!o){var a=t.additionalParams,u=(void 0===a?xx:a).from,c=void 0===u?"other":u;this.playerStore.setControllerStateField(ZD.from,c),this.playerStore.setControllerStateField(ZD.preview,t.preview||oN.preview),this.stateController.putBufferingRanges(XD.bufferingRanges),this.stateController.putVideoType(void 0),this.playerStore.setControllerStateField(ZD.programDateTime,void 0),this.playerStore.setControllerStateField(ZD.dvrStartTime,XD.dvrStartTime),this.playerStore.setSkinStateField(QD.skinDVRStartTime,eN.skinDVRStartTime),this.stateController.putVideoTracks(XD.videoTracks),this.stateController.putAudioTrackValue(XD.audioTrackValue),this.stateController.putAudioTracks(XD.audioTracks),this.stateController.putTextTrackEnabled(XD.textTrackEnabled),this.playerStore.setControllerStateField(ZD.textTrackValue,XD.textTrackValue),this.stateController.putTextTracks(XD.textTracks),this.callbacks.onSubtitlesChange([]),this.callbacks.onThumbnailTileGeneralMetaInfoChange(void 0),this.stateController.putOriginalBroadcastAdCues({}),this.state.controller.playingState===YA.END&&(this.stateController.putPlayingState(YA.PAUSE),this.stateController.putAutoplay(!1)),this.stateController.putInStreamPlayingState(void 0),this.playerStore.setAdStateField(zD.hasPreroll,!1),this.stateController.putNextAdInfo(void 0),this.playerStore.setControllerStateField(ZD.preload,!0)}this.playerStore.setAdStateField(zD.adConfig,Eh(t))}},{key:"prepareNextSource",value:function(e,t){this.stateController.putErrorInfo({}),this.emit("DurationChange",NaN),this.playerStore.setControllerStateField(ZD.preload,!0),this.playbackQualityController.reset(),this.playCallbacks=[],this.stateController.putVideoTrackParams({videoTrackValue:XD.videoTrackValue,isAbrEnabled:this.state.controller.isAbrEnabled}),this.broadcastAd&&this.stateController.putOriginalBroadcastAdCues({})}},{key:"performPlayCallbacks",value:function(){this.playCallbacks.length>0&&(Xe(this.playCallbacks),this.playCallbacks=[])}},{key:"seekToVideoPosition",value:function(e,t){Number.isNaN(e)||(bf(this.state)&&!t?this.playerStore.setControllerStateField(ZD.startPosition,{videoTime:e}):this.videoController.seek(e))}},{key:"getStartPositionForLoadSource",value:function(e,t){var r=t.shouldSaveProgress,n=this.state.controller,o=n.currentTime,i=n.watchedTime,a=this.getUtcStartTime(),u=void 0===a?void 0:a+o,c=(0,N_.K)(e.startPosition)?e.startPosition:{};return r&&i>0?{videoTime:o,utc:u}:c}},{key:"getUtcStartTime",value:function(){var e=this.state.controller.programDateTime;return void 0===e?void 0:e/1e3}},{key:"onError",value:function(e){var t=e instanceof cT?e:new cT(qO(qO({},e),{},{code:e.code||P_.DEFAULT_ERROR}));this.stateController.putErrorInfo({error:t}),t.isFatal&&(this.callbacks.logEvent({event:"MediaInternalsHistoryOnFatal",params:{history:this.mediaInternalsHistory.getHistory()}}),!bf(this.state)&&this.currentAdPlaybackQueue&&this.currentAdPlaybackQueue.destroy(JI.PlayerError),this.stateController.handleVideoTagPlayingStateChange(YA.PAUSE),this.destroyVideoController())}},{key:"detachEncoder",value:(s=HO(UO().mark((function e(){return UO().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.videoController){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.videoController.detachEncoder();case 4:this.stateController.putEncoderState(CD.Detached);case 5:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"attachEncoder",value:(c=HO(UO().mark((function e(){var t,r;return UO().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.stateController.putEncoderState(CD.Attaching),e.prev=1,e.next=4,this.videoController.attachEncoder();case 4:e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(1),this.stateController.putEncoderState(CD.Detached),e.t0;case 10:this.stateController.putEncoderState(CD.Attached),this.updateVolumeInfo(),t=this.state.controller.playingState,(r=this.videoController.getPlayingState())&&t!==r&&this.emit("VideoPlayingStateChange",r);case 15:case"end":return e.stop()}}),e,this,[[1,6]])}))),function(){return c.apply(this,arguments)})},{key:"destroyVideoController",value:(u=HO(UO().mark((function e(){return UO().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.videoController){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.videoController.destroy();case 4:this.stateController.putEncoderState(CD.Detached);case 5:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"tryToPlay",value:(a=HO(UO().mark((function e(t){var r,n,o,i,a=this;return UO().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!1,this.once("PauseCalled",(function(){return n=!0})),e.prev=2,e.next=5,t.play();case 5:return e.abrupt("return");case 8:e.prev=8,e.t0=e.catch(2);case 10:if(!this.destroyed){e.next=12;break}return e.abrupt("return",_U.reject(new Error("StreamPlayer destroyed")));case 12:if(!n){e.next=14;break}return e.abrupt("return",_U.reject(new Error("Pause called")));case 14:if(null===(r=this.state.controller.errorInfo.error)||void 0===r||!r.isFatal){e.next=16;break}return e.abrupt("return",_U.reject(new Error("Fatal error occurred")));case 16:if(!this.video.muted){e.next=18;break}return e.abrupt("return",_U.reject(new Error("Can't play with unmuted mode cause video.muted")));case 18:if(this.state.controller.allowMuted){e.next=20;break}return e.abrupt("return",_U.reject(new Error("Can't play with unmuted mode cause allowMuted")));case 20:if(this.canMuteForPlay){e.next=22;break}return e.abrupt("return",_U.reject(new Error("Can't play. Mute did not help earlier")));case 22:if(this.setMuted(!0),!fU||$V){e.next=28;break}return o=new _U((function(e){a.once("Destroy",(0,aj.O)(a.video,"volumechange",e,{once:!0}))})),i=new _U((function(e,t){a.once("Destroy",(function(){return t(new Error("StreamPlayer destroy called"))}))})),e.next=28,_U.race([o,i]);case 28:return e.prev=28,e.next=31,t.play();case 31:return e.abrupt("return");case 34:return e.prev=34,e.t1=e.catch(28),this.canMuteForPlay=!1,this.setMuted(!1),e.abrupt("return",_U.reject(new Error("Failed on play")));case 39:case"end":return e.stop()}}),e,this,[[2,8],[28,34]])}))),function(e){return a.apply(this,arguments)})},{key:"logPlayAfterWaitingForDocumentVisibility",value:(i=HO(UO().mark((function e(){var t,r,n,o;return UO().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.videoController,r=this.state.controller,n=r.startStage,o=r.initialAutoplay,n===tP.waitForDocumentVisibility&&o&&t){e.next=4;break}return e.abrupt("return");case 4:this.callbacks.logEvent({event:LP.PlayAfterWaitingForDocumentVisibility,params:{}});case 5:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"getContainerDocument",value:function(){return this.container.ownerDocument||document}},{key:"getMainContainer",value:function(){return this.container}},{key:"setPosterFitStyle",value:function(){var e,t,r=this.playerStore.getState().controller,n=r.videoElementStyle,o=r.posterStyle,i=null!==(e=null!==(t=null===n||void 0===n?void 0:n.objectFit)&&void 0!==t?t:null===o||void 0===o?void 0:o.objectFit)&&void 0!==e?e:"cover";bO(this.video,qO(qO({},this.playerStore.getState().controller.videoElementStyle),{},{objectFit:i}))}},{key:"resetPosterFitStyle",value:function(){bO(this.video,qO({objectFit:"contain"},this.playerStore.getState().controller.videoElementStyle))}},{key:"hidePoster",value:function(){this.video.poster=fC}},{key:"preloadVideoControllerSource",value:function(e){var t=e.rule,r=e.ruleValue,n=e.whileAd;void 0!==this.videoController&&(this.callbacks.logEvent({event:LP.PreloadSource,params:{reason:jB.InternalApi,rule:IB[t],ruleValue:r,whileAd:n}}),(0,mP.v)(this.videoController.preloadSource()))}},{key:"updateVolumeInfo",value:function(){this.stateController.putVolumeInfo({volume:this.video.volume,muted:this.video.muted,changeReason:CP.VolumeChangeEvent})}},{key:"iosLandscapeScreenOrientationWorkaround",value:function(){var e=this;bR&&this.on("CurrentTimeChange",(function t(){e.state.controller.currentTime<=0||(e.off("CurrentTimeChange",t),(0,j_.Y)((function(){return 0===screen.orientation.type.indexOf("landscape-")}))&&(Cu(e.video,$B().locals.StreamPlayer_iosLandscapeWorkaround),setTimeout((function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return yI(e)?wI(e,t):Nu(e,t)}(e.video,$B().locals.StreamPlayer_iosLandscapeWorkaround)}),10)))}))}}])&&WO(r.prototype,n),o&&WO(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(IR.v);var xU,RU,LU=function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,n=arguments.length>1?arguments[1]:void 0;XO(this,e),tk(this,"handlers",[]),tk(this,"names",void 0),tk(this,"namesOnVideo",void 0),tk(this,"onDestroy",new OP),tk(this,"win",void 0),tk(this,"video",void 0),tk(this,"fullscreenElement",null),tk(this,"setFullScreenElementFromAPI",(function(){var e=Nc(t.win,t.video);t.setFullscreenElement(e)})),this.win=r,this.video=n,n&&bR&&(this.onDestroy.addOne((0,aj.O)(n,"webkitbeginfullscreen",(function(){t.setFullscreenElement(n)}))),this.onDestroy.addOne((0,aj.O)(n,"webkitendfullscreen",(function(){t.setFullscreenElement(null)})))),this.names=Dc(r,n),this.namesOnVideo=Cc(r,n)[0],this.names&&(this.onDestroy.addOne((0,aj.O)(this.win.document,this.names.events.change,this.setFullScreenElementFromAPI)),this.setFullScreenElementFromAPI())}var t,r,n;return t=e,(r=[{key:"requestFullscreenForElement",value:function(e,t){if(void 0===this.names)throw new this.win.Error("Fullscreen is not supported");var r=this.names.request;if(!(r in e))throw new this.win.Error("Fullscreen is not supported");e[r](t)}},{key:"isFullscreen",value:function(){return null!==this.fullscreenElement}},{key:"exit",value:function(){if(void 0===this.names)throw new Error("Fullscreen is not supported");var e,t=this.names;this.video&&this.fullscreenElement===this.video?(e=this.video,t=this.namesOnVideo||t):e=this.win.document;try{(0,mP.v)(e[t.exit]().catch((function(e){hC.error("Exit fullscreen for element:",e)})))}catch(pG){hC.error("Exit fullscreen for element:",pG)}}},{key:"getFullscreenElement",value:function(){return this.fullscreenElement}},{key:"addHandler",value:function(e){if("function"!==typeof e)throw new this.win.Error("Fullscreen handler must be a function");this.handlers.push(e)}},{key:"removeHandler",value:function(e){this.handlers=this.handlers.filter((function(t){return t!==e}))}},{key:"destroy",value:function(){this.handlers.length=0,this.onDestroy.dispatch(void 0)}},{key:"setFullscreenElement",value:function(e){this.fullscreenElement=e,this.handlers.forEach((function(t){return t(e)}))}}])&&ek(t.prototype,r),n&&ek(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();!function(e){e.PiP="PiP",e.YaBroEarly="YaBroEarly",e.YaBroAttrLegacy="YaBroAttrLegacy",e.YaBroAttrCurrent="YaBroAttrCurrent",e.OperaPopOut="OperaPopOut",e.SafariPresentationMode="SafariPresentationMode"}(RU||(RU={}));var jU=(hk(xU={},RU.PiP,{isSupported:function(e){if("pictureInPictureEnabled"in e.document){if(pk()){var t=ok(e);return 20===t.major&&t.minor>4||t.major>20}return!0}return!1},getCurrent:function(e){return e.document.pictureInPictureElement||null},observe:function(e,t,r){return t?(t.addEventListener("enterpictureinpicture",r),t.addEventListener("leavepictureinpicture",r),function(){t.removeEventListener("enterpictureinpicture",r),t.removeEventListener("leavepictureinpicture",r)}):gT.Z},getPipWindow:function(e){return e.pictureInPictureWindow||null}}),hk(xU,RU.YaBroEarly,{isSupported:function(e,t){return"broughtOut"in t},getCurrent:function(e,t){return t&&"broughtOut"in t&&t.broughtOut?t:null},observe:function(e,t,r){return t?(t.addEventListener("oowvideobringin",r),t.addEventListener("oowvideobringout",r),function(){t.removeEventListener("oowvideobringin",r),t.removeEventListener("oowvideobringout",r)}):gT.Z}}),hk(xU,RU.YaBroAttrCurrent,{isSupported:function(e){if(pk()){var t=ok(e);return 18===t.major&&t.minor>=6||t.major>18}return!1}}),hk(xU,RU.YaBroAttrLegacy,{isSupported:function(e){return pk()&&ok(e).major<18}}),hk(xU,RU.SafariPresentationMode,{isSupported:function(e,t){return"webkitPresentationMode"in t},getCurrent:function(e,t){return t&&"picture-in-picture"===t.webkitPresentationMode?t:null},observe:function(e,t,r){return t?(t.addEventListener("webkitpresentationmodechanged",r),function(){return t.removeEventListener("webkitpresentationmodechanged",r)}):gT.Z}}),hk(xU,RU.OperaPopOut,{isSupported:function(e,t){return"onoperadetachedviewcontrol"in t&&"onoperadetachedviewchange"in t}}),xU),IU=[RU.PiP,RU.YaBroEarly,RU.YaBroAttrCurrent,RU.YaBroAttrLegacy,RU.SafariPresentationMode,RU.OperaPopOut],CU=function(e){function t(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,n=arguments.length>1?arguments[1]:void 0;ak(this,t),hk(fk(e=i.call(this)),"api",null),hk(fk(e),"apiName",null),hk(fk(e),"window",void 0),hk(fk(e),"pipWindow",null),hk(fk(e),"currentElement",null),hk(fk(e),"unsubscribeFromApi",gT.Z),hk(fk(e),"handlePipEvent",(function(t){var r,n,o=t.target;e.digestCurrentElement(o);var i=Boolean(e.getCurrentElement());e.pipWindow=(null===(r=e.api)||void 0===r||null===(n=r.getPipWindow)||void 0===n?void 0:n.call(r,t))||null,e.emit("Change",i)})),e.window=r;for(var o=n||window.HTMLVideoElement.prototype,a=0;a<IU.length;a++){var u=IU[a],c=jU[u];try{if(c.isSupported(e.window,o)){e.api=c,e.apiName=u;break}}catch(pG){}}return e.digestCurrentElement(n),e.api&&e.api.observe&&(e.unsubscribeFromApi=e.api.observe(e.window,n,e.handlePipEvent)),e}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ck(e,t)}(t,e);var r,n,o,i=sk(t);return r=t,(n=[{key:"getSupportedApiName",value:function(){return this.apiName}},{key:"getCurrentElement",value:function(){return this.currentElement}},{key:"addHandler",value:function(e){var t=this;return this.api&&this.api.observe?(this.on("Change",e),function(){return t.off("Change",e)}):null}},{key:"getPipWindowSize",value:function(){if(!this.pipWindow)return null;var e=this.pipWindow,t=e.width,r=e.height;return t&&r?{width:t,height:r}:null}},{key:"destroy",value:function(){this.currentElement=null;var e,t=this.window.document;null!==t&&void 0!==t&&t.pictureInPictureElement&&(null===(e=t.exitPictureInPicture)||void 0===e||e.call(t)),this.off("Change"),this.unsubscribeFromApi()}},{key:"digestCurrentElement",value:function(e){this.api&&this.api.getCurrent&&(this.currentElement=this.api.getCurrent(this.window,e))}}])&&uk(r.prototype,n),o&&uk(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(IR.v),DU=function(e){function t(e,r){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ek(wk(n=i.call(this)),"isSupportedPipMode",!0),Ek(wk(n),"isYandexPipMode",!1),Ek(wk(n),"isVisibilitySupported",void 0),Ek(wk(n),"window",void 0),Ek(wk(n),"element",void 0),Ek(wk(n),"fullscreenApi",void 0),Ek(wk(n),"pipApi",void 0),Ek(wk(n),"video",void 0),Ek(wk(n),"state",{isPip:!1,isFullScreen:!1,isVisible:!0}),Ek(wk(n),"observe",(function(e){return n.on("Change",e),function(){return n.off("Change")}})),Ek(wk(n),"fireVisualStateHandlers",(function(){var e=n.state,t={isPip:e.isPip,isVisible:e.isVisible,isFullScreen:e.isFullScreen,isSupportedPipMode:n.isSupportedPipMode,isVisibilitySupported:n.isVisibilitySupported,isYandexPipMode:n.isYandexPipMode};n.emit("Change",t)})),Ek(wk(n),"handleVisibilityChange",(function(e){n.state.isVisible!==e&&(n.state.isVisible=e,n.fireVisualStateHandlers())})),Ek(wk(n),"handlePipChange",(function(e){n.state.isPip!==e&&(n.state.isPip=e,n.state.isFullScreen=n.getFullscreenStateProperty(n.fullscreenApi.getFullscreenElement()),n.fireVisualStateHandlers())})),Ek(wk(n),"getFullscreenStateProperty",(function(e){return Hi(n.video.ownerDocument,n.video)||n.video===e})),Ek(wk(n),"handleFullscreenChange",(function(e){var t=n.getFullscreenStateProperty(e);n.state.isFullScreen!==t&&(n.state.isFullScreen=t,n.fireVisualStateHandlers())})),n.element=e,n.window=KS(n.element),n.isVisibilitySupported=r,n}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mk(e,t)}(t,e);var r,n,o,i=gk(t);return r=t,(n=[{key:"setVideoElement",value:function(e){void 0===this.video&&(this.video=e,this.observeFullscreen(),this.observePip())}},{key:"setExternalVisibility",value:function(e){this.handleVisibilityChange(e)}},{key:"setExternalFullscreen",value:function(e){this.state.isFullScreen!==e&&(this.state.isFullScreen=e,this.fireVisualStateHandlers())}},{key:"changeFullscreenState",value:function(e){e.isFullScreen!==this.state.isFullScreen&&(e.isFullScreen?this.fullscreenApi.requestFullscreenForElement(this.video,{navigationUI:"hide"}):this.fullscreenApi.exit())}},{key:"changePipState",value:function(e){e.isPip!==this.state.isPip&&(e.isPip||this.pipApi.destroy())}},{key:"destroy",value:function(){this.emit("Destroy"),this.off("Destroy")}},{key:"getState",value:function(){var e=this.state;return{isPip:e.isPip,isVisible:e.isVisible,isFullScreen:e.isFullScreen,isSupportedPipMode:this.isSupportedPipMode,isVisibilitySupported:this.isVisibilitySupported,isYandexPipMode:this.isYandexPipMode}}},{key:"getPipWindowSize",value:function(){return this.pipApi.getPipWindowSize()}},{key:"observePip",value:function(){var e=this;this.pipApi=new CU(KS(this.video),this.video),this.pipApi.addHandler(this.handlePipChange),this.once("Destroy",(function(){e.pipApi.destroy()}));var t=this.pipApi.getSupportedApiName();this.isSupportedPipMode=t!==RU.OperaPopOut,this.isYandexPipMode=t===RU.YaBroAttrCurrent||t===RU.YaBroAttrLegacy}},{key:"observeFullscreen",value:function(){var e=this;this.fullscreenApi=new LU(this.window,this.video),this.fullscreenApi.addHandler(this.handleFullscreenChange),this.once("Destroy",(function(){e.fullscreenApi.destroy()}))}}])&&yk(r.prototype,n),o&&yk(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(IR.v),NU="style[".concat("data-ya-player-style","]"),FU={sourceId:NaN,data:void 0},MU=r(83361);bc("internal_start");var VU,BU=qA.Unknown,UU=eC,GU=_R.PAUSE,HU=zP,YU={},qU=r(5654),WU=(0,v_.I)((function(){return Fu(qU.toString())})),KU=r(14538),zU=r(83361),QU=["contentId"],ZU=["contentId"],$U=FI(window),JU=function(e){function t(e){var r,n,o,i,a,u,c;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),$k(Kk(c=k.call(this,e)),"skin",void 0),$k(Kk(c),"container",void 0),$k(Kk(c),"vhHelper",void 0),$k(Kk(c),"initStreamPlayerDeferred",new dL.B),$k(Kk(c),"performOnInitStreamPlayer",(0,KU.P)(c.initStreamPlayerDeferred.promise)),$k(Kk(c),"isInitStreamPlayer",!1),$k(Kk(c),"playingStateSynchronization",(0,TI.l)()),$k(Kk(c),"playerNode",void 0),$k(Kk(c),"postMessenger",void 0),$k(Kk(c),"visiblePlaybackController",void 0),$k(Kk(c),"screenWakeLockController",void 0),$k(Kk(c),"getSourceConfigForRecover",(function(){})),$k(Kk(c),"completeInitAfterGettingSourceConfig",void 0),$k(Kk(c),"store",void 0),$k(Kk(c),"errorScreen",void 0),$k(Kk(c),"preloadSkin",void 0),$k(Kk(c),"additionalParams",void 0),$k(Kk(c),"setSourceDeferred",void 0),$k(Kk(c),"telemetry",void 0),$k(Kk(c),"resourceTimingsMonitor",void 0),$k(Kk(c),"playerAliveData",{bandwidthEstimate:0}),$k(Kk(c),"playerTracker",void 0),$k(Kk(c),"setSourceStage",qP.LOADING),$k(Kk(c),"sourceIdSignal",new kP(NaN,(function(e,t){return!!isNaN(t)||!isNaN(e)&&t<=e}))),$k(Kk(c),"debugPanel",void 0),$k(Kk(c),"externalPlaybackCsrfToken",void 0),$k(Kk(c),"externalPlaybackTokenExpireTimeout",void 0),$k(Kk(c),"playerApiSourceConfig",void 0),$k(Kk(c),"loggingForExternalToolsAllowed",void 0),$k(Kk(c),"isReady",!1),$k(Kk(c),"debug",{logCalls:!1,logEvents:!1,logInternals:!1,showDebugPanel:!1}),$k(Kk(c),"destroyed",!1),$k(Kk(c),"config",void 0),$k(Kk(c),"readyPendingEvents",[]),$k(Kk(c),"nextPreloadRequestId",0),$k(Kk(c),"loadComponents",(0,v_.I)((function(){return se({src:(e=IT.i18nLang,Ie("components_".concat(e).concat(lR?".modern":"",".js"),12463,"1.0-",!1)),retries:3,dropCacheOnRetry:!0,onBeforeLoad:function(e){e.crossOrigin="anonymous"},checkLoad:function(){return(0,OT.m)(IT.initErrorScreen)&&(0,OT.m)(IT.initDebugPanel)}}).catch((function(e){var t=new cT(e).toJSON(),r=new cT(Gk(Gk({},t),{},{details:{errorDetails:t.details},code:p_.ERROR_SCREEN_LOAD_ERROR,isFatal:!1}));throw c.emitError(r,Zn($n(document))),r}));var e}))),$k(Kk(c),"onPanelInitCallbacks",[]),$k(Kk(c),"getReportData",Bk(Mk().mark((function e(){var t,r;return Mk().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c.isReady){e.next=6;break}return e.next=3,c.requestDebugInfo();case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0={vsid:c.additionalParams.vsid,version:"1.0-12463",clientTimestamp:Date.now(),streamUrl:null===(t=c.getState().stream)||void 0===t?void 0:t.url,system:fo(),playerApiState:c.getState()};case 7:return r=e.t0,e.abrupt("return",(0,wL.Y)(r)||"");case 9:case"end":return e.stop()}}),e)})))),!(0,N_.K)(e))throw new cT("Params is not an object");(0,$P.Vc)(e);var s=e,l=function(e,t){if(3!==t.length)throw new Error("playerType should contains exact 3 symbols");return[(0,uL.a)(44),t,qn(e),Yn(Date.now().toString().slice(0,10),10,"0")].join("x")}(12463,"WEB"),f=(0,j_.Y)((function(){var e,t=null===s||void 0===s||null===(e=s.source.additionalParams)||void 0===e?void 0:e.from;return t&&(0,I_.H)(t)?t:void 0}))||"other";c.additionalParams={vsid:l,from:f};var d,h=void 0!==s.vhParams,p=(0,OT.m)($U),v={vsid:l,vpuid:lL.getVpuid(),version:"1.0-12463",service:"StreamPlayer",isVideoADB:p},y=(d=e.logUrl,!(0,I_.H)(d)||d.startsWith("https://")),m=y?e.logUrl:void 0;c.telemetry=new lL({playerInfo:v,sendLog:function(e,t){var r=(0,wL.Y)(e);if(r){var n=((0,I_.H)(m)?m:"https://log.video.cloud.yandex.net/log")||(p?tc():VI);0,jr({url:n===VI||"https://log.strm.yandex.ru"===n?(0,Lx.Sr)(n,t):n,data:r})}},getState:function(){var e=c.getState();if(e){var t=e.audioTrack,r=e.videoTrack,n=e.videoTracks.map((function(e){return Gk(Gk({},e),{},{selected:(null===r||void 0===r?void 0:r.value)===e.value,auto:Boolean(null===r||void 0===r?void 0:r.auto)})})),o={total:nc(e.bufferedRanges,e.currentTime)||0};return Gk(Gk(Gk({},e),c.playerAliveData),{},{videoTracks:n,remainingBufferedTime:o,audioTrack:t})}},enableMonotonicTimer:(0,$P.RW)("web_enable_telemetry_monotonic_timer")}),c.telemetry.setStaticParams({labels:{from:f}});var g=(0,I_.H)(e.perfLogUrl)?e.perfLogUrl:"https://log.video.cloud.yandex.net/perf";c.resourceTimingsMonitor=new rL.$({sendLog:function(e,t){var r=(0,wL.Y)(e);r&&jr({url:(0,Lx.Sr)(g,t),data:r})}}),c.resourceTimingsMonitor.attach(window),c.once(PT.Destroy,(function(){return c.resourceTimingsMonitor.destroy()})),c.container=function(){try{return c.createInternalContainer(function(e){if(!(0,N_.K)(e))throw new cT("paramsObject must be an object");if(!e.element)throw new cT("paramsObject must have property [element]");var t,r=e.element;if("string"===typeof r){var n=document.getElementById(r);if(!n)throw new cT("cannot find element with id: [".concat(r,"]"));t=n}else{if(!dP(r))throw new cT("paramsObject.element must be a string or HTMLElement id");t=r}return t}(e))}catch(r){var t=cT.from(r,{code:p_.INVALID_CONFIG_ELEMENT_IN_CREATE_PLAYER,isFatal:!0});throw c.emitError(t,Zn($n(document))),t}}(),c.savePlayerAliveData({containerHeight:c.container.clientHeight*devicePixelRatio,containerWidth:c.container.clientWidth*devicePixelRatio});var b=function(){try{return function(e){if(!(0,N_.K)(e))throw new cT("paramsObject must be an object");return XP.parse(e.lang)}(e)}catch(r){var t=cT.from(r,{code:p_.INVALID_CONFIG_LANG_IN_CREATE_PLAYER,isFatal:!1});return c.emitError(t,Zn($n(document))),"ru"}}();if(IT.i18nLang=b,c.initErrorScreen(),c.initDebugPanel(),!y){var w=new cT({code:p_.INVALID_LOG_URL,isFatal:!0,details:{logUrl:e.logUrl}});throw c.emitError(w),w}c.prepareContainerNode(),c.playerNode=c.createPlayerNode(),Je(c.container,c.playerNode);var S=function(e){WU();var t=document.createElement("yaplayertag");return t.id=_E(e),qe(t,{width:"100%",height:"100%",position:"relative",overflow:"hidden",display:"block"}),t}(l);c.playerNode.appendChild(S);var E=function(){try{return function(e){return Px.parse(e)}(e)}catch(n){var t=n instanceof W_?cT.from(n,{details:n.issues}):cT.from(n),r=new cT(Gk(Gk({},t),{},{details:{errorDetails:t.details,config:(0,j_.Y)((function(){return(0,wL.Y)(e)}))||"UNSERIALIZABLE"},code:p_.INVALID_CONFIG_IN_CREATE_PLAYER,isFatal:!0}));throw c.emitError(r,Zn($n(document))),(0,xR.L)(n),(0,xR.L)(r),r}}();c.config=Gk(Gk({},E),{},{vsid:l,vpuid:lL.getVpuid()}),E.objectFit&&c.setVideoStyle({objectFit:E.objectFit}),c.store=c.initPlayerStore({config:E,vsid:l}),c.initOnlyOnePlayingUnmutePlayerControl();var O=function(t,r){try{return wr(t,c.config,c.telemetry.getSourceIndex())}catch(i){if(r)return;var n=i instanceof W_?cT.from(i,{details:i.issues}):cT.from(i),o=new cT(Gk(Gk({},n),{},{details:{errorDetails:n.details,config:(0,j_.Y)((function(){return(0,wL.Y)(e)}))||"UNSERIALIZABLE"},code:p_.INVALID_CONFIG_IN_CREATE_PLAYER,isFatal:!0}));throw c.emitError(o,Zn($n(document))),(0,xR.L)(i),(0,xR.L)(o),o}},_=function(){try{return O(s.source,h)}catch(hG){return}}();c.once(PT.Destroy,Wu((function(){return c.destroyInternal(GP.Unload)}))),c.debug=E.debugConfig,c.initPlaybackTracking(),c.playerTracker=c.initPlayerTracker(),c.once(PT.Destroy,(function(){return c.playerTracker.destroy()})),c.postMessenger=c.initPostMessenger(),c.once(PT.Destroy,(function(){return c.postMessenger.destroy()})),c.subscribeExternalFullscreenChange(c.container),c.once(PT.Destroy,(function(){clearTimeout(c.externalPlaybackTokenExpireTimeout)})),E.savedMutedRestored&&c.emit(PT.VolumeChangeReasonChange,{volumeChangeReason:CP.RestoreSavedMuted}),c.on(PT.VolumeChangeReasonChange,(function(e){var t=e.volumeChangeReason;if((r=t)!==CP.RequestAutoplaySettings&&void 0!==r){var r,n=c.store.getState(),o=n.volume,i=n.muted;gx.setSavedVolume(o),gx.setSavedMuted(i)}})),c.once(PT.Ready,(function(){c.initTrackChangeLogging()})),_&&(_.source.params.additionalParams=c.addRequiredFieldsToAdditionalParams(_.source.params.additionalParams),c.additionalParams=_.source.params.additionalParams,c.applySourceInfoToTelemetry(_)),c.telemetry.setStaticParams({device:E.streamPlayerParams.device?E.streamPlayerParams.device:{}}),c.telemetry.enableRemoteProgressSaving(Xu(c.playerApiSourceConfig));var A,T,P,x,R,L,j,I,C,D,N,F,M=Gk(Gk({},e),{},{element:void 0,v2:!0});if(c.telemetry.onCreatePlayer(M,Zn($n(document))),c.on(PT.Ready,(function(){c.isReady=!0,c.setSourceStage=qP.READY,c.readyPendingEvents.forEach((function(e){return c.postMessenger.emit("Event",e)})),c.readyPendingEvents.length=0})),c.visiblePlaybackController=c.initVisiblePlaybackController(E.streamPlayerParams.togglePlaybackOnVisibilityChange,E.streamPlayerParams.autoplay),c.screenWakeLockController=new zI({playerContainer:c.container,playerApi:Kk(c),onError:(0,v_.I)((function(e){var t=cT.from(e);c.telemetry.logError({error:new cT(Gk(Gk({},t),{},{code:p_.SCREEN_WAKE_LOCK_ERROR,isFatal:!1,details:{errorDetails:t.details,allowedFeaturePolicies:oc(),locationData:Zn($n(document))}}))})}))}),c.once(PT.Destroy,(function(){var e;return null===(e=c.screenWakeLockController)||void 0===e?void 0:e.destroy()})),c.loggingForExternalToolsAllowed=void 0===e.loadSkin,c.preloadSkin=c.initPreloadSkin(E),_){var V,B,U,G=E.streamPlayerParams.autoplay&&(!_.source.params.adConfig||!1===_.source.params.adConfig.hasPreroll)&&!_.source.params.startPosition.videoTime;null===(V=c.preloadSkin)||void 0===V||V.setPoster(_.source.params.preview,G?_.source.params.firstFrameHash:"",G?_.source.params.firstFrameUrl:""),null===(B=c.preloadSkin)||void 0===B||B.setStyle(Gk(Gk({},_.source.params.posterStyle),{},{objectFit:G?E.objectFit||"contain":null===(U=_.source.params.posterStyle)||void 0===U?void 0:U.objectFit}))}if(A=Kk(c),T=!1,P=!1,x="start",R=function(){return T&&P},L=(0,v_.I)((function(){A.emit(PT.UserReady,{type:x})})),j=function(){R()&&(x="poster",L())},I=function(){if(A.off(PT.ContentImpression,L),A.off(PT.BeforeAdPodStart,F),A.off(PT.AdPodStart,N),R())return x="poster",L();T||A.once(PT.PosterReady,j),P||A.once(PT.SkinReady,j)},C=function(){T=!0},D=function(){T=!0,P=!0},N=function(){return x="start",L()},F=function(){A.off(PT.ResourcesIdle,I),A.once(PT.AdPodStart,N)},A.once(PT.BeforeAdPodStart,F),A.once(PT.PosterReady,C),A.once(PT.SkinReady,D),A.once(PT.ResourcesIdle,I),A.once(PT.ContentImpression,L),A.once(PT.UserReady,(function(){A.off(PT.BeforeAdPodStart,F),A.off(PT.ResourcesIdle,I),A.off(PT.AdPodStart,N),A.off(PT.ContentImpression,L),A.off(PT.PosterReady,C),A.off(PT.SkinReady,D)})),c.setFiltersForSourceRelatedEvents(),c.completeInitAfterGettingSourceConfig=function(e,t){var r,n,o,i;if(!c.playerApiSourceConfig&&!c.destroyed){var a=e.source;c.playerApiSourceConfig=e,c.emit(PT.SourceChange,{source:a});var u=t&&(!a.params.adConfig||!1===a.params.adConfig.hasPreroll)&&!a.params.startPosition.videoTime;null===(r=c.preloadSkin)||void 0===r||r.setPoster(a.params.preview,u?a.params.firstFrameHash:"",u?a.params.firstFrameUrl:""),null===(n=c.preloadSkin)||void 0===n||n.setStyle(Gk(Gk({},a.params.posterStyle),{},{objectFit:u?E.objectFit||"contain":null===(o=a.params.posterStyle)||void 0===o?void 0:o.objectFit}));var f=c.visiblePlaybackController.getVisualState(),d=Gk(Gk({},E.streamPlayerParams),{},{isVisibilitySupported:f.isVisibilitySupported,initialVisibility:f.isElementVisible,source:e.source});null!==(i=d.togglePlaybackOnVisibilityChange)&&void 0!==i&&i.forceAutoplay||void 0===t||(d.autoplay=!0===t||(0,N_.K)(t),d.allowMuted=!0===t||t&&t.allowMuted),c.playerTracker.setTrackings(e.trackings),c.telemetry.startInitBufferingTimer(),c.telemetry.setExternalStalledDuration(d.source.externalStalledDuration||A_()-Math.min(s.timeLoaderInit||1/0,HT.timeAPIInit||1/0)),a.params.additionalParams=c.addRequiredFieldsToAdditionalParams(a.params.additionalParams),c.additionalParams=a.params.additionalParams,c.applySourceInfoToTelemetry(e);try{!function(e){var t=e.container,r=e.streamPlayerParams,n=e.vsid,o=e.vpuid,i=new TL({id:n,sender:AL,receiver:_L});try{Ck({container:t,postMessenger:i,streamPlayerParams:r,vsid:n,vpuid:o})}catch(a){i.sendEvent("onInitError",{sourceId:1,data:Ok(new cT(xk(xk({},a),{},{isFatal:"boolean"!==typeof a.isFatal||a.isFatal,code:a.code||p_.ON_PLAYER_INIT_ERROR})))})}}({streamPlayerParams:d,container:S,vpuid:lL.getVpuid(),vsid:l}),c.isInitStreamPlayer=!0,c.initStreamPlayerDeferred.resolve()}catch(p){c.playerApiSourceConfig=void 0;var h=cT.from(p);c.emitError(h),(0,xR.L)(h)}Dk({source:a})&&void 0!==a.params.adConfig&&(0,mP.v)(ff(window,a.params.adConfig,l,E.useAbdBundle)),c.getSourceConfigForRecover=E.useFallbackStream?c.createSourceConfigForRecoverGetter(e):gT.Z}},_&&void 0===_.source.contentId&&!h)return c.completeInitAfterGettingSourceConfig(_,void 0),Wk(c);var H=c.initVhHelper({contentId:(null===_||void 0===_?void 0:_.source.contentId)||(null===(r=s.vhParams)||void 0===r||null===(n=r.content)||void 0===n?void 0:n.content_id),poster:null===_||void 0===_?void 0:_.source.params.preview,vhParams:s.vhParams,queryParams:Gk({autoplay:!1===s.autoplay?0:void 0,hidden:(0,N_.K)(s.skinParams)&&"skinConfig"in s.skinParams&&(0,N_.K)(null===(o=s.skinParams)||void 0===o?void 0:o.skinConfig)?null===(i=s.skinParams)||void 0===i||null===(a=i.skinConfig)||void 0===a?void 0:a.hiddenControls:void 0},null===(u=s.source)||void 0===u?void 0:u.queryParams)});return c.vhHelper=H,H.on("SetSource",(function(e){var t=e.sourceConfig,r=e.skinConfig,n=e.externalPlayerConfig,o=e.autoplay;c.configureSkin(r,n);var i=Gk(Gk({},t),s.source),a=(i.contentId,Fk(i,QU));c.completeInitAfterGettingSourceConfig(O(a,!1),o)})),c}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yk(e,t)}(t,e);var r,n,o,i,a,u,c,s,l,f,d,h,p,v,y,m,g,b,w,S,E,O,k=qk(t);return r=t,(n=[{key:"publicEmit",value:function(e,t){if(e.indexOf("/")>-1)return this.emit(e,t);var r=new Error("Event ".concat(e," is invalid. Namespace is required: NAMESPACE/").concat(e));setTimeout((function(){throw r}),0)}},{key:"emit",value:function(e,r){this.debug.logEvents&&console.log("[PLAYER] [EVENT]",e,r),zk(Zk(t.prototype),"emit",this).call(this,e,r)}},{key:"getDebugConfig",value:function(){return this.debug}},{key:"getState",value:function(){var e;return null===(e=this.store)||void 0===e?void 0:e.getState()}},{key:"destroy",value:(O=Bk(Mk().mark((function e(){return Mk().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.destroyInternal(GP.PublicApiCall));case 1:case"end":return e.stop()}}),e,this)}))),function(){return O.apply(this,arguments)})},{key:"sendReportLog",value:(E=Bk(Mk().mark((function e(){var t,r;return Mk().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getReportData();case 2:return t=e.sent,r=this.telemetry.sendReportLog(t),e.abrupt("return",{reportId:r});case 5:case"end":return e.stop()}}),e,this)}))),function(){return E.apply(this,arguments)})},{key:"play",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qA.ExternalApi,r=this.getState(),n=r.error,o=r.playingState;if(null!==n&&void 0!==n&&n.isFatal)return zU.reject(new Error("Unexpected play on fatal error"));this.emit(PT.RequestPlayingState,{playingState:YA.PLAY,playingStateReason:t}),(!this.config.streamPlayerParams.autoplay&&this.telemetry.getExpectedStalled().reason===WR.Init||o===YA.PAUSE&&this.telemetry.getExpectedStalled().reason===WR.SetSource)&&this.emit(PT.RequestPlayingState,{playingState:YA.BUFFERING,playingStateReason:qA.Unknown});var i=new zU((function(r,n){e.performOnInitStreamPlayer((function(){e.postMessenger.sendRequest(bL.play,t).then((function(e){return e?r():n(new Error("Play request failed"))})).catch(n)}),n)}));return i.catch((function(){e.emit(PT.RequestPlayingState,{playingState:YA.PAUSE,playingStateReason:qA.PlayRejected})})),this.playingStateSynchronization.addLock(i)}},{key:"pause",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qA.ExternalApi;this.emit(PT.RequestPlayingState,{playingState:YA.PAUSE,playingStateReason:t}),this.performOnInitStreamPlayer((function(){e.playingStateSynchronization.addLock(e.postMessenger.sendRequest(bL.pause,t))}))}},{key:"seek",value:function(e,t){this.postMessenger.sendCommand(bL.seek,e),this.emit(PT.RequestSeek,{time:e,reason:t})}},{key:"setDebugPanelVisibility",value:function(e){var t;this.debug.showDebugPanel=e,null===(t=this.debugPanel)||void 0===t||t.setVisibility(e)}},{key:"requestDebugInfo",value:(S=Bk(Mk().mark((function e(){var t;return Mk().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Gk,e.t1=Gk,e.t2={},e.next=5,this.postMessenger.sendRequest(bL.requestDebugInfo,void 0);case 5:return e.t3=e.sent,e.t4=(0,e.t1)(e.t2,e.t3),e.t5={},e.t6={playerApiState:this.getState(),streamUrl:null===(t=this.getState().stream)||void 0===t?void 0:t.url},e.abrupt("return",(0,e.t0)(e.t4,e.t5,e.t6));case 10:case"end":return e.stop()}}),e,this)}))),function(){return S.apply(this,arguments)})},{key:"requestExternalPlay",value:(w=Bk(Mk().mark((function e(t){var r;return Mk().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logEventInternal(LP.ExternalPlaybackPlayerActivate),e.next=3,this.requestExternalCsrfToken();case 3:return r=e.sent,e.prev=4,e.next=7,gL(t,r);case 7:return this.logEventInternal(LP.ExternalPlaybackPlayerActivateSucceed),e.abrupt("return",t.externalPlayerId);case 11:throw e.prev=11,e.t0=e.catch(4),this.updateExternalPlaybackCsrfToken(void 0),this.logEventInternal(LP.ExternalPlaybackPlayerActivateFailed),new Error(t.externalPlayerId);case 16:case"end":return e.stop()}}),e,this,[[4,11]])}))),function(e){return w.apply(this,arguments)})},{key:"requestExternalPlayerList",value:(b=Bk(Mk().mark((function e(t){var r,n,o,i;return Mk().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.currentPlayerListLength,n=!1,e.next=4,this.requestExternalCsrfToken();case 4:if(e.prev=4,0!==r){e.next=15;break}return n=!0,this.logEventInternal(LP.ExternalPlaybackPlayerListFetching,{cachedList:n}),e.next=10,yL();case 10:if(o=e.sent,this.logEventInternal(LP.ExternalPlaybackPlayerListFetchSuccess,{cachedList:n}),o.length){e.next=14;break}return e.abrupt("return",[]);case 14:this.logEventInternal(LP.ExternalPlaybackPlayerListHasAnyDevice);case 15:return n=!1,this.logEventInternal(LP.ExternalPlaybackPlayerListFetching,{cachedList:n}),e.next=19,mL();case 19:return i=e.sent,this.logEventInternal(LP.ExternalPlaybackPlayerListFetchSuccess,{cachedList:n}),e.abrupt("return",i.filter((function(e){return e.screen_capable})).map((function(e){return{id:e.id,name:e.name,status:e.online?eP.IDLE:eP.OFFLINE}})).sort(Jn));case 24:throw e.prev=24,e.t0=e.catch(4),this.logEventInternal(LP.ExternalPlaybackPlayerListFetchError,{cachedList:n,status:(0,N_.K)(e.t0)?e.t0.status:0}),e.t0;case 28:case"end":return e.stop()}}),e,this,[[4,24]])}))),function(e){return b.apply(this,arguments)})},{key:"setVolume",value:function(e){this.postMessenger.sendCommand(bL.setVolume,e)}},{key:"setMuted",value:function(e){this.postMessenger.sendCommand(bL.setMuted,e)}},{key:"setVideoTrack",value:function(e){this.postMessenger.sendCommand(bL.setVideoTrack,e)}},{key:"setAudioTrack",value:function(e){this.postMessenger.sendCommand(bL.setAudioTrack,e)}},{key:"setTextTrack",value:function(e){this.postMessenger.sendCommand(bL.setTextTrack,e)}},{key:"changeAdditionalParams",value:function(e){!function(e){if(!(0,N_.K)(e))throw new cT("changeAdditionalParams payload must be an Object");if((0,ux.Z)(e).some((function(e){return-1===cj.indexOf(e)})))throw new cT("changeAdditionalParams payload must contain only following keys: ".concat(cj.toString()))}(e),this.telemetry.flushStates(),this.additionalParams=Gk(Gk({},this.additionalParams),e),this.telemetry.setStaticParams({additionalParameters:rc(this.additionalParams)})}},{key:"setNativeTextTrackVisibility",value:function(e){this.postMessenger.sendCommand(bL.setNativeTextTrackVisibility,e)}},{key:"setPlaybackRate",value:function(e){this.postMessenger.sendCommand(bL.setPlaybackRate,e)}},{key:"setSource",value:(g=Bk(Mk().mark((function e(t){var r,n,o,i,a,u,c,s,l=this;return Mk().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(r=this.setSourceDeferred)||void 0===r||r.reject(new Error("SetSource rejected cause of new #setSource()")),this.setSourceDeferred=new dL.B,i=this.setSourceDeferred,(0,mP.v)(i.promise),this.isReady||this.store.getState().error){e.next=7;break}return e.next=7,zU.race([this.waitForEvent(PT.Ready),this.waitForEvent(PT.ErrorChange),i.promise]);case 7:if(null===(n=this.vhHelper)||void 0===n||n.destroy(),this.vhHelper=void 0,u=(a=function(e){try{var t=l.telemetry.onBeforeSetSource();return wr(e,l.config,t)}catch(n){var r=cT.from(n,{code:p_.INVALID_CONFIG_IN_SET_SOURCE,isFatal:!0});throw l.emitError(r),r}})(t),this.emit(PT.ErrorChange,{error:void 0}),null===(o=this.errorScreen)||void 0===o||o.removeErrorMessage(),c=function(){var e=Bk(Mk().mark((function e(t){return Mk().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l.telemetry.onSetSource(t,{streams:t.source.streams,params:t.source.params,externalStalledDuration:t.source.externalStalledDuration?t.source.externalStalledDuration/1e3:void 0},l.getTelemetryStaticParams(t)),l.telemetry.enableRemoteProgressSaving(Xu(t)),Qt(t.source)){e.next=4;break}throw new cT("setSource method receive a serializable object");case 4:if(void 0!==l.playerApiSourceConfig){e.next=9;break}return l.completeInitAfterGettingSourceConfig(t,void 0),e.next=8,zU.race([l.waitForEvent(PT.Ready),l.waitForEvent(PT.ErrorChange).then((function(e){throw e.error}))]);case 8:return e.abrupt("return");case 9:return l.playerTracker.setTrackings(yr(t.trackings)),e.next=12,l.setSourceInternal(t);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),!u.source.contentId){e.next=19;break}return s=this.initVhHelper({contentId:u.source.contentId,poster:u.source.params.preview,vhParams:void 0,queryParams:Gk({autoplay:0},t.queryParams)}),this.vhHelper=s,s.on("SetSource",function(){var e=Bk(Mk().mark((function e(r){var n,o,i,u,s,f,d;return Mk().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.sourceConfig,i=r.skinConfig,u=r.externalPlayerConfig,s=r.autoplay,l.configureSkin(Gk({},void 0!==i.title?{title:i.title}:{}),u),null!==o&&void 0!==o&&o.additionalParams&&(o.additionalParams.from=l.additionalParams.from,o.additionalParams.from_block=l.additionalParams.from_block),(f=Gk(Gk({},o),t)).contentId,d=Fk(f,ZU),e.prev=4,e.next=7,c(a(d));case 7:return(!0===s||(0,N_.K)(s))&&(0,mP.v)(l.play()),e.next=10,l.waitForPlay();case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(4);case 14:null===(n=l.preloadSkin)||void 0===n||n.setVisibility(!1);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return");case 19:return e.next=21,zU.race([c(u),i.promise]);case 21:case"end":return e.stop()}}),e,this)}))),function(e){return g.apply(this,arguments)})},{key:"preloadSource",value:(m=Bk(Mk().mark((function e(t,r){var n,o,i,a,u=this;return Mk().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(r||{}).signal,void 0!==(o=function(){try{var e=null!==r&&void 0!==r&&r.ignoreSourceIndexIncreasing?u.telemetry.getSourceIndex():u.telemetry.onBeforePreload();return wr(t,u.config,e)}catch(n){return}}())){e.next=4;break}return e.abrupt("return",zU.reject(new Error("source is invalid")));case 4:if(o.source.params.additionalParams=this.addRequiredFieldsToAdditionalParams(o.source.params.additionalParams),null===n||void 0===n||!n.aborted){e.next=7;break}return e.abrupt("return",zU.reject(new Error("preload was aborted")));case 7:if(Qt(o)){e.next=10;break}return console.warn("preloadSource: sourceConfig is not serializable"),e.abrupt("return",zU.reject(new Error("sourceConfig is not serializable")));case 10:return i=String(this.nextPreloadRequestId++),a=new zU((function(e,t){var r=gT.Z,o=function(){r(),t(new Error("PreloadSource aborted")),u.postMessenger.sendCommand(bL.abortPreloadSource,i)};null===n||void 0===n||n.addEventListener("abort",o);var a=function(n){switch(n.eventName){case"onPreloadSourceResolve":n.data===i&&(r(),e());break;case"onPreloadSourceReject":n.data===i&&(r(),t(new Error("PreloadSource reject")))}};u.postMessenger.on("Event",a),r=function(){u.postMessenger.off("Event",a),null===n||void 0===n||n.removeEventListener("abort",o)}})),this.postMessenger.sendCommand(bL.preloadSource,{sourceConfig:o.source,requestId:i}),e.abrupt("return",a);case 14:case"end":return e.stop()}}),e,this)}))),function(e,t){return m.apply(this,arguments)})},{key:"requestVideoElementFullscreen",value:(y=Bk(Mk().mark((function e(){return Mk().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.postMessenger.sendCommand(bL.setFullscreen,!0);case 1:case"end":return e.stop()}}),e,this)}))),function(){return y.apply(this,arguments)})},{key:"exitVideoElementFullscreen",value:function(){this.postMessenger.sendCommand(bL.setFullscreen,!1)}},{key:"setNativeControlsVisibility",value:function(e){this.postMessenger.sendCommand(bL.setHiddenControls,function(e){return(0,N_.K)(e)?!1===e.showTimeline?[ZP.TIMELINE]:[]:e?[]:[ZP.ALL]}(e))}},{key:"setNativeAdControlsVisibility",value:function(e){this.postMessenger.sendCommand(bL.setNativeAdControlsVisibility,e)}},{key:"setPictureInPictureAllowed",value:function(e){this.postMessenger.sendCommand(bL.setPictureInPictureEnabled,e)}},{key:"setVideoStyle",value:function(e){var t=this;this.performOnInitStreamPlayer((function(){t.postMessenger.sendCommand(bL.setVideoStyle,e)}))}},{key:"playInrollAd",value:function(e){this.postMessenger.sendCommand(bL.playInrollAd,e)}},{key:"skipAdPod",value:function(){this.postMessenger.sendCommand(bL.skipAdPod,{})}},{key:"playAdViewers",value:(v=Bk(Mk().mark((function e(t,r,n){var o;return Mk().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("inroll"!==t||n){e.next=2;break}throw new Error("playAdViewers error: no cueId for inroll");case 2:return o=r.map((function(e){return{adViewer:e,additionalData:"inroll"===t?{cueId:n}:{},adType:t}})),e.next=5,this.postMessenger.sendRequest(bL.playAdViewers,{adType:t,adViewers:o});case 5:if(e.sent.success){e.next=9;break}throw new Error("playAdViewers error");case 9:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return v.apply(this,arguments)})},{key:"logEvent",value:function(e){var t=e.event,r=e.params,n=void 0===r?{}:r;this.loggingForExternalToolsAllowed&&this.logEventInternal(t,n)}},{key:"logError",value:function(e){this.loggingForExternalToolsAllowed&&this.telemetry.logError({error:e})}},{key:"logSkinDelta",value:function(e,t,r){this.loggingForExternalToolsAllowed&&this.postMessenger.sendCommand(bL.logDelta,{deltaId:e,value:t,params:r})}},{key:"logDelta",value:function(e,t,r){this.postMessenger.sendCommand(bL.logDelta,{deltaId:e,value:t,params:r})}},{key:"insertInto",value:(p=Bk(Mk().mark((function e(t){var r,n,o,i;return Mk().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.getState(),o=n.playingState,e.next=3,this.postMessenger.sendRequest(bL.stopAd,{});case 3:i=(0,yP.w)(this.container.querySelectorAll("video")).map((function(e){return _t(e)})),t.appendChild(this.container),Xe(i),this.visiblePlaybackController.restartVisibilityObserver(),null===(r=this.screenWakeLockController)||void 0===r||r.restartVisibilityObserver(),o!==YA.PLAY&&o!==YA.BUFFERING||this.play(qA.RestoreAfterInsertInto);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return p.apply(this,arguments)})},{key:"getReadyState",value:function(){return this.destroyed?WA.destroyed:WA.ready}},{key:"getContainer",value:function(){return this.container}},{key:"seekToNextFrame",value:(h=Bk(Mk().mark((function e(){return Mk().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.postMessenger.sendRequest(bL.seekToNextFrame,void 0);case 2:if(e.sent.success){e.next=6;break}throw new Error("Error while trying to seek next frame");case 6:case"end":return e.stop()}}),e,this)}))),function(){return h.apply(this,arguments)})},{key:"seekToPreviousFrame",value:(d=Bk(Mk().mark((function e(){return Mk().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.postMessenger.sendRequest(bL.seekToPreviousFrame,void 0);case 2:if(e.sent.success){e.next=6;break}throw new Error("Error while trying to seek previous frame");case 6:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"setSourceInternal",value:(f=Bk(Mk().mark((function e(t){var r,n,o,i,a,u=arguments;return Mk().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},n=r.shouldSaveProgress,o=void 0!==n&&n,i=t.source,this.logEventInternal("SetSourceInternal",Gk(Gk({},i),{},{shouldSaveProgress:o})),i.params.additionalParams=this.addRequiredFieldsToAdditionalParams(i.params.additionalParams),this.playerApiSourceConfig=t,this.updateStateForSetSource(i,{shouldSaveProgress:o}),a=this.waitForSetSourceComplete(),this.setSourceStage=qP.LOADING,this.resetPlayerAliveData(),e.next=11,this.postMessenger.sendRequest(bL.setSource,{sourceConfig:i,shouldSaveProgress:o});case 11:return this.additionalParams=i.params.additionalParams,e.next=14,a;case 14:this.playerTracker.onSetSourceComplete(i);case 15:case"end":return e.stop()}}),e,this)}))),function(e){return f.apply(this,arguments)})},{key:"destroyInternal",value:(l=Bk(Mk().mark((function e(r){var n;return Mk().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.destroyed){e.next=2;break}return e.abrupt("return");case 2:return this.destroyed=!0,this.telemetry.logEvent({name:"DestroyCalled",data:{message:r}}),this.emit(PT.StartStageChange,{startStage:tP.destroyed}),null===(n=this.setSourceDeferred)||void 0===n||n.reject(new Error("SetSource rejected cause destroy player")),e.next=8,this.destroyStreamPlayer(r);case 8:et(this.container),this.emit(PT.Destroy,{}),zk(Zk(t.prototype),"destroy",this).call(this),this.telemetry.destroy({reason:r});case 12:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"initTrackChangeLogging",value:function(){var e=this,t=this.getState().videoTrack,r=this.getState().audioTrack,n=this.getState().textTrack;this.on(PT.VideoTrackChange,(function(r){var n=r.videoTrack,o=t;t=n,!(0,N_.K)(o)||!(0,N_.K)(n)||o.auto&&n.auto||o.value===n.value&&o.auto===n.auto||e.telemetry.logEvent({name:"SetVideoTrack",data:{previous:io(o),next:io(n)}})})),this.on(PT.AudioTrackChange,(function(t){var n=t.audioTrack;(0,N_.K)(r)&&(0,N_.K)(n)&&r.name!==n.name&&e.telemetry.logEvent({name:"SetAudioTrack",data:{previous:no(r),next:no(n)}}),r=n})),this.on(PT.TextTrackChange,(function(t){var r=t.textTrack;void 0===n&&void 0===r||e.telemetry.logEvent({name:"SetTextTrack",data:{previous:oo(n),next:oo(r)}}),n=r}))}},{key:"initVisiblePlaybackController",value:function(e,t){var r=this,n=new Mj(this);this.once(PT.Destroy,(function(){n.destroy()}));var o=new Fj({play:function(){r.playingStateSynchronization.waitAndLock((function(){return r.play(qA.VisiblePlayback)}))},pause:function(){r.playingStateSynchronization.waitAndLock(Bk(Mk().mark((function e(){return Mk().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.pause(qA.VisiblePlayback);case 1:case"end":return e.stop()}}),e)}))))},togglePlaybackVisibilitySetting:e,autoplay:t,playerStateAdaptor:n,logEvent:function(e){return r.telemetry.logEvent({name:e})}}),i=function(e){var t=e.playingState;e.playingStateReason!==qA.VisiblePlayback&&o.actualizeAutoplay(t===YA.PLAY)};this.on(PT.RequestPlayingState,i),this.once(PT.WatchedTimeChange,(function(){r.off(PT.RequestPlayingState,i)})),this.once(PT.Destroy,(function(){o.destroy()}));var a=new Nj({element:this.container,togglePlaybackVisibilitySetting:e,playerStateAdaptor:n,playPauseController:o});this.once(PT.Destroy,(function(){a.destroy()})),a.observeVisualState((function(e){r.performOnInitStreamPlayer((function(){r.postMessenger.sendCommand(bL.setExternalVisualState,{isVisible:e.isElementVisible})}))})),this.postMessenger.on("Command",(function(e){e.commandName===bL.getExternalVisualState&&e.sendAnswer({isVisible:a.getVisualState().isElementVisible})}));var u=function(e){a.notifyFullScreen(e.isFullscreen)};this.on(PT.FullscreenStateChange,u),this.once(PT.Destroy,(function(){r.off(PT.FullscreenStateChange,u)}));var c=function(e){a.notifyPip(e.isPictureInPicture)};return this.on(PT.PictureInPictureStateChange,c),this.once(PT.Destroy,(function(){r.off(PT.PictureInPictureStateChange,c)})),a}},{key:"initErrorScreen",value:function(){var e=this;this.once(PT.ResourcesIdle,this.loadComponents),this.on(PT.ErrorChange,function(){var t=Bk(Mk().mark((function t(r){var n,o;return Mk().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==(o=r.error)){t.next=4;break}return e.errorScreen&&e.errorScreen.changeVisibility(!1),t.abrupt("return");case 4:if(!Mi(o)){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,e.loadComponents();case 8:if(!e.destroyed){t.next=10;break}return t.abrupt("return");case 10:if(void 0===e.errorScreen&&(e.errorScreen=IT.initErrorScreen(Gk(Gk({},e.additionalParams),{},{element:e.container,getReportId:function(){return e.telemetry.generateReportId()}})),e.once(PT.Destroy,(function(){return e.errorScreen.destroy()}))),void 0!==(o=void 0===e.store?o:e.store.getState().error)){t.next=14;break}return t.abrupt("return");case 14:null===(n=e.postMessenger)||void 0===n||n.sendCommand(bL.setPictureInPicture,!1),e.errorScreen.showErrorMessage(o.messageDetails||bt(o));case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"addRequiredFieldsToAdditionalParams",value:function(e){return Gk(Gk({},e),{},{vsid:this.additionalParams.vsid,from:e.from||this.additionalParams.from,puid:e.puid||this.additionalParams.puid,folder_id:e.folder_id||this.additionalParams.folder_id})}},{key:"waitForSetSourceComplete",value:function(){var e=this;return new zU((function(t,r){var n=e.sourceIdSignal.addOne((function(){e.setSourceStage=qP.READY,t(),a()})),o=function(t){var n=t.error;n&&n.isFatal&&(e.setSourceStage=qP.ERROR,r(n),a())},i=function(){r({message:"CANCELED",isFatal:!1}),a()},a=function(){n(),e.off(PT.ErrorChange,o),e.off(PT.SourceChange,i)};e.on(PT.ErrorChange,o),e.once(PT.SourceChange,i)}))}},{key:"createInternalContainer",value:function(e){var t=e.ownerDocument.createElement("div");return qe(t,{width:"100%",height:"100%"}),Je(e,t),t}},{key:"prepareContainerNode",value:function(){var e=ze(this.container,Ke(this.container)).position;qe(this.container,{position:e&&"static"!==e?e:"relative"})}},{key:"createPlayerNode",value:function(){var e=this.container.ownerDocument.createElement("div");return qe(e,{width:"100%",height:"100%",position:"absolute",top:"0",left:"0"}),e}},{key:"initPlayerStore",value:function(e){var t=this,r=e.config,n=e.vsid;return new xI(Gk(Gk({},QP),{},{volume:r.streamPlayerParams.volume,muted:r.streamPlayerParams.muted,vsid:n}),(function(e,r){return t.on(e,r)}))}},{key:"initPostMessenger",value:function(){var e=this,t=new TL({id:this.getState().vsid,receiver:AL,sender:_L});return t.on("Event",(function(t){var r,n;if("onInitError"===t.eventName)return e.emitError(new cT(t.data)),void(t.data.code===p_.PLAYER_CONTAINER_NOT_FOUND&&e.destroyInternal(GP.PlayerContainerNotFound));if(!e.isReady&&"onReady"!==t.eventName)return e.debug.logInternals&&console.warn("// not ready",t.eventName,t.data),void e.readyPendingEvents.push(t);var o=t.sourceId;e.sourceIdSignal.dispatch(o);var i=function(e){return ij[e]}(t.eventName),a=function(e){var t=e.eventName,r=e.data;if("onError"!==t)return!1;try{return!!(r=r).isFatal&&("string"===typeof r.details?JSON.parse(r.details).stage===IP.SET_SOURCE:r.details.stage===IP.SET_SOURCE)}catch(hG){return!1}}(t);if(e.setSourceStage!==qP.LOADING||!i||a)if(e.setSourceStage===qP.READY&&i&&o<e.sourceIdSignal.getValue())e.debug.logInternals&&console.warn("// skip public and internal ".concat(t.eventName," because of old source"),t.eventName,t.data);else switch(t.eventName){case"onInit":break;case"onVideoTypeChange":e.emit(PT.VideoTypeChange,{videoType:t.data});break;case"onStateChange":var u=t.data,c=u.playingState,s=u.reason;e.getState().playingState!==c&&(e.emit(PT.PlayingStateChange,{playingState:c,playingStateReason:s}),e.telemetry.writePlayerAliveStateManually());break;case"onExpectedStalledChange":e.telemetry.onExpectedBuffering(t.data);break;case"onAdStateChange":var l=t.data,f=l.nextAdState,d=l.prevAdState;e.emit(PT.AdStateChange,{adState:f}),d.state===jP.NOT_PLAYING&&f.state===jP.PLAYING&&e.telemetry.onAdStart({adType:f.type}),d.state===jP.PLAYING&&f.state===jP.NOT_PLAYING&&e.telemetry.onAdEnd({adType:d.type});break;case"onBeforeAdPodStart":e.emit(PT.BeforeAdPodStart,t.data);break;case"onAdLoaded":e.playerTracker.onAdLoaded(t.data),e.emit(PT.AdLoaded,t.data);break;case"onAdError":e.playerTracker.onAdError(),e.emit(PT.AdError,t.data);break;case"onAdPodClick":e.playerTracker.onAdPodClick(),e.emit(PT.AdPodClick,{});break;case"onAdPodStart":var h=e.getState(),p=h.adState.type,v=h.source,y=(v=void 0===v?{}:v).params,m=(y=void 0===y?{}:y).adConfig,g=void 0===m?{}:m;void 0!==p&&e.emit(PT.AdPodStart,{type:p,adConfig:g});break;case"onAdPodSkip":e.emit(PT.AdPodSkip,{});break;case"onAdPodEnd":e.emit(PT.AdPodEnd,{}),e.telemetry.onAdBetween({adType:e.getState().adState.type});break;case"onAdSkippableStateChange":e.emit(PT.AdSkippableStateChange,{adSkippableState:t.data});break;case"onAdVolumeAvailabilityStateChange":e.emit(PT.AdVolumeAvailabilityStateChange,{adVolumeAvailabilityState:t.data});break;case"onAdPodCloseStateChange":e.emit(PT.AdPodCloseStateChange,{adPodCloseState:t.data});break;case"onAdPodDurationChange":e.emit(PT.AdPodDurationChange,{adPodDuration:t.data});break;case"onAdPodCurrentTimeChange":e.emit(PT.AdPodCurrentTimeChange,{adPodCurrentTime:t.data});break;case"onAdPodTimeToSkipChange":e.emit(PT.AdPodTimeToSkipChange,{adPodTimeToSkip:t.data});break;case"onAdInteraction":e.emit(PT.AdInteraction,void 0);break;case"onNextAdRemainingTimeChange":e.emit(PT.NextAdRemainingTimeChange,{nextAdRemainingTime:t.data});break;case"onTimelineInfoChange":var b=t.data,w=b.currentTime,S=b.duration,E=b.utcStartTime,O=b.dvrStartTime,k=b.dvrDuration;e.emit(PT.CurrentTimeChange,{currentTime:w}),e.emit(PT.DurationChange,{duration:S}),e.emit(PT.UtcStartTimeChange,{utcStartTime:E}),e.emit(PT.DVRStartTimeChange,{dvrStartTime:O}),e.emit(PT.DVRDurationChange,{dvrDuration:k}),e.emit(PT.PlaybackRateRangeChange,{playbackRateRange:ho({videoType:e.getState().videoType,currentTime:w,dvrStartTime:O,dvrDuration:k})});break;case"onPositionChange":var _=t.data,A=_.watchedTime,T=_.liveLatency;e.emit(PT.WatchedTimeChange,{watchedTime:A}),e.emit(PT.LiveLatencyChange,{liveLatency:T});break;case"onFullScreenChange":e.emit(PT.FullscreenStateChange,{isFullscreen:t.data});break;case"onRequestFullscreenChange":e.emit(PT.RequestFullscreenStateChange,{nextFullscreenState:t.data});break;case"onVolumeChange":e.emit(PT.MutedChange,{muted:t.data.muted}),e.emit(PT.VolumeChange,{volume:t.data.volume}),e.emit(PT.VolumeChangeReasonChange,{volumeChangeReason:t.data.changeReason});break;case"onReady":e.emit(PT.Ready,e);break;case"onError":e.emitError(new cT(t.data));break;case"onRecover":e.telemetry.logEvent({name:"RecoverStreamError",data:{details:t.data}}),e.telemetry.onRecover({recoverReason:t.data.reason}),e.emit(PT.RecoverStart,t.data);break;case"onVideoTrackChange":e.emit(PT.VideoTrackChange,{videoTrack:t.data});break;case"onVideoTracksChange":e.emit(PT.VideoTracksChange,{videoTracks:t.data});break;case"onAudioTrackChange":e.emit(PT.AudioTrackChange,{audioTrack:t.data});break;case"onAudioTracksChange":e.emit(PT.AudioTracksChange,{audioTracks:t.data});break;case"onTextTrackChange":e.emit(PT.TextTrackChange,{textTrack:t.data});break;case"onTextTracksChange":e.emit(PT.TextTracksChange,{textTracks:t.data});break;case"onSubtitlesChange":e.emit(PT.SubtitlesChange,{subtitles:t.data});break;case"onPlaybackRateChange":var P=e.getState().playbackRate;e.emit(PT.PlaybackRateChange,{playbackRate:t.data}),P!==t.data&&e.telemetry.writePlayerAliveStateManually();break;case"onBufferingRangesChange":e.emit(PT.BufferedRangesChange,{bufferedRanges:t.data});break;case"onThumbnailTileGeneralMetaInfoChange":e.emit(PT.TileMetaInfoChange,{tileMetaInfo:t.data});break;case"onOriginalBroadcastAdStateChange":var x=t.data,R=x.cueId,L=x.originalBroadcastAdDuration;e.logEventInternal(void 0===R?"OriginalBroadcastAdEnd":"OriginalBroadcastAdStart",{cueId:R,originalBroadcastAdDuration:L});break;case"onDrmSystemChange":e.telemetry.setStaticParams({drm:t.data}),e.emit(PT.DrmSystemChange,{drmSystem:t.data});break;case"onChangeStream":t.data&&e.telemetry.setStaticParams({streamUrl:t.data.url}),e.emit(PT.StreamChange,{stream:t.data}),e.emit(PT.TileMetaInfoUrlChange,{tileMetaInfoUrl:qi(t.data?t.data.url:void 0)});break;case"onStreamsWithSupportInfoChange":e.emit(PT.StreamsWithSupportInfoChange,t.data);break;case"onContentImpression":e.emit(PT.ContentImpression,t.data);break;case"onResourcesIdle":e.emit(PT.ResourcesIdle,{});break;case"onVisualStateChange":var j=e.getState(),I=j.isFullscreen,C=j.isPictureInPicture;I===t.data.isFullScreen&&C===t.data.isPip||e.telemetry.writePlayerAliveStateManually(),e.emit(PT.PictureInPictureStateChange,{isPictureInPicture:t.data.isPip}),e.emit(PT.VisibleStateChange,{isVisible:t.data.isVisible}),e.telemetry.setStaticParams({visualState:t.data}),e.savePlayerAliveData({containerWidth:t.data.width*devicePixelRatio,containerHeight:t.data.height*devicePixelRatio});break;case"onCapSizeChange":e.savePlayerAliveData({capWidth:null===(r=t.data)||void 0===r?void 0:r.width,capHeight:null===(n=t.data)||void 0===n?void 0:n.height});break;case"onPlaybackQualityUpdate":var D={droppedFrames:t.data.droppedVideoFrames,shownFrames:t.data.totalVideoFrames-t.data.droppedVideoFrames};e.savePlayerAliveData(D),e.invokeOrQueueDebugPanelCallback((function(){var t;return null===(t=e.debugPanel)||void 0===t?void 0:t.onFramesInfoChange(D)}));break;case"onEngineChange":e.telemetry.setStaticParams({engine:t.data}),e.invokeOrQueueDebugPanelCallback((function(){var r;return null===(r=e.debugPanel)||void 0===r?void 0:r.onEngineChange(t.data)}));break;case"onStartStageChange":e.emit(PT.StartStageChange,{startStage:t.data}),t.data!==tP.waitForDocumentVisibility&&t.data!==tP.waitForUserPlay||e.telemetry.stopInitBufferingTimer(),t.data!==tP.init&&t.data!==tP.starting||e.telemetry.onInitBuffering();break;case"onVideoSizeChange":e.emit(PT.VideoSizeChange,{videoSize:t.data});break;case"onBandwidthEstimateChange":var N=Math.round(t.data.value),F=t.data.source;e.savePlayerAliveData({bandwidthEstimate:N,bandwidthSource:F});var M=function(e){return e.value<=5e5?zR.SLOW:zR.OK}(t.data);e.getState().connectionQuality!==M&&e.emit(PT.ConnectionQualityChange,{connectionQuality:M}),e.invokeOrQueueDebugPanelCallback((function(){var r;return null===(r=e.debugPanel)||void 0===r?void 0:r.onBandwidthEstimateChange(t.data)}));break;case"onInrollFrame":e.emit(PT.InrollFrame,t.data);break;case"onLogEvent":e.telemetry.logEvent({name:t.data.event,data:t.data.params,labels:t.data.additionalStatsLabels},t.data.sourceIndex);break;case"onPreloadSourceResolve":case"onPreloadSourceReject":break;case"onFrameRendered":e.emit(PT.FrameRendered,{currentTime:t.data});break;case"onTargetLatencyChange":e.invokeOrQueueDebugPanelCallback((function(){var r;null===(r=e.debugPanel)||void 0===r||r.onTargetLatencyChange(t.data)}))}else e.debug.logInternals&&console.warn("// skip public and internal ".concat(t.eventName," because setSource is in progress"),t.eventName,t.data)})),t}},{key:"requestExternalCsrfToken",value:(s=Bk(Mk().mark((function e(){var t,r;return Mk().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.externalPlaybackCsrfToken){e.next=2;break}return e.abrupt("return",this.externalPlaybackCsrfToken);case 2:return e.prev=2,this.logEventInternal(LP.ExternalPlaybackPlayerCsrfFetching),e.next=6,vL();case 6:return t=e.sent,r=t.token,this.logEventInternal(LP.ExternalPlaybackPlayerCsrfFetchSuccess),this.updateExternalPlaybackCsrfToken(r),e.abrupt("return",r);case 13:return e.prev=13,e.t0=e.catch(2),this.logEventInternal(LP.ExternalPlaybackPlayerCsrfFetchError),e.abrupt("return","");case 17:case"end":return e.stop()}}),e,this,[[2,13]])}))),function(){return s.apply(this,arguments)})},{key:"updateExternalPlaybackCsrfToken",value:function(e){var t=this;this.externalPlaybackCsrfToken=e,void 0!==e&&(clearTimeout(this.externalPlaybackTokenExpireTimeout),this.externalPlaybackTokenExpireTimeout=window.setTimeout((function(){t.externalPlaybackCsrfToken=void 0,t.logEventInternal(LP.ExternalPlaybackCsrfTokenExpired)}),6e4))}},{key:"logEventInternal",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;this.telemetry.logEvent({name:e,data:t,extraRootFields:r})}},{key:"destroyStreamPlayer",value:(c=Bk(Mk().mark((function e(t){var r,n,o=this;return Mk().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isInitStreamPlayer){e.next=2;break}return e.abrupt("return");case 2:if(r=this.getState(),!(n=r.isFullscreen)){e.next=5;break}return e.abrupt("return",new zU((function(e){n&&(o.once(PT.FullscreenStateChange,(function(){o.destroyStreamPlayer(t).then(e)})),o.exitVideoElementFullscreen())})));case 5:return e.next=7,this.postMessenger.sendRequest(bL.destroy,{reason:t});case 7:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"subscribeExternalFullscreenChange",value:function(e){var t=this;this.once(PT.Destroy,function(e){var t=e.element,r=e.onChange,n=t.ownerDocument||window.document,o=!1;r(o);var i=uj.map((function(e){return o=o||Hi(n,t),(0,aj.O)(n,e.events.change,(function(){try{var e=Hi(n,t);if(e===o)return;r(e),o=e}catch(i){}}),{passive:!0})}));return function(){i.forEach((function(e){return e()}))}}({element:e,onChange:function(e){t.performOnInitStreamPlayer((function(){t.postMessenger.sendCommand(bL.setExternalVisualState,{isFullscreen:e})}))}}))}},{key:"initPlaybackTracking",value:function(){var e=this;this.on(PT.PlayingStateChange,(function(t){var r=t.playingState;return e.telemetry.setPlayingState(r)}))}},{key:"initPlayerTracker",value:function(){var e=this,t=new FR({vsid:this.getState().vsid,getAdState:function(){return e.getState().adState},getVideoTrack:function(){return e.getState().videoTrack},getAudioTrack:function(){return e.getState().audioTrack},getTextTrack:function(){return e.getState().textTrack},getVideoType:function(){return e.getState().videoType},getIsFullscreen:function(){return e.getState().isFullscreen},getDrmSystemName:function(){return e.getState().drmSystem},getIsDrmSupported:function(){var t;if(void 0!==(null===(t=e.getState().stream)||void 0===t?void 0:t.drmConfig))return void 0===e.getState().error},getMuted:function(){return e.getState().muted||0===e.getState().volume},getDuration:function(){return e.getState().duration||0},getPlayingState:function(){return e.getState().playingState},getCurrentTime:function(){return e.getState().currentTime},getWatchedTime:function(){return e.getState().watchedTime},getUtcPosition:function(){var t=e.getState(),r=t.utcStartTime,n=t.currentTime;return void 0===r?0:r+n}});return this.on(PT.Ready,t.onReady),this.on(PT.ErrorChange,(function(e){var r=e.error;void 0!==r&&t.onError(r)})),this.on(PT.CurrentTimeChange,(function(e){var r=e.currentTime;return t.onCurrentTimeChange(r)})),this.on(PT.WatchedTimeChange,(function(e){var r=e.watchedTime;return t.onWatchedTimeChange(r)})),this.on(PT.AdStateChange,(function(e){var r=e.adState;return t.onAdStateChange(r)})),this.on(PT.PlayingStateChange,(function(e){var r=e.playingState;return t.onStateChange(r)})),this.on(PT.AdPodStart,(function(){t.onAdPodStart()})),this.on(PT.AdPodEnd,(function(){t.onAdPodEnd()})),this.on(PT.AdPodSkip,(function(){t.onAdPodSkip()})),t}},{key:"invokeOrQueueDebugPanelCallback",value:function(e){this.debugPanel?e():this.onPanelInitCallbacks.push(e)}},{key:"initDebugPanel",value:function(){var e=this;this.once(PT.ResourcesIdle,Bk(Mk().mark((function t(){var r;return Mk().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadComponents();case 2:if(!e.destroyed){t.next=4;break}return t.abrupt("return");case 4:void 0===e.debugPanel&&(e.debugPanel=IT.initDebugPanel({container:e.container,getState:function(){return e.getState()},getSourceId:function(){return e.sourceIdSignal.getValue()},getAdditionalParams:function(){return e.additionalParams},options:{qr:!0}}),e.once(PT.Destroy,(function(){var t;return null===(t=e.debugPanel)||void 0===t?void 0:t.destroy()})),r=function(){var t;return null===(t=e.debugPanel)||void 0===t?void 0:t.update()},e.on(PT.CurrentTimeChange,r),e.on(PT.DurationChange,r),e.on(PT.WatchedTimeChange,r),e.on(PT.PlayingStateChange,r),e.on(PT.LiveLatencyChange,r),e.on(PT.VideoTypeChange,r),e.on(PT.SourceChange,r),e.on(PT.VideoTrackChange,r),e.on(PT.AudioTrackChange,r),e.on(PT.BufferedRangesChange,r),e.onPanelInitCallbacks.forEach((function(e){return e()})),e.onPanelInitCallbacks.length=0,e.debugPanel.setVisibility(e.debug.showDebugPanel));case 5:case"end":return t.stop()}}),t)}))))}},{key:"requestSourceConfigForRecover",value:function(e){var t=this;if(e.isFatal&&function(e){return!Mi(e)&&(e.category===C_.q.DRM?e.code===P_.DRM_PROXY_ERROR_SIGNATURE_EXPIRED:e.category===C_.q.REGIONAL||e.category===C_.q.ACCESS)}(e))return zU.resolve().then((function(){var e,r=null===(e=t.playerApiSourceConfig)||void 0===e?void 0:e.update();return vP(r)&&(t.emit(PT.PlayingStateChange,{playingState:YA.BUFFERING,playingStateReason:qA.WaitForSourceConfigUpdate}),r.catch((function(e){throw t.emit(PT.PlayingStateChange,{playingState:YA.PAUSE,playingStateReason:qA.Unknown}),e}))),r}))}},{key:"tryRecoverSourceConfigInAsyncMode",value:(u=Bk(Mk().mark((function e(t){var r,n,o=this;return Mk().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.requestSourceConfigForRecover(t);case 2:if(void 0!==(r=e.sent)){e.next=5;break}return e.abrupt("return",!1);case 5:if(void 0!==(n=function(){try{return wr(r,o.config,o.playerApiSourceConfig.source.sourceIndex)}catch(t){var e=cT.from(t,{code:p_.INVALID_CONFIG_IN_SOURCE_UPDATE,isFatal:!1});return void o.emitError(e)}}())){e.next=8;break}return e.abrupt("return",!1);case 8:return setTimeout((function(){o.logEventInternal("UpdateSourceConfig"),o.setSourceInternal(n,{shouldSaveProgress:!0})})),e.abrupt("return",!0);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"tryRecoverSourceConfigInSyncMode",value:function(e){var t=this,r=this.getSourceConfigForRecover(e);return!!r&&(setTimeout((function(){t.logEventInternal("UpdateSourceConfigSync"),t.setSourceInternal(r,{shouldSaveProgress:!0})})),!0)}},{key:"tryRecoverSourceConfig",value:(a=Bk(Mk().mark((function e(t){return Mk().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!this.tryRecoverSourceConfigInSyncMode(t)){e.next=3;break}return e.abrupt("return",!0);case 3:return e.next=5,this.tryRecoverSourceConfigInAsyncMode(t);case 5:if(!e.sent){e.next=7;break}return e.abrupt("return",!0);case 7:e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,this,[[0,9]])}))),function(e){return a.apply(this,arguments)})},{key:"emitError",value:(i=Bk(Mk().mark((function e(t,r){var n,o,i,a,u;return Mk().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isFatal&&t.category===C_.q.DRM&&!HI&&(t=new cT({code:SP?p_.IFRAME_DOES_NOT_ALLOW_DRM:p_.DRM_IS_NOT_ALLOWED,isFatal:!0,details:{originalCode:t.code,originalDetails:t.details,allowedFeaturePolicies:oc()}},this.additionalParams.vsid)),(t=new cT(Gk(Gk({},t.toJSON()),{},{isFatal:t.isFatal&&!this.destroyed&&$e(this.container)}),this.additionalParams.vsid)).isFatal&&this.emit(PT.PlayingStateChange,{playingState:YA.PAUSE,playingStateReason:qA.Unknown}),!t.isFatal||!Vi(t)){e.next=12;break}return n=Va(this.getState())?YA.PLAY:YA.PAUSE,o=function(e){var t=e.playingState;n=t},this.on(PT.RequestPlayingState,o),e.next=9,this.tryRecoverSourceConfig(t);case 9:i=e.sent,this.off(PT.RequestPlayingState,o),i&&(t=new cT(Gk(Gk({},t.toJSON()),{},{isFatal:!1})),Va({playingState:n})&&this.play(qA.CompletedRecoverSourceConfig));case 12:t.isFatal&&(null===(a=this.setSourceDeferred)||void 0===a||a.reject(new Error("SetSource rejected cause fatal error")),null!==(u=this.getState())&&void 0!==u&&u.error?t=new cT(Gk(Gk({},t.toJSON()),{},{isFatal:!1})):this.emit(PT.ErrorChange,{error:t})),this.telemetry.logError({error:t,extraRootFields:r});case 14:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"initPreloadSkin",value:function(e){var t=this;if(!1!==e.loadSkin&&this.getState().playingState!==YA.PLAY){var r=Bu({document:this.container.ownerDocument,poster:void 0,firstFrameHash:void 0,firstFrameUrl:void 0,style:void 0,hiddenControls:e.originalHiddenControls,primaryColor:e.primaryColor,backgroundColor:e.streamPlayerParams.backgroundColor,onReady:function(){t.emit(PT.PosterReady,{})}});return this.container.appendChild(r.element),this.once(PT.SkinReady,(function(){var e;(!t.vhHelper||null===(e=t.getState().error)||void 0===e||!e.isFatal)&&r.setVisibility(!1)})),this.once(PT.Destroy,(function(){return r.destroy()})),this.waitForPlay().then((function(){r.setVisibility(!1)})).catch(gT.Z),r}}},{key:"updateStateForSetSource",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.shouldSaveProgress,n=void 0!==r&&r;this.unsetFiltersForSourceRelatedEvents(),this.emit(PT.StreamChange,{stream:void 0}),this.emit(PT.SourceChange,{source:e}),this.emit(PT.StreamsWithSupportInfoChange,void 0),this.emit(PT.DrmSystemChange,{drmSystem:void 0}),this.emit(PT.VideoTrackChange,{videoTrack:void 0}),this.emit(PT.VideoTracksChange,{videoTracks:[]}),this.emit(PT.AudioTrackChange,{audioTrack:void 0}),this.emit(PT.AudioTracksChange,{audioTracks:[]}),this.emit(PT.TextTrackChange,{textTrack:void 0}),this.emit(PT.TextTracksChange,{textTracks:[]}),this.emit(PT.TileMetaInfoChange,{tileMetaInfo:void 0}),this.emit(PT.CurrentTimeChange,{currentTime:QP.currentTime}),this.emit(PT.DurationChange,{duration:QP.duration}),this.emit(PT.UtcStartTimeChange,{utcStartTime:QP.utcStartTime}),this.emit(PT.DVRStartTimeChange,{dvrStartTime:QP.dvrStartTime}),this.emit(PT.DVRDurationChange,{dvrDuration:QP.dvrDuration}),n||this.emit(PT.WatchedTimeChange,{watchedTime:QP.watchedTime}),this.emit(PT.VideoTypeChange,{videoType:QP.videoType}),this.emit(PT.AdStateChange,{adState:QP.adState}),this.setFiltersForSourceRelatedEvents()}},{key:"setFiltersForSourceRelatedEvents",value:function(){var e=this;this.setFilter(PT.CurrentTimeChange,(function(t){var r=t.currentTime;return!AP()(r,e.getState().currentTime)})),this.setFilter(PT.WatchedTimeChange,(function(t){var r=t.watchedTime;return!AP()(r,e.getState().watchedTime)})),this.setFilter(PT.DurationChange,(function(t){var r=t.duration;return!AP()(r,e.getState().duration)})),this.setFilter(PT.UtcStartTimeChange,(function(t){var r=t.utcStartTime;return!AP()(r,e.getState().utcStartTime)})),this.setFilter(PT.DVRStartTimeChange,(function(t){var r=t.dvrStartTime;return!AP()(r,e.getState().dvrStartTime)})),this.setFilter(PT.DVRDurationChange,(function(t){var r=t.dvrDuration;return!AP()(r,e.getState().dvrDuration)})),this.setFilter(PT.PlaybackRateRangeChange,(function(t){var r=t.playbackRateRange;return!AP()(r,e.getState().playbackRateRange)})),this.setFilter(PT.AdStateChange,(function(t){var r=t.adState;return!AP()(r,e.getState().adState)})),this.setFilter(PT.VolumeChange,(function(t){var r=t.volume;return!AP()(r,e.getState().volume)})),this.setFilter(PT.VideoTracksChange,(function(t){var r=t.videoTracks;return!(0===e.getState().videoTracks.length&&0===r.length)})),this.setFilter(PT.AudioTracksChange,(function(t){var r=t.audioTracks;return!(0===e.getState().audioTracks.length&&0===r.length)})),this.setFilter(PT.TextTracksChange,(function(t){var r=t.textTracks;return!(0===e.getState().textTracks.length&&0===r.length)}))}},{key:"unsetFiltersForSourceRelatedEvents",value:function(){this.unsetFilter(PT.CurrentTimeChange),this.unsetFilter(PT.WatchedTimeChange),this.unsetFilter(PT.DurationChange),this.unsetFilter(PT.UtcStartTimeChange),this.unsetFilter(PT.DVRStartTimeChange),this.unsetFilter(PT.DVRDurationChange),this.unsetFilter(PT.PlaybackRateRangeChange),this.unsetFilter(PT.VolumeChange),this.unsetFilter(PT.VideoTracksChange),this.unsetFilter(PT.AudioTracksChange),this.unsetFilter(PT.TextTracksChange)}},{key:"savePlayerAliveData",value:function(e){this.playerAliveData=Gk(Gk({},this.playerAliveData),e)}},{key:"resetPlayerAliveData",value:function(){this.playerAliveData={bandwidthEstimate:0,containerHeight:this.playerAliveData.containerHeight,containerWidth:this.playerAliveData.containerWidth}}},{key:"applySourceInfoToTelemetry",value:function(e){try{this.telemetry.setStaticParams(this.getTelemetryStaticParams(e)),this.telemetry.enableRemoteProgressSaving(Xu(e))}catch(pG){setTimeout((function(){throw pG}))}}},{key:"getTelemetryStaticParams",value:function(e){var t,r,n=e.source,o=n.params.additionalParams,i=o.puid,a=o.from;return{additionalParameters:rc(n.params.additionalParams),slots:(r=n.params.additionalParams,void 0===r?"":r.slots||""),testIds:kt(n.params.additionalParams),videoContentId:n.params.videoInfo.videoContentId,streamUrl:null===(t=n.streams[0])||void 0===t?void 0:t.url,labels:{from:a},engine:void 0,drm:void 0,puid:i}}},{key:"createSourceConfigForRecoverGetter",value:function(e){var t,r=this,n=e.source;return this.on(PT.SourceChange,(function(e){var t=e.source;n=t})),this.on(PT.StreamsWithSupportInfoChange,(function(e){t=e})),function(o){var i=void 0===t?void 0:HP(t);if(r.canRecoverBySourceUpdate(o,n,i)){var a=fP(n),u=i.map((function(e){return e.stream}));return a.streams=r.removeCurrentStream(u),Gk(Gk({},e),{},{source:a})}}}},{key:"canRecoverBySourceUpdate",value:function(e,t,r){if(!e.isFatal||!t||!r)return!1;var n=r.map((function(e){return e.stream})),o=this.removeCurrentStream(n);return 0!==o.length&&o.length!==t.streams.length}},{key:"removeCurrentStream",value:function(e){var t=this.getState().stream;return e.filter((function(e){return!AP()(e,t)}))}},{key:"waitForEvent",value:function(e){var t=this;return new zU((function(r){return t.once(e,r)}))}},{key:"initVhHelper",value:function(e){var t=this,r=e.contentId,n=e.poster,o=e.vhParams,i=e.queryParams,a=new nj({contentId:r,vhParams:o,queryParams:cc(Gk({},i),this.container),playerApi:this});return a.on("ShowAnnotation",function(){var e=Bk(Mk().mark((function e(r){var n,o,i;return Mk().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadComponents();case 2:null===(n=t.preloadSkin)||void 0===n||n.setSpinnerVisibility(!1),null===(o=t.preloadSkin)||void 0===o||o.setAnnotationText(IT.i18nTranslateSandbox(r)),null===(i=t.preloadSkin)||void 0===i||i.setVisibility(!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a.on("SetPoster",(function(e){var r,o;null===(r=t.preloadSkin)||void 0===r||r.setPoster(n||e||"","",""),null===(o=t.preloadSkin)||void 0===o||o.setVisibility(!0)})),a.on("Destroy",(function(){var e,r,n;null===(e=t.preloadSkin)||void 0===e||e.setVisibility(!1),null===(r=t.preloadSkin)||void 0===r||r.setSpinnerVisibility(!1),null===(n=t.preloadSkin)||void 0===n||n.setPoster("","","")})),a.on("SetSource",(function(){var e,r;null===(e=t.preloadSkin)||void 0===e||e.setAnnotationText(""),null===(r=t.preloadSkin)||void 0===r||r.setSpinnerVisibility(!0)})),a.on("Error",(function(e){var r;e.code===p_.REQUEST_SOURCE_ERROR&&(null===(r=t.preloadSkin)||void 0===r||r.setVisibility(!1)),t.emitError(e)})),a.on("UgcLiveStatusChange",(function(e){t.emit(PT.UgcLiveStatusChange,{ugcLiveStatus:e})})),a}},{key:"waitForPlay",value:function(){var e=this;return new zU((function(t,r){var n;e.once(PT.Destroy,r),null===(n=e.setSourceDeferred)||void 0===n||n.promise.catch(r);var o=function(){var t=e.getState();if(!t)return!1;var r=t.playingState,n=t.adState.state;return r===YA.PLAY||n===jP.PLAYING};if(o())t();else{var i=function r(){o()&&(t(),e.off(PT.PlayingStateChange,r),e.off(PT.AdStateChange,r))};e.on(PT.PlayingStateChange,i),e.on(PT.AdStateChange,i)}}))}},{key:"configureSkin",value:function(e,t){var r=this;if(void 0===this.config.loadSkin){var n=function(){r.skin&&(r.skin.configure(e),r.skin.updateExternalPlayerConfig(t))};this.skin?n():this.once(PT.SkinReady,(function(e){e.error||n()}))}}},{key:"initOnlyOnePlayingUnmutePlayerControl",value:function(){var e=this,t=this.getState().vsid,r=function(){sessionStorage.setItem("videoplayer-playing-vsid",t),dispatchEvent(new StorageEvent("storage",{key:"videoplayer-playing-vsid"}))};addEventListener("storage",(function(r){if("videoplayer-playing-vsid"===r.key){var n=sessionStorage.getItem("videoplayer-playing-vsid");if(n){var o=e.getState().muted;n===t||o||e.pause(qA.StartPlayingAnotherPlayer)}}})),this.on(PT.PlayingStateChange,(function(t){var n=t.playingState,o=e.getState().muted;n!==YA.PLAY||o||r()})),this.on(PT.MutedChange,(function(t){var n=t.muted;e.getState().playingState!==YA.PLAY||n||r()}))}}])&&Hk(r.prototype,n),o&&Hk(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(Vj),XU=function(e){var t,r=e.win,n=e.config.vasUaasConfig,o=e.moduleName,i=ED(n).version;return void 0===i?[]:[{src:xD({version:i,bundleName:o,win:r,ecmaVersion:null!==(t=iD.adsdkecmaver)&&void 0!==t?t:OD}),type:"script"}]};!function(e){e.PLAYER_API="player-api.js",e.PLAYER_API_MODERN="player-api.modern.js"}(VU||(VU={}));var eG,tG,rG=r(83361),nG=r(83361),oG=["setReadyInstance","setInstance"];!function(e){e.idle="idle",e.init="init",e.buffering="buffering",e.play="play",e.pause="pause",e.end="end",e.fatal="fatal",e.broken="broken",e.destroyed="destroyed",e.cancelled="cancelled",e.preparing="preparing",e.finished="finished"}(tG||(tG={}));var iG,aG={source:null,status:tG.idle,error:null,currentTime:null,duration:null,videoType:null,muted:!0,volume:0,utcStartTime:null};!function(e){e.SourceChange="SourceChange",e.StatusChange="StatusChange",e.ErrorChange="ErrorChange",e.CurrentTimeChange="CurrentTimeChange",e.DurationChange="DurationChange",e.UtcStartTimeChange="UtcStartTimeChange",e.VideoTypeChange="VideoTypeChange",e.MutedChange="MutedChange",e.VolumeChange="VolumeChange"}(iG||(iG={}));var uG=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),u_(this,"value",void 0),u_(this,"oldValue",void 0),u_(this,"ready",!0),this.value=t,this.oldValue=t}var t,r,n;return t=e,(r=[{key:"setValue",value:function(e){this.ready=!1,this.value=e}},{key:"getValue",value:function(){return this.ready?this.value:this.oldValue}},{key:"setReady",value:function(){this.ready=!0,this.oldValue=this.value}}])&&a_(t.prototype,r),n&&a_(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),cG=function(){function e(t,r){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.playerApi=t,s_(this,"lastStatus",aG.status),s_(this,"source",void 0),t.on(PT.SourceChange,(function(){var e,t,o;null===(e=n.source)||void 0===e||e.setReady(),r({name:iG.SourceChange,data:{source:null!==(t=null===(o=n.source)||void 0===o?void 0:o.getValue())&&void 0!==t?t:null}})})),t.on(PT.ErrorChange,(function(e){var t=e.error;r({name:iG.ErrorChange,data:{error:null!==t&&void 0!==t?t:null}})})),t.on(PT.CurrentTimeChange,(function(e){var t=e.currentTime;r({name:iG.CurrentTimeChange,data:{currentTime:i_(t)?t:null}})})),t.on(PT.DurationChange,(function(e){var t=e.duration;r({name:iG.DurationChange,data:{duration:i_(t)?t:null}})})),t.on(PT.UtcStartTimeChange,(function(e){var t=e.utcStartTime;r({name:iG.UtcStartTimeChange,data:{utcStartTime:i_(t)?t:null}})})),t.on(PT.VideoTypeChange,(function(e){var t=e.videoType;r({name:iG.VideoTypeChange,data:{videoType:null!==t&&void 0!==t?t:null}})})),t.on(PT.MutedChange,(function(e){var t=e.muted;r({name:iG.MutedChange,data:{muted:t}})})),t.on(PT.VolumeChange,(function(e){var t=e.volume;r({name:iG.VolumeChange,data:{volume:t||0}})})),[PT.Ready,PT.PlayingStateChange,PT.ErrorChange,PT.UgcLiveStatusChange,PT.StartStageChange].forEach((function(e){t.on(e,(function(){var e=n.getStatus();n.lastStatus!==e&&(n.lastStatus=e,r({name:iG.StatusChange,data:{status:e}}))}))}))}var t,r,n;return t=e,(r=[{key:"getState",value:function(){var e,t,r,n,o=this.playerApi.getState(),i=o||{},a=i.currentTime,u=i.duration,c=i.utcStartTime;return{source:(null===(e=this.source)||void 0===e?void 0:e.getValue())||null,status:this.getStatus(),error:null!==(t=null===o||void 0===o?void 0:o.error)&&void 0!==t?t:null,currentTime:i_(a)?a:null,duration:i_(u)?u:null,utcStartTime:i_(c)?c:null,videoType:null!==(r=null===o||void 0===o?void 0:o.videoType)&&void 0!==r?r:null,muted:null===(n=null===o||void 0===o?void 0:o.muted)||void 0===n||n,volume:(null===o||void 0===o?void 0:o.volume)||0}}},{key:"getStatus",value:function(){var e,t=this.playerApi.getState();if(void 0===t)return tG.idle;var r=t.startStage;if("init"===r||"broken"===r||"destroyed"===r)return tG[r];if(null!==(e=t.error)&&void 0!==e&&e.isFatal)return tG.fatal;var n=t.playingState;if("play"===n||"buffering"===n)return tG[n];var o=t.ugcLiveStatus;return"offline"===o||"ready"===o?tG.preparing:"cancelled"===o?tG.cancelled:tG[n]}},{key:"setSource",value:function(e){this.source?this.source.setValue(e):this.source=new uG(e)}}])&&c_(t.prototype,r),n&&c_(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),sG=function(){function e(t){var r,n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),h_(this,"playerApi",void 0),h_(this,"eventEmitter",new IR.v),h_(this,"store",void 0),this.playerApi=(r={element:t.element,source:{contentId:t.source,startPosition:t.startPosition},autoplay:t.autoplay,muted:t.muted,volume:t.volume,skinParams:{skinConfig:{hiddenControls:t.hiddenControls}}}).usePlayerApiMock?o_(r):He(r,(function(e){return new JU(e)})),this.store=new cG(this.playerApi,(function(e){var t=e.name,r=e.data;n.eventEmitter.emit(t,r)})),this.store.setSource(t.source)}var t,r,n;return t=e,(r=[{key:"play",value:function(){return this.playerApi.play()}},{key:"pause",value:function(){this.playerApi.pause()}},{key:"setSource",value:function(e){var t=(0,I_.H)(e)?e:e.source;this.store.setSource(t);var r=(0,I_.H)(e)?void 0:e.startPosition,n=(0,I_.H)(e)?void 0:e.autoplay;return this.playerApi.setSource({contentId:t,startPosition:r,queryParams:f_({},void 0===n?{}:{autoplay:Number(n)})})}},{key:"getState",value:function(){return void 0===this.playerApi.getState()?aG:this.store.getState()}},{key:"seek",value:function(e){this.playerApi.seek(e)}},{key:"setMuted",value:function(e){this.playerApi.setMuted(e)}},{key:"setVolume",value:function(e){this.playerApi.setVolume(e)}},{key:"destroy",value:function(){return this.playerApi.destroy()}},{key:"on",value:function(e,t){this.eventEmitter.on(e,t)}},{key:"once",value:function(e,t){this.eventEmitter.once(e,t)}},{key:"off",value:function(e,t){this.eventEmitter.off(e,t)}}])&&d_(t.prototype,r),n&&d_(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),lG=window;lG.Ya||(lG.Ya={}),lG.Ya.playerSdk||(lG.Ya.playerSdk={});var fG=window.Ya.playerSdk,dG=r(83361);fG.init=function(e){return new sG(e)},fG.preloadScripts=function(){return dG.resolve()}},5923:function(e,t,r){"use strict";r.d(t,{H:function(){return n.H}});var n=r(79128)},29694:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e,t){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var o=f(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return s(this,r)}}function s(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return l(e)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{H:function(){return m}});var h=r(40313),p={},v=function(){},y=function(e){function t(e){var n;if(o(this,t),d(l(n=r.call(this)),"aborted",void 0),d(l(n),"reason",void 0),d(l(n),"_onabort",v),e!==p)throw new TypeError("Illegal constructor.");return n.aborted=!1,n}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(t,e);var r=c(t);return a(t,[{key:"onabort",get:function(){return this._onabort},set:function(e){var t=this._onabort;t&&this.removeEventListener("abort",t),this._onabort=e,this.addEventListener("abort",e)}},{key:"throwIfAborted",value:function(){throw this.reason}}]),t}(h.Z),m=function(){function e(){o(this,e),d(this,"_signal",void 0),this._signal=new y(p)}return a(e,[{key:"signal",get:function(){return this._signal}},{key:"abort",value:function(e){var t=this.signal;t.aborted||(t.aborted=!0,t.reason=e,t.dispatchEvent(new Event("abort")))}}]),e}()},79128:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r.d(t,{H:function(){return u}});var o=r(21658),i=r(29694),a="object"===("undefined"===typeof self?"undefined":n(self))?self:window,u=Boolean((0,o.Y)((function(){return new a.AbortController})))?a.AbortController:i.H},84119:function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{f:function(){return d},I:function(){return p}});r(25443);var c=r(34204),s=r.n(c),l=r(99628),f=s().ru.yandex.videoplayer.multiplatform,d=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,"fetchers",[]),o(this,"activeSources",new Set),o(this,"defaultEstimate",{value:NaN,source:"default"}),o(this,"mpBandwidthEstimator",void 0),o(this,"handleFetcherProgress",(function(e){var t=e.time,n=e.size;r.mpBandwidthEstimator.sample(t,n)})),o(this,"destroy",(function(){r.fetchers.forEach((function(e){e.off("Progress",r.handleFetcherProgress)})),r.fetchers.length=0})),t&&(this.defaultEstimate.value=t),this.mpBandwidthEstimator=new f.estimate.BandwidthEstimator(this.defaultEstimate.value)}var t,r,i;return t=e,i=[{key:"obtain",value:function(t){return e.instance||(e.instance=new e(t)),e.instance}}],(r=[{key:"addActiveSource",value:function(e){this.activeSources.add(e)}},{key:"removeActiveSource",value:function(e){this.activeSources.delete(e)}},{key:"getActiveSourcesCount",value:function(){return this.activeSources.size}},{key:"getBandwidthEstimate",value:function(){if((0,l.RW)("yasp_fair_bandwidth")){var e=this.getActiveSourcesCount();return{value:this.mpBandwidthEstimator.getBandwidthEstimate()/Math.max(e,1),source:this.mpBandwidthEstimator.hasGoodEstimate()?"ewma":this.defaultEstimate.source}}return{value:this.mpBandwidthEstimator.getBandwidthEstimate(),source:this.mpBandwidthEstimator.hasGoodEstimate()?"ewma":this.defaultEstimate.source}}},{key:"appendFetcher",value:function(e){e.on("Progress",this.handleFetcherProgress),this.fetchers.push(e)}},{key:"removeFetcher",value:function(e){e.off("Progress",this.handleFetcherProgress);for(var t=0;t<this.fetchers.length;t++)this.fetchers[t]===e&&(this.fetchers.splice(t,1),t--)}},{key:"setDefaultEstimate",value:function(e){this.defaultEstimate=e,this.mpBandwidthEstimator.setDefaultEstimate(e.value)}},{key:"getDebugInfo",value:function(){var e=this.getBandwidthEstimate();return{fetchersCount:this.fetchers.length,defaultEstimate:this.defaultEstimate,estimate:e.value,source:e.source}}}])&&n(t.prototype,r),i&&n(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();o(d,"instance",void 0);var h=s().ru.yandex.videoplayer.multiplatform,p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];i(this,e),u(this,"mpEwmaBandwidthEstimator",void 0),this.mpEwmaBandwidthEstimator=new h.estimate.EwmaBandwidthEstimatorV2(NaN,t)}var t,r,n;return t=e,(r=[{key:"sample",value:function(e,t,r,n){this.mpEwmaBandwidthEstimator.sample(e,t,r,n)}},{key:"getBandwidthEstimate",value:function(e){return this.hasGoodEstimate()?(this.mpEwmaBandwidthEstimator.setDefaultEstimate(e.value),{value:this.mpEwmaBandwidthEstimator.getBandwidthEstimate(),source:"ewma"}):e}},{key:"hasGoodEstimate",value:function(){return this.mpEwmaBandwidthEstimator.hasGoodEstimate()}}])&&a(t.prototype,r),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()},16258:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=s(e);if(t){var o=s(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r.d(t,{M:function(){return l}});var l=function(e){function t(){return o(this,t),s.apply(this,arguments)}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(t,e);var r,n,c,s=u(t);return r=t,(n=[{key:"destroy",value:function(){var e=this;this.emit("Destroy"),this.off("Destroy"),Object.keys(this.handlers).forEach((function(t){e.off(t)})),Object.keys(this.onceHandlers).forEach((function(t){e.off(t)}))}}])&&i(r.prototype,n),c&&i(r,c),Object.defineProperty(r,"prototype",{writable:!1}),t}(r(42630).v)},42630:function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{v:function(){return i}});var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,"handlers",Object.create(null)),o(this,"onceHandlers",Object.create(null)),o(this,"maxEventListeners",10)}var t,r,i;return t=e,(r=[{key:"setMaxListeners",value:function(e){!isFinite(e)||e<=0||(this.maxEventListeners=e)}},{key:"on",value:function(e,t){this.getHandlers(e).push(t),this.checkSubscriptions(e)}},{key:"once",value:function(e,t){this.getOnceHandlers(e).push(t),this.checkSubscriptions(e)}},{key:"off",value:function(e,t){var r=this.getHandlers(e),n=this.getOnceHandlers(e);if(void 0===t)return r.length=0,void(n.length=0);this.removeHandler(t,r),this.removeHandler(t,n)}},{key:"emit",value:function(e,t){var r=this.getHandlers(e),n=this.getOnceHandlers(e).slice();this.getOnceHandlers(e).length=0,r.slice().concat(n).forEach((function(e){try{e(t)}catch(r){setTimeout((function(){throw r}),0)}}))}},{key:"getHandlers",value:function(e){return void 0===this.handlers[e]&&(this.handlers[e]=[]),this.handlers[e]}},{key:"getOnceHandlers",value:function(e){return void 0===this.onceHandlers[e]&&(this.onceHandlers[e]=[]),this.onceHandlers[e]}},{key:"checkSubscriptions",value:function(e){var t=this.getHandlers(e).length+this.getOnceHandlers(e).length;t>this.maxEventListeners&&console.warn("There are ".concat(t," subscriptions on event named ").concat(String(e)))}},{key:"removeHandler",value:function(e,t){var r=t.indexOf(e);-1!==r&&t.splice(r,1)}}])&&n(t.prototype,r),i&&n(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}()},99628:function(e,t,r){"use strict";r.d(t,{RW:function(){return n.RW},Vc:function(){return n.Vc},aY:function(){return n.aY},jS:function(){return n.jS},qm:function(){return n.qm},r0:function(){return n.r0},rg:function(){return n.rg}});var n=r(65875)},509:function(e,t,r){"use strict";function n(e){if(!l.flagsInited)try{l.flagsInited=!0,(0,i.H)();var t=(0,s.L)()||{},r=t.flags,n=t.slots,o=t.testids;if((0,u.K)(r)&&(0,c.Y)((function(){(0,a.M)(r,(function(e,t){l.flags[t]=String(e)}))})),l.slots=void 0!==n?String(n):void 0,l.testids=Array.isArray(o)?o.join(","):void 0!==o?String(o):void 0,!(0,u.K)(e)||!(0,u.K)(e.flags))return;(0,c.Y)((function(){(0,a.M)(e.flags,(function(e,t){l.flags[t]=String(e)}))}))}finally{Array.isArray(l.onFlagsInit)&&l.onFlagsInit.forEach((function(e){return(0,c.Y)(e)}))}}r.d(t,{V:function(){return n}});var o=r(56761),i=r(67782),a=r(78490),u=r(34129),c=r(21658),s=r(65153),l=(0,o.r)()},92071:function(e,t,r){"use strict";r.d(t,{s:function(){return n}});var n="__UAAS_CONFIG_INLINE__"},95328:function(e,t,r){"use strict";r.d(t,{T:function(){return n}});var n=!1},56761:function(e,t,r){"use strict";function n(){return c}function o(e){if(c.flagsInited)return(0,a.Y)(e);c.onFlagsInit||(c.onFlagsInit=[]),c.onFlagsInit.push(e)}r.d(t,{a:function(){return o},r:function(){return n}});var i=r(56559),a=r(21658),u=(0,i.I)();u.Ya||(u.Ya={}),u.Ya.streamPlayer||(u.Ya.streamPlayer={}),u.Ya.streamPlayer.exp||(u.Ya.streamPlayer.exp={});var c=u.Ya.streamPlayer.exp;c.flags||(c.flags={})},65153:function(e,t,r){"use strict";function n(){return(0,i.Y)((function(){var e=JSON.parse(a.s);return{flags:e.flags,testids:e.testids,slots:e.slots,vpuid:e.vpuid}}))||void 0}r.d(t,{L:function(){return u}});var o=r(80445),i=r(21658),a=r(92071),u=r(95328).T?n:(0,o.I)(n)},65875:function(e,t,r){"use strict";function n(){return l(),y.flags||{}}function o(e){var t=a(e);if("undefined"===typeof t){var r=v[e];if(p.T&&"undefined"===typeof r)throw new Error("Unexpected default value for string flag ".concat(e));return r}return t}function i(e){return"true"===e||"1"===e||"false"!==e&&"0"!==e&&void 0}function a(e){return l(e),y.flags[e]}function u(e){var t=i(a(e));if("undefined"===typeof t){var r=i(v[e]);if(p.T&&"undefined"===typeof r)throw new Error("Unexpected default value for boolean flag ".concat(e));return r}return t}function c(e){if("undefined"!==typeof e){var t=parseFloat(e);if((0,f.z)(t))return t}}function s(e){var t=c(a(e));if("undefined"===typeof t){var r=c(v[e]);if(p.T&&"undefined"===typeof r)throw new Error("Unexpected default value for numeric flag ".concat(e));return r}return t}function l(e){if(!y.flagsInited){var t=new Error(e?"Unexpected usage of player's flag ".concat(e," before any flag configuration"):"Unexpected usage of player's getFlagsJson before any flag configuration");setTimeout((function(){throw t}))}}r.d(t,{RW:function(){return u},Vc:function(){return d.V},aY:function(){return h.a},jS:function(){return s},qm:function(){return n},r0:function(){return o},rg:function(){return h.r}});var f=r(8450),d=r(509),h=r(56761),p=r(95328),v="undefined"!==typeof{disable_multiplatform_interval_task:"false",web_debug_log_calls:"false",web_debug_log_events:"false",web_debug_log_internals:"false",web_debug_panel:"false",web_destroy_yasp_only_with_no_instances:"true",web_disable_seeking_logging:"false",web_enable_telemetry_monotonic_timer:"false",web_ignore_render_stalled:"true",web_multiplatform_fpa_call_process_after_last_response_end:"false",web_multiplatform_fpa_process_interval:"100",web_preload_drm:"false",web_skin_new_sub_style:"true",web_skin_slash_in_timedisplay:"false",web_skin_timedisplay_left:"false",web_userquality_ttl:"false",web_yasp_buffer_goal_bytes_size:"0",web_yasp_enable_network_traces:"false",web_yasp_enable_worker:"true",web_yasp_remove_abortuseless_source:"false",web_yasp_static_timeout_for_low_latency:"true",web_yasp_target_latency_debug:"-1",web_yasp_time_to_start:"null",yasp_15_sec_live_offset:"false",yasp_abr_loading_segment:"false",yasp_body_timeout:"1000",yasp_enable_new_timeout:"false",yasp_fair_bandwidth:"false",yasp_headers_timeout:"5000",yasp_no_source_abort_on_fake_seek:"false",yasp_preload_content_5_sec_before_ad_end:"false",yasp_preload_content_5_sec_before_ad_skip:"false",yasp_videosegment_expected_load_time_multiplier:"1"}?{disable_multiplatform_interval_task:"false",web_debug_log_calls:"false",web_debug_log_events:"false",web_debug_log_internals:"false",web_debug_panel:"false",web_destroy_yasp_only_with_no_instances:"true",web_disable_seeking_logging:"false",web_enable_telemetry_monotonic_timer:"false",web_ignore_render_stalled:"true",web_multiplatform_fpa_call_process_after_last_response_end:"false",web_multiplatform_fpa_process_interval:"100",web_preload_drm:"false",web_skin_new_sub_style:"true",web_skin_slash_in_timedisplay:"false",web_skin_timedisplay_left:"false",web_userquality_ttl:"false",web_yasp_buffer_goal_bytes_size:"0",web_yasp_enable_network_traces:"false",web_yasp_enable_worker:"true",web_yasp_remove_abortuseless_source:"false",web_yasp_static_timeout_for_low_latency:"true",web_yasp_target_latency_debug:"-1",web_yasp_time_to_start:"null",yasp_15_sec_live_offset:"false",yasp_abr_loading_segment:"false",yasp_body_timeout:"1000",yasp_enable_new_timeout:"false",yasp_fair_bandwidth:"false",yasp_headers_timeout:"5000",yasp_no_source_abort_on_fake_seek:"false",yasp_preload_content_5_sec_before_ad_end:"false",yasp_preload_content_5_sec_before_ad_skip:"false",yasp_videosegment_expected_load_time_multiplier:"1"}:{},y=(0,h.r)()},67782:function(e,t,r){"use strict";function n(){var e,t=null===(e=(0,a.L)())||void 0===e?void 0:e.vpuid;if(t){var r=function(){try{var e;return null===(e=u.localStorage)||void 0===e?void 0:e.getItem(i.v)}catch(t){return null}}();if(!r||r!==t)try{var n;null===(n=u.localStorage)||void 0===n||n.setItem(i.v,String(t))}catch(o){}}}r.d(t,{H:function(){return n}});var o=r(56559),i=r(53605),a=r(65153),u=(0,o.I)()},56559:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return"object"===("undefined"===typeof self?"undefined":n(self))?self:"object"===("undefined"===typeof window?"undefined":n(window))?window:globalThis}r.d(t,{I:function(){return o}})},49257:function(e,t,r){"use strict";function n(e){return e&&"function"===typeof e.catch&&e.catch((function(e){})),e}r.d(t,{v:function(){return n}})},78486:function(e,t,r){"use strict";r.d(t,{M:function(){return n.M}});var n=r(36102)},83434:function(e,t,r){"use strict";r.d(t,{i:function(){return n}});var n=!(0,r(27794).t)(Math.random)||Math.random()===Math.random()},36102:function(e,t,r){"use strict";r.d(t,{M:function(){return i}});var n=r(83434),o=r(28751),i=n.i?o.U:function(){return Math.random()}},28751:function(e,t,r){"use strict";function n(){return((i=16807*i%2147483647)-1)/2147483646}r.d(t,{U:function(){return n}});var o=r(44540),i=(0,o.m6)()*(0,o.no)()%2147483647},57740:function(e,t,r){"use strict";r.d(t,{t:function(){return n.t}});var n=r(83243)},83243:function(e,t,r){"use strict";r.d(t,{t:function(){return o}});var n=r(80604),o={getItem:function(e){try{return n.ZP.getItem(e)}catch(t){return null}},setItem:function(e,t){try{n.ZP.setItem(e,t)}catch(r){}},removeItem:function(e){try{n.ZP.removeItem(e)}catch(t){}},clear:function(){try{n.ZP.clear()}catch(e){}}}},44540:function(e,t,r){"use strict";r.d(t,{e0:function(){return n.e0},m6:function(){return n.m6},no:function(){return n.no}});var n=r(19726)},83100:function(e,t,r){"use strict";r.d(t,{M:function(){return i}});var n={}.toString,o=/\[object (\w+)\]/,i=function(e){var t=n.call(e);if(!t)return null;var r=t.match(o);if(!r)return null;var i=r[1];return i||null}},19726:function(e,t,r){"use strict";function n(e){return"function"===typeof e||"Function"===(0,o.M)(e)}r.d(t,{e0:function(){return s},m6:function(){return i},no:function(){return f}});r(25443);var o=r(83100),i=Date&&n(Date.now)?function(){return Date.now()}:function(){return(new Date).getTime()},a="undefined"===typeof window?void 0:window.performance,u=a&&n(a.now),c=a&&a.timing&&a.timing.navigationStart,s=a&&a.timeOrigin?a.timeOrigin:c?a.timing.navigationStart:i(),l=0,f=function(){return u?a.now():(e=i()-s,l=Math.max(e,l));var e}},21658:function(e,t,r){"use strict";function n(e,t){try{return e()}catch(r){"function"===typeof t&&t(r)}}r.d(t,{Y:function(){return n}})},92627:function(e,t,r){"use strict";r.d(t,{h:function(){return n}});var n=function(e,t,r){for(var n=[],o=0;o<e.length;o++){var i=e[o];t.call(r,i,o,e)&&n.push(i)}return n}},69864:function(e,t,r){"use strict";r.d(t,{s:function(){return i}});var n=r(27794),o=[].find,i=(0,n.t)(o)?function(e,t){return o.call(e,t)}:function(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(t(n,r,e))return n}}},61112:function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e){return n((0,a.h)(e,(function(e){return void 0!==e})),1)[0]}r.d(t,{d:function(){return i}});var a=r(92627)},64059:function(e,t,r){"use strict";r.d(t,{k:function(){return i}});var n=r(19526),o=(0,r(36974).C)(Array,"isArray"),i=o?function(e){return o.call(Array,e)}:function(e){return"Array"===(0,n.M)(e)}},7889:function(e,t,r){"use strict";function n(){}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{B:function(){return c}});var u=r(83361),c=i((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"resolve",void 0),a(this,"reject",void 0),a(this,"promise",void 0);var t=n,r=n;this.promise=new u((function(e,n){t=e,r=n})),this.resolve=t,this.reject=r}))},80445:function(e,t,r){"use strict";function n(e){var t=function(){var r;return t=function(){return r},r=e.apply(this,arguments)};return function(){return t.apply(this,arguments)}}r.d(t,{I:function(){return n}})},8450:function(e,t,r){"use strict";function n(e){return"number"===typeof e&&isFinite(e)}r.d(t,{z:function(){return n}})},78490:function(e,t,r){"use strict";function n(e,t,r){for(var n in e)(0,o.n)(e,n)&&t.call(r,e[n],n,e)}r.d(t,{M:function(){return n}});var o=r(71920)},89273:function(e,t,r){"use strict";function n(e){return"function"===typeof Object.entries?Object.entries(e):(0,o.Z)(e).map((function(t){return[t,e[t]]}))}r.d(t,{J:function(){return n}});var o=r(48448)},48448:function(e,t,r){"use strict";function n(e){if("function"===typeof Object.keys)return Object.keys(e);var t=[];for(var r in e)(0,o.n)(e,r)&&t.push(r);return t}r.d(t,{Z:function(){return n}});var o=r(71920)},86589:function(e,t,r){"use strict";function n(e){var t=Object.values;if("function"===typeof t)return t(e);var r=[];for(var n in e)(0,o.n)(e,n)&&r.push(e[n]);return r}r.d(t,{z:function(){return n}});var o=r(71920)},71920:function(e,t,r){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}r.d(t,{n:function(){return n}})},34129:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){var t=n(e);return Boolean(e)&&("object"===t||"function"===t)}r.d(t,{K:function(){return o}})},66696:function(e,t,r){"use strict";function n(e){return"string"===typeof e}r.d(t,{H:function(){return n}})},19526:function(e,t,r){"use strict";r.d(t,{M:function(){return i}});var n={}.toString,o=/\[object (\w+)\]/,i=function(e){var t=n.call(e);if(!t)return null;var r=t.match(o);if(!r)return null;var i=r[1];return i||null}},36974:function(e,t,r){"use strict";function n(e,t){var r=e[t];if(!(0,o.t)(r)){var n=r;try{delete e[t];var i=e[t];"function"===typeof i&&(r=i),e[t]=n}catch(a){}}return r}r.d(t,{C:function(){return n}});var o=r(27794)},24611:function(e,t,r){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.no,t=e();return function(){return Math.max(0,e()-t)}}r.d(t,{u:function(){return n}});var o=r(44540);r(25443)},27794:function(e,t,r){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return!1;var r=t?Function.prototype.toString.call(e):e.toString?e.toString():"";return/\[native code\]/.test(r)||/\/\* source code not available \*\//.test(r)}r.d(t,{t:function(){return n}})},53605:function(e,t,r){"use strict";r.d(t,{v:function(){return n.v},z:function(){return n.z}});var n=r(37309)},54685:function(e,t,r){"use strict";r.d(t,{v:function(){return n}});var n="vpuid"},70849:function(e,t,r){"use strict";r.d(t,{j:function(){return n}});var n=10},72392:function(e,t,r){"use strict";r.d(t,{x:function(){return n}});var n="__VPUID_INLINE__"},20029:function(e,t,r){"use strict";function n(){for(var e=[],t=0;t<i.j;t++)e.push(a[Math.floor((0,o.M)()*a.length)]);return e.join("")}r.d(t,{L:function(){return n}});var o=r(78486),i=r(70849),a="qwertyuiopasdfghjklzxcvbnm0123456789"},12396:function(e,t,r){"use strict";function n(){return i.t.getItem(o.v)}r.d(t,{j:function(){return n}});var o=r(54685),i=r(57740)},37309:function(e,t,r){"use strict";r.d(t,{v:function(){return s.v},z:function(){return l}});var n,o=r(39862),i=r(72392),a=r(12396),u=r(20029),c=r(42348),s=r(54685),l=(0,o.M)()?i.x:null!==(n=(0,a.j)())&&void 0!==n?n:(0,u.L)();(0,c.i)(l)},39862:function(e,t,r){"use strict";function n(){return-1===o.x.indexOf("__VPUID")}r.d(t,{M:function(){return n}});var o=r(72392)},42348:function(e,t,r){"use strict";function n(e){i.t.setItem(o.v,e)}r.d(t,{i:function(){return n}});var o=r(54685),i=r(57740)},2428:function(e,t,r){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;try{var t=e.navigator||{};return t.userAgent||""}catch(r){return""}}r.d(t,{i:function(){return n}})},20809:function(e,t,r){"use strict";r.d(t,{N:function(){return i}});var n=r(7507),o=r.n(n),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=o()(e);return"boolean"===typeof t?-1:t}},36570:function(e,t,r){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=e.navigator.userAgent.toLowerCase();return/ipad|iphone|ipod/.test(t)&&!e.MSStream&&!o(e)}r.d(t,{P:function(){return n}});var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return e.navigator.userAgent.indexOf("UCBrowser")>-1}},6437:function(e,t,r){"use strict";r.d(t,{B:function(){return o}});var n=r(2428),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=(0,n.i)(e).toLowerCase();if(t.indexOf("android")>-1)return!1;var r=t.replace(/\(.+?\)/gi,"").split(" ").map((function(e){return e.trim().split("/")[0]})).filter((function(e){return e&&"mobile"!==e}));return 4===r.length&&"mozilla"===r[0]&&"applewebkit"===r[1]&&"version"===r[2]&&"safari"===r[3]}},15699:function(e,t,r){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return/Apple/.test(e.navigator.vendor)&&(0,i.b)(e)}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return(0,u.B)(e)||(0,a.P)(e)||n(e)}r.d(t,{z:function(){return o}});var i=r(20724),a=r(36570),u=r(6437)},44885:function(e,t,r){"use strict";r.d(t,{y:function(){return o}});var n=r(2428),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=(0,n.i)(e);return t.includes("Tizen")}},20724:function(e,t,r){"use strict";function n(e){var t=e.DocumentTouch;return Boolean(t)&&e.document instanceof t}function o(e){return"ontouchstart"in e}function i(e){return function(e){return Boolean(e.PointerEvent)}(e)&&function(e){var t=e.navigator||{},r=t.msMaxTouchPoints,n=t.maxTouchPoints;return r||n||0}(e)>0&&!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return(0,l.N)(e)>11}(e)}function a(e,t){if(!(0,d.m)(e.matchMedia))return!1;var r=e.matchMedia(t);return(0,h.K)(r)&&Boolean(r.matches)}function u(e){return a(e,p)}function c(e){return a(e,v)}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return i(e)||u(e)||c(e)||n(e)||o(e)}r.d(t,{b:function(){return s}});var l=r(20809),f=["","-webkit-","-ms-","-moz-","-o-"],d=r(69780),h=r(34129),p=f.map((function(e){return"(".concat(e,"any-pointer:coarse)")})).join(","),v=f.map((function(e){return"(".concat(e,"touch-enabled)")})).join(",")},85348:function(e,t,r){"use strict";r.d(t,{F:function(){return o}});var n=r(2428),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=(0,n.i)(e);return t.includes("VIDAA")||t.includes("Hisense")}},12917:function(e,t,r){"use strict";r.d(t,{V:function(){return o}});var n=r(2428),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=(0,n.i)(e);return t.includes("Web0S")}},31969:function(e,t,r){"use strict";var n;r.d(t,{D:function(){return n}}),function(e){e.LIVE="LIVE",e.EVENT="EVENT",e.VOD="VOD"}(n||(n={}))},62058:function(e,t,r){"use strict";r.d(t,{j:function(){return n}});var n=new RegExp("^https?:\\/\\/([^\\/]+\\.)?"+"(".concat(["video\\.cloud\\.yandex\\.net"],")")+"\\/(?!log|perf|jstracer)")},7312:function(e,t,r){"use strict";function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e){var t,r,n,o;return null!==(t=null===(r=e.performance)||void 0===r?void 0:r.timeOrigin)&&void 0!==t?t:null===(n=e.performance)||void 0===n||null===(o=n.timing)||void 0===o?void 0:o.navigationStart}r.d(t,{$:function(){return d}});r(25443);var c=r(26174),s=r(41682),l=r(62058),f=r(44540),d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t,a(this,"intervalId",void 0),a(this,"contexts",[])}var t,r,o;return t=e,(r=[{key:"attach",value:function(e){var t=this;(0,s.B)(e)&&-1===this.contexts.indexOf(e)&&(0===this.contexts.length&&(this.intervalId=setInterval((function(){return t.flush()}),3e4)),this.contexts.push(e))}},{key:"detach",value:function(e){var t=this.contexts.indexOf(e);-1!==t&&this.contexts.splice(t,1),0===this.contexts.length&&clearInterval(this.intervalId)}},{key:"destroy",value:function(){this.flush(),this.contexts.length=0,clearInterval(this.intervalId)}},{key:"flush",value:function(){var e=[],t=this.contexts.map(u),r=Math.min.apply(Math,n(t));this.contexts.forEach((function(n,o){(function(e){try{var t,r,n=null!==(t=e.performance.getEntriesByType)&&void 0!==t?t:e.performance.webkitGetEntriesByType,o=null!==(r=e.performance.clearResourceTimings)&&void 0!==r?r:e.performance.webkitClearResourceTimings,i=n.call(e.performance,"resource");return o.call(e.performance),i}catch(a){return[]}})(n).forEach((function(n){l.j.test(n.name)&&e.push((0,c.I)(n,t[o],r))}))})),0!==e.length&&this.config.sendLog(e,{perfnow:String((0,f.m6)()),navstart:String(r)})}}])&&i(t.prototype,r),o&&i(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}()},41682:function(e,t,r){"use strict";function n(e){return e.performance&&((0,o.m)(e.performance.getEntriesByType)||(0,o.m)(e.performance.webkitGetEntriesByType))&&((0,o.m)(e.performance.clearResourceTimings)||(0,o.m)(e.performance.webkitClearResourceTimings))}r.d(t,{B:function(){return n}});var o=r(93671)},26174:function(e,t,r){"use strict";function n(e,t,r){return e&&"number"===typeof e?e+t-r:e}function o(e,t,r){var o=e.duration,i=e.entryType,a=e.name,u=e.startTime,c=e.connectEnd,s=e.connectStart,l=e.decodedBodySize,f=e.domainLookupEnd,d=e.domainLookupStart,h=e.encodedBodySize,p=e.fetchStart,v=e.initiatorType,y=e.nextHopProtocol,m=e.redirectEnd,g=e.redirectStart,b=e.requestStart,w=e.responseEnd,S=e.responseStart,E=e.secureConnectionStart,O=e.transferSize,k=e.workerStart,_=e.serverTiming,A=e.responseStatus,T=e.deliveryType,P=e.renderBlockingStatus,x=e.firstInterimResponseStart;return{duration:o,entryType:i,name:a,encodedBodySize:h,decodedBodySize:l,initiatorType:v,transferSize:O,nextHopProtocol:y,serverTiming:_,responseStatus:A,deliveryType:T,renderBlockingStatus:P,startTime:n(u,t,r),connectEnd:n(c,t,r),connectStart:n(s,t,r),domainLookupEnd:n(f,t,r),domainLookupStart:n(d,t,r),fetchStart:n(p,t,r),redirectEnd:n(m,t,r),redirectStart:n(g,t,r),requestStart:n(b,t,r),responseEnd:n(w,t,r),responseStart:n(S,t,r),secureConnectionStart:n(E,t,r),workerStart:n(k,t,r),firstInterimResponseStart:n(x,t,r)}}r.d(t,{I:function(){return o}})},63440:function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{p:function(){return u}});r(25443);var i=r(173),a=r(24611),u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,"lastUpdate",void 0),o(this,"watchedTime",0)}var t,r,u;return t=e,(r=[{key:"calc",value:function(e,t,r){if(void 0!==this.lastUpdate){var n=(e-this.lastUpdate.videoTime)/t,o=(0,i.G)(n,this.lastUpdate.getElapsedTime()/1e3);this.watchedTime=this.watchedTime+o}this.lastUpdate=r?{getElapsedTime:(0,a.u)(),videoTime:e}:void 0}},{key:"get",value:function(){return this.watchedTime}},{key:"restoreLastUpdate",value:function(){this.lastUpdate=void 0}}])&&n(t.prototype,r),u&&n(t,u),Object.defineProperty(t,"prototype",{writable:!1}),e}()},173:function(e,t,r){"use strict";function n(e,t){var r=e>=0&&e<=t+.5?e:t;return Math.max(0,r)}r.d(t,{G:function(){return n}});r(25443)},20348:function(e,t,r){"use strict";function n(e){for(var t="",r=0;r<e;r++)t+=(16*(0,o.M)()|0).toString(16);return t}r.d(t,{a:function(){return n}});var o=r(78486)},67176:function(e,t,r){"use strict";function n(e){if(e&&e.location){var t=e.location;return"function"===typeof t.toString?t.toString():t.href||""}return""}r.d(t,{b:function(){return n}})},93671:function(e,t,r){"use strict";function n(e){return"function"===typeof e||"Function"===(0,o.M)(e)}r.d(t,{m:function(){return n}});var o=r(19526)},20290:function(e,t,r){"use strict";function n(){}r.d(t,{Z:function(){return n}})},84780:function(e,t,r){"use strict";function n(e){setTimeout((function(){throw e}),0)}r.d(t,{L:function(){return n}})},78421:function(e,t,r){"use strict";r.d(t,{i:function(){return n}});"".concat("playerskin","-modern-bundle-forced-mode");var n="".concat("playerskin","-native-ui-mode")},41925:function(e,t,r){"use strict";r.d(t,{R:function(){return n}});r(25443);var n=function(e){return null===e?1/0:void 0===e?1280:e}},37070:function(e,t,r){"use strict";r.d(t,{V9:function(){return a},g2:function(){return u},hV:function(){return o},wS:function(){return i}});var n=r(12010),o="".concat(n.G,"-debug-logcalls"),i="".concat(n.G,"-debug-logevents"),a="".concat(n.G,"-debug-loginternals"),u="".concat(n.G,"-debug-panel")},12010:function(e,t,r){"use strict";r.d(t,{G:function(){return n}});var n="playerapi"},46596:function(e,t,r){"use strict";r.d(t,{X:function(){return o}});var n=r(12010),o="".concat(n.G,"-version")},81287:function(e,t,r){"use strict";r.d(t,{V9:function(){return o.V9},Xy:function(){return n.X},g2:function(){return o.g2},hV:function(){return o.hV},wS:function(){return o.wS}});var n=r(46596),o=r(37070)},32890:function(e,t,r){"use strict";r.d(t,{g:function(){return n}});var n="source_index"},14538:function(e,t,r){"use strict";function n(e){function t(){if(0!==i.length){var e=i.slice();i.length=0,e.forEach((function(e){var t=e.task,o=e.onPromiseReject;if(u)o(n);else try{t(r)}catch(i){}})),i.length>0&&t()}}var r,n,i=[],a=!1,u=!1;return e.then((function(e){r=e,a=!0,t()})),e.catch((function(e){n=e,u=!0,t()})),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.Z;if(u)t(n);else if(!a||i.length>0)i.push({task:e,onPromiseReject:t});else try{e(r)}catch(c){}}}r.d(t,{P:function(){return n}});var o=r(69497)},15168:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return u(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){var t="function"===typeof Map?new Map:void 0;return(c=function(e){function r(){return s(e,arguments,d(this).constructor)}if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),f(r,e)})(e)}function s(e,t,r){return(s=l()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&f(o,r.prototype),o}).apply(null,arguments)}function l(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function f(e,t){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e){var t=e.url,r=e.line,n=e.col,o=e.fileName,i=e.columnNumber,a=e.lineNumber;return"".concat(t||o||"?",":").concat(r||a||"?",":").concat(n||i||"?")}r.d(t,{s:function(){return b}});var v=r(14381),y=r(61112),m=r(49607),g=r(93559),b=function(e){function t(e){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t);var a="object"===n(e)?e:{message:String(e||m.J.message)};h(u(r=S.call(this)),"message",void 0),h(u(r),"code",void 0),h(u(r),"category",void 0),h(u(r),"isFatal",void 0),h(u(r),"details",void 0),h(u(r),"stack",void 0),h(u(r),"toString",void 0),h(u(r),"toJSON",void 0),g(u(r),t.prototype),r.message=o.message||a.message||m.J.message,r.code=o.code||a.code||a.id||m.J.code,r.category=o.category||a.category||m.J.category,r.isFatal=Boolean((0,y.d)([o.isFatal,a.isFatal,m.J.isFatal])),r.details=o.details||a.details||m.J.details,Object.defineProperty(u(r),"stack",{enumerable:!0});var c=o.stack||a.stack||p(a),s=c===m.J.stack?r.stack:c;if(s&&s!==m.J.stack)r.stack=s;else if(!r.stack)try{throw new Error(r.message)}catch(l){r.stack=s=l.stack||m.J.stack}return r.toString=function(){return(0,v.Y)(r.toJSON())||"{}"},r.toJSON=function(){return{message:r.message,code:r.code,isFatal:r.isFatal,details:r.details,category:r.category,stack:s}},r}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(t,e);var r,c,s,b,w,S=(r=t,c=l(),function(){var e,t=d(r);if(c){var n=d(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return a(this,e)});return s=t,b&&o(s.prototype,b),w&&o(s,w),Object.defineProperty(s,"prototype",{writable:!1}),s}(c(Error))},49607:function(e,t,r){"use strict";r.d(t,{J:function(){return n}});var n={message:"DEFAULT_ERROR_MESSAGE",code:0,details:"",stack:"?:?:?",isFatal:!0,category:"DEFAULT"}},95594:function(e,t,r){"use strict";function n(e){var t=e.map((function(e){return{start:e.start,end:e.end}})).sort((function(e,t){return e.start-t.start}));if(t.length<=1)return t;var r=[t[0]];return t.slice(1).forEach((function(e,t){var n=r[r.length-1];n.end<e.start?r.push(e):n.end<e.end&&(n.end=e.end)})),r}r.d(t,{l:function(){return n}})},17986:function(e,t,r){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=e.SourceBuffer||e.WebKitSourceBuffer;if(!t)return!1;var r=t.prototype&&(0,i.m)(t.prototype.appendBuffer)&&(0,i.m)(t.prototype.remove);return!r}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=e.MediaSource||e.WebKitMediaSource;return t&&(0,i.m)(t.isTypeSupported)&&!n(e)?t:void 0}r.d(t,{Q:function(){return o}});var i=r(69780)},36714:function(e,t,r){"use strict";r.d(t,{I:function(){return n}});var n=Number.EPSILON||Math.pow(2,-52)},6005:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,r,o){var u=function(e){var t=!1,r=!1,o=!1;return!0===e?t=!0:"object"===n(e)&&(t=Boolean(e.capture),r=Boolean(e.passive),o=Boolean(e.once)),{capture:t,passive:r,once:o}}(o),c=a.FF?u:u.capture,s=u.once&&!a.vE?function(e){l(),r.call(this,e)}:r,l=function(){(0,i.f)(e,t,s,c)};return(0,i.h)(e,t,s,c),l}r.d(t,{O:function(){return o}});var i=r(50066),a=r(85089)},50066:function(e,t,r){"use strict";r.d(t,{f:function(){return a},h:function(){return i}});var n=r(36974),o=r(69780),i=function(e,t,r){(0,o.m)(e.attachEvent)&&e.attachEvent("on"+t,r)},a=function(e,t,r){(0,o.m)(e.detachEvent)&&e.detachEvent("on"+t,r)};(0,n.C)(EventTarget.prototype,"addEventListener")&&(0,n.C)(EventTarget.prototype,"removeEventListener")&&(i=function(e,t,r,o){var i=e&&(0,n.C)(e,"addEventListener");i&&i.call(e,t,r,o)},a=function(e,t,r,o){var i=e&&(0,n.C)(e,"removeEventListener");i&&i.call(e,t,r,o)})},85089:function(e,t,r){"use strict";r.d(t,{FF:function(){return u},vE:function(){return i},wI:function(){return a}});var n=r(10525),o=r(50066),i=!1,a=!1,u=!1;try{if(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=e.Object;try{var r={};return t.defineProperty(r,"sentinel",{}),"sentinel"in r}catch(n){return!1}}()){var c=document.createElement("div"),s={};Object.defineProperty(s,"once",{get:function(){return i=!0}}),Object.defineProperty(s,"passive",{get:function(){return a=!0}}),Object.defineProperty(s,"capture",{get:function(){return u=!0}}),(0,o.h)(c,"click",n.Z,s)}}catch(l){}},83237:function(e,t,r){"use strict";function n(e){return e instanceof Error||"Error"===(0,o.M)(e)}r.d(t,{V:function(){return n}});var o=r(19526)},69780:function(e,t,r){"use strict";function n(e){return"function"===typeof e||"Function"===(0,o.M)(e)}r.d(t,{m:function(){return n}});var o=r(19526)},29015:function(e,t,r){"use strict";function n(e){if(!e)return[];for(var t=[],r=0;r<e.length;r++)t.push(e[r]);return t}r.d(t,{w:function(){return n}})},58828:function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e){var t=e.method,r=e.url,n=e.async,i=void 0===n||n,l=e.data,f=e.responseType,d=void 0===f?"text":f,h=e.onBeforeSend,p=void 0===h?c.Z:h,v=e.onRetry,y=void 0===v?c.Z:v,m=e.checkStatus,g=void 0===m?function(e){return 200===e}:m,b=e.headers,w=void 0===b?{}:b,S=e.xhrConstructor,E=void 0===S?XMLHttpRequest:S,O=e.retries,k=void 0===O?0:O,_=e.timeout,A=void 0===_?0:_,T=e.withCredentials,P=e.onAbort,x=e.onSetup;if(E){var R,L=e.onSuccess?(0,u.I)(e.onSuccess):c.Z,j=e.onError?(0,u.I)(e.onError):c.Z,I=!1,C=0,D=function(e){I=!0,D=c.Z,R=e,N(new Error("Abort request")),"function"===typeof P&&P(e)},N=function(t){if(F.onerror=null,F.onreadystatechange=null,C&&clearTimeout(C),C&&4!==F.readyState||I)try{F.abort()}catch(n){}if(!I)if(k>0){var r=y(t,F);if("boolean"!==typeof r||r||D(),I)return;a(o(o({},e),{},{onSetup:function(e){var t=e.abort;D=function(e){return t(e)},I&&t(R)},retries:k-1}))}else D=c.Z,j(t,F)},F=new E;try{F.open(t,r,i)}catch(M){return void N(M)}if(F.responseType=d,F.withCredentials=Boolean(T),(0,s.M)(w,(function(e,t){try{F.setRequestHeader(t,e)}catch(M){}})),A>0&&isFinite(A)&&(C=window.setTimeout((function(){N(new Error("Request timeout, ".concat(r)))}),A)),F.onerror=N,F.onreadystatechange=function(){if(4===F.readyState){var e=F.status;g(e)?(D=c.Z,clearTimeout(C),L(F)):N(new Error("Invalid request status ".concat(e,", ").concat(r)))}},("function"!==typeof x||(x({abort:function(e){return D(e)}}),!I))&&(p(F,e),!I))try{F.send(l)}catch(M){N(M)}}}r.d(t,{W:function(){return a}});var u=r(80445),c=r(10525),s=r(78490)},41224:function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e){return new c((function(t,r){(0,u.W)(o(o({},e),{},{onSuccess:t,onError:r}))}))}r.d(t,{W:function(){return a}});var u=r(58828),c=r(83361)},10525:function(e,t,r){"use strict";function n(){}r.d(t,{Z:function(){return n}})},71377:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,n,o){var a=t&&t.prototype instanceof i?t:i,u=Object.create(a.prototype),c=new p(o||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return y()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var c=f(u,n);if(c){if(c===k)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var s=r(e,t,n);if("normal"===s.type){if(o=n.done?"completed":"suspendedYield",s.arg===k)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o="completed",n.method="throw",n.arg=s.arg)}}}(e,n,c),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function i(){}function u(){}function c(){}function s(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function l(e,t){var o;this._invoke=function(i,a){function u(){return new t((function(o,u){!function o(i,a,u,c){var s=r(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==n(f)&&b.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,u,c)}),(function(e){o("throw",e,u,c)})):t.resolve(f).then((function(e){l.value=e,u(l)}),(function(e){return o("throw",e,u,c)}))}c(s.arg)}(i,a,o,u)}))}return o=o?o.then(u,u):u()}}function f(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,f(e,t),"throw"===t.method))return k;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return k}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,k;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,k):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,k)}function d(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function h(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function p(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(d,this),this.reset(!0)}function v(e){if(e){var t=e[S];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(b.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:y}}function y(){return{value:void 0,done:!0}}o=function(){return m};var m={},g=Object.prototype,b=g.hasOwnProperty,w="function"==typeof Symbol?Symbol:{},S=w.iterator||"@@iterator",E=w.asyncIterator||"@@asyncIterator",O=w.toStringTag||"@@toStringTag";try{e({},"")}catch(x){e=function(e,t,r){return e[t]=r}}m.wrap=t;var k={},_={};e(_,S,(function(){return this}));var A=Object.getPrototypeOf,T=A&&A(A(v([])));T&&T!==g&&b.call(T,S)&&(_=T);var P=c.prototype=i.prototype=Object.create(_);return u.prototype=c,e(P,"constructor",c),e(c,"constructor",u),u.displayName=e(c,O,"GeneratorFunction"),m.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===u||"GeneratorFunction"===(t.displayName||t.name))},m.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,e(t,O,"GeneratorFunction")),t.prototype=Object.create(P),t},m.awrap=function(e){return{__await:e}},s(l.prototype),e(l.prototype,E,(function(){return this})),m.AsyncIterator=l,m.async=function(e,r,n,o,i){void 0===i&&(i=a);var u=new l(t(e,r,n,o),i);return m.isGeneratorFunction(r)?u:u.next().then((function(e){return e.done?e.value:u.next()}))},s(P),e(P,O,"Generator"),e(P,S,(function(){return this})),e(P,"toString",(function(){return"[object Generator]"})),m.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},m.values=v,p.prototype={constructor:p,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(h),!e)for(var t in this)"t"===t.charAt(0)&&b.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=b.call(o,"catchLoc"),u=b.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&b.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,k):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),k},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),h(r),k}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;h(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:v(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),k}},m}function i(e,t,r,n,o,i,u){try{var c=e[i](u),s=c.value}catch(l){return void r(l)}c.done?t(s):a.resolve(s).then(n,o)}r.d(t,{_:function(){return u}});var a=r(83361),u=function(){var e,t=(e=o().mark((function e(t,r){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new a((function(e,o){r&&r.then(e,o),n=window.setTimeout(e,t)}));case 3:return e.prev=3,window.clearTimeout(n),e.finish(3);case 6:case"end":return e.stop()}}),e,null,[[0,,3,6]])})),function(){var t=this,r=arguments;return new a((function(n,o){function a(e){i(c,n,o,a,u,"next",e)}function u(e){i(c,n,o,a,u,"throw",e)}var c=e.apply(t,r);a(void 0)}))});return function(e,r){return t.apply(this,arguments)}}()},89225:function(e,t,r){"use strict";var n;r.d(t,{q:function(){return n}}),function(e){e.DEFAULT="DEFAULT",e.MEDIA="MEDIA",e.NETWORK_MEDIA="NETWORK_MEDIA",e.NETWORK_PLAYER="NETWORK_PLAYER",e.NETWORK_TIMEOUT="NETWORK_TIMEOUT",e.NO_CODECS="NO_CODECS",e.CANNOT_PLAY="CANNOT_PLAY",e.UNSUPPORTED_ENV="UNSUPPORTED_ENV",e.EXCEPTION="EXCEPTION",e.ADS="ADS",e.CONFIG="CONFIG",e.REGIONAL="REGIONAL",e.DRM="DRM",e.ACCESS="ACCESS",e.BANNED="BANNED"}(n||(n={}))},76741:function(e,t,r){"use strict";var n;r.d(t,{v:function(){return n}}),function(e){e[e.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",e[e.PARSE_ERROR=-32700]="PARSE_ERROR",e[e.INVALID_REQUEST=-32600]="INVALID_REQUEST",e[e.METHOD_NOT_FOUND=-32601]="METHOD_NOT_FOUND",e[e.INVALID_PARAMS=-32602]="INVALID_PARAMS",e[e.INTERNAL_ERROR=-32603]="INTERNAL_ERROR"}(n||(n={}))},11208:function(e,t,r){"use strict";function n(e,t){try{var r=e.localStorage.getItem(t);if(!r)return;return r}catch(n){return}}function o(e,t){try{var r=e.sessionStorage.getItem(t);if(!r)return;return r}catch(n){return}}function i(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,i=(0,a.b)(r),l=t((0,s.ce)(e,i));if(void 0!==l)return console&&(0,c.m)(console.warn)&&console.warn("using ".concat(e,"=").concat(l," from query")),l;var f=t(n(r,e));if(void 0!==f)return console&&(0,c.m)(console.warn)&&console.warn("using ".concat(e,"=").concat(f," from localStorage")),f;if(e===u.Xy){var d=t(o(r,e));if(void 0!==d)return d}}r.d(t,{O:function(){return i}});var a=r(67176),u=r(81287),c=r(69780),s=r(16566)},71416:function(e,t,r){"use strict";function n(e){return(0,o.H)(e.tagName)}r.d(t,{m:function(){return n}});var o=r(66696)},70619:function(e,t,r){"use strict";function n(e){return Object.prototype.toString.call(e)===o}r.d(t,{F:function(){return n},u:function(){return o}});var o="[object Window]"},14381:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return e+"/"+t}function i(e){if("string"===typeof e&&(e={message:e}),"object"===n(e)&&null!==e||(e={}),"function"===typeof e.toJSON)try{return{__stringifyError:e.toJSON()}}catch(r){}var t=e;return{__stringifyError:{name:t.name,message:t.message,stack:t.stack}}}function a(e,t,r,n){var i=c(e[t],o(r,t),n);return void 0===i?"null":i}function u(e){return JSON.stringify(e)}function c(e,t,r){switch(n(e)){case"boolean":return e?"true":"false";case"string":return u(e);case"undefined":return;case"bigint":return u(e.toString());case"function":var s="string"===typeof e.name&&e.name.length>0?" "+e.name:"";return u("[Function".concat(s,"]"));case"symbol":return u("[Symbol]");case"number":return isNaN(e)||!isFinite(e)?"null":String(e);case"object":if(null===e)return"null";if((0,d.F)(e))return u(d.u);if((0,f.m)(e))return u("[DOMNode ".concat(e.tagName,"]"));if((0,h.f)(e)){var l=e.constructor.name;return u("[".concat(l||"TypedArray","(").concat(e.byteLength||0,")]"))}var v=r.get(e);return void 0!==v?u("[Circular ".concat(v,"]")):(r.set(e,t),(0,p.k)(e)?function(e,t,r){if(0===e.length)return"[]";for(var n="["+a(e,0,t,r),o=1;o<e.length;o++)n+=","+a(e,o,t,r);return n+"]"}(e,t,r):function(e,t,r){if("function"===typeof e.toJSON){var n;try{n=e.toJSON()}catch(h){n=i(h)}return c(n,o(t,"toJSON"),r)}var a="{",s=!0;for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){var f=void 0;try{f=e[l]}catch(h){f=i(h)}var d=c(f,o(t,l),r);void 0!==d&&(s?s=!1:a+=",",a+=u(l)+":"+d)}return a+"}"}(e,t,r))}}function s(e){try{return c(e,"~",(t="undefined"!==typeof WeakMap?new WeakMap:void 0,r=[],{set:function(e,n){if(void 0!==t)try{t.set(e,n)}catch(o){r.push({path:n,value:e})}else r.push({path:n,value:e})},get:function(e){var n=(0,l.s)(r,(function(t){return t.value===e}));return void 0!==t&&void 0===n?t.get(e):n?n.path:void 0}}))}catch(n){return JSON.stringify(i(n))}var t,r}r.d(t,{Y:function(){return s}});var l=r(69864),f=r(71416),d=r(70619),h=r(39517),p=r(64059)},39517:function(e,t,r){"use strict";function n(e){return"undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&ArrayBuffer.isView(e)}r.d(t,{f:function(){return n}})},69497:function(e,t,r){"use strict";function n(){}r.d(t,{Z:function(){return n}})},48108:function(e,t,r){"use strict";function n(e,t){for(var r=new RegExp("[?&]".concat(e,"=*([^&#]*)"),"g"),n=null,o=null;o=r.exec(t);)n=o;return n&&"string"===typeof n[1]?decodeURIComponent(n[1]):void 0}r.d(t,{c:function(){return n}})},38378:function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e){var t=new g(e,location.origin),r=t.pathname||"";"/"!==r.charAt(0)&&(r="/".concat(r));var n=e.indexOf("?"),o=e.indexOf("#");return{originalPath:-1===n&&-1===o?e:-1===n?e.slice(0,o):-1===o?e.slice(0,n):e.slice(0,Math.min(n,o)),href:t.href,protocol:t.protocol,host:t.host,hostname:t.hostname,port:t.port,pathname:r,search:t.search,hash:t.hash}}function u(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t){var r=e.originalPath,n="/"===e.pathname&&"/"!==r[r.length-1];return"".concat(e.originalPath).concat(n?"/":"").concat(e.search).concat(e.hash)}var o="443"===e.port||"80"===e.port?e.hostname:e.host;return"".concat(e.protocol,"//").concat(o).concat(e.pathname).concat(e.search).concat(e.hash)}function c(e){try{return decodeURIComponent(e)}catch(t){return e}}function s(e){for(var t={},r=e.replace(/^[?#]+/,"").replace(/#.*$/,"").split("&"),n=0;n<r.length;n++){var o=r[n].indexOf("="),i=void 0,a=void 0;if(-1===o?(i=c(r[n]),a=""):(i=c(r[n].slice(0,o)),a=r[n].slice(o+1)),i){var u=Boolean(/(\[\])$/.exec(i));i=i.replace(/\[\]$/,""),u?void 0===t[i]?t[i]=[c(a)]:t[i]=[].concat(t[i],c(a)):t[i]=c(a)}}return t}function l(e,t){return t.map((function(t){return"".concat(e,"[]=").concat(encodeURIComponent(t))})).join("&")}function f(e){var t=[];for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];(0,y.k)(n)?t.push(l(r,n)):void 0!==n&&t.push("".concat(r,"=").concat(encodeURIComponent(n)))}return"?".concat(t.join("&"))}function d(e,t,r){if(void 0===r)return e;var n=a(e),i=s(n.search);return i[t]=r,u(o(o({},n),{},{search:f(i)}))}function h(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.override,i=void 0===n||n,c=r.saveOriginalPath,l=void 0!==c&&c,d=a(e),h=s(d.search);(0,m.M)(t,(function(e,t){(void 0===h[t]||i)&&(h[t]=e)}));var p=f(h);return u(o(o({},d),{},{search:p}),l)}function p(e){return a(e).pathname.split("/").pop()||""}function v(e){var t=p(e).split(".");return t.length>1?t.pop():""}r.d(t,{Ou:function(){return d},Sr:function(){return h},UO:function(){return p},dD:function(){return s},en:function(){return a},hA:function(){return u},lm:function(){return v}});var y=r(64059),m=r(78490),g=r(81917)},66958:function(e,t,r){"use strict";function n(e){return new RegExp("^(?:[a-z+]+:)?//","i").test(e.trim())}r.d(t,{s:function(){return n}})},16566:function(e,t,r){"use strict";r.d(t,{Ou:function(){return n.Ou},Sr:function(){return n.Sr},UO:function(){return n.UO},Yc:function(){return a.Yc},ce:function(){return i.c},dD:function(){return n.dD},en:function(){return n.en},hA:function(){return n.hA},lm:function(){return n.lm},pp:function(){return a.pp},sD:function(){return o.s},zP:function(){return a.zP}});var n=r(38378),o=r(66958),i=r(48108),a=r(97578)},97578:function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){return(((0,c.en)(e).hash||"").slice(1).split("&").map((function(e){return e.split("=")})).map((function(e){var t=n(e,2),r=t[0],o=t[1];return[r,void 0===o?"":o]})).find((function(e){return n(e,1)[0]===t}))||[])[1]}function a(e,t,r){if(void 0===t)return e;if(void 0===r)return e;var n="".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(r)),o=new s(e,location.origin);return o.hash=o.hash?"".concat(o.hash,"&").concat(n):"".concat(n),o.href}function u(e,t,r){return e=function(e,t){if(-1===e.indexOf("#"))return e;var r=new s(e,location.origin),n=function(e,t){return e.split("&").filter((function(e){return e!==t&&0!==e.indexOf(t+"=")})).join("&")}(r.hash.slice(1),t);return r.hash=n?"#".concat(n):"",r.href}(e,t),void 0===r?e:a(e,t,r)}r.d(t,{Yc:function(){return u},pp:function(){return i},zP:function(){return a}});var c=r(38378),s=r(81917)},69071:function(e,t,r){"use strict";function n(){function e(){return a.length<i}function t(){if(e()){var t=u.shift();t&&t()}}function r(e){function r(){a.splice(a.indexOf(n),1),t()}var n=e.then(r,r);return a.push(n),e}function n(t){return e()?r(t()):new o((function(e){u.push((function(){e(r(t()))}))}))}var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=[],u=[];return{waitAndLock:n,addLock:r,isFree:e}}r.d(t,{l:function(){return n}});var o=r(83361)},53396:function(e,t,r){"use strict";function n(e){for(var t=[],r=0;r<e.buffered.length;r++)try{t.push({start:e.buffered.start(r),end:e.buffered.end(r)})}catch(n){}return(0,o.l)(t)}r.d(t,{w:function(){return n}});var o=r(95594);r(25443)},82640:function(e,t,r){"use strict";r.d(t,{S:function(){return n},e:function(){return o}});r(25443);var n=1e6,o=1e5},89426:function(e,t,r){"use strict";r.d(t,{T:function(){return n}});r(25443);var n=360},9140:function(e,t,r){"use strict";function n(e){var t=new o(e);return t.searchParams.set(i,String(Date.now())),t.href}r.d(t,{c:function(){return n},j:function(){return i}});var o=r(81917),i="t"},2445:function(e,t,r){"use strict";function n(e,t,r){var n=e.videoWidth,o=e.videoHeight,i=r.width,a=r.height;if(!n||!o)return{width:i,height:a};switch(t){case"none":return{width:n,height:o};case"cover":var u=Math.floor(o*i/n);return u>=a?{width:i,height:u}:{height:a,width:Math.floor(n*a/o)};case"contain":case"scale-down":var c=Math.floor(o*i/n);return c<=a?{width:i,height:c}:{height:a,width:Math.floor(n*a/o)};case"fill":default:return{width:i,height:a}}}r.d(t,{k:function(){return n}});r(25443)},35318:function(e,t,r){"use strict";r.d(t,{k:function(){return i},nK:function(){return a}});var n=r(57740),o=r(99628),i={width:null,height:null,timestamp:null},a=function(){var e=n.t.getItem("videoplayer-user-quality-choice");if(!e)return i;try{var t=JSON.parse(e);return t?(0,o.RW)("web_userquality_ttl")&&(t.timestamp||(t.timestamp=Date.now()-2592e6+Math.round(6048e4*Math.random()),n.t.setItem("videoplayer-user-quality-choice",JSON.stringify(t))),t.timestamp+2592e6<Date.now())?i:t:i}catch(r){return i}}},55502:function(e,t,r){"use strict";r.d(t,{C:function(){return i},d4:function(){return n},e8:function(){return o}});r(25443);var n=8e3,o=1e4,i=1e4},47286:function(e,t,r){"use strict";r.d(t,{T:function(){return n}});var n=["strm.yandex.net","strm.yandex.ru","strm-ott.akamaized.net","media.strm.yandex.net","cdn.ngenix.net","streaming.tst.strm.yandex.net"]},88554:function(e,t,r){"use strict";r.d(t,{A:function(){return n}});var n="auto"},91595:function(e,t,r){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=e.navigator,r=t,n=r.connection,o=void 0===n?{}:n;return Boolean(o.saveData)}r.d(t,{R:function(){return n}})},3309:function(e,t,r){"use strict";r.d(t,{D:function(){return o},dn:function(){return c},h9:function(){return i},ly:function(){return n},oo:function(){return a},xE:function(){return u}});var n="com.widevine.alpha",o="com.apple.fairplay",i="com.apple.fps.1_0",a="com.apple.fps.2_0",u="com.microsoft.playready",c="org.w3.clearkey"},80726:function(e,t,r){"use strict";r.d(t,{Gd:function(){return n},Wq:function(){return i},hb:function(){return o}});var n="fs:",o="streams",i="drm_map.json"},18535:function(e,t,r){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.some((function(e){return e.keySystem===i.dn}));return a&&t}r.d(t,{b:function(){return n}});var o=r(15699),i=r(3309),a=(0,o.z)(self)},88218:function(e,t,r){"use strict";function n(e){try{return JSON.parse((new TextDecoder).decode(e)).keys.reduce((function(e,t){var r=t.key_id,n=t.key;return r&&n?(e[r]=n,e):e}),{})}catch(t){return null}}r.d(t,{N:function(){return n}})},56924:function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"===typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){e.children=[{tagName:"BaseURL",attributes:{},children:["".concat(C.Gd,"//").concat(C.hb,"/")]}].concat(o(e.children.filter((function(e){return"BaseURL"!==e.tagName}))));var r=e.children.find((function(e){return"Period"===e.tagName}));if(t.videoTrackId){var n=null===r||void 0===r?void 0:r.children.find((function(e){return"video/mp4"===e.attributes.mimeType}));n&&(n.children=n.children.filter((function(e){return"SupplementalProperty"===e.tagName||"ContentProtection"===e.tagName||e.attributes.id===t.videoTrackId})))}return t.audioLang&&r&&(r.children=r.children.filter((function(e){return"audio/mp4"!==e.attributes.mimeType||e.attributes.lang===t.audioLang}))),t.textTrack&&r&&(r.children=r.children.filter((function(e){var r;return"text/vtt"!==e.attributes.mimeType||e.attributes.lang===(null===t||void 0===t||null===(r=t.textTrack)||void 0===r?void 0:r.language)}))),e}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D,r=['<?xml version="1.0" encoding="UTF-8"?>'],o=function e(o){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(null!==o&&void 0!==o&&o.tagName){var a="".padStart(4*i,"    "),u=-1!==t.indexOf(o.tagName);a+="<".concat(o.tagName);var c=o.attributes&&Object.entries(o.attributes).map((function(e){var t=n(e,2),r=t[0],o=t[1];return" ".concat(r,'="').concat(o,'"')})).join("");if(c&&(a+="".concat(c)),u)return a+="/>",void r.push(a);a+=">",r.push(a),Array.isArray(o.children)&&1===o.children.length&&"string"===typeof o.children[0]?r.push("".padStart(4*(i+1),"    ")+o.children[0]):o.children.forEach((function(t){e(t,i+1)})),a="".padStart(4*i,"    "),a+="</".concat(o.tagName,">"),r.push(a)}};return o(e),r.push(""),r.join("\n")}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new d(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return v()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===O)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===O)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==s(f)&&g.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return O;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return O}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,O;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,O):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,O)}function l(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function f(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function d(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(l,this),this.reset(!0)}function p(e){if(e){var t=e[w];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(g.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:v}}function v(){return{value:void 0,done:!0}}h=function(){return y};var y={},m=Object.prototype,g=m.hasOwnProperty,b="function"==typeof Symbol?Symbol:{},w=b.iterator||"@@iterator",S=b.asyncIterator||"@@asyncIterator",E=b.toStringTag||"@@toStringTag";try{e({},"")}catch(P){e=function(e,t,r){return e[t]=r}}y.wrap=t;var O={},k={};e(k,w,(function(){return this}));var _=Object.getPrototypeOf,A=_&&_(_(p([])));A&&A!==m&&g.call(A,w)&&(k=A);var T=i.prototype=n.prototype=Object.create(k);return o.prototype=i,e(T,"constructor",i),e(i,"constructor",o),o.displayName=e(i,E,"GeneratorFunction"),y.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},y.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,E,"GeneratorFunction")),t.prototype=Object.create(T),t},y.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,S,(function(){return this})),y.AsyncIterator=u,y.async=function(e,r,n,o,i){void 0===i&&(i=M);var a=new u(t(e,r,n,o),i);return y.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(T),e(T,E,"Generator"),e(T,w,(function(){return this})),e(T,"toString",(function(){return"[object Generator]"})),y.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},y.values=p,d.prototype={constructor:d,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(f),!e)for(var t in this)"t"===t.charAt(0)&&g.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=g.call(o,"catchLoc"),u=g.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&g.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,O):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),O},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),f(r),O}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;f(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:p(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),O}},y}function p(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):M.resolve(c).then(n,o)}function v(e){return function(){var t=this,r=arguments;return new M((function(n,o){function i(e){p(u,n,o,i,a,"next",e)}function a(e){p(u,n,o,i,a,"throw",e)}var u=e.apply(t,r);i(void 0)}))}}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g(e){var t,r,n,o=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);o--;){if(r&&null!=(t=e[r]))return t.call(e);if(n&&null!=(t=e[n]))return new b(t.call(e));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function b(e){function t(e){if(Object(e)!==e)return M.reject(new TypeError(e+" is not an object."));var t=e.done;return M.resolve(e.value).then((function(e){return{value:e,done:t}}))}return(b=function(e){this.s=e,this.n=e.next}).prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?M.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?M.reject(e):t(r.apply(this.s,arguments))}},new b(e)}function w(e,t){var r={type:"content-type",size:"content-length"},n=[];for(var o in t)n.push([r[o],t[o].toString()]);return{headers:{forEach:function(e){n.forEach((function(t){var r=y(t,2),n=r[0],o=r[1];e(o,n)}))}},body:{getReader:function(){return e.getReader()}},text:function(){return e.text()},status:200}}function S(e,t,r,n){var o=new M((function(e){setTimeout((function(){e({value:void 0,done:!0})}),0)})),i={getReader:function(){return{read:function(){return o}}}};return{abort:e,responsePromise:M.resolve(w(i)),timeoutId:void 0,requestState:t,signal:r,getRtt:n,isSkipFragment:!0,requestOptions:{},requestHeaders:{}}}function E(e,t){return O.apply(this,arguments)}function O(){return(O=v(h().mark((function e(t,r){var n,o,i,a,u,c,s,l,f,d;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U();case 2:return n=e.sent,e.next=5,n.getDirectoryHandle(C.hb,{create:r});case 5:if(o=e.sent,i=function(e,t){return e.getFileHandle(t.replace(/\//g,"_"),{create:r})},a="",!t.includes("/")){e.next=19;break}return c=t.split("/"),s=y(c,2),l=s[0],f=s[1],e.next=12,o.getDirectoryHandle(l,{create:r});case 12:return d=e.sent,e.next=15,i(d,f);case 15:u=e.sent,a=l,e.next=22;break;case 19:return e.next=21,i(o,t);case 21:u=e.sent;case 22:return e.abrupt("return",{fileHandle:u,contentId:a});case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}r.d(t,{gl:function(){return G},Uk:function(){return H},mk:function(){return S},pC:function(){return B}});var k,_,A,T,P,x,R,L,j,I,C=r(80726),D=["SupplementalProperty","S","AudioChannelConfiguration","Role"],N=function(e){var t=0,r=e.children.find((function(e){return"Period"===e.tagName})),n=(null===r||void 0===r?void 0:r.children.flatMap((function(e){return e.children.filter((function(e){return"Representation"===e.tagName}))}))).map((function(e){return e.children.find((function(e){return"SegmentTemplate"===e.tagName}))}));return null===n||void 0===n||n.forEach((function(e){var r=null===e||void 0===e?void 0:e.children.find((function(e){return"SegmentTimeline"===e.tagName}));r&&r.children.filter((function(e){return"S"===e.tagName})).forEach((function(e){var r=parseInt(e.attributes.r||"0",10);t+=r+1}))})),t},F=r(7680),M=(r(25443),r(83361)),V=r(81917),B=function(e,t){var r=new V(t,"http://y.com").pathname.split("/").pop()||"";return"".concat(e,"/").concat(r)},U=function(){return navigator.storage.getDirectory()},G={downloadedFragments:{},listDirContent:(L=v(h().mark((function e(t){var r,n,o,i,a,u,c,s,l,f,d,p;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U();case 2:return r=e.sent,e.next=5,r.getDirectoryHandle(C.hb);case 5:if(n=e.sent,!t){e.next=12;break}return e.next=9,n.getDirectoryHandle(t);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=n;case 13:o=e.t0,i={files:[],directories:[]},a=!1,u=!1,e.prev=17,s=g(o.entries());case 19:return e.next=21,s.next();case 21:if(!(a=!(l=e.sent).done)){e.next=27;break}f=y(l.value,2),d=f[0],p=f[1],i["file"===p.kind?"files":"directories"].push(d);case 24:a=!1,e.next=19;break;case 27:e.next=33;break;case 29:e.prev=29,e.t1=e.catch(17),u=!0,c=e.t1;case 33:if(e.prev=33,e.prev=34,!a||null==s.return){e.next=38;break}return e.next=38,s.return();case 38:if(e.prev=38,!u){e.next=41;break}throw c;case 41:return e.finish(38);case 42:return e.finish(33);case 43:return e.abrupt("return",i);case 44:case"end":return e.stop()}}),e,null,[[17,29,33,43],[34,,38,42]])}))),function(e){return L.apply(this,arguments)}),createFileWritableStream:(R=v(h().mark((function e(t){var r,n,o,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(t,!0);case 2:return r=e.sent,n=r.fileHandle,o=r.contentId,e.next=7,n.createWritable();case 7:return i=e.sent,-1===t.indexOf("manifest.mpd")&&(G.downloadedFragments[o]=f(f({},G.downloadedFragments[o]),{},d({},t,!0))),e.abrupt("return",i);case 10:case"end":return e.stop()}}),e)}))),function(e){return R.apply(this,arguments)}),writeFile:(x=v(h().mark((function e(t,r){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.createFileWritableStream(t);case 2:return n=e.sent,e.next=5,n.write(r);case 5:return e.next=7,n.close();case 7:case"end":return e.stop()}}),e)}))),function(e,t){return x.apply(this,arguments)}),getFile:(P=v(h().mark((function e(t){var r,n,o,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(t,!1);case 2:return r=e.sent,n=r.fileHandle,e.next=6,n.getFile();case 6:return o=e.sent,i=o.size,e.abrupt("return",{body:o,size:i});case 9:case"end":return e.stop()}}),e)}))),function(e){return P.apply(this,arguments)}),fetchFromFs:(T=v(h().mark((function e(t,r){var n,o,i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("Content id is not defined");case 2:return n=(0,F.J)(r),e.next=5,G.getFile(B(t,r));case 5:return o=e.sent,i=o.body,a=o.size,e.abrupt("return",w("mpd"===n?i:i.stream(),{size:a}));case 9:case"end":return e.stop()}}),e)}))),function(e,t){return T.apply(this,arguments)}),getParsedJSON:(A=v(h().mark((function e(t){var r,n,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.getFile(t);case 2:return r=e.sent,n=r.body,e.next=6,n.text();case 6:return o=e.sent,e.abrupt("return",JSON.parse(o));case 8:case"end":return e.stop()}}),e)}))),function(e){return A.apply(this,arguments)}),appendToJSON:(_=v(h().mark((function e(t,r){var n,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.getParsedJSON(t);case 2:return n=e.sent,o=f(f({},n),r),e.next=6,G.writeFile(t,JSON.stringify(o));case 6:case"end":return e.stop()}}),e)}))),function(e,t){return _.apply(this,arguments)}),removeDirectory:(k=v(h().mark((function e(t){var r,n,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U();case 2:return r=e.sent,e.next=5,r.getDirectoryHandle(C.hb);case 5:return n=e.sent,o=n.removeEntry(t,{recursive:!0}),delete G.downloadedFragments[t],e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)}))),function(e){return k.apply(this,arguments)})},H={handleStart:(I=v(h().mark((function e(t,r,n,o){var i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:if(!o){e.next=7;break}return n=u(n,o),i=N(n),e.next=7,G.writeFile(B(r,"config.json"),JSON.stringify({src:t,totalSegments:i,tracks:o}));case 7:return e.next=9,G.writeFile(B(r,"manifest.mpd"),c(n));case 9:case"end":return e.stop()}}),e)}))),function(e,t,r,n){return I.apply(this,arguments)}),handlePause:(j=v(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.appendToJSON(B(t,"config.json"),{downloadedFragments:G.downloadedFragments[t]});case 2:case"end":return e.stop()}}),e)}))),function(e){return j.apply(this,arguments)})}},33157:function(e,t,r){"use strict";function n(e){return void 0===e||"string"!==typeof e?"":function(e){try{var t=new a(e);return t.searchParams.delete(i.g),t.href}catch(r){return e}}(e).replace(/#.+$/,"")}function o(e){try{return new a(e).searchParams.get(i.g)}catch(t){return null}}r.d(t,{Hi:function(){return n},IN:function(){return o}});var i=r(32890),a=r(81917)},3498:function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{I:function(){return i},K:function(){return u}});var i,a=r(48932);!function(e){e[e.BIG_ENDIAN=0]="BIG_ENDIAN",e[e.LITTLE_ENDIAN=1]="LITTLE_ENDIAN"}(i||(i={}));var u=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dataView=t,o(this,"littleEndian",void 0),o(this,"position",0),this.littleEndian=r===i.LITTLE_ENDIAN}var t,r,u;return t=e,(r=[{key:"getDataView",value:function(){return this.dataView}},{key:"hasMoreData",value:function(){return this.position<this.dataView.byteLength}},{key:"getPosition",value:function(){return this.position}},{key:"getLength",value:function(){return this.dataView.byteLength}},{key:"readUint8",value:function(){try{var e=this.dataView.getUint8(this.position);return this.position+=1,e}catch(t){throw this.throwOutOfBounds()}}},{key:"readUint16",value:function(){try{var e=this.dataView.getUint16(this.position,this.littleEndian);return this.position+=2,e}catch(t){throw this.throwOutOfBounds()}}},{key:"readUint32",value:function(){try{var e=this.dataView.getUint32(this.position,this.littleEndian);return this.position+=4,e}catch(t){throw this.throwOutOfBounds()}}},{key:"readInt32",value:function(){try{var e=this.dataView.getInt32(this.position,this.littleEndian);return this.position+=4,e}catch(t){throw this.throwOutOfBounds()}}},{key:"readUint64",value:function(){var e,t;try{this.littleEndian?(e=this.dataView.getUint32(this.position,!0),t=this.dataView.getUint32(this.position+4,!0)):(t=this.dataView.getUint32(this.position,!1),e=this.dataView.getUint32(this.position+4,!1))}catch(r){throw this.throwOutOfBounds()}if(t>2097151)throw new Error("JS_INTEGER_OVERFLOW");return this.position+=8,t*Math.pow(2,32)+e}},{key:"readBytes",value:function(e){this.position+e>this.dataView.byteLength&&this.throwOutOfBounds();var t=new Uint8Array(this.dataView.buffer,this.dataView.byteOffset+this.position,e);return this.position+=e,t}},{key:"skip",value:function(e){if(this.position+e>this.dataView.byteLength)throw this.throwOutOfBounds();this.position+=e}},{key:"rewind",value:function(e){if(this.position<e)throw this.throwOutOfBounds();this.position-=e}},{key:"seek",value:function(e){if(e<0||e>this.dataView.byteLength)throw this.throwOutOfBounds();this.position=e}},{key:"readTerminatedString",value:function(){for(var e=this.position;this.hasMoreData()&&0!==this.dataView.getUint8(this.position);)this.position+=1;var t=new Uint8Array(this.dataView.buffer,this.dataView.byteOffset+e,this.position-e);return this.position+=1,a.x.fromUTF8(t)}},{key:"throwOutOfBounds",value:function(){return new Error("BUFFER_READ_OUT_OF_BOUNDS")}},{key:"readUUID",value:function(){var t=this.readBytes(16);return(e.byteToHex[t[0]]+e.byteToHex[t[1]]+e.byteToHex[t[2]]+e.byteToHex[t[3]]+"-"+e.byteToHex[t[4]]+e.byteToHex[t[5]]+"-"+e.byteToHex[t[6]]+e.byteToHex[t[7]]+"-"+e.byteToHex[t[8]]+e.byteToHex[t[9]]+"-"+e.byteToHex[t[10]]+e.byteToHex[t[11]]+e.byteToHex[t[12]]+e.byteToHex[t[13]]+e.byteToHex[t[14]]+e.byteToHex[t[15]]).toLowerCase()}},{key:"readString",value:function(e){if(this.position+e>this.getLength())throw new Error("Not enough bytes in buffer");for(var t="",r=0;r<e;r++)t+=String.fromCharCode(this.readUint8());return t}},{key:"readHex16",value:function(){for(var e="",t=0;t<16;t++){var r=this.readUint8().toString(16);e+=1===r.length?"0"+r:r}return e}},{key:"readUint8Array",value:function(e){for(var t=new Uint8Array(e),r=0;r<e;r++)t[r]=this.readUint8();return t}}])&&n(t.prototype,r),u&&n(t,u),Object.defineProperty(t,"prototype",{writable:!1}),e}();o(u,"byteToHex",Array.from({length:256},(function(e,t){return(t+256).toString(16).substr(1)})))},40097:function(e,t,r){"use strict";r.d(t,{K:function(){return n}});var n=100},90973:function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{p:function(){return u}});var i,a=r(3498);!function(e){e[e.BASIC_BOX=0]="BASIC_BOX",e[e.FULL_BOX=1]="FULL_BOX"}(i||(i={}));var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,"headers",[]),o(this,"boxDefinitions",[]),o(this,"done",!1)}var t,r,u;return t=e,u=[{key:"children",value:function(e){for(var t=null!==e.flags?12:8;e.reader.hasMoreData()&&!e.parser.done;)e.parser.parseNext(e.start+t,e.reader,e.partialOkay)}},{key:"sampleDescription",value:function(e){for(var t=null!==e.flags?12:8,r=e.reader.readUint32();r>0&&!e.parser.done;r-=1)e.parser.parseNext(e.start+t,e.reader,e.partialOkay)}},{key:"allData",value:function(e){return function(t){var r=t.reader.getLength()-t.reader.getPosition();e(t.reader.readBytes(r))}}},{key:"typeFromString",value:function(e){for(var t=0,r=0;r<e.length;r++)t=t<<8|e.charCodeAt(r);return t}},{key:"typeToString",value:function(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)}},{key:"headerSize",value:function(e){return 8+(e.has64BitSize?8:0)+(null!==e.flags?4:0)}}],(r=[{key:"box",value:function(t,r){var n=e.typeFromString(t);return this.headers[n]=i.BASIC_BOX,this.boxDefinitions[n]=r,this}},{key:"fullBox",value:function(t,r){var n=e.typeFromString(t);return this.headers[n]=i.FULL_BOX,this.boxDefinitions[n]=r,this}},{key:"stop",value:function(){this.done=!0}},{key:"parse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=new Uint8Array(e),o=new a.K(new DataView(n.buffer,n.byteOffset,n.byteLength),a.I.BIG_ENDIAN);for(this.done=!1;o.hasMoreData()&&!this.done;)this.parseNext(0,o,t,r)}},{key:"parseNext",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=r.getPosition(),c=!1;if(o&&u+8>r.getLength())this.done=!0;else{var s=r.readUint32(),l=r.readUint32();switch(s){case 0:s=r.getLength()-u;break;case 1:if(o&&r.getPosition()+8>r.getLength())return void(this.done=!0);s=r.readUint64(),c=!0}var f=this.boxDefinitions[l];if(f){var d=null,h=null;if(this.headers[l]===i.FULL_BOX){var p=r.readUint32();d=p>>>24,h=16777215&p}var v=u+s,y=!0;if(n&&v>r.getLength()&&(v=r.getLength(),y=!1),o&&v>r.getLength())return void(this.done=!0);var m=v-r.getPosition(),g=m>0?r.readBytes(m):new Uint8Array(0),b=new a.K(new DataView(g.buffer,g.byteOffset,g.byteLength),a.I.BIG_ENDIAN),w={parser:this,partialOkay:n||!1,version:d,flags:h,reader:b,size:s,loadedSize:r.getPosition()-u,start:u+t,isComplete:y,has64BitSize:c,type:e.typeToString(l)};f(w)}else{var S=Math.min(u+s-r.getPosition(),r.getLength()-r.getPosition());r.skip(S)}}}}])&&n(t.prototype,r),u&&n(t,u),Object.defineProperty(t,"prototype",{writable:!1}),e}()},33263:function(e,t,r){"use strict";function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{d:function(){return u}});var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"buffer",[]),a(this,"head",0),a(this,"capacity",void 0),this.capacity=t}var t,r,o;return t=e,(r=[{key:"push",value:function(e){this.buffer.length<this.capacity?this.buffer.push(e):this.buffer[this.head]=e,this.head=(this.head+1)%this.capacity}},{key:"toArray",value:function(){return this.buffer.length<this.capacity?n(this.buffer):[].concat(n(this.buffer.slice(this.head)),n(this.buffer.slice(0,this.head)))}}])&&i(t.prototype,r),o&&i(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}()},48932:function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r.d(t,{x:function(){return u}});var o,i,a,u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,o;return t=e,o=[{key:"fromUTF8",value:function(t){if(!t)return"";var r=new Uint8Array(t);239===r[0]&&187===r[1]&&191===r[2]&&(r=r.subarray(3));var n=e.fromCharCode(r),o=escape(n);try{return decodeURIComponent(o)}catch(i){throw new Error("BAD_ENCODING")}}},{key:"fromUTF16",value:function(t,r){var n,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return"";if(!o&&t.byteLength%2!==0)throw new Error("BAD_ENCODING: Data has an incorrect length, must be even");if(t instanceof ArrayBuffer)n=t;else{var i=new Uint8Array(t.byteLength);i.set(new Uint8Array(t)),n=i.buffer}for(var a=Math.floor(t.byteLength/2),u=new Uint16Array(a),c=new DataView(n),s=0;s<a;s++)u[s]=c.getUint16(2*s,r);return e.fromCharCode(u)}},{key:"fromBytesAutoDetect",value:function(t){var r=new Uint8Array(t);if(239===r[0]&&187===r[1]&&191===r[2])return e.fromUTF8(r);if(254===r[0]&&255===r[1])return e.fromUTF16(r.subarray(2),!1);if(255===r[0]&&254===r[1])return e.fromUTF16(r.subarray(2),!0);var n=function(e,t){return e.byteLength<=t||e[t]>=32&&e[t]<=126};if(0===r[0]&&0===r[2])return e.fromUTF16(t,!1);if(0===r[1]&&0===r[3])return e.fromUTF16(t,!0);if(n(r,0)&&n(r,1)&&n(r,2)&&n(r,3))return e.fromUTF8(t);throw new Error("UNABLE_TO_DETECT_ENCODING")}},{key:"toUTF8",value:function(e){for(var t=encodeURIComponent(e),r=unescape(t),n=new Uint8Array(r.length),o=0;o<r.length;++o)n[o]=r.charCodeAt(o);return n.buffer}},{key:"toUTF16",value:function(e,t){for(var r=new Uint8Array(2*e.length),n=new DataView(r.buffer),o=0;o<e.length;++o){var i=e.charCodeAt(o);n.setUint16(2*o,i,t)}return r.buffer}},{key:"fromCharCode",value:function(t){if(!e.fromCharCodeImpl)for(var r=function(t){if(function(e){try{var t=new Uint8Array(e);return String.fromCharCode.apply(null,t).length>0}catch(r){return!1}}(t))return e.fromCharCodeImpl=function(e){for(var r="",n=0;n<e.length;n+=t){var o=e.subarray(n,n+t);r+=String.fromCharCode.apply(null,o)}return r},"break"},n=65536;n>0&&"break"!==r(n);n/=2);if(!e.fromCharCodeImpl)throw new Error("Unable to create a fromCharCode method");return e.fromCharCodeImpl(t)}},{key:"resetFromCharCode",value:function(){e.fromCharCodeImpl=null}}],(r=null)&&n(t.prototype,r),o&&n(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();a=null,(i="fromCharCodeImpl")in(o=u)?Object.defineProperty(o,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[i]=a},19071:function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r.d(t,{P:function(){return i}});var o=r(48932),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,i;return t=e,i=[{key:"concat",value:function(){for(var e=0,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];for(var o=0;o<r.length;++o)e+=r[o].length;for(var i=new Uint8Array(e),a=0,u=0;u<r.length;++u)i.set(r[u],a),a+=r[u].length;return i}},{key:"toHex",value:function(e){for(var t="",r=0;r<e.length;++r){var n=e[r].toString(16);1===n.length&&(n="0"+n),t+=n}return t}},{key:"fromHex",value:function(e){for(var t=new Uint8Array(e.length/2),r=0;r<e.length;r+=2)t[r/2]=parseInt(e.substr(r,2),16);return t}},{key:"toBase64",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=o.x.fromCharCode(e),n=btoa(r).replace(/\+/g,"-").replace(/\//g,"_");return t?n:n.replace(/=*$/,"")}},{key:"fromBase64",value:function(e){for(var t=atob(e.replace(/-/g,"+").replace(/_/g,"/")),r=new Uint8Array(t.length),n=0;n<t.length;++n)r[n]=t.charCodeAt(n);return r}},{key:"equal",value:function(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0}}],(r=null)&&n(t.prototype,r),i&&n(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}()},11312:function(e,t,r){"use strict";function n(e,t){return(0,o.V)(e,t,(function(e,t){return e-t}))}r.d(t,{U:function(){return n}});var o=r(28513)},28513:function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t,r){if(!(e.length<1)){for(var o=n(e,1)[0],i=t(o),a=1;a<e.length;a++){var u=e[a],c=t(u);r(c,i)<0&&(o=u,i=c)}return o}}r.d(t,{V:function(){return i}})},7680:function(e,t,r){"use strict";r.d(t,{J:function(){return o}});var n=r(81917),o=function(e){if(e){var t=(new n(e).pathname.split("/").pop()||"").split(".");return t.length>1?t.pop():void 0}}},82619:function(e,t,r){"use strict";function n(e){var t=(0,o.jS)("web_yasp_target_latency_debug");return-1===t?e:(0,i.z)(t)?t:e}r.d(t,{c:function(){return n}});r(25443);var o=r(99628),i=r(8450)},95542:function(e,t,r){"use strict";function n(){var e=(0,o.r0)("web_yasp_time_to_start");if(e&&"null"!==e){var t=parseFloat(e);return(0,i.z)(t)?t:void 0}}r.d(t,{p:function(){return n}});r(25443);var o=r(99628),i=r(8450)},47751:function(e,t,r){"use strict";function n(e){return new o((function(t){return setTimeout(t,e)}))}r.d(t,{_:function(){return n}});var o=r(83361)},41838:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=l(e);if(t){var o=l(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return s(e)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{w:function(){return d}});var d=function(e){function t(e,r){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=l.call(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({isFatal:!1},e),r),f(s(n),"category",void 0),f(s(n),"toJSON",void 0),n.category=(null===r||void 0===r?void 0:r.category)||e.category,n.toJSON=function(){return{message:n.message,code:n.code,isFatal:n.isFatal,details:n.details,stack:n.stack,category:n.category}},n}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(t,e);var r,n,c,l=u(t);return r=t,n&&i(r.prototype,n),c&&i(r,c),Object.defineProperty(r,"prototype",{writable:!1}),r}(r(15168).s)},67709:function(e,t,r){"use strict";r.d(t,{C:function(){return n}});r(25443);var n=1},77521:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=function(r){c.some((function(t){var n;return null!==(n=(0,u.Y)((function(){return e[r]instanceof t})))&&void 0!==n&&n}))?t.push(e[r]):null!==e[r]&&"object"===o(e[r])&&i(e[r],t)};for(var n in e)r(n);return t}r.d(t,{_:function(){return i}});var a,u=r(21658),c=function(e){if(Array.isArray(e))return n(e)}(a="undefined"!==typeof MediaSourceHandle?[MediaSourceHandle]:[])||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(a)||function(e,t){if(e){if("string"===typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},89501:function(e,t,r){"use strict";function n(e){var t=e.id,r=e.method,n=e.params;return t?{jsonrpc:"2.0",id:t,method:r,params:n}:{jsonrpc:"2.0",method:r,params:n}}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){if(!("params"in e))return[];if(Array.isArray(e.params))return e.params;if((0,B.K)(e.params))return e.params;throw new Error("Expect #params to be an array or an object if present in ".concat(JSON.stringify(e)))}function a(e){return u(e)}function u(e){if((0,V.z)(e.id)){if(Math.floor(e.id)!==e.id)throw new Error("Expect #id to be an integer if it's a number in ".concat(JSON.stringify(e)));return e.id}if((0,U.H)(e.id)||null===e.id)return e.id;throw new Error("Expect #id to be an integer, string or null (not recommended) in ".concat(JSON.stringify(e)))}function c(e){if(!("id"in e))throw new Error("Expect #id to present in rpc response ".concat(JSON.stringify(e)));return u(e)}function s(e){if("object"!==o(e.error)||null===e.error)throw new Error("Expect #error to be an object in ".concat(JSON.stringify(e)));var t=e.error;if(!(0,V.z)(t.code))throw new Error("Expect #error#code to be an number in ".concat(JSON.stringify(e)));if(!(0,U.H)(t.message))throw new Error("Expect #error#message to be an string in ".concat(JSON.stringify(e)));return"data"in t?{code:t.code,message:t.message,data:t.data}:{code:t.code,message:t.message}}function l(e){var t=function(e){if(!(0,B.K)(e))throw new Error("Can't parse \"".concat(e,'" as object'));return e}(e);if(!function(e){return"2.0"===e.jsonrpc}(t))throw new Error("Expect ".concat((0,G.Y)((function(){return JSON.stringify(e)}))||e," to be a json-rpc v2 message"));if((0,U.H)(t.method))return function(e){return"id"in e?{jsonrpc:e.jsonrpc,method:e.method,params:i(e),id:a(e)}:{jsonrpc:e.jsonrpc,method:e.method,params:i(e)}}(t);if("result"in t)return function(e){return{jsonrpc:e.jsonrpc,result:e.result,id:c(e)}}(t);if("error"in t)return function(e){return{jsonrpc:e.jsonrpc,error:s(e),id:c(e)}}(t);throw new Error("Expect ".concat((0,G.Y)((function(){return JSON.stringify(e)}))||e," to be a json-rpc v2 message"))}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t){if(t&&("object"===f(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){var t="function"===typeof Map?new Map:void 0;return(y=function(e){function r(){return m(e,arguments,w(this).constructor)}if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),b(r,e)})(e)}function m(e,t,r){return(m=g()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&b(o,r.prototype),o}).apply(null,arguments)}function g(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function b(e,t){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function k(){return(k="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=_(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function _(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=R(e)););return e}function A(e,t){return(A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function T(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=R(e);if(t){var o=R(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return P(this,r)}}function P(e,t){if(t&&("object"===E(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return x(e)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==j(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}I=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=$);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function C(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return D(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function N(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):$.resolve(c).then(n,o)}function F(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function M(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{A:function(){return J}});var V=r(8450),B=r(34129),U=r(66696),G=r(21658),H=r(76741),Y=r(93559),q=r.n(Y),W=function(e){function t(e){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H.v.UNKNOWN_ERROR,o=arguments.length>2?arguments[2]:void 0;return d(this,t),S(v(r=u.call(this,e)),"message",void 0),S(v(r),"stack",void 0),S(v(r),"toJSON",void 0),S(v(r),"code",void 0),q()(v(r),t.prototype),r.message=e,r.code=n,r.stack=null!==o&&void 0!==o?o:r.stack,r.toJSON=function(){return{code:r.code,message:r.message,data:r.stack}},r}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(t,e);var r,n,o,i,a,u=(r=t,n=g(),function(){var e,t=w(r);if(n){var o=w(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return p(this,e)});return o=t,(i=[{key:"toString",value:function(){return JSON.stringify(this.toJSON())}}])&&h(o.prototype,i),a&&h(o,a),Object.defineProperty(o,"prototype",{writable:!1}),t}(y(Error)),K=(r(25443),r(16258)),z=r(69497),Q=r(83361),Z=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),L(x(r=a.call(this)),"lastRpcRequestId",1),L(x(r),"waiters",Object.create(null)),L(x(r),"send",void 0),L(x(r),"onRun",void 0),L(x(r),"serialize",void 0),L(x(r),"deserialize",void 0),r.send=e.send,r.onRun=e.onRun,r.serialize=e.serialize,r.deserialize=e.deserialize,r}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A(e,t)}(t,e);var r,o,i,a=T(t);return r=t,(o=[{key:"destroy",value:function(){for(var e in k(R(t.prototype),"destroy",this).call(this),this.onRun=z.Z,this.waiters)this.waiters[e](new Error("Stop on destroy"))}},{key:"request",value:function(e){var t=e.method,r=e.params,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e4,i=this.getUniqueRpcRequestId();return this.sendMessage(n({id:i,method:t,params:r})),this.waitForResponse(i,o,t)}},{key:"sendEvent",value:function(e){var t=e.method,r=e.params;return this.sendMessage(n({method:t,params:r})),Q.resolve()}},{key:"getUniqueRpcRequestId",value:function(){return String(this.lastRpcRequestId++)}},{key:"waitForResponse",value:function(e,t,r){var n=this,o=setTimeout((function(){var o=n.waiters[e];void 0!==o&&o(new Error("Timeout fired (".concat(t,"ms) on method ").concat(r," for id=").concat(e,".")))}),t);return new Q((function(t,r){n.waiters[e]=function(i,a){return clearTimeout(o),delete n.waiters[e],null!==i?r(i):t(a)}}))}},{key:"sendMessage",value:function(e){this.send(this.serialize(e))}},{key:"handleRpcRequest",value:function(e){var t=this,r=e.id,n=e.method,o=e.params;this.onRun({method:n,params:o},(function(e,n){r&&t.sendMessage(function(e){var t=e.id,r=e.error,n=e.result;return r?{jsonrpc:"2.0",id:t,error:r.toJSON()}:{jsonrpc:"2.0",id:t,result:void 0===n?null:n}}({id:r,error:e,result:n}))}))}},{key:"handleRpcResponse",value:function(e){var t=this.waiters[e.id];void 0!==t?"error"in e?t(new W(e.error.message,e.error.code,"string"===typeof e.error.data?e.error.data:void 0)):t(null,e.result):this.emit("Warn",new Error("Response for missed waiter for id=".concat(JSON.stringify(e.id))))}},{key:"handleMessage",value:function(e){try{var t=l(this.deserialize(e));"result"in t||"error"in t?this.handleRpcResponse(t):"method"in t&&this.handleRpcRequest(t)}catch(r){this.emit("Error",r)}}}])&&O(r.prototype,o),i&&O(r,i),Object.defineProperty(r,"prototype",{writable:!1}),t}(K.M),$=r(83361),J=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),M(this,"jsonRpcMessenger",void 0),M(this,"handlers",{}),M(this,"staticHandlers",{});var n=function(){var e,t=(e=I().mark((function e(t,n){var o,i,a,u,c,s,l,f,d,h,p,v,y,m,g;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.method in r.handlers||t.method in r.staticHandlers){e.next=2;break}return e.abrupt("return",n(new W("Unknown method: ".concat(t.method),H.v.METHOD_NOT_FOUND)));case 2:if(!r.handlers[t.method]){e.next=32;break}o=C(r.handlers[t.method]),e.prev=4,o.s();case 6:if((i=o.n()).done){e.next=24;break}return a=i.value,e.prev=8,e.next=11,a(t.params);case 11:if(u=e.sent,c=u.done,s=u.value,!c){e.next=16;break}return e.abrupt("return",n(null,s));case 16:e.next=22;break;case 18:return e.prev=18,e.t0=e.catch(8),l=new W((0,B.K)(e.t0)?e.t0.message:"",H.v.INTERNAL_ERROR,(0,B.K)(e.t0)?e.t0.stack:""),e.abrupt("return",n(l));case 22:e.next=6;break;case 24:e.next=29;break;case 26:e.prev=26,e.t1=e.catch(4),o.e(e.t1);case 29:return e.prev=29,o.f(),e.finish(29);case 32:if(!r.staticHandlers[t.method]){e.next=66;break}f=!1,d=C(r.staticHandlers[t.method]),e.prev=35,d.s();case 37:if((h=d.n()).done){e.next=54;break}return p=h.value,e.prev=39,e.next=42,p(t.params);case 42:v=e.sent,y=v.done,m=v.value,y&&(f||(f=!0,n(null,m))),e.next=52;break;case 48:return e.prev=48,e.t2=e.catch(39),g=new W((0,B.K)(e.t2)?e.t2.message:"",H.v.INTERNAL_ERROR,(0,B.K)(e.t2)?e.t2.stack:""),e.abrupt("return",n(g));case 52:e.next=37;break;case 54:e.next=59;break;case 56:e.prev=56,e.t3=e.catch(35),d.e(e.t3);case 59:return e.prev=59,d.f(),e.finish(59);case 62:if(!f){e.next=64;break}return e.abrupt("return");case 64:e.next=66;break;case 66:return e.abrupt("return",n(new W("No handler for existed method: ".concat(t.method),H.v.INVALID_REQUEST)));case 67:case"end":return e.stop()}}),e,null,[[4,26,29,32],[8,18],[35,56,59,62],[39,48]])})),function(){var t=this,r=arguments;return new $((function(n,o){function i(e){N(u,n,o,i,a,"next",e)}function a(e){N(u,n,o,i,a,"throw",e)}var u=e.apply(t,r);i(void 0)}))});return function(e,r){return t.apply(this,arguments)}}();this.jsonRpcMessenger=new Z({send:t,onRun:n,serialize:function(e){return e},deserialize:function(e){return e}}),this.jsonRpcMessenger.on("Warn",console.warn),this.jsonRpcMessenger.on("Error",console.error)}var t,r,n;return t=e,(r=[{key:"registerHandler",value:function(e,t){var r;this.handlers[e]=null!==(r=this.handlers[e])&&void 0!==r?r:[],this.handlers[e].push(t)}},{key:"registerStaticHandler",value:function(e,t){var r;this.staticHandlers[e]=null!==(r=this.staticHandlers[e])&&void 0!==r?r:[],this.staticHandlers[e].push(t)}},{key:"removeHandler",value:function(e,t){var r,n=C(["handlers","staticHandlers"]);try{for(n.s();!(r=n.n()).done;){var o=r.value;this[o][e]&&(this[o][e]=void 0===t?[]:this[o][e].filter((function(e){return e!==t})),0===this[o][e].length&&delete this[o][e])}}catch(i){n.e(i)}finally{n.f()}}},{key:"request",value:function(e){var t=e.method,r=e.params;return this.jsonRpcMessenger.request({method:String(t),params:r})}},{key:"sendEvent",value:function(e){var t=e.method,r=e.params;return this.jsonRpcMessenger.sendEvent({method:String(t),params:r})}},{key:"destroy",value:function(){this.jsonRpcMessenger.destroy()}},{key:"handleMessage",value:function(e){this.jsonRpcMessenger.handleMessage(e.data)}}])&&F(t.prototype,r),n&&F(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()},43391:function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(){return(s="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=l(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function l(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}function f(e,t){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var o=p(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return h(this,r)}}function h(e,t){if(t&&("object"===a(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E(e){var t,r=[],n=w(e);try{for(n.s();!(t=n.n()).done;){var o=t.value;r.push(o)}}catch(i){n.e(i)}finally{n.f()}return r}function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _(e,t){return(_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function A(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=x(e);if(t){var o=x(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return T(this,r)}}function T(e,t){if(t&&("object"===O(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return P(e)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){G(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function D(){return(D="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=N(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function N(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=U(e)););return e}function F(e,t){return(F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function M(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=U(e);if(t){var o=U(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return V(this,r)}}function V(e,t){if(t&&("object"===L(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return B(e)}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(r),!0).forEach((function(t){ee(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function W(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function K(){return(K="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=z(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function z(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=X(e)););return e}function Q(e,t){return(Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Z(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=X(e);if(t){var o=X(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return $(this,r)}}function $(e,t){if(t&&("object"===H(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return J(e)}function J(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ee(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function te(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ne(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function oe(e,t,r){return t&&ne(e.prototype,t),r&&ne(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ce(e,t,r){return t&&ue(e.prototype,t),r&&ue(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function se(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function le(){return(le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function fe(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=he(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function de(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||he(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(e,t){if(e){if("string"===typeof e)return pe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?pe(e,t):void 0}}function pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ve(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ye(e){return e.replace(/&(amp|quot|apos|lt|gt);/g,(function(e,t){var r;return null!==(r=Zs[t])&&void 0!==r?r:e}))}function me(e){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ge(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function be(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(r),!0).forEach((function(t){xe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ge(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function we(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return Se(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Se(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ke(e,t,r){return t&&Oe(e.prototype,t),r&&Oe(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _e(e,t){return(_e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ae(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Pe(e);if(t){var o=Pe(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Te(this,r)}}function Te(e,t){if(t&&("object"===me(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Pe(e){return(Pe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Re(e){var t=e.children.every((function(e){return"string"===typeof e})),r=t?e.children.join("\n"):"";return be(be({},e),{},{nodeType:t?3:1,textContent:r})}function Le(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function je(e){return(je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ie(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return Ce(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ce(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function Ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function De(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ne(e,t){return(Ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Fe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Ve(e);if(t){var o=Ve(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Me(this,r)}}function Me(e,t){if(t&&("object"===je(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ve(e){return(Ve=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Be(e){return(Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ge(e,t){return(Ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function He(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=We(e);if(t){var o=We(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ye(this,r)}}function Ye(e,t){if(t&&("object"===Be(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return qe(e)}function qe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function We(e){return(We=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ke(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ze(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Qe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ze(e){return(Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Je(e,t){return(Je=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Xe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=rt(e);if(t){var o=rt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return et(this,r)}}function et(e,t){if(t&&("object"===Ze(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return tt(e)}function tt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rt(e){return(rt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ot(e){return(ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function it(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==ot(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}it=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=ll);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function at(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):ll.resolve(c).then(n,o)}function ut(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ct(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function st(){return(st="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=lt(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function lt(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=vt(e)););return e}function ft(e,t){return(ft=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function dt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=vt(e);if(t){var o=vt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ht(this,r)}}function ht(e,t){if(t&&("object"===ot(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return pt(e)}function pt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vt(e){return(vt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mt(e){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gt(e){return function(e){if(Array.isArray(e))return bt(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return bt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function St(e,t){return(St=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Et(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=_t(e);if(t){var o=_t(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ot(this,r)}}function Ot(e,t){if(t&&("object"===mt(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return kt(e)}function kt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _t(e){return(_t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function At(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tt(e,t){return(0,vl.V)(e,t,(function(e,t){return t-e}))}function Pt(e){return function(e){if(Array.isArray(e))return xt(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return xt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Rt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Lt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(r),!0).forEach((function(t){jt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function jt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function It(e,t){return Lt(Lt({},t),{},{start:e.start,end:t.end})}function Ct(e){return function(e){if(Array.isArray(e))return Dt(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Dt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Nt(e){var t=[];return e.forEach((function(e){t.push.apply(t,Ct(e))})),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:It,r=Pt(e);r.sort((function(e,t){return e.start-t.start||e.end-t.end}));for(var n=1;n<r.length;n++){var o=r[n],i=r[n-1];i.end>=o.start&&(r.splice(n,1),r[n-1]=t(i,o),n--)}return r}(t)}function Ft(e,t){var r=[],n=0;return e.forEach((function(e){for(var o=e.start,i=e.end,a=n;a<t.length;a++){if(t[a].start>i)return;n=a,t[a].end<o||r.push({start:Math.max(t[a].start,o),end:Math.min(t[a].end,i)})}})),r}function Mt(e){return function(e){if(Array.isArray(e))return Bt(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Vt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vt(e,t){if(e){if("string"===typeof e)return Bt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Bt(e,t):void 0}}function Bt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ut(e){if(0===e.length)return[];var t,r=Math.min.apply(Math,Mt(e.map((function(e){return e.height})))),n={},o=function(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Vt(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}(e);try{for(o.s();!(t=o.n()).done;){var i=t.value;n[i.height]||(n[i.height]=[]),n[i.height].push(i)}}catch(u){o.e(u)}finally{o.f()}var a=[];return(0,gl.Z)(n).forEach((function(e){var t=parseInt(e,10),o=n[e];if(t===r)a.push.apply(a,Mt(o));else{var i=o.reduce((function(e,t){return e.bitrate>t.bitrate?e:t}));a.push(i)}})),a.sort((function(e,t){return t.bitrate-e.bitrate}))}function Gt(e){return(Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ht(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Yt(){return(Yt="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=qt(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function qt(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Zt(e)););return e}function Wt(e,t){return(Wt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Kt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Zt(e);if(t){var o=Zt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return zt(this,r)}}function zt(e,t){if(t&&("object"===Gt(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Qt(e)}function Qt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zt(e){return(Zt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $t(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jt(e,t){if(!e||!t)return!1;var r=e.mimeType===t.mimeType,n=e.codecs,o=t.codecs,i=n===o,a=function(e,t){var r=e.split(".")[0];if(0===t.indexOf(r))return!0;var n=wl[r];return!!n&&n.some((function(e){return 0===t.indexOf(e)}))}(n,o);return i||a&&r}function Xt(e){return(Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function er(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||rr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tr(e){return function(e){if(Array.isArray(e))return nr(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||rr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rr(e,t){if(e){if("string"===typeof e)return nr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?nr(e,t):void 0}}function nr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function or(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ir(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?or(Object(r),!0).forEach((function(t){pr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):or(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ar(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ur(){return(ur="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=cr(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function cr(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=hr(e)););return e}function sr(e,t){return(sr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function lr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=hr(e);if(t){var o=hr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return fr(this,r)}}function fr(e,t){if(t&&("object"===Xt(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return dr(e)}function dr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hr(e){return(hr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vr(e,t){var r=parseInt(e.attributes.timescale||"1",10);if(isNaN(r))throw new js.w({code:"YASP_PARSE_MANIFEST_ERROR",isFatal:!0,message:"Unexpected SegmentTemplate[timescale]",details:{node:e},category:Ls.q.MEDIA});var n=e.attributes.media;if(!n)throw new js.w({code:"YASP_PARSE_MANIFEST_ERROR",isFatal:!0,message:"Unexpected missed SegmentTemplate[media]",details:{node:e},category:Ls.q.MEDIA});var o=Math.floor(Math.max(0,parseInt(e.attributes.startNumber||"1",10)));if(!Number.isFinite(o)||!Number.isInteger(o))throw new js.w({code:"YASP_PARSE_MANIFEST_ERROR",isFatal:!0,message:"Unexpected SegmentTemplate[startNumber]",details:{node:e},category:Ls.q.MEDIA});var i=parseInt(e.attributes.presentationTimeOffset||"0",10),a=i;if(isNaN(a))throw new js.w({code:"YASP_PARSE_MANIFEST_ERROR",isFatal:!0,message:"Unexpected SegmentTemplate[presentationTimeOffset]",details:{node:e},category:Ls.q.MEDIA});var u=e.attributes.availabilityTimeOffset?parseFloat(e.attributes.availabilityTimeOffset):0;t.availabilityTimeOffset=Math.min(t.availabilityTimeOffset,1e3*u);var c=e.children.find((function(e){return"SegmentTimeline"===e.tagName})),s=[],l=Math.max(Math.floor(0)),f=0,d=Math.max(Math.floor(0));if(c){for(var h=c.children.filter((function(e){return"S"===e.tagName})),p=0;p<h.length;p++){var v,y=h[p],m=s[s.length-1],g=parseInt(y.attributes.t,10),b=parseInt(y.attributes.d||e.attributes.duration,10);if("string"===typeof y.attributes.t&&isNaN(g))throw new js.w({code:"YASP_PARSE_MANIFEST_ERROR",isFatal:!0,message:"Unexpected S[t]",details:{node:e},category:Ls.q.MEDIA});var w=g||(m?m.originalValues.time+m.originalValues.duration*m.count:0),S=1e3*g/r||(m?m.time+m.duration*m.count:0),E=1e3*b/r;t.maxSegmentDuration=t.maxSegmentDuration?Math.max(t.maxSegmentDuration,E):E;var O=Math.max(Math.floor(parseInt(y.attributes.r||"0",10)));if(isNaN(E))throw new js.w({code:"YASP_PARSE_MANIFEST_ERROR",isFatal:!0,message:"Unexpected S[d]",details:{node:e},category:Ls.q.MEDIA});if(isNaN(O))throw new js.w({code:"YASP_PARSE_MANIFEST_ERROR",isFatal:!0,message:"Unexpected S[r]",details:{node:e},category:Ls.q.MEDIA});var k=O+Math.max(Math.floor(1));l+=k;var _=o+Math.max(Math.floor(l-1)),A=S+E*k;t.maxSegmentEndTime=t.maxSegmentEndTime?Math.max(t.maxSegmentEndTime,A):A,t.minSegmentStartTime=Math.min(null!==(v=t.minSegmentStartTime)&&void 0!==v?v:1/0,S),t.minSegmentStartTime=t.minSegmentStartTime?Math.min(t.minSegmentStartTime,S):S,s.push({endNumber:_,time:S,duration:E,count:k,originalValues:{time:w,duration:b,trackPresentationTimeOffset:i}})}d=o+Math.max(Math.floor(l-1))}else{var T,P;if(null===t.duration&&!t.isDynamic)throw new js.w({code:"YASP_PARSE_MANIFEST_ERROR",isFatal:!0,message:"Can't compute presentation duration",details:{node:e},category:Ls.q.MEDIA});var x=0,R=1e3*parseInt(e.attributes.duration,10)/r;if(isNaN(R))throw new js.w({code:"YASP_PARSE_MANIFEST_ERROR",isFatal:!0,message:"Unexpected S[d]",details:{node:e},category:Ls.q.MEDIA});var L=Math.abs(null!==(T=t.duration)&&void 0!==T?T:t.nowWithOffset);if(isFinite(t.segmentAvailabilityDuration)){var j,I=t.nowWithOffset-(null!==(j=t.presentationStartTime)&&void 0!==j?j:0),C=Math.max(I-t.segmentAvailabilityDuration,0),D=Math.ceil(C/R);o+=D,x=D*R,L=Math.max(I-x,0)}l=Math.floor(L/R),f=(d=o+Math.max(Math.floor(l-1),0))*R,t.maxSegmentEndTime=Math.max(t.maxSegmentEndTime||0,f),t.minSegmentStartTime=Math.min(null!==(P=t.minSegmentStartTime)&&void 0!==P?P:1/0,x),t.maxSegmentDuration=Math.max(t.maxSegmentDuration||0,R),s.push({endNumber:d,time:x,duration:R,count:l,originalValues:{time:x,duration:parseInt(e.attributes.duration,10),trackPresentationTimeOffset:i}});var N=t.duration?t.duration-f:0,F=Math.abs(Math.floor(1));N&&s.push({endNumber:d+F,time:f,duration:N,count:F,originalValues:{time:f,duration:N,trackPresentationTimeOffset:i}})}var M=s[s.length-1];return t.maxPresentationTimeOffset=void 0!==t.maxPresentationTimeOffset?Math.max(t.maxPresentationTimeOffset,a):t.maxPresentationTimeOffset,{timescale:r,initialization:e.attributes.initialization?ye(e.attributes.initialization):null,media:ye(n),startNumber:o,startTime:s[0].time,endNumber:M.endNumber,endTime:M.time+M.duration*M.count,presentationTimeOffset:a,segmentSequences:s}}function yr(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return mr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mr(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function mr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function br(e,t){var r,n,o=e.attributes.mimeType,i=e.attributes.contentType||(null===o||void 0===o?void 0:o.split("/")[0]);if(!i)throw new js.w({code:"YASP_PARSE_MANIFEST_ERROR",isFatal:!0,message:"Unexpected empty AdaptationSet[contentType] and AdaptationSet[mimeType]",details:{node:e},category:Ls.q.MEDIA});t.maxHeight||(t.maxHeight=(r=e.children,(n=r.find((function(e){var t;return"SupplementalProperty"===e.tagName&&"urn:mpeg:yandex:capping:maxheight"===(null===(t=e.attributes)||void 0===t?void 0:t.schemeIdUri)})))?parseInt(n.attributes.value,10):null));var a=e.children.filter((function(e){return"ContentProtection"===e.tagName})),u=new xl(t.parser).parse(a),c="true"===e.attributes.segmentAlignment,s=e.children.find((function(e){return"SegmentTemplate"===e.tagName}));return{type:i,segmentAlignment:c,segmentTemplate:s?vr(s,t):void 0,mimeType:o,contentProtection:u}}function wr(e,t,r){var n,o=e.attributes.id;if(!o)throw new js.w({code:"YASP_PARSE_MANIFEST_ERROR",isFatal:!0,message:"Unexpected missed id on Representation",details:{node:e},category:Ls.q.MEDIA});var i=null!==(n=e.attributes.codecs)&&void 0!==n?n:null,a=parseInt(e.attributes.bandwidth,10);if(isNaN(a)||a<0){if("text"!==r)throw new js.w({code:"YASP_PARSE_MANIFEST_ERROR",isFatal:!0,message:"Unexpected missed Representation[bandwidth]",details:{node:e},category:Ls.q.MEDIA});a=10}var u=e.attributes.mimeType,c=e.children.find((function(e){return"SegmentTemplate"===e.tagName})),s=c?vr(c,t):void 0,l=e.children.filter((function(e){return"InbandEventStream"===e.tagName}));return"text"!==r&&l.forEach((function(e){return t.emsgSchemeIdUris[r].add(e.attributes.schemeIdUri)})),{id:o,codecs:i,bandwidth:a,segmentTemplate:s,mimeType:u}}function Sr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Er(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sr(Object(r),!0).forEach((function(t){Or(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Or(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kr(e,t){var r=parseInt(e.attributes.width,10),n=parseInt(e.attributes.height,10),o=Math.max(parseFloat(e.attributes.frameRate),0);if(isNaN(r))throw new js.w({code:"YASP_PARSE_MANIFEST_ERROR",details:{node:e},message:"Unexpected Representation[width]",isFatal:!0,category:Ls.q.MEDIA});if(isNaN(n))throw new js.w({code:"YASP_PARSE_MANIFEST_ERROR",details:{node:e},message:"Unexpected Representation[height]",isFatal:!0,category:Ls.q.MEDIA});var i=wr(e,t,"video"),a=i.codecs;if(!a)throw new js.w({code:"YASP_PARSE_MANIFEST_ERROR",details:{node:e},message:"Unexpected missed codecs on Representation",isFatal:!0,category:Ls.q.MEDIA});return Er(Er(Er({},i),o?{frameRate:o}:{}),{},{codecs:a,width:r,height:n})}function _r(e,t){return t.bandwidth-e.bandwidth}function Ar(e,t,r){for(var n=e.children.filter((function(e){return"Representation"===e.tagName})),o=[],i=0;i<n.length;i++){var a=n[i];o.push(t(a,r))}return o.sort(_r)}function Tr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tr(Object(r),!0).forEach((function(t){xr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rr(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Lr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lr(Object(r),!0).forEach((function(t){Ir(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ir(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cr(e,t){var r=Math.max(parseFloat(e.attributes.audioSamplingRate),0);if(isNaN(r))throw new js.w({code:"YASP_PARSE_MANIFEST_ERROR",isFatal:!0,message:"Unexpected Representation[audioSamplingRate]",details:{node:e},category:Ls.q.MEDIA});var n=wr(e,t,"audio"),o=n.codecs;if(!o)throw new js.w({code:"YASP_PARSE_MANIFEST_ERROR",isFatal:!0,message:"Unexpected missed codecs on Representation",details:{node:e},category:Ls.q.MEDIA});return jr(jr({},n),{},{codecs:o,audioSamplingRate:r})}function Dr(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return Nr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Nr(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function Nr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Mr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fr(Object(r),!0).forEach((function(t){Vr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Vr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Br(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Ur(e,t,r){var n,o,i=t.segmentTemplate,a=t.mimeType,u=Br(t,Ll),c=null!==(n=e.attributes.lang)&&void 0!==n?n:"und",s=null!==(o=e.attributes.label)&&void 0!==o?o:null;if(""===c)throw new js.w({code:"YASP_PARSE_MANIFEST_ERROR",isFatal:!0,message:"Unexpected AdaptationSet[lang]",details:{node:e},category:Ls.q.MEDIA});var l=Ar(e,Cr,r).map((function(t){var r,n,o=null!==(r=t.segmentTemplate)&&void 0!==r?r:i,u=null!==(n=t.mimeType)&&void 0!==n?n:a;if(!o)throw new js.w({code:"YASP_PARSE_MANIFEST_ERROR",isFatal:!0,message:"Unexpected missed Representation>SegmentTemplate",details:{node:e},category:Ls.q.MEDIA});if(!u)throw new js.w({code:"YASP_PARSE_MANIFEST_ERROR",isFatal:!0,message:"Unexpected missed Representation>mimeType",details:{node:e},category:Ls.q.MEDIA});return Mr(Mr({},t),{},{segmentTemplate:o,mimeType:u})})),f=function(e,t){var r,n=Dr(t.findChildren(e,"AudioChannelConfiguration"));try{for(n.s();!(r=n.n()).done;){var o=r.value,i=o.attributes.schemeIdUri;if(i){var a=o.attributes.value;if(a)switch(i){case"urn:mpeg:dash:outputChannelPositionList:2012":return a.trim().split(/ +/).length;case"urn:mpeg:dash:23003:3:audio_channel_configuration:2011":case"urn:dts:dash:audio_channel_configuration:2012":var u=parseInt(a,10);if(!u)continue;return u;case"tag:dolby.com,2014:dash:audio_channel_configuration:2011":case"urn:dolby:dash:audio_channel_configuration:2011":var c=parseInt(a,16);if(!c)continue;for(var s=0;c;)1&c&&++s,c>>=1;return s;case"urn:mpeg:mpegB:cicp:ChannelConfiguration":var l=[0,1,2,3,4,5,6,8,2,3,4,7,8,24,8,12,10,12,14,12,14],f=parseInt(a,10);if(!f)continue;if(f>0&&f<l.length)return l[f];continue;default:continue}}}}catch(d){n.e(d)}finally{n.f()}}(e,r.parser);return Mr(Mr({},u),{},{lang:c,label:s,representations:l,keyId:void 0,encrypted:t.contentProtection.drmInfos.length>0,channels:f})}function Gr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Hr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gr(Object(r),!0).forEach((function(t){Yr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Yr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qr(e,t){var r=wr(e,t,"text"),n=[];return e.children.forEach((function(e){var t=e.tagName,r=e.children;if("BaseURL"===t){var o=r[0];if(!o)return;n.push(ye(o))}})),Hr(Hr({},r),{},{baseUrl:n[0]})}function Wr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Kr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wr(Object(r),!0).forEach((function(t){zr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function zr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qr(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Zr(e,t){var r=br(e,t);switch(r.type){case"video":return function(e,t,r){var n=t.segmentTemplate,o=t.mimeType,i=Rr(t,Rl),a=parseInt(e.attributes.maxWidth,10),u=parseInt(e.attributes.maxHeight,10),c=Math.max(parseFloat(e.attributes.maxFrameRate),0),s=Ar(e,kr,r).map((function(t){var r,i,a=null!==(r=t.segmentTemplate)&&void 0!==r?r:n,u=null!==(i=t.mimeType)&&void 0!==i?i:o;if(!a)throw new js.w({code:"YASP_PARSE_MANIFEST_ERROR",isFatal:!0,message:"Unexpected missed Representation>SegmentTemplate",details:{node:e},category:Ls.q.MEDIA});if(!u)throw new js.w({code:"YASP_PARSE_MANIFEST_ERROR",isFatal:!0,message:"Unexpected missed Representation>mimeType",details:{node:e},category:Ls.q.MEDIA});return Pr(Pr({},t),{},{segmentTemplate:a,mimeType:u})}));if(isNaN(a))throw new js.w({code:"YASP_PARSE_MANIFEST_ERROR",isFatal:!0,message:"Unexpected AdaptationSet[maxWidth]",details:{node:e},category:Ls.q.MEDIA});if(isNaN(u))throw new js.w({code:"YASP_PARSE_MANIFEST_ERROR",isFatal:!0,message:"Unexpected AdaptationSet[maxHeight]",details:{node:e},category:Ls.q.MEDIA});return Pr(Pr(Pr({},i),c?{maxFrameRate:c}:{}),{},{maxWidth:a,maxHeight:u,representations:s,keyId:void 0,encrypted:t.contentProtection.drmInfos.length>0})}(e,r,t);case"audio":return Ur(e,r,t);case"text":return function(e,t,r){var n,o,i,a,u=t.segmentTemplate,c=t.mimeType,s=Qr(t,jl),l=e.children.filter((function(e){return"Role"===e.tagName})),f=null;l.forEach((function(e){["caption","subtitle"].includes(e.attributes.value)&&(f=e)}));var d=null!==(n=e.attributes.lang)&&void 0!==n?n:"und",h=null!==(o=e.attributes.label)&&void 0!==o?o:null,p=Ar(e,qr,r).map((function(e){return Kr(Kr({},e),{},{segmentTemplate:e.segmentTemplate||u,mimeType:e.mimeType||c})}));return Kr(Kr({},s),{},{role:f?{schemeIdUri:null!==(i=f.attributes.schemeIdUri)&&void 0!==i?i:null,value:null!==(a=f.attributes.value)&&void 0!==a?a:null}:null,lang:d,label:h,representations:p,keyId:void 0,encrypted:t.contentProtection.drmInfos.length>0,segmentAlignment:!1})}(e,r,t);default:throw new js.w({code:"YASP_PARSE_MANIFEST_ERROR",isFatal:!0,message:"Unexpected AdaptationSet[contentType=".concat(r.type,"]"),details:{node:e},category:Ls.q.MEDIA})}}function $r(e,t){var r,n,o,i,a,u,c=t.type.charCodeAt(0)-e.type.charCodeAt(0);if(0!==c)return c;switch(t.type){case"video":return t.maxHeight-e.maxHeight||(null!==(r=t.maxFrameRate)&&void 0!==r?r:0)-(null!==(n=e.maxFrameRate)&&void 0!==n?n:0)||(null!==(o=t.mimeType)&&void 0!==o?o:"").localeCompare(null!==(i=e.mimeType)&&void 0!==i?i:"");case"audio":case"text":return(null!==(a=t.mimeType)&&void 0!==a?a:"").localeCompare(null!==(u=e.mimeType)&&void 0!==u?u:"")}return 0}function Jr(e,t){for(var r=e.children.filter((function(e){return"AdaptationSet"===e.tagName})),n=[],o=0;o<r.length;o++){var i=Zr(r[o],t);i&&n.push(i)}return n.sort($r)}function Xr(e){if(!e)return null;var t=new RegExp("^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$").exec(e);if(!t)return null;var r=31536e3*Number(t[1]||null)+2592e3*Number(t[2]||null)+86400*Number(t[3]||null)+3600*Number(t[4]||null)+60*Number(t[5]||null)+Number(t[6]||null);return isFinite(r)?1e3*r:null}function en(e){if(!e)return null;/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e)&&(e+="Z");var t=Date.parse(e);return isNaN(t)?null:Math.floor(t)}function tn(e,t,r){var n,o,i,a=e.find((function(e){return"MPD"===e.tagName}));if(void 0===a)throw new js.w({code:"YASP_PARSE_MANIFEST_ERROR",isFatal:!0,message:"Unexpected missed MPD",details:{node:{tagName:"root",attributes:{},children:e}},category:Ls.q.MEDIA});for(var u={periods:[],baseUrls:[],maxHeight:null,isDynamic:"dynamic"===(null===(n=a.attributes)||void 0===n?void 0:n.type),mediaType:Nl.D.LIVE,updatePeriod:5e3,minBufferTime:0,presentationStartTime:null,segmentAvailabilityDuration:1/0,maxSegmentDuration:4e3,presentationDelay:0,availabilityTimeOffset:0,clockOffset:0,minSegmentStartTime:null,maxSegmentEndTime:null,presentationTimeOffset:0,publishTime:0,minPeriodStartTime:0,locationUrl:null},c=a.children.filter((function(e){return"BaseURL"===e.tagName})),s=0;s<c.length;s++){var l=c[s].children;1===l.length&&u.baseUrls.push(l[0])}u.baseUrls.length||u.baseUrls.push(function(e){try{var t=new Il(e);t.search="";var r=t.pathname.split("/");return r[r.length-1]="",t.pathname=r.join("/"),t.href}catch(n){return""}}(t)||t);var f=a.children.filter((function(e){return"Period"===e.tagName}));if(void 0===f||0===f.length)throw new js.w({code:"YASP_PARSE_MANIFEST_ERROR",isFatal:!0,message:"Unexpected missed Period",details:{node:a},category:Ls.q.MEDIA});if(u.isDynamic){var d,h,p,v,y;u.minBufferTime=Xr(null===(d=a.attributes)||void 0===d?void 0:d.minBufferTime)||u.minBufferTime,u.updatePeriod=Xr(null===(h=a.attributes)||void 0===h?void 0:h.minimumUpdatePeriod)||u.updatePeriod,u.presentationStartTime=en(null===(p=a.attributes)||void 0===p?void 0:p.availabilityStartTime),u.segmentAvailabilityDuration=Xr(null===(v=a.attributes)||void 0===v?void 0:v.timeShiftBufferDepth)||u.segmentAvailabilityDuration,u.maxSegmentDuration=Xr(null===(y=a.attributes)||void 0===y?void 0:y.maxSegmentDuration)||u.maxSegmentDuration;var m=Xr(a.attributes.suggestedPresentationDelay),g=Math.max(1e4,1.5*u.minBufferTime);u.presentationDelay=null!==m&&void 0!==m?m:g;var b=a.children.filter((function(e){return"UTCTiming"===e.tagName}));u.clockOffset=function(e){var t=e.find((function(e){return Dl.includes(e.attributes.schemeIdUri)}));if(!t)return 0;var r=t.attributes.schemeIdUri,n=t.attributes.value;if(Cl.includes(r)){var o=Date.parse(n);return isNaN(o)?0:o-Date.now()}return 0}(b)}var w,S,E,O,k={maxHeight:null,duration:Xr(null===a||void 0===a?void 0:a.attributes.mediaPresentationDuration),maxPresentationTimeOffset:0,minPeriodStartTime:1/0,segmentAvailabilityDuration:u.segmentAvailabilityDuration,nowWithOffset:Date.now()+u.clockOffset,parser:r,availabilityTimeOffset:1/0,isDynamic:u.isDynamic,emsgSchemeIdUris:{audio:new Set,video:new Set},presentationStartTime:u.presentationStartTime};(u.periods.push((w=f[0],(S=k).minPeriodStartTime=Math.min(Xr(w.attributes.start)||0,S.minPeriodStartTime),{adaptationSets:Jr(w,S)})),k.maxPresentationTimeOffset&&(u.segmentAvailabilityDuration=1/0,u.presentationTimeOffset=k.maxPresentationTimeOffset,u.mediaType=Nl.D.EVENT),k.maxSegmentDuration&&k.maxSegmentEndTime)&&(u.maxSegmentDuration=Math.max(k.maxSegmentDuration,u.maxSegmentDuration),u.minSegmentStartTime=null!==(E=k.minSegmentStartTime)&&void 0!==E?E:null,u.maxSegmentEndTime=null!==(O=k.maxSegmentEndTime)&&void 0!==O?O:null);k.maxHeight&&(u.maxHeight=k.maxHeight),isFinite(k.availabilityTimeOffset)&&(u.availabilityTimeOffset=k.availabilityTimeOffset),u.publishTime=en(null===(o=a.attributes)||void 0===o?void 0:o.publishTime)||u.publishTime,u.emsgSchemeIdUris=k.emsgSchemeIdUris;var _=a.children.find((function(e){return"Location"===e.tagName}));return _&&_.children.length&&(u.locationUrl=ye(_.children[0])),u.minPeriodStartTime=isFinite(k.minPeriodStartTime)?k.minPeriodStartTime:null!==(i=k.minSegmentStartTime)&&void 0!==i?i:u.minPeriodStartTime,u}function rn(e,t){return cn(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||an(e,t)||on()}function nn(e){return cn(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||an(e)||on()}function on(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function an(e,t){if(e){if("string"===typeof e)return un(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?un(e,t):void 0}}function un(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cn(e){if(Array.isArray(e))return e}function sn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ln(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function dn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hn(e){try{var t=new XMLHttpRequest;return t.open("GET","https://yandex.ru"),t.responseType=e,t.responseType===e?e:""}catch(r){return""}}function pn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function vn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yn(e){return(yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function gn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mn(Object(r),!0).forEach((function(t){Tn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function bn(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function wn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function En(e,t){return(En=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function On(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=An(e);if(t){var o=An(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return kn(this,r)}}function kn(e,t){if(t&&("object"===yn(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _n(e)}function _n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function An(e){return(An=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,r=e<10?100*Math.pow(2,e):6e4,n=2*Math.random()-1,o=n*t;return r*(1+o)}function xn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Rn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xn(Object(r),!0).forEach((function(t){Ln(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ln(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jn(e,t){var r=[];e.adaptationSets.forEach((function(e){e.representations.forEach((function(n){switch(e.type){case"audio":t.obtainTimelineTrack(Rn(Rn(Rn({},n),n.segmentTemplate),{},{bitrate:n.bandwidth,language:e.lang,name:e.label,label:e.label,channels:e.channels,type:"audio"}));break;case"video":r.push(n);break;case"text":t.obtainTimelineTrack(function(e,t,r){var n,o,i,a,u=t.segmentTemplate,c=Rn(Rn({},t),{},{kind:(null===(n=r.role)||void 0===n?void 0:n.value)||"subtitles",label:r.label,language:r.lang,bitrate:t.bandwidth,type:"text"});if(u)return Rn(Rn({},c),u);var s=e.getSeekableRange();return Rn(Rn({},c),{},{media:t.baseUrl,initialization:null,timescale:1,startNumber:Math.ceil(Math.abs(1)),endNumber:Math.ceil(Math.abs(1)),startTime:null!==(o=null===s||void 0===s?void 0:s.start)&&void 0!==o?o:0,endTime:null!==(i=null===s||void 0===s?void 0:s.end)&&void 0!==i?i:0,presentationTimeOffset:0,segmentSequences:[{time:0,duration:null!==(a=e.getDuration())&&void 0!==a?a:0,count:Math.ceil(Math.abs(1)),endNumber:Math.ceil(Math.abs(1)),originalValues:{time:0,duration:e.getDuration(),trackPresentationTimeOffset:0}}]})}(t,n,e))}}))})),t.updateVideoTracks(r),t.sortTracksInTimeline()}function In(e){if(!e.length)return 1/0;var t=0;return e.forEach((function(e){t+=e.bandwidth})),t/e.length}function Cn(e,t){return"".concat(e,"; codecs=").concat(JSON.stringify(t))}function Dn(e){return(0,of.Q)(self).isTypeSupported(Cn(e.mimeType,e.codecs))}function Nn(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return Fn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fn(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function Fn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Mn(e){var t,r=[],n=[],o=Nn(e);try{for(o.s();!(t=o.n()).done;){var i=t.value;Dn(i)?r.push(i):n.push(i)}}catch(a){o.e(a)}finally{o.f()}return{supported:r,unsupported:n}}function Vn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Bn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Un(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return Gn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gn(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function Gn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hn(e){var t,r=new Map,n=Un(e.representations);try{for(n.s();!(t=n.n()).done;){var o=t.value,i=o.height,a=o.bandwidth;r.set(i,a)}}catch(u){n.e(u)}finally{n.f()}return r}function Yn(e,t){var r,n=0,o=0,i=0,a=Un(e.keys());try{for(a.s();!(r=a.n()).done;){var u=r.value,c=e.get(u),s=t.get(u);c&&s&&(i++,n+=c,o+=s)}}catch(l){a.e(l)}finally{a.f()}return o/i<n/i?t:e}function qn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Wn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Kn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function zn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Kn(Object(r),!0).forEach((function(t){Qn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Qn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zn(e,t){var r={audio:[],video:[],text:[]},n={video:!1,audio:!1},o={video:new Set,audio:new Set};e.forEach((function(e){if("video"===e.type){n.video=!0;var t=function(e){var t={},r=0,n=Mn(e),o=n.supported,i=n.unsupported;o.forEach((function(e){r=Math.max(r,e.height);var n=e.codecs.split(".")[0];t[n]?t[n].push(e):t[n]=[e]})),(0,Sl.J)(t).forEach((function(e){var n=Vn(e,2),o=n[0];n[1].some((function(e){return e.height===r}))||delete t[o]}));var a=(0,gl.Z)(t);return a.length?(a.length>1&&a.sort((function(e,r){return In(t[e])-In(t[r])})),{selected:t[a[0]],unsupported:i}):{selected:void 0,unsupported:i}}(e.representations),i=t.selected,a=t.unsupported;if(!i)return void a.forEach((function(e){return o.video.add(Cn(e.mimeType,e.codecs))}));r[e.type].push(zn(zn({},e),{},{representations:i,maxHeight:i[0].height,maxWidth:i[0].width}))}else if("audio"===e.type){n.audio=!0;var u=function(e){var t={},r=Mn(e),n=r.supported,o=r.unsupported;n.forEach((function(e){var r=e.codecs.split(".")[0];t[r]?t[r].push(e):t[r]=[e]}));var i=(0,gl.Z)(t);return i.length?(i.length>1&&i.sort((function(e,r){return In(t[e])-In(t[r])})),{selected:t[i[0]],unsupported:o}):{selected:void 0,unsupported:o}}(e.representations),c=u.selected,s=u.unsupported;if(!c)return void s.forEach((function(e){return o.audio.add(Cn(e.mimeType,e.codecs))}));r[e.type].push(zn(zn({},e),{},{representations:c}))}else r[e.type].push(e)}));var i=(0,gl.Z)(n).filter((function(e){return n[e]&&!r[e].length}));if(i.length){var a=i.reduce((function(e,t){return e[t]=Array.from(o[t]),e}),{});throw new js.w({message:"For some types of adaptation sets, no supported codec was found.",code:"YASP_NO_CODECS",details:a,isFatal:!0,category:Ls.q.NO_CODECS})}return(0,Sl.J)(r).reduce((function(e,t){var r=qn(t,2),n=r[0],o=r[1];if("video"===n){var i=function(e){if(!e.length)return null;if(1===e.length)return e[0];for(var t=0,r=Hn(e[t]),n=1;n<e.length;n++){var o=Hn(e[n]);t=(r=Yn(r,o))===o?n:t}return e[t]}(o);i&&e.push(i)}else o.forEach((function(t){return e.push(t)}));return e}),[])}function $n(e){var t=new cf(e);return t.searchParams.delete(uf.j),t.href}function Jn(e){if(!(0,Ts.K)(e))return!1;var t=e;return(0,Ks.H)(t.code)&&(0,Ks.H)(t.category)&&"boolean"===typeof t.isFatal}function Xn(e){return(Xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eo(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==Xn(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}eo=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=ff);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function to(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):ff.resolve(c).then(n,o)}function ro(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function no(){return(no="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=oo(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function oo(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=so(e)););return e}function io(e,t){return(io=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ao(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=so(e);if(t){var o=so(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return uo(this,r)}}function uo(e,t){if(t&&("object"===Xn(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return co(e)}function co(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function so(e){return(so=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fo(e){return(fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ho(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==fo(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}ho=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=vf);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function po(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):vf.resolve(c).then(n,o)}function vo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function yo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mo(e,t){for(var r,n=0,o=0;o<e.length;o++){var i=e[o],a=i.start,u=i.end;if(!(u<t)){if(void 0!==r&&a-r>=.1)break;n+=u-Math.max(a,t),r=u}}return n}function go(e){return(go="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bo(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==go(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}bo=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=wf);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function wo(e){return function(e){if(Array.isArray(e))return So(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return So(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return So(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function So(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Eo(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):wf.resolve(c).then(n,o)}function Oo(e){return function(){var t=this,r=arguments;return new wf((function(n,o){function i(e){Eo(u,n,o,i,a,"next",e)}function a(e){Eo(u,n,o,i,a,"throw",e)}var u=e.apply(t,r);i(void 0)}))}}function ko(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ko(Object(r),!0).forEach((function(t){jo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ko(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ao(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function To(e,t){return(To=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Po(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Lo(e);if(t){var o=Lo(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return xo(this,r)}}function xo(e,t){if(t&&("object"===go(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ro(e)}function Ro(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lo(e){return(Lo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Io(e){var t,r,n=new Af(e).host,o=(t={},(r=e.split("?")[0])?(r.split("/").forEach((function(e){e.startsWith("ysign")&&e.split(",").forEach((function(e){var r=e.indexOf("=");-1!==r&&(t[e.slice(0,r)]=e.slice(r+1))}))})),t):t).lid,i=o?"&lid=".concat(o):"";return"https://".concat(n,"/ping?r=").concat((0,_f.a)(12)).concat(i)}function Co(e){return(Co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Do(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==Co(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}Do=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=Pf);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function No(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):Pf.resolve(c).then(n,o)}function Fo(e){return function(){var t=this,r=arguments;return new Pf((function(n,o){function i(e){No(u,n,o,i,a,"next",e)}function a(e){No(u,n,o,i,a,"throw",e)}var u=e.apply(t,r);i(void 0)}))}}function Mo(e){return Vo.apply(this,arguments)}function Vo(){return(Vo=Fo(Do().mark((function e(t){return Do().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Tf.W)({method:"GET",url:t,withCredentials:!1,timeout:2e3});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bo(e){return(Bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Uo(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==Bo(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}Uo=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=xf);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function Go(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):xf.resolve(c).then(n,o)}function Ho(e){return function(){var t=this,r=arguments;return new xf((function(n,o){function i(e){Go(u,n,o,i,a,"next",e)}function a(e){Go(u,n,o,i,a,"throw",e)}var u=e.apply(t,r);i(void 0)}))}}function Yo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function qo(){return(qo="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=Wo(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function Wo(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=$o(e)););return e}function Ko(e,t){return(Ko=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function zo(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=$o(e);if(t){var o=$o(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Qo(this,r)}}function Qo(e,t){if(t&&("object"===Bo(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Zo(e)}function Zo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $o(e){return($o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xo(e,t,r){var n;return e.replace(/\$RepresentationID\$/g,t.id).replace(/\$Bandwidth\$/g,String(t.bitrate)).replace(/\$Number\$/g,String(null!==(n=null===r||void 0===r?void 0:r.number)&&void 0!==n?n:"")).replace(/\$Time\$/g,String((0,jf.z)(null===r||void 0===r?void 0:r.originalStart)?r.originalStart:"")).replace(/\$\$/g,"$")}function ei(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16;return t?{start:Math.floor(e.start/r)*r,end:Math.floor(e.end/r+1)*r-1}:e}function ti(e){return(ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ri(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ni(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ri(Object(r),!0).forEach((function(t){pi(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ri(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function oi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ii(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ii(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ii(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ai(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ui(){return(ui="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=ci(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function ci(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=hi(e)););return e}function si(e,t){return(si=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function li(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=hi(e);if(t){var o=hi(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return fi(this,r)}}function fi(e,t){if(t&&("object"===ti(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return di(e)}function di(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hi(e){return(hi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pi(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vi(e,t,r){for(var n=1e3*r,o=t,i=!0,a=!1;i;)i=!1,e.forEach((function(e){e.forEach((function(e){e.start<=o&&o<e.end&&(o=e.end,a=!0,i=!0)}))}));return o>=n&&a?-1:o}function yi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function mi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return gi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bi(e){var t=e.split("=").pop();if(!t)return{start:null,end:null};var r=mi(t.split("-"),2),n=r[0],o=r[1],i={start:null,end:null};return""===n||isNaN(Number(n))||(i.start=Number(n)),""===o||isNaN(Number(o))||(i.end=Number(o)),i}function wi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,r="string"===typeof e?bi(e).start:e.start;return r?r/t!==Math.trunc(r/t)?Math.ceil(r/t):r/t:0}function Si(e,t,r){if(!r)return e;var n="string"===typeof r?bi(r):r;if(!(0,zf.hj)(n.start)||!(0,zf.hj)(n.end))return e;var o=t.start-n.start,i=n.end-t.end;return e.subarray(o,e.length-i)}function Ei(e){return(Ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oi(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==Ei(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}Oi=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=Qf);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function ki(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return _i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ai(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):Qf.resolve(c).then(n,o)}function Ti(e){return function(){var t=this,r=arguments;return new Qf((function(n,o){function i(e){Ai(u,n,o,i,a,"next",e)}function a(e){Ai(u,n,o,i,a,"throw",e)}var u=e.apply(t,r);i(void 0)}))}}function Pi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xi(e,t){return(xi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ri(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Ii(e);if(t){var o=Ii(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Li(this,r)}}function Li(e,t){if(t&&("object"===Ei(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ji(e)}function ji(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ii(e){return(Ii=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ci(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Di(e){return(Di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ni(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==Di(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}Ni=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=$f);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function Fi(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):$f.resolve(c).then(n,o)}function Mi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Vi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Bi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ui(e){return-1===e.indexOf("#")?null:(e.split("#").pop().split("&").some((function(e){var r=Vi(e.split("=",2).map(decodeURIComponent),2),n=r[0],o=r[1];return"t"===n&&(t=o,!0)})),function(e){if("string"!==typeof e)return null;try{if(e.match(/^-?\d+(\.\d+)?$/))return Gi(parseFloat(e));if(e.includes("npt:")){var t=e.split("npt:")[1];return Gi(parseFloat(t))}if(e.includes(":")){var r=e.split(":"),n=parseInt(r[0],10)||0,o=parseInt(r[1],10)||0,i=parseFloat(r[2])||0;return Gi(3600*n+60*o+i)}var a=e.match(/^npt:(\d+(\.\d+)?)$/);if(a)return Gi(parseFloat(a[1]))}catch(u){}return null}(t));var t}function Gi(e){return isNaN(e)?null:e}function Hi(e){return(Hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yi(Object(r),!0).forEach((function(t){ea(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Wi(e,t){return(Wi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ki(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Zi(e);if(t){var o=Zi(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return zi(this,r)}}function zi(e,t){if(t&&("object"===Hi(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Qi(e)}function Qi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zi(e){return(Zi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ji(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Xi(e,t,r){return t&&Ji(e.prototype,t),r&&Ji(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ea(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ta(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ra(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return na(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return na(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function na(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oa(e,t){var r,n={},o=ra(e);try{for(o.s();!(r=o.n()).done;){var i=r.value;n[i.trackId]||(n[i.trackId]={type:"audio",bitrate:i.bitrate})}}catch(s){o.e(s)}finally{o.f()}var a,u=ra(t);try{for(u.s();!(a=u.n()).done;){var c=a.value;n[c.trackId]||(n[c.trackId]={type:"video",bitrate:c.bitrate,height:c.height,width:c.width})}}catch(s){u.e(s)}finally{u.f()}return n}function ia(e,t){return e.trace.map((function(e){var r=null;return e.result.map((function(e){return e[t]===r?null:(r=e[t],e[t])})).filter(Boolean).join("-")})).filter(Boolean).join("_")}function aa(e,t,r){var n=(null===e||void 0===e?void 0:e.length)>0?e:[void 0],o=(null===t||void 0===t?void 0:t.length)>0?t:[void 0],i=(null===r||void 0===r?void 0:r.length)>0?r[0].bitrate:0,a=[];return n.forEach((function(e){o.forEach((function(t,r){(function(e){var t=e.width,r=e.height,n=Math.max(t,r),o=Math.min(t,r);if(n<=0)return 0;for(var i=fd[0],a=0;a<fd.length;a++){var u=fd[a],c=dd[u];if(n>=1.3*Math.floor(16*c/9)||o>=1.3*c)return i;i=u}return fd[fd.length-1]})({width:(null===e||void 0===e?void 0:e.width)||0,height:(null===e||void 0===e?void 0:e.height)||0})>360&&r>0||a.push({video:e,audio:t,bandwidth:((null===e||void 0===e?void 0:e.bitrate)||0)+(((null===t||void 0===t?void 0:t.bitrate)||0)+i)})}))})),a}function ua(e){return(ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ca(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function sa(e,t){return(sa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function la(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ha(e);if(t){var o=ha(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return fa(this,r)}}function fa(e,t){if(t&&("object"===ua(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return da(e)}function da(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ha(e){return(ha=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pa(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function va(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ya(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ma(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ga(e,t,r){return t&&ma(e.prototype,t),r&&ma(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ba(e){return["audio","video"].some((function(t){var r=e[t];return r&&null!==r.getWaitingDuration()}))}function wa(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Sa(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ea(e){return(Ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oa(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ka(e,t){return(ka=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _a(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Pa(e);if(t){var o=Pa(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Aa(this,r)}}function Aa(e,t){if(t&&("object"===Ea(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ta(e)}function Ta(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pa(e){return(Pa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xa(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ra(e){return(Ra="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function La(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ja(e,t){return(ja=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ia(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Na(e);if(t){var o=Na(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ca(this,r)}}function Ca(e,t){if(t&&("object"===Ra(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Da(e)}function Da(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Na(e){return(Na=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fa(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ma(e){return(Ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Va(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ba(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ua(e,t){return(Ua=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ga(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Ya(e);if(t){var o=Ya(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ha(this,r)}}function Ha(e,t){if(t&&("object"===Ma(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ya(e){return(Ya=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qa(){return(qa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Wa(e,t){return qa(e,{currentTime:t.currentTime,duration:t.duration}),e}function Ka(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return za(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return za(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function za(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Qa(e,t,r){var n=function(e){return e.filter(Za)}(e);if(n.length<=1)return e;var o,i=[],a=function(e,t,r){var n=function(e,t,r){var n=function(e,t,r){var n=$a(e[0].video.width,e[0].video.height),o=function(e,t){var r=t||{},n=r.defaultLongSideResolution,o=r.userCappingResolution,i=0,a=0;o&&o.width&&o.height&&(i=o.width,a=o.height);var u=Math.max(i,a),c=(0,Ad.R)(n),s=function(e){var t=e.width,r=void 0===t?1/0:t,n=e.height,o=void 0===n?1/0:n,i=e.dpi,a=void 0===i?1:i;return{cappedWidthResolution:r*a,cappedHeightResolution:o*a}}(e),l=s.cappedWidthResolution,f=s.cappedHeightResolution,d=u||Math.min(c,l),h=u||Math.min(c,f);return{videoMaxWidthResolution:d,videoMaxHeightResolution:h}}(t,r),i=o.videoMaxWidthResolution,a=o.videoMaxHeightResolution,u=$a(i,a);return n>u?{videoMaxWidthResolutionWithTrueRatio:i,videoMaxHeightResolutionWithTrueRatio:e[0].video.height*(i/e[0].video.width)}:{videoMaxWidthResolutionWithTrueRatio:e[0].video.width*(a/e[0].video.height),videoMaxHeightResolutionWithTrueRatio:a}}(e,t,r),o=n.videoMaxWidthResolutionWithTrueRatio,i=n.videoMaxHeightResolutionWithTrueRatio;return o*i}(e,t,r);return(0,_d.U)(e.slice().reverse(),(function(e){var t=e.video,r=t.width,o=t.height;return Math.abs(n-r*o)}))}(n,t,r),u=Ka(n);try{for(u.s();!(o=u.n()).done;){var c=o.value;if(i.push(c),a===c)break}}catch(s){u.e(s)}finally{u.f()}return i}function Za(e){return(0,Ts.K)(e.video)&&(0,jf.z)(e.video.width)&&(0,jf.z)(e.video.height)}function $a(e,t){return e/t}function Ja(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Xa(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function tu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ru(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ou(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function au(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uu(e){return(uu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function su(e,t){return(su=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function lu(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=hu(e);if(t){var o=hu(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return fu(this,r)}}function fu(e,t){if(t&&("object"===uu(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return du(e)}function du(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hu(e){return(hu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function vu(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yu(e){return(yu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function gu(){return(gu="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=bu(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function bu(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ou(e)););return e}function wu(e,t){return(wu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Su(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Ou(e);if(t){var o=Ou(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Eu(this,r)}}function Eu(e,t){if(t&&("object"===yu(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ou(e){return(Ou=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ku(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ku(Object(r),!0).forEach((function(t){Au(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ku(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Au(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Pu(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xu(e){return(xu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ru(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Lu(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==xu(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}Lu=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=zd);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function ju(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):zd.resolve(c).then(n,o)}function Iu(e){return function(){var t=this,r=arguments;return new zd((function(n,o){function i(e){ju(u,n,o,i,a,"next",e)}function a(e){ju(u,n,o,i,a,"throw",e)}var u=e.apply(t,r);i(void 0)}))}}function Cu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Du(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nu(e){return(Nu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fu(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return Mu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mu(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function Mu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Vu(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==Nu(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}Vu=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=Xd);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function Bu(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):Xd.resolve(c).then(n,o)}function Uu(e){return function(){var t=this,r=arguments;return new Xd((function(n,o){function i(e){Bu(u,n,o,i,a,"next",e)}function a(e){Bu(u,n,o,i,a,"throw",e)}var u=e.apply(t,r);i(void 0)}))}}function Gu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Hu(){return(Hu="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=Yu(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function Yu(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Qu(e)););return e}function qu(e,t){return(qu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Wu(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Qu(e);if(t){var o=Qu(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ku(this,r)}}function Ku(e,t){if(t&&("object"===Nu(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return zu(e)}function zu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qu(e){return(Qu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zu(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $u(e){return(0,ef.lm)(e.toLocaleLowerCase())||new rh(e,"https://domain.com").searchParams.get("container")||""}function Ju(e){e.reader.skip(4);var t,r,n=e.reader.readUint32(),o=[];if(0===n)throw new Error("[parseSidx] Invalid timescale.");0===e.version?(t=e.reader.readUint32(),r=e.reader.readUint32()):(t=e.reader.readUint64(),r=e.reader.readUint64()),e.reader.skip(2);var i=e.reader.readUint16();if(0===i)throw new Error("[parseSidx] Invalid reference count.");for(var a=t,u=e.start+e.size+r,c=0;c<i;c++){var s=e.reader.readUint32(),l=(2147483648&s)>>>31,f=2147483647&s,d=e.reader.readUint32();if(e.reader.skip(4),1===l)throw new Error("[parseSidx] Hierarchical SIDXs are not supported.");o.push({type:l,size:f,duration:d,startByte:u,endByte:u+f-1,startTime:a,endTime:a+d}),a+=d,u+=f}return e.parser.stop(),{segmentsInfo:o,timescale:n}}function Xu(e){return(Xu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ec(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==Xu(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}ec=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=oh);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function tc(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):oh.resolve(c).then(n,o)}function rc(e){return function(){var t=this,r=arguments;return new oh((function(n,o){function i(e){tc(u,n,o,i,a,"next",e)}function a(e){tc(u,n,o,i,a,"throw",e)}var u=e.apply(t,r);i(void 0)}))}}function nc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function oc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ic(e){return(ic="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ac(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||uc(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uc(e,t){if(e){if("string"===typeof e)return cc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?cc(e,t):void 0}}function cc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sc(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==ic(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}sc=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=ah);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function lc(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):ah.resolve(c).then(n,o)}function fc(e){return function(){var t=this,r=arguments;return new ah((function(n,o){function i(e){lc(u,n,o,i,a,"next",e)}function a(e){lc(u,n,o,i,a,"throw",e)}var u=e.apply(t,r);i(void 0)}))}}function dc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function hc(){return(hc="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=pc(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function pc(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=bc(e)););return e}function vc(e,t){return(vc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function yc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=bc(e);if(t){var o=bc(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return mc(this,r)}}function mc(e,t){if(t&&("object"===ic(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return gc(e)}function gc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bc(e){return(bc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sc(e,t){if(0===t)return ch.resolve();var r=new bf.B,n=function n(i){i.total.reduce((function(e,t){var r=t.start;return e+(t.end-r)}),0)>=t&&(r.resolve(),e.off("BufferedInfoChanged",n),e.off("Destroy",o))},o=function(){r.reject(new Error("Preloading aborted: timeline destroyed"))};return e.on("BufferedInfoChanged",n),e.on("Destroy",o),n(e.getBufferedInfo()),r.promise}function Ec(e){return(Ec="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oc(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==Ec(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}Oc=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=sh);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function kc(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):sh.resolve(c).then(n,o)}function _c(e){return function(){var t=this,r=arguments;return new sh((function(n,o){function i(e){kc(u,n,o,i,a,"next",e)}function a(e){kc(u,n,o,i,a,"throw",e)}var u=e.apply(t,r);i(void 0)}))}}function Ac(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Pc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xc(e){return(xc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rc(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==xc(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}Rc=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=hh);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function Lc(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):hh.resolve(c).then(n,o)}function jc(e){return function(){var t=this,r=arguments;return new hh((function(n,o){function i(e){Lc(u,n,o,i,a,"next",e)}function a(e){Lc(u,n,o,i,a,"throw",e)}var u=e.apply(t,r);i(void 0)}))}}function Ic(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Cc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ic(Object(r),!0).forEach((function(t){Hc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ic(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Dc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Nc(){return(Nc="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=Fc(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function Fc(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Gc(e)););return e}function Mc(e,t){return(Mc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Vc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Gc(e);if(t){var o=Gc(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Bc(this,r)}}function Bc(e,t){if(t&&("object"===xc(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Uc(e)}function Uc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gc(e){return(Gc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function qc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Kc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wc(Object(r),!0).forEach((function(t){Qc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function zc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Qc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zc(e){return(Zc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Jc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xc(e,t){return(Xc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function es(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=rs(e);if(t){var o=rs(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ts(this,r)}}function ts(e,t){if(t&&("object"===Zc(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function rs(e){return(rs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ns(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function os(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return is(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return is(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function is(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function as(e){return(as="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function us(){function e(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,u=Object.create(a.prototype),s=new f(i||[]);return u._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,s),u}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach((function(r){e(t,r,(function(e){return this._invoke(r,e)}))}))}function u(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=r(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==as(l)&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,S;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,S):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function d(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:void 0,done:!0}}us=function(){return p};var p={},v=Object.prototype,y=v.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},g=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{e({},"")}catch(A){e=function(e,t,r){return e[t]=r}}p.wrap=t;var S={},E={};e(E,g,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(d([])));k&&k!==v&&y.call(k,g)&&(E=k);var _=i.prototype=n.prototype=Object.create(E);return o.prototype=i,e(_,"constructor",i),e(i,"constructor",o),o.displayName=e(i,w,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):(t.__proto__=i,e(t,w,"GeneratorFunction")),t.prototype=Object.create(_),t},p.awrap=function(e){return{__await:e}},a(u.prototype),e(u.prototype,b,(function(){return this})),p.AsyncIterator=u,p.async=function(e,r,n,o,i){void 0===i&&(i=Ph);var a=new u(t(e,r,n,o),i);return p.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(_),e(_,w,"Generator"),e(_,g,(function(){return this})),e(_,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=d,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}function cs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ss(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cs(Object(r),!0).forEach((function(t){hs(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ls(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):Ph.resolve(c).then(n,o)}function fs(e){return function(){var t=this,r=arguments;return new Ph((function(n,o){function i(e){ls(u,n,o,i,a,"next",e)}function a(e){ls(u,n,o,i,a,"throw",e)}var u=e.apply(t,r);i(void 0)}))}}function ds(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function hs(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ps(e){return(ps="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:self;new Lh(e).init()}r.d(t,{Z:function(){return jh}});var ys,ms,gs,bs,ws,Ss,Es,Os,ks,_s,As=function(){function e(){var t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=[],(r="timeRanges")in(t=this)?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n}var t,r,o;return t=e,(r=[{key:"length",get:function(){return this.timeRanges.length}},{key:"start",value:function(e){if(this.timeRanges.length<=e)throw new Error("Failed to execute 'start' on 'TimeRanges': The index provided (".concat(e,") is greater than the maximum bound (").concat(this.timeRanges.length,")."));return this.timeRanges[e][0]}},{key:"end",value:function(e){if(this.timeRanges.length<=e)throw new Error("Failed to execute 'end' on 'TimeRanges': The index provided (".concat(e,") is greater than the maximum bound (").concat(this.timeRanges.length,")."));return this.timeRanges[e][1]}},{key:"update",value:function(e){this.timeRanges=e}}])&&n(t.prototype,r),o&&n(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Ts=r(34129),Ps=function(){function e(t,r,n){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,"sourceKey",void 0),i(this,"mediaState",void 0),i(this,"worker",void 0),i(this,"buffered",void 0),i(this,"validateAndHandleEvent",(function(e){var t=e.data;(0,Ts.K)(t)&&"string"===typeof t.method&&t.sourceKey===o.sourceKey&&o.handleEvent(t.method,t.params)})),this.sourceKey=t,this.mediaState=n,this.buffered=new As,this.mediaState.buffered=this.buffered,this.worker=r,this.worker.addEventListener("message",this.validateAndHandleEvent)}var t,r,n;return t=e,(r=[{key:"destroy",value:function(){this.worker.removeEventListener("message",this.validateAndHandleEvent)}},{key:"handleEvent",value:function(e,t){switch(e){case"updateBuffering":return this.mediaState.buffering=t,void this.mediaState.emit("BufferingChange",t);case"updateCurrentTime":return void(this.mediaState.currentTime=t);case"updateDuration":return void(this.mediaState.duration=t);case"updateLoop":return void(this.mediaState.loop=t);case"updatePaused":return void(this.mediaState.paused=t);case"updatePlaybackRate":return void(this.mediaState.playbackRate=t);case"updateBuffered":return void this.buffered.update(t)}}}])&&o(t.prototype,r),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),xs=function(e){function t(){return u(this,t),i.apply(this,arguments)}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(t,e);var r,n,o,i=d(t);return r=t,(n=[{key:"handleEvent",value:function(e,r){switch(e){case"updateFrames":return void(this.mediaState.frames=r);case"updateDevicePixelRatio":return void(this.mediaState.devicePixelRatio=r);case"updateVideoSize":return void(this.mediaState.videoSize=r);case"updateContainerSize":return void(this.mediaState.containerSize=r);case"updateObjectFit":return void(this.mediaState.objectFit=r);default:s(p(t.prototype),"handleEvent",this).call(this,e,r)}}}])&&c(r.prototype,n),o&&c(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(Ps),Rs=r(10525),Ls=r(89225),js=r(41838),Is=r(33157),Cs=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rs.Z,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Rs.Z;m(this,e),this.limit=t,this.onEvent=r,this.onError=n,b(this,"sources",new Map)}var t,r,n;return t=e,n=[{key:"destroySource",value:function(e){null===e||void 0===e||e.destroy()}}],(r=[{key:"getSourceCount",value:function(){return this.sources.size}},{key:"getSourceLimit",value:function(){return this.limit}},{key:"takeSource",value:function(e){return this.sources.get((0,Is.Hi)(e))}},{key:"putSource",value:function(t,r){var n=(0,Is.Hi)(t);this.sources.delete(n),this.sources.set(n,r);for(var o=[],i=this.sources.entries(),a=0;this.sources.size>this.limit;){var u=i.next();if(u.done)break;var c=v(u.value,2),s=c[0],l=c[1];l.isAttached()?a++:(e.destroySource(l),o.push(s),this.sources.delete(s))}if(this.sources.size>this.limit){var f=new js.w({code:"YASP_SOURCE_LIMIT_EXCEEDED",details:{limit:this.limit,attachedSources:a,size:this.sources.size},category:Ls.q.MEDIA,isFatal:!1});this.onError(f)}o.length&&this.onEvent(o,this.limit)}},{key:"removeSource",value:function(t){var r=(0,Is.Hi)(t),n=this.sources.get(r);return!!n&&(e.destroySource(n),this.sources.delete(r))}},{key:"getAllSources",value:function(){return Array.from(this.sources.values())}}])&&g(t.prototype,r),n&&g(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Ds=(r(25443),function(e){function t(e){var r,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),R(P(n=i.call(this)),"id",void 0),R(P(n),"bitrate",void 0),R(P(n),"language",void 0),R(P(n),"type",void 0),R(P(n),"initialization",void 0),R(P(n),"timescale",void 0),R(P(n),"media",void 0),R(P(n),"mimeType",void 0),R(P(n),"startNumber",void 0),R(P(n),"startTime",void 0),R(P(n),"endNumber",void 0),R(P(n),"endTime",void 0),R(P(n),"presentationTimeOffset",void 0),R(P(n),"segmentSequences",void 0),R(P(n),"isMP4",void 0),R(P(n),"init",null),R(P(n),"segmentRanges",[]),R(P(n),"segments",new Map),n.id=e.id,n.bitrate=e.bitrate,n.language=e.language,n.type=e.type,n.initialization=e.initialization,n.timescale=e.timescale,n.media=e.media,n.mimeType=e.mimeType,n.startNumber=e.startNumber,n.startTime=e.startTime,n.endNumber=e.endNumber,n.endTime=e.endTime,n.presentationTimeOffset=e.presentationTimeOffset,n.segmentSequences=e.segmentSequences,n.isMP4=null!==(r=e.isMP4)&&void 0!==r&&r,n}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(t,e);var r,n,o,i=A(t);return r=t,(n=[{key:"updateTrack",value:function(e){this.startNumber=e.startNumber,this.startTime=e.startTime,this.endNumber=e.endNumber,this.endTime=e.endTime,this.presentationTimeOffset=e.presentationTimeOffset,this.segmentSequences=e.segmentSequences,this.bitrate=e.bitrate,this.initialization=e.initialization,this.media=e.media}},{key:"getFullMimeType",value:function(){return this.mimeType}},{key:"appendSegment",value:function(e){var t=this;e.isInitSegment?this.init=e:this.segments.set(e.number,e),this.updateSegmentRanges(),e.finished?this.parseSegment(e):(e.once("Failed",(function(){e.isInitSegment?t.init=null:(t.segments.delete(e.number),t.updateSegmentRanges())})),e.once("Finish",(function(){t.parseSegment(e),t.updateSegmentRanges()})))}},{key:"parseSegment",value:function(e){}},{key:"hasSegment",value:function(e){return this.segments.has(e)}},{key:"getInitSegment",value:function(){return this.init}},{key:"getSegment",value:function(e){var t=this;return E(this.segments.values()).find((function(r){return void 0!==r&&(r.number===t.endNumber&&e===t.endTime-t.presentationTimeOffset||r.start<=e&&e<r.end)}))||null}},{key:"getBufferedRanges",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return null===this.initialization||null!==(e=this.init)&&void 0!==e&&e.finished?t?this.segmentRanges.map((function(e){return{start:e.start,end:e.end}})):this.segmentRanges.filter((function(e){return e.finished})).map((function(e){return{start:e.start,end:e.end}})):[]}},{key:"getSeekableRanges",value:function(){return[{start:this.startTime-this.presentationTimeOffset,end:this.endTime-this.presentationTimeOffset}]}},{key:"getSegmentsDebugInfo",value:function(e){var t=this,r=0,n=0,o=0,i=0;return this.segments.forEach((function(a){e>a.end-t.presentationTimeOffset?(r+=a.loadedRawSize,n+=1):(o+=a.loadedRawSize,i+=1)})),{playedRawSize:r,playedSegmentCount:n,activeRawSize:o,activeSegmentCount:i}}},{key:"getDebugInfo",value:function(){var e;return{id:this.id,bitrate:this.bitrate,language:this.language,type:this.type,initialization:this.initialization,timescale:this.timescale,media:this.media,mimeType:this.mimeType,startNumber:this.startNumber,startTime:this.startTime,endNumber:this.endNumber,endTime:this.endTime,presentationTimeOffset:this.presentationTimeOffset,initSegment:null===(e=this.init)||void 0===e?void 0:e.getDebugInfo(),segmentSequences:this.segmentSequences,seekableRanges:this.getSeekableRanges(),segmentRanges:this.segmentRanges,segments:Array.from(this.segments.entries()).reduce((function(e,t){return e[t[0]]=t[1].getDebugInfo(),e}),{})}}},{key:"updateSegmentRanges",value:function(){var e=this.segmentRanges;this.segmentRanges=[];var t=E(this.segments.values()).sort((function(e,t){return e.start-t.start}));if(0!==t.length){for(var r={start:t[0].start,startNumber:t[0].number,end:t[0].end,endNumber:t[0].number,finished:t[0].finished},n=1;n<t.length;n++){var o=t[n];o.finished===r.finished&&o.start===r.end?(r.end=o.end,r.endNumber=o.number):(this.segmentRanges.push(r),r={start:o.start,startNumber:o.number,end:o.end,endNumber:o.number,finished:o.finished})}this.segmentRanges.push(r),this.emit("BufferedInfoChanged")}else 0!==e.length&&this.emit("BufferedInfoChanged")}},{key:"clear",value:function(e,t){return this.clearForParallel(e,t)}},{key:"destroy",value:function(){this.clear(0,Number.MAX_SAFE_INTEGER)}},{key:"clearForParallel",value:function(e,t){var r=this,n=!1;E(this.segments.values()).forEach((function(o){o.start>=e&&o.end<=t&&(n=!0,o.destroy(),r.segments.delete(o.number))})),n&&this.updateSegmentRanges()}}])&&k(r.prototype,n),o&&k(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(r(42630).v)),Ns=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),G(B(r=i.call(this,e)),"type","audio"),G(B(r),"codecs",void 0),G(B(r),"label",void 0),G(B(r),"channels",void 0),r.codecs=e.codecs,r.label=e.name,r.channels=e.channels,r}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F(e,t)}(t,e);var r,n,o,i=M(t);return r=t,(n=[{key:"getFullMimeType",value:function(){return"".concat(this.mimeType,"; codecs=").concat(JSON.stringify(this.codecs))}},{key:"getDebugInfo",value:function(){return I(I({},D(U(t.prototype),"getDebugInfo",this).call(this)),{},{codecs:this.codecs,label:this.label})}}])&&C(r.prototype,n),o&&C(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(Ds),Fs=function(e){function t(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ee(J(r=i.call(this,e)),"height",void 0),ee(J(r),"width",void 0),ee(J(r),"type","video"),ee(J(r),"codecs",void 0),ee(J(r),"frameRate",void 0),ee(J(r),"label",void 0),r.height=e.height,r.width=e.width,r.codecs=e.codecs,r.frameRate=e.frameRate;var n=r.parseMediaAttribute(e.media||"");return r.label=n.label||"".concat(r.height,"p"),r}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q(e,t)}(t,e);var r,n,o,i=Z(t);return r=t,(n=[{key:"getDebugInfo",value:function(){return q(q({},K(X(t.prototype),"getDebugInfo",this).call(this)),{},{height:this.height,width:this.width,codecs:this.codecs})}},{key:"getFullMimeType",value:function(){return"".concat(this.mimeType,"; codecs=").concat(JSON.stringify(this.codecs))}},{key:"parseMediaAttribute",value:function(e){var t={};return e.split(",").map((function(e){var r=e.split("=");r.length>0&&(t[r[0]]=r[1])})),t}}])&&W(r.prototype,n),o&&W(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(Ds),Ms=r(90973),Vs=function(){function e(){re(this,e)}return oe(e,[{key:"parseInit",value:function(e){}},{key:"parseMedia",value:function(e,t){return[]}}]),e}(),Bs=function(){function e(t){re(this,e),te(this,"data_",void 0),te(this,"position_",void 0),this.data_=t,this.position_=0}return oe(e,[{key:"atEnd",value:function(){var e;return this.position_===(null===(e=this.data_)||void 0===e?void 0:e.length)}},{key:"readLine",value:function(){return this.readRegexReturnCapture_(/(.*?)(\n|$)/gm,1)}},{key:"readWord",value:function(){return this.readRegexReturnCapture_(/[^ \t\n]*/gm,0)}},{key:"skipWhitespace",value:function(){this.readRegex(/[ \t]+/gm)}},{key:"readRegex",value:function(e){var t=this.indexOf_(e);return this.atEnd()||null===t||t.position!==this.position_?null:(this.position_+=t.length,t.results)}},{key:"readRegexReturnCapture_",value:function(e,t){if(this.atEnd())return null;var r=this.readRegex(e);return r?r[t]:null}},{key:"indexOf_",value:function(e){e.lastIndex=this.position_;var t=e.exec(this.data_);return null===t?null:{position:t.index,length:t[0].length,results:t}}}]),e}(),Us=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,n=[{key:"defaultEquals",value:function(e,t){return!("number"!==typeof e||"number"!==typeof t||!isNaN(e)||!isNaN(t))||e===t}},{key:"equal",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.defaultEquals;if(t.length!==r.length)return!1;for(var o=0;o<t.length;o++)if(!n(t[o],r[o]))return!1;return!0}},{key:"remove",value:function(e,t){var r=e.indexOf(t);r>-1&&e.splice(r,1)}}],(r=null)&&ie(t.prototype,r),n&&ie(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Gs=function(){function e(t,r,n){ae(this,e),se(this,"startTime",void 0),se(this,"endTime",void 0),se(this,"payload",void 0),se(this,"direction",bs.HORIZONTAL_LEFT_TO_RIGHT),se(this,"region",new qs),se(this,"position",null),se(this,"positionAlign",ys.AUTO),se(this,"size",0),se(this,"textAlign",ms.CENTER),se(this,"writingMode",ws.HORIZONTAL_TOP_TO_BOTTOM),se(this,"lineInterpretation",Ss.LINE_NUMBER),se(this,"line",null),se(this,"lineHeight",""),se(this,"lineAlign",Es.START),se(this,"displayAlign",gs.AFTER),se(this,"color",""),se(this,"backgroundColor",""),se(this,"backgroundImage",""),se(this,"fontSize",""),se(this,"fontWeight",Os.NORMAL),se(this,"fontStyle",ks.NORMAL),se(this,"fontFamily",""),se(this,"textDecoration",[]),se(this,"wrapLine",!0),se(this,"id",""),se(this,"nestedCues",[]),se(this,"lineBreak",!1),se(this,"spacer",!1),se(this,"cellResolution",{columns:32,rows:15}),se(this,"border",""),se(this,"letterSpacing",""),se(this,"linePadding",""),se(this,"opacity",1),this.startTime=t,this.endTime=r,this.payload=n}return ce(e,[{key:"clone",value:function(){var t=new e(0,0,"");for(var r in this)t[r]=this[r],t[r]&&t[r].constructor===Array&&(t[r]=t[r].slice());return t}}],[{key:"equal",value:function(t,r){for(var n in t)if("nestedCues"===n){if(!Us.equal(t.nestedCues,r.nestedCues,e.equal))return!1}else if("region"===n||"cellResolution"===n){for(var o in t[n])if(t[n][o]!==r[n][o])return!1}else if(Array.isArray(t[n])){if(!Us.equal(t[n],r[n]))return!1}else if(t[n]!==r[n])return!1;return!0}}]),e}();!function(e){e.LEFT="line-left",e.RIGHT="line-right",e.CENTER="center",e.AUTO="auto"}(ys||(ys={})),function(e){e.LEFT="left",e.RIGHT="right",e.CENTER="center",e.START="start",e.END="end"}(ms||(ms={})),function(e){e.BEFORE="before",e.CENTER="center",e.AFTER="after"}(gs||(gs={})),function(e){e.HORIZONTAL_LEFT_TO_RIGHT="ltr",e.HORIZONTAL_RIGHT_TO_LEFT="rtl"}(bs||(bs={})),function(e){e.HORIZONTAL_TOP_TO_BOTTOM="horizontal-tb",e.VERTICAL_LEFT_TO_RIGHT="vertical-lr",e.VERTICAL_RIGHT_TO_LEFT="vertical-rl"}(ws||(ws={})),function(e){e[e.LINE_NUMBER=0]="LINE_NUMBER",e[e.PERCENTAGE=1]="PERCENTAGE"}(Ss||(Ss={})),function(e){e.CENTER="center",e.START="start",e.END="end"}(Es||(Es={})),function(e){e[e.NORMAL=400]="NORMAL",e[e.BOLD=700]="BOLD"}(Os||(Os={})),function(e){e.NORMAL="normal",e.ITALIC="italic",e.OBLIQUE="oblique"}(ks||(ks={})),function(e){e.UNDERLINE="underline",e.LINE_THROUGH="lineThrough",e.OVERLINE="overline"}(_s||(_s={}));var Hs,Ys,qs=ce((function e(){ae(this,e),se(this,"id",""),se(this,"viewportAnchorX",0),se(this,"viewportAnchorY",0),se(this,"regionAnchorX",0),se(this,"regionAnchorY",0),se(this,"width",100),se(this,"height",100),se(this,"heightUnits",Hs.PERCENTAGE),se(this,"widthUnits",Hs.PERCENTAGE),se(this,"viewportAnchorUnits",Hs.PERCENTAGE),se(this,"scroll",Ys.NONE)}));!function(e){e[e.PX=0]="PX",e[e.PERCENTAGE=1]="PERCENTAGE",e[e.LINES=2]="LINES"}(Hs||(Hs={})),function(e){e.NONE="",e.UP="up"}(Ys||(Ys={}));var Ws=r(48932),Ks=r(66696),zs=r(14675).parse,Qs=function(){function e(){var t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n={},(r="namespaces")in(t=this)?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n}var t,r,n;return t=e,n=[{key:"getChildren",value:function(e){return Array.from(e.children).filter((function(e){return!(0,Ks.H)(e)}))}},{key:"getElementsByTagName",value:function(e,t){var r=[];return function e(n){n.tagName===t&&r.push(n);var o,i=fe(n.children);try{for(i.s();!(o=i.n()).done;){var a=o.value;"string"!==typeof a&&e(a)}}catch(u){i.e(u)}finally{i.f()}}(e),r}},{key:"getElementByTagName",value:function(e,t){var r=null;return function e(n){if(null===r)if(n.tagName!==t){var o,i=fe(n.children);try{for(i.s();!(o=i.n()).done;){var a=o.value;"string"!==typeof a&&e(a)}}catch(u){i.e(u)}finally{i.f()}}else r=n}(e),r}},{key:"setParent",value:function(e){var t=le(e,{parent:null});return function e(t){var r,n=fe(t.children);try{for(n.s();!(r=n.n()).done;){var o=r.value;"string"!==typeof o&&(o.parent=t,e(o))}}catch(i){n.e(i)}finally{n.f()}}(t),t}},{key:"getTextContent",value:function(e){var t="";return function e(r){var n,o=fe(r.children);try{for(o.s();!(n=o.n()).done;){var i=n.value;"string"===typeof i?t+=i:e(i)}}catch(a){o.e(a)}finally{o.f()}}(e),t}}],(r=[{key:"parse",value:function(e){var t=this,r=zs(e),n=Array.isArray(r)?r:[];return n.forEach((function(e){e.attributes&&Object.keys(e.attributes).forEach((function(r){if(r.startsWith("xmlns")){var n=de(r.split(":"),2)[1];t.namespaces[e.attributes[r]]=n||"__global"}}))})),n}},{key:"getAttributeNS",value:function(e,t,r){var n="".concat(this.namespaces[t],":").concat(r);return n in e.attributes?e.attributes[n]:null}},{key:"getAttributeNSList",value:function(e,t,r){var n,o=fe(t);try{for(o.s();!(n=o.n()).done;){var i=n.value,a=this.getAttributeNS(e,i,r);if(a)return a}}catch(u){o.e(u)}finally{o.f()}return null}},{key:"findChildrenNS",value:function(e,t,r){var n=this;return e.children.filter((function(e){var o="".concat(n.namespaces[t],":").concat(r);return"string"!==typeof e&&e.tagName===o}))}},{key:"findChildren",value:function(e,t){return e.children?e.children.filter((function(e){return"string"!==typeof e&&e.tagName===t})):[]}},{key:"getContents",value:function(e){var t;return(0,Ks.H)(e)?e:e.children.every(Ks.H)&&null!==(t=e.children[0].trim())&&void 0!==t?t:null}},{key:"findChildNS",value:function(e,t,r){var n=this.findChildrenNS(e,t,r);return 1!==n.length?null:n[0]}}])&&ve(t.prototype,r),n&&ve(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Zs={amp:"&",quot:'"',apos:"'",lt:"<",gt:">"},$s=function(e){function t(){return Ee(this,t),r.call(this)}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_e(e,t)}(t,e);var r=Ae(t);return ke(t,[{key:"parseInit",value:function(e){}},{key:"parseMedia",value:function(e,r){var n=new Qs,o=t.parameterNs,i=t.styleNs,a=Ws.x.fromUTF8(e),u=[],c=null;if(!a)return u;try{c=n.parse(function(e){return e.replace(/<br\s*><\/br\s*>/gi,"<br />")}(a))}catch(M){throw new js.w({isFatal:!1,category:Ls.q.MEDIA,code:"YASP_INVALID_SUBTITLES_XML",message:"Failed to parse TTML. "+M,details:{}})}if(!c||!c.length)throw new js.w({isFatal:!1,category:Ls.q.MEDIA,code:"YASP_INVALID_SUBTITLES_XML",message:"Failed to parse TTML.",details:{}});var s=c.filter((function(e){return"tt"===e.tagName})),l=Qs.setParent(s[0]);if(!l)throw new js.w({isFatal:!1,category:Ls.q.MEDIA,code:"YASP_INVALID_SUBTITLES_XML",message:"TTML does not contain <tt> tag.",details:{}});var f=Qs.getElementByTagName(l,"body");if(!f)return[];var d=n.getAttributeNS(l,o,"frameRate"),h=n.getAttributeNS(l,o,"subFrameRate"),p=n.getAttributeNS(l,o,"frameRateMultiplier"),v=n.getAttributeNS(l,o,"tickRate"),y=n.getAttributeNS(l,o,"cellResolution"),m=l.attributes["xml:space"]||"default",g=n.getAttributeNS(l,i,"extent");if("default"!==m&&"preserve"!==m)throw new js.w({isFatal:!1,category:Ls.q.MEDIA,code:"YASP_INVALID_SUBTITLES_XML",message:"Invalid xml:space value: "+m,details:{}});var b,w="default"===m,S=new Js(d,h,p,v),E=t.getCellResolution(null!==y&&void 0!==y?y:""),O=Qs.getElementByTagName(l,"metadata"),k=O?Qs.getChildren(O).filter((function(e){return!(0,Ks.H)(e)})):[],_=Qs.getElementsByTagName(l,"style"),A=Qs.getElementsByTagName(l,"region"),T=[],P=we(A);try{for(P.s();!(b=P.n()).done;){var x=b.value,R=t.parseCueRegion(x,_,g,n);R&&T.push(R)}}catch(V){P.e(V)}finally{P.f()}if(n.findChildren(f,"p").length)throw new js.w({category:Ls.q.MEDIA,code:"YASP_INVALID_SUBTITLES_XML",isFatal:!1,message:"<p> can only be inside <div> in TTML",details:{}});var L,j=we(n.findChildren(f,"div"));try{for(j.s();!(L=j.n()).done;){var I=L.value;if(n.findChildren(I,"span").length)throw new js.w({isFatal:!1,category:Ls.q.MEDIA,code:"YASP_INVALID_SUBTITLES_XML",message:"<span> can only be inside <p> in TTML",details:{}});var C,D=we(n.findChildren(I,"p"));try{for(D.s();!(C=D.n()).done;){var N=C.value,F=t.parseCue({cueNode:N,offset:r.periodStart,rateInfo:S,metadataElements:k,styles:_,regionElements:A,cueRegions:T,whitespaceTrim:w,isNested:!1,cellResolution:E,xmlUtils:n,parentNode:I});F&&u.push(F)}}catch(V){D.e(V)}finally{D.f()}}}catch(V){j.e(V)}finally{j.f()}return u}}],[{key:"parseCue",value:function(e){var r,n,o=e.cueNode,i=e.offset,a=e.rateInfo,u=e.metadataElements,c=e.styles,s=e.regionElements,l=e.cueRegions,f=e.whitespaceTrim,d=e.isNested,h=e.cellResolution,p=e.xmlUtils,v=e.parentNode;if(!(n=(r=(0,Ks.H)(o)?Re(function(e,t){return{tagName:"span",attributes:{},children:[e],parent:t}}(o,v)):Re(o)).parent))return null;var y=Re(n),m=/\S/.test(r.textContent),g=r.textContent&&!m,b=Boolean(r.children.length),w="br"===r.tagName,S=r.attributes.begin||r.attributes.end||r.attributes.dur;if(!S&&g&&!w){if(!d)return null;if(f)return null}if(!m&&!b&&!S&&!w)return null;for(var E=t.parseTime(r,a),O=E.start,k=E.end;1===(null===(_=y)||void 0===_?void 0:_.nodeType)&&"tt"!==(null===(A=y)||void 0===A?void 0:A.tagName);){var _,A,T=t.resolveTime(y,a,O,k);O=T.start,k=T.end;var P=y.parent;if(!P)break;y=Re(P)}if(null===O&&(O=0),O+=i,null===k?k=1/0:k+=i,"br"===r.tagName){var x=new Gs(O,k,"");return x.lineBreak=!0,x}var R="",L=[];if(3===r.nodeType)R=ye(r.textContent),f&&(R=(R=R.trim()).replace(/\s+/g," "));else{var j,I=we(r.children);try{for(I.s();!(j=I.n()).done;){var C=j.value,D=t.parseCue({cueNode:C,offset:i,rateInfo:a,metadataElements:u,styles:c,regionElements:s,cueRegions:l,whitespaceTrim:f,isNested:!0,cellResolution:h,xmlUtils:p,parentNode:r});D&&L.push(D)}}catch(U){I.e(U)}finally{I.f()}}var N=new Gs(O,k,R);N.nestedCues=L,h&&(N.cellResolution=h);var F=t.getElementsFromCollection(r,"region",s,"",p)[0];if(F&&F.attributes["xml:id"]){var M=F.attributes["xml:id"];N.region=l.filter((function(e){return e.id===M}))[0]}var V=t.getElementsFromCollection(r,"backgroundImage",u,"#",p,t.smpteNs)[0],B=0===L.length;return t.addStyle(N,r,F,V,c,d,B,p),N}},{key:"parseCueRegion",value:function(e,r,n,o){var i=new qs,a=e.attributes["xml:id"];if(!a)return null;i.id=a;var u=null;n&&(u=t.percentValues.exec(n)||t.pixelValues.exec(n));var c=u?Number(u[1]):null,s=u?Number(u[2]):null,l=null,f=null,d=t.getStyleAttributeFromRegion(e,r,"extent",o);d&&null!==(l=(f=t.percentValues.exec(d))||t.pixelValues.exec(d))&&(i.width=null!==c?100*Number(l[1])/c:Number(l[1]),i.height=null!==s?100*Number(l[2])/s:Number(l[2]),i.widthUnits=f||null!==c?Hs.PERCENTAGE:Hs.PX,i.heightUnits=f||null!==s?Hs.PERCENTAGE:Hs.PX);var h=t.getStyleAttributeFromRegion(e,r,"origin",o);return h&&null!==(l=(f=t.percentValues.exec(h))||t.pixelValues.exec(h))&&(i.viewportAnchorX=null!==s?100*Number(l[1])/s:Number(l[1]),i.viewportAnchorY=null!==c?100*Number(l[2])/c:Number(l[2]),i.viewportAnchorUnits=f||null!==c?Hs.PERCENTAGE:Hs.PX),i}},{key:"addStyle",value:function(e,r,n,o,i,a,u,c){var s=o?Re(o):o,l=a||u;"rtl"===t.getStyleAttribute(r,n,i,"direction",l,c)&&(e.direction=bs.HORIZONTAL_RIGHT_TO_LEFT);var f=t.getStyleAttribute(r,n,i,"writingMode",l,c);"tb"===f||"tblr"===f?e.writingMode=ws.VERTICAL_LEFT_TO_RIGHT:"tbrl"===f?e.writingMode=ws.VERTICAL_RIGHT_TO_LEFT:"rltb"===f||"rl"===f?e.direction=bs.HORIZONTAL_RIGHT_TO_LEFT:f&&(e.direction=bs.HORIZONTAL_LEFT_TO_RIGHT);var d=t.getStyleAttribute(r,n,i,"textAlign",l,c);d?(e.positionAlign=t.textAlignToPositionAlign[d],e.lineAlign=t.textAlignToLineAlign[d],e.textAlign=ms[d.toUpperCase()]):e.textAlign=ms.START;var h=t.getStyleAttribute(r,n,i,"displayAlign",l,c);h&&(e.displayAlign=gs[h.toUpperCase()]);var p=t.getStyleAttribute(r,n,i,"color",l,c);p&&(e.color=p);var v=t.getStyleAttribute(r,n,i,"backgroundColor",l,c);v&&(e.backgroundColor=v);var y=t.getStyleAttribute(r,n,i,"border",l,c);y&&(e.border=y);var m=t.getStyleAttribute(r,n,i,"fontFamily",l,c);m&&(e.fontFamily=m);var g=t.getStyleAttribute(r,n,i,"fontWeight",l,c);g&&"bold"===g&&(e.fontWeight=Os.BOLD);var b=t.getStyleAttribute(r,n,i,"wrapOption",l,c);e.wrapLine=!b||"noWrap"!==b;var w=t.getStyleAttribute(r,n,i,"lineHeight",l,c);w&&w.match(t.unitValues)&&(e.lineHeight=w);var S=t.getStyleAttribute(r,n,i,"fontSize",l,c);S&&((S.match(t.unitValues)||S.match(t.percentValue))&&(e.fontSize=S));var E=t.getStyleAttribute(r,n,i,"fontStyle",l,c);if(E&&(e.fontStyle=ks[E.toUpperCase()]),s){var O=s.attributes.imagetype,k=s.attributes.encoding,_=s.textContent.trim();"PNG"===O&&"Base64"===k&&_&&(e.backgroundImage="data:image/png;base64,"+_)}var A=t.getStyleAttribute(r,n,i,"letterSpacing",l,c);A&&A.match(t.unitValues)&&(e.letterSpacing=A);var T=t.getStyleAttribute(r,n,i,"linePadding",l,c);T&&T.match(t.unitValues)&&(e.linePadding=T);var P=t.getStyleAttribute(r,n,i,"opacity",l,c);P&&(e.opacity=parseFloat(P));var x=t.getStyleAttributeFromRegion(n,i,"textDecoration",c);x&&t.addTextDecoration(e,x);var R=t.getStyleAttributeFromElement(r,i,"textDecoration",c);R&&t.addTextDecoration(e,R)}},{key:"addTextDecoration",value:function(e,t){var r,n=we(t.split(" "));try{for(n.s();!(r=n.n()).done;){switch(r.value){case"underline":e.textDecoration.includes(_s.UNDERLINE)||e.textDecoration.push(_s.UNDERLINE);break;case"noUnderline":e.textDecoration.includes(_s.UNDERLINE)&&Us.remove(e.textDecoration,_s.UNDERLINE);break;case"lineThrough":e.textDecoration.includes(_s.LINE_THROUGH)||e.textDecoration.push(_s.LINE_THROUGH);break;case"noLineThrough":e.textDecoration.includes(_s.LINE_THROUGH)&&Us.remove(e.textDecoration,_s.LINE_THROUGH);break;case"overline":e.textDecoration.includes(_s.OVERLINE)||e.textDecoration.push(_s.OVERLINE);break;case"noOverline":e.textDecoration.includes(_s.OVERLINE)&&Us.remove(e.textDecoration,_s.OVERLINE);break;default:continue}}}catch(o){n.e(o)}finally{n.f()}}},{key:"getStyleAttribute",value:function(e,r,n,o){var i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=arguments.length>5?arguments[5]:void 0,u=t.getStyleAttributeFromElement(e,n,o,a);return u||(i?t.getStyleAttributeFromRegion(r,n,o,a):null)}},{key:"getStyleAttributeFromRegion",value:function(e,r,n,o){var i=t.styleNs;if(!e)return null;var a=o.getAttributeNS(e,i,n);return a||t.getInheritedStyleAttribute(e,r,n,o)}},{key:"getStyleAttributeFromElement",value:function(e,r,n,o){var i=t.styleNs,a=o.getAttributeNS(e,i,n);return a||t.getInheritedStyleAttribute(e,r,n,o)}},{key:"getInheritedStyleAttribute",value:function(e,r,n,o){for(var i=t.styleNs,a=t.styleEbuttsNs,u=t.getElementsFromCollection(e,"style",r,"",o),c=null,s=0;s<u.length;s++){var l=o.getAttributeNS(u[s],a,n);l||(l=o.getAttributeNS(u[s],i,n)),l||(l=t.getStyleAttributeFromElement(u[s],r,n,o)),l&&(c=l)}return c}},{key:"getElementsFromCollection",value:function(e,r,n,o,i,a){var u=[];if(!e||n.length<1)return u;var c=t.getInheritedAttribute(e,r,i,a);if(c){var s,l=we(c.split(" "));try{for(l.s();!(s=l.n()).done;){var f,d=s.value,h=we(n);try{for(h.s();!(f=h.n()).done;){var p=f.value;if(o+p.attributes["xml:id"]===d){u.push(p);break}}}catch(v){h.e(v)}finally{h.f()}}}catch(v){l.e(v)}finally{l.f()}}return u}},{key:"getInheritedAttribute",value:function(e,t,r,n){for(var o=null;e&&!(o=n?r.getAttributeNS(e,n,t):e.attributes[t]);){var i=e.parent;if(null===i)break;e=i}return o}},{key:"resolveTime",value:function(e,r,n,o){var i=t.parseTime(e,r);return null===n?n=i.start:null!==i.start&&(n+=i.start),null===o?o=i.end:null!==i.start&&(o+=i.start),{start:n,end:o}}},{key:"parseTime",value:function(e,r){var n=t.parseTimeAttribute(e.attributes.begin,r),o=t.parseTimeAttribute(e.attributes.end,r),i=t.parseTimeAttribute(e.attributes.dur,r);return null===o&&null!==i&&(o=n+i),{start:n,end:o}}},{key:"parseTimeAttribute",value:function(e,r){var n=null;if(t.timeColonFormatFrames.test(e))n=t.parseColonTimeWithFrames(r,e);else if(t.timeColonFormat.test(e))n=t.parseTimeFromRegex(t.timeColonFormat,e);else if(t.timeColonFormatMilliseconds.test(e))n=t.parseTimeFromRegex(t.timeColonFormatMilliseconds,e);else if(t.timeFramesFormat.test(e))n=t.parseFramesTime(r,e);else if(t.timeTickFormat.test(e))n=t.parseTickTime(r,e);else if(t.timeHMSFormat.test(e))n=t.parseTimeFromRegex(t.timeHMSFormat,e);else if(e)throw new js.w({isFatal:!1,category:Ls.q.MEDIA,code:"YASP_INVALID_TEXT_CUE",details:{},message:"Could not parse cue time range in TTML"});return n}},{key:"parseFramesTime",value:function(e,r){var n=t.timeFramesFormat.exec(r);return n?Number(n[1])/e.frameRate:null}},{key:"parseTickTime",value:function(e,r){var n=t.timeTickFormat.exec(r);return n?Number(n[1])/e.tickRate:null}},{key:"parseColonTimeWithFrames",value:function(e,r){var n=t.timeColonFormatFrames.exec(r);if(!n)return null;var o=Number(n[1]),i=Number(n[2]),a=Number(n[3]),u=Number(n[4]);return(a+=(u+=(Number(n[5])||0)/e.subFrameRate)/e.frameRate)+60*i+3600*o}},{key:"parseTimeFromRegex",value:function(e,t){var r=e.exec(t);if(null===r||""===r[0])return null;var n=Number(r[1])||0,o=Number(r[2])||0,i=Number(r[3])||0;return(Number(r[4])||0)/1e3+i+60*o+3600*n}},{key:"getCellResolution",value:function(e){if(!e)return null;var t=/^(\d+) (\d+)$/.exec(e);return t?{columns:parseInt(t[1],10),rows:parseInt(t[2],10)}:null}}]),t}(Vs);xe($s,"styleNs","http://www.w3.org/ns/ttml#styling"),xe($s,"parameterNs","http://www.w3.org/ns/ttml#parameter"),xe($s,"percentValues",/^(\d{1,2}(?:\.\d+)?|100(?:\.0+)?)% (\d{1,2}(?:\.\d+)?|100(?:\.0+)?)%$/),xe($s,"percentValue",/^(\d{1,2}(?:\.\d+)?|100)%$/),xe($s,"unitValues",/^(\d+px|\d+em|\d*\.?\d+c)$/),xe($s,"pixelValues",/^(\d+)px (\d+)px$/),xe($s,"timeColonFormatFrames",/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/),xe($s,"timeColonFormat",/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/),xe($s,"timeColonFormatMilliseconds",/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d{2,})$/),xe($s,"timeFramesFormat",/^(\d*(?:\.\d*)?)f$/),xe($s,"timeTickFormat",/^(\d*(?:\.\d*)?)t$/),xe($s,"timeHMSFormat",new RegExp(["^(?:(\\d*(?:\\.\\d*)?)h)?","(?:(\\d*(?:\\.\\d*)?)m(?!s))?","(?:(\\d*(?:\\.\\d*)?)s)?","(?:(\\d*(?:\\.\\d*)?)ms)?$"].join(""))),xe($s,"smpteNs","http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"),xe($s,"styleEbuttsNs","urn:ebu:tt:style"),xe($s,"textAlignToLineAlign",{left:Es.START,center:Es.CENTER,right:Es.END,start:Es.START,end:Es.END}),xe($s,"textAlignToPositionAlign",{left:ys.LEFT,center:ys.CENTER,right:ys.RIGHT});var Js=ke((function e(t,r,n,o){if(Ee(this,e),xe(this,"frameRate",void 0),xe(this,"subFrameRate",void 0),xe(this,"tickRate",void 0),this.frameRate=Number(t)||30,this.subFrameRate=Number(r)||1,this.tickRate=Number(o),0===this.tickRate&&(this.tickRate=t?this.frameRate*this.subFrameRate:1),n){var i=/^(\d+) (\d+)$/g.exec(n);if(i){var a=Number(i[1])/Number(i[2]);this.frameRate*=a}}})),Xs=function(){function e(){var t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=this,r="parser",n=new $s,r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n}var t,r,n;return t=e,(r=[{key:"parseInit",value:function(e){var t=!1;if((new Ms.p).box("moov",Ms.p.children).box("trak",Ms.p.children).box("mdia",Ms.p.children).box("minf",Ms.p.children).box("stbl",Ms.p.children).fullBox("stsd",Ms.p.sampleDescription).box("stpp",(function(e){t=!0,e.parser.stop()})).parse(e),!t)throw new Error("Can not parseInt while subtitles processing")}},{key:"parseMedia",value:function(e,t){var r=this,n=!1,o=[];if((new Ms.p).box("mdat",Ms.p.allData((function(e){n=!0,o=o.concat(r.parser.parseMedia(e,t))}))).parse(e,!1),!n)throw new Error("Can not parseInt while subtitles processing.");return o}}])&&Le(t.prototype,r),n&&Le(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),el=r(3498),tl=r(19071),rl=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i.call(this)}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ne(e,t)}(t,e);var r,n,o,i=Fe(t);return r=t,o=[{key:"parseRegion_",value:function(e){var r=new Bs(e),n=new qs;r.readWord(),r.skipWhitespace();for(var o=r.readWord();o;)t.parseRegionSetting_(n,o),r.skipWhitespace(),o=r.readWord();return n}},{key:"parseCue_",value:function(e,r,n){if(1===e.length&&!e[0])return null;if(/^NOTE($|[ \t])/.test(e[0]))return null;if("STYLE"===e[0])return null;var o=null;e[0].includes("--\x3e")||(o=e[0],e.splice(0,1));var i=new Bs(e[0]),a=t.parseTime_(i),u=i.readRegex(/[ \t]+-->[ \t]+/g),c=t.parseTime_(i);if(null===a||null===u||null===c)return null;r&&(a+=r,c+=r);var s=e.slice(1).join("\n").trim(),l=new Gs(a,c,s);i.skipWhitespace();for(var f=i.readWord();f;)t.parseCueSetting(l,f,n),i.skipWhitespace(),f=i.readWord();return null!==o&&(l.id=o),l}},{key:"parseCueStyles",value:function(e,r){var n="<span>"+e+"</span>",o=(new Qs).parse(n);if(o){var i=[],a=o;if(1===a.length&&3===Re(a[0]).nodeType)return void(r.payload=e);var u,c=Ie(a);try{for(c.s();!(u=c.n()).done;){var s=u.value;t.generateCueFromElement(s,r,i)}}catch(l){c.e(l)}finally{c.f()}r.nestedCues=i}else r.payload=e}},{key:"generateCueFromElement",value:function(e,r,n){var o=Re(e),i=r.clone();if(1===o.nodeType&&o.tagName){var a,u=Os.BOLD,c=ks.ITALIC,s=_s.UNDERLINE,l=Ie(e.tagName.split(/[ .]+/));try{for(l.s();!(a=l.n()).done;)switch(a.value){case"b":i.fontWeight=u;break;case"i":i.fontStyle=c;break;case"u":i.textDecoration.push(s);break;default:continue}}catch(p){l.e(p)}finally{l.f()}}if(3===o.nodeType)i.payload=o.textContent,n.push(i);else{var f,d=Ie(o.children);try{for(d.s();!(f=d.n()).done;){var h=f.value;(0,Ks.H)(h)||t.generateCueFromElement(h,i,n)}}catch(p){d.e(p)}finally{d.f()}}}},{key:"parseCueSetting",value:function(e,r,n){var o=null;if(o=/^align:(start|middle|center|end|left|right)$/.exec(r))t.setTextAlign_(e,o[1]);else if(o=/^vertical:(lr|rl)$/.exec(r))t.setVerticalWritingMode_(e,o[1]);else if(o=/^size:([\d.]+)%$/.exec(r))e.size=Number(o[1]);else if(o=/^position:([\d.]+)%(?:,(line-left|line-right|center|start|end))?$/.exec(r))e.position=Number(o[1]),o[2]&&t.setPositionAlign_(e,o[2]);else{if(!(o=/^region:(.*)$/.exec(r)))return t.parsedLineValueAndInterpretation_(e,r);var i=t.getRegionById_(n,o[1]);i&&(e.region=i)}return!0}},{key:"getRegionById_",value:function(e,t){var r=e.filter((function(e){return e.id===t}));return r.length?r[0]:null}},{key:"parseRegionSetting_",value:function(e,t){var r=null;if(r=/^id=(.*)$/.exec(t))e.id=r[1];else if(r=/^width=(\d{1,2}|100)%$/.exec(t))e.width=Number(r[1]);else if(r=/^lines=(\d+)$/.exec(t))e.height=Number(r[1]),e.heightUnits=Hs.LINES;else if(r=/^regionanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(t))e.regionAnchorX=Number(r[1]),e.regionAnchorY=Number(r[2]);else if(r=/^viewportanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(t))e.viewportAnchorX=Number(r[1]),e.viewportAnchorY=Number(r[2]);else{if(!(r=/^scroll=up$/.exec(t)))return!1;e.scroll=Ys.UP}return!0}},{key:"setTextAlign_",value:function(e,t){e.textAlign="middle"===t?ms.CENTER:ms[t.toUpperCase()]}},{key:"setPositionAlign_",value:function(e,t){e.positionAlign="line-left"===t||"start"===t?ys.LEFT:"line-right"===t||"end"===t?ys.RIGHT:ys.CENTER}},{key:"setVerticalWritingMode_",value:function(e,t){e.writingMode="lr"===t?ws.VERTICAL_LEFT_TO_RIGHT:ws.VERTICAL_RIGHT_TO_LEFT}},{key:"parsedLineValueAndInterpretation_",value:function(e,t){var r=null;if(r=/^line:([\d.]+)%(?:,(start|end|center))?$/.exec(t))e.lineInterpretation=Ss.PERCENTAGE,e.line=Number(r[1]),r[2]&&(e.lineAlign=Es[r[2].toUpperCase()]);else{if(!(r=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(t)))return!1;e.lineInterpretation=Ss.LINE_NUMBER,e.line=Number(r[1]),r[2]&&(e.lineAlign=Es[r[2].toUpperCase()])}return!0}},{key:"parseTime_",value:function(e){var t=e.readRegex(/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{2,3})/g);if(null===t)return null;var r=Number(t[1])||0,n=Number(t[2]),o=Number(t[3]),i=Number(t[4]);return n>59||o>59?null:i/1e3+o+60*n+3600*r}}],(n=[{key:"parseInit",value:function(e){}},{key:"parseMedia",value:function(e,r){var n=Ws.x.fromUTF8(e),o=(n=n.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n")).split(/\n{2,}/m);if(!/^WEBVTT($|[ \t\n])/m.test(o[0]))throw new Error("INVALID_TEXT_HEADER");var i=r.segmentStart;null===i&&(i=0);for(var a=[],u=o[0].split("\n"),c=1;c<u.length;c++)if(/^Region:/.test(u[c])){var s=t.parseRegion_(u[c]);a.push(s)}for(var l=[],f=1;f<o.length;f++){u=o[f].split("\n");var d=t.parseCue_(u,i,a);d&&l.push(d)}return l}}])&&De(r.prototype,n),o&&De(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(Vs),nl=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ke(qe(e=i.call(this)),"timescale",null),Ke(qe(e),"parseInit",(function(t){var r=!1;if((new Ms.p).box("moov",Ms.p.children).box("trak",Ms.p.children).box("mdia",Ms.p.children).fullBox("mdhd",(function(t){0===t.version?(t.reader.skip(4),t.reader.skip(4),e.timescale=t.reader.readUint32(),t.reader.skip(4)):(t.reader.skip(8),t.reader.skip(8),e.timescale=t.reader.readUint32(),t.reader.skip(8)),t.reader.skip(4)})).box("minf",Ms.p.children).box("stbl",Ms.p.children).fullBox("stsd",Ms.p.sampleDescription).box("wvtt",(function(){r=!0})).parse(t),!e.timescale)throw new Error("Can not get vtt timescale");if(!r)throw new Error("No WVTT box was found")})),e}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ge(e,t)}(t,e);var r,n,o,i=He(t);return r=t,o=[{key:"parseTFHD",value:function(e,t){return t.skip(4),1&e&&t.skip(8),2&e&&t.skip(4),8&e?t.readUint32():null}},{key:"parseTRUN",value:function(e,t,r){var n=r.readUint32();1&t&&r.skip(4),4&t&&r.skip(4);for(var o=[],i=0;i<n;i++){var a={duration:null,sampleSize:null,timeOffset:null};256&t&&(a.duration=r.readUint32()),512&t&&(a.sampleSize=r.readUint32()),1024&t&&r.skip(4),2048&t&&(a.timeOffset=0===e?r.readUint32():r.readInt32()),o.push(a)}return o}},{key:"parseVTTC",value:function(e,r,n){var o,i,a="";return(new Ms.p).box("payl",Ms.p.allData((function(e){o=Ws.x.fromUTF8(e)}))).box("iden",Ms.p.allData((function(e){i=Ws.x.fromUTF8(e)}))).box("sttg",Ms.p.allData((function(e){a=Ws.x.fromUTF8(e)}))).parse(e),o?t.assembleCue(o,i,a,r,n):null}},{key:"assembleCue",value:function(e,t,r,n,o){var i=new Gs(n,o,e);if(rl.parseCueStyles(e,i),t&&(i.id=t),r)for(var a=new Bs(r),u=a.readWord();u;)rl.parseCueSetting(i,u,[]),a.skipWhitespace(),u=a.readWord();return i}}],(n=[{key:"parseMedia",value:function(e,r){var n=this;if(!this.timescale)throw new Error("No init segment for MP4+VTT!");var o=0,i=[],a=new Uint8Array,u=[],c=!1,s=!1,l=!1,f=null;if((new Ms.p).box("moof",Ms.p.children).box("traf",Ms.p.children).fullBox("tfdt",(function(e){c=!0,0!==e.version&&1!==e.version||(o=0===e.version?e.reader.readUint32():e.reader.readUint64())})).fullBox("tfhd",(function(e){null!==e.flags&&(f=t.parseTFHD(e.flags,e.reader))})).fullBox("trun",(function(e){s=!0,null!==e.version&&null!==e.flags&&(i=i.concat(t.parseTRUN(e.version,e.flags,e.reader)))})).box("mdat",Ms.p.allData((function(e){l=!0,a=tl.P.concat(a,e)}))).parse(e),!l&&!c&&!s||!a.length)throw new Error("Can not parse mp4 vtt because required box is missing.");var d=o,h=new DataView(a.buffer,a.byteOffset,a.byteLength),p=new el.K(h,el.I.BIG_ENDIAN);return i.forEach((function(e){var i=e.duration||f,a=e.timeOffset?o+e.timeOffset:d;d=a+(i||0);var c=0;do{var s=p.readUint32();c+=s;var l=p.readUint32(),h=Ms.p.typeToString(l),v=null;if("vttc"===h?s>8&&(v=p.readBytes(s-8)):p.skip(s-8),i&&v){if(null===n.timescale)throw new Error("No initial vtt segment");var y=t.parseVTTC(v,r.periodStart+a/n.timescale,r.periodStart+d/n.timescale);u.push(y)}}while(e.sampleSize&&c<e.sampleSize)})),u.filter(Boolean)}}])&&Ue(r.prototype,n),o&&Ue(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(Vs),ol=r(83361),il=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Qe(this,"parser",null),Qe(this,"timestampOffset",0),Qe(this,"appendWindowStart",0),Qe(this,"appendWindowEnd",1/0),Qe(this,"bufferStart",null)}var t,r,n;return t=e,n=[{key:"registerParser",value:function(t,r){e.parserMap[t]=r}}],(r=[{key:"initParser",value:function(t){if("application/cea-608"!==t){var r=e.parserMap[t];this.parser=new r}}},{key:"appendBuffer",value:function(e,t,r){var n=this;return ol.resolve().then((function(){if(n.parser){if(null!==t&&null!==r){var o={periodStart:n.timestampOffset,segmentStart:t,segmentEnd:r},i=n.parser.parseMedia(e,o).filter((function(e){return e.startTime>=n.appendWindowStart&&e.startTime<n.appendWindowEnd}));return null===n.bufferStart&&(n.bufferStart=Math.max(t,n.appendWindowStart)),i}n.parser.parseInit(e)}}))}}])&&ze(t.prototype,r),n&&ze(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();Qe(il,"parserMap",{}),il.registerParser("text/vtt",rl),il.registerParser('text/vtt; codecs="vtt"',rl),il.registerParser('text/vtt; codecs="wvtt"',rl),il.registerParser("application/ttml+xml",$s),il.registerParser('application/mp4; codecs="stpp"',Xs),il.registerParser('application/mp4; codecs="stpp.ttml.im1t"',Xs),il.registerParser('application/mp4; codecs="stpp.TTML.im1t"',Xs),il.registerParser('application/mp4; codecs="wvtt"',nl);var al=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),nt(tt(r=i.call(this,e)),"kind",void 0),nt(tt(r),"label",void 0),nt(tt(r),"type","text"),nt(tt(r),"codecs",void 0),r.kind=t.parseKind(e.kind),r.codecs=e.codecs,r.label=e.label||e.language||"Yasp Text Track",r}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Je(e,t)}(t,e);var r,n,o,i=Xe(t);return r=t,o=[{key:"parseKind",value:function(e){switch(e){case"subtitle":return"subtitles";default:return e}}}],(n=[{key:"getFullMimeType",value:function(){return this.codecs?"".concat(this.mimeType,"; codecs=").concat(JSON.stringify(this.codecs)):this.mimeType}},{key:"appendInitSegment",value:function(e){this.init=e,this.parseSegment(e)}},{key:"parseSegment",value:function(e){var r=this;t.textEngine.initParser(this.getFullMimeType());var n=e.isInitSegment,o=n?null:e.start,i=n?null:e.end,a=e.getChunks(),u=0;a.forEach((function(e){u+=e.length}));var c=new Uint8Array(u),s=0;a.forEach((function(e){c.set(e,s),s+=e.length})),t.textEngine.appendBuffer(c,o,i).then((function(e){if(e){var t=r.presentationTimeOffset/1e3,n=e.map((function e(r){return r.startTime-=t,r.endTime-=t,r.nestedCues&&(r.nestedCues=r.nestedCues.map(e)),r}));r.emit("CuesAdded",n)}}))}}])&&$e(r.prototype,n),o&&$e(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(Ds);nt(al,"textEngine",new il);var ul,cl=r(16258),sl=r(10060),ll=r(83361),fl=function(e){function t(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sl.y;return ut(this,t),yt(pt(e=u.call(this)),"destroyed",!1),yt(pt(e),"closing",!1),yt(pt(e),"closed",!1),yt(pt(e),"paused",!0),yt(pt(e),"flushing",!1),yt(pt(e),"concatBuffer",void 0),yt(pt(e),"buffer",[]),yt(pt(e),"flushBuffer",(function(){if(!e.flushing){e.flushing=!0;for(var t=0;!e.paused&&t<e.buffer.length;)e.emit("Data",e.buffer[t]),t++;e.buffer.splice(0,t),e.flushing=!1,t>0&&0===e.buffer.length&&e.emit("Drain")}})),e.on("Resume",e.flushBuffer),e.once("Destroy",(function(){e.destroyed=!0})),e.concatBuffer=r,e}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ft(e,t)}(t,e);var r,n,o,i,a,u=dt(t);return r=t,(n=[{key:"isClosing",value:function(){return this.closing&&!this.destroyed}},{key:"isClosed",value:function(){return this.closed&&!this.destroyed}},{key:"isDestroyed",value:function(){return this.destroyed}},{key:"asWritable",value:function(){return this}},{key:"asReadable",value:function(){return this}},{key:"write",value:function(e){if(this.destroyed)throw new Error("Unexpected write after destroy");if(this.closing)throw new Error("Unexpected write after close");return this.buffer.push(e),this.buffer=this.concatBuffer(this.buffer),this.flushBuffer(),!this.paused&&0===this.buffer.length}},{key:"read",value:(i=it().mark((function e(){var t=this;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.destroyed){e.next=2;break}throw new Error("Unexpected read after destroy");case 2:if(!this.closed){e.next=4;break}return e.abrupt("return",ll.resolve({value:void 0,done:!0}));case 4:return e.abrupt("return",new ll((function(e,r){var n=function(){r(new Error("Unexpected destroy while read"))},o=function(){e({value:void 0,done:!0})};t.once("Data",(function(r){t.pause(),e({value:r,done:!1}),t.off("Destroy",n),t.off("Close",o)})),t.once("Destroy",n),t.once("Close",o),t.resume()})));case 5:case"end":return e.stop()}}),e,this)})),a=function(){var e=this,t=arguments;return new ll((function(r,n){function o(e){at(u,r,n,o,a,"next",e)}function a(e){at(u,r,n,o,a,"throw",e)}var u=i.apply(e,t);o(void 0)}))},function(){return a.apply(this,arguments)})},{key:"pipe",value:function(e){this.on("Data",(function(t){t&&e.write(t)})),this.once("Close",(function(){e.close()})),this.resume()}},{key:"pause",value:function(){this.paused=!0,this.emit("Pause")}},{key:"resume",value:function(){this.paused=!1,this.emit("Resume")}},{key:"destroy",value:function(){this.buffer=[],st(vt(t.prototype),"destroy",this).call(this)}},{key:"close",value:function(){var e=this;this.closing||(this.closing=!0,this.buffer.length>0?this.once("Drain",(function(){e.closed=!0,e.emit("Close")})):(this.closed=!0,this.emit("Close")))}}])&&ct(r.prototype,n),o&&ct(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(cl.M),dl=r(84780),hl=r(24611),pl=function(e){function t(e){var r,n=e.start,o=e.end,a=e.number,u=e.isInitSegment,c=e.trackId,s=e.bitrate,l=e.width,f=e.height,d=e.originalStart,h=e.isMP4,p=void 0!==h&&h,v=e.isEncrypted,y=void 0!==v&&v,m=e.startByteWithOffset,g=void 0===m?0:m,b=e.endByteWithOffset,w=void 0===b?0:b;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),At(kt(r=i.call(this)),"trackId",void 0),At(kt(r),"isInitSegment",void 0),At(kt(r),"number",void 0),At(kt(r),"start",0),At(kt(r),"end",0),At(kt(r),"duration",0),At(kt(r),"bitrate",void 0),At(kt(r),"originalStart",void 0),At(kt(r),"width",0),At(kt(r),"height",0),At(kt(r),"expectedSize",void 0),At(kt(r),"loadedRawSize",0),At(kt(r),"getLoadingDuration",(function(){return null})),At(kt(r),"getWaitingDuration",(function(){return null})),At(kt(r),"isMP4",!1),At(kt(r),"isEncrypted",!1),At(kt(r),"startByteWithOffset",0),At(kt(r),"endByteWithOffset",0),At(kt(r),"chunks",[]),At(kt(r),"finishedSegment",!1),At(kt(r),"failedSegment",!1),At(kt(r),"chunkStream",null),r.start=n,r.end=o,r.duration=Math.max(o-n,0),r.number=a,r.bitrate=s,r.expectedSize=s*(r.duration/1e3)/8,r.width=l,r.height=f,r.isInitSegment=u,r.trackId=c,r.originalStart=d,r.loadedRawSize=0,r.isMP4=p,r.isEncrypted=y,r.startByteWithOffset=g,r.endByteWithOffset=w,r}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&St(e,t)}(t,e);var r,n,o,i=Et(t);return r=t,o=[{key:"concatChunks",value:function(e){return e.length<2?e:"string"===typeof e[0]?[e.join("")]:[tl.P.concat.apply(tl.P,gt(e))]}}],(n=[{key:"waitingStarted",value:function(){this.getWaitingDuration=(0,hl.u)()}},{key:"loadingStarted",value:function(){this.getLoadingDuration=(0,hl.u)()}},{key:"finished",get:function(){return this.finishedSegment}},{key:"failed",get:function(){return this.failedSegment}},{key:"setExpectedSize",value:function(e){isNaN(e)||(this.expectedSize=e)}},{key:"append",value:function(e){var t;this.chunks.push(e),null===(t=this.chunkStream)||void 0===t||t.write(e)}},{key:"finish",value:function(){var e;this.finishedSegment=!0,null===(e=this.chunkStream)||void 0===e||e.close(),this.chunkStream=null,this.emit("Finish")}},{key:"fail",value:function(){this.failedSegment=!0,this.emit("Failed"),this.chunkStream&&this.chunkStream.destroy()}},{key:"getExpectedTimeToLoad",value:function(){if(null===this.getLoadingDuration)return this.duration;var e=this.getLoadingDuration();return null===e||0===this.loadedRawSize?this.duration:e*(Math.max(this.expectedSize,this.loadedRawSize)/this.loadedRawSize)-e}},{key:"getChunkStream",value:function(){this.chunkStream||(this.chunkStream=new fl(t.concatChunks));var e=this.chunkStream;return this.chunks.forEach((function(t){return null===e||void 0===e?void 0:e.write(t)})),this.finished&&(0===this.chunks.length&&(0,dl.L)(new Error("Finished empty segment")),e.close(),this.chunkStream=null),e.asReadable()}},{key:"getChunks",value:function(){return this.chunks}},{key:"getDebugInfo",value:function(){return{chunksCount:this.chunks.length,chunksSize:this.chunks.reduce((function(e,t){return e+t.length}),0),start:this.start,end:this.end,duration:this.duration,finishedSegment:this.finishedSegment,number:this.number,expectedSize:this.expectedSize,loadingDuration:this.getLoadingDuration?this.getLoadingDuration():null,hasChunkStream:null!==this.chunkStream}}}])&&wt(r.prototype,n),o&&wt(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(cl.M),vl=r(28513),yl=r(88554),ml=r(86589),gl=r(48448),bl=function(e){function t(e){var r,n=e.timeline,o=e.mediaState;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),$t(Qt(r=i.call(this)),"timeline",void 0),$t(Qt(r),"mediaState",void 0),$t(Qt(r),"history",[]),$t(Qt(r),"currentBuffering",null),$t(Qt(r),"currentTargetLatency",7e3),r.timeline=n,r.mediaState=o,o.on("BufferingChange",(function(e){r.setBuffering(e)})),r}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wt(e,t)}(t,e);var r,n,o,i=Kt(t);return r=t,(n=[{key:"destroy",value:function(){Yt(Zt(t.prototype),"destroy",this).call(this),this.mediaState.off("BufferingChange")}},{key:"notifyTargetLatency",value:function(){this.emit("TargetLatencyUpdate",this.currentTargetLatency)}},{key:"checkIsLiveEdge",value:function(){var e=this.mediaState.currentTime;if(!e)return!1;var t=1e3*e,r=this.checkForType("audio",t);return this.checkForType("video",t)||r}},{key:"checkForType",value:function(e,t){var r=this.timeline.getSegment(e,t).segment;if(!r)return!1;var n=this.timeline.getLastSegmentNumber(e);if(!n)return!1;var o=this.timeline.getMaxSegmentDuration(),i=Math.ceil(7e3/o);return r.number>=n-i}},{key:"setBuffering",value:function(e){if(e){if(this.currentBuffering||!this.checkIsLiveEdge())return;this.currentBuffering={start:Date.now(),getTime:(0,hl.u)()}}else{var t;if(!this.currentBuffering)return;var r=null===(t=this.currentBuffering)||void 0===t?void 0:t.getTime();this.history.push({start:this.currentBuffering.start,end:this.currentBuffering.start+r,duration:r}),this.currentBuffering=null,this.checkHistory()}}},{key:"getAverageStalledDuration",value:function(){return this.history.reduce((function(e,t){return e+t.duration}),0)/this.history.length}},{key:"checkHistory",value:function(){var e=Date.now();this.history=this.history.filter((function(t){return e-t.end<=2e4})),this.history.length>=2&&(this.currentTargetLatency=this.currentTargetLatency+this.getAverageStalledDuration(),this.notifyTargetLatency(),this.timeline.setTargetLatency(this.currentTargetLatency),this.history=[])}}])&&Ht(r.prototype,n),o&&Ht(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(cl.M),wl={avc1:["avc3"],avc3:["avc1"]},Sl=r(89273),El=r(82619),Ol=r(99628),kl=r(83361),_l=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),pr(dr(e=i.call(this)),"audio",[]),pr(dr(e),"text",[]),pr(dr(e),"video",[]),pr(dr(e),"bufferedInfoChangedPromise",null),pr(dr(e),"selectedVideoTrackHeight",void 0),pr(dr(e),"selectedVideoTracks",[]),pr(dr(e),"selectedAudioLanguage",void 0),pr(dr(e),"selectedTextTrack",void 0),pr(dr(e),"targetLatency",void 0),pr(dr(e),"isFirstUpdateVideoTracks",!0),pr(dr(e),"mpd",void 0),pr(dr(e),"externalPresentationDelay",void 0);var r=(0,El.c)(7);return e.targetLatency=1e3*r,e}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sr(e,t)}(t,e);var r,n,o,i=lr(t);return r=t,(n=[{key:"checkTrackAvailableToLoad",value:function(e,t){var r;switch(t){case"text":return(null===(r=this.selectedTextTrack)||void 0===r?void 0:r.id)===e;case"video":return 0===this.selectedVideoTracks.length||this.selectedVideoTracks.some((function(t){return e===t.id}));case"audio":if(!this.selectedAudioLanguage)return!0;var n=this.findTrackById(e,t);return(null===n||void 0===n?void 0:n.language)===this.selectedAudioLanguage;default:return!1}}},{key:"setVideoTrack",value:function(e){var t=this.findTrackById(e,"video"),r=t?t.height:void 0;r!==this.selectedVideoTrackHeight&&(this.selectedVideoTrackHeight=r,this.updateSelectedVideoTracks(),this.emit("VideoTrackChange",t?e:"auto"))}},{key:"removeVideoTrack",value:function(e){var t=this.findTrackById(e,"video");if(t){var r=this.video.indexOf(t);this.video.splice(r,1),t.clear(0,1/0);var n,o=this.selectedVideoTrackHeight;void 0!==o&&t.height===o&&(this.updateSelectedVideoTracks(),0===this.selectedVideoTracks.length&&this.setVideoTrack(null===(n=Ut(this.video).find((function(e){return e.height<=o})))||void 0===n?void 0:n.id))}}},{key:"updateVideoTracks",value:function(e){var t=this,r=this.getVideoTracksInfo().filter((function(e){return e.id!==yl.A})).map((function(e){return e.height}));e.forEach((function(e){t.obtainTimelineTrack(ir(ir(ir({},e),e.segmentTemplate),{},{bitrate:e.bandwidth,language:"unknown",type:"video"}))}));var n=[];this.video.map((function(e){return e.id})).forEach((function(r){!e.some((function(e){return e.id===r}))&&(t.removeVideoTrack(r),n.push(r))})),this.updateSelectedVideoTracks();var o=[];this.isFirstUpdateVideoTracks&&(this.isFirstUpdateVideoTracks=!1,o.push(this.getAutoVideoTrackInfo())),this.getVideoTracksInfo().filter((function(e){return e.id!==yl.A})).forEach((function(e){r.includes(e.height)||o.push({selected:e.height===t.selectedVideoTrackHeight,width:e.width,height:e.height,bitrate:e.bitrate,label:e.label,language:e.language,frameRate:e.frameRate,id:e.id,kind:"main"})})),(o.length||n.length)&&this.emit("VideoTracksChange",{added:o,removed:n})}},{key:"updateSelectedVideoTracks",value:function(){var e=this;this.selectedVideoTracks=this.selectedVideoTrackHeight?this.video.filter((function(t){return t.height===e.selectedVideoTrackHeight})):Ut(this.video)}},{key:"setAudioLanguage",value:function(e){var t=this,r=this.audio.find((function(e){return e.language===t.selectedAudioLanguage})),n=this.audio.find((function(t){return t.language===e}));if(n&&e!==this.selectedAudioLanguage){var o=Jt(r,n);this.selectedAudioLanguage=e,o||this.emit("CodecsChange",n),this.emit("AudioLanguageChange",e)}}},{key:"setTextTrack",value:function(e){var t;if(this.selectedTextTrack&&this.selectedTextTrack.clear(0,1/0),null!==e){var r=this.text.find((function(t){return t.language===e.language}));r&&(null===r||void 0===r?void 0:r.language)!==(null===(t=this.selectedTextTrack)||void 0===t?void 0:t.language)&&(this.selectedTextTrack=r||this.selectedTextTrack,this.emit("TextTrackChange",this.selectedTextTrack))}else this.selectedTextTrack=void 0}},{key:"getVideoTracksInfo",value:function(){var e,t=this;return[this.getAutoVideoTrackInfo()].concat(tr((e=this.video,(0,ml.z)(e.reduce((function(e,t){return e[t.height]?t.bitrate>e[t.height].bitrate&&(e[t.height]=t):e[t.height]=t,e}),{})).sort((function(e,t){return t.bitrate-e.bitrate}))).map((function(e){return{selected:e.height===t.selectedVideoTrackHeight,width:e.width,height:e.height,bitrate:e.bitrate,label:e.label,language:e.language,frameRate:e.frameRate,id:e.id,kind:"main"}}))))}},{key:"getAutoVideoTrackInfo",value:function(){return{id:yl.A,selected:void 0===this.selectedVideoTrackHeight,kind:"main",language:"unknown",label:""}}},{key:"getAudioTracksInfo",value:function(){var e=this,t={};return this.audio.forEach((function(r){var n=r.language;n&&(t[n]?r.bitrate>t[n].bitrate&&(t[n].bitrate=r.bitrate):t[n]={selected:n===e.selectedAudioLanguage,id:r.id,label:r.label||"",language:n,kind:"main",bitrate:r.bitrate,channels:r.channels})})),(0,ml.z)(t)}},{key:"getTextTracksInfo",value:function(){return this.text.map((function(e){return{id:e.id,language:e.language,label:e.label,kind:e.kind}}))}},{key:"getSegmentsForTracks",value:function(e,t){var r=this;if(null===e)return[];switch(t){case"video":return this.selectedVideoTracks.map((function(t){return r.getSegmentForTrack(e,t)})).filter(Boolean);case"audio":return this.audio.filter((function(e){var t;return e.language===(null!==(t=r.selectedAudioLanguage)&&void 0!==t?t:e.language)})).map((function(t){return r.getSegmentForTrack(e,t)})).filter(Boolean);case"text":return this.text.filter((function(e){var t,n;return e.label===(null===(t=r.selectedTextTrack)||void 0===t?void 0:t.label)||e.language===(null===(n=r.selectedTextTrack)||void 0===n?void 0:n.language)})).map((function(t){return r.getSegmentForTrack(e,t)})).filter(Boolean);default:return[]}}},{key:"getSegmentForTrack",value:function(e,t){var r=t.getSegment(e);if((0,Ol.RW)("yasp_abr_loading_segment")&&r)return r;if(t.endTime===e+t.presentationTimeOffset)return this.getLastSegment(t);var n=Math.max(Math.floor(0)),o=0,i=t.segmentSequences.find((function(r,i){o=i;var a=r.time-t.presentationTimeOffset,u=a+r.duration*r.count,c=a<=e&&e<u;return c||(n+=r.count),c}));if(!i)return null;var a=i.time-t.presentationTimeOffset,u=e-a,c=Math.max(0,Math.floor(u/i.duration+1e-4)),s=t.startNumber+(n+c),l=Math.max(a+i.duration*c,0),f=s===i.endNumber,d=t.segmentSequences[o+1],h=Math.max(f&&d?d.time-t.presentationTimeOffset:a+i.duration*(c+1),0),p=t.bitrate,v=i.originalValues.time-i.originalValues.trackPresentationTimeOffset+i.originalValues.duration*c;return new pl({start:l,end:h,bitrate:p,trackId:t.id,number:s,originalStart:v,isInitSegment:!1,width:"width"in t?t.width:0,height:"height"in t?t.height:0,isMP4:i.isMP4,isEncrypted:i.isEncrypted,startByteWithOffset:"startByteWithOffset"in i?i.startByteWithOffset:0,endByteWithOffset:"endByteWithOffset"in i?i.endByteWithOffset:0})}},{key:"clear",value:function(e,t){this.audio.forEach((function(r){return r.clear(e,t)})),this.video.forEach((function(r){return r.clear(e,t)})),this.text.forEach((function(r){return r.clear(e,t)}))}},{key:"getDuration",value:function(){var e,t,r=null!==(e=this.video[0])&&void 0!==e?e:this.audio[0];if(void 0!==r)return null!==(t=this.mpd)&&void 0!==t&&t.isDynamic?1/0:r.endTime-r.startTime}},{key:"getMimeTypes",value:function(){return{audio:Array.from(new Set(this.audio.map((function(e){return e.getFullMimeType()})))),video:Array.from(new Set(this.video.map((function(e){return e.getFullMimeType()}))))}}},{key:"getBufferedRanges",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.audio,n=this.selectedVideoTracks,o=this.text;return this.selectedAudioLanguage&&(r=r.filter((function(t){return t.language===e.selectedAudioLanguage}))),{audio:r.map((function(e){return e.getBufferedRanges(t)})),video:n.map((function(e){return e.getBufferedRanges(t)})),text:o.map((function(e){return e.getBufferedRanges(t)}))}}},{key:"getSeekableRanges",value:function(){return[this.getSeekableRange()]}},{key:"getSegment",value:function(e,t){var r=this,n=[];return("video"===e?this.selectedVideoTracks:this.audio.filter((function(e){var t;return e.language===(null!==(t=r.selectedAudioLanguage)&&void 0!==t?t:e.language)}))).forEach((function(e){var r=e.getSegment(t);r&&n.push({track:e,segment:r})})),Tt(n,(function(e){return e.track.bitrate}))||{track:void 0,segment:void 0}}},{key:"getInitialSegment",value:function(e,t){var r=("video"===e?this.video:this.audio).find((function(e){return e.id===t}));return(null===r||void 0===r?void 0:r.getInitSegment())||void 0}},{key:"obtainTimelineTrack",value:function(e){var t=this,r=this[e.type];"audio"===e.type&&(this.selectedAudioLanguage=this.selectedAudioLanguage||e.language||void 0);var n=r.find((function(t){return t.id===e.id}));if(n)return n.updateTrack(e),n;var o=function(e){switch(e.type){case"audio":return new Ns(e);case"video":return new Fs(e);case"text":return new al(e);default:throw new Error("Unexpected TimelineTrack#type=".concat(e.type))}}(e);return r.push(o),o.on("BufferedInfoChanged",(function(){return t.emitBufferedInfoChanged()})),"text"===o.type&&o.on("CuesAdded",(function(e){t.emit("CuesAdded",{cues:e,label:o.label})})),o}},{key:"sortTracksInTimeline",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["video","audio","text"];t.forEach((function(t){e.sortTracksInTimelineByType(t)}))}},{key:"sortTracksInTimelineByType",value:function(e){var t=this.getFirstLangsAppearanceInTimeline(e);this[e].sort((function(e,r){return e.language===r.language?r.bitrate-e.bitrate:t.get(e.language)-t.get(r.language)}))}},{key:"getFirstLangsAppearanceInTimeline",value:function(e){var t=new Map;return this[e].forEach((function(e,r){t.has(e.language)||t.set(e.language,r)})),t}},{key:"findTrackById",value:function(e,t){return this[t].find((function(t){return t.id===e}))}},{key:"emitBufferedInfoChanged",value:function(){var e,t=this;this.bufferedInfoChangedPromise=null!==(e=this.bufferedInfoChangedPromise)&&void 0!==e?e:kl.resolve().then((function(){return t.emit("BufferedInfoChanged",t.getBufferedInfo())})).then((function(){t.bufferedInfoChangedPromise=null}))}},{key:"getBufferedInfo",value:function(){var e=this.getBufferedRanges(),t=Nt(e.video),r=Nt(e.audio);return{video:t.map((function(e){return{start:e.start/1e3,end:e.end/1e3}})),audio:r.map((function(e){return{start:e.start/1e3,end:e.end/1e3}})),total:Ft(t,r).map((function(e){return{start:e.start/1e3,end:e.end/1e3}}))}}},{key:"getLastSegment",value:function(e){var t=e.segmentSequences[e.segmentSequences.length-1];if(!t)return null;var r=Math.max(0,t.time-e.presentationTimeOffset+t.duration*(t.count-1)),n=Math.max(r+t.duration,0),o=e.bitrate,i=t.originalValues.time-t.originalValues.trackPresentationTimeOffset+t.originalValues.duration*(t.count-1);return new pl({start:r,end:n,bitrate:o,trackId:e.id,number:e.endNumber,originalStart:i,isInitSegment:!1,width:"width"in e?e.width:0,height:"height"in e?e.height:0})}},{key:"getDebugInfo",value:function(e){var t,r,n;return{audio:this.audio.map((function(e){return e.getDebugInfo()})),video:this.video.map((function(e){return e.getDebugInfo()})),text:this.text.map((function(e){return e.getDebugInfo()})),selectedVideoTracks:this.selectedVideoTracks.map((function(e){return e.getDebugInfo()})),selectedVideoTrackHeight:null!==(t=this.selectedVideoTrackHeight)&&void 0!==t?t:null,selectedAudioLanguage:null!==(r=this.selectedAudioLanguage)&&void 0!==r?r:null,selectedTextTrack:null!==(n=this.selectedTextTrack)&&void 0!==n?n:null,mpd:this.mpd,externalPresentationDelay:this.externalPresentationDelay,isLive:this.getIsDynamic(),isLowLatency:this.isLowLatencyLive(),segmentDebugInfo:void 0!==e?this.getSegmentsDebugInfo(e):void 0}}},{key:"updateStreamEndTime",value:function(){var e,t=null!==(e=this.video[0])&&void 0!==e?e:this.audio[0];t.endTime&&this.emit("StreamEndTimeUpdate",t.endTime-t.presentationTimeOffset)}},{key:"applyMpd",value:function(e){var t;this.mpd=ir(ir({},e),{},{presentationDelay:null!==(t=this.externalPresentationDelay)&&void 0!==t?t:e.presentationDelay}),this.updateStreamEndTime()}},{key:"getIsDynamic",value:function(){var e;return(null===(e=this.mpd)||void 0===e?void 0:e.isDynamic)||!1}},{key:"isLowLatencyLive",value:function(){var e;return this.getIsDynamic()&&0!==(null===(e=this.mpd)||void 0===e?void 0:e.availabilityTimeOffset)}},{key:"getLiveEdge",value:function(){var e;if(null===(e=this.mpd)||void 0===e||!e.isDynamic)return this.getDuration()||0;if(null===this.mpd.presentationStartTime)throw new Error("Cannot compute live edge without presentationStartTime");return Date.now()+this.mpd.clockOffset-this.mpd.maxSegmentDuration-this.mpd.presentationStartTime}},{key:"getMaxSegmentDuration",value:function(){var e;return(null===(e=this.mpd)||void 0===e?void 0:e.maxSegmentDuration)||5e3}},{key:"getSeekableRange",value:function(){return{start:this.getSeekRangeStart(),end:this.getSeekRangeEnd()}}},{key:"getSeekRangeStart",value:function(){var e;if(null===(e=this.mpd)||void 0===e||!e.isDynamic)return 0;var t=!isFinite(this.mpd.segmentAvailabilityDuration),r=t?this.mpd.minSegmentStartTime-this.mpd.publishTime:this.mpd.minSegmentStartTime;if(t)return Math.max(0,r);var n=this.getLiveEdge()+this.mpd.availabilityTimeOffset-this.mpd.segmentAvailabilityDuration,o=Math.min(n,this.getSeekRangeEnd());return Math.max(r,o)}},{key:"getSeekRangeEnd",value:function(){var e;if(null===(e=this.mpd)||void 0===e||!e.isDynamic)return this.getDuration()||0;var t=this.isLowLatencyLive()?0:this.mpd.presentationDelay,r=this.getLiveEdge()+this.mpd.availabilityTimeOffset-t;if(!this.isLowLatencyLive())return Math.max(0,r);var n=r+this.mpd.presentationStartTime,o=Date.now()+this.mpd.clockOffset,i=Math.min(n,o-this.targetLatency);return Math.max(i-this.mpd.presentationStartTime,0)}},{key:"getUtcStartTime",value:function(){var e,t,r;return null!==(e=this.mpd)&&void 0!==e&&e.isDynamic?this.mpd.isDynamic&&!isFinite(this.mpd.segmentAvailabilityDuration)?this.mpd.publishTime:0:null!==(t=null===(r=this.mpd)||void 0===r?void 0:r.publishTime)&&void 0!==t?t:0}},{key:"setPresentationDelay",value:function(e){var t;this.externalPresentationDelay=null!==(t=this.externalPresentationDelay)&&void 0!==t?t:e}},{key:"getEmsgSchemeIdUris",value:function(){var e;return null===(e=this.mpd)||void 0===e?void 0:e.emsgSchemeIdUris}},{key:"getLastSegmentNumber",value:function(e){var t=this[e][0];return t?t.endNumber:null}},{key:"setTargetLatency",value:function(e){this.targetLatency=e}},{key:"getSegmentsDebugInfo",value:function(e){return{audio:this.getSegmentsDebugInfoByType("audio",e),video:this.getSegmentsDebugInfoByType("video",e)}}},{key:"getSegmentsDebugInfoByType",value:function(e,t){return this[e].reduce((function(e,r){return(0,Sl.J)(r.getSegmentsDebugInfo(t)).forEach((function(t){var r=er(t,2),n=r[0],o=r[1];e[n]+=o})),e}),{playedRawSize:0,playedSegmentCount:0,activeRawSize:0,activeSegmentCount:0})}},{key:"getTotalRawSizeByType",value:function(e){return this[e].reduce((function(e,t){var r=t.getSegmentsDebugInfo(0);return e+r.playedRawSize+r.activeRawSize}),0)}},{key:"getTotalRawSize",value:function(){return this.getTotalRawSizeByType("audio")+this.getTotalRawSizeByType("video")}},{key:"destroy",value:function(){var e=this;ur(hr(t.prototype),"destroy",this).call(this),["audio","video","text"].forEach((function(t){e[t].forEach((function(e){return e.destroy()}))})),this.audio=[],this.video=[],this.text=[]}}])&&ar(r.prototype,n),o&&ar(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(cl.M),Al=r(3309),Tl=(new Map).set("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",Al.ly).set("urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95",Al.xE).set("urn:uuid:79f0049a-4098-8642-ab92-e65be0885f95",Al.xE).set("urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e",Al.dn).set("urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",Al.dn),Pl=function(e,t){return{keySystem:e,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:null!==t&&void 0!==t?t:[]}},xl=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.parser=t}var t,r,n;return t=e,(r=[{key:"parse",value:function(e){var t,r=this.parseElements(e),n=null,o=[],i=new Set(r.map((function(e){return e.keyId})).filter((function(e){return null!==e})));if(i.size>1)throw new js.w({code:"YASP_DASH_CONFLICTING_KEY_IDS",isFatal:!0,message:"Dash manifest has conflicting ids: ".concat(Array.from(i).join(",")),details:{},category:Ls.q.DRM});t=r.filter((function(e){return"urn:mpeg:dash:mp4protection:2011"!==e.schemeUri||(n=e.init||n,!1)}));var a=Array.from(i)[0]||null;return t.length&&(o=this.convertElements(n,t,a)),{defaultKeyId:a,defaultInit:n,drmInfos:o}}},{key:"convertElements",value:function(e,t,r){var n,o=[],i=yr(t);try{for(i.s();!(n=i.n()).done;){var a=n.value,u=Tl.get(a.schemeUri);if(u){var c=this.getInitDataFromPro(a),s=null;"urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e"!==a.schemeUri&&"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b"!==a.schemeUri||(s=this.getClearKeyInitData(a,r));var l=c||s||a.init||e,f=Pl(u,l);o.push(f)}}}catch(d){i.e(d)}finally{i.f()}return o}},{key:"parseElements",value:function(e){var t,r=[],n=yr(e);try{for(n.s();!(t=n.n()).done;){var o=t.value,i=this.parseElement(o);i&&r.push(i)}}catch(a){n.e(a)}finally{n.f()}return r}},{key:"getInitDataFromPro",value:function(e){var t=this.parser.findChildNS(e.node,"urn:microsoft:playready","pro");if(!t)return null;var r=this.parser.getContents(t);if(!r)return null;var n=tl.P.fromBase64(r),o=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),i=e.keyId,a=this.createPssh(n,o,i?[i]:[],0);return a?[{initData:a,initDataType:"cenc",keyId:i}]:null}},{key:"createPssh",value:function(e,t,r,n){var o=new Set(r),i=e.length,a=12+t.length+4+i;n>0&&(a+=20);var u=new ArrayBuffer(a),c=new Uint8Array(u),s=new DataView(u),l=0;if(s.setUint32(l,a),l+=4,s.setUint32(l,1886614376),l+=4,n<1?s.setUint32(l,0):s.setUint32(l,16777216),l+=4,c.set(t,l),l+=t.length,n>0){s.setUint32(l,o.size),l+=4;var f,d=yr(o);try{for(d.s();!(f=d.n()).done;){var h=f.value,p=tl.P.fromHex(h);c.set(p,l),l+=p.length}}catch(v){d.e(v)}finally{d.f()}}return s.setUint32(l,i),l+=4,c.set(e,l),(l+=i)===a?tl.P.toBase64(c):null}},{key:"parseElement",value:function(e){var t=this,r=e.attributes.schemeIdUri,n=this.parser.getAttributeNS(e,"urn:mpeg:cenc:2013","default_KID"),o=this.parser.findChildrenNS(e,"urn:mpeg:cenc:2013","pssh").map((function(e){return t.parser.getContents(e)}));if(!r)return null;if(r=r.toLowerCase(),n&&(n=n.replace(/-/g,"").toLowerCase()).includes(" "))throw new js.w({code:"YASP_DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED",isFatal:!0,message:"Representation with multiple keyIds is not supported: (".concat(n,")"),details:{},category:Ls.q.DRM});var i=o.map((function(e){return{initDataType:"cenc",initData:e,keyId:null}}));return{node:e,schemeUri:r,keyId:n,init:i.length>0?i:null}}},{key:"getKeyIdsForClearKey",value:function(e){if(!e)return[];var t=tl.P.fromBase64(e),r=new DataView(t.buffer),n=r.byteOffset,o=r.byteLength,i=0,a=r.getUint32(i);i+=4;var u=r.getUint32(i);if(i+=4,o<a)return[];if(1886614376!==u)return[];var c=r.getUint32(i)>>>24;if(i+=4,0!==c&&1!==c)return[];var s=r.buffer;i+=16;var l=r.getUint32(i);if(i+=4,!l||o<n+i+32*l)return[];for(var f=[],d=0;d<l;d++){var h=new Uint8Array(s,n+i+32*d,32);f.push(Ws.x.fromBytesAutoDetect(h))}return f}},{key:"getClearKeyInitData",value:function(e,t){var r,n=null===(r=e.init)||void 0===r?void 0:r[0].initData,o=t||this.getKeyIdsForClearKey(n)[0]||e.keyId;if(!o)return null;var i=new Uint8Array([16,119,239,236,192,178,77,2,172,227,60,30,82,226,251,75]),a=new Uint8Array([]);return[{initData:this.createPssh(a,i,[o],1),initDataType:"cenc",keyId:o}]}}])&&gr(t.prototype,r),n&&gr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Rl=["segmentTemplate","mimeType"],Ll=["segmentTemplate","mimeType"],jl=["segmentTemplate","mimeType"],Il=r(81917),Cl=["urn:mpeg:dash:utc:direct:2014","urn:mpeg:dash:utc:direct:2012"],Dl=[].concat(Cl),Nl=r(31969),Fl=r(49257),Ml=r(83361),Vl=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ln(this,"body",void 0),ln(this,"status",void 0),ln(this,"headers",void 0),ln(this,"textPromise",void 0),this.body=r,this.status=t.status,this.headers=function(e){var t=[];return e.getAllResponseHeaders().trim().split("\r\n").forEach((function(e){var r=nn(e.split(":")),n=r[0],o=r.slice(1);t.push([o.join(":"),n])})),{forEach:function(e){t.forEach((function(t){var r=rn(t,2),n=r[0],o=r[1];e(n,o)}))}}}(t),this.textPromise=new Ml((function(e,r){t.addEventListener("load",(function(){e(t.response)})),t.addEventListener("abort",(function(){var e=new Error("Stretch request aborted");e.name="AbortError",r(e)}))})),(0,Fl.v)(this.textPromise)}var t,r,n;return t=e,(r=[{key:"text",value:function(){return this.textPromise}}])&&sn(t.prototype,r),n&&sn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Bl=r(83361),Ul={done:!0,value:void 0},Gl=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),dn(this,"dataStream",void 0),dn(this,"readRequest",void 0),dn(this,"storedError",void 0),dn(this,"onCancel",void 0),this.dataStream=new fl,this.readRequest=null,this.storedError=null,this.onCancel=t}var t,r,n;return t=e,(r=[{key:"read",value:function(){var e=this;return new Bl((function(t,r){return e.readRequest={resolve:t,reject:r},e.dataStream.isDestroyed()?r(e.storedError||new Error("Unexpected read after stream destroy")):e.dataStream.isClosed()?t(Ul):(e.dataStream.once("Data",(function(r){e.dataStream.pause(),t({done:!1,value:r})})),void e.dataStream.resume())}))}},{key:"cancel",value:function(){this.dataStream.destroy(),this.onCancel()}},{key:"throw",value:function(e){this.dataStream.isDestroyed()||this.dataStream.isClosing()||(this.storedError=e,this.dataStream.destroy(),this.readRequest&&(this.readRequest.reject(e),this.readRequest=null))}},{key:"write",value:function(e){this.dataStream.isDestroyed()||this.dataStream.write(e)}},{key:"close",value:function(){this.dataStream.close()}}])&&fn(t.prototype,r),n&&fn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Hl=r(21658),Yl="undefined"!==typeof fetch&&"undefined"!==typeof ReadableStream&&"undefined"!==typeof(0,Hl.Y)((function(){return new AbortController})),ql=Yl?"arraybuffer":hn("moz-chunked-arraybuffer")||hn("ms-stream")||"arraybuffer",Wl=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),vn(this,"readerInited",!1),vn(this,"reader",void 0),vn(this,"xhr",void 0),this.xhr=t,this.reader=new Gl((function(){return t.abort()}))}var t,r,n;return t=e,(r=[{key:"throwReaderError",value:function(e){return this.reader.throw(e)}},{key:"getReader",value:function(){return this.initReader(this.xhr,ql),this.reader}},{key:"initReader",value:function(e,t){var r=this;if(this.readerInited)throw new Error("Unexpected second call StretchBody#initReader()");switch(this.readerInited=!0,e.responseType=t,t){case"arraybuffer":e.addEventListener("load",(function(){e.response&&r.reader.write(new Uint8Array(e.response)),r.reader.close()}));break;case"moz-chunked-arraybuffer":e.addEventListener("progress",(function(){r.reader.write(new Uint8Array(e.response))})),e.addEventListener("load",(function(){r.reader.close()}));break;case"ms-stream":e.addEventListener("readystatechange",(function(){if(e.readyState===XMLHttpRequest.LOADING){var t=0,n=new(0,self.MSStreamReader);n.onprogress=function(){n.result.byteLength>t&&(r.reader.write(new Uint8Array(n.result,t)),t=n.result.byteLength)},n.onload=r.reader.close.bind(r.reader),n.readAsArrayBuffer(e.response)}}))}}}])&&pn(t.prototype,r),n&&pn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Kl=r(83361),zl=Yl?fetch:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Kl((function(r,n){var o=t.method,i=void 0===o?"GET":o,a=t.body,u=void 0===a?null:a,c=new XMLHttpRequest;for(var s in c.open(i,e),t.headers)t.headers.hasOwnProperty(s)&&c.setRequestHeader(s,t.headers[s]);"include"===t.credentials&&(c.withCredentials=!0);var l=new Wl(c);c.addEventListener("readystatechange",(function e(){c.readyState===XMLHttpRequest.HEADERS_RECEIVED&&(c.removeEventListener("readystatechange",e),r(new Vl(c,l)))}));var f=function(){c.abort();var e=new Error("request aborted");e.name="AbortError",l.throwReaderError(e),n(e)};if(t.signal){if(t.signal.aborted)return void f();t.signal.addEventListener("abort",f)}c.addEventListener("error",(function(){var e=new Error("network error");l.throwReaderError(e),n(e)})),c.send(u)}))},Ql=r(5923),Zl=r(20290),$l=r(80445),Jl=r(56924),Xl=r(80726),ef=r(16566),tf=["headers"],rf=["headers"],nf=function(e){function t(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return wn(this,t),Tn(_n(e=i.call(this)),"baseParams",void 0),Tn(_n(e),"contentId",void 0),Tn(_n(e),"lowLatency",!1),e.baseParams=r,r.contentId&&(e.contentId=r.contentId),e}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&En(e,t)}(t,e);var r,n,o,i=On(t);return r=t,(n=[{key:"setIsLL",value:function(e){this.lowLatency=e}},{key:"isLL",value:function(){return this.lowLatency}},{key:"setBaseParams",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.baseParams=e}},{key:"getRequestOptions",value:function(e){e.headers;var t=bn(e,tf),r=this.baseParams;return r.headers,gn(gn({},bn(r,rf)),t)}},{key:"getRequestHeaders",value:function(e){return gn(gn({},this.baseParams.headers),e.headers)}},{key:"performRequest",value:function(e,t){var r,n,o=this,i=new Ql.H,a=this.getRequestOptions(t),u=this.getRequestHeaders(t),c=gn(gn({},a),{},{headers:u,signal:i.signal}),s={canceled:!1,timeout:!1,downloadedBytes:0},l=(0,hl.u)(),f=(0,ef.en)(e).protocol===Xl.Gd;if(!f&&this.contentId&&null!==(r=Jl.gl.downloadedFragments)&&void 0!==r&&null!==(n=r[this.contentId])&&void 0!==n&&n[(0,Jl.pC)(this.contentId,e)])return(0,Jl.mk)(i.abort,s,c.signal,l);var d=(f?Jl.gl.fetchFromFs(this.contentId,e):zl(e,c)).catch((function(e){if(s.canceled)throw new Error("Request canceled");if(s.timeout)throw new Error("Request timed out");throw e})),h="number"===typeof c.timeout?setTimeout((function(){s.timeout=!0,i.abort()}),c.timeout):void 0;return d.then((function(e){var t={};e.headers.forEach((function(e,r){t[r]=e})),o.emit("RequestTtfb",l())})).catch(Zl.Z),{abort:function(){s.canceled=!0,h&&clearTimeout(h),i.abort()},responsePromise:d,timeoutId:h,requestState:s,signal:c.signal,getRtt:l,isSkipFragment:!1,requestOptions:a,requestHeaders:u}}},{key:"parseServerTime",value:function(e,t){if(e.date||e["x-server-time-ms"]){var r=NaN;e["x-server-time-ms"]?r=new Date(parseInt(e["x-server-time-ms"],10)).getTime():e.date&&(r=new Date(e.date).getTime()),isFinite(r)&&this.emit("ServerTimeChange",r+t/2)}}},{key:"fetch",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.performRequest(e,r),o=n.abort,i=n.responsePromise,a=n.timeoutId,u=n.getRtt,c=n.requestOptions,s=n.requestHeaders;return{abort:o,response:i.then((function(e){a&&clearTimeout(a);var r={};return e.headers.forEach((function(e,t){r[t]=e})),t.parseServerTime(r,u()),{status:e.status,headers:r,body:e.text()}})),requestOptions:c,requestHeaders:s}}},{key:"progress",value:function(e,t,r){this.emit("Progress",{time:e,size:t,isLowLatency:r})}},{key:"fetchDataStream",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.performRequest(e,r),o=n.abort,i=n.responsePromise,a=n.timeoutId,u=n.requestState,c=n.signal,s=n.isSkipFragment,l=n.requestOptions,f=n.requestHeaders,d=new fl,h=s||(0,ef.en)(e).protocol===Xl.Gd?void 0:this.contentId,p=h?Jl.gl.createFileWritableStream((0,Jl.pC)(h,e)):void 0;d.once("Close",(function(){var e;null===(e=p)||void 0===e||e.then((function(e){return e.close()})),p=void 0})),d.once("Destroy",(function(){var e;null===(e=p)||void 0===e||e.then((function(e){return e.close()})),p=void 0})),c.addEventListener("abort",(function(){d.destroy()}));var v,y=!1,m=function(){y=!0,o(),d.destroy()};return(0,Ol.RW)("yasp_enable_new_timeout")&&(v=setTimeout((function(){u.timeout=!0,o()}),Math.max((0,Ol.jS)("yasp_headers_timeout"),r.timeout||0))),{requestOptions:l,requestHeaders:f,requestState:u,abort:m,response:i.then((function(r){var n;clearTimeout(v);var i=function(){(0,Ol.RW)("yasp_enable_new_timeout")&&(clearTimeout(n),d.isClosed()||d.isClosing()||d.isDestroyed()||(n=setTimeout((function(){u.timeout=!0,o()}),(0,Ol.jS)("yasp_body_timeout"))))};i();var c={};t.on("Destroy",m),r.headers.forEach((function(e,t){c[t]=e}));var s=r.body.getReader(),l=(0,$l.I)((function(){t.off("Destroy",m),t.emit("ResponseEnd")}));return d.once("Destroy",l),d.once("Close",l),t.emit("ResponseStart"),function t(){y||s.read().then((function(r){var n,o=r.done,c=r.value;(i(),y)||(void 0!==c&&(u.downloadedBytes+=c.length,h&&(0,ef.en)(e).protocol!==Xl.Gd?null===(n=p)||void 0===n||n.then((function(e){return e.write(c)})):d.write(c)),o?(d.close(),a&&clearTimeout(a)):t())})).catch((function(e){if("AbortError"!==(null===e||void 0===e?void 0:e.name)&&d.destroy(),"AbortError"!==(null===e||void 0===e?void 0:e.name)&&"network error"!==(null===e||void 0===e?void 0:e.message))throw e}))}(),{status:r.status,headers:c,body:d}}))}}},{key:"getDebugInfo",value:function(){return{baseParams:this.baseParams}}}])&&Sn(r.prototype,n),o&&Sn(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(cl.M),of=r(17986),af=r(55502),uf=r(9140),cf=r(81917),sf=r(83237),lf=r(47751),ff=r(83361),df=r(81917),hf=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),lo(co(r=u.call(this)),"url",void 0),lo(co(r),"fetcher",void 0),lo(co(r),"timeline",void 0),lo(co(r),"parser",void 0),lo(co(r),"mpd",null),lo(co(r),"xml",""),lo(co(r),"session",""),lo(co(r),"attempt",0),lo(co(r),"baseUrls",[]),lo(co(r),"drmInfos",[]),lo(co(r),"playlistCapHeight",null),lo(co(r),"lastUpdateDuration",0),lo(co(r),"aborted",!1),lo(co(r),"abortFn",null),r.url=e.url,r.timeline=e.timeline,r.parser=new Qs,r.fetcher=new nf(e.fetcherParams),r.fetcher.on("ServerTimeChange",(function(e){r.emit("ServerTimeChange",e)})),r}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&io(e,t)}(t,e);var r,n,o,i,a,u=ao(t);return r=t,(n=[{key:"parse",value:function(e){return this.parser.parse(e)}},{key:"isInitiallyLoaded",value:function(){return null!==this.mpd}},{key:"setSourceIndex",value:function(e){if(null!==e){var t=new df(this.url);t.searchParams.set("source_index",e),this.url=t.href}}},{key:"getMpdXml",value:function(){return this.parse(this.xml)[1]}},{key:"getPlaylistCapHeight",value:function(){return this.playlistCapHeight}},{key:"isDynamicPlaylist",value:function(){var e;return(null===(e=this.mpd)||void 0===e?void 0:e.isDynamic)||!1}},{key:"getMediaType",value:function(){if(this.mpd)return this.mpd.isDynamic?this.mpd.mediaType:Nl.D.VOD}},{key:"getUpdatePeriod",value:function(){var e;return(null===(e=this.mpd)||void 0===e?void 0:e.updatePeriod)||null}},{key:"getLastUpdateDuration",value:function(){return this.lastUpdateDuration}},{key:"setFetcherBaseParams",value:function(e){this.fetcher.setBaseParams(e)}},{key:"apply",value:function(e){this.xml=e;var t,r=this.parse(e);try{t=tn(r,this.url,this.parser)}catch(o){throw Jn(o)&&"YASP_PARSE_MANIFEST_ERROR"===o.code&&(o.details.manifest=e),o}this.playlistCapHeight=t.maxHeight,this.baseUrls=t.baseUrls;var n=t.periods[0];return n.adaptationSets=Zn(n.adaptationSets),this.checkTracksLengthDifference(n.adaptationSets),this.checkDrm(n.adaptationSets),jn(n,this.timeline),this.timeline.applyMpd(t),t}},{key:"checkDrm",value:function(e){var t=e.find((function(e){return e.encrypted}));t&&(this.drmInfos=t.contentProtection.drmInfos,this.mpd||this.emit("DrmInfoReceived",t.contentProtection.drmInfos))}},{key:"getBaseUrls",value:function(){return this.baseUrls}},{key:"getDrmInfos",value:function(){return this.drmInfos}},{key:"getEmsgSchemeIdUris",value:function(){var e;return null===(e=this.mpd)||void 0===e?void 0:e.emsgSchemeIdUris}},{key:"update",value:(i=eo().mark((function e(){var t,r,n,o,i,a,u,c,s,l,f,d,h,p,v,y,m,g,b,w,S=this;return eo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.aborted=!1,t=this.session?$n(this.url):(0,uf.c)(this.url),r=(0,hl.u)(),n={url:t},e.prev=4,o={},this.session&&(o["x-strm-session"]=this.session,o["x-client-timestamp"]=String(Date.now())),i=this.fetcher.fetch(t,{timeout:af.d4,headers:o}),a=i.response,u=i.abort,c=i.requestHeaders,s=i.requestOptions,this.abortFn=u,e.next=11,a;case 11:if(l=e.sent,f=l.body,d=l.status,h=l.headers,this.session=h["x-strm-session"],p=d>=200&&d<300||304===d,n.requestHeaders=c,n.responseHeaders=h,n.status=d,n.requestOptions=s,p){e.next=25;break}throw v=this.attempt>=10,0===d?new js.w({code:"YASP_FETCH_MANIFEST_HTTP_ERROR",message:"Network Error",details:n,category:Ls.q.NETWORK_MEDIA,isFatal:v}):new js.w({code:"YASP_FETCH_MANIFEST_BAD_HTTP_STATUS",message:"Error: ".concat(d),details:n,isFatal:v,category:Ls.q.NETWORK_MEDIA});case 25:return this.attempt=0,e.next=28,f;case 28:y=e.sent,this.abortFn=null,this.mpd=this.apply(y),this.updateManifestUrl(),this.lastUpdateDuration=r(),this.emit("ManifestUpdate"),e.next=55;break;case 36:if(e.prev=36,e.t0=e.catch(4),g=this.attempt>=10,this.abortFn=null,!(0,sf.V)(e.t0)){e.next=47;break}if("Request canceled"!==e.t0.message&&"Abort error"!==e.t0.message){e.next=43;break}return e.abrupt("return");case 43:b="Request timed out"===e.t0.message,m=Jn(e.t0)?e.t0:new js.w({code:b?"YASP_FETCH_MANIFEST_TIMEOUT":"YASP_FETCH_MANIFEST_HTTP_ERROR",details:b?{url:t}:n,message:e.t0.message,isFatal:g,category:b?Ls.q.NETWORK_TIMEOUT:Ls.q.NETWORK_MEDIA}),e.next=48;break;case 47:m=new js.w({code:"YASP_UNKNOWN_ERROR",details:{url:t,error:e.t0},message:"Unknown error. Expect error to be an instance of Error.",isFatal:g,category:Ls.q.NETWORK_MEDIA});case 48:if(this.emit("Error",m),!g&&!m.isFatal){e.next=51;break}return e.abrupt("return");case 51:if(w=(0,lf._)(Pn(this.attempt++)),!this.aborted){e.next=54;break}return e.abrupt("return");case 54:return e.abrupt("return",w.then((function(){if(!S.aborted)return S.update()})));case 55:case"end":return e.stop()}}),e,this,[[4,36]])})),a=function(){var e=this,t=arguments;return new ff((function(r,n){function o(e){to(u,r,n,o,a,"next",e)}function a(e){to(u,r,n,o,a,"throw",e)}var u=i.apply(e,t);o(void 0)}))},function(){return a.apply(this,arguments)})},{key:"abort",value:function(){this.abortFn&&this.abortFn(),this.aborted=!0}},{key:"destroy",value:function(){this.abort(),no(so(t.prototype),"destroy",this).call(this)}},{key:"getDebugInfo",value:function(){return{url:this.url,xml:this.xml,attempt:this.attempt,baseUrls:this.baseUrls,mpd:this.mpd,playlistCapHeight:this.playlistCapHeight,lastUpdateDuration:this.lastUpdateDuration}}},{key:"checkTracksLengthDifference",value:function(e){if(e.length){var t=new Set,r={};if(e.forEach((function(e){"text"!==e.type&&e.representations.forEach((function(e){r[e.id]=e.segmentTemplate.endTime,t.add(e.segmentTemplate.endTime)}))})),1!==t.size){var n=new js.w({code:"YASP_DIFFERENT_TRACKS_LENGTH",details:r,message:"Different track lengths detected",isFatal:!1,category:Ls.q.MEDIA});this.emit("Error",n)}}}},{key:"updateManifestUrl",value:function(){var e,t;this.url=null!==(e=null===(t=this.mpd)||void 0===t?void 0:t.locationUrl)&&void 0!==e?e:this.url}}])&&ro(r.prototype,n),o&&ro(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(cl.M),pf=r(69497),vf=r(83361),yf=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.manifesto=t,yo(this,"processing",!1),yo(this,"promise",null),yo(this,"timer",0)}var t,r,n,o,i;return t=e,(r=[{key:"update",value:(o=ho().mark((function e(){var t,r=this;return ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.processing){e.next=2;break}return e.abrupt("return",this.promise);case 2:if(this.shouldUpdate()){e.next=4;break}return e.abrupt("return");case 4:return this.processing=!0,t=function(){if(r.processing){r.processing=!1;var e=r.getUpdatePeriod();e&&(r.timer=self.setTimeout((function(){r.timer=0,r.update()}),e))}},this.promise=this.manifesto.update().then(t).catch(pf.Z).then((function(){r.promise=null})),e.abrupt("return",this.promise);case 8:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new vf((function(r,n){function i(e){po(u,r,n,i,a,"next",e)}function a(e){po(u,r,n,i,a,"throw",e)}var u=o.apply(e,t);i(void 0)}))},function(){return i.apply(this,arguments)})},{key:"forceUpdate",value:function(){this.disableTimer(),this.update()}},{key:"disable",value:function(){this.processing=!1,this.disableTimer(),this.manifesto.abort()}},{key:"getDebugInfo",value:function(){return{processing:this.processing}}},{key:"disableTimer",value:function(){self.clearTimeout(this.timer),this.timer=0}},{key:"shouldUpdate",value:function(){return!this.timer&&(!this.manifesto.isInitiallyLoaded()||this.manifesto.isDynamicPlaylist())}},{key:"getUpdatePeriod",value:function(){if(this.manifesto.isDynamicPlaylist()){var e=this.manifesto.getUpdatePeriod(),t=this.manifesto.getLastUpdateDuration();if(e)return Math.max(3e3,e-t)}}}])&&vo(t.prototype,r),n&&vo(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),mf=(0,$l.I)((function(){return 55})),gf=(0,$l.I)((function(){return mf()+10})),bf=r(7889),wf=r(83361),Sf={type:"video",state:"idle",fat:!1,currentTrack:void 0,time:null,previousBufferingTime:null,nextTimeToSet:null,streamIsFinished:!1,lastTrackTimeOffset:null},Ef=["Unexpected read after destroy","Unexpected destroy while read"],Of=function(e){function t(e,r,n,o){var i,a,u,s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(s=c.call(this)).timeline=e,s.mediaState=r,s.mse=n,jo(Ro(s),"destroyed",!1),jo(Ro(s),"bufferGoal",void 0),jo(Ro(s),"totalBufferSoftCap",void 0),jo(Ro(s),"totalBufferHardCap",void 0),jo(Ro(s),"streams",{}),jo(Ro(s),"abortCallbacks",{video:null,audio:null}),s.bufferGoal=null!==(i=null===o||void 0===o?void 0:o.bufferGoal)&&void 0!==i?i:30,s.totalBufferSoftCap=null!==(a=null===o||void 0===o?void 0:o.totalBufferSoftCap)&&void 0!==a?a:mf(),s.totalBufferHardCap=null!==(u=null===o||void 0===o?void 0:o.totalBufferHardCap)&&void 0!==u?u:gf();var l=e.getMimeTypes(),f=l.video,d=l.audio;return f.length>0&&(s.streams.video=_o(_o({},Sf),{},{type:"video"})),d.length>0&&(s.streams.audio=_o(_o({},Sf),{},{type:"audio"})),s.mse.on("Open",(function(){return s.run()})),s}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&To(e,t)}(t,e);var r,n,o,i,a,u,c=Po(t);return r=t,(n=[{key:"abort",value:function(){var e=this;["video","audio"].forEach((function(t){e.abortForType(t)}))}},{key:"abortForType",value:function(e){var t,r;this.destroyed||(null===(t=(r=this.abortCallbacks)[e])||void 0===t||t.call(r),this.resetTime(e))}},{key:"destroy",value:function(){this.destroyed=!0}},{key:"run",value:function(){var e=this;this.destroyed||["audio","video"].some((function(t){var r;return"appending"===(null===(r=e.streams[t])||void 0===r?void 0:r.state)}))||(this.streams.video&&this.runForStream(this.streams.video),this.streams.audio&&this.runForStream(this.streams.audio))}},{key:"abortUseless",value:function(){var e=this;if(!this.destroyed){var t=this.mediaState.currentTime;"open"!==this.mse.getReadyState()||this.mse.isReloading()||null!==t&&["video","audio"].forEach((function(r){var n=e.streams[r];if(void 0!==n){var o=e.mse.getSourceBufferBufferedRange(r);void 0!==o&&!o.some((function(e){return e.start<=t&&t<=e.end}))&&e.abortForType(n.type)}}))}}},{key:"createAbortPromise",value:function(e){var t=this,r=new bf.B;return this.abortCallbacks[e]=function(){r.reject(t.createAbortError())},r.promise}},{key:"createAbortError",value:function(){return new js.w({code:"YASP_OPERATION_ABORTED",details:{},isFatal:!1,category:Ls.q.EXCEPTION,message:"AppendStream operation aborted"})}},{key:"resetTime",value:function(e){var t=this.streams[e];if(t){var r=this.mediaState.currentTime;"appending"===t.state?t.nextTimeToSet=null===r?null:1e3*r:t.time=null===r?null:1e3*r}}},{key:"reset",value:function(){var e=this;(0,ml.z)(this.streams).forEach((function(t){t&&(e.resetTime(t.type),t.currentTrack=void 0,t.lastTrackTimeOffset=null)}))}},{key:"runForStream",value:function(e){var t=this;if("open"===this.mse.getReadyState()&&!this.mse.isReloading()&&"appending"!==e.state){var r=this.mediaState,n=r.currentTime,o=r.buffering,i=r.duration;if(null!==n){var a=this.mse.getSourceBufferBufferedRange(e.type);if(void 0!==a){if(o)e.previousBufferingTime!==1e3*n&&(e.time=1e3*n,e.nextTimeToSet=null,e.previousBufferingTime=e.time);else{if(e.previousBufferingTime=null,Math.min(this.bufferGoal,i-n)<=mo(a,n))return;if(this.checkGorgedBuffer(e,a))return}var u=this.timeline.getSegment(e.type,e.time),c=u.track,s=u.segment;if(void 0!==c){var l=c.id;this.handleTrackPresentationTimeOffset(e,c),l===e.currentTrack?void 0!==s&&(e.nextTimeToSet=s.end,this.appendStream(e,s.getChunkStream()).then((function(){e.time=e.nextTimeToSet,e.streamIsFinished=c.endNumber===s.number&&!t.timeline.getIsDynamic(),(0,ml.z)(t.streams).every((function(e){return Boolean(null===e||void 0===e?void 0:e.streamIsFinished)}))&&t.mse.endOfStream()})).catch((function(r){if("YASP_OPERATION_ABORTED"!==r.code)"YASP_QUOTA_EXCEEDED_ERROR"===r.code?t.emit("QuotaExceededError"):t.emit("Error",r);else{var n=t.mediaState.currentTime;e.time=null===n?null:1e3*n}}))):this.appendInitialSegment(e,l).catch((function(r){var n=Jn(r)?r:new js.w({code:"YASP_UNKNOWN_ERROR",details:{error:r},isFatal:!1,category:Ls.q.MEDIA,message:"Can not append initial Segment"});if("YASP_OPERATION_ABORTED"!==n.code)t.emit("Error",n);else{var o=t.mediaState.currentTime;e.time=null===o?null:1e3*o}})).then((function(){}))}}}}}},{key:"handleTrackPresentationTimeOffset",value:function(e,t){var r=this,n=t.presentationTimeOffset,o=e.lastTrackTimeOffset,i=e.type;o!==n&&this.mse.setTimestampOffset(i,n/1e3).then((function(){e.lastTrackTimeOffset=n})).catch((function(e){r.destroyed||(0,dl.L)(e)}))}},{key:"setBufferGoal",value:function(e){this.bufferGoal=e}},{key:"checkGorgedBuffer",value:function(e,t){var r=function(e){for(var t=0,r=0;r<e.length;r++){var n=e[r],o=n.start;t+=n.end-o}return t}(t),n=e.fat;return e.fat=r>=this.totalBufferSoftCap,!!e.fat&&(n||this.emit("FatBuffer",e.type),r>=this.totalBufferHardCap&&(this.emit("GorgedBuffer",e.type),!0))}},{key:"appendInitialSegment",value:(u=Oo(bo().mark((function e(t,r){var n,o;return bo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(n=this.timeline.getInitialSegment(t.type,r))){e.next=3;break}return e.abrupt("return");case 3:if(!n.isMP4){e.next=8;break}return e.next=6,this.appendChunk(t,tl.P.concat.apply(tl.P,wo(n.getChunks())));case 6:e.next=11;break;case 8:return o=n.getChunkStream(),e.next=11,this.appendStream(t,o);case 11:t.currentTrack=r,this.run();case 13:case"end":return e.stop()}}),e,this)}))),function(e,t){return u.apply(this,arguments)})},{key:"appendChunk",value:(a=Oo(bo().mark((function e(t,r){return bo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.mse.appendBuffer(t.type,r);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),Jn(e.t0)?e.t0:new js.w({code:"YASP_UNKNOWN_ERROR",details:{error:e.t0},isFatal:!1,category:Ls.q.MEDIA,message:(0,Ts.K)(e.t0)?e.t0.message:"Can not append buffer"});case 8:case"end":return e.stop()}}),e,this,[[0,5]])}))),function(e,t){return a.apply(this,arguments)})},{key:"appendStream",value:(i=Oo(bo().mark((function e(t,r){var n,o,i,a,u;return bo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state="appending",t.streamIsFinished=!1,n=this.createAbortPromise(t.type),e.prev=3,e.next=6,wf.race([r.read(),n]);case 6:o=e.sent,i=o.value,a=o.done;case 9:if(a){e.next=24;break}if(!this.destroyed){e.next=12;break}return e.abrupt("return");case 12:if(!i){e.next=15;break}return e.next=15,wf.race([this.appendChunk(t,i),n]);case 15:if(!this.destroyed){e.next=17;break}return e.abrupt("return");case 17:return e.next=19,wf.race([r.read(),n]);case 19:u=e.sent,i=u.value,a=u.done,e.next=9;break;case 24:e.next=33;break;case 26:if(e.prev=26,e.t0=e.catch(3),!(0,Ts.K)(e.t0)||!Ef.includes(e.t0.message)&&!this.mse.isReloading()){e.next=32;break}throw this.createAbortError();case 32:throw Jn(e.t0)?e.t0:new js.w({code:"YASP_UNKNOWN_ERROR",details:{error:e.t0},isFatal:!1,category:Ls.q.MEDIA,message:"Can not append buffer"});case 33:return e.prev=33,this.abortCallbacks[t.type]=null,t.state="idle",e.finish(33);case 37:case"end":return e.stop()}}),e,this,[[3,26,33,37]])}))),function(e,t){return i.apply(this,arguments)})},{key:"getDebugInfo",value:function(){return{bufferGoal:this.bufferGoal,totalBufferSoftCap:this.totalBufferSoftCap,totalBufferHardCap:this.totalBufferHardCap,streams:this.streams}}}])&&Ao(r.prototype,n),o&&Ao(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(cl.M),kf=r(47286),_f=r(20348),Af=r(81917),Tf=r(41224),Pf=r(83361),xf=r(83361),Rf=r(81917),Lf=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Jo(Zo(e=a.call(this)),"blacklist",new Set),Jo(Zo(e),"destroyed",!1),Jo(Zo(e),"checkLoopTimeoutId",void 0),e.startLoop(),e.once("Destroy",(function(){e.destroyed=!0})),e}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ko(e,t)}(t,e);var r,n,o,i,a=zo(t);return r=t,(n=[{key:"destroy",value:function(){this.stopLoop(),qo($o(t.prototype),"destroy",this).call(this)}},{key:"getBlacklist",value:function(){return Array.from(this.blacklist)}},{key:"addHostname",value:function(e){var t=new Rf(e).host;kf.T.indexOf(t)>-1||this.blacklist.has(e)||this.blacklist.add(e)}},{key:"isBlacklisted",value:function(e){return this.blacklist.has(e)}},{key:"checkBlacklistedHosts",value:(i=Ho(Uo().mark((function e(){var t=this;return Uo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xf.all(Array.from(this.blacklist).map(function(){var e=Ho(Uo().mark((function e(r){return Uo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Mo(Io(r));case 3:t.blacklist.delete(r),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"startLoop",value:function(){var e=this;this.destroyed||(this.checkLoopTimeoutId=setTimeout(Ho(Uo().mark((function t(){return Uo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.stopLoop(),t.next=3,e.checkBlacklistedHosts();case 3:e.startLoop();case 4:case"end":return t.stop()}}),t)}))),3e4))}},{key:"stopLoop",value:function(){clearTimeout(this.checkLoopTimeoutId)}}])&&Yo(r.prototype,n),o&&Yo(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(cl.M),jf=r(8450),If=r(36714),Cf=r(71377),Df=r(32890),Nf=r(12917),Ff=r(44885),Mf=(0,Ff.y)(self)||(0,Nf.V)(self),Vf=Mf?1e4:5e3,Bf=r(81917),Uf=r(83361),Gf=(0,Ff.y)(self)||(0,Nf.V)(self),Hf=[429,500,502,503,504],Yf={start:Math.abs(0),end:Math.abs(0),number:Math.max(Math.floor(0)),isInitSegment:!1,bitrate:0,trackId:"unknown",width:0,height:0,originalStart:0},qf=function(e){function t(e){var r,n=e.timeline,o=e.mediaState,a=e.playlist,u=e.abr,c=e.segmentFetcher,s=e.bufferGoal,l=e.bandwidthEstimator,f=e.ttfbEstimator,d=e.sourceIndex;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),pi(di(r=i.call(this)),"segmentFetcher",void 0),pi(di(r),"abr",void 0),pi(di(r),"timeline",void 0),pi(di(r),"mediaState",void 0),pi(di(r),"playlist",void 0),pi(di(r),"bandwidthEstimator",void 0),pi(di(r),"ttfbEstimator",void 0),pi(di(r),"bufferGoal",void 0),pi(di(r),"hostnameBlackList",new Lf),pi(di(r),"trackToFetchFailuresCount",new Map),pi(di(r),"lastNonBlockedBaseUrls",[]),pi(di(r),"isDestroyed",!1),pi(di(r),"inProgress",!1),pi(di(r),"segmentsInProgress",{video:[],audio:[],text:[]}),pi(di(r),"sourceIndex",null),pi(di(r),"bufferGoalBytes",(0,Ol.jS)("web_yasp_buffer_goal_bytes_size")),r.timeline=n,r.mediaState=o,r.playlist=a,r.abr=u,r.segmentFetcher=c,r.bandwidthEstimator=l,r.ttfbEstimator=f,r.bufferGoal=1e3*s,r.sourceIndex=d,r}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&si(e,t)}(t,e);var r,n,o,i=li(t);return r=t,o=[{key:"syncSelectedSegments",value:function(e,t){var r=["audio","video","text"],n=ni({},e);return r.forEach((function(o){var i=e[o];if(i){var a=1/0;r.forEach((function(r){var n,i;if(r!==o){var u=null!==(n=null===(i=e[r])||void 0===i?void 0:i.end)&&void 0!==n?n:0,c=t[r],s=null===c||void 0===c?void 0:c.reduce((function(e,t){var r=t.segment;return Math.max(e,r.end)}),0),l=Math.max(s,u);l&&(a=Math.min(a,l))}})),isFinite(a)&&i.start>=a&&(n[o]=void 0)}})),n}}],(n=[{key:"abort",value:function(){var e=this;["video","audio","text"].forEach((function(t){e.segmentsInProgress[t].forEach((function(e){return e.abort()}))}))}},{key:"setSourceIndex",value:function(e){this.sourceIndex=e}},{key:"addSourceIndexInUrl",value:function(e){if(!this.sourceIndex)return e;var t=new Bf(e);return t.searchParams.set(Df.g,this.sourceIndex),t.href}},{key:"abortUseless",value:function(){var e=this;["video","audio","text"].forEach((function(t){return e.abortUselessForType(t)}))}},{key:"abortUselessForType",value:function(e){var t=this,r=this.mediaState.currentTime,n=1e3*(null!==r&&void 0!==r?r:-1);this.segmentsInProgress[e]=this.segmentsInProgress[e].filter((function(r){var o=r.abort,i=r.segment,a=r.trackId;if(i.isInitSegment)return!0;var u=i.start<=n&&n<i.end;return!(!t.timeline.checkTrackAvailableToLoad(a,e)||!u)||(o(),!1)}))}},{key:"run",value:function(){var e=this,t=[],r=function(){return!(e.segmentsInProgress.video.length>0||e.segmentsInProgress.audio.length>0||e.segmentsInProgress.text.length>0)};try{r(),this.runInternal(t),r()&&(this.inProgress=!1,this.emit("NoSegmentsInProgress"))}finally{Uf.all(t.map((function(e){return e.catch(pf.Z)}))).then((function(){t.length>0&&e.emit("BandwidthEstimateUpdate",e.bandwidthEstimator.getBandwidthEstimate())}))}}},{key:"setVideoState",value:function(e){this.mediaState=e}},{key:"setBufferGoal",value:function(e){this.bufferGoal=1e3*e}},{key:"canStartDownload",value:function(e){if(!this.segmentsInProgress[e].length)return!0;var t=this.segmentsInProgress,r=t.audio,n=t.video,o=t.text,i=this.ttfbEstimator.getMinTtfbEstimate({value:0,source:"default"}),a=r.concat(n,o);return Gf?0===a.length:a.every((function(e){return e.segment.getExpectedTimeToLoad()<=i.value}))}},{key:"actualizeProgress",value:function(){if((0,Ol.RW)("yasp_abr_loading_segment")){var e=Math.max(this.segmentsInProgress.audio.length,this.segmentsInProgress.video.length,this.segmentsInProgress.text.length);if(0!==e){for(var t={video:e,audio:e,text:e},r=0;r<e;r++){var n,o,i,a,u,c,s,l=null===(n=this.segmentsInProgress.audio[r])||void 0===n?void 0:n.segment,f=null===(o=this.segmentsInProgress.video[r])||void 0===o?void 0:o.segment,d=null===(i=this.segmentsInProgress.text[r])||void 0===i?void 0:i.segment,h=this.abr.filterSegments(this.timeline.getSegmentsForTracks(null!==(a=null===l||void 0===l?void 0:l.start)&&void 0!==a?a:null,"audio"),this.timeline.getSegmentsForTracks(null!==(u=null===f||void 0===f?void 0:f.start)&&void 0!==u?u:null,"video"),this.timeline.getSegmentsForTracks(null!==(c=null===d||void 0===d?void 0:d.start)&&void 0!==c?c:null,"text"),this.mediaState);h.audio&&l&&h.audio!==l&&l.getExpectedTimeToLoad()>h.audio.getExpectedTimeToLoad()&&(t.audio=Math.min(t.audio,r)),h.video&&f&&h.video!==f&&f.getExpectedTimeToLoad()>h.video.getExpectedTimeToLoad()*(0,Ol.jS)("yasp_videosegment_expected_load_time_multiplier")&&(t.video=Math.min(t.video,r)),(null===d||void 0===d?void 0:d.getExpectedTimeToLoad())>(null===(s=h.text)||void 0===s?void 0:s.getExpectedTimeToLoad())&&(t.text=Math.min(t.text,r))}for(var p=e-1;p>=0;p--)this.segmentsInProgress.audio[p]&&t.audio<=p&&this.segmentsInProgress.audio[p].abort(),this.segmentsInProgress.video[p]&&t.video<=p&&this.segmentsInProgress.video[p].abort(),this.segmentsInProgress.text[p]&&t.text<=p&&this.segmentsInProgress.text[p].abort()}}}},{key:"runInternal",value:function(e){var r,n,o=this,i=this.mediaState,a=i.currentTime,u=i.duration,c=i.buffering;if(null!==a&&(this.actualizeProgress(),c||!(u<a+.1))){var s=1e3*a,l=this.timeline.getBufferedRanges(!0),f=l.video,d=l.audio,h=l.text,p=this.defineTracksMeta(f,s,"video"),v=this.defineTracksMeta(d,s,"audio"),y=this.defineTracksMeta(h,s,"text");if(p.length||v.length||y.length){var m=t.syncSelectedSegments(this.abr.filterSegments(v,p,y,this.mediaState),this.segmentsInProgress),g=void 0!==m.video&&(null===(r=m.video)||void 0===r?void 0:r.height)===(null===(n=p[p.length-1])||void 0===n?void 0:n.height),b=this.getBaseUrl();b?(0,Sl.J)(m).forEach((function(t){var r=oi(t,2),n=r[0],i=r[1];if(i){var a=i.trackId,u=o.timeline.findTrackById(a,n);if(u){var c,f,d,h=0;if(Number.isFinite(o.mediaState.currentTime)){var p=vi(l[n],s,o.mediaState.duration);-1!==p&&(c=(p-s)/1e3,f=3,d=Math.pow(10,f),h=Math.round((c+If.I)*d)/d)}if(!u.getInitSegment()&&u.initialization){var v=u.initialization,y={baseUrl:b,pathname:Xo(v,u)},m=o.fetchSegment(y,a,n,ni(ni({},Yf),{},{isInitSegment:!0}),h,g),w=m.segment,S=m.promise;u.appendSegment(w),e.push(S.catch((function(e){w.fail();var t=Jn(e)?e:new js.w({code:"YASP_UNKNOWN_ERROR",details:{error:e,blacklist:o.hostnameBlackList.getBlacklist()},isFatal:!0,category:Ls.q.NETWORK_MEDIA});o.emitError(t)})))}var E=u.media;if(E&&!u.hasSegment(i.number)){var O={baseUrl:b,pathname:Xo(E,u,i)},k={start:i.start,end:i.end,number:i.number,isInitSegment:!1,bitrate:u.bitrate,trackId:u.id,width:"width"in u?u.width:0,height:"height"in u?u.height:0,originalStart:i.originalStart,duration:i.duration,isMP4:!1,isEncrypted:!1,startByteWithOffset:0,endByteWithOffset:0},_={};if(i.isMP4){O.pathname="",k.isMP4=!0,k.isEncrypted=i.isEncrypted,k.startByteWithOffset=i.startByteWithOffset,k.endByteWithOffset=i.endByteWithOffset;var A=ei({start:i.startByteWithOffset,end:i.endByteWithOffset},i.isEncrypted);_.Range="bytes=".concat(A.start,"-").concat(A.end)}var T=o.fetchSegment(O,a,n,k,h,g,_),P=T.segment,x=T.promise;u.appendSegment(P),e.push(x.catch((function(e){P.fail();var t=Jn(e)?e:new js.w({code:"YASP_UNKNOWN_ERROR",details:{error:e,blacklist:o.hostnameBlackList.getBlacklist()},isFatal:!0,category:Ls.q.NETWORK_MEDIA});o.emitError(t)})))}}}})):this.emitError(new js.w({code:"YASP_NO_BASEURLS",details:{},isFatal:!0,category:Ls.q.MEDIA}))}}}},{key:"emitError",value:function(e){"YASP_OPERATION_ABORTED"!==e.code&&this.emit("Error",e)}},{key:"fetchSegment",value:function(e,t,r){var n=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Yf,i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},c=new pl(o),s=!1;this.handleInProgressSegment(r,c,t,(function(){s=!c.isInitSegment,n.inProgress||(n.inProgress=!0,n.emit("SegmentInProgress"))}));var l=new Uf((function(l,f){var d="".concat(t,"/").concat(o.number),h=n.trackToFetchFailuresCount.get(d)||0,p=new Bf(e.pathname,e.baseUrl);i>=0&&p.searchParams.append("bufSize",String(i)),(0,Cf._)(Pn(h)).then((function(){if(!n.isDestroyed){var o=0;o=(0,Ol.RW)("web_yasp_static_timeout_for_low_latency")&&n.timeline.isLowLatencyLive()?1e4:(a?1e4:Vf)+n.ttfbEstimator.getTtfbEstimate({value:1e3,source:"default"}).value;var i=(0,uf.c)(n.addSourceIndexInUrl(p.toString())),v=n.hostnameBlackList.getBlacklist(),y=n.timeline.findTrackById(t,r),m=n.segmentFetcher.fetchChunkStream(i,o,c,r,y,u),g=m.chunkStream,b=m.promise,w=m.requestState,S=m.abort,E=m.requestHeaders,O=m.requestOptions;s?S():n.handleInProgressSegment(r,c,t,S);var k={url:i,requestHeaders:E,requestOptions:O};b.then((function(t){var r=t.status,o=t.headers;if(k.responseHeaders=o,k.status=r,r>=200&&r<300||304===r){g.on("Data",(function(e){c.append(e)})),g.on("Close",(function(){c.finish(),l()}));var i=function(){if(null!==w&&void 0!==w&&w.canceled)return c.fail(),l();if(!c.finished){var t=null!==w&&void 0!==w&&w.timeout?"YASP_FETCH_SEGMENT_TIMEOUT":"YASP_FETCH_SEGMENT_HTTP_ERROR",r=null!==w&&void 0!==w&&w.timeout?"Request timed out":"Network Error",o=null!==w&&void 0!==w&&w.timeout?Ls.q.NETWORK_TIMEOUT:Ls.q.NETWORK_MEDIA;n.hostnameBlackList.addHostname(e.baseUrl),f(new js.w({code:t,details:ni(ni({},k),{},{blacklist:{before:v,after:n.hostnameBlackList.getBlacklist()},downloadedBytes:null!==w&&void 0!==w&&w.timeout?w.downloadedBytes:void 0}),message:r,category:o,isFatal:!1}))}};return g.on("Destroy",i),g.resume(),n.trackToFetchFailuresCount.has(d)&&n.trackToFetchFailuresCount.delete(d),void(g.isDestroyed()&&i())}if(n.trackToFetchFailuresCount.set(d,h+1),Hf.includes(r))f(new js.w({code:"YASP_FETCH_SEGMENT_BAD_HTTP_STATUS",message:"Error: ".concat(r),details:ni(ni({},k),{},{blacklist:{before:v,after:n.hostnameBlackList.getBlacklist()}}),category:Ls.q.NETWORK_MEDIA,isFatal:!1}));else{n.hostnameBlackList.addHostname(e.baseUrl);var a=h>=10;f(0===r?new js.w({code:"YASP_FETCH_SEGMENT_HTTP_ERROR",message:"Network Error",details:ni(ni({},k),{},{blacklist:{before:v,after:n.hostnameBlackList.getBlacklist()}}),category:Ls.q.NETWORK_MEDIA,isFatal:a}):new js.w({code:"YASP_FETCH_SEGMENT_BAD_HTTP_STATUS",message:"Error: ".concat(r),details:ni(ni({},k),{},{blacklist:{before:v,after:n.hostnameBlackList.getBlacklist()}}),category:Ls.q.NETWORK_MEDIA,isFatal:a}))}})).catch((function(t){if(null!==w&&void 0!==w&&w.canceled)f(new js.w({code:"YASP_OPERATION_ABORTED",details:ni(ni({},k),{},{blacklist:{before:v,after:n.hostnameBlackList.getBlacklist()}}),message:t.message,category:Ls.q.NETWORK_MEDIA,isFatal:!1}));else{n.hostnameBlackList.addHostname(e.baseUrl),n.trackToFetchFailuresCount.set(d,h+1);var r="Request timed out"===t.message,o=!r&&h>=10;f(new js.w({code:r?"YASP_FETCH_SEGMENT_TIMEOUT":"YASP_FETCH_SEGMENT_HTTP_ERROR",details:ni(ni({},k),{},{blacklist:{before:v,after:n.hostnameBlackList.getBlacklist()},downloadedBytes:r?(null===w||void 0===w?void 0:w.downloadedBytes)||0:void 0}),message:t.message,category:r?Ls.q.NETWORK_TIMEOUT:Ls.q.NETWORK_MEDIA,isFatal:o}))}}))}}))}));return{segment:c,promise:l}}},{key:"handleInProgressSegment",value:function(e,t,r,n){var o=this;if(!t.finished&&!t.failed&&(!(0,Ol.RW)("yasp_abr_loading_segment")||!t.isInitSegment)){var i=this.segmentsInProgress[e].find((function(e){return e.segment.number===t.number&&e.trackId===r}))||function(){var i={abort:n,segment:t,trackId:r};o.segmentsInProgress[e].push(i);var a=function r(){o.segmentsInProgress[e]=o.segmentsInProgress[e].filter((function(e){return e!==i})),t.off("Failed",r),t.off("Finish",r)};return t.once("Failed",a),t.once("Finish",a),t.once("Destroy",a),i}(),a=i.abort;i.abort=function(){a(),n()}}}},{key:"defineTracksMeta",value:function(e,t,r){if(!this.canStartDownload(r))return[];var n=vi(e,t,this.mediaState.duration);if(-1===n)return[];var o=n-t;return this.checkIsFullBuffer(o)?[]:this.timeline.getSegmentsForTracks(n,r)}},{key:"checkIsFullBuffer",value:function(e){return this.bufferGoalBytes>0&&this.timeline.getTotalRawSize()>=this.bufferGoalBytes?(this.emit("OutOfBytesLimit"),!0):e>=this.bufferGoal||0===this.bufferGoal}},{key:"getDebugInfo",value:function(){return{bufferGoal:this.bufferGoal,hostnameBlackList:this.hostnameBlackList.getBlacklist(),trackToFetchFailuresCount:Array.from(this.trackToFetchFailuresCount.entries()).reduce((function(e,t){return e[t[0]]=e[t[1]],e}),{}),segmentsInProgress:Object.entries(this.segmentsInProgress).reduce((function(e,t){var r=oi(t,2),n=r[0],o=r[1];return e[n]=o.map((function(e){return e.segment.getDebugInfo()})),e}),{}),sourceIndex:this.sourceIndex,inProgress:this.inProgress}}},{key:"getBaseUrl",value:function(){var e,t,r,n,o=this,i=this.playlist.getBaseUrls().filter((function(e){return!o.hostnameBlackList.isBlacklisted(e)}));return t=i,r=function(e,t){var r=o.lastNonBlockedBaseUrls.indexOf(e),n=o.lastNonBlockedBaseUrls.indexOf(t);return-1!==r&&-1!==n?r-n:-1!==r&&-1===n?-1:-1===r&&-1!==n?1:0},n=new Map,t.forEach((function(e,t){return n.set(e,t)})),t.sort((function(e,t){var o=r(e,t);return 0!==o?o:Number(n.get(e))-Number(n.get(t))})),this.lastNonBlockedBaseUrls=i,null!==(e=i[0])&&void 0!==e?e:this.playlist.getBaseUrls()[0]}},{key:"destroy",value:function(){this.isDestroyed=!0,this.abort(),ui(hi(t.prototype),"destroy",this).call(this)}}])&&ai(r.prototype,n),o&&ai(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(cl.M),Wf=function(){function e(t,r,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.timeline=t,this.videoState=r,this.backWatch=n,this.getBufferGoal=o}var t,r,n;return t=e,(r=[{key:"getTotalExpectedBufferSize",value:function(){return this.backWatch+this.getBufferGoal()}},{key:"setBackWatch",value:function(e){this.backWatch=e}},{key:"setVideoState",value:function(e){this.videoState=e}},{key:"run",value:function(){if(null!==this.videoState.currentTime){var e=this.videoState.currentTime;this.timeline.clear(0,Math.max(1e3*(e-this.backWatch),0)),this.timeline.clear(1e3*(e+this.getBufferGoal()),Number.MAX_SAFE_INTEGER)}}},{key:"onOutOfBytesLimit",value:function(){if(null!==this.videoState.currentTime){var e=this.videoState.currentTime;this.timeline.clear(0,Math.max(1e3*(e-5),0))}}},{key:"getDebugInfo",value:function(){return{backWatch:this.backWatch,bufferGoal:this.getBufferGoal()}}}])&&yi(t.prototype,r),n&&yi(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Kf=r(7680),zf=r(90541),Qf=r(83361),Zf=function(e){function t(e,r){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ci(ji(n=i.call(this)),"fetcher",void 0),Ci(ji(n),"emsgSchemeIdUris",{audio:new Set,video:new Set}),Ci(ji(n),"decoder",void 0),n.fetcher=e,n.decoder=r,n}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xi(e,t)}(t,e);var r,n,o,i=Ri(t);return r=t,(n=[{key:"setKeys",value:function(e){this.decoder.setKeys(e)}},{key:"fetchChunkStream",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};n.waitingStarted();var u=this.fetcher.fetchDataStream(e,{timeout:Math.max(Vf,r),headers:a}),c=u.response,s=u.requestState,l=u.abort,f=u.requestHeaders,d=u.requestOptions,h=new fl,p=new Qf(function(){var r=Ti(Oi().mark((function r(u,s){var f,d,p,v,y,m,g;return Oi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return f=(0,hl.u)(),r.prev=1,r.next=4,c;case 4:d=r.sent,p=(d.headers["content-type"]||"").split(";"),v=ki(p,1),y=v[0],m=parseInt(d.headers["content-length"]||"",10),n.setExpectedSize(m),n.loadingStarted(),r.t0=y.trim(),r.next="application/mp4"===r.t0||"text/vtt"===r.t0?12:"audio/mp4"===r.t0||"video/mp4"===r.t0?14:16;break;case 12:return t.processVtt(d.body,h),r.abrupt("break",24);case 14:return t.processMp4({readableStream:d.body,writableStream:h,getStartTime:f,segment:n,type:o,abort:l,track:i,url:e,headers:a}),r.abrupt("break",24);case 16:g=(0,Kf.J)(e.toLocaleLowerCase()),r.t1=g,r.next="vtt"===r.t1?20:("m4s"===r.t1||r.t1,22);break;case 20:return t.processVtt(d.body,h),r.abrupt("break",24);case 22:return t.processMp4({readableStream:d.body,writableStream:h,getStartTime:f,segment:n,type:o,abort:l,track:i,url:e,headers:a}),r.abrupt("break",24);case 24:u({status:d.status,headers:d.headers}),r.next=31;break;case 27:r.prev=27,r.t2=r.catch(1),h.destroy(),s(r.t2);case 31:case"end":return r.stop()}}),r,null,[[1,27]])})));return function(e,t){return r.apply(this,arguments)}}());return{promise:p,chunkStream:h.asReadable(),requestState:s,abort:l,requestHeaders:f,requestOptions:d}}},{key:"processMp4",value:function(e){var t,r,n,o,i=this,a=e.readableStream,u=e.writableStream,c=e.getStartTime,s=e.segment,l=e.type,f=e.abort,d=e.track,h=e.url,p=e.headers,v=[],y=0,m=new Uint8Array(0),g=0,b=0,w=!0,S=!0,E=0,O=function(){w||0===g||(S&&(v.length?(i.filterSpikes(v).forEach((function(e){var t=e.time,r=e.size;i.fetcher.progress(t,r,!0)})),v=[]):i.fetcher.progress(g,b,!0)),g=0,b=0)},k=c,_=0,A=0,T=!1,P=function(e,a){m=tl.P.concat(m,e);var u=!1,c=0,f=function(e){c=e.size+e.start,u=!0,A++};if((new Ms.p).box("uuid",(function(e){if(e.isComplete){c=e.size+e.start,u=!0;var i=e.reader.readUUID(),a=e.reader.readUint64();"c4eac1fc-0ad8-4676-9656-69552eb3252f"===i&&w?(t=a,r=Date.now(),n=r,w=!1):"bcfca253-398b-4a5b-9a92-ec8f7d89e61d"===i&&(o=a-t,t=a)}})).box("moov",(function(e){e.isComplete&&(c=e.size+e.start,u=!0,Ms.p.children(e))})).box("mvex",(function(){T=!0})).box("moof",(function(e){e.isComplete&&(b+=e.size)})).box("mdat",(function(e){if(w){if(!e.isComplete)return;f(e)}else{if(S){S=!1,E=e.loadedSize;var t=Date.now(),i=t-n;n=t,i>=o?(g+=i-o,b+=e.loadedSize):o<50&&(g+=i,b+=e.loadedSize)}else{var a=Date.now()-r;g+=a;var u=e.loadedSize-E;E=e.loadedSize;var c=u;if(b+=c,!s.isInitSegment)if(0===a)if(v.length){var l=v[v.length-1];l.size=l.size+c}else y=c;else v.push({time:a,size:c+y}),y=0}r=Date.now(),e.isComplete&&(S=!0,s.isInitSegment||O(),f(e))}})).fullBox("emsg",(function(e){e.isComplete&&(i.parseEMSG(e,s,l),c=e.size+e.start,u=!0)})).parse(m,!0,!0),function(e){if(w)if(_+=e.length,i.fetcher.isLL()){var t=k();(t>=100||_>=16e3)&&(i.fetcher.progress(t,_),k=(0,hl.u)(),_=0)}else if(_>0){var r=k();i.fetcher.progress(r,_),k=(0,hl.u)(),_=0}}(e),O(),u){i.validateInitSegment(s,l,h,Boolean(A),T);var d=m.subarray(0,c);m=m.subarray(c),a(d)}},x=[];if(s.isEncrypted){var R=new Uint8Array;a.on("Data",(function(e){R=tl.P.concat(R,e)})),a.on("Close",Ti(Oi().mark((function e(){var t,r;return Oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.decoder.decode(R,"audio",s,d,wi(p.Range));case 2:t=e.sent,r=Si(t,{start:s.startByteWithOffset,end:s.endByteWithOffset},p.Range),P(r,(function(e){try{u.write(e)}catch(t){if(t instanceof RangeError)return f(),void i.emit("BufferAllocationError",{error:t,type:"audio"});throw t}})),u.close();case 6:case"end":return e.stop()}}),e)}))))}else a.on("Data",(function(e){s.loadedRawSize+=e.byteLength,P(e,(function(e){if("text"!==l){var t=i.decoder.decode(e,l,s,d).then((function(e){u.write(e)})).catch((function(e){if(e instanceof RangeError)return f(),void i.emit("BufferAllocationError",{error:e,type:l});throw e}));x.push(t)}else u.write(e)}))})),a.on("Close",Ti(Oi().mark((function e(){return Oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.emitSegmentLoaded(l,s,A),e.prev=1,e.next=4,Qf.all(x);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),u.destroy();case 9:u.close();case 10:case"end":return e.stop()}}),e,null,[[1,6]])}))));a.on("Destroy",Ti(Oi().mark((function e(){return Oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qf.all(x).catch(Rs.Z);case 2:u.destroy();case 3:case"end":return e.stop()}}),e)})))),a.resume()}},{key:"validateInitSegment",value:function(e,t,r,n,o){if(e.isInitSegment&&"text"!==t)return n?this.emit("Error",new js.w({code:"YASP_INVALID_INIT_SEGMENT",message:"Unexpected mdat-box in initialization segment",details:{type:t,url:r},isFatal:!0,category:Ls.q.MEDIA})):o?void 0:this.emit("Error",new js.w({code:"YASP_INVALID_INIT_SEGMENT",message:"Expect mvex-box in initialization segment, but not found",details:{type:t,url:r},isFatal:!0,category:Ls.q.MEDIA}))}},{key:"emitSegmentLoaded",value:function(e,t,r){"text"===e||t.isInitSegment||this.emit("SegmentLoaded",{type:e,cmaf:r>1,number:t.number})}},{key:"processVtt",value:function(e,t){var r=new Uint8Array(0);e.on("Data",(function(e){r=tl.P.concat(r,e)})),e.on("Close",(function(){t.write(r),t.close()})),e.on("Destroy",(function(){t.destroy()})),e.resume()}},{key:"setEmsgSchemeIdUris",value:function(e){this.emsgSchemeIdUris=null!==e&&void 0!==e?e:this.emsgSchemeIdUris}},{key:"parseEMSG",value:function(e,t,r){if("text"!==r){var n=t.start/1e3,o=e.reader.readTerminatedString(),i=e.reader.readTerminatedString(),a=e.reader.readUint32(),u=e.reader.readUint32(),c=e.reader.readUint32(),s=e.reader.readUint32(),l=e.reader.readBytes(e.reader.getLength()-e.reader.getPosition()),f=n+u/a,d=f+c/a,h=t.duration/1e3;if(this.emsgSchemeIdUris[r].has(o))if("urn:mpeg:dash:event:2012"===o)this.emit("ManifestUpdateRequired");else{var p={startTime:f,endTime:d,schemeIdUri:o,value:i,timescale:a,presentationTimeDelta:u,eventDuration:c,id:s,segmentDuration:h,messageData:l};this.emit("EmsgDetected",p)}}}},{key:"filterSpikes",value:function(e){if(e.length<2)return e;e.sort((function(e,t){return e.time-t.time}));var t=e[Math.floor(e.length/4)].time,r=e[Math.floor(e.length*(3/4))].time,n=r+3*(r-t);return e.filter((function(e){return e.time<n}))}}])&&Pi(r.prototype,n),o&&Pi(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(cl.M),$f=r(83361),Jf=function(){function e(t,r,n,o){var i,a,u;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mse=t,this.videoState=r,this.backWatch=n,this.bufferGoal=o,u=!1,(a="locked")in(i=this)?Object.defineProperty(i,a,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[a]=u}var t,r,n,o,i;return t=e,(r=[{key:"setBufferGoal",value:function(e){this.bufferGoal=e}},{key:"run",value:function(){var e=this;this.locked||(this.locked=!0,this.runInternal().catch(pf.Z).then((function(){e.locked=!1})))}},{key:"runInternal",value:(o=Ni().mark((function e(){var t,r;return Ni().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("open"===this.mse.getReadyState()){e.next=2;break}return e.abrupt("return");case 2:if(null!==(t=this.videoState.currentTime)){e.next=5;break}return e.abrupt("return");case 5:return r=[this.clear(t+this.bufferGoal,this.videoState.duration)],t>this.backWatch&&r.push(this.clear(0,t-this.backWatch)),e.abrupt("return",$f.all(r));case 8:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new $f((function(r,n){function i(e){Fi(u,r,n,i,a,"next",e)}function a(e){Fi(u,r,n,i,a,"throw",e)}var u=o.apply(e,t);i(void 0)}))},function(){return i.apply(this,arguments)})},{key:"forceRun",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=[];return(0,Ol.RW)("yasp_no_source_abort_on_fake_seek")&&null!==t&&["video","audio"].forEach((function(n){e.mse.getBufferedRangesByType(n).some((function(e){return e.start<=t&&e.end>=t}))?r.push($f.resolve()):r.push(e.clear(t,e.videoState.duration))})),0===r.length&&r.push(this.clear(0,this.videoState.duration)),$f.all(r)}},{key:"clear",value:function(e,t){return e>=t?$f.all([$f.resolve()]):$f.all([this.mse.clearBuffer("video",e,t),this.mse.clearBuffer("audio",e,t)])}},{key:"getDebugInfo",value:function(){return{locked:this.locked}}}])&&Mi(t.prototype,r),n&&Mi(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Xf=r(14538),ed=r(44540),td=r(34204),rd=r.n(td),nd=rd().ru.yandex.videoplayer.multiplatform,od=function(){function e(){$i(this,e),ea(this,"getTime",(0,hl.u)())}return Xi(e,[{key:"getDurationMs",value:function(){return this.getTime()}}]),e}(),id=function(){function e(){$i(this,e)}return Xi(e,[{key:"create",value:function(){return new od}}]),e}(),ad=function(){function e(t,r){$i(this,e),this.task=t,this.time=r,ea(this,"intervalId",null)}return Xi(e,[{key:"start",value:function(){this.intervalId=setInterval(this.task,this.time)}},{key:"stop",value:function(){null!==this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}}]),e}(),ud=function(){function e(){$i(this,e)}return Xi(e,[{key:"create",value:function(e,t){return new ad(e,t)}}]),e}(),cd=function(){function e(t){$i(this,e),this.fetcher=t,ea(this,"progressListeners",new Map)}return Xi(e,[{key:"addResponseStartListener",value:function(e){this.fetcher.on("ResponseStart",e)}},{key:"removeResponseStartListener",value:function(e){this.fetcher.off("ResponseStart",e)}},{key:"addResponseEndListener",value:function(e){this.fetcher.on("ResponseEnd",e)}},{key:"removeResponseEndListener",value:function(e){this.fetcher.off("ResponseEnd",e)}},{key:"addProgressListener",value:function(e){var t=function(t){var r=t.time,n=t.size;e(new nd.fetcher.BandwidthInfo(r,n))};this.progressListeners.set(e,t),this.fetcher.on("Progress",t)}},{key:"removeProgressListener",value:function(e){var t=this.progressListeners.get(e);void 0===t&&(this.progressListeners.delete(e),this.fetcher.off("Progress",t))}}]),e}(),sd=function(e){function t(){var e;if($i(this,t),ea(Qi(e=r.call(this)),"fetcherProgressAccumulator",new nd.fetcher.FetcherProgressAccumulator(new id,new nd.fetcher.FetcherProgressAccumulatorParams((0,Ol.RW)("disable_multiplatform_interval_task")?null:new ud,new nd.fetcher.FetcherProgressAccumulatorExperimentalFlags(null,(0,Ol.jS)("web_multiplatform_fpa_process_interval"),(0,Ol.RW)("web_multiplatform_fpa_call_process_after_last_response_end"))))),ea(Qi(e),"fetchers",new Map),ea(Qi(e),"bandwidthInfoBatch",[]),(0,Ol.RW)("web_yasp_enable_network_traces")&&e.on("Progress",(function(t){e.bandwidthInfoBatch.push(qi(qi({},t),{},{clientTimestamp:(0,ed.no)()})),e.bandwidthInfoBatch.length>=30&&(e.emit("NetworkTrace",e.bandwidthInfoBatch),e.bandwidthInfoBatch=[])})),e.fetcherProgressAccumulator.addProgressListener((function(t){var r=t.durationMs,n=t.sizeBytes;e.emit("Progress",{time:r,size:n})})),(0,Ol.RW)("disable_multiplatform_interval_task")){var n=setInterval((function(){e.fetcherProgressAccumulator.process()}),100);e.once("Destroy",(function(){clearInterval(n)}))}return e.once("Destroy",(function(){e.fetcherProgressAccumulator.destroy()})),e}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wi(e,t)}(t,e);var r=Ki(t);return Xi(t,[{key:"appendFetcher",value:function(e){var t=new cd(e);this.fetchers.set(e,t),this.fetcherProgressAccumulator.appendFetcher(t)}},{key:"removeFetcher",value:function(e){var t=this.fetchers.get(e);void 0!==t&&(this.fetchers.delete(t),this.fetcherProgressAccumulator.removeFetcher(t))}},{key:"isLL",value:function(){return!1}}]),t}(cl.M),ld=function(){function e(){var t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=void 0,(r="trace")in(t=this)?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,this.trace=[]}var t,r,n;return t=e,(r=[{key:"getTrace",value:function(){return this.trace}},{key:"addDecision",value:function(e,t,r){var n,o=[],i=ra(t);try{for(i.s();!(n=i.n()).done;){var a,u,c=n.value,s=null===(a=c.audio)||void 0===a?void 0:a.trackId,l=null===(u=c.video)||void 0===u?void 0:u.trackId;o.push({audio:s,video:l})}}catch(f){i.e(f)}finally{i.f()}return r?this.trace.push({name:e,result:o,input:r}):this.trace.push({name:e,result:o}),this.trace}}])&&ta(t.prototype,r),n&&ta(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),fd=[4320,2880,2160,1440,1080,720,480,360,240,144,0],dd=fd.reduce((function(e,t){return e[t]=t,e}),Object.create(null)),hd=function(e){function t(e){var r,n=e.rules,o=void 0===n?[]:n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),pa(da(r=i.call(this)),"rules",void 0),pa(da(r),"videoSizes",void 0),pa(da(r),"abrDecisionsHashCode",{video:"",audio:""}),pa(da(r),"lastAbrDecisionsLog",null),r.rules=o,r}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sa(e,t)}(t,e);var r,n,o,i=la(t);return r=t,(n=[{key:"setVideoElementSizes",value:function(e){this.videoSizes=e}},{key:"filterSegments",value:function(e,t,r,n){var o,i=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],u=aa(t,e,r),c=oa(e,t),s=new ld,l=this.rules.reduce((function(e,t){var r,a=t.filter(e,n,i.videoSizes);if(t.isCappingRule()){var c,l,f,d,h=t.filter(u,n,i.videoSizes),p=h[h.length-1];o?null!==(c=o.video)&&void 0!==c&&c.height&&null!==(l=p.video)&&void 0!==l&&l.height&&(null===(f=o.video)||void 0===f?void 0:f.height)>(null===(d=p.video)||void 0===d?void 0:d.height)&&(o=p):o=p}return"function"===typeof t.getInputData&&(r=t.getInputData()),s.addDecision(t.name,a,r),a}),u.reverse())[0]||u[u.length-1];if(a){var f={tracks:c,trace:s.getTrace()},d=ia(f,"audio"),h=ia(f,"video"),p={video:h||this.abrDecisionsHashCode.video,audio:d||this.abrDecisionsHashCode.audio};this.abrDecisionsHashCode.audio===p.audio&&this.abrDecisionsHashCode.video===p.video||(this.emit("AbrDecisionChange",f),this.abrDecisionsHashCode=p,this.lastAbrDecisionsLog=f)}return o&&this.emit("MaxCapAllowedVideoTrackUpdate",o),{audio:l.audio,video:l.video,text:null===r||void 0===r?void 0:r[0]}}},{key:"getDebugInfo",value:function(){return{rules:this.rules.map((function(e){return e.getDebugInfo()})),abrDecisionsLog:this.lastAbrDecisionsLog}}}])&&ca(r.prototype,n),o&&ca(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(cl.M),pd=r(84119),vd=rd().ru.yandex.videoplayer.multiplatform,yd=function(){function e(t){ya(this,e),this.fetcher=t}return ga(e,[{key:"addRequestTtfbListener",value:function(e){this.fetcher.on("RequestTtfb",e)}},{key:"removeRequestTtfbListener",value:function(e){this.fetcher.off("RequestTtfb",e)}}]),e}(),md=function(){function e(){ya(this,e),va(this,"ttfbEstimator",new vd.estimate.TtfbEstimator),va(this,"fetchers",new Map)}return ga(e,[{key:"appendFetcher",value:function(e){var t=new yd(e);this.fetchers.set(e,t),this.ttfbEstimator.appendFetcher(t)}},{key:"removeFetcher",value:function(e){var t=this.fetchers.get(e);void 0!==t&&(this.fetchers.delete(t),this.ttfbEstimator.removeFetcher(t))}},{key:"getMinTtfbEstimate",value:function(e){var t=this.ttfbEstimator.getMinTtfbEstimate(e);return{value:t.value,source:t.source}}},{key:"getTtfbEstimate",value:function(e){var t=this.ttfbEstimator.getTtfbEstimate(e);return{value:t.value,source:t.source}}},{key:"hasGoodEstimate",value:function(){return this.ttfbEstimator.hasGoodEstimate()}},{key:"getDebugInfo",value:function(){return this.ttfbEstimator.getDebugInfo()}}]),e}(),gd=r(53396),bd=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bandwidthEstimator=t,this.ttfbEstimator=r,this.getRemainingTimeToStart=n,Sa(this,"name","NetworkParamsRule"),Sa(this,"inputData",{bandwidth:0,ttfb:0,playbackRate:0,bufferSize:0,remainingTimeToStart:null})}var t,r,n;return t=e,(r=[{key:"filter",value:function(e,t){var r;if(e.length<=1)return e;if((0,Ol.RW)("yasp_abr_loading_segment")&&e.some(ba))return e;var n,o,i=this.bandwidthEstimator.getBandwidthEstimate().value,a=null===(r=this.ttfbEstimator)||void 0===r?void 0:r.getTtfbEstimate({value:1e3,source:"default"}).value,u=null===t.currentTime?0:(n=t,o=t.currentTime,mo((0,gd.w)(n),o)),c=this.getRemainingTimeToStart();if(this.inputData.remainingTimeToStart=c,this.inputData.bandwidth=i,this.inputData.ttfb=a,this.inputData.playbackRate=t.playbackRate,this.inputData.bufferSize=u,!(7.5>=u))return e;var s=Math.max(t.playbackRate,1),l=e.filter((function(e){var t,r,n,o,u=Math.max(null!==(t=null===(r=e.video)||void 0===r?void 0:r.duration)&&void 0!==t?t:0,null!==(n=null===(o=e.audio)||void 0===o?void 0:o.duration)&&void 0!==n?n:0)/1e3,l=e.bandwidth*u,f=.75*u/s,d=Math.min(null!==c?c-a/1e3:1/0,f);return i*d>l}));return 0===l.length?[e[0]]:l}},{key:"getInputData",value:function(){return this.inputData}},{key:"getDebugInfo",value:function(){return{name:this.name}}},{key:"isCappingRule",value:function(){return!1}}])&&wa(t.prototype,r),n&&wa(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),wd=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),xa(Ta(e=i.call(this)),"currentTime",void 0),xa(Ta(e),"duration",void 0),xa(Ta(e),"buffering",void 0),xa(Ta(e),"buffered",void 0),xa(Ta(e),"paused",void 0),xa(Ta(e),"loop",void 0),xa(Ta(e),"playbackRate",void 0),e.currentTime=null,e.duration=Math.max(0,0),e.buffering=!0,e.buffered=new As,e.paused=!0,e.loop=!1,e.playbackRate=1,e}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ka(e,t)}(t,e);var r,n,o,i=_a(t);return r=t,n&&Oa(r.prototype,n),o&&Oa(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r}(cl.M),Sd=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Fa(Da(e=i.call(this)),"videoSize",void 0),Fa(Da(e),"containerSize",void 0),Fa(Da(e),"devicePixelRatio",void 0),Fa(Da(e),"frames",void 0),Fa(Da(e),"objectFit",void 0),e.videoSize=null,e.containerSize=null,e.devicePixelRatio=1,e.frames={total:Math.max(Math.floor(0)),dropped:Math.max(Math.floor(0))},e.objectFit=null,e}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ja(e,t)}(t,e);var r,n,o,i=Ia(t);return r=t,n&&La(r.prototype,n),o&&La(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r}(wd),Ed=function(e){function t(){return Ba(this,t),i.apply(this,arguments)}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ua(e,t)}(t,e);var r,n,o,i=Ga(t);return r=t,n&&Va(r.prototype,n),o&&Va(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r}(wd),Od=r(35318),kd=Number.MAX_SAFE_INTEGER,_d=r(11312),Ad=r(41925),Td=r(2445),Pd=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Xa(this,"name","ResolutionRule"),Xa(this,"inputData",{width:0,height:0,dpi:1,defaultQuality:kd,userQuality:Od.k}),Xa(this,"getUserQuality",void 0),Xa(this,"getDefaultQuality",void 0),this.getDefaultQuality=t,this.getUserQuality=r}var t,r,n;return t=e,(r=[{key:"filter",value:function(e,t,r){var n,o,i,a;if(!function(e){return e instanceof Sd}(t))return e;var u=null!==(n=null===t||void 0===t?void 0:t.videoSize)&&void 0!==n?n:{width:0,height:0},c=u.width,s=u.height;if(t.containerSize){var l,f={width:t.containerSize.width,height:t.containerSize.height},d=null!==(l=t.objectFit)&&void 0!==l?l:"contain";a=null!==r&&void 0!==r?r:(0,Td.k)({videoWidth:c,videoHeight:s},d,f)}else a=null!==r&&void 0!==r?r:{};return a.dpi=t.devicePixelRatio?t.devicePixelRatio:1,this.inputData.width=null!==(o=a.width)&&void 0!==o?o:null,this.inputData.height=null!==(i=a.height)&&void 0!==i?i:null,this.inputData.dpi=a.dpi,this.inputData.userQuality=this.getUserQuality(),this.inputData.defaultQuality=this.getDefaultQuality(),Qa(e,a,{defaultLongSideResolution:this.inputData.defaultQuality,userCappingResolution:this.inputData.userQuality})}},{key:"getInputData",value:function(){return this.inputData}},{key:"getDebugInfo",value:function(){return{name:this.name}}},{key:"isCappingRule",value:function(){return!0}}])&&Ja(t.prototype,r),n&&Ja(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),xd=function(){function e(){var t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n="MaxBandwidthRule",(r="name")in(t=this)?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n}var t,r,n;return t=e,(r=[{key:"filter",value:function(e,t){var r=Tt(e.slice(0).reverse(),(function(e){var t;return(null===e||void 0===e||null===(t=e.audio)||void 0===t?void 0:t.bitrate)||0}));return r?[r]:e}},{key:"getDebugInfo",value:function(){return{name:this.name}}},{key:"isCappingRule",value:function(){return!1}}])&&eu(t.prototype,r),n&&eu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Rd=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getServerCapHeight=t,ru(this,"name","ServerRestrictionsRule"),ru(this,"inputData",{maxHeight:null})}var t,r,n;return t=e,(r=[{key:"filter",value:function(e){if(e.length<=1)return e;var t=this.getServerCapHeight();return this.inputData.maxHeight=t,null===t?e:function(e,t){var r=e.filter(Za);if(r.length<=1)return e;for(var n=[],o=0;o<r.length;o++)r[o].video.height<=t&&n.push(r[o]);return 0===n.length?[r[0]]:n}(e,t)}},{key:"getInputData",value:function(){return this.inputData}},{key:"getDebugInfo",value:function(){return{name:this.name}}},{key:"isCappingRule",value:function(){return!0}}])&&tu(t.prototype,r),n&&tu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Ld=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bandwidthEstimator=t,ou(this,"name","SimpleBandwidthRule"),ou(this,"inputData",{bandwidth:0,playbackRate:0,paused:!1})}var t,r,n;return t=e,(r=[{key:"filter",value:function(e,t){if(e.length<=1)return e;var r=this.bandwidthEstimator.getBandwidthEstimate().value;this.inputData.bandwidth=r,this.inputData.playbackRate=t.playbackRate,this.inputData.paused=t.paused;var n=e.filter((function(e){return!(!(0,Ol.RW)("yasp_abr_loading_segment")||!function(e){return!(!e.video&&!e.audio)&&["audio","video"].every((function(t){var r=e[t];return!r||null!==r.getWaitingDuration()}))}(e))||e.bandwidth*Math.max(t.playbackRate,1)<=r}));return 0===n.length?[e[0]]:n}},{key:"getInputData",value:function(){return this.inputData}},{key:"getDebugInfo",value:function(){return{name:this.name}}},{key:"isCappingRule",value:function(){return!1}}])&&nu(t.prototype,r),n&&nu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),jd=r(91595),Id=r(89426),Cd=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),au(this,"name","SaveDataRule"),au(this,"inputData",{saveData:(0,jd.R)()})}var t,r,n;return t=e,(r=[{key:"filter",value:function(e){return this.inputData.saveData=(0,jd.R)(),function(e){return(0,jd.R)()?e.filter((function(e){return!(e.video&&e.video.height&&e.video.width)||Math.min(e.video.height,e.video.width)<=Id.T})):e}(e)}},{key:"getInputData",value:function(){return this.inputData}},{key:"getDebugInfo",value:function(){return{name:this.name}}},{key:"isCappingRule",value:function(){return!0}}])&&iu(t.prototype,r),n&&iu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Dd=r(63440),Nd=function(e){function t(e){var r,n,o,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=i.call(this)).videoState=e,n=du(r),a=void 0,(o="watchedTimeCounter")in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a,r.watchedTimeCounter=new Dd.p,r}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&su(e,t)}(t,e);var r,n,o,i=lu(t);return r=t,(n=[{key:"run",value:function(){this.videoState.currentTime&&(this.watchedTimeCounter.calc(this.videoState.currentTime,this.videoState.playbackRate,!0),this.emit("WatchedTimeUpdated",{watchedTime:this.watchedTimeCounter.get()}))}}])&&cu(r.prototype,n),o&&cu(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(cl.M),Fd=rd().ru.yandex.videoplayer.multiplatform,Md=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),vu(this,"bufferGoalManager",void 0),vu(this,"constantBufferGoal",null),vu(this,"preloadBufferGoal",2),this.bufferGoalManager=new Fd.bgm.BufferGoalManager(new Fd.bgm.BufferGoalManagerProps(null,new Fd.bgm.BufferGoalManagerFlags(new Fd.flags.DisableDynamicBuffer(!1),new Fd.flags.LowBufferBeforeStart(!0),new Fd.flags.DefaultBuffer(30)),null))}var t,r,n;return t=e,(r=[{key:"setConstantBufferGoal",value:function(e){this.constantBufferGoal=e}},{key:"setPreloadBufferGoal",value:function(e){this.preloadBufferGoal=e}},{key:"getBufferGoal",value:function(e){if(null!==this.constantBufferGoal)return this.constantBufferGoal;if(e.usePreloadBufferGoal)return this.preloadBufferGoal;var t=e.watchedTime,r=void 0===t?0:t,n=e.currentTime,o=void 0===n?0:n;return this.bufferGoalManager.getBufferGoal(new Fd.bgm.GetBufferGoalProps(new Fd.bgm.WatchedTime(r),new Fd.bgm.CurrentTime(o)))}},{key:"setSkippableFragments",value:function(e){this.bufferGoalManager.setSkippableFragments(e?e.map((function(e){var t=e.startTime,r=e.endTime;return new Fd.bgm.SkippableFragment(t,r)})):null)}},{key:"getSkippableFragments",value:function(){var e=this.bufferGoalManager.getSkippableFragments()||void 0;return e&&e.map((function(e){return{startTime:e.startTime,endTime:e.endTime}}))}}])&&pu(t.prototype,r),n&&pu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Vd=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=i.call(this)).timeline=e,r}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wu(e,t)}(t,e);var r,n,o,i=Su(t);return r=t,(n=[{key:"run",value:function(){this.timeline.getIsDynamic()&&this.update()}},{key:"update",value:function(){var e=this.timeline.getSeekableRange(),t=e.start/1e3,r=e.end/1e3;this.emit("SeekableUpdate",{start:t,end:r})}},{key:"destroy",value:function(){gu(Ou(t.prototype),"destroy",this).call(this)}}])&&mu(r.prototype,n),o&&mu(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(cl.M),Bd=r(95542),Ud=r(67709),Gd=function(){function e(t,r){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onChange=t,Pu(this,"types",{}),Pu(this,"queue",{audio:[],video:[]}),Pu(this,"enabledTypes",void 0),this.enabledTypes=(0,gl.Z)(r),this.enabledTypes.forEach((function(e){n.types[e]=!1}))}var t,r,n;return t=e,(r=[{key:"update",value:function(e,t){this.enabledTypes.includes(e)&&(this.queue[e].push(t),this.checkAndUpdate())}},{key:"checkAndUpdate",value:function(){var e=this;if(this.enabledTypes.every((function(t){return e.queue[t].length}))){var t=!1;this.enabledTypes.forEach((function(r){var n=e.queue[r].shift();e.types[r]!==n&&(t=!0,e.types[r]=n)})),t&&this.onChange(this.types)}}},{key:"onSeek",value:function(){var e=this;this.enabledTypes.forEach((function(t){return e.queue[t].length=0}))}}])&&Tu(t.prototype,r),n&&Tu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Hd=r(69071),Yd=(0,Nf.V)(self),qd=(0,Ff.y)(self),Wd=r(6005),Kd=r(29015),zd=r(83361);!function(e){e.append="append",e.remove="remove",e.setTimestampOffset="setTimestampOffset",e.changeType="changeType"}(ul||(ul={}));var Qd,Zd=[[ul.remove],[ul.setTimestampOffset],[ul.append,ul.changeType]],$d=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Du(this,"destroyed",!1),Du(this,"mimeType",void 0),Du(this,"sourceBuffer",void 0),Du(this,"mediaSource",void 0),Du(this,"sync",void 0),Du(this,"abortId",void 0),Du(this,"removeId",void 0),Du(this,"queues",void 0),this.mimeType=t,this.mediaSource=r,this.sourceBuffer=this.initSourceBuffer(),this.sync=(0,Hd.l)(),this.abortId=0,this.removeId=0,this.queues=Zd.map((function(e){return[]}))}var t,r,n,o;return t=e,r=[{key:"checkIfPresent",value:function(){var e=this;return(0,Kd.w)(this.mediaSource.sourceBuffers).some((function(t){return e.sourceBuffer===t}))}},{key:"isFree",value:function(){return this.sync.isFree()&&this.queues.every((function(e){return 0===e.length}))}},{key:"lockForExternalOperation",value:function(e){var t=this;return this.sync.waitAndLock((function(){return e()})).then((function(){setTimeout((function(){return t.performNextOperation()}))})).catch(Zl.Z)}},{key:"initSourceBuffer",value:function(){return this.mediaSource.addSourceBuffer(this.mimeType)}},{key:"getNextOperationDescriptor",value:function(){for(var e=0;e<this.queues.length;e++)if(this.queues[e].length>0)return this.queues[e].shift();return null}},{key:"performNextOperation",value:function(){var e=this;if(this.sync.isFree()){var t=this.getNextOperationDescriptor();if(null!==t){var r=t.abortId,n=t.defer,o=t.operation,i=t.type;this.sync.waitAndLock(Iu(Lu().mark((function t(){return Lu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r===e.abortId&&!e.destroyed){t.next=3;break}return n.reject(new js.w({code:"YASP_OPERATION_ABORTED",details:{},isFatal:!1,category:Ls.q.EXCEPTION,message:"SourceBuffer ".concat(i," operation aborted before start")})),t.abrupt("return",n.promise);case 3:return t.prev=3,t.next=6,o();case 6:n.resolve(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),n.reject(t.t0);case 12:return t.abrupt("return",n.promise);case 13:case"end":return t.stop()}}),t,null,[[3,9]])})))).catch(Zl.Z).then((function(){setTimeout((function(){return e.performNextOperation()}))}))}}}},{key:"planOperation",value:function(e,t){var r=this.abortId;if(this.destroyed)throw new Error("SourceBuffer operation with type=".concat(e," skipped after destroy"));var n=new bf.B,o=Zd.findIndex((function(t){return t.includes(e)}));if(-1===o)throw new Error("SourceBuffer unknown operation with type=".concat(e));return this.queues[o].push({defer:n,abortId:r,operation:t,type:e}),this.performNextOperation(),n.promise}},{key:"changeType",value:function(e){var t=this;return this.planOperation(ul.changeType,Iu(Lu().mark((function r(){return Lu().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t.mimeType!==e){r.next=2;break}return r.abrupt("return");case 2:t.sourceBuffer.changeType(e),t.mimeType=e;case 4:case"end":return r.stop()}}),r)}))))}},{key:"append",value:function(e){var t=this,r=this.removeId;return this.planOperation(ul.append,(function(){return new zd((function(n,o){if(r===t.removeId){var i=new bf.B,a=new bf.B,u=(0,Wd.O)(t.sourceBuffer,"updateend",(function(){i.resolve(),a.resolve()})),c=(0,Wd.O)(t.sourceBuffer,"error",(function(){a.reject(new js.w({code:"YASP_MSE_FAILED_TO_EXECUTE_PROCEDURE",message:"Failed to execute append operation in SourceBuffer",details:{operation:"append"},isFatal:!1,category:Ls.q.EXCEPTION}))})),s=(0,Wd.O)(t.sourceBuffer,"abort",(function(){a.reject(new js.w({code:"YASP_OPERATION_ABORTED",details:{},isFatal:!1,category:Ls.q.EXCEPTION,message:"SourceBuffer append operation aborted"}))}));try{t.sourceBuffer.appendBuffer(e)}catch(d){var l=(0,sf.V)(d)?d:new Error("Failed to start append operation in SourceBuffer"),f="InvalidStateError"===l.name?"YASP_INVALID_STATE_ERROR":"YASP_QUOTA_EXCEEDED_ERROR";return void o(new js.w({code:f,message:l.message,details:{operation:"append",error:l},isFatal:!1,category:Ls.q.EXCEPTION}))}i.promise.then((function(){return a.promise})).catch(o).then(n).then((function(){u(),c(),s()}))}else o(new js.w({code:"YASP_OPERATION_ABORTED",details:{},isFatal:!1,category:Ls.q.EXCEPTION,message:"SourceBuffer append operation aborted before start"}))}))}))}},{key:"remove",value:function(e,t){var r=this;return this.planOperation(ul.remove,(function(){return new zd((function(n,o){r.removeId++;var i=new bf.B,a=new bf.B,u=(0,Wd.O)(r.sourceBuffer,"updateend",(function(){i.resolve(),a.resolve()})),c=(0,Wd.O)(r.sourceBuffer,"error",(function(){a.reject(new js.w({code:"YASP_MSE_FAILED_TO_EXECUTE_PROCEDURE",message:"Failed to execute remove operation in SourceBuffer",details:{operation:"remove"},isFatal:!1,category:Ls.q.EXCEPTION}))})),s=(0,Wd.O)(r.sourceBuffer,"abort",(function(){a.reject(new js.w({code:"YASP_OPERATION_ABORTED",details:{},isFatal:!1,category:Ls.q.EXCEPTION,message:"SourceBuffer remove operation aborted"}))}));try{r.sourceBuffer.remove(e,t)}catch(l){return void o(new js.w({code:"YASP_MSE_FAILED_TO_START_OPERATION",message:(0,sf.V)(l)?l.message:"Failed to start remove operation in SourceBuffer",details:{operation:"remove",error:l},isFatal:!1,category:Ls.q.EXCEPTION}))}i.promise.then((function(){return a.promise})).catch(o).then(n).then((function(){u(),c(),s()}))}))}))}},{key:"setTimestampOffset",value:function(e){var t=this;return this.planOperation(ul.setTimestampOffset,Iu(Lu().mark((function r(){return Lu().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e>0&&(e-=.001),t.sourceBuffer.timestampOffset!==-e){r.next=3;break}return r.abrupt("return");case 3:t.sourceBuffer.timestampOffset=-e;case 4:case"end":return r.stop()}}),r)}))))}},{key:"abort",value:function(){this.abortId++}},{key:"getBufferedRange",value:function(){var e,t=this;return null!==(e=(0,Hl.Y)((function(){return(0,gd.w)(t.sourceBuffer)})))&&void 0!==e?e:[]}},{key:"getBufferEnd",value:function(){var e=this.getBufferedRange(),t=e.length;return t?e[t-1].end:null}},{key:"destroy",value:(o=Iu(Lu().mark((function e(){var t=this;return Lu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.abort(),e.abrupt("return",this.sync.waitAndLock(Iu(Lu().mark((function e(){return Lu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t.mediaSource.removeSourceBuffer(t.sourceBuffer)}catch(r){}t.destroyed=!0;case 2:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"getDebugInfo",value:function(){return{abortId:this.abortId,removeId:this.removeId,mimeType:this.mimeType,locked:!this.sync.isFree(),buffered:this.getBufferedRange(),queues:this.queues.map((function(e){return e.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ru(Object(r),!0).forEach((function(t){Du(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ru(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e)}))}))}}}],n=[{key:"isChangeTypeSupported",value:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return!Yd&&!qd&&Boolean(e.SourceBuffer)&&Boolean(e.SourceBuffer.prototype)&&Boolean(e.SourceBuffer.prototype.changeType)}(self)}}],r&&Cu(t.prototype,r),n&&Cu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Jd=r(69780),Xd=r(83361),eh=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=d.call(this)).mimeTypes=e,Zu(zu(r),"destroyed",!1),Zu(zu(r),"mediaSource",void 0),Zu(zu(r),"mediaSourceOpenDeferred",new bf.B),Zu(zu(r),"sourceBufferEngines",{}),Zu(zu(r),"objectUrl",void 0),Zu(zu(r),"listeners",[]),Zu(zu(r),"reloadingMediaSource",!1),Zu(zu(r),"nextDurationToSet",null),(0,Fl.v)(r.mediaSourceOpenDeferred.promise),r.createMediaSource(),r.objectUrl=r.createObjectUrl(),r.once("Destroy",(function(){r.destroyed=!0,r.removeListeners()})),r}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qu(e,t)}(t,e);var r,n,o,i,a,u,c,s,l,f,d=Wu(t);return r=t,(n=[{key:"createMediaSource",value:function(){var e=this,t=(0,of.Q)(self),r=(0,hl.u)(),n=this.mediaSource=new t,o=(0,gl.Z)(this.mimeTypes),i=function(){try{o.forEach((function(t){return e.createSourceBufferEngine(t)}))}catch(t){return e.mediaSourceOpenDeferred.reject(t),void e.destroy()}e.emit("Open",r()),e.mediaSourceOpenDeferred.resolve(),e.revokeObjectUrl()},a=new bf.B,u=o.length,c=0;return n.sourceBuffers.addEventListener("addsourcebuffer",(function(){++c===u&&a.resolve()})),"open"===n.readyState?i():this.addListener(n,"sourceopen",i,{once:!0}),{sourceBufferAddingPromise:a.promise}}},{key:"addListener",value:function(e,t,r,n){e.addEventListener(t,r,n);var o=function(){return e.removeEventListener(t,r)};return this.listeners.push(o),o}},{key:"removeListeners",value:function(){this.listeners.forEach((function(e){return e()})),this.listeners.length=0}},{key:"clearBuffer",value:(f=Uu(Vu().mark((function e(t,r,n){var o;return Vu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.destroyed){e.next=2;break}throw new Error("Can not clearBuffer because CoreMediaSourceEngine is destroyed");case 2:if(this.checkType(t)){e.next=4;break}return e.abrupt("return");case 4:if("open"===this.mediaSource.readyState){e.next=7;break}return e.next=7,this.mediaSourceOpenDeferred.promise;case 7:if(!this.reloadingMediaSource){e.next=9;break}return e.abrupt("return");case 9:return o=this.sourceBufferEngines[t],e.next=12,null===o||void 0===o?void 0:o.remove(r,n);case 12:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return f.apply(this,arguments)})},{key:"changeCodec",value:(l=Uu(Vu().mark((function e(t,r){var n;return Vu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.checkType(t)){e.next=2;break}return e.abrupt("return");case 2:if("open"===this.mediaSource.readyState){e.next=5;break}return e.next=5,this.mediaSourceOpenDeferred.promise;case 5:if(this.mimeTypes[t]=r,!$d.isChangeTypeSupported()){e.next=9;break}return n=this.sourceBufferEngines[t],e.abrupt("return",null===n||void 0===n?void 0:n.changeType(r));case 9:return e.abrupt("return",this.reset());case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return l.apply(this,arguments)})},{key:"abort",value:function(){this.destroyed||(0,ml.z)(this.sourceBufferEngines).forEach((function(e){null===e||void 0===e||e.abort()}))}},{key:"reset",value:(s=Uu(Vu().mark((function e(){var t,r,n,o;return Vu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.reloadingMediaSource=!0,this.removeListeners(),e.prev=2,e.next=5,this.removeSourceBuffers();case 5:return r=null!==(t=this.nextDurationToSet)&&void 0!==t?t:this.mediaSource.duration,this.mediaSource=null,this.mediaSourceOpenDeferred=new bf.B,(0,Fl.v)(this.mediaSourceOpenDeferred.promise),n=this.createMediaSource(),o=n.sourceBufferAddingPromise,this.objectUrl=this.createObjectUrl(),null!==r&&this.setDuration(r),this.emit("Reset",this.getObjectUrl()),e.next=15,o;case 15:return e.prev=15,this.reloadingMediaSource=!1,e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,,15,18]])}))),function(){return s.apply(this,arguments)})},{key:"checkType",value:function(e){return Boolean(this.mimeTypes[e])}},{key:"createObjectUrl",value:function(){return self.URL.createObjectURL(this.mediaSource)||this.mediaSource.handle}},{key:"revokeObjectUrl",value:function(){"string"===typeof this.objectUrl&&self.URL.revokeObjectURL(this.objectUrl)}},{key:"appendBuffer",value:(c=Uu(Vu().mark((function e(t,r){var n;return Vu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.destroyed){e.next=2;break}throw new Error("Can not appendBuffer because CoreMediaSourceEngine is destroyed");case 2:if("open"===this.mediaSource.readyState){e.next=5;break}return e.next=5,this.mediaSourceOpenDeferred.promise;case 5:if(!this.reloadingMediaSource){e.next=7;break}throw new Error("Can not appendBuffer because CoreMediaSourceEngine is reloading");case 7:return n=this.sourceBufferEngines[t],e.abrupt("return",null===n||void 0===n?void 0:n.append(r));case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return c.apply(this,arguments)})},{key:"getObjectUrl",value:function(){return this.objectUrl}},{key:"isReloading",value:function(){return this.reloadingMediaSource}},{key:"getReadyState",value:function(){return this.mediaSource.readyState}},{key:"endOfStream",value:function(){if(!this.reloadingMediaSource&&"open"===this.mediaSource.readyState){var e,t=Fu(["audio","video"]);try{for(t.s();!(e=t.n()).done;){var r=e.value;if(void 0!==this.sourceBufferEngines[r]&&!this.sourceBufferEngines[r].isFree())return}}catch(n){t.e(n)}finally{t.f()}this.mediaSource.endOfStream()}}},{key:"getSourceBufferBufferedRange",value:function(e){var t;return null===(t=this.sourceBufferEngines[e])||void 0===t?void 0:t.getBufferedRange()}},{key:"setDuration",value:function(e){var t=this;isNaN(e)||(this.nextDurationToSet=e,"open"!==this.mediaSource.readyState?this.mediaSourceOpenDeferred.promise.then((function(){return t.tryToSetDuration()})).catch((function(e){t.destroyed||(0,dl.L)(e)})):this.tryToSetDuration())}},{key:"tryToSetDuration",value:function(){var e=this;if(null!==this.nextDurationToSet)for(var t=["audio","video"],r={audio:new bf.B,video:new bf.B},n=function(){var n,a=i[o],u=e.sourceBufferEngines[a],c=function(){var n=Uu(Vu().mark((function n(){return Vu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r[a].resolve(),n.next=3,r[t[t.indexOf(a)%t.length]].promise;case 3:null!==e.nextDurationToSet&&(e.mediaSource.duration=e.nextDurationToSet,e.nextDurationToSet=null);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();if(!u)return c(),"continue";var s=null!==(n=u.getBufferEnd())&&void 0!==n?n:e.nextDurationToSet;s>e.nextDurationToSet&&u.remove(e.nextDurationToSet,s),u.lockForExternalOperation(c)},o=0,i=t;o<i.length;o++)n()}},{key:"getDuration",value:function(){return this.mediaSource.duration}},{key:"setLiveSeekableRange",value:(u=Uu(Vu().mark((function e(t,r){return Vu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,Jd.m)(this.mediaSource.setLiveSeekableRange)){e.next=2;break}return e.abrupt("return");case 2:if(!this.reloadingMediaSource){e.next=4;break}throw new Error("Can not setLiveSeekableRange because CoreMediaSourceEngine is reloading");case 4:if(!this.destroyed){e.next=6;break}throw new Error("Can not setLiveSeekableRange because CoreMediaSourceEngine is destroyed");case 6:if(!(t<0)){e.next=8;break}throw new Error("Can not setLiveSeekableRange because start value is negative");case 8:if(!(t>r)){e.next=10;break}throw new Error("Can not setLiveSeekableRange because start value is greater then end value");case 10:if("open"===this.mediaSource.readyState){e.next=13;break}return e.next=13,this.mediaSourceOpenDeferred.promise;case 13:this.mediaSource.setLiveSeekableRange(t,r);case 14:case"end":return e.stop()}}),e,this)}))),function(e,t){return u.apply(this,arguments)})},{key:"setTimestampOffset",value:(a=Uu(Vu().mark((function e(t,r){var n;return Vu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.destroyed){e.next=2;break}throw new Error("Can not setTimestampOffset because CoreMediaSourceEngine is destroyed");case 2:if("open"===this.mediaSource.readyState){e.next=5;break}return e.next=5,this.mediaSourceOpenDeferred.promise;case 5:if(!this.reloadingMediaSource){e.next=7;break}return e.abrupt("return");case 7:return n=this.sourceBufferEngines[t],e.abrupt("return",null===n||void 0===n?void 0:n.setTimestampOffset(r));case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return a.apply(this,arguments)})},{key:"getBufferedRanges",value:function(){return{audio:this.getBufferedRangesByType("audio"),video:this.getBufferedRangesByType("video")}}},{key:"getBufferedRangesByType",value:function(e){var t;return null!==(t=this.getSourceBufferBufferedRange(e))&&void 0!==t?t:[]}},{key:"destroy",value:(i=Uu(Vu().mark((function e(){return Vu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.destroyed){e.next=2;break}return e.abrupt("return");case 2:Hu(Qu(t.prototype),"destroy",this).call(this),this.mediaSourceOpenDeferred.reject(new Error("Can not open media source because CoreMediaSourceEngine is destroyed"));try{this.mediaSource.endOfStream()}catch(r){}return e.next=7,this.removeSourceBuffers();case 7:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"removeSourceBuffers",value:function(){var e=this;return this.abort(),Xd.all((0,gl.Z)(this.sourceBufferEngines).map(function(){var t=Uu(Vu().mark((function t(r){return Vu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.sourceBufferEngines[r].destroy();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),e.destroyed||(0,dl.L)(t.t0);case 8:delete e.sourceBufferEngines[r];case 9:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}()))}},{key:"createSourceBufferEngine",value:function(e){if(!this.sourceBufferEngines[e]){var t=this.mimeTypes[e];if(!t)throw new js.w({code:"YASP_EMPTY_MIME",details:{},isFatal:!0,category:Ls.q.MEDIA});try{this.sourceBufferEngines[e]=new $d(t,this.mediaSource)}catch(r){throw new js.w({code:"YASP_CANNOT_CREATE_SOURCE_BUFFER",details:{reason:r.name,mimeType:t},isFatal:!0,category:Ls.q.MEDIA})}}}},{key:"getDebugInfo",value:function(){var e,t,r,n,o,i;return{readyState:this.getReadyState(),audio:null!==(e=null===(t=this.sourceBufferEngines)||void 0===t||null===(r=t.audio)||void 0===r?void 0:r.getDebugInfo())&&void 0!==e?e:null,video:null!==(n=null===(o=this.sourceBufferEngines)||void 0===o||null===(i=o.video)||void 0===i?void 0:i.getDebugInfo())&&void 0!==n?n:null}}}])&&Gu(r.prototype,n),o&&Gu(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(cl.M),th=r(85348),rh=r(81917),nh=r(81917);!function(e){e[e.KILOBYTE=1024]="KILOBYTE",e[e.MEGABYTE=Math.pow(1024,2)]="MEGABYTE"}(Qd||(Qd={}));var oh=r(83361),ih=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),oc(this,"destroyed",!1),oc(this,"key",null),oc(this,"keysReceivingDeferred",new bf.B)}var t,r,n,o,i,a;return t=e,r=[{key:"decode",value:(a=rc(ec().mark((function t(r,n,o,i,a){var u;return ec().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.checkDestroyed(),this.key){t.next=4;break}return t.next=4,this.keysReceivingDeferred.promise;case 4:if(void 0!==a){t.next=6;break}return t.abrupt("return",r);case 6:return t.next=8,e.decryptData(r,a,this.key);case 8:return u=t.sent,t.abrupt("return",u);case 10:case"end":return t.stop()}}),t,this)}))),function(e,t,r,n,o){return a.apply(this,arguments)})},{key:"setKeys",value:function(e){this.checkDestroyed(),e&&e.hex_key&&(this.key=e.hex_key,this.keysReceivingDeferred.resolve())}},{key:"getKeys",value:function(){return this.checkDestroyed(),this.key}},{key:"destroy",value:function(){this.destroyed=!0}},{key:"checkDestroyed",value:function(){if(this.destroyed)throw new js.w({code:"YASP_AES_CTR_DECODER_ERROR",message:"AesCtr decoder is destroyed",details:{},category:Ls.q.MEDIA,isFatal:!1})}}],n=[{key:"decryptData",value:(i=rc(ec().mark((function t(r,n,o){var i,a,u;return ec().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.createCounter(n),t.next=3,e.getDecryptionKey(o);case 3:return a=t.sent,t.next=6,self.crypto.subtle.decrypt({name:"AES-CTR",counter:i,length:128},a,r);case 6:return u=t.sent,t.abrupt("return",new Uint8Array(u));case 8:case"end":return t.stop()}}),t)}))),function(e,t,r){return i.apply(this,arguments)})},{key:"createCounter",value:function(e){for(var t=e,r=new Uint8Array(16),n=0;n<16;++n)r[r.length-1-n]=255&t,t>>=8;return r}},{key:"getDecryptionKey",value:(o=rc(ec().mark((function t(r){var n;return ec().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,self.crypto.subtle.importKey("raw",e.parseHexString(r),{name:"AES-CTR"},!1,["decrypt"]);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)}))),function(e){return o.apply(this,arguments)})},{key:"parseHexString",value:function(e){var t=e.match(/.{1,2}/g);return new Uint8Array(t.map((function(e){return parseInt(e,16)})))}}],r&&nc(t.prototype,r),n&&nc(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),ah=r(83361),uh=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),wc(gc(r=l.call(this)),"url",void 0),wc(gc(r),"fetcher",void 0),wc(gc(r),"timeline",void 0),wc(gc(r),"segmentDecoder",void 0),wc(gc(r),"isEncrypted",void 0),wc(gc(r),"parser",void 0),wc(gc(r),"attempt",0),wc(gc(r),"aborted",!1),wc(gc(r),"abortFn",null),wc(gc(r),"offset",void 0),wc(gc(r),"ftyp",void 0),wc(gc(r),"moov",void 0),wc(gc(r),"sidx",void 0),wc(gc(r),"segmentsInfo",void 0),wc(gc(r),"timescale",void 0),wc(gc(r),"loadedSegmentMediaData",void 0),r.url=e.url,r.timeline=e.timeline,r.parser=new Ms.p,r.fetcher=new nf(e.fetcherParams),r.segmentDecoder=e.segmentDecoder,r.isEncrypted="AES-CTR"===e.segmentDecoder.encryptionType,r}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vc(e,t)}(t,e);var r,n,o,i,a,u,c,s,l=yc(t);return r=t,(n=[{key:"update",value:(s=fc(sc().mark((function e(){var t;return sc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.requestOffset();case 2:return this.offset=e.sent,e.next=5,this.requestFtypMoovSidxBoxes();case 5:if(t=e.sent){e.next=8;break}return e.abrupt("return");case 8:this.ftyp=t.ftyp,this.moov=t.moov,this.sidx=t.sidx.buffer,this.segmentsInfo=t.sidx.segmentsInfo,this.timescale=t.sidx.timescale,this.loadedSegmentMediaData=t.loadedSegmentMediaData,this.applySegmentsInfoToTimeline();case 15:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"applySegmentsInfoToTimeline",value:function(){if(this.isInitiallyLoaded()){var e,t,r,n=(0,ef.UO)(this.url),o=this.segmentsInfo[this.segmentsInfo.length-1].endTime/this.timescale*1e3,i=(e=this.segmentsInfo,t=this.timescale,Math.round(8*e.reduce((function(e,t){return e+t.size}),0)/e.reduce((function(e,r){return e+r.duration/t}),0))||0),a="".concat(n,"_").concat(o),u=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=[];return e.forEach((function(e,i){o.push({endNumber:Math.max(Math.floor(i+1)),time:Math.floor(e.startTime/r*1e3),duration:Math.floor(e.duration/r*1e3),count:Math.max(Math.floor(1)),isMP4:!0,isEncrypted:n,startByteWithOffset:t+e.startByte,endByteWithOffset:t+e.endByte,originalValues:{time:e.startTime,duration:e.duration,trackPresentationTimeOffset:0,startByte:e.startByte,endByte:e.endByte}})})),o}(this.segmentsInfo,this.offset,this.timescale,this.isEncrypted),c=this.timeline.obtainTimelineTrack({type:"audio",name:n,codecs:(r=this.url,new nh(r,"https://domain.com").searchParams.get("codec")||""),id:a,bitrate:i,language:null,initialization:null,timescale:this.timescale,media:"audio",mimeType:"audio/mp4",startNumber:Math.max(Math.floor(1)),startTime:this.segmentsInfo[0].startTime/this.timescale*1e3,endNumber:Math.max(Math.floor(this.segmentsInfo.length)),endTime:o,presentationTimeOffset:0,segmentSequences:u,isMP4:!0});c.appendSegment(this.createInitSegment(a)),this.appendLoadedSegmentsToTimelineTrack(c,o),this.loadedSegmentMediaData.clear()}}},{key:"createInitSegment",value:function(e){var t=new pl({start:Math.max(Math.floor(0)),end:Math.max(Math.floor(0)),number:Math.max(Math.floor(0)),bitrate:Math.max(Math.floor(0)),width:0,height:0,isInitSegment:!0,trackId:e,originalStart:Math.max(Math.floor(0)),isMP4:!0});return t.append(tl.P.concat(new Uint8Array(this.ftyp),new Uint8Array(this.moov),new Uint8Array(this.sidx))),t.finish(),t}},{key:"appendLoadedSegmentsToTimelineTrack",value:function(e,t){var r,n=function(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=uc(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}(this.loadedSegmentMediaData);try{for(n.s();!(r=n.n()).done;){var o=ac(r.value,2),i=o[0],a=o[1],u=this.createLoadedSegment(i,a,e,t);u&&e.appendSegment(u)}}catch(c){n.e(c)}finally{n.f()}}},{key:"createLoadedSegment",value:function(e,t,r,n){var o=vi(this.timeline.getBufferedRanges(!0).audio,0,n/1e3),i=this.timeline.getSegmentForTrack(-1===o?0:o,r);if(i&&e===i.number)return i.append(t),i.finish(),i}},{key:"isInitiallyLoaded",value:function(){return void 0!==this.offset&&void 0!==this.ftyp&&void 0!==this.moov&&void 0!==this.sidx&&void 0!==this.segmentsInfo&&void 0!==this.timescale&&void 0!==this.loadedSegmentMediaData}},{key:"setFetcherBaseParams",value:function(e){this.fetcher.setBaseParams(e)}},{key:"getBaseUrls",value:function(){return[this.url]}},{key:"abort",value:function(){this.abortFn&&this.abortFn(),this.aborted=!0}},{key:"destroy",value:function(){this.abort(),hc(bc(t.prototype),"destroy",this).call(this)}},{key:"getDebugInfo",value:function(){return{url:this.url,offset:this.offset,segmentsInfo:this.segmentsInfo,attempt:this.attempt}}},{key:"setSourceIndex",value:function(e){}},{key:"getMediaType",value:function(){return Nl.D.VOD}},{key:"requestFtypMoovSidxBoxes",value:(c=fc(sc().mark((function e(){var t,r,n,o,i,a,u;return sc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.offset){e.next=3;break}return e.abrupt("return");case 3:if(t={start:this.offset,end:this.offset+Qd.MEGABYTE-1},this.isEncrypted){e.next=12;break}return e.next=7,this.requestByteRange(t);case 7:if(r=e.sent){e.next=10;break}return e.abrupt("return");case 10:e.next=28;break;case 12:return n=ei(t),e.next=15,this.requestByteRange(n);case 15:if(o=e.sent){e.next=18;break}return e.abrupt("return");case 18:if("string"===typeof(i=this.segmentDecoder.getKeys())){e.next=21;break}throw new Error("Decoding key is not a string");case 21:return e.t0=Si,e.next=24,ih.decryptData(o,wi(n),i);case 24:e.t1=e.sent,e.t2=t,e.t3=n,r=(0,e.t0)(e.t1,e.t2,e.t3);case 28:return a={ftyp:new ArrayBuffer(0),moov:new ArrayBuffer(0),sidx:{buffer:new ArrayBuffer(0),segmentsInfo:[],timescale:1},loadedSegmentMediaData:new Map},this.parser.fullBox("ftyp",(function(e){a.ftyp=e.reader.getDataView().buffer.slice(e.start,e.start+e.size)})).fullBox("moov",(function(e){a.moov=e.reader.getDataView().buffer.slice(e.start,e.start+e.size)})).fullBox("sidx",(function(e){a.sidx.buffer=e.reader.getDataView().buffer.slice(e.start,e.start+e.size);var t=Ju(e);a.sidx.segmentsInfo=t.segmentsInfo,a.sidx.timescale=t.timescale})).parse(r),a.loadedSegmentMediaData=this.getLoadedSegmentMediaDataFromByteRange(r,a.sidx.segmentsInfo),e.abrupt("return",a);case 34:return e.prev=34,e.t4=e.catch(0),u=(0,sf.V)(e.t4)?new js.w({code:"YASP_PARSE_SIDX_ERROR",details:{url:this.url,error:e.t4},message:e.t4.message,isFatal:!0,category:Ls.q.EXCEPTION}):new js.w({code:"YASP_UNKNOWN_ERROR",details:{url:this.url,error:e.t4},message:"Unknown error. Expect error to be an instance of Error.",isFatal:!0,category:Ls.q.EXCEPTION}),this.emit("Error",u),e.abrupt("return");case 39:case"end":return e.stop()}}),e,this,[[0,34]])}))),function(){return c.apply(this,arguments)})},{key:"getLoadedSegmentMediaDataFromByteRange",value:function(e,t){for(var r=new Map,n=0;n<t.length;n++){var o=t[n],i=o.startByte,a=o.endByte;if(a>e.length)break;r.set(Math.max(Math.floor(n+1)),e.slice(i,a+1))}return r}},{key:"requestOffset",value:(u=fc(sc().mark((function e(){var t,r,n,o;return sc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.requestByteRange({start:0,end:Qd.KILOBYTE-1});case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return");case 6:if(!this.isEncrypted){e.next=13;break}if("string"===typeof(r=this.segmentDecoder.getKeys())){e.next=10;break}throw new Error("Decoding key is not a string");case 10:return e.next=12,ih.decryptData(t,0,r);case 12:t=e.sent;case 13:return n=0,this.parser.box("uuid",(function(e){e.reader.readUUID(),n=e.reader.readUint64()})).parse(t),e.abrupt("return",n);case 18:return e.prev=18,e.t0=e.catch(0),o=(0,sf.V)(e.t0)?new js.w({code:"YASP_PARSE_OFFSET_ERROR",details:{url:this.url,error:e.t0},message:e.t0.message,isFatal:!0,category:Ls.q.EXCEPTION}):new js.w({code:"YASP_UNKNOWN_ERROR",details:{url:this.url,error:e.t0},message:"Unknown error. Expect error to be an instance of Error.",isFatal:!0,category:Ls.q.EXCEPTION}),this.emit("Error",o),e.abrupt("return");case 23:case"end":return e.stop()}}),e,this,[[0,18]])}))),function(){return u.apply(this,arguments)})},{key:"requestByteRange",value:(a=fc(sc().mark((function e(){var t,r,n,o,i,a,u,c,s,l,f,d=this,h=arguments;return sc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.length>0&&void 0!==h[0]?h[0]:{start:null,end:null},this.aborted=!1,e.prev=2,r=(0,zf.hj)(t.start)?this.fetcher.fetchDataStream(this.url,{headers:{Range:"bytes=".concat(t.start,"-").concat((0,zf.hj)(t.end)?t.end:"")}}):this.fetcher.fetchDataStream(this.url),n=r.response,o=r.abort,this.abortFn=o,e.next=7,n;case 7:if(i=e.sent,a=i.body,(u=i.status)>=200&&u<300||304===u){e.next=13;break}throw u;case 13:return this.attempt=0,this.abortFn=null,e.next=17,this.readDataStream(a);case 17:return e.abrupt("return",e.sent);case 20:if(e.prev=20,e.t0=e.catch(2),s=this.attempt>=10,this.abortFn=null,!(0,zf.hj)(e.t0)){e.next=29;break}l=e.t0,c=0===l?new js.w({code:"YASP_FETCH_RANGE_HTTP_ERROR",message:"Network Error",details:{url:this.url},category:Ls.q.NETWORK_MEDIA,isFatal:s}):new js.w({code:"YASP_FETCH_RANGE_BAD_HTTP_STATUS",message:"Error: ".concat(l),details:{status:l,url:this.url},isFatal:s,category:Ls.q.NETWORK_MEDIA}),e.next=36;break;case 29:if(!(0,sf.V)(e.t0)){e.next=35;break}if("Request canceled"!==e.t0.message&&"Abort error"!==e.t0.message){e.next=32;break}return e.abrupt("return");case 32:c=new js.w({code:"Request timed out"===e.t0.message?"YASP_FETCH_RANGE_TIMEOUT":"YASP_FETCH_RANGE_HTTP_ERROR",details:{url:this.url},message:e.t0.message,isFatal:s,category:"Request timed out"===e.t0.message?Ls.q.NETWORK_TIMEOUT:Ls.q.NETWORK_MEDIA}),e.next=36;break;case 35:c=new js.w({code:"YASP_UNKNOWN_ERROR",details:{url:this.url,error:e.t0},message:"Unknown error. Expect error to be an instance of Error.",isFatal:s,category:Ls.q.NETWORK_MEDIA});case 36:if(this.emit("Error",c),!s&&!c.isFatal){e.next=39;break}return e.abrupt("return");case 39:if(f=(0,lf._)(Pn(this.attempt++)),!this.aborted){e.next=42;break}return e.abrupt("return");case 42:return e.abrupt("return",f.then((function(){if(!d.aborted)return d.requestByteRange(t)})));case 43:case"end":return e.stop()}}),e,this,[[2,20]])}))),function(){return a.apply(this,arguments)})},{key:"readDataStream",value:(i=fc(sc().mark((function e(t){var r,n,o,i,a;return sc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,r=new Uint8Array,n=!1;case 3:if(n){e.next=13;break}return e.next=6,t.read();case 6:o=e.sent,i=o.value,a=o.done,n=a,i&&(r=tl.P.concat(r,i)),e.next=3;break;case 13:return e.abrupt("return",r);case 16:return e.prev=16,e.t0=e.catch(0),this.emit("Error",new js.w({code:"YASP_PARSE_ERROR_EXCEPTION",message:"Data stream reading exception",details:{error:e.t0,errorString:e.t0 instanceof Error?e.t0.message:"Data stream reading exception"},category:Ls.q.EXCEPTION,isFatal:!0})),e.abrupt("return");case 20:case"end":return e.stop()}}),e,this,[[0,16]])}))),function(e){return i.apply(this,arguments)})}])&&dc(r.prototype,n),o&&dc(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(cl.M),ch=r(83361),sh=r(83361),lh=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rs.Z;Ac(this,e),Pc(this,"decoder",null),Pc(this,"_encryptionType",null),Pc(this,"loadDecoderDeferred",null),Pc(this,"onWaitForKey",void 0),this.onWaitForKey=t}var t,n,o,i,a,u;return t=e,(n=[{key:"encryptionType",get:function(){return this._encryptionType},set:function(e){this._encryptionType=e}},{key:"setKeys",value:function(e){var t=this,r=function(){t.decoder&&t.decoder.setKeys(e)};this.loadDecoderDeferred?this.loadDecoderDeferred.promise.then(r):r()}},{key:"getKeys",value:function(){var e;return(null===(e=this.decoder)||void 0===e?void 0:e.getKeys())||null}},{key:"decode",value:(u=_c(Oc().mark((function e(t,r,n,o,i){return Oc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.loadDecoderDeferred){e.next=3;break}return e.next=3,this.loadDecoderDeferred.promise;case 3:if(this.decoder){e.next=5;break}return e.abrupt("return",t);case 5:return e.abrupt("return",this.decoder.decode(t,r,n,o,i));case 6:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n,o){return u.apply(this,arguments)})},{key:"setEncryptionType",value:(a=_c(Oc().mark((function e(t){var r,n,o;return Oc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.encryptionType){e.next=2;break}return e.abrupt("return",sh.resolve());case 2:return null===(r=this.decoder)||void 0===r||r.destroy(),null===(n=this.loadDecoderDeferred)||void 0===n||n.reject(new Error("Encryption type changed")),o=new bf.B,this.loadDecoder(t,o),e.next=8,o.promise;case 8:return this.encryptionType=t,e.abrupt("return",o.promise);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"destroy",value:function(){var e;this.encryptionType=null,null===(e=this.decoder)||void 0===e||e.destroy(),this.decoder=null,this.loadDecoderDeferred=null}},{key:"loadDecoder",value:(i=_c(Oc().mark((function e(t,n){var o,i;return Oc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.loadDecoderDeferred=n,e.t0=t,e.next="AES-CBC"===e.t0?4:"AES-CTR"===e.t0?11:14;break;case 4:return e.next=6,r.e(869).then(r.bind(r,63372));case 6:return o=e.sent,i=o.AesCbc,this.decoder=new i(this.onWaitForKey),n.resolve(),e.abrupt("break",16);case 11:return this.decoder=new ih,n.resolve(),e.abrupt("break",16);case 14:return n.reject(new Error("Unknown encryption type: ".concat(t))),e.abrupt("break",16);case 16:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})}])&&Tc(t.prototype,n),o&&Tc(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}(),fh=r(18535),dh=r(88218),hh=r(83361),ph=(0,Nf.V)(self)||(0,Ff.y)(self)||(0,th.F)(self),vh=function(e){function t(e,r,n,o){var i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(i=u.call(this)).cron=e,i.url=r,i.mediaState=n,i.callbacks=o,Hc(Uc(i),"abr",void 0),Hc(Uc(i),"bandwidthEstimator",void 0),Hc(Uc(i),"ttfbEstimator",void 0),Hc(Uc(i),"playlist",void 0),Hc(Uc(i),"playlistUpdater",void 0),Hc(Uc(i),"timeline",void 0),Hc(Uc(i),"mse",void 0),Hc(Uc(i),"mseFeeder",void 0),Hc(Uc(i),"mseGc",void 0),Hc(Uc(i),"timelineFiller",void 0),Hc(Uc(i),"seekableUpdater",void 0),Hc(Uc(i),"timelineGc",void 0),Hc(Uc(i),"yaspWatchedTimeCollector",void 0),Hc(Uc(i),"segmentFetcher",void 0),Hc(Uc(i),"segmentDecoder",void 0),Hc(Uc(i),"targetLatencyUpdater",void 0),Hc(Uc(i),"cmafLogger",void 0),Hc(Uc(i),"fetcher",void 0),Hc(Uc(i),"fetcherParams",void 0),Hc(Uc(i),"fetcherProgressAccumulator",void 0),Hc(Uc(i),"attached",!1),Hc(Uc(i),"startPosition",null),Hc(Uc(i),"destroyed",!1),Hc(Uc(i),"performOnLoad",void 0),Hc(Uc(i),"watchedTime",0),Hc(Uc(i),"bufferGoalManager",void 0),Hc(Uc(i),"timelineFillerBufferGoalInterval",void 0),Hc(Uc(i),"mediaType",void 0),Hc(Uc(i),"isLowLatency",!1),Hc(Uc(i),"maxStartTimestamp",null),Hc(Uc(i),"wasSegmentLoaded",!1),Hc(Uc(i),"drmKeysResponse",null),Hc(Uc(i),"audioDecodingKey",null),self.source=Uc(i),i.startPosition=Ui(i.url),i.performOnLoad=(0,Xf.P)(new hh((function(e){i.once("PlaylistLoaded",e)}))),i.timeline=i.createTimeline(),i.subscribeToTrackChanges(),i.bufferGoalManager=new Md;var a=function(e,t,r,n,o){var i=pd.f.obtain(o),a=new md,u=[new Cd,new Rd(e),new Ld(i),new bd(i,a,n),new Pd(r,t),new xd];return{bandwidthEstimator:i,ttfbEstimator:a,abr:new hd({rules:u})}}((function(){var e;return i.playlist instanceof hf&&null!==(e=i.playlist.getPlaylistCapHeight())&&void 0!==e?e:null}),(function(){return i.callbacks.getUserQuality()}),(function(){return i.callbacks.getMaxAutoQuality()}),(function(){return i.getRemainingTimeToStart()}),i.callbacks.getDefaultBandwidth().value),c=a.bandwidthEstimator,s=a.ttfbEstimator,l=a.abr;i.bandwidthEstimator=c,i.ttfbEstimator=s,i.abr=l,i.abr.on("AbrDecisionChange",(function(e){var t=JSON.stringify(Cc(Cc({},e),{},{type:i.attached?"main":"preload"}));i.sendEvent({name:"AbrDecisionChange",data:{message:t}})})),i.abr.on("MaxCapAllowedVideoTrackUpdate",(function(e){var t,r,n,o;e&&null!==(t=e.video)&&void 0!==t&&t.width&&null!==(r=e.video)&&void 0!==r&&r.height&&i.emit("MaxCapAllowedVideoTrackUpdate",{width:null===(n=e.video)||void 0===n?void 0:n.width,height:null===(o=e.video)||void 0===o?void 0:o.height})})),i.on("SegmentLoaded",(function(e){var t;null===(t=i.mseFeeder)||void 0===t||t.run(),i.wasSegmentLoaded=!0}));var f=(0,Bd.p)();return void 0!==f&&(i.maxStartTimestamp=Date.now()+1e3*f),i}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mc(e,t)}(t,e);var r,n,o,i,a,u=Vc(t);return r=t,n=[{key:"getRemainingTimeToStart",value:function(){if(!this.maxStartTimestamp||this.wasSegmentLoaded)return null;var e=this.maxStartTimestamp-Date.now();return e<=0?0:e/1e3}},{key:"updateSourceInfo",value:function(e){var t,r,n=(0,Is.IN)(e);null===(t=this.playlist)||void 0===t||t.setSourceIndex(n),null===(r=this.timelineFiller)||void 0===r||r.setSourceIndex(n)}},{key:"checkTotalBufferDuration",value:function(e,t){var r=this.timelineGc?this.timelineGc.getTotalExpectedBufferSize()+10:60,n=e.reduce((function(e,t){return e+(t.end-t.start)}),0);n>r&&this.sendEvent({name:"FatTimelineBuffer",data:{type:t,expectedSize:r,size:n}})}},{key:"emitManifestoError",value:function(e,t,r){var n,o=null===(n=this.playlist)||void 0===n?void 0:n.getDebugInfo();if(o){var i=new js.w({message:e.message,code:"YASP_MANIFESTO_UNHANDLED",details:Cc(Cc({},o),{},{start:t,end:r}),isFatal:!1,category:Ls.q.EXCEPTION});this.emit("Error",i)}}},{key:"createTimeline",value:function(){var e=this;if(this.timeline)return this.timeline;var t=new _l;return t.on("BufferedInfoChanged",(function(t){e.checkTotalBufferDuration(t.video,"video"),e.checkTotalBufferDuration(t.audio,"audio"),e.emit("BufferedInfoChanged",t)})),t.on("CuesAdded",(function(t){e.emit("CuesAdded",t)})),t.on("CodecsChange",(function(t){var r;if(e.mse){null===(r=e.mseFeeder)||void 0===r||r.abortForType(t.type);var n=t.getFullMimeType();e.mse.changeCodec(t.type,n)}})),t.on("StreamEndTimeUpdate",(function(t){e.emit("StreamEndTimeUpdate",t)})),t}},{key:"getStartPosition",value:function(){var e;return null!==this.startPosition&&Number.isFinite(this.startPosition)?this.startPosition:null!==(e=this.timeline)&&void 0!==e&&e.getIsDynamic()?Math.floor(this.timeline.getSeekableRange().end/1e3):this.timeline.getSeekableRange().start/1e3}},{key:"setDurationByVideoType",value:function(){if(this.mse&&this.mediaType){var e=this.timeline.getDuration();void 0!==e&&this.mse.setDuration(e/1e3)}}},{key:"updateStreamingParameters",value:function(){var e=this;if(this.mediaType&&this.emit("VideoTypeChange",this.mediaType),this.playlist){var t,r=this.playlist instanceof hf?this.playlist.getDrmInfos():[];if(r.length>0)(0,fh.b)(r)&&(null===(t=this.segmentDecoder)||void 0===t||t.setEncryptionType("AES-CBC")),this.emit("DrmInfoReceived",r)}this.emit("UtcStartTimeUpdate",this.timeline.getUtcStartTime());var n=this.timeline.getSeekableRange(),o=n.start/1e3,i=n.end/1e3;"number"===typeof this.startPosition&&(this.startPosition=Math.min(Math.max(this.startPosition,o),i-Ud.C)),this.mse&&this.timeline.getIsDynamic()&&this.mse.setLiveSeekableRange(o,i).catch((function(t){e.attached&&(e.emitManifestoError(t,o,i),(0,dl.L)(t))})),this.emit("SeekableRangeUpdate",{start:o,end:i}),this.emit("IsLowLatencyChange",this.isLowLatency)}},{key:"load",value:(a=jc(Rc().mark((function e(t){var r,n,o,i,a,u,c=this;return Rc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.timeline.emitBufferedInfoChanged(),this.segmentDecoder){e.next=10;break}if(!this.audioDecodingKey||"mp4"!==$u(this.url)){e.next=9;break}return this.segmentDecoder=new lh,e.next=6,this.segmentDecoder.setEncryptionType("AES-CTR");case 6:this.segmentDecoder.setKeys({hex_key:this.audioDecodingKey}),e.next=10;break;case 9:this.segmentDecoder=new lh(function(){var e=jc(Rc().mark((function e(t){var r;return Rc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.drmKeysResponse?null===(r=c.segmentDecoder)||void 0===r||r.setKeys((0,dh.N)(c.drmKeysResponse)):c.emit("WaitForKey",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:if(this.playlist||(this.playlist=this.createPlaylist()),this.playlist instanceof hf&&(this.playlistUpdater=null!==(r=this.playlistUpdater)&&void 0!==r?r:new yf(this.playlist)),this.playlist.isInitiallyLoaded()){e.next=23;break}if(!this.playlistUpdater){e.next=18;break}return e.next=16,this.playlistUpdater.update();case 16:e.next=20;break;case 18:return e.next=20,this.playlist.update();case 20:this.emit("PlaylistLoaded"),e.next=24;break;case 23:this.updateStreamingParameters();case 24:if(!this.destroyed){e.next=26;break}return e.abrupt("return");case 26:return this.fetcher||(this.fetcher=new nf(Cc(Cc({},this.fetcherParams),{},{contentId:t})),this.fetcher.setIsLL(this.timeline.isLowLatencyLive()),this.fetcher.isLL()?this.bandwidthEstimator.appendFetcher(this.fetcher):(this.fetcherProgressAccumulator=new sd,this.fetcherProgressAccumulator.on("NetworkTrace",(function(e){c.sendEvent({name:"NetworkTrace",data:e})})),this.fetcherProgressAccumulator.appendFetcher(this.fetcher),this.bandwidthEstimator.appendFetcher(this.fetcherProgressAccumulator)),null===(n=this.ttfbEstimator)||void 0===n||n.appendFetcher(this.fetcher)),this.cmafLogger||(o=function(e){c.sendEvent({name:"MediaFormatChange",data:e})},this.cmafLogger=new Gd(o,this.getMseConfig())),this.segmentFetcher||(this.segmentFetcher=new Zf(this.fetcher,this.segmentDecoder),this.segmentFetcher.setEmsgSchemeIdUris(this.playlist instanceof hf?this.playlist.getEmsgSchemeIdUris():void 0),this.segmentFetcher.on("Error",(function(e){c.emit("Error",e)})),this.segmentFetcher.on("EmsgDetected",(function(e){c.emit("EmsgDetected",e)})),this.segmentFetcher.on("ManifestUpdateRequired",(function(){var e;null===(e=c.playlistUpdater)||void 0===e||e.forceUpdate()})),this.segmentFetcher.on("SegmentLoaded",(function(e){var t;null===(t=c.cmafLogger)||void 0===t||t.update(e.type,e.cmaf),c.emit("SegmentLoaded",e)})),this.segmentFetcher.on("BufferAllocationError",(function(e){var t,r=c.mediaState.currentTime?1e3*c.mediaState.currentTime:0,n=c.timeline.getSegmentsDebugInfo(r),o=(null===(t=c.mse)||void 0===t?void 0:t.getBufferedRanges())||{audio:[],video:[]},i=new js.w({isFatal:!1,message:e.error.message,code:"YASP_BUFFER_ALLOCATION_ERROR",category:Ls.q.EXCEPTION,details:{type:e.type,video:Cc(Cc({},n.video),{},{buffered:o.video}),audio:Cc(Cc({},n.audio),{},{buffered:o.audio})}});c.emit("Error",i)}))),this.timelineFiller?(0,Ol.RW)("web_yasp_remove_abortuseless_source")||this.timelineFiller.abortUseless():(this.timelineFiller=new qf({timeline:this.timeline,mediaState:this.mediaState,playlist:this.playlist,bufferGoal:this.getBufferGoal(this.attached),abr:this.abr,segmentFetcher:this.segmentFetcher,bandwidthEstimator:this.bandwidthEstimator,ttfbEstimator:this.ttfbEstimator,sourceIndex:(0,Is.IN)(this.url)}),this.timelineFiller.on("Error",(function(e){c.emit("Error",e)})),this.timelineFiller.on("BandwidthEstimateUpdate",(function(e){c.emit("BandwidthEstimateUpdate",e)})),this.timelineFiller.on("SegmentInProgress",(function(){c.bandwidthEstimator.addActiveSource(c.url)})),this.timelineFiller.on("NoSegmentsInProgress",(function(){c.bandwidthEstimator.removeActiveSource(c.url)})),this.timelineFiller.on("OutOfBytesLimit",(function(){var e;null===(e=c.timelineGc)||void 0===e||e.onOutOfBytesLimit()})),this.cron.plan(this.timelineFiller,100),this.initTimelineFillerBufferGoalAutoUpdate(),this.timelineFiller.setVideoState(Wa(this.mediaState,{currentTime:Math.max(null!==(i=this.getStartPosition())&&void 0!==i?i:0,0),duration:this.timeline.getDuration()/1e3})),this.timelineFiller.run()),this.timelineGc||(this.timelineGc=new Wf(this.timeline,this.mediaState,30,(function(){return c.getBufferGoal()})),this.cron.plan(this.timelineGc,1e3)),this.yaspWatchedTimeCollector||(this.yaspWatchedTimeCollector=new Nd(this.mediaState),this.yaspWatchedTimeCollector.on("WatchedTimeUpdated",(function(e){var t=e.watchedTime;c.watchedTime=t})),this.cron.plan(this.yaspWatchedTimeCollector,100)),this.handleAttachedState(),a=this.getBufferGoal(this.attached),u=a===Number.MAX_SAFE_INTEGER?0:a,e.next=37,Sc(this.timeline,u);case 37:return e.abrupt("return",{startPosition:this.startPosition,drmInfos:this.playlist instanceof hf?this.playlist.getDrmInfos():[]});case 38:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"createPlaylist",value:function(){return"mp4"===$u(this.url)?this.createSidxo():this.createManifesto()}},{key:"createManifesto",value:function(){var e=this,t=new hf({url:this.url,timeline:this.timeline,fetcherParams:this.fetcherParams});return t.on("Error",(function(t){e.emit("Error",t)})),t.on("DrmInfoReceived",(function(t){var r;(0,fh.b)(t)&&(null===(r=e.segmentDecoder)||void 0===r||r.setEncryptionType("AES-CBC")),e.emit("DrmInfoReceived",t)})),t.on("ServerTimeChange",(function(t){e.emit("ServerTimeChange",t)})),t.on("ManifestUpdate",(function(){var t,r,n;e.emit("UtcStartTimeUpdate",e.timeline.getUtcStartTime());var o=e.timeline.getSeekableRange(),i=o.start/1e3,a=o.end/1e3;null===(t=e.mse)||void 0===t||t.setLiveSeekableRange(i,a).catch((function(t){e.attached&&(e.emitManifestoError(t,i,a),(0,dl.L)(t))})),e.emit("SeekableRangeUpdate",{start:i,end:a});var u=null===(r=e.playlist)||void 0===r?void 0:r.getMediaType();e.mediaType!==u&&(e.mediaType=u,e.emit("VideoTypeChange",e.mediaType),e.setDurationByVideoType());var c=e.timeline.isLowLatencyLive();e.isLowLatency!==c&&(e.isLowLatency=c,e.emit("IsLowLatencyChange",e.isLowLatency),e.isLowLatency&&e.sendEvent({name:"LowLatencyDetected",data:{url:e.url}})),null===(n=e.segmentFetcher)||void 0===n||n.setEmsgSchemeIdUris(e.playlist instanceof hf?e.playlist.getEmsgSchemeIdUris():void 0)})),t}},{key:"createSidxo",value:function(){var e=this,t=new uh({url:this.url,timeline:this.timeline,fetcherParams:this.fetcherParams,segmentDecoder:this.segmentDecoder});return t.on("Error",(function(t){e.emit("Error",t)})),t}},{key:"getBufferGoal",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.bufferGoalManager.getBufferGoal({watchedTime:this.watchedTime,currentTime:this.mediaState.currentTime||0,usePreloadBufferGoal:!e})}},{key:"initTimelineFillerBufferGoalAutoUpdate",value:function(){var e=this;this.stopTimelineFillerBufferGoalAutoUpdate();var t=function(){var t;null===(t=e.timelineFiller)||void 0===t||t.setBufferGoal(e.getBufferGoal(e.attached))};this.timelineFillerBufferGoalInterval=setInterval(t,1e3),t()}},{key:"stopTimelineFillerBufferGoalAutoUpdate",value:function(){this.timelineFillerBufferGoalInterval&&clearInterval(this.timelineFillerBufferGoalInterval)}},{key:"handleSeek",value:(i=jc(Rc().mark((function e(){var t,r,n,o,i,a,u,c,s,l=this;return Rc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,Ff.y)(self)){e.next=5;break}return e.next=3,(0,lf._)(100);case 3:e.next=8;break;case 5:if(!(0,Nf.V)(self)){e.next=8;break}return e.next=8,(0,lf._)(0);case 8:if(null===(t=this.timelineFiller)||void 0===t||t.abortUseless(),null===(r=this.timelineFiller)||void 0===r||r.run(),null===(n=this.cmafLogger)||void 0===n||n.onSeek(),!(0,Ol.RW)("yasp_no_source_abort_on_fake_seek")){e.next=18;break}return null===(i=this.mse)||void 0===i||i.abort(),null===(a=this.mseFeeder)||void 0===a||a.abortUseless(),e.next=16,null===(u=this.mseGc)||void 0===u?void 0:u.forceRun(this.mediaState.currentTime).catch((function(e){if(l.attached)throw e}));case 16:e.next=21;break;case 18:return e.next=20,null===(c=this.mseGc)||void 0===c?void 0:c.forceRun().catch((function(e){if(l.attached)throw e}));case 20:null===(s=this.mseFeeder)||void 0===s||s.abort();case 21:null===(o=this.mseFeeder)||void 0===o||o.run();case 22:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"handleAttachedState",value:function(){var e,t,r,n=this.attached?this.mediaState:Wa(this.mediaState,{currentTime:Math.max(null!==(e=this.startPosition)&&void 0!==e?e:0,0),duration:this.timeline.getDuration()/1e3});null===(t=this.timelineFiller)||void 0===t||t.setVideoState(n),null===(r=this.timelineGc)||void 0===r||r.setVideoState(n)}},{key:"handleSeekableUpdater",value:function(){var e=this;if(!this.seekableUpdater&&this.attached)return this.seekableUpdater=new Vd(this.timeline),this.seekableUpdater.on("SeekableUpdate",(function(t){e.emit("SeekableRangeUpdate",t)})),void this.cron.plan(this.seekableUpdater,100);this.seekableUpdater&&!this.attached&&(this.cron.cancel(this.seekableUpdater),this.seekableUpdater.destroy(),this.seekableUpdater=void 0)}},{key:"attach",value:function(e){var t=this;return new hh((function(r){t.performOnLoad((function(){var n,o,i,a;t.attached=!0,t.updateSourceInfo(e),t.playlistUpdater&&t.playlistUpdater.update(),t.startPosition=null!==(n=t.startPosition)&&void 0!==n?n:Ui(e),t.timelineGc&&t.cron.plan(t.timelineGc,1e3),t.handleAttachedState(),t.mse=null!==(o=t.mse)&&void 0!==o?o:new eh(t.getMseConfig()),t.mse.on("Reset",(function(e){var r;null===(r=t.mseFeeder)||void 0===r||r.reset(),t.emit("UpdateUrlObject",e)})),t.mse.on("Open",(function(e){t.sendEvent({name:"YaspSourceOpen",data:{time:e}})})),t.handleSeekableUpdater(),t.setDurationByVideoType(),t.updateStreamingParameters(),t.mseFeeder=null!==(i=t.mseFeeder)&&void 0!==i?i:new Of(t.timeline,t.mediaState,t.mse,{bufferGoal:30,totalBufferSoftCap:mf(),totalBufferHardCap:gf()}),t.mseFeeder.on("QuotaExceededError",(function(){var e,r;null===(e=t.mseFeeder)||void 0===e||e.setBufferGoal(15),null===(r=t.mseGc)||void 0===r||r.setBufferGoal(15)})),t.mseFeeder.on("FatBuffer",(function(e){t.sendEvent({name:"FatBuffer",data:{type:e}}),t.mseGc&&t.mseGc.run()})),t.mseFeeder.on("GorgedBuffer",(function(e){t.sendEvent({name:"GorgedBuffer",data:{type:e}})})),t.mseGc=null!==(a=t.mseGc)&&void 0!==a?a:new Jf(t.mse,t.mediaState,10,gf()),t.mseFeeder.on("Error",(function(e){t.emit("Error",e)})),!t.targetLatencyUpdater&&t.timeline.isLowLatencyLive()&&(t.targetLatencyUpdater=new bl({timeline:t.timeline,mediaState:t.mediaState}),t.targetLatencyUpdater.on("TargetLatencyUpdate",(function(e){t.emit("TargetLatencyUpdated",e)})),t.targetLatencyUpdater.notifyTargetLatency()),t.cron.plan(t.mseFeeder,100),t.cron.plan(t.mseGc,1e4),t.sendEvent({name:"YaspSourceAttached",data:{url:e}}),r(t.mse.getObjectUrl())}))}))}},{key:"setVideoTrack",value:function(e){this.timeline.setVideoTrack(e),void 0!==e&&this.handleSetTrack()}},{key:"setAudioTrack",value:function(e){this.timeline.setAudioLanguage(e),void 0!==e&&this.handleSetTrack()}},{key:"handleSetTrack",value:function(){var e,t=this;null===(e=this.mseGc)||void 0===e||e.forceRun().then((function(){var e;null===(e=t.mseFeeder)||void 0===e||e.abort(),ph||t.emit("FlushMediaPipelineRequested")})).catch((function(e){var r;!t.attached||null!==(r=t.mse)&&void 0!==r&&r.isReloading()||(0,dl.L)(e)}))}},{key:"setTextTrack",value:function(e){this.timeline.setTextTrack(e)}},{key:"getVideoTracks",value:function(){return this.timeline.getVideoTracksInfo()}},{key:"getAudioTracks",value:function(){return this.timeline.getAudioTracksInfo()}},{key:"getTextTracks",value:function(){return this.timeline.getTextTracksInfo()}},{key:"detach",value:function(){if(this.attached){this.attached=!1,this.timelineGc&&this.cron.cancel(this.timelineGc),this.playlistUpdater&&this.playlistUpdater.disable();var e=this.mediaState,t=e.duration,r=e.currentTime;if(r&&r>=t){var n=this.timeline.getSeekableRange().start;this.startPosition=n/1e3}else this.playlist instanceof uh?this.startPosition=null:this.startPosition=this.mediaState.currentTime;this.handleSeekableUpdater(),this.handleAttachedState(),this.mseFeeder&&(this.cron.cancel(this.mseFeeder),this.mseFeeder.destroy(),this.mseFeeder=void 0),this.mseGc&&(this.cron.cancel(this.mseGc),this.mseGc=void 0),this.mse&&(this.mse.destroy(),this.mse=void 0),this.yaspWatchedTimeCollector&&(this.cron.cancel(this.yaspWatchedTimeCollector),this.yaspWatchedTimeCollector.destroy(),this.yaspWatchedTimeCollector=void 0),this.targetLatencyUpdater&&(this.targetLatencyUpdater.destroy(),this.targetLatencyUpdater=void 0),this.sendEvent({name:"YaspSourceDetached",data:{url:this.url}})}}},{key:"setVideoElementSizes",value:function(e){var t,r;null!==(t=e.width)&&void 0!==t||(e.width=1/0),null!==(r=e.height)&&void 0!==r||(e.height=1/0),this.abr.setVideoElementSizes(e)}},{key:"destroy",value:function(){var e,r,n,o;this.sendEvent({name:"YaspSourceDestroyCalled",data:{url:this.url}}),this.detach(),this.playlistUpdater&&(this.playlistUpdater.disable(),this.playlistUpdater=void 0),this.mseFeeder&&(this.cron.cancel(this.mseFeeder),this.mseFeeder.destroy(),this.mseFeeder=void 0),this.mseGc&&(this.cron.cancel(this.mseGc),this.mseGc=void 0),this.mse&&(this.mse.destroy(),this.mse=void 0),this.timelineFiller&&(this.cron.cancel(this.timelineFiller),this.timelineFiller.destroy(),this.timelineFiller=void 0,this.stopTimelineFillerBufferGoalAutoUpdate()),this.segmentFetcher&&(this.segmentFetcher.destroy(),this.segmentFetcher=void 0),this.segmentDecoder&&(this.segmentDecoder.destroy(),this.segmentFetcher=void 0),this.timelineGc&&(this.cron.cancel(this.timelineGc),this.timelineGc=void 0),this.playlist&&(this.playlist.destroy(),this.playlist=void 0),this.fetcher&&(null===(e=this.bandwidthEstimator)||void 0===e||e.removeFetcher(this.fetcher),null===(r=this.fetcherProgressAccumulator)||void 0===r||r.removeFetcher(this.fetcher),null===(n=this.ttfbEstimator)||void 0===n||n.removeFetcher(this.fetcher),this.fetcher.destroy(),this.fetcher=void 0),this.fetcherProgressAccumulator&&(this.fetcherProgressAccumulator.off("NetworkTrace"),null===(o=this.bandwidthEstimator)||void 0===o||o.removeFetcher(this.fetcherProgressAccumulator)),this.yaspWatchedTimeCollector&&(this.cron.cancel(this.yaspWatchedTimeCollector),this.yaspWatchedTimeCollector.destroy(),this.yaspWatchedTimeCollector=void 0),this.fetcherProgressAccumulator=void 0,this.timeline.destroy(),this.abr.off("AbrDecisionChange"),this.destroyed=!0,this.sendEvent({name:"YaspSourceDestroyed",data:{url:this.url}}),Nc(Gc(t.prototype),"destroy",this).call(this)}},{key:"getMseConfig",value:function(){var e=this.timeline.getMimeTypes(),t=e.audio[0],r=e.video[0],n={};return t&&(n.audio=t),r&&(n.video=r),n}},{key:"isAttached",value:function(){return this.attached}},{key:"getDebugInfo",value:function(){var e=null!==this.mediaState.currentTime?1e3*this.mediaState.currentTime:void 0;try{var t,r,n,o,i,a,u,c,s,l,f,d,h,p,v,y,m,g;return JSON.parse(JSON.stringify({attached:this.attached,url:this.url,mediaState:this.mediaState,abr:this.abr.getDebugInfo(),bandwidthEstimator:this.bandwidthEstimator.getDebugInfo(),ttfbEstimator:null!==(t=null===(r=this.ttfbEstimator)||void 0===r?void 0:r.getDebugInfo())&&void 0!==t?t:null,playlist:null!==(n=null===(o=this.playlist)||void 0===o?void 0:o.getDebugInfo())&&void 0!==n?n:null,playlistUpdater:null!==(i=null===(a=this.playlistUpdater)||void 0===a?void 0:a.getDebugInfo())&&void 0!==i?i:null,mse:null!==(u=null===(c=this.mse)||void 0===c?void 0:c.getDebugInfo())&&void 0!==u?u:null,mseFeeder:null!==(s=null===(l=this.mseFeeder)||void 0===l?void 0:l.getDebugInfo())&&void 0!==s?s:null,mseGc:null!==(f=null===(d=this.mseGc)||void 0===d?void 0:d.getDebugInfo())&&void 0!==f?f:null,timeline:this.timeline.getDebugInfo(e),timelineFiller:null!==(h=null===(p=this.timelineFiller)||void 0===p?void 0:p.getDebugInfo())&&void 0!==h?h:null,timelineGc:null!==(v=null===(y=this.timelineGc)||void 0===y?void 0:y.getDebugInfo())&&void 0!==v?v:null,fetcher:null!==(m=null===(g=this.fetcher)||void 0===g?void 0:g.getDebugInfo())&&void 0!==m?m:null,userQuality:this.callbacks.getUserQuality(),maxAutoQuality:this.callbacks.getMaxAutoQuality(),wasSegmentLoaded:this.wasSegmentLoaded,maxStartTimestamp:this.maxStartTimestamp}))}catch(b){return{attached:String(this.attached),url:String(this.url),message:"failed to serialize debug info",error:String(b),stack:String(null===b||void 0===b?void 0:b.stack)}}}},{key:"sendEvent",value:function(e){this.emit("Event",e)}},{key:"getStats",value:function(){var e;return{bandwidth:null===(e=this.bandwidthEstimator)||void 0===e?void 0:e.getBandwidthEstimate()}}},{key:"configure",value:function(e){var t,r,n,o,i,a;if(e.videoSizes&&this.setVideoElementSizes(e.videoSizes),e.drmKeysResponse&&(this.drmKeysResponse=e.drmKeysResponse,null===(a=this.segmentFetcher)||void 0===a||a.setKeys((0,dh.N)(this.drmKeysResponse))),e.audioDecodingKey&&(this.audioDecodingKey=e.audioDecodingKey),null!==(t=e.tracks)&&void 0!==t&&t.videoTrackId&&this.setVideoTrack(e.tracks.videoTrackId),null!==(r=e.tracks)&&void 0!==r&&r.audioLang&&this.setAudioTrack(e.tracks.audioLang),void 0!==(null===(n=e.tracks)||void 0===n?void 0:n.textTrack)&&this.setTextTrack(e.tracks.textTrack),null!==(o=e.offlineParams)&&void 0!==o&&o.contentId){var u,c=e.offlineParams,s=c.contentId,l=c.downloadedFragments;e.tracks&&!l&&this.playlist instanceof hf&&Jl.Uk.handleStart(this.url,s,null===(u=this.playlist)||void 0===u?void 0:u.getMpdXml(),e.tracks),this.getBufferGoal()===Number.MAX_SAFE_INTEGER&&0===e.bufferGoal&&Jl.Uk.handlePause(s),l&&(Jl.gl.downloadedFragments=l)}void 0!==e.bufferGoal&&this.bufferGoalManager.setConstantBufferGoal(e.bufferGoal),void 0!==e.preloadBufferGoal&&this.bufferGoalManager.setPreloadBufferGoal(e.preloadBufferGoal),this.bandwidthEstimator&&e.defaultBandwidthEstimate&&this.bandwidthEstimator.setDefaultEstimate(e.defaultBandwidthEstimate),this.timeline.setPresentationDelay(e.presentationDelay);var f=this.bufferGoalManager.getSkippableFragments();this.bufferGoalManager.setSkippableFragments(null!==(i=e.skippableFragments)&&void 0!==i?i:f),void 0===e.maxStartTime||this.wasSegmentLoaded||(this.maxStartTimestamp=Date.now()+1e3*e.maxStartTime),this.updateFetchersParams(e)}},{key:"updateFetchersParams",value:function(e){var t,r;this.fetcherParams=function(e,t){var r={};return e.offlineParams&&(r.contentId=e.offlineParams.contentId),void 0===e.withCredentials?_u(_u({},t),r):(r.credentials=e.withCredentials?"include":"omit",r)}(e,this.fetcherParams),null===(t=this.fetcher)||void 0===t||t.setBaseParams(this.fetcherParams),null===(r=this.playlist)||void 0===r||r.setFetcherBaseParams(this.fetcherParams)}},{key:"subscribeToTrackChanges",value:function(){var e=this;this.timeline.on("VideoTrackChange",(function(t){e.emit("VideoTrackChange",t)})),this.timeline.on("VideoTracksChange",(function(t){e.emit("VideoTracksChange",t)})),this.timeline.on("AudioLanguageChange",(function(t){e.emit("AudioLanguageChange",t)})),this.timeline.on("TextTrackChange",(function(t){e.emit("TextTrackChange",t)}))}}],o=[{key:"removeFromDisk",value:function(e){Jl.gl.removeDirectory(e),delete Jl.gl.downloadedFragments[e]}}],n&&Dc(r.prototype,n),o&&Dc(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(cl.M),yh=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),qc(this,"timesheet",[]),qc(this,"started",!1),qc(this,"startTimesheetItem",(function(e){clearInterval(e.intervalId),e.intervalId=self.setInterval((function(){e.tasks.forEach((function(e){if(t.started)try{e.run()}catch(r){self.setTimeout((function(){throw r}))}}))}),e.interval)}))}var t,r,n;return t=e,n=[{key:"stopTimesheetItem",value:function(e){clearInterval(e.intervalId),e.intervalId=void 0}}],(r=[{key:"obtainTimesheetItemByInterval",value:function(e){var t=this.timesheet.find((function(t){return t.interval===e}));if(void 0!==t)return t;var r={interval:e,intervalId:void 0,tasks:[]};return this.started&&this.startTimesheetItem(r),this.timesheet.push(r),r}},{key:"start",value:function(){this.started||(this.started=!0,this.timesheet.forEach(this.startTimesheetItem))}},{key:"stop",value:function(){this.started&&(this.started=!1,this.timesheet.forEach(e.stopTimesheetItem))}},{key:"plan",value:function(e,t){var r=this.obtainTimesheetItemByInterval(t);r.tasks.includes(e)||r.tasks.push(e)}},{key:"cancel",value:function(t){for(var r=0;r<this.timesheet.length;r++){var n=this.timesheet[r],o=n.tasks.indexOf(t);-1!==o&&(n.tasks.splice(o,1),0===n.tasks.length&&(e.stopTimesheetItem(n),this.timesheet.splice(r,1),r-=1))}}},{key:"destroy",value:function(){this.stop(),this.timesheet.length=0}}])&&Yc(t.prototype,r),n&&Yc(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),mh=r(89501),gh=r(76741),bh=r(77521),wh=r(7312),Sh=r(14381),Eh=r(33263),Oh=r(40097),kh=r(82640),_h={userQuality:Od.k,maxAutoQuality:kd,defaultBandwidthEstimate:{value:kh.S,source:"default"}},Ah=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Qc(this,"storage",new Map),Qc(this,"common",Kc({},_h)),Qc(this,"onError",void 0),this.onError=t}var t,r,n;return t=e,(r=[{key:"checkAndClearConfigStorage",value:function(){if(!(this.storage.size<100)){for(var e=this.storage.keys(),t=0;t<50;t++)this.storage.delete(e.next().value);this.onError(new Error("To many items in config storage! ".concat(100)))}}},{key:"updateCommonOptions",value:function(e){var t=this;Object.keys(this.common).forEach((function(r){var n=e[r];e.hasOwnProperty(r)&&void 0===n?t.common[r]=_h[r]:void 0!==n&&(t.common[r]=n)}))}},{key:"add",value:function(e,t){var r=Kc(Kc({},this.storage.get(e)),t);this.storage.set(e,r),this.updateCommonOptions(t),this.checkAndClearConfigStorage()}},{key:"extract",value:function(e){var t=this.storage.get(e);return this.storage.delete(e),t}},{key:"getCommonOptions",value:function(){return this.common}},{key:"getDebugInfo",value:function(){return Kc({storage:this.storage,size:this.storage.size},this.common)}}])&&zc(t.prototype,r),n&&zc(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Th=function(e){function t(){return Jc(this,t),i.apply(this,arguments)}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xc(e,t)}(t,e);var r,n,o,i=es(t);return r=t,n&&$c(r.prototype,n),o&&$c(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r}(Ps),Ph=r(83361),xh=r(81917),Rh=["objectUrl"],Lh=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scope=t,hs(this,"yaspRpc",void 0),hs(this,"cron",new yh),hs(this,"sourceManager",void 0),hs(this,"resourceTimingsMonitor",void 0),hs(this,"rpcIncomingHistory",new Eh.d(Oh.K)),hs(this,"rpcOutgoingHistory",new Eh.d(Oh.K)),hs(this,"handleRpcError",(function(e){var t=new js.w({code:e.code===gh.v.METHOD_NOT_FOUND?"YASP_UNKNOWN_METHOD":"YASP_UNKNOWN_ERROR",details:{error:e},isFatal:!1,category:Ls.q.EXCEPTION,message:e.message});r.sendEventAndSaveHistory({method:"error",params:{source:null,error:JSON.stringify(t)}})})),hs(this,"configStorage",new Ah(this.handleRpcError)),hs(this,"getMaxAutoQuality",(function(){return r.configStorage.getCommonOptions().maxAutoQuality})),hs(this,"getUserQuality",(function(){return r.configStorage.getCommonOptions().userQuality})),hs(this,"getDefaultBandwidth",(function(){return r.configStorage.getCommonOptions().defaultBandwidthEstimate})),this.yaspRpc=new mh.A((function(e){t.postMessage(e,(0,bh._)(e))}))}var t,r,n;return t=e,(r=[{key:"init",value:function(){var e=this;this.cron.start(),this.yaspRpc.registerHandler("initWorker",(function(t){return(0,Ol.Vc)(t),e.sourceManager=new Cs(t.sourceLimit,(function(t,r){e.sendEventAndSaveHistory({method:"event",params:{source:null,event:{name:"YaspReleasedSrcAutomatically",data:{sourceLimit:r,urls:t}},isWorkerMessage:!0}})}),(function(t){e.sendEventAndSaveHistory({method:"error",params:{source:null,error:JSON.stringify(t),isWorkerMessage:!0}})})),setTimeout((function(){var t="undefined"===typeof document;e.sendEventAndSaveHistory({method:"event",params:{source:null,event:{name:t?"YaspWorkerEnabled":"YaspWorkerDisabled",data:void 0},isWorkerMessage:!0}})})),setTimeout((function(){var t;e.sendEventAndSaveHistory({method:"workerInited",params:{sourceLimit:(null===(t=e.sourceManager)||void 0===t?void 0:t.getSourceLimit())||0}})})),e.initResourceTimingsMonitor(t.perfLogUrl),{done:!0,value:""}})),this.registerHandlerWithHistorySaving("detach",(function(t){var r=t.source,n=e.getSourceObject(r);return n&&(n.off("VideoTrackChange"),n.off("VideoTracksChange"),n.off("AudioLanguageChange"),n.off("TextTrackChange"),n.off("BandwidthEstimateUpdate"),n.off("MaxCapAllowedVideoTrackUpdate"),n.off("ServerTimeChange"),n.detach()),{done:!0,value:void 0}})),this.registerHandlerWithHistorySaving("destroy",(function(t){var r,n,o=t.source,i=t.reason,a="ExternalApi"===i?"YaspReleaseSrcManuallyCalled":"YaspReleaseSrcOnErrorCalled",u="ExternalApi"===i?{url:o,sourceCount:null!==(r=null===(n=e.sourceManager)||void 0===n?void 0:n.getSourceCount())&&void 0!==r?r:0}:{url:o};if(e.sendEventAndSaveHistory({method:"event",params:{source:o,event:{name:a,data:u}}}),e.getSourceObject(o)){var c;null===(c=e.sourceManager)||void 0===c||c.removeSource(o);var s="ExternalApi"===i?"YaspReleasedSrcManually":"YaspReleasedSrcOnError";e.sendEventAndSaveHistory({method:"event",params:{source:o,event:{name:s,data:u},isWorkerMessage:!0}})}if(o.startsWith(Xl.hb)){var l=o.split("/").pop();l&&vh.removeFromDisk(l)}return{done:!0,value:void 0}})),this.registerHandlerWithHistorySaving("requestDebugInfo",(function(t){var r=t.source;return e.sourceManager?{done:!0,value:{yaspSrc:null!==r&&void 0!==r?r:null,sources:e.sourceManager.getAllSources().map((function(e){return e.getDebugInfo()})),outgoingHistory:e.rpcOutgoingHistory.toArray(),incomingHistory:e.rpcIncomingHistory.toArray(),configStorage:e.configStorage.getDebugInfo()}}:{done:!0,value:void 0}})),this.registerHandlerWithHistorySaving("configureSource",(function(t){var r=t.source,n=t.config;try{var o=e.getSourceObjectOrThrowException(r,"configureSource");e.configStorage.updateCommonOptions(n),o.configure(n)}catch(a){var i=(0,Is.Hi)(r);e.configStorage.add(i,n)}return{done:!0,value:void 0}})),this.registerHandlerWithHistorySaving("attach",function(){var t=fs(us().mark((function t(r){var n,o,i;return us().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.source,(o=e.obtainSource(n)).on("VideoTrackChange",(function(t){e.sendEventAndSaveHistory({method:"changeSelectedVideoTrack",params:{source:n,trackId:t}})})),o.on("AudioLanguageChange",(function(t){e.sendEventAndSaveHistory({method:"changeSelectedAudioLanguage",params:{source:n,language:t}})})),o.on("BandwidthEstimateUpdate",(function(t){e.sendEventAndSaveHistory({method:"updateBandwidthEstimate",params:{bandwidth:t}})})),o.on("MaxCapAllowedVideoTrackUpdate",(function(t){e.sendEventAndSaveHistory({method:"updateMaxCapAllowedVideoTrack",params:{maxCapAllowedVideoTrack:t}})})),o.on("DrmInfoReceived",(function(t){e.sendEventAndSaveHistory({method:"applyDrmInfos",params:{source:n,drmInfos:t}})})),o.on("WaitForKey",(function(t){e.sendEventAndSaveHistory({method:"notifyWaitForKey",params:{source:n,message:t}})})),o.on("FlushMediaPipelineRequested",(function(){e.sendEventAndSaveHistory({method:"flushMediaPipeline",params:{source:n}})})),o.on("ServerTimeChange",(function(t){e.sendEventAndSaveHistory({method:"updateServerTime",params:{source:n,time:t}})})),o.on("StreamEndTimeUpdate",(function(t){e.yaspRpc.sendEvent({method:"updateStreamEndTime",params:{source:n,time:t}})})),t.next=13,o.attach(n);case 13:return i=t.sent,e.sendEventAndSaveHistory({method:"setStartInfo",params:{source:n,objectUrl:i,startPosition:o.getStartPosition()}}),e.yaspRpc.sendEvent({method:"changeVideoTracks",params:{source:n,added:o.getVideoTracks().map((function(e){return{source:n,track:ss(ss({},e),{},{bitrate:e.bitrate?e.bitrate/1e3:void 0})}})),removed:[]}}),o.on("VideoTracksChange",(function(t){var r=t.added,o=t.removed;e.yaspRpc.sendEvent({method:"changeVideoTracks",params:{source:n,added:r.map((function(e){return{source:n,track:ss(ss({},e),{},{bitrate:e.bitrate?e.bitrate/1e3:void 0})}})),removed:o}})})),o.getAudioTracks().forEach((function(t){e.sendEventAndSaveHistory({method:"addAudioTrack",params:{source:n,track:ss(ss({},t),{},{bitrate:t.bitrate?t.bitrate/1e3:void 0})}})})),o.getTextTracks().forEach((function(t){e.sendEventAndSaveHistory({method:"addTextTrack",params:{source:n,track:{id:t.id,kind:t.kind,label:t.label,language:t.language||"unknown"}}})})),t.abrupt("return",{done:!0,value:void 0});case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.registerHandlerWithHistorySaving("load",function(){var t=fs(us().mark((function t(r){var n,o,i,a,u,c;return us().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.source,o=r.contentId,i=e.obtainSource(n),t.next=4,i.load(o);case 4:if(t.t0=t.sent,t.t0){t.next=7;break}t.t0={};case 7:return a=t.t0,u=a.drmInfos,c={video:i.getVideoTracks(),audio:i.getAudioTracks(),text:i.getTextTracks()},t.abrupt("return",{done:!0,value:{tracks:c,drmInfos:u}});case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.registerHandlerWithHistorySaving("seeking",function(){var t=fs(us().mark((function t(r){var n,o;return us().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.source,o=e.obtainSource(n),t.next=4,o.handleSeek();case 4:return t.abrupt("return",{done:!0,value:void 0});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.scope.addEventListener("message",(function(t){"object"===as(t.data)&&("string"!==typeof t.data.method||"object"===as(t.data.params)&&null!==t.data.params)&&e.yaspRpc.handleMessage(t)}))}},{key:"initResourceTimingsMonitor",value:function(e){void 0!==e&&void 0===this.resourceTimingsMonitor&&"undefined"===typeof document&&(this.resourceTimingsMonitor=new wh.$({sendLog:function(t,r){var n=(0,Sh.Y)(t);if(n){var o=new xh(e);(0,Sl.J)(r).forEach((function(e){var t=os(e,2),r=t[0],n=t[1];void 0!==n&&o.searchParams.set(r,n)})),zl(o.href,{method:"POST",keepalive:!0,body:n})}}}),this.resourceTimingsMonitor.attach(self))}},{key:"getSourceObject",value:function(e){if(!this.sourceManager)throw new Error("Source Manager not inited!");return this.sourceManager.takeSource(e)}},{key:"getSourceObjectOrThrowException",value:function(e,t){var r=this.getSourceObject(e);if(void 0===r)throw new Error("[".concat(t,"] Unknown source ").concat(e,"."));return r}},{key:"sendEventAndSaveHistory",value:function(e){var t=e.method,r=e.params;if(!["updateBufferedInfo","updateSeekableRange"].includes(t)){var n=ss({},r);if("objectUrl"in n){var o=n;o.objectUrl,n=ns(o,Rh)}this.rpcOutgoingHistory.push({method:t,params:n,time:Date.now()})}return this.yaspRpc.sendEvent(e)}},{key:"registerHandlerWithHistorySaving",value:function(e,t){var r=this;this.yaspRpc.registerHandler(e,(function(n){return r.rpcIncomingHistory.push({method:e,params:n,time:Date.now()}),t(n)}))}},{key:"obtainSource",value:function(e){var t,r,n,o=null!==(t=null===(r=this.sourceManager)||void 0===r?void 0:r.takeSource(e))&&void 0!==t?t:this.createSource(e);return null===(n=this.sourceManager)||void 0===n||n.putSource(e,o),o}},{key:"createSource",value:function(e){var t,r,n,o=this,i=(0,Is.Hi)(e),a={getMaxAutoQuality:this.getMaxAutoQuality,getUserQuality:this.getUserQuality,getDefaultBandwidth:this.getDefaultBandwidth};if("mp4"===$u(e)){var u=os(this.createAudioSource(e,i,a),3);t=u[0],r=u[1],n=u[2]}else{var c=os(this.createVideoSource(e,i,a),3);t=c[0],r=c[1],n=c[2]}var s=this.configStorage.extract(i);return s&&t.configure(s),t.on("Error",(function(t){o.sendEventAndSaveHistory({method:"error",params:{source:e,error:JSON.stringify(t)}})})),t.on("BufferedInfoChanged",(function(t){o.sendEventAndSaveHistory({method:"updateBufferedInfo",params:{bufferedInfo:t,source:e,duration:r.duration}})})),t.on("Event",(function(t){o.sendEventAndSaveHistory({method:"event",params:{source:e,event:t}})})),t.on("IsLowLatencyChange",(function(t){o.sendEventAndSaveHistory({method:"changeIsLowLatency",params:{source:e,isLowLatency:t}})})),t.on("EmsgDetected",(function(t){o.sendEventAndSaveHistory({method:"emsg",params:{source:e,emsg:t}})})),t.on("SegmentLoaded",(function(t){o.sendEventAndSaveHistory({method:"logSegmentLoaded",params:{source:e,info:t}})})),t.on("TargetLatencyUpdated",(function(t){o.sendEventAndSaveHistory({method:"updateTargetLatency",params:{source:e,latency:t}})})),t.on("UtcStartTimeUpdate",(function(t){o.sendEventAndSaveHistory({method:"updateUtcStartTime",params:{source:e,time:t}})})),t.on("SeekableRangeUpdate",(function(t){var r=t.start,n=t.end;o.sendEventAndSaveHistory({method:"updateSeekableRange",params:{source:e,start:r,end:n}})})),t.on("UpdateUrlObject",(function(t){o.sendEventAndSaveHistory({method:"urlObjectUpdated",params:{source:e,objectUrl:t}})})),t.on("Destroy",(function(){var e;null===(e=n)||void 0===e||e.destroy(),n=null})),t}},{key:"createVideoSource",value:function(e,t,r){var n=this,o=new Sd,i=o,a=new xs(t,this.scope,o),u=new vh(this.cron,e,i,r),c=this.configStorage.extract(t);c&&u.configure(c),u.on("VideoTypeChange",(function(t){n.sendEventAndSaveHistory({method:"changeVideoType",params:{source:e,videoType:t}})})),u.on("CuesAdded",(function(t){var r=t.cues,o=t.label;n.sendEventAndSaveHistory({method:"cuesAdded",params:{source:e,cues:r,label:o}})}));var s=function(e){var r=e.source,n=e.devicePixelRatio;return(0,Is.Hi)(r)!==t?{done:!1,value:void 0}:(o.devicePixelRatio=n,{done:!0,value:void 0})};return this.yaspRpc.registerHandler("setDevicePixelRatio",s),u.on("Destroy",(function(){n.yaspRpc.removeHandler("setDevicePixelRatio",s)})),[u,i,a]}},{key:"createAudioSource",value:function(e,t,r){var n=new Ed,o=n,i=new Th(t,this.scope,n);return[new vh(this.cron,e,o,r),o,i]}}])&&ds(t.prototype,r),n&&ds(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),jh=vs;"object"!==("undefined"===typeof window?"undefined":ps(window))&&(self.window=self,vs())},88150:function(e,t){"use strict";t.Z=function(e,t,r){for(var n=e.length+t.length,o=new Array(n),i=0,a=0,u=0;u<n;){var c=i>=e.length,s=a>=t.length;!c&&(s||r(e[i],t[a])<0)?(o[u]=e[i],i++):(o[u]=t[a],a++),u++}return o}},67302:function(e,t,r){"use strict";function n(e){return-1===["tr","id","fi","lt","pl","et","lv"].indexOf(e)?"ru":"en"}function o(e,t){for(var r=[],n=e.length,o=0;o<n;){var i=e.indexOf("{",o);if(-1===i)return r.push(e.substring(o)),r;var a=e.indexOf("}",i);if(-1===a)return r.push(e.substring(o)),r;r.push(e.substring(o,i),t[e.substring(i+1,a)]),o=a+1}return r}function i(e,t,r){void 0===r&&(r={});var i=function(e,t){var r,n,o;try{for(var i=a(j),u=i.next();!u.done;u=i.next()){if((o=e[u.value])&&t in o)return o[t]}}catch(c){r={error:c}}finally{try{u&&!u.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return t}(e,t);return"string"===typeof i?o(i,r):function(e,t){var r=j.find((function(e){return Boolean(L[e])}))||n(j[0]);return o((0,L[r])(t.count,e),t)}(i,r)}var a=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.resolveI18nLang=t.getI18nLang=t.setI18nLang=t.i18nRaw=void 0;var c=u(r(49704)),s=u(r(69366)),l=u(r(71195)),f=u(r(13265)),d=u(r(56578)),h=u(r(21999)),p=u(r(63369)),v=u(r(80215)),y=u(r(55106)),m=u(r(11839)),g=u(r(77158)),b=u(r(55181)),w=u(r(10967)),S=u(r(6799)),E=u(r(28147)),O=u(r(77329)),k=u(r(51398)),_=u(r(34462)),A=u(r(61324)),T=u(r(55997)),P=u(r(6282)),x=u(r(97374)),R=u(r(25237)),L={be:c.default,en:s.default,id:l.default,kk:f.default,ru:d.default,tr:h.default,tt:p.default,uk:v.default,uz:y.default,de:m.default,es:g.default,hy:b.default,ka:w.default,ky:S.default,sr:E.default,fr:O.default,lv:k.default,lt:_.default,ro:A.default,fi:T.default,az:P.default,zh:x.default,he:R.default},j=["ru"];t.default=function(e){return function(t,r){return void 0===r&&(r={}),i(e,t,r).join("")}},t.i18nRaw=function(e){return function(t,r){return void 0===r&&(r={}),i(e,t,r)}},t.setI18nLang=function(e){j="string"===typeof e?[e,n(e),"ru"]:e},t.getI18nLang=function(){return j[0]},t.resolveI18nLang=function(e,t,r){var n=t;if(-1===e.indexOf(n))switch(r){case"com":n="en";break;case"com.tr":n="tr";break;default:n="ru"}return n}},6282:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(69366));t.default=o.default},49704:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(56578));t.default=o.default},11839:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(69366));t.default=o.default},69366:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e?1===e?t.one:t.some:t.none||""}},77158:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(69366));t.default=o.default},55997:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(69366));t.default=o.default},77329:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(56578));t.default=o.default},25237:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(69366));t.default=o.default},55181:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(69366));t.default=o.default},71195:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e?t.some:t.none||""}},10967:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(69366));t.default=o.default},13265:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=e%10,n=e%100;return e?1===r&&11!==n?t.one:r>1&&r<5&&(n<10||n>20)?t.some:t.many||"":t.none||""}},6799:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(56578));t.default=o.default},34462:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(56578));t.default=o.default},51398:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(56578));t.default=o.default},61324:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(56578));t.default=o.default},56578:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=e%10,n=e%100;return e?1===r&&11!==n?t.one:r>=2&&r<=4&&12!==n&&13!==n&&14!==n?t.some:t.many||"":t.none||""}},28147:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(56578));t.default=o.default},21999:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=e%10,n=e%100;return e?1===r&&11!==n?t.one:r>1&&r<5&&(n<10||n>20)?t.some:t.many||"":t.none||""}},63369:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=e%10,n=e%100;return e?1===r&&11!==n?t.one:r>1&&r<5&&(n<10||n>20)?t.some:t.many||"":t.none||""}},80215:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(56578));t.default=o.default},55106:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=e%10,n=e%100;return e?1===r&&11!==n?t.one:r>1&&r<5&&(n<10||n>20)?t.some:t.many||"":t.none||""}},97374:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(69366));t.default=o.default},50041:function(e,t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n,o,i;"undefined"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView=function(e){return null!=e&&null!=e.__proto__&&e.__proto__.__proto__===Int8Array.prototype.__proto__}),"undefined"===typeof Math.imul&&(Math.imul=function(e,t){return(4294901760&e)*(65535&t)+(65535&e)*(0|t)|0}),o=[t],void 0===(i="function"===typeof(n=function(e){"use strict";function t(e){return e.length-1|0}function n(e,t){if(null==t){var r=0,n=e.length-1|0;if(r<=n)do{var o=r;if(r=r+1|0,null==e[o])return o}while(r<=n)}else{var i=0,a=e.length-1|0;if(i<=a)do{var u=i;if(i=i+1|0,ut(t,e[u]))return u}while(i<=a)}return-1}function o(e,t,r,n,o,i,a){return t=t===Qr?", ":t,r=r===Qr?"":r,n=n===Qr?"":n,o=o===Qr?-1:o,i=i===Qr?"...":i,a=a===Qr?null:a,function(e,t,r,n,o,i,a,u){r=r===Qr?", ":r,n=n===Qr?"":n,o=o===Qr?"":o,i=i===Qr?-1:i,a=a===Qr?"...":a,u=u===Qr?null:u,t.a(n);var c=0,s=e.b();e:for(;s.c();){var l=s.d();if((c=c+1|0)>1&&t.a(r),!(i<0||c<=i))break e;D(t,l,u)}return i>=0&&c>i&&t.a(a),t.a(o),t}(e,je(),t,r,n,o,i,a).toString()}function i(e){if(Gt(e,Me)){var t;switch(e.e()){case 0:t=x();break;case 1:t=K(Gt(e,Fe)?e.f(0):e.b().d());break;default:t=a(e)}return t}return function(e){switch(e.e()){case 0:return x();case 1:return K(e.f(0));default:return e}}(u(e))}function a(e){return ue(e)}function u(e){return Gt(e,Me)?a(e):function(e,t){for(var r=e.b();r.c();){var n=r.d();t.g(n)}return t}(e,ae())}function c(e,t){return Gt(e,Me)?e.h(t):function(e,t){if(Gt(e,Fe))return e.i(t);for(var r=0,n=e.b();n.c();){var o=n.d();if(Z(r),ut(t,o))return r;r=r+1|0}return-1}(e,t)>=0}function s(){}function l(){Sr=this}function f(){return null==Sr&&new l,Sr}function d(e){this.q_1=e}function h(e,t){return t===e?"(this Map)":He(t)}function p(e,t){var r;e:{for(var n=e.s().b();n.c();){var o=n.d();if(ut(o.r(),t)){r=o;break e}}r=null}return r}function v(){Er=this}function y(){return null==Er&&new v,Er}function m(e){this.x_1=e,S.call(this)}function g(){y(),this.z_1=null,this.a1_1=null}function b(){Or=this}function w(){return null==Or&&new b,Or}function S(){w(),s.call(this)}function E(e,t){if(t<0)throw Xt("Deque is too big.");if(t<=e.k1_1.length)return U();if(e.k1_1===T().m1_1){var r,n=e;T();var o=(i=t)<(a=10)?a:i;return r=qe(Array(o),null),n.k1_1=r,U()}var i,a;!function(e,t){var r=qe(Array(t),null),n=e.k1_1,o=e.j1_1,i=e.k1_1.length;Q(n,r,0,o,i);var a=e.k1_1,u=e.k1_1.length-e.j1_1|0,c=e.j1_1;Q(a,r,u,0,c),e.j1_1=0,e.k1_1=r}(e,T().p1(e.k1_1.length,t))}function O(e,t){return t>=e.k1_1.length?t-e.k1_1.length|0:t}function k(e,r){return r===t(e.k1_1)?0:r+1|0}function _(e,r){return 0===r?t(e.k1_1):r-1|0}function A(){var e;kr=this,e=[],this.m1_1=e,this.n1_1=2147483639,this.o1_1=10}function T(){return null==kr&&new A,kr}function P(){T(),this.j1_1=0,this.l1_1=0}function x(){return null==_r&&new R,_r}function R(){_r=this,this.c2_1=new yt(-1478467534,-1720727600)}function L(){Ar=this}function j(e){return e.e()-1|0}function I(e,t){this.g2_1=e,this.h2_1=t}function C(){Tr=this}function D(e,t,r){var n;null!=r?e.a(r(t)):null==t||"string"===typeof(n=t)||Gt(n,F)?e.a(t):t instanceof Ne?e.r2(t.q2_1):e.a(He(t))}function N(e,t){this.k2_1=e,this.l2_1=t}function F(){}function M(){}function V(){}function B(){Pr=this}function U(){return null==Pr&&new B,Pr}function G(){xr=this,this.MIN_VALUE=-2147483648,this.MAX_VALUE=2147483647,this.SIZE_BYTES=4,this.SIZE_BITS=32}function H(){Rr=this,this.MIN_VALUE=5e-324,this.MAX_VALUE=17976931348623157e292,this.POSITIVE_INFINITY=1/0,this.NEGATIVE_INFINITY=-1/0,this.NaN=NaN,this.SIZE_BYTES=8,this.SIZE_BITS=64}function Y(){return null==Rr&&new H,Rr}function q(){}function W(e){for(var t=[],r=e.b();r.c();)t.push(r.d());return t}function K(e){return 0===(t=[e]).length?ae():ue(new I(t,!0));var t}function z(e){return void 0!==e.toArray?e.toArray():W(e)}function Q(e,t,r,n,o){f().n(n,o,e.length);var i=o-n|0;if(f().n(r,r+i|0,t.length),$r(t)&&$r(e)){var a=e.subarray(n,o);t.set(a,r)}else if(e!==t||r<=n){var u=0;if(u<i)do{var c=u;u=u+1|0,t[r+c|0]=e[n+c|0]}while(u<i)}else{var s=i-1|0;if(0<=s)do{var l=s;s=s+-1|0,t[r+l|0]=e[n+l|0]}while(0<=s)}}function Z(e){return e<0&&function(){throw hr("Index overflow has happened.")}(),e}function $(){s.call(this)}function J(e){this.e3_1=e,this.c3_1=0,this.d3_1=-1}function X(){$.call(this),this.a2_1=0}function ee(e){this.f3_1=e}function te(e,t){this.g3_1=e,this.h3_1=t}function re(){ie.call(this)}function ne(e){this.l3_1=e,ie.call(this)}function oe(){g.call(this),this.q3_1=null,this.r3_1=null}function ie(){$.call(this)}function ae(){return e=lt(st(se)),t=[],se.call(e,t),e;var e,t}function ue(e){return function(e,t){var r;return r=z(e),se.call(t,r),t}(e,lt(st(se)))}function ce(e,t){return f().l(t,e.e()),t}function se(e){X.call(this),this.t3_1=e,this.u3_1=!1}function le(e,r){if(function(){var e=Lr;if(null!=e)return e;Lr=!1;var t=[],r=0;if(r<600)do{var n=r;r=r+1|0,t.push(n)}while(r<600);t.sort(fe);var o=1,i=t.length;if(o<i)do{var a=o;o=o+1|0;var u=t[a-1|0],c=t[a];if((3&u)===(3&c)&&u>=c)return!1}while(o<i);return Lr=!0,!0}()){var n=(o=r,function(e,t){return o.compare(e,t)});e.sort(n)}else!function(e,t,r,n){var o,i=e.length;o=qe(Array(i),null);var a=function e(t,r,n,o,i){if(n===o)return t;var a=(n+o|0)/2|0,u=e(t,r,n,a,i),c=e(t,r,a+1|0,o,i),s=u===r?t:r,l=n,f=a+1|0,d=n;if(d<=o)do{var h=d;if(d=d+1|0,l<=a&&f<=o){var p=u[l],v=c[f];i.compare(p,v)<=0?(s[h]=p,l=l+1|0):(s[h]=v,f=f+1|0)}else l<=a?(s[h]=u[l],l=l+1|0):(s[h]=c[f],f=f+1|0)}while(h!==o);return s}(e,o,t,r,n);if(a!==e){var u=t;if(u<=r)do{var c=u;u=u+1|0,e[c]=a[c]}while(c!==r)}}(e,0,t(e),r);var o}function fe(e,t){return(3&e)-(3&t)|0}function de(){jr=this}function he(e){this.x3_1=e,re.call(this)}function pe(e){return function(e,t){oe.call(t),ve.call(t),t.d4_1=e,t.e4_1=e.g4()}(new Se((null==jr&&new de,jr)),e),e}function ve(){this.f4_1=null}function ye(){}function me(e,t){var r=be(e,e.s4_1.w3(t));if(null==r)return null;var n=r;if(null!=n&&Ht(n))return ge(n,e,t);var o=n;return e.s4_1.v3(o.r(),t)?o:null}function ge(e,t,r){var n;e:{for(var o=e,i=0,a=o.length;i<a;){var u=o[i];if(i=i+1|0,t.s4_1.v3(u.r(),r)){n=u;break e}}n=null}return n}function be(e,t){var r=e.t4_1[t];return void 0===r?null:r}function we(e){this.r4_1=e,this.k4_1=-1,this.l4_1=Object.keys(e.t4_1),this.m4_1=-1,this.n4_1=null,this.o4_1=!1,this.p4_1=-1,this.q4_1=null}function Se(e){this.s4_1=e,this.t4_1=this.v4(),this.u4_1=0}function Ee(){}function Oe(e){this.y4_1=e,this.w4_1=null,this.x4_1=null,this.x4_1=this.y4_1.j5_1.g5_1}function ke(e,t,r){this.o5_1=e,te.call(this,t,r),this.m5_1=null,this.n5_1=null}function _e(e){this.j5_1=e,re.call(this)}function Ae(e,t){e.m5_1===e?t.g5_1=null:(t.g5_1===e&&(t.g5_1=e.m5_1),ht(e.m5_1).n5_1=e.n5_1,ht(e.n5_1).m5_1=e.m5_1),e.m5_1=null,e.n5_1=null}function Te(e){return pe(e),xe.call(e),e.h5_1=pe(lt(st(ve))),e}function Pe(){return Te(lt(st(xe)))}function xe(){this.g5_1=null,this.i5_1=!1}function Re(){}function Le(e){return!(e===e)}function je(){return e=lt(st(Ie)),Ie.call(e,""),e;var e}function Ie(e){this.q5_1=void 0!==e?e:""}function Ce(e,t){return e-t|0}function De(){Ir=this,this.r5_1=0,this.s5_1=65535,this.t5_1=55296,this.u5_1=56319,this.v5_1=56320,this.w5_1=57343,this.x5_1=55296,this.y5_1=57343,this.z5_1=2,this.a6_1=16}function Ne(e){null==Ir&&new De,this.q2_1=e}function Fe(){}function Me(){}function Ve(){}function Be(){}function Ue(){}function Ge(){}function He(e){var t=null==e?null:it(e);return null==t?"null":t}function Ye(e){for(var t=1,r=[],n=e,o=0,i=n.length;o<i;){var a=n[o];o=o+1|0;var u=t,c=a.prototype.$imask$,s=null==c?a.$imask$:c;null!=s&&(r.push(s),u=s.length);var l,f=a.$metadata$.iid;null==f?l=null:(h=f,p=void 0,v=void 0,y=void 0,p=new Int32Array(1+(h>>5)|0),y=1<<(31&h),p[v=h>>5]=p[v]|y,l=p);var d=l;null!=d&&(r.push(d),u=Math.max(u,d.length)),u>t&&(t=u)}var h,p,v,y;return function(e,t){for(var r=0,n=e,o=new Int32Array(n);r<n;){for(var i,a=r,u=0,c=t,s=0,l=c.length;s<l;){var f=c[s];s=s+1|0,a<f.length&&(u|=f[a])}i=u,o[a]=i,r=r+1|0}return o}(t,r)}function qe(e,t){var r=0,n=e.length-1|0;if(r<=n)do{var o=r;r=r+1|0,e[o]=t}while(o!==n);return e}function We(e){return new Ke(e)}function Ke(e){this.d6_1=e,this.c6_1=0}function ze(){return Xe(),Cr}function Qe(){return Xe(),Dr}function Ze(){return Xe(),Nr}function $e(){return Xe(),Fr}function Je(e){return Xe(),(0|e)===e?(t=e)instanceof yt?t.q6():function(e){return e>2147483647?2147483647:e<-2147483648?-2147483648:0|e}(t):(Qe()[0]=e,Zr(Ze()[(Xe(),Mr)],31)+Ze()[$e()]|0);var t}function Xe(){if(Vr);else{Vr=!0,Cr=new ArrayBuffer(8);var e=new Float64Array(ze());Dr=e;new Float32Array(ze());var t,r=new Int32Array(ze());Nr=r,Qe()[0]=-1,t=0!==Ze()[0]?1:0,Fr=t,Mr=1-$e()|0}}function et(e){return it(e)}function tt(e,t){var n;switch(r(e)){case"number":n="number"===typeof t?rt(e,t):t instanceof yt?rt(e,t.g6()):nt(e,t);break;case"string":case"boolean":n=nt(e,t);break;default:n=function(e,t){return e.s2(t)}(e,t)}return n}function rt(e,t){var r;if(e<t)r=-1;else if(e>t)r=1;else if(e===t){var n;if(0!==e)n=0;else{var o=1/e;n=o===1/t?0:o<0?-1:1}r=n}else r=e!==e?t!==t?0:1:-1;return r}function nt(e,t){return e<t?-1:e>t?1:0}function ot(e){if(!("kotlinHashCodeValue$"in e)){var t=0|4294967296*Math.random(),r=new Object;r.value=t,r.enumerable=!1,Object.defineProperty(e,"kotlinHashCodeValue$",r)}return e.kotlinHashCodeValue$}function it(e){return null==e?"null":function(e){return!!Bt(e)||$r(e)}(e)?"[...]":e.toString()}function at(e){if(null==e)return 0;var t;switch(r(e)){case"object":t="function"===typeof e.hashCode?e.hashCode():ot(e);break;case"function":t=ot(e);break;case"number":t=Je(e);break;case"boolean":t=e?1:0;break;default:t=function(e){var t=0,r=e.length,n=0,o=r-1|0;if(n<=o)do{var i=n;n=n+1|0;var a=e.charCodeAt(i);t=Zr(t,31)+a|0}while(i!==o);return t}(String(e))}return t}function ut(e,t){if(null==e)return null==t;if(null==t)return!1;if("object"===r(e)&&"function"===typeof e.equals)return e.equals(t);if(e!==e)return t!==t;if("number"===typeof e&&"number"===typeof t){var n;if(e===t)n=0!==e||1/e===1/t;else n=!1;return n}return e===t}function ct(e,t){null!=Error.captureStackTrace?Error.captureStackTrace(e,t):e.stack=(new Error).stack}function st(e){return e.prototype}function lt(e){return Object.create(e)}function ft(e,t,r){Error.call(e),function(e,t,r){if(!dt(e,"message")){var n;if(null==t){var o;if(null!==t){var i=r,a=null==i?null:i.toString();o=null==a?Qr:a}else o=Qr;n=o}else n=t;e.message=n}dt(e,"cause")||(e.cause=r),e.name=Object.getPrototypeOf(e).constructor.name}(e,t,r)}function dt(e,t){return Object.getPrototypeOf(e).hasOwnProperty(t)}function ht(e){var t;return null==e?function(){throw vr()}():t=e,t}function pt(){throw mr()}function vt(){Br=this,this.h6_1=new yt(0,-2147483648),this.i6_1=new yt(-1,2147483647),this.j6_1=8,this.k6_1=64}function yt(e,t){null==Br&&new vt,V.call(this),this.e6_1=e,this.f6_1=t}function mt(){return Ft(),Ur}function gt(){return Ft(),Gr}function bt(){return Ft(),Hr}function wt(){return Ft(),qr}function St(){return Ft(),Wr}function Et(e,t){if(Ft(),Tt(e,t))return 0;var r=xt(e),n=xt(t);return r&&!n?-1:!r&&n?1:xt(kt(e,t))?-1:1}function Ot(e,t){Ft();var r=e.f6_1>>>16|0,n=65535&e.f6_1,o=e.e6_1>>>16|0,i=65535&e.e6_1,a=t.f6_1>>>16|0,u=65535&t.f6_1,c=t.e6_1>>>16|0,s=0,l=0,f=0,d=0;return s=(s=s+((l=(l=l+((f=(f=f+((d=d+(i+(65535&t.e6_1)|0)|0)>>>16|0)|0)+(o+c|0)|0)>>>16|0)|0)+(n+u|0)|0)>>>16|0)|0)+(r+a|0)|0,new yt((f&=65535)<<16|(d&=65535),(s&=65535)<<16|(l&=65535))}function kt(e,t){return Ft(),Ot(e,t.o6())}function _t(e,t){if(Ft(),Rt(e))return mt();if(Rt(t))return mt();if(Tt(e,wt()))return Lt(t)?wt():mt();if(Tt(t,wt()))return Lt(e)?wt():mt();if(xt(e))return xt(t)?_t(jt(e),jt(t)):jt(_t(jt(e),t));if(xt(t))return jt(_t(e,jt(t)));if(It(e,St())&&It(t,St()))return Ct(At(e)*At(t));var r=e.f6_1>>>16|0,n=65535&e.f6_1,o=e.e6_1>>>16|0,i=65535&e.e6_1,a=t.f6_1>>>16|0,u=65535&t.f6_1,c=t.e6_1>>>16|0,s=65535&t.e6_1,l=0,f=0,d=0,h=0;return d=d+((h=h+Zr(i,s)|0)>>>16|0)|0,h&=65535,f=(f=f+((d=d+Zr(o,s)|0)>>>16|0)|0)+((d=(d&=65535)+Zr(i,c)|0)>>>16|0)|0,d&=65535,l=(l=(l=l+((f=f+Zr(n,s)|0)>>>16|0)|0)+((f=(f&=65535)+Zr(o,c)|0)>>>16|0)|0)+((f=(f&=65535)+Zr(i,u)|0)>>>16|0)|0,f&=65535,l=l+(((Zr(r,s)+Zr(n,c)|0)+Zr(o,u)|0)+Zr(i,a)|0)|0,new yt(d<<16|h,(l&=65535)<<16|f)}function At(e){return Ft(),4294967296*e.f6_1+function(e){return Ft(),e.e6_1>=0?e.e6_1:4294967296+e.e6_1}(e)}function Tt(e,t){return Ft(),e.f6_1===t.f6_1&&e.e6_1===t.e6_1}function Pt(e){return Ft(),new yt(e,e<0?-1:0)}function xt(e){return Ft(),e.f6_1<0}function Rt(e){return Ft(),0===e.f6_1&&0===e.e6_1}function Lt(e){return Ft(),1===(1&e.e6_1)}function jt(e){return Ft(),e.o6()}function It(e,t){return Ft(),Et(e,t)<0}function Ct(e){return Ft(),Le(e)?mt():e<=-0x8000000000000000?wt():e+1>=0x8000000000000000?(Ft(),Yr):e<0?jt(Ct(-e)):new yt(0|e%4294967296,0|e/4294967296)}function Dt(e,t){return Ft(),Et(e,t)>0}function Nt(e,t){return Ft(),Et(e,t)>=0}function Ft(){Kr||(Kr=!0,Ur=Pt(0),Gr=Pt(1),Hr=Pt(-1),Yr=new yt(-1,2147483647),qr=new yt(0,-2147483648),Wr=Pt(16777216))}function Mt(e,t,r,n){return Vt("class",e,t,r,n,null)}function Vt(e,t,r,n,o,i){return{kind:e,simpleName:t,associatedObjectKey:r,associatedObjects:n,suspendArity:o,$kClass$:Qr,iid:i}}function Bt(e){return Array.isArray(e)}function Ut(e,t,r,n,o,i,a,u){null!=n&&(e.prototype=Object.create(n.prototype),e.prototype.constructor=e);var c=r(t,i,a,null==u?[]:u);e.$metadata$=c,null!=o&&((null!=c.iid?e:e.prototype).$imask$=Ye(o))}function Gt(e,t){return function(e,t){var r=e.$imask$,n=r;return null!=n&&function(e,t){var r=t>>5;if(r>e.length)return!1;var n=1<<(31&t);return!(0===(e[r]&n))}(n,t)}(e,t.$metadata$.iid)}function Ht(e){return!!Bt(e)&&!e.$type$}function Yt(e){var t;switch(r(e)){case"string":case"number":case"boolean":case"function":t=!0;break;default:t=e instanceof Object}return t}function qt(e){var t,n=r(e);return"string"===n||"boolean"===n||"number"===typeof(t=e)||t instanceof yt||Gt(e,M)}function Wt(e,t,r,n){return Vt("interface",e,t,r,n,function(){null==zr&&(zr=0);var e=Kt();zr=e+1|0;var t=Kt();return t}())}function Kt(){if(null!=zr)return zr;!function(e){throw br("lateinit property "+e+" has not been initialized")}("iid")}function zt(e,t,r,n){return Vt("object",e,t,r,n,null)}function Qt(e){var t=function(e,t){return ir(e,t),Zt.call(t),t}(e,lt(st(Zt)));return ct(t,Qt),t}function Zt(){ct(this,Zt)}function $t(e){var t=function(e,t){return ir(e,t),Jt.call(t),t}(e,lt(st(Jt)));return ct(t,$t),t}function Jt(){ct(this,Jt)}function Xt(e){var t=function(e,t){return ir(e,t),er.call(t),t}(e,lt(st(er)));return ct(t,Xt),t}function er(){ct(this,er)}function tr(e,t){return ft(t,e),nr.call(t),t}function rr(e){var t=tr(e,lt(st(nr)));return ct(t,rr),t}function nr(){ct(this,nr)}function or(e){return function(e){ft(e),nr.call(e)}(e),ar.call(e),e}function ir(e,t){return tr(e,t),ar.call(t),t}function ar(){ct(this,ar)}function ur(){var e,t=(or(e=lt(st(sr))),sr.call(e),e);return ct(t,ur),t}function cr(e){var t=function(e,t){return ir(e,t),sr.call(t),t}(e,lt(st(sr)));return ct(t,cr),t}function sr(){ct(this,sr)}function lr(){var e,t=(or(e=lt(st(dr))),dr.call(e),e);return ct(t,lr),t}function fr(e){var t=function(e,t){return ir(e,t),dr.call(t),t}(e,lt(st(dr)));return ct(t,fr),t}function dr(){ct(this,dr)}function hr(e){var t=function(e,t){return ir(e,t),pr.call(t),t}(e,lt(st(pr)));return ct(t,hr),t}function pr(){ct(this,pr)}function vr(){var e,t=(or(e=lt(st(yr))),yr.call(e),e);return ct(t,vr),t}function yr(){ct(this,yr)}function mr(){var e,t=(or(e=lt(st(gr))),gr.call(e),e);return ct(t,mr),t}function gr(){ct(this,gr)}function br(e){var t=function(e,t){return ir(e,t),wr.call(t),t}(e,lt(st(wr)));return ct(t,br),t}function wr(){ct(this,wr)}var Sr,Er,Or,kr,_r,Ar,Tr,Pr,xr,Rr,Lr,jr,Ir,Cr,Dr,Nr,Fr,Mr,Vr,Br,Ur,Gr,Hr,Yr,qr,Wr,Kr,zr,Qr,Zr=Math.imul,$r=ArrayBuffer.isView;return Ut(Me,"Collection",Wt),Ut(s,"AbstractCollection",Mt,Qr,[Me]),Ut(l,"Companion",zt),Ut(d,Qr,Mt),Ut(v,"Companion",zt),Ut(Ge,"Set",Wt,Qr,[Me]),Ut(S,"AbstractSet",Mt,s,[s,Ge]),Ut(m,Qr,Mt,S),Ut(Be,"Map",Wt),Ut(g,"AbstractMap",Mt,Qr,[Be]),Ut(b,"Companion",zt),Ut(A,"Companion",zt),Ut($,"AbstractMutableCollection",Mt,s,[s,Me]),Ut(Fe,"List",Wt,Qr,[Me]),Ut(X,"AbstractMutableList",Mt,$,[$,Fe,Me]),Ut(P,"ArrayDeque",Mt,X),Ut(R,"EmptyList",zt,Qr,[Fe]),Ut(L,"EmptyIterator",zt),Ut(I,"ArrayAsCollection",Mt,Qr,[Me]),Ut(q,"Comparator",Wt),Ut(C,"ReverseOrderComparator",zt,Qr,[q]),Ut(N,"Pair",Mt),Ut(F,"CharSequence",Wt),Ut(M,"Comparable",Wt),Ut(V,"Number",Mt),Ut(B,"Unit",zt),Ut(G,"IntCompanionObject",zt),Ut(H,"DoubleCompanionObject",zt),Ut(J,"IteratorImpl",Mt),Ut(ee,Qr,Mt),Ut(Ve,"Entry",Wt),Ut(Ue,"MutableEntry",Wt,Qr,[Ve]),Ut(te,"SimpleEntry",Mt,Qr,[Ue]),Ut(ie,"AbstractMutableSet",Mt,$,[$,Ge,Me]),Ut(re,"AbstractEntrySet",Mt,ie),Ut(ne,Qr,Mt,ie),Ut(oe,"AbstractMutableMap",Mt,g,[g,Be]),Ut(se,"ArrayList",Mt,X,[X,Fe,Me]),Ut(de,"HashCode",zt),Ut(he,"EntrySet",Mt,re),Ut(ve,"HashMap",Mt,oe,[oe,Be]),Ut(ye,"HashSet",Mt,ie,[ie,Ge,Me]),Ut(we,Qr,Mt),Ut(Ee,"InternalMap",Wt),Ut(Se,"InternalHashCodeMap",Mt,Qr,[Ee]),Ut(Oe,"EntryIterator",Mt),Ut(ke,"ChainEntry",Mt,te),Ut(_e,"EntrySet",Mt,re),Ut(xe,"LinkedHashMap",Mt,ve,[ve,Be]),Ut(Re,"LinkedHashSet",Mt,ye,[ye,Ge,Me]),Ut(Ie,"StringBuilder",Mt,Qr,[F]),Ut(De,"Companion",zt),Ut(Ne,"Char",Mt,Qr,[M]),Ut(Ke,Qr,Mt),Ut(vt,"Companion",zt),Ut(yt,"Long",Mt,V,[V,M]),Ut(nr,"Exception",Mt,Error),Ut(ar,"RuntimeException",Mt,nr),Ut(Zt,"IllegalArgumentException",Mt,ar),Ut(Jt,"IndexOutOfBoundsException",Mt,ar),Ut(er,"IllegalStateException",Mt,ar),Ut(sr,"NoSuchElementException",Mt,ar),Ut(dr,"UnsupportedOperationException",Mt,ar),Ut(pr,"ArithmeticException",Mt,ar),Ut(yr,"NullPointerException",Mt,ar),Ut(gr,"ClassCastException",Mt,ar),Ut(wr,"UninitializedPropertyAccessException",Mt,ar),st(s).h=function(e){var t;e:if(Gt(this,Me)&&this.j())t=!1;else{for(var r=this.b();r.c();)if(ut(r.d(),e)){t=!0;break e}t=!1}return t},st(s).k=function(e){var t;e:if(Gt(e,Me)&&e.j())t=!0;else{for(var r=e.b();r.c();){var n=r.d();if(!this.h(n)){t=!1;break e}}t=!0}return t},st(s).j=function(){return 0===this.e()},st(s).toString=function(){return o(this,", ","[","]",Qr,Qr,(e=this,function(t){return t===e?"(this Collection)":He(t)}));var e},st(s).toArray=function(){return W(this)},st(l).l=function(e,t){if(e<0||e>=t)throw $t("index: "+e+", size: "+t)},st(l).m=function(e,t){if(e<0||e>t)throw $t("index: "+e+", size: "+t)},st(l).n=function(e,t,r){if(e<0||t>r)throw $t("fromIndex: "+e+", toIndex: "+t+", size: "+r);if(e>t)throw Qt("fromIndex: "+e+" > toIndex: "+t)},st(l).o=function(e){for(var t=1,r=e.b();r.c();){var n=r.d(),o=Zr(31,t),i=null==n?null:at(n);t=o+(null==i?0:i)|0}return t},st(l).p=function(e,t){if(e.e()!==t.e())return!1;for(var r=t.b(),n=e.b();n.c();)if(!ut(n.d(),r.d()))return!1;return!0},st(d).c=function(){return this.q_1.c()},st(d).d=function(){return this.q_1.d().r()},st(v).t=function(e){var t=e.r(),r=null==t?null:at(t),n=null==r?0:r,o=e.u(),i=null==o?null:at(o);return n^(null==i?0:i)},st(v).v=function(e){return He(e.r())+"="+He(e.u())},st(v).w=function(e,t){return!(null==t||!Gt(t,Ve))&&!!ut(e.r(),t.r())&&ut(e.u(),t.u())},st(m).y=function(e){return this.x_1.b1(e)},st(m).h=function(e){return!(null!=e&&!Yt(e))&&this.y(null==e||Yt(e)?e:pt())},st(m).b=function(){return new d(this.x_1.s().b())},st(m).e=function(){return this.x_1.e()},st(g).b1=function(e){return!(null==p(this,e))},st(g).d1=function(e){if(null==e||!Gt(e,Ve))return!1;var t=e.r(),r=e.u(),n=(Gt(this,Be)?this:pt()).e1(t);return!!ut(r,n)&&!(null==n&&!(Gt(this,Be)?this:pt()).b1(t))},st(g).equals=function(e){if(e===this)return!0;if(null==e||!Gt(e,Be))return!1;if(this.e()!==e.e())return!1;var t;e:{var r=e.s();if(Gt(r,Me)&&r.j())t=!0;else{for(var n=r.b();n.c();){var o=n.d();if(!this.d1(o)){t=!1;break e}}t=!0}}return t},st(g).e1=function(e){var t=p(this,e);return null==t?null:t.u()},st(g).hashCode=function(){return at(this.s())},st(g).j=function(){return 0===this.e()},st(g).e=function(){return this.s().e()},st(g).f1=function(){return null==this.z_1&&(this.z_1=new m(this)),ht(this.z_1)},st(g).toString=function(){var e;return o(this.s(),", ","{","}",Qr,Qr,(e=this,function(t){return e.c1(t)}))},st(g).c1=function(e){return h(this,e.r())+"="+h(this,e.u())},st(b).g1=function(e){for(var t=0,r=e.b();r.c();){var n=r.d(),o=t,i=null==n?null:at(n);t=o+(null==i?0:i)|0}return t},st(b).h1=function(e,t){return e.e()===t.e()&&e.k(t)},st(S).equals=function(e){return e===this||!(null==e||!Gt(e,Ge))&&w().h1(this,e)},st(S).hashCode=function(){return w().g1(this)},st(A).p1=function(e,t){var r=e+(e>>1)|0;return(r-t|0)<0&&(r=t),(r-2147483639|0)>0&&(r=t>2147483639?(null==xr&&new G,xr).MAX_VALUE:2147483639),r},st(P).e=function(){return this.l1_1},st(P).j=function(){return 0===this.l1_1},st(P).q1=function(e){E(this,this.l1_1+1|0),this.j1_1=_(this,this.j1_1),this.k1_1[this.j1_1]=e,this.l1_1=this.l1_1+1|0},st(P).r1=function(e){E(this,this.l1_1+1|0);var t=this.k1_1,r=this.l1_1;t[O(this,this.j1_1+r|0)]=e,this.l1_1=this.l1_1+1|0},st(P).s1=function(){if(this.j())throw cr("ArrayDeque is empty.");var e=this.j1_1,t=this.k1_1[e],r=null==t||Yt(t)?t:pt();return this.k1_1[this.j1_1]=null,this.j1_1=k(this,this.j1_1),this.l1_1=this.l1_1-1|0,r},st(P).t1=function(){return this.j()?null:this.s1()},st(P).u1=function(){if(this.j())throw cr("ArrayDeque is empty.");var e=j(this),t=O(this,this.j1_1+e|0),r=this.k1_1[t],n=null==r||Yt(r)?r:pt();return this.k1_1[t]=null,this.l1_1=this.l1_1-1|0,n},st(P).g=function(e){return this.r1(e),!0},st(P).v1=function(e,t){if(f().m(e,this.l1_1),e===this.l1_1)return this.r1(t),U();if(0===e)return this.q1(t),U();E(this,this.l1_1+1|0);var r=O(this,this.j1_1+e|0);if(e<(this.l1_1+1|0)>>1){var n=_(this,r),o=_(this,this.j1_1);if(n>=this.j1_1){this.k1_1[o]=this.k1_1[this.j1_1];var i=this.k1_1,a=this.k1_1;Q(i,a,this.j1_1,this.j1_1+1|0,n+1|0)}else{var u=this.k1_1,c=this.k1_1;Q(u,c,this.j1_1-1|0,this.j1_1,this.k1_1.length),this.k1_1[this.k1_1.length-1|0]=this.k1_1[0];var s=this.k1_1,l=this.k1_1;Q(s,l,0,1,n+1|0)}this.k1_1[n]=t,this.j1_1=o}else{var d=this.l1_1,h=O(this,this.j1_1+d|0);if(r<h){var p=this.k1_1,v=this.k1_1;Q(p,v,r+1|0,r,h)}else{var y=this.k1_1,m=this.k1_1;Q(y,m,1,0,h),this.k1_1[0]=this.k1_1[this.k1_1.length-1|0];var g=this.k1_1,b=this.k1_1;Q(g,b,r+1|0,r,this.k1_1.length-1|0)}this.k1_1[r]=t}this.l1_1=this.l1_1+1|0},st(P).f=function(e){f().l(e,this.l1_1);var t=O(this,this.j1_1+e|0),r=this.k1_1[t];return null==r||Yt(r)?r:pt()},st(P).w1=function(e,t){f().l(e,this.l1_1);var r=O(this,this.j1_1+e|0),n=this.k1_1[r],o=null==n||Yt(n)?n:pt();return this.k1_1[r]=t,o},st(P).h=function(e){return!(-1===this.i(e))},st(P).i=function(e){var t=this.l1_1,r=O(this,this.j1_1+t|0);if(this.j1_1<r){var n=this.j1_1;if(n<r)do{var o=n;if(n=n+1|0,ut(e,this.k1_1[o]))return o-this.j1_1|0}while(n<r)}else if(this.j1_1>=r){var i=this.j1_1,a=this.k1_1.length;if(i<a)do{var u=i;if(i=i+1|0,ut(e,this.k1_1[u]))return u-this.j1_1|0}while(i<a);var c=0;if(c<r)do{var s=c;if(c=c+1|0,ut(e,this.k1_1[s]))return(s+this.k1_1.length|0)-this.j1_1|0}while(c<r)}return-1},st(P).x1=function(e){if(f().l(e,this.l1_1),e===j(this))return this.u1();if(0===e)return this.s1();var t=O(this,this.j1_1+e|0),r=this.k1_1[t],n=null==r||Yt(r)?r:pt();if(e<this.l1_1>>1){if(t>=this.j1_1){var o=this.k1_1,i=this.k1_1;Q(o,i,this.j1_1+1|0,this.j1_1,t)}else{var a=this.k1_1,u=this.k1_1;Q(a,u,1,0,t),this.k1_1[0]=this.k1_1[this.k1_1.length-1|0];var c=this.k1_1,s=this.k1_1;Q(c,s,this.j1_1+1|0,this.j1_1,this.k1_1.length-1|0)}this.k1_1[this.j1_1]=null,this.j1_1=k(this,this.j1_1)}else{var l=j(this),d=O(this,this.j1_1+l|0);if(t<=d){var h=this.k1_1,p=this.k1_1;Q(h,p,t,t+1|0,d+1|0)}else{var v=this.k1_1,y=this.k1_1;Q(v,y,t,t+1|0,this.k1_1.length),this.k1_1[this.k1_1.length-1|0]=this.k1_1[0];var m=this.k1_1,g=this.k1_1;Q(m,g,0,1,d+1|0)}this.k1_1[d]=null}return this.l1_1=this.l1_1-1|0,n},st(P).y1=function(e){var t,r=e.length>=this.l1_1?e:(t=this.l1_1,qe(Array(t),null)),n=Ht(r)?r:pt(),o=this.l1_1,i=O(this,this.j1_1+o|0);return this.j1_1<i?Q(this.k1_1,n,0,this.j1_1,i):this.j()||(Q(this.k1_1,n,0,this.j1_1,this.k1_1.length),Q(this.k1_1,n,this.k1_1.length-this.j1_1|0,0,i)),n.length>this.l1_1&&(n[this.l1_1]=null),Ht(n)?n:pt()},st(P).z1=function(){var e,t=this.l1_1;return e=qe(Array(t),null),this.y1(e)},st(P).toArray=function(){return this.z1()},st(R).equals=function(e){return!(null==e||!Gt(e,Fe))&&e.j()},st(R).hashCode=function(){return 1},st(R).toString=function(){return"[]"},st(R).e=function(){return 0},st(R).j=function(){return!0},st(R).d2=function(e){return!1},st(R).h=function(e){return!1},st(R).e2=function(e){return e.j()},st(R).k=function(e){return this.e2(e)},st(R).f=function(e){throw $t("Empty list doesn't contain element at index "+e+".")},st(R).f2=function(e){return-1},st(R).i=function(e){return-1},st(R).b=function(){return null==Ar&&new L,Ar},st(L).c=function(){return!1},st(L).d=function(){throw ur()},st(I).e=function(){return this.g2_1.length},st(I).j=function(){return 0===this.g2_1.length},st(I).i2=function(e){return function(e,t){return n(e,t)>=0}(this.g2_1,e)},st(I).h=function(e){return!(null!=e&&!Yt(e))&&this.i2(null==e||Yt(e)?e:pt())},st(I).j2=function(e){var t;e:if(Gt(e,Me)&&e.j())t=!0;else{for(var r=e.b();r.c();){var n=r.d();if(!this.i2(n)){t=!1;break e}}t=!0}return t},st(I).k=function(e){return this.j2(e)},st(I).b=function(){return We(this.g2_1)},st(C).p2=function(e,t){return tt(t,e)},st(C).compare=function(e,t){var r=null!=e&&qt(e)?e:pt();return this.p2(r,null!=t&&qt(t)?t:pt())},st(N).toString=function(){return"("+this.k2_1+", "+this.l2_1+")"},st(N).m2=function(){return this.k2_1},st(N).n2=function(){return this.l2_1},st(N).hashCode=function(){var e=null==this.k2_1?0:at(this.k2_1);return e=Zr(e,31)+(null==this.l2_1?0:at(this.l2_1))|0},st(N).equals=function(e){if(this===e)return!0;if(!(e instanceof N))return!1;var t=e instanceof N?e:pt();return!!ut(this.k2_1,t.k2_1)&&!!ut(this.l2_1,t.l2_1)},st(B).toString=function(){return"kotlin.Unit"},st(G).t2=function(){return this.MIN_VALUE},st(G).u2=function(){return this.MAX_VALUE},st(G).v2=function(){return this.SIZE_BYTES},st(G).w2=function(){return this.SIZE_BITS},st(H).t2=function(){return this.MIN_VALUE},st(H).u2=function(){return this.MAX_VALUE},st(H).x2=function(){return this.POSITIVE_INFINITY},st(H).y2=function(){return this.NEGATIVE_INFINITY},st(H).z2=function(){return this.NaN},st(H).v2=function(){return this.SIZE_BYTES},st(H).w2=function(){return this.SIZE_BITS},st($).a3=function(e){this.b2();for(var t=this.b();t.c();)if(ut(t.d(),e))return t.b3(),!0;return!1},st($).toJSON=function(){return this.toArray()},st($).b2=function(){},st(J).c=function(){return this.c3_1<this.e3_1.e()},st(J).d=function(){if(!this.c())throw ur();var e=this.c3_1;return this.c3_1=e+1|0,this.d3_1=e,this.e3_1.f(this.d3_1)},st(J).b3=function(){if(-1===this.d3_1)throw Xt(it("Call next() or previous() before removing element from the iterator."));this.e3_1.x1(this.d3_1),this.c3_1=this.d3_1,this.d3_1=-1},st(X).g=function(e){return this.b2(),this.v1(this.e(),e),!0},st(X).b=function(){return new J(this)},st(X).h=function(e){return this.i(e)>=0},st(X).i=function(e){var t=0,r=j(this);if(t<=r)do{var n=t;if(t=t+1|0,ut(this.f(n),e))return n}while(n!==r);return-1},st(X).equals=function(e){return e===this||!(null==e||!Gt(e,Fe))&&f().p(this,e)},st(X).hashCode=function(){return f().o(this)},st(ee).c=function(){return this.f3_1.c()},st(ee).d=function(){return this.f3_1.d().r()},st(ee).b3=function(){return this.f3_1.b3()},st(te).r=function(){return this.g3_1},st(te).u=function(){return this.h3_1},st(te).i3=function(e){var t=this.h3_1;return this.h3_1=e,t},st(te).hashCode=function(){return y().t(this)},st(te).toString=function(){return y().v(this)},st(te).equals=function(e){return y().w(this,e)},st(re).h=function(e){return this.j3(e)},st(re).a3=function(e){return this.k3(e)},st(ne).m3=function(e){throw fr("Add is not supported on keys")},st(ne).g=function(e){return this.m3(null==e||Yt(e)?e:pt())},st(ne).y=function(e){return this.l3_1.b1(e)},st(ne).h=function(e){return!(null!=e&&!Yt(e))&&this.y(null==e||Yt(e)?e:pt())},st(ne).b=function(){return new ee(this.l3_1.s().b())},st(ne).n3=function(e){return this.b2(),!!this.l3_1.b1(e)&&(this.l3_1.n3(e),!0)},st(ne).a3=function(e){return!(null!=e&&!Yt(e))&&this.n3(null==e||Yt(e)?e:pt())},st(ne).e=function(){return this.l3_1.e()},st(ne).b2=function(){return this.l3_1.b2()},st(oe).f1=function(){return null==this.q3_1&&(this.q3_1=new ne(this)),ht(this.q3_1)},st(oe).n3=function(e){this.b2();for(var t=this.s().b();t.c();){var r=t.d();if(ut(e,r.r())){var n=r.u();return t.b3(),n}}return null},st(oe).b2=function(){},st(ie).equals=function(e){return e===this||!(null==e||!Gt(e,Ge))&&w().h1(this,e)},st(ie).hashCode=function(){return w().g1(this)},st(se).e=function(){return this.t3_1.length},st(se).f=function(e){var t=this.t3_1[ce(this,e)];return null==t||Yt(t)?t:pt()},st(se).w1=function(e,t){this.b2(),ce(this,e);var r=this.t3_1[e];this.t3_1[e]=t;var n=r;return null==n||Yt(n)?n:pt()},st(se).g=function(e){this.b2(),this.t3_1.push(e);var t=this.a2_1;return this.a2_1=t+1|0,!0},st(se).v1=function(e,t){this.b2(),this.t3_1.splice(function(e,t){return f().m(t,e.e()),t}(this,e),0,t);var r=this.a2_1;this.a2_1=r+1|0},st(se).x1=function(e){this.b2(),ce(this,e);var t=this.a2_1;return this.a2_1=t+1|0,e===j(this)?this.t3_1.pop():this.t3_1.splice(e,1)[0]},st(se).i=function(e){return n(this.t3_1,e)},st(se).toString=function(){return e=this.t3_1,t=(t=", ")===Qr?", ":t,r=(r="[")===Qr?"":r,n=(n="]")===Qr?"":n,o=(o=Qr)===Qr?-1:o,i=(i=Qr)===Qr?"...":i,a=(a=et)===Qr?null:a,function(e,t,r,n,o,i,a,u){r=r===Qr?", ":r,n=n===Qr?"":n,o=o===Qr?"":o,i=i===Qr?-1:i,a=a===Qr?"...":a,u=u===Qr?null:u,t.a(n);var c=0,s=e,l=0,f=s.length;e:for(;l<f;){var d=s[l];if(l=l+1|0,(c=c+1|0)>1&&t.a(r),!(i<0||c<=i))break e;D(t,d,u)}return i>=0&&c>i&&t.a(a),t.a(o),t}(e,je(),t,r,n,o,i,a).toString();var e,t,r,n,o,i,a},st(se).z1=function(){return[].slice.call(this.t3_1)},st(se).toArray=function(){return this.z1()},st(se).b2=function(){if(this.u3_1)throw lr()},st(de).v3=function(e,t){return ut(e,t)},st(de).w3=function(e){var t=null==e?null:at(e);return null==t?0:t},st(he).y3=function(e){throw fr("Add is not supported on entries")},st(he).g=function(e){return this.y3(null!=e&&Gt(e,Ue)?e:pt())},st(he).j3=function(e){return this.x3_1.d1(e)},st(he).b=function(){return this.x3_1.d4_1.b()},st(he).k3=function(e){return!!c(this,e)&&(this.x3_1.n3(e.r()),!0)},st(he).e=function(){return this.x3_1.e()},st(ve).h4=function(){this.d4_1.h4()},st(ve).b1=function(e){return this.d4_1.y(e)},st(ve).s=function(){return null==this.f4_1&&(this.f4_1=this.i4()),ht(this.f4_1)},st(ve).i4=function(){return new he(this)},st(ve).e1=function(e){return this.d4_1.e1(e)},st(ve).o2=function(e,t){return this.d4_1.o2(e,t)},st(ve).n3=function(e){return this.d4_1.n3(e)},st(ve).e=function(){return this.d4_1.e()},st(ye).g=function(e){return null==this.j4_1.o2(e,this)},st(ye).h4=function(){this.j4_1.h4()},st(ye).h=function(e){return this.j4_1.b1(e)},st(ye).j=function(){return this.j4_1.j()},st(ye).b=function(){return this.j4_1.f1().b()},st(ye).a3=function(e){return!(null==this.j4_1.n3(e))},st(ye).e=function(){return this.j4_1.e()},st(we).c=function(){return-1===this.k4_1&&(this.k4_1=function(e){if(null!=e.n4_1&&e.o4_1){var t=e.n4_1,r=t.length,n=e;if(n.p4_1=n.p4_1+1|0,n.p4_1<r)return 0}var o=e;if(o.m4_1=o.m4_1+1|0,o.m4_1<e.l4_1.length){e.n4_1=e.r4_1.t4_1[e.l4_1[e.m4_1]];var i=e,a=e.n4_1;return i.o4_1=null!=a&&Ht(a),e.p4_1=0,0}return e.n4_1=null,1}(this)),0===this.k4_1},st(we).d=function(){if(!this.c())throw ur();var e=this.o4_1?this.n4_1[this.p4_1]:this.n4_1;return this.q4_1=e,this.k4_1=-1,e},st(we).b3=function(){var e=this.q4_1;if(null==e)throw Xt(it("Required value was null."));this.r4_1.n3(ht(this.q4_1).r()),this.q4_1=null;var t=this.p4_1;this.p4_1=t-1|0},st(Se).g4=function(){return this.s4_1},st(Se).e=function(){return this.u4_1},st(Se).o2=function(e,t){var r=this.s4_1.w3(e),n=be(this,r);if(null==n)this.t4_1[r]=new te(e,t);else{if(null==n||!Ht(n)){var o,i=n;if(this.s4_1.v3(i.r(),e))return i.i3(t);o=[i,new te(e,t)],this.t4_1[r]=o;var a=this.u4_1;return this.u4_1=a+1|0,null}var u=n,c=ge(u,this,e);if(null!=c)return c.i3(t);u.push(new te(e,t))}var s=this.u4_1;return this.u4_1=s+1|0,null},st(Se).n3=function(e){var t=this.s4_1.w3(e),r=be(this,t);if(null==r)return null;var n=r;if(null==n||!Ht(n)){var o=n;if(this.s4_1.v3(o.r(),e)){delete this.t4_1[t],U();var i=this.u4_1;return this.u4_1=i-1|0,o.u()}return null}var a=n,u=0,c=a.length-1|0;if(u<=c)do{var s=u;u=u+1|0;var l=a[s];if(this.s4_1.v3(e,l.r())){1===a.length?(a.length=0,delete this.t4_1[t],U()):a.splice(s,1);var f=this.u4_1;return this.u4_1=f-1|0,l.u()}}while(u<=c);return null},st(Se).h4=function(){this.t4_1=this.v4(),this.u4_1=0},st(Se).y=function(e){return!(null==me(this,e))},st(Se).e1=function(e){var t=me(this,e);return null==t?null:t.u()},st(Se).b=function(){return new we(this)},st(Oe).c=function(){return!(null===this.x4_1)},st(Oe).d=function(){if(!this.c())throw ur();var e=ht(this.x4_1);this.w4_1=e;var t,r=e.m5_1;return t=r!==this.y4_1.j5_1.g5_1?r:null,this.x4_1=t,e},st(Oe).b3=function(){if(null==this.w4_1)throw Xt(it("Check failed."));this.y4_1.b2(),Ae(ht(this.w4_1),this.y4_1.j5_1),this.y4_1.j5_1.h5_1.n3(ht(this.w4_1).r()),this.w4_1=null},st(ke).i3=function(e){return this.o5_1.b2(),st(te).i3.call(this,e)},st(_e).y3=function(e){throw fr("Add is not supported on entries")},st(_e).g=function(e){return this.y3(null!=e&&Gt(e,Ue)?e:pt())},st(_e).j3=function(e){return this.j5_1.d1(e)},st(_e).b=function(){return new Oe(this)},st(_e).k3=function(e){return this.b2(),!!c(this,e)&&(this.j5_1.n3(e.r()),!0)},st(_e).e=function(){return this.j5_1.e()},st(_e).b2=function(){return this.j5_1.b2()},st(xe).h4=function(){this.b2(),this.h5_1.h4(),this.g5_1=null},st(xe).b1=function(e){return this.h5_1.b1(e)},st(xe).i4=function(){return new _e(this)},st(xe).e1=function(e){var t=this.h5_1.e1(e);return null==t?null:t.u()},st(xe).o2=function(e,t){this.b2();var r=this.h5_1.e1(e);if(null==r){var n=new ke(this,e,t);return this.h5_1.o2(e,n),function(e,t){if(null!=e.m5_1||null!=e.n5_1)throw Xt(it("Check failed."));var r=t.g5_1;if(null==r)t.g5_1=e,e.m5_1=e,e.n5_1=e;else{var n=r.n5_1;if(null==n)throw Xt(it("Required value was null."));var o=n;e.n5_1=o,e.m5_1=r,r.n5_1=e,o.m5_1=e}}(n,this),null}return r.i3(t)},st(xe).n3=function(e){this.b2();var t=this.h5_1.n3(e);return null!=t?(Ae(t,this),t.u()):null},st(xe).e=function(){return this.h5_1.e()},st(xe).b2=function(){if(this.i5_1)throw lr()},st(Re).b2=function(){return this.j4_1.b2()},st(Ie).r2=function(e){return this.q5_1=this.q5_1+new Ne(e),this},st(Ie).a=function(e){return this.q5_1=this.q5_1+He(e),this},st(Ie).toString=function(){return this.q5_1},st(Ne).b6=function(e){return Ce(this.q2_1,e)},st(Ne).s2=function(e){return function(e,t){return Ce(e.q2_1,t instanceof Ne?t.q2_1:pt())}(this,e)},st(Ne).equals=function(e){return function(e,t){return t instanceof Ne&&e===t.q2_1}(this.q2_1,e)},st(Ne).hashCode=function(){return this.q2_1},st(Ne).toString=function(){return e=this.q2_1,String.fromCharCode(e);var e},st(Ke).c=function(){return!(this.c6_1===this.d6_1.length)},st(Ke).d=function(){if(this.c6_1===this.d6_1.length)throw cr(""+this.c6_1);var e=this.c6_1;return this.c6_1=e+1|0,this.d6_1[e]},st(yt).l6=function(e){return Et(this,e)},st(yt).s2=function(e){return this.l6(e instanceof yt?e:pt())},st(yt).m6=function(e){return Ot(this,e)},st(yt).n6=function(e){return function(e,t){if(Ft(),Rt(t))throw rr("division by zero");if(Rt(e))return mt();if(Tt(e,wt())){if(Tt(t,gt())||Tt(t,bt()))return wt();if(Tt(t,wt()))return gt();var r=function(e,t){Ft();var r=63&t;return 0===r?e:r<32?new yt(e.e6_1<<r,e.f6_1<<r|e.e6_1>>>(32-r|0)|0):new yt(0,e.e6_1<<(r-32|0))}(function(e,t){Ft();var r=63&t;return 0===r?e:r<32?new yt(e.e6_1>>>r|0|e.f6_1<<(32-r|0),e.f6_1>>r):new yt(e.f6_1>>(r-32|0),e.f6_1>=0?0:-1)}(e,1).n6(t),1);if(Tt(r,mt()))return xt(t)?gt():bt();var n=kt(e,_t(t,r));return Ot(r,n.n6(t))}if(Tt(t,wt()))return mt();if(xt(e))return xt(t)?jt(e).n6(jt(t)):jt(jt(e).n6(t));if(xt(t))return jt(e.n6(jt(t)));for(var o=mt(),i=e;Nt(i,t);){for(var a=At(i)/At(t),u=Math.max(1,Math.floor(a)),c=Math.ceil(Math.log(u)/Math.LN2),s=c<=48?1:Math.pow(2,c-48),l=Ct(u),f=_t(l,t);xt(f)||Dt(f,i);)l=Ct(u-=s),f=_t(l,t);Rt(l)&&(l=gt()),o=Ot(o,l),i=kt(i,f)}return o}(this,e)},st(yt).o6=function(){return this.p6().m6(new yt(1,0))},st(yt).p6=function(){return new yt(~this.e6_1,~this.f6_1)},st(yt).q6=function(){return this.e6_1},st(yt).g6=function(){return At(this)},st(yt).valueOf=function(){return this.g6()},st(yt).equals=function(e){return e instanceof yt&&Tt(this,e)},st(yt).hashCode=function(){return e=this,Ft(),e.e6_1^e.f6_1;var e},st(yt).toString=function(){return function e(t,r){if(Ft(),r<2||36<r)throw rr("radix out of range: "+r);if(Rt(t))return"0";if(xt(t)){if(Tt(t,wt())){var n=Pt(r),o=t.n6(n),i=kt(_t(o,n),t).q6(),a=e(o,r),u=i.toString(r);return a+u}return"-"+e(jt(t),r)}for(var c=2===r?31:r<=10?9:r<=21?7:r<=35?6:5,s=Ct(Math.pow(r,c)),l=t,f="";;){var d=l.n6(s),h=kt(l,_t(d,s)).q6(),p=h.toString(r),v=p;if(Rt(l=d))return v+f;for(;v.length<c;)v="0"+v;f=v+f}}(this,10)},st(Se).v4=function(){var e=Object.create(null);return e.foo=1,delete e.foo,U(),e},Lr=null,e.$_$=e.$_$||{},e.$_$.a=function(){return e=lt(st(P)),X.call(e),P.call(e),e.k1_1=T().m1_1,e;var e},e.$_$.b=ae,e.$_$.c=Pe,e.$_$.d=function(){return e=lt(st(Re)),function(e,t){ie.call(t),ye.call(t),t.j4_1=e}(Pe(),e),Re.call(e),e;var e},e.$_$.e=ur,e.$_$.f=function e(t){var r=ir(t,lt(st(ar)));return ct(r,e),r},e.$_$.g=Y,e.$_$.h=U,e.$_$.i=z,e.$_$.j=function(e){return n=(t=[e]).length,function(e,t){for(var r=t,n=0,o=r.length;n<o;){var i=r[n];n=n+1|0;var a=i.m2(),u=i.n2();e.o2(a,u)}}(r=function(e,t){return function(e,t,r){if(pe(r),!(e>=0))throw Qt(it("Negative initial capacity: "+e));if(!(t>=0))throw Qt(it("Non-positive load factor: "+t))}(e,0,t),t}(n,lt(st(ve))),t),r;var t,r,n},e.$_$.k=function(e){return function(e,t){if(Gt(e,Me)){if(e.e()<=1)return i(e);var r=z(e),n=Ht(r)?r:pt();return function(e,t){e.length>1&&le(e,t)}(n,t),function(e){return new se(e)}(n)}var o=u(e);return function(e,t){!function(e,t){if(e.e()<=1)return U();var r=z(e);le(r,t);var n=0,o=r.length;if(n<o)do{var i=n;n=n+1|0,e.w1(i,r[i])}while(n<o)}(e,t)}(o,t),o}(e,(null==Tr&&new C,Gt(t=Tr,q)?t:pt()));var t},e.$_$.l=i,e.$_$.m=We,e.$_$.n=Mt,e.$_$.o=tt,e.$_$.p=function(e,t,r,n){return Object.defineProperty(e,t,{configurable:!0,get:r,set:n})},e.$_$.q=ut,e.$_$.r=Wt,e.$_$.s=function(e){return e instanceof yt?e:Ct(e)},e.$_$.t=zt,e.$_$.u=st,e.$_$.v=Ut,e.$_$.w=it,e.$_$.x=yt,e.$_$.y=function(e){return!function(e){var t;return Y(),e===1/0?t=!0:(Y(),t=e===-1/0),t}(e)&&!Le(e)},e.$_$.z=Le,e.$_$.a1=function(e,t){return new N(e,t)},e.$_$.b1=Qr,e})?n.apply(t,o):n)||(e.exports=i)},34204:function(e,t,r){var n,o,i;o=[t,r(50041)],void 0===(i="function"===typeof(n=function(e,t){"use strict";function r(e,t){return e=e===_e?null:e,this.h7(e)}function n(){ne=this,this.x6_1=(new K).getValue()}function o(){return null==ne&&new n,ne}function i(e){o(),this.t6_1=e;var t=this.t6_1;this.u6_1=null==t?null:t.flags;var r=this.t6_1;this.v6_1=new y(null==r?null:r.skippableFragments),this.w6_1=function(e){var t,r=e.t6_1;if(null!=(null==r?null:r.rules)){for(var n=Se(),o=e.t6_1.rules,i=Ee(o);i.c();){var a=i.d(),u=a.priority,c=a.rules;n.o2(u,c)}t=n}else{var s=[e.v6_1,new m];t=we(be(0,s))}return t}(this)}function a(e,t,r){this.disableDynamicBuffer=e,this.lowBufferBeforeStart=t,this.defaultBuffer=r}function u(e,t,r){this.skippableFragments=e,this.flags=t,this.rules=r}function c(){}function s(e,t,r){r=r!==_e&&r,this.startTime=e,this.endTime=t,this.autoSkip=r}function l(e,t,r){this.watchedTime=e,this.currentTime=t,this.flags=r}function f(){return oe}function d(e){e=e===_e?null:e,this.n7_1=e}function h(e){e=e===_e?null:e,this.o7_1=e}function p(e,t){this.watchedTime=e,this.currentTime=t}function v(e,t){this.priority=e,this.rules=t}function y(e){e=e===_e?null:e,this.y6_1=e}function m(){}function g(){fe=this,this.q7_1=null,this.r7_1=new te}function b(){return null==fe&&new g,fe}function w(e){var t,r,n;b(),e===_e?(Ie(),t=NaN):t=e,e=t,r=Ce(),this.w7_1=r,this.x7_1=new k(e,!0),this.y7_1=(n=this,function(e){return n.sample(e.durationMs,e.sizeBytes),ge()})}function S(e){Ie(),this.z7_1=NaN,this.a8_1=0,this.b8_1=0,this.c8(e)}function E(){he=this,this.f8_1=new _(5,2),this.g8_1=new _(2,1)}function O(){return null==he&&new E,he}function k(e,t){var r;O(),e===_e?(Ie(),r=NaN):r=e,e=r,t=t!==_e&&t,this.h8_1=e,this.i8_1=t,this.j8_1=new S(O().f8_1.fast),this.k8_1=new S(O().f8_1.slow),this.l8_1=0,this.m8_1=new J}function _(e,t){this.slow=e,this.fast=t}function A(e,t){e=e===_e?null:e,t=t===_e?null:t,this.okMessage=e,this.errorMessage=t}function T(e,t){this.value=e,this.source=t}function P(){ve=this,this.MAX="max",this.MIN="min",this.DEFAULT="default"}function x(){return null==ve&&new P,ve}function R(){x()}function L(e,t){Be(t)&&function(e,t){for(e.b9_1.g(t);e.b9_1.l1_1>20;)e.b9_1.t1()}(e,t)}function j(e){var t=e.b9_1.b();if(!t.c())throw Ue();for(var r=t.d();t.c();){var n=t.d(),o=r;r=Math.max(o,n)}return r}function I(){this.b9_1=Ge()}function C(e,t,r){this.hasGoodEstimate=e,this.value=t,this.history=r}function D(e,t,r){r=r!==_e&&r,this.durationMs=e,this.sizeBytes=t,this.isLowLatency=r}function N(e,t){var r,n=G().h9_1;if(ee().t7_1){var o,i=t.sizeBytes;if(Be(i)){var a=e;a.k9_1=a.k9_1+i,o=ge()}r=o}else{var u;e:{var c=n.u7_1;try{if(c.v7_1.h(c))throw je("runLocked: recursion lock error");c.v7_1.g(c);var s,l=t.sizeBytes;if(Be(l)){var f=e;f.k9_1=f.k9_1+l,s=ge()}u=s;break e}finally{c.v7_1.a3(c)}}r=u}return r}function F(e,t){var r,n=G().h9_1;if(ee().t7_1){var o=e.p9_1.e1(t),i=null==o?null:o.t9_1,a=null==i?0:i,u=e.p9_1.e1(t);null==u||(u.t9_1=a+1|0);var c,s=e,l=s.l9_1;if(s.l9_1=l+1|0,e.m9_1)c=!0;else{var f=e.s9_1;c=!0===(null==f?null:f.y9())}if(c)return ge();e.m9_1=!0,e.n9_1=e.i9_1.create();var d,h=e.s9_1;null==h?d=null:(h.start(),d=ge()),r=d}else{var p;e:{var v=n.u7_1;try{if(v.v7_1.h(v))throw je("runLocked: recursion lock error");v.v7_1.g(v);var y=e.p9_1.e1(t),m=null==y?null:y.t9_1,g=null==m?0:m,b=e.p9_1.e1(t);null==b||(b.t9_1=g+1|0);var w,S=e,E=S.l9_1;if(S.l9_1=E+1|0,e.m9_1)w=!0;else{var O=e.s9_1;w=!0===(null==O?null:O.y9())}if(w)return ge();e.m9_1=!0,e.n9_1=e.i9_1.create();var k,_=e.s9_1;null==_?k=null:(_.start(),k=ge()),p=k;break e}finally{v.v7_1.a3(v)}}r=p}return r}function M(e,t){var r,n=G().h9_1;if(ee().t7_1){var o=e.p9_1.e1(t),i=null==o?null:o.t9_1,a=null==i?0:i,u=e.p9_1.e1(t);if(null==u);else{var c,s=u,l=a-1|0;c=Math.max(l,0),s.t9_1=c}var f,d=e,h=e.l9_1-1|0;f=Math.max(h,0),d.l9_1=f,r=ge()}else{var p;e:{var v=n.u7_1;try{if(v.v7_1.h(v))throw je("runLocked: recursion lock error");v.v7_1.g(v);var y=e.p9_1.e1(t),m=null==y?null:y.t9_1,g=null==m?0:m,b=e.p9_1.e1(t);if(null==b);else{var w,S=b,E=g-1|0;w=Math.max(E,0),S.t9_1=w}var O,k=e,_=e.l9_1-1|0;O=Math.max(_,0),k.l9_1=O,p=ge();break e}finally{v.v7_1.a3(v)}}r=p}return r}function V(e){var t=e.n9_1,r=null==t?null:t.getDurationMs();return null==r?0:r}function B(e,t,r){e=e===_e?0:e,this.t9_1=e,this.u9_1=t,this.v9_1=r}function U(){ye=this,this.h9_1=new te}function G(){return null==ye&&new U,ye}function H(e,t){var r;G(),t=t===_e?null:t,this.i9_1=e,this.j9_1=t,this.k9_1=0,this.l9_1=0,this.m9_1=!1,this.n9_1=null,this.o9_1=new Z,r=Se(),this.p9_1=r;var n=this.j9_1,o=null==n?null:n.experimentalFlags;this.q9_1=null==o?null:o.experimentalEmitZeroProgressAfterTimeMs;var i=this.j9_1,a=null==i?null:i.experimentalFlags,u=null==a?null:a.experimentalCallProcessAfterLastResponseEnd;this.r9_1=null!=u&&u;var c,s,l,f,d,h=this.j9_1,p=null==h?null:h.experimentalFlags,v=null==p?null:p.experimentalProcessIntervalMs,y=null==v?100:v,m=this.j9_1,g=null==m?null:m.intervalTaskFactory;s=null==g?null:g.create((l=this,(f=function(){return l.process(),ge()}).callableName="process",f),y),d=null==s?null:new $(s),c=d,this.s9_1=c}function Y(e,t,r){e=e===_e?null:e,t=t===_e?null:t,r=r===_e?null:r,this.experimentalEmitZeroProgressAfterTimeMs=e,this.experimentalProcessIntervalMs=t,this.experimentalCallProcessAfterLastResponseEnd=r}function q(e,t){e=e===_e?null:e,t=t===_e?null:t,this.intervalTaskFactory=e,this.experimentalFlags=t}function W(){this.ga_1=null,this.ha_1=null,this.ia_1=null}function K(e){e=e===_e?null:e,this.ja_1=e}function z(e){e=e===_e?null:e,this.ka_1=e}function Q(e){e=e===_e?null:e,this.la_1=e}function Z(){var e;e=Ce(),this.z9_1=e}function $(e){this.w9_1=e,this.x9_1=!1}function J(e){var t;e=e===_e?null:e,this.o8_1=e,t=Ce(),this.p8_1=t}function X(){me=this,this.t7_1=!1}function ee(){return null==me&&new X,me}function te(){ee(),this.u7_1=new re}function re(){var e;e=Ce(),this.v7_1=e}var ne,oe,ie,ae,ue,ce,se,le,fe,de,he,pe,ve,ye,me,ge=t.$_$.h,be=t.$_$.a1,we=t.$_$.j,Se=t.$_$.c,Ee=t.$_$.m,Oe=t.$_$.u,ke=t.$_$.t,_e=t.$_$.b1,Ae=t.$_$.v,Te=t.$_$.n,Pe=t.$_$.k,xe=t.$_$.b,Re=t.$_$.o,Le=t.$_$.r,je=t.$_$.f,Ie=t.$_$.g,Ce=t.$_$.d,De=t.$_$.p,Ne=t.$_$.z,Fe=t.$_$.s,Me=t.$_$.w,Ve=t.$_$.x,Be=t.$_$.y,Ue=t.$_$.e,Ge=t.$_$.a,He=t.$_$.i,Ye=t.$_$.l,qe=t.$_$.q;return Ae(n,"Companion",ke),Ae(i,"BufferGoalManager",Te),Ae(a,"BufferGoalManagerFlags",Te),Ae(u,"BufferGoalManagerProps",Te),Ae(c,"BufferGoalRule",Le),Ae(s,"SkippableFragment",Te),Ae(l,"BufferGoalRuleProps",Te),Ae(d,"WatchedTime",Te),Ae(h,"CurrentTime",Te),Ae(p,"GetBufferGoalProps",Te),Ae(v,"Rules",Te),Ae(y,"SkippableFragmentsRule",Te,_e,[c]),Ae(m,"WatchedTimeRule",Te,_e,[c]),Ae(g,"Companion",ke),Ae(w,"BandwidthEstimator",Te),Ae(S,"EWMA",Te),Ae(E,"Companion",ke),Ae(k,"EwmaBandwidthEstimatorV2",Te),Ae(_,"HalfLife",Te),Ae(A,"Result",Te),Ae(T,"TtfbEstimate",Te),Ae(P,"Companion",ke),Ae(R,"TtfbEstimateSource",Te),Ae(I,"TtfbEstimator",Te),Ae(C,"TtfbEstimatorDebugInfo",Te),Ae(D,"BandwidthInfo",Te),Ae(B,"FetcherInfo",Te),Ae(U,"Companion",ke),Ae(H,"FetcherProgressAccumulator",Te),Ae(Y,"FetcherProgressAccumulatorExperimentalFlags",Te),Ae(q,"FetcherProgressAccumulatorParams",Te),Ae(W,"SingleListenerFetcher",Te),Ae(K,"DefaultBuffer",Te),Ae(z,"DisableDynamicBuffer",Te),Ae(Q,"LowBufferBeforeStart",Te),Ae(Z,"EventEmitter",Te),Ae($,"IntervalTaskWithState",Te),Ae(J,"Signal",Te),Ae(X,"Companion",ke),Ae(te,"Mutex",Te),Ae(re,"PlatformMutex",Te),Oe(i).getBufferGoal=function(e){var t=this.u6_1,r=null==t?null:t.defaultBuffer,n=null==r?null:r.getValue(),i=null==n?o().x6_1:n,a=this.u6_1,u=null==a?null:a.disableDynamicBuffer;if(!0===(null==u?null:u.getValue()))return i;var c=null==e?null:e.watchedTime,s=null==c?null:c.getValue(),f=null==e?null:e.currentTime,d=new l(s,null==f?null:f.getValue(),this.u6_1),h=function(e,t){for(var r=Pe(e.f1()).b();r.c();){var n,o=r.d(),i=e.e1(o);if(null==i)n=null;else{for(var a=xe(),u=Ee(i);u.c();){var c=u.d(),s=c.getBufferGoal(t);null==s||(a.g(s),ge())}n=a}var l,f=n;if(null==f)l=null;else{var d,h=f.b();if(h.c()){var p=h.d();if(h.c()){var v=p;do{var y=h.d(),m=y;Re(v,m)>0&&(p=y,v=m)}while(h.c());d=p}else d=p}else d=null;l=d}var g=l;if(null!=g)return g}return null}(this.w6_1,d);return null==h?i:h},Oe(i).setSkippableFragments=function(e){this.v6_1.z6(e)},Oe(i).getSkippableFragments=function(){return this.v6_1.a7()},Oe(a).b7=function(){return this.disableDynamicBuffer},Oe(a).c7=function(){return this.lowBufferBeforeStart},Oe(a).d7=function(){return this.defaultBuffer},Oe(u).e7=function(){return this.skippableFragments},Oe(u).f7=function(){return this.flags},Oe(u).g7=function(){return this.rules},Oe(s).i7=function(){return this.startTime},Oe(s).j7=function(){return this.endTime},Oe(s).k7=function(){return this.autoSkip},Oe(l).l7=function(){return this.watchedTime},Oe(l).m7=function(){return this.currentTime},Oe(l).f7=function(){return this.flags},Oe(d).getValue=function(){return this.n7_1},Oe(h).getValue=function(){return this.o7_1},Oe(p).l7=function(){return this.watchedTime},Oe(p).m7=function(){return this.currentTime},Oe(v).p7=function(){return this.priority},Oe(v).g7=function(){return this.rules},Oe(y).h7=function(e){var t,r,n,o,i=null==e?null:e.currentTime,a=null==i?0:i,u=this.y6_1;if(null==u)return null;e:{for(var c=Ee(u);c.c();){var s=c.d();if(s.startTime<=a&&a<s.endTime){r=s;break e}}r=null}if(null!=(t=r))return a-t.startTime<f()?ae:ue;e:{for(var l=Ee(u);l.c();){var d=l.d();if(a<d.startTime){o=d;break e}}o=null}return null!=(n=o)?n.startTime-a+ce:null},Oe(y).z6=function(e){this.y6_1=e},Oe(y).a7=function(){return this.y6_1},Oe(m).h7=function(e){var t=null==e?null:e.watchedTime,r=null==t?0:t,n=null==e?null:e.flags,o=null==n?null:n.lowBufferBeforeStart;return!0===(null==o?null:o.getValue())&&r<=0?se:r<f()?ie:null},Oe(g).s7=function(e){var t=this.q7_1;if(null!=t)return t;var r=this.r7_1;if(ee().t7_1){var n=b().q7_1;if(null!=n)return n;var o=new w(e);return b().q7_1=o,o}var i=r.u7_1;try{if(i.v7_1.h(i))throw je("runLocked: recursion lock error");i.v7_1.g(i);var a=b().q7_1;if(null!=a)return a;var u=new w(e);return b().q7_1=u,u}finally{i.v7_1.a3(i)}},Oe(g).getInstance=function(e,t){var r;return e===_e?(Ie(),r=NaN):r=e,e=r,this.s7(e)},Oe(w).appendFetcher=function(e){this.w7_1.g(e),e.addProgressListener(this.y7_1)},Oe(w).removeFetcher=function(e){this.w7_1.a3(e),e.removeProgressListener(this.y7_1)},Oe(w).sample=function(e,t){return this.x7_1.sample(e,t,!1,pe,(de||(de=!0,le=new _(5,.45)),le))},Oe(w).getBandwidthEstimate=function(){return this.x7_1.getBandwidthEstimate()},Oe(w).hasGoodEstimate=function(){return this.x7_1.hasGoodEstimate()},Oe(w).setDefaultEstimate=function(e){this.x7_1.setDefaultEstimate(e)},Oe(w).addListener=function(e){this.x7_1.addListener(e)},Oe(w).removeListener=function(e){this.x7_1.removeListener(e)},Oe(w).removeAllListeners=function(){this.x7_1.removeAllListeners()},Oe(w).destroy=function(){for(var e=this.w7_1.b();e.c();)e.d().removeProgressListener(this.y7_1)},Oe(S).d8=function(e,t){var r=function(e,t,r){var n,o=e.z7_1;return n=Math.pow(o,t),r*(1-n)+n*e.a8_1}(this,e,t);Ne(r)||(this.a8_1=r,this.b8_1=this.b8_1+e)},Oe(S).e8=function(){var e=this.z7_1,t=this.b8_1,r=1-Math.pow(e,t);return this.a8_1/r},Oe(S).c8=function(e){var t,r=Math.log(.5)/e;t=Math.exp(r),this.z7_1=t},Oe(k).n8=function(e,t,r,n,o){if(e<=0)return new A(_e,"Sample ["+Me(Fe(t))+"]/["+Me(Fe(e))+"] not applied. Reason: durationMs <= 0");if(t<(r?2e3:n))return new A(_e,"Sample ["+Me(Fe(t))+"]/["+Me(Fe(e))+"] not applied. Reason: too small sample. Min length = "+Me(r?new Ve(2e3,0):Fe(n)));var i=o;!function(e,t){e.j8_1.c8(t.fast),e.k8_1.c8(t.slow)}(this,null==i?r?O().g8_1:O().f8_1:i);var a=8*t/(e/1e3),u=this.i8_1?.1:e/1e3;return this.l8_1=this.l8_1+t,this.j8_1.d8(u,a),this.k8_1.d8(u,a),this.m8_1.q8(this.getBandwidthEstimate()),new A("ok")},Oe(k).sample=function(e,t,r,n,o,i){return r=r!==_e&&r,n=n===_e?16e3:n,o=o===_e?null:o,this.n8(e,t,r,n,o)},Oe(k).getBandwidthEstimate=function(){return this.hasGoodEstimate()?(t=(e=this).j8_1.e8(),r=e.k8_1.e8(),Math.min(t,r)):this.h8_1;var e,t,r},Oe(k).hasGoodEstimate=function(){return this.l8_1>=128e3},Oe(k).setDefaultEstimate=function(e){this.h8_1=e},Oe(k).addListener=function(e){this.m8_1.r8(e)},Oe(k).removeListener=function(e){this.m8_1.s8(e)},Oe(k).removeAllListeners=function(){this.m8_1.h4()},Oe(_).t8=function(){return this.slow},Oe(_).u8=function(){return this.fast},Oe(A).v8=function(){return this.okMessage},Oe(A).w8=function(){return this.errorMessage},Oe(T).u=function(){return this.value},Oe(T).x8=function(){return this.source},Oe(P).y8=function(){return this.MAX},Oe(P).z8=function(){return this.MIN},Oe(P).a9=function(){return this.DEFAULT},Oe(I).appendFetcher=function(e){var t,r;e.addRequestTtfbListener((t=this,(r=function(e){return L(t,e),ge()}).callableName="handleTtfb",r))},Oe(I).removeFetcher=function(e){var t,r;e.removeRequestTtfbListener((t=this,(r=function(e){return L(t,e),ge()}).callableName="handleTtfb",r))},Oe(I).getMinTtfbEstimate=function(e){if(!this.hasGoodEstimate())return e;var t=this.b9_1.b();if(!t.c())throw Ue();for(var r=t.d();t.c();){var n=t.d(),o=r;r=Math.min(o,n)}var i=r;return x(),new T(i,"min")},Oe(I).getTtfbEstimate=function(e){if(!this.hasGoodEstimate())return e;var t=j(this);return x(),new T(t,"max")},Oe(I).hasGoodEstimate=function(){return this.b9_1.l1_1>1},Oe(I).getDebugInfo=function(){var e=this.hasGoodEstimate(),t=j(this),r=this.b9_1;return new C(e,t,He(r))},Oe(C).c9=function(){return this.hasGoodEstimate},Oe(C).u=function(){return this.value},Oe(C).d9=function(){return this.history},Oe(D).e9=function(){return this.durationMs},Oe(D).f9=function(){return this.sizeBytes},Oe(D).g9=function(){return this.isLowLatency},Oe(H).appendFetcher=function(e){var t,r,n,o,i,a=G().h9_1;if(ee().t7_1){var u=(o=this,i=e,function(){return F(o,i),ge()}),c=new B(_e,u,function(e,t){return function(){return M(e,t),0===e.l9_1&&e.r9_1&&(e.process(),ge()),ge()}}(this,e));this.p9_1.o2(e,c),e.addProgressListener((r=this,(n=function(e){return N(r,e),ge()}).callableName="handleProgress",n)),e.addResponseStartListener(c.u9_1),e.addResponseEndListener(c.v9_1),t=ge()}else{var s;e:{var l=a.u7_1;try{if(l.v7_1.h(l))throw je("runLocked: recursion lock error");l.v7_1.g(l);var f=function(e,t){return function(){return F(e,t),ge()}}(this,e),d=new B(_e,f,function(e,t){return function(){return M(e,t),0===e.l9_1&&e.r9_1&&(e.process(),ge()),ge()}}(this,e));this.p9_1.o2(e,d),e.addProgressListener(function(e){var t=function(t){return N(e,t),ge()};return t.callableName="handleProgress",t}(this)),e.addResponseStartListener(d.u9_1),e.addResponseEndListener(d.v9_1),s=ge();break e}finally{l.v7_1.a3(l)}}t=s}return t},Oe(H).removeFetcher=function(e){var t,r,n,o=G().h9_1;if(ee().t7_1){var i=this.p9_1.n3(e);if(null==i);else{var a,u=this.l9_1-i.t9_1|0;a=Math.max(u,0),this.l9_1=a,e.removeProgressListener((r=this,(n=function(e){return N(r,e),ge()}).callableName="handleProgress",n)),e.removeResponseStartListener(i.u9_1),e.removeResponseEndListener(i.v9_1),ge()}t=ge()}else{var c;e:{var s=o.u7_1;try{if(s.v7_1.h(s))throw je("runLocked: recursion lock error");s.v7_1.g(s);var l=this.p9_1.n3(e);if(null==l);else{var f,d=this.l9_1-l.t9_1|0;f=Math.max(d,0),this.l9_1=f,e.removeProgressListener(function(e){var t=function(t){return N(e,t),ge()};return t.callableName="handleProgress",t}(this)),e.removeResponseStartListener(l.u9_1),e.removeResponseEndListener(l.v9_1),ge()}c=ge();break e}finally{s.v7_1.a3(s)}}t=c}return t},Oe(H).destroy=function(){var e,t=G().h9_1;if(ee().t7_1){var r=this.s9_1;null==r||r.stop();for(var n=Ye(this.p9_1.f1()).b();n.c();){var o=n.d();this.removeFetcher(o)}e=ge()}else{var i;e:{var a=t.u7_1;try{if(a.v7_1.h(a))throw je("runLocked: recursion lock error");a.v7_1.g(a);var u=this.s9_1;null==u||u.stop();for(var c=Ye(this.p9_1.f1()).b();c.c();){var s=c.d();this.removeFetcher(s)}i=ge();break e}finally{a.v7_1.a3(a)}}e=i}return e},Oe(H).process=function(){var e,t=G().h9_1;if(ee().t7_1){if(!this.m9_1)return ge();if(0===this.l9_1&&0===this.k9_1){this.m9_1=!1,this.n9_1=null;var r=this.s9_1;return null==r||r.stop(),ge()}var n=this.k9_1;if(0===n&&!(null!=this.q9_1&&this.q9_1<V(this)))return ge();this.k9_1=0;var o=V(this);this.n9_1=this.i9_1.create(),this.o9_1.aa(new D(o,n,!1)),e=ge()}else{var i;e:{var a=t.u7_1;try{if(a.v7_1.h(a))throw je("runLocked: recursion lock error");if(a.v7_1.g(a),!this.m9_1)return ge();if(0===this.l9_1&&0===this.k9_1){this.m9_1=!1,this.n9_1=null;var u=this.s9_1;return null==u||u.stop(),ge()}var c=this.k9_1;if(0===c&&!(null!=this.q9_1&&this.q9_1<V(this)))return ge();this.k9_1=0;var s=V(this);this.n9_1=this.i9_1.create(),this.o9_1.aa(new D(s,c,!1)),i=ge();break e}finally{a.v7_1.a3(a)}}e=i}return e},Oe(H).addProgressListener=function(e){var t,r=G().h9_1;if(ee().t7_1)this.o9_1.r8(e),t=ge();else{var n;e:{var o=r.u7_1;try{if(o.v7_1.h(o))throw je("runLocked: recursion lock error");o.v7_1.g(o),this.o9_1.r8(e),n=ge();break e}finally{o.v7_1.a3(o)}}t=n}return t},Oe(H).removeProgressListener=function(e){var t,r=G().h9_1;if(ee().t7_1)this.o9_1.s8(e),t=ge();else{var n;e:{var o=r.u7_1;try{if(o.v7_1.h(o))throw je("runLocked: recursion lock error");o.v7_1.g(o),this.o9_1.s8(e),n=ge();break e}finally{o.v7_1.a3(o)}}t=n}return t},Oe(Y).ba=function(){return this.experimentalEmitZeroProgressAfterTimeMs},Oe(Y).ca=function(){return this.experimentalProcessIntervalMs},Oe(Y).da=function(){return this.experimentalCallProcessAfterLastResponseEnd},Oe(q).ea=function(){return this.intervalTaskFactory},Oe(q).fa=function(){return this.experimentalFlags},Oe(W).responseStart=function(){var e=this.ga_1;null==e||e()},Oe(W).responseEnd=function(){var e=this.ha_1;null==e||e()},Oe(W).responseProgress=function(e){var t=this.ia_1;null==t||t(e)},Oe(W).addResponseStartListener=function(e){null==this.ga_1&&(this.ga_1=e)},Oe(W).removeResponseStartListener=function(e){this.ga_1=null},Oe(W).addResponseEndListener=function(e){null==this.ha_1&&(this.ha_1=e)},Oe(W).removeResponseEndListener=function(e){this.ha_1=null},Oe(W).addProgressListener=function(e){null==this.ia_1&&(this.ia_1=e)},Oe(W).removeProgressListener=function(e){this.ia_1=null},Oe(K).getValue=function(){var e=this.ja_1;return null==e?30:e},Oe(z).getValue=function(){var e=this.ka_1;return null!=e&&e},Oe(Q).getValue=function(){var e=this.la_1;return null!=e&&e},Oe(Z).r8=function(e){this.z9_1.g(e)},Oe(Z).s8=function(e){this.z9_1.a3(e)},Oe(Z).aa=function(e){for(var t=this.z9_1.b();t.c();)t.d()(e)},Oe($).start=function(){this.w9_1.start(),this.x9_1=!0},Oe($).stop=function(){this.w9_1.stop(),this.x9_1=!1},Oe($).y9=function(){return this.x9_1},Oe(J).r8=function(e){this.p8_1.g(e)},Oe(J).s8=function(e){this.p8_1.a3(e)},Oe(J).h4=function(){this.p8_1.h4()},Oe(J).q8=function(e){if(qe(this.o8_1,e))return ge();this.o8_1=e;for(var t=this.p8_1.b();t.c();)t.d()(e)},Oe(y).getBufferGoal=r,Oe(m).getBufferGoal=r,oe=15,ie=15,ae=3,ue=3,ce=5,se=5,pe=2e3,function(e){var t=(o=e.ru||(e.ru={})).yandex||(o.yandex={}),r=(c=t.videoplayer||(t.videoplayer={})).multiplatform||(c.multiplatform={});(f=r.bgm||(r.bgm={})).BufferGoalManager=i,t=(o=e.ru||(e.ru={})).yandex||(o.yandex={}),r=(c=t.videoplayer||(t.videoplayer={})).multiplatform||(c.multiplatform={}),(f=r.bgm||(r.bgm={})).BufferGoalManagerFlags=a,t=(o=e.ru||(e.ru={})).yandex||(o.yandex={}),r=(c=t.videoplayer||(t.videoplayer={})).multiplatform||(c.multiplatform={}),(f=r.bgm||(r.bgm={})).BufferGoalManagerProps=u;var n,o=e.ru||(e.ru={}),c=(t=o.yandex||(o.yandex={})).videoplayer||(t.videoplayer={}),f=(r=c.multiplatform||(c.multiplatform={})).bgm||(r.bgm={});t=(o=e.ru||(e.ru={})).yandex||(o.yandex={}),r=(c=t.videoplayer||(t.videoplayer={})).multiplatform||(c.multiplatform={}),(f=r.bgm||(r.bgm={})).SkippableFragment=s,f.BufferGoalRuleProps=l,t=(o=e.ru||(e.ru={})).yandex||(o.yandex={}),r=(c=t.videoplayer||(t.videoplayer={})).multiplatform||(c.multiplatform={}),(f=r.bgm||(r.bgm={})).WatchedTime=d,f.CurrentTime=h,f.GetBufferGoalProps=p,t=(o=e.ru||(e.ru={})).yandex||(o.yandex={}),r=(c=t.videoplayer||(t.videoplayer={})).multiplatform||(c.multiplatform={}),(f=r.bgm||(r.bgm={})).Rules=v,t=(o=e.ru||(e.ru={})).yandex||(o.yandex={}),r=(c=t.videoplayer||(t.videoplayer={})).multiplatform||(c.multiplatform={}),(n=r.estimate||(r.estimate={})).BandwidthEstimator=w,De(n.BandwidthEstimator,"Companion",b),t=(o=e.ru||(e.ru={})).yandex||(o.yandex={}),r=(c=t.videoplayer||(t.videoplayer={})).multiplatform||(c.multiplatform={}),(n=r.estimate||(r.estimate={})).EwmaBandwidthEstimatorV2=k,n.HalfLife=_,t=(o=e.ru||(e.ru={})).yandex||(o.yandex={}),r=(c=t.videoplayer||(t.videoplayer={})).multiplatform||(c.multiplatform={}),(n=r.estimate||(r.estimate={})).Result=A,t=(o=e.ru||(e.ru={})).yandex||(o.yandex={}),r=(c=t.videoplayer||(t.videoplayer={})).multiplatform||(c.multiplatform={}),(n=r.estimate||(r.estimate={})).TtfbEstimate=T,t=(o=e.ru||(e.ru={})).yandex||(o.yandex={}),r=(c=t.videoplayer||(t.videoplayer={})).multiplatform||(c.multiplatform={}),(n=r.estimate||(r.estimate={})).TtfbEstimateSource=R,De(n.TtfbEstimateSource,"Companion",x),t=(o=e.ru||(e.ru={})).yandex||(o.yandex={}),r=(c=t.videoplayer||(t.videoplayer={})).multiplatform||(c.multiplatform={}),(n=r.estimate||(r.estimate={})).TtfbEstimator=I,t=(o=e.ru||(e.ru={})).yandex||(o.yandex={}),r=(c=t.videoplayer||(t.videoplayer={})).multiplatform||(c.multiplatform={}),(n=r.estimate||(r.estimate={})).TtfbEstimatorDebugInfo=C,t=(o=e.ru||(e.ru={})).yandex||(o.yandex={}),r=(c=t.videoplayer||(t.videoplayer={})).multiplatform||(c.multiplatform={}),(y=r.fetcher||(r.fetcher={})).BandwidthInfo=D,t=(o=e.ru||(e.ru={})).yandex||(o.yandex={}),r=(c=t.videoplayer||(t.videoplayer={})).multiplatform||(c.multiplatform={}),(y=r.fetcher||(r.fetcher={})).FetcherProgressAccumulator=H,De(y.FetcherProgressAccumulator,"Companion",G),t=(o=e.ru||(e.ru={})).yandex||(o.yandex={}),r=(c=t.videoplayer||(t.videoplayer={})).multiplatform||(c.multiplatform={}),(y=r.fetcher||(r.fetcher={})).FetcherProgressAccumulatorExperimentalFlags=Y,t=(o=e.ru||(e.ru={})).yandex||(o.yandex={}),r=(c=t.videoplayer||(t.videoplayer={})).multiplatform||(c.multiplatform={}),(y=r.fetcher||(r.fetcher={})).FetcherProgressAccumulatorParams=q,t=(o=e.ru||(e.ru={})).yandex||(o.yandex={}),r=(c=t.videoplayer||(t.videoplayer={})).multiplatform||(c.multiplatform={}),(y=r.fetcher||(r.fetcher={})).SingleListenerFetcher=W,t=(o=e.ru||(e.ru={})).yandex||(o.yandex={}),((r=(c=t.videoplayer||(t.videoplayer={})).multiplatform||(c.multiplatform={})).flags||(r.flags={})).DefaultBuffer=K,t=(o=e.ru||(e.ru={})).yandex||(o.yandex={}),((r=(c=t.videoplayer||(t.videoplayer={})).multiplatform||(c.multiplatform={})).flags||(r.flags={})).DisableDynamicBuffer=z,t=(o=e.ru||(e.ru={})).yandex||(o.yandex={}),((r=(c=t.videoplayer||(t.videoplayer={})).multiplatform||(c.multiplatform={})).flags||(r.flags={})).LowBufferBeforeStart=Q,o=e.ru||(e.ru={}),c=(t=o.yandex||(o.yandex={})).videoplayer||(t.videoplayer={});var y=(r=c.multiplatform||(c.multiplatform={})).fetcher||(r.fetcher={});o=e.ru||(e.ru={}),c=(t=o.yandex||(o.yandex={})).videoplayer||(t.videoplayer={}),y=(r=c.multiplatform||(c.multiplatform={})).fetcher||(r.fetcher={}),o=e.ru||(e.ru={}),c=(t=o.yandex||(o.yandex={})).videoplayer||(t.videoplayer={}),y=(r=c.multiplatform||(c.multiplatform={})).fetcher||(r.fetcher={}),o=e.ru||(e.ru={}),c=(t=o.yandex||(o.yandex={})).videoplayer||(t.videoplayer={}),(r=c.multiplatform||(c.multiplatform={})).utils||(r.utils={}),o=e.ru||(e.ru={}),c=(t=o.yandex||(o.yandex={})).videoplayer||(t.videoplayer={}),(r=c.multiplatform||(c.multiplatform={})).utils||(r.utils={}),o=e.ru||(e.ru={}),c=(t=o.yandex||(o.yandex={})).videoplayer||(t.videoplayer={}),(r=c.multiplatform||(c.multiplatform={})).utils||(r.utils={}),o=e.ru||(e.ru={}),c=(t=o.yandex||(o.yandex={})).videoplayer||(t.videoplayer={}),(r=c.multiplatform||(c.multiplatform={})).utils||(r.utils={})}(e),e})?n.apply(t,o):n)||(e.exports=i)},10060:function(e,t,r){"use strict";function n(e){return e}r.d(t,{y:function(){return n}})},25443:function(e,t,r){"use strict";r.d(t,{LQ:function(){return n.LQ},my:function(){return n.my}});var n=r(48703);r(51978)},51978:function(e,t,r){"use strict"},7025:function(e,t,r){"use strict";r.d(t,{LQ:function(){return n}});var n=r(10060).y},95484:function(e,t,r){"use strict";r.d(t,{my:function(){return n}});var n=r(10060).y},48703:function(e,t,r){"use strict";r.d(t,{LQ:function(){return o.LQ},my:function(){return n.my}});var n=r(95484),o=r(7025)},61008:function(e,t){"use strict";function r(e,t){try{return t(e)}catch(r){return e}}t.parse=function(e,t){if("string"!==typeof e)throw new TypeError("argument str must be a string");for(var o={},a=t||{},u=e.split(i),c=a.decode||n,s=0;s<u.length;s++){var l=u[s],f=l.indexOf("=");if(!(f<0)){var d=l.substr(0,f).trim(),h=l.substr(++f,l.length).trim();'"'==h[0]&&(h=h.slice(1,-1)),void 0==o[d]&&(o[d]=r(h,c))}}return o},t.serialize=function(e,t,r){var n=r||{},i=n.encode||o;if("function"!==typeof i)throw new TypeError("option encode is invalid");if(!a.test(e))throw new TypeError("argument name is invalid");var u=i(t);if(u&&!a.test(u))throw new TypeError("argument val is invalid");var c=e+"="+u;if(null!=n.maxAge){var s=n.maxAge-0;if(isNaN(s))throw new Error("maxAge should be a Number");c+="; Max-Age="+Math.floor(s)}if(n.domain){if(!a.test(n.domain))throw new TypeError("option domain is invalid");c+="; Domain="+n.domain}if(n.path){if(!a.test(n.path))throw new TypeError("option path is invalid");c+="; Path="+n.path}if(n.expires){if("function"!==typeof n.expires.toUTCString)throw new TypeError("option expires is invalid");c+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(c+="; HttpOnly"),n.secure&&(c+="; Secure"),n.sameSite)switch("string"===typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case!0:c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"strict":c+="; SameSite=Strict";break;default:throw new TypeError("option sameSite is invalid")}return c};var n=decodeURIComponent,o=encodeURIComponent,i=/; */,a=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/},31267:function(e,t,r){r(40239),r(25292),r(18021),r(75487),r(4590),r(11189),r(72310),r(40781),r(41929),r(56617),r(66202),r(86031),r(44404),r(98316),r(82),r(6751),r(5585),r(72926),r(75729),r(14469),r(85277),r(47121),r(53171),r(60343),r(49471),r(5192),r(98655),r(57508),r(41899),r(57074),r(57766),r(41005),r(91662),r(22021),r(6331),r(55842);var n=r(88936);e.exports=n.Array},9906:function(e,t,r){r(75729),r(83166),r(6331),r(55842);var n=r(88936);e.exports=n.Map},60936:function(e,t,r){r(75729),r(6331),r(5609),r(55842);var n=r(88936);e.exports=n.Set},20261:function(e,t,r){var n=r(14376),o=r(56790),i=TypeError;e.exports=function(e){if(n(e))return e;throw i(o(e)+" is not a function")}},5615:function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=r(14376),i=String,a=TypeError;e.exports=function(e){if("object"==n(e)||o(e))return e;throw a("Can't set "+i(e)+" as a prototype")}},11713:function(e,t,r){var n=r(92469),o=r(28376),i=r(20728).f,a=n("unscopables"),u=Array.prototype;void 0==u[a]&&i(u,a,{configurable:!0,value:o(null)}),e.exports=function(e){u[a][e]=!0}},79895:function(e,t,r){var n=r(49935),o=TypeError;e.exports=function(e,t){if(n(t,e))return e;throw o("Incorrect invocation")}},57772:function(e,t,r){var n=r(19578),o=String,i=TypeError;e.exports=function(e){if(n(e))return e;throw i(o(e)+" is not an object")}},92753:function(e,t,r){var n=r(43100);e.exports=n((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},74630:function(e,t,r){"use strict";var n=r(857),o=r(13748),i=r(29481),a=r(13771),u=Math.min;e.exports=[].copyWithin||function(e,t){var r=n(this),c=i(r),s=o(e,c),l=o(t,c),f=arguments.length>2?arguments[2]:void 0,d=u((void 0===f?c:o(f,c))-l,c-s),h=1;for(l<s&&s<l+d&&(h=-1,l+=d-1,s+=d-1);d-- >0;)l in r?r[s]=r[l]:a(r,s),s+=h,l+=h;return r}},21482:function(e,t,r){"use strict";var n=r(857),o=r(13748),i=r(29481);e.exports=function(e){for(var t=n(this),r=i(t),a=arguments.length,u=o(a>1?arguments[1]:void 0,r),c=a>2?arguments[2]:void 0,s=void 0===c?r:o(c,r);s>u;)t[u++]=e;return t}},58891:function(e,t,r){"use strict";var n=r(33510).forEach,o=r(8594)("forEach");e.exports=o?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},76643:function(e,t,r){"use strict";var n=r(82974),o=r(89055),i=r(857),a=r(82962),u=r(81049),c=r(33095),s=r(29481),l=r(44136),f=r(35216),d=r(1608),h=Array;e.exports=function(e){var t=i(e),r=c(this),p=arguments.length,v=p>1?arguments[1]:void 0,y=void 0!==v;y&&(v=n(v,p>2?arguments[2]:void 0));var m,g,b,w,S,E,O=d(t),k=0;if(!O||this===h&&u(O))for(m=s(t),g=r?new this(m):h(m);m>k;k++)E=y?v(t[k],k):t[k],l(g,k,E);else for(S=(w=f(t,O)).next,g=r?new this:[];!(b=o(S,w)).done;k++)E=y?a(w,v,[b.value,k],!0):b.value,l(g,k,E);return g.length=k,g}},67381:function(e,t,r){var n=r(76370),o=r(13748),i=r(29481),a=function(e){return function(t,r,a){var u,c=n(t),s=i(c),l=o(a,s);if(e&&r!=r){for(;s>l;)if((u=c[l++])!=u)return!0}else for(;s>l;l++)if((e||l in c)&&c[l]===r)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},4437:function(e,t,r){var n=r(82974),o=r(79327),i=r(857),a=r(29481),u=function(e){var t=1==e;return function(r,u,c){for(var s,l=i(r),f=o(l),d=n(u,c),h=a(f);h-- >0;)if(d(s=f[h],h,l))switch(e){case 0:return s;case 1:return h}return t?-1:void 0}};e.exports={findLast:u(0),findLastIndex:u(1)}},33510:function(e,t,r){var n=r(82974),o=r(54216),i=r(79327),a=r(857),u=r(29481),c=r(34156),s=o([].push),l=function(e){var t=1==e,r=2==e,o=3==e,l=4==e,f=6==e,d=7==e,h=5==e||f;return function(p,v,y,m){for(var g,b,w=a(p),S=i(w),E=n(v,y),O=u(S),k=0,_=m||c,A=t?_(p,O):r||d?_(p,0):void 0;O>k;k++)if((h||k in S)&&(b=E(g=S[k],k,w),e))if(t)A[k]=b;else if(b)switch(e){case 3:return!0;case 5:return g;case 6:return k;case 2:s(A,g)}else switch(e){case 4:return!1;case 7:s(A,g)}return f?-1:o||l?l:A}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},69516:function(e,t,r){"use strict";var n=r(56416),o=r(76370),i=r(60069),a=r(29481),u=r(8594),c=Math.min,s=[].lastIndexOf,l=!!s&&1/[1].lastIndexOf(1,-0)<0,f=u("lastIndexOf"),d=l||!f;e.exports=d?function(e){if(l)return n(s,this,arguments)||0;var t=o(this),r=a(t),u=r-1;for(arguments.length>1&&(u=c(u,i(arguments[1]))),u<0&&(u=r+u);u>=0;u--)if(u in t&&t[u]===e)return u||0;return-1}:s},13479:function(e,t,r){var n=r(43100),o=r(92469),i=r(88263),a=o("species");e.exports=function(e){return i>=51||!n((function(){var t=[];return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},8594:function(e,t,r){"use strict";var n=r(43100);e.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){return 1},1)}))}},33538:function(e,t,r){var n=r(20261),o=r(857),i=r(79327),a=r(29481),u=TypeError,c=function(e){return function(t,r,c,s){n(r);var l=o(t),f=i(l),d=a(l),h=e?d-1:0,p=e?-1:1;if(c<2)for(;;){if(h in f){s=f[h],h+=p;break}if(h+=p,e?h<0:d<=h)throw u("Reduce of empty array with no initial value")}for(;e?h>=0:d>h;h+=p)h in f&&(s=r(s,f[h],h,l));return s}};e.exports={left:c(!1),right:c(!0)}},66090:function(e,t,r){"use strict";var n=r(90358),o=r(9198),i=TypeError,a=Object.getOwnPropertyDescriptor,u=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=u?function(e,t){if(o(e)&&!a(e,"length").writable)throw i("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},47853:function(e,t,r){var n=r(13748),o=r(29481),i=r(44136),a=Array,u=Math.max;e.exports=function(e,t,r){for(var c=o(e),s=n(t,c),l=n(void 0===r?c:r,c),f=a(u(l-s,0)),d=0;s<l;s++,d++)i(f,d,e[s]);return f.length=d,f}},90926:function(e,t,r){var n=r(54216);e.exports=n([].slice)},1743:function(e,t,r){var n=r(47853),o=Math.floor,i=function(e,t){for(var r,n,o=e.length,i=1;i<o;){for(n=i,r=e[i];n&&t(e[n-1],r)>0;)e[n]=e[--n];n!==i++&&(e[n]=r)}return e},a=function(e,t,r,n){for(var o=t.length,i=r.length,a=0,u=0;a<o||u<i;)e[a+u]=a<o&&u<i?n(t[a],r[u])<=0?t[a++]:r[u++]:a<o?t[a++]:r[u++];return e};e.exports=function e(t,r){var u=t.length,c=o(u/2);return u<8?i(t,r):a(t,e(n(t,0,c),r),e(n(t,c),r),r)}},24364:function(e,t,r){var n=r(9198),o=r(33095),i=r(19578),a=r(92469)("species"),u=Array;e.exports=function(e){var t;return n(e)&&(t=e.constructor,(o(t)&&(t===u||n(t.prototype))||i(t)&&null===(t=t[a]))&&(t=void 0)),void 0===t?u:t}},34156:function(e,t,r){var n=r(24364);e.exports=function(e,t){return new(n(e))(0===t?0:t)}},82962:function(e,t,r){var n=r(57772),o=r(12053);e.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(a){o(e,"throw",a)}}},2153:function(e,t,r){var n=r(92469)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[n]=function(){return this},Array.from(a,(function(){throw 2}))}catch(u){}e.exports=function(e,t){if(!t&&!o)return!1;var r=!1;try{var i={};i[n]=function(){return{next:function(){return{done:r=!0}}}},e(i)}catch(u){}return r}},37897:function(e,t,r){var n=r(19626),o=n({}.toString),i=n("".slice);e.exports=function(e){return i(o(e),8,-1)}},81707:function(e,t,r){var n=r(43231),o=r(14376),i=r(37897),a=r(92469)("toStringTag"),u=Object,c="Arguments"==i(function(){return arguments}());e.exports=n?i:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(r){}}(t=u(e),a))?r:c?i(t):"Object"==(n=i(t))&&o(t.callee)?"Arguments":n}},63208:function(e,t,r){"use strict";var n=r(20728).f,o=r(28376),i=r(15018),a=r(82974),u=r(79895),c=r(35996),s=r(46459),l=r(92334),f=r(95853),d=r(80894),h=r(90358),p=r(72899).fastKey,v=r(72955),y=v.set,m=v.getterFor;e.exports={getConstructor:function(e,t,r,l){var f=e((function(e,n){u(e,d),y(e,{type:t,index:o(null),first:void 0,last:void 0,size:0}),h||(e.size=0),c(n)||s(n,e[l],{that:e,AS_ENTRIES:r})})),d=f.prototype,v=m(t),g=function(e,t,r){var n,o,i=v(e),a=b(e,t);return a?a.value=r:(i.last=a={index:o=p(t,!0),key:t,value:r,previous:n=i.last,next:void 0,removed:!1},i.first||(i.first=a),n&&(n.next=a),h?i.size++:e.size++,"F"!==o&&(i.index[o]=a)),e},b=function(e,t){var r,n=v(e),o=p(t);if("F"!==o)return n.index[o];for(r=n.first;r;r=r.next)if(r.key==t)return r};return i(d,{clear:function(){for(var e=v(this),t=e.index,r=e.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete t[r.index],r=r.next;e.first=e.last=void 0,h?e.size=0:this.size=0},delete:function(e){var t=v(this),r=b(this,e);if(r){var n=r.next,o=r.previous;delete t.index[r.index],r.removed=!0,o&&(o.next=n),n&&(n.previous=o),t.first==r&&(t.first=n),t.last==r&&(t.last=o),h?t.size--:this.size--}return!!r},forEach:function(e){for(var t,r=v(this),n=a(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:r.first;)for(n(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!b(this,e)}}),i(d,r?{get:function(e){var t=b(this,e);return t&&t.value},set:function(e,t){return g(this,0===e?0:e,t)}}:{add:function(e){return g(this,e=0===e?0:e,e)}}),h&&n(d,"size",{get:function(){return v(this).size}}),f},setStrong:function(e,t,r){var n=t+" Iterator",o=m(t),i=m(n);l(e,t,(function(e,t){y(this,{type:n,target:e,state:o(e),kind:t,last:void 0})}),(function(){for(var e=i(this),t=e.kind,r=e.last;r&&r.removed;)r=r.previous;return e.target&&(e.last=r=r?r.next:e.state.first)?f("keys"==t?r.key:"values"==t?r.value:[r.key,r.value],!1):(e.target=void 0,f(void 0,!0))}),r?"entries":"values",!r,!0),d(t)}}},40902:function(e,t,r){"use strict";var n=r(20664),o=r(68666),i=r(54216),a=r(21022),u=r(46875),c=r(72899),s=r(46459),l=r(79895),f=r(14376),d=r(35996),h=r(19578),p=r(43100),v=r(2153),y=r(53593),m=r(3849);e.exports=function(e,t,r){var g=-1!==e.indexOf("Map"),b=-1!==e.indexOf("Weak"),w=g?"set":"add",S=o[e],E=S&&S.prototype,O=S,k={},_=function(e){var t=i(E[e]);u(E,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(b&&!h(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return b&&!h(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(b&&!h(e))&&t(this,0===e?0:e)}:function(e,r){return t(this,0===e?0:e,r),this})};if(a(e,!f(S)||!(b||E.forEach&&!p((function(){(new S).entries().next()})))))O=r.getConstructor(t,e,g,w),c.enable();else if(a(e,!0)){var A=new O,T=A[w](b?{}:-0,1)!=A,P=p((function(){A.has(1)})),x=v((function(e){new S(e)})),R=!b&&p((function(){for(var e=new S,t=5;t--;)e[w](t,t);return!e.has(-0)}));x||((O=t((function(e,t){l(e,E);var r=m(new S,e,O);return d(t)||s(t,r[w],{that:r,AS_ENTRIES:g}),r}))).prototype=E,E.constructor=O),(P||R)&&(_("delete"),_("has"),g&&_("get")),(R||T)&&_(w),b&&E.clear&&delete E.clear}return k[e]=O,n({global:!0,constructor:!0,forced:O!=S},k),y(O,e),b||r.setStrong(O,e,g),O}},81542:function(e,t,r){var n=r(29186),o=r(35560),i=r(49376),a=r(20728);e.exports=function(e,t,r){for(var u=o(t),c=a.f,s=i.f,l=0;l<u.length;l++){var f=u[l];n(e,f)||r&&n(r,f)||c(e,f,s(t,f))}}},36303:function(e,t,r){var n=r(92469)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[n]=!1,"/./"[e](t)}catch(o){}}return!1}},14215:function(e,t,r){var n=r(43100);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},95853:function(e){e.exports=function(e,t){return{value:e,done:t}}},63494:function(e,t,r){var n=r(90358),o=r(20728),i=r(33022);e.exports=n?function(e,t,r){return o.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},33022:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},44136:function(e,t,r){"use strict";var n=r(41396),o=r(20728),i=r(33022);e.exports=function(e,t,r){var a=n(t);a in e?o.f(e,a,i(0,r)):e[a]=r}},46875:function(e,t,r){var n=r(14376),o=r(20728),i=r(36219),a=r(36457);e.exports=function(e,t,r,u){u||(u={});var c=u.enumerable,s=void 0!==u.name?u.name:t;if(n(r)&&i(r,s,u),u.global)c?e[t]=r:a(t,r);else{try{u.unsafe?e[t]&&(c=!0):delete e[t]}catch(l){}c?e[t]=r:o.f(e,t,{value:r,enumerable:!1,configurable:!u.nonConfigurable,writable:!u.nonWritable})}return e}},15018:function(e,t,r){var n=r(46875);e.exports=function(e,t,r){for(var o in t)n(e,o,t[o],r);return e}},36457:function(e,t,r){var n=r(68666),o=Object.defineProperty;e.exports=function(e,t){try{o(n,e,{value:t,configurable:!0,writable:!0})}catch(r){n[e]=t}return t}},13771:function(e,t,r){"use strict";var n=r(56790),o=TypeError;e.exports=function(e,t){if(!delete e[t])throw o("Cannot delete property "+n(t)+" of "+n(e))}},90358:function(e,t,r){var n=r(43100);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},18100:function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r="object"==("undefined"===typeof document?"undefined":t(document))&&document.all,n="undefined"==typeof r&&void 0!==r;e.exports={all:r,IS_HTMLDDA:n}},44456:function(e,t,r){var n=r(68666),o=r(19578),i=n.document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},70647:function(e){var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},78820:function(e,t,r){var n=r(38191).match(/firefox\/(\d+)/i);e.exports=!!n&&+n[1]},90936:function(e,t,r){var n=r(38191);e.exports=/MSIE|Trident/.test(n)},81897:function(e,t,r){var n=r(37897),o=r(68666);e.exports="process"==n(o.process)},38191:function(e,t,r){var n=r(10715);e.exports=n("navigator","userAgent")||""},88263:function(e,t,r){var n,o,i=r(68666),a=r(38191),u=i.process,c=i.Deno,s=u&&u.versions||c&&c.version,l=s&&s.v8;l&&(o=(n=l.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!o&&a&&(!(n=a.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/))&&(o=+n[1]),e.exports=o},46150:function(e,t,r){var n=r(38191).match(/AppleWebKit\/(\d+)\./);e.exports=!!n&&+n[1]},30364:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},20664:function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=r(68666),i=r(49376).f,a=r(63494),u=r(46875),c=r(36457),s=r(81542),l=r(21022);e.exports=function(e,t){var r,f,d,h,p,v=e.target,y=e.global,m=e.stat;if(r=y?o:m?o[v]||c(v,{}):(o[v]||{}).prototype)for(f in t){if(h=t[f],d=e.dontCallGetSet?(p=i(r,f))&&p.value:r[f],!l(y?f:v+(m?".":"#")+f,e.forced)&&void 0!==d){if(n(h)==n(d))continue;s(h,d)}(e.sham||d&&d.sham)&&a(h,"sham",!0),u(r,f,h,e)}}},43100:function(e){e.exports=function(e){try{return!!e()}catch(t){return!0}}},49589:function(e,t,r){"use strict";var n=r(9198),o=r(29481),i=r(70647),a=r(82974);e.exports=function e(t,r,u,c,s,l,f,d){for(var h,p=s,v=0,y=!!f&&a(f,d);v<c;)v in u&&(h=y?y(u[v],v,r):u[v],l>0&&n(h)?p=e(t,r,h,o(h),p,l-1)-1:(i(p+1),t[p]=h),p++),v++;return p}},54889:function(e,t,r){var n=r(43100);e.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},56416:function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=r(16292),i=Function.prototype,a=i.apply,u=i.call;e.exports="object"==("undefined"===typeof Reflect?"undefined":n(Reflect))&&Reflect.apply||(o?u.bind(a):function(){return u.apply(a,arguments)})},82974:function(e,t,r){var n=r(54216),o=r(20261),i=r(16292),a=n(n.bind);e.exports=function(e,t){return o(e),void 0===t?e:i?a(e,t):function(){return e.apply(t,arguments)}}},16292:function(e,t,r){var n=r(43100);e.exports=!n((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},89055:function(e,t,r){var n=r(16292),o=Function.prototype.call;e.exports=n?o.bind(o):function(){return o.apply(o,arguments)}},88341:function(e,t,r){var n=r(90358),o=r(29186),i=Function.prototype,a=n&&Object.getOwnPropertyDescriptor,u=o(i,"name"),c=u&&"something"===function(){}.name,s=u&&(!n||n&&a(i,"name").configurable);e.exports={EXISTS:u,PROPER:c,CONFIGURABLE:s}},19626:function(e,t,r){var n=r(16292),o=Function.prototype,i=o.call,a=n&&o.bind.bind(i,i);e.exports=function(e){return n?a(e):function(){return i.apply(e,arguments)}}},54216:function(e,t,r){var n=r(37897),o=r(19626);e.exports=function(e){if("Function"===n(e))return o(e)}},10715:function(e,t,r){var n=r(68666),o=r(14376),i=function(e){return o(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?i(n[e]):n[e]&&n[e][t]}},1608:function(e,t,r){var n=r(81707),o=r(37811),i=r(35996),a=r(84194),u=r(92469)("iterator");e.exports=function(e){if(!i(e))return o(e,u)||o(e,"@@iterator")||a[n(e)]}},35216:function(e,t,r){var n=r(89055),o=r(20261),i=r(57772),a=r(56790),u=r(1608),c=TypeError;e.exports=function(e,t){var r=arguments.length<2?u(e):t;if(o(r))return i(n(r,e));throw c(a(e)+" is not iterable")}},37811:function(e,t,r){var n=r(20261),o=r(35996);e.exports=function(e,t){var r=e[t];return o(r)?void 0:n(r)}},68666:function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=function(e){return e&&e.Math==Math&&e};e.exports=o("object"==("undefined"===typeof globalThis?"undefined":n(globalThis))&&globalThis)||o("object"==("undefined"===typeof window?"undefined":n(window))&&window)||o("object"==("undefined"===typeof self?"undefined":n(self))&&self)||o("object"==("undefined"===typeof r.g?"undefined":n(r.g))&&r.g)||function(){return this}()||Function("return this")()},29186:function(e,t,r){var n=r(54216),o=r(857),i=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return i(o(e),t)}},17362:function(e){e.exports={}},77896:function(e,t,r){var n=r(10715);e.exports=n("document","documentElement")},1843:function(e,t,r){var n=r(90358),o=r(43100),i=r(44456);e.exports=!n&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},79327:function(e,t,r){var n=r(54216),o=r(43100),i=r(37897),a=Object,u=n("".split);e.exports=o((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?u(e,""):a(e)}:a},3849:function(e,t,r){var n=r(14376),o=r(19578),i=r(30173);e.exports=function(e,t,r){var a,u;return i&&n(a=t.constructor)&&a!==r&&o(u=a.prototype)&&u!==r.prototype&&i(e,u),e}},87413:function(e,t,r){var n=r(54216),o=r(14376),i=r(25018),a=n(Function.toString);o(i.inspectSource)||(i.inspectSource=function(e){return a(e)}),e.exports=i.inspectSource},72899:function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=r(20664),i=r(54216),a=r(17362),u=r(19578),c=r(29186),s=r(20728).f,l=r(29154),f=r(35035),d=r(71529),h=r(49057),p=r(54889),v=!1,y=h("meta"),m=0,g=function(e){s(e,y,{value:{objectID:"O"+m++,weakData:{}}})},b=e.exports={enable:function(){b.enable=function(){},v=!0;var e=l.f,t=i([].splice),r={};r[y]=1,e(r).length&&(l.f=function(r){for(var n=e(r),o=0,i=n.length;o<i;o++)if(n[o]===y){t(n,o,1);break}return n},o({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:f.f}))},fastKey:function(e,t){if(!u(e))return"symbol"==n(e)?e:("string"==typeof e?"S":"P")+e;if(!c(e,y)){if(!d(e))return"F";if(!t)return"E";g(e)}return e[y].objectID},getWeakData:function(e,t){if(!c(e,y)){if(!d(e))return!0;if(!t)return!1;g(e)}return e[y].weakData},onFreeze:function(e){return p&&v&&d(e)&&!c(e,y)&&g(e),e}};a[y]=!0},72955:function(e,t,r){var n,o,i,a=r(12828),u=r(68666),c=r(19578),s=r(63494),l=r(29186),f=r(25018),d=r(74798),h=r(17362),p=u.TypeError,v=u.WeakMap;if(a||f.state){var y=f.state||(f.state=new v);y.get=y.get,y.has=y.has,y.set=y.set,n=function(e,t){if(y.has(e))throw p("Object already initialized");return t.facade=e,y.set(e,t),t},o=function(e){return y.get(e)||{}},i=function(e){return y.has(e)}}else{var m=d("state");h[m]=!0,n=function(e,t){if(l(e,m))throw p("Object already initialized");return t.facade=e,s(e,m,t),t},o=function(e){return l(e,m)?e[m]:{}},i=function(e){return l(e,m)}}e.exports={set:n,get:o,has:i,enforce:function(e){return i(e)?o(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!c(t)||(r=o(t)).type!==e)throw p("Incompatible receiver, "+e+" required");return r}}}},81049:function(e,t,r){var n=r(92469),o=r(84194),i=n("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||a[i]===e)}},9198:function(e,t,r){var n=r(37897);e.exports=Array.isArray||function(e){return"Array"==n(e)}},14376:function(e,t,r){var n=r(18100),o=n.all;e.exports=n.IS_HTMLDDA?function(e){return"function"==typeof e||e===o}:function(e){return"function"==typeof e}},33095:function(e,t,r){var n=r(54216),o=r(43100),i=r(14376),a=r(81707),u=r(10715),c=r(87413),s=function(){},l=[],f=u("Reflect","construct"),d=/^\s*(?:class|function)\b/,h=n(d.exec),p=!d.exec(s),v=function(e){if(!i(e))return!1;try{return f(s,l,e),!0}catch(t){return!1}},y=function(e){if(!i(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!h(d,c(e))}catch(t){return!0}};y.sham=!0,e.exports=!f||o((function(){var e;return v(v.call)||!v(Object)||!v((function(){e=!0}))||e}))?y:v},21022:function(e,t,r){var n=r(43100),o=r(14376),i=/#|\.prototype\./,a=function(e,t){var r=c[u(e)];return r==l||r!=s&&(o(t)?n(t):!!t)},u=a.normalize=function(e){return String(e).replace(i,".").toLowerCase()},c=a.data={},s=a.NATIVE="N",l=a.POLYFILL="P";e.exports=a},35996:function(e){e.exports=function(e){return null===e||void 0===e}},19578:function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=r(14376),i=r(18100),a=i.all;e.exports=i.IS_HTMLDDA?function(e){return"object"==n(e)?null!==e:o(e)||e===a}:function(e){return"object"==n(e)?null!==e:o(e)}},78207:function(e){e.exports=!1},8951:function(e,t,r){var n=r(19578),o=r(37897),i=r(92469)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},94986:function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=r(10715),i=r(14376),a=r(49935),u=r(67086),c=Object;e.exports=u?function(e){return"symbol"==n(e)}:function(e){var t=o("Symbol");return i(t)&&a(t.prototype,c(e))}},46459:function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=r(82974),i=r(89055),a=r(57772),u=r(56790),c=r(81049),s=r(29481),l=r(49935),f=r(35216),d=r(1608),h=r(12053),p=TypeError,v=function(e,t){this.stopped=e,this.result=t},y=v.prototype;e.exports=function(e,t,r){var m,g,b,w,S,E,O,k=r&&r.that,_=!(!r||!r.AS_ENTRIES),A=!(!r||!r.IS_RECORD),T=!(!r||!r.IS_ITERATOR),P=!(!r||!r.INTERRUPTED),x=o(t,k),R=function(e){return m&&h(m,"normal",e),new v(!0,e)},L=function(e){return _?(a(e),P?x(e[0],e[1],R):x(e[0],e[1])):P?x(e,R):x(e)};if(A)m=e.iterator;else if(T)m=e;else{if(!(g=d(e)))throw p(u(e)+" is not iterable");if(c(g)){for(b=0,w=s(e);w>b;b++)if((S=L(e[b]))&&l(y,S))return S;return new v(!1)}m=f(e,g)}for(E=A?e.next:m.next;!(O=i(E,m)).done;){try{S=L(O.value)}catch(j){h(m,"throw",j)}if("object"==n(S)&&S&&l(y,S))return S}return new v(!1)}},12053:function(e,t,r){var n=r(89055),o=r(57772),i=r(37811);e.exports=function(e,t,r){var a,u;o(e);try{if(!(a=i(e,"return"))){if("throw"===t)throw r;return r}a=n(a,e)}catch(c){u=!0,a=c}if("throw"===t)throw r;if(u)throw a;return o(a),r}},30118:function(e,t,r){"use strict";var n=r(72776).IteratorPrototype,o=r(28376),i=r(33022),a=r(53593),u=r(84194),c=function(){return this};e.exports=function(e,t,r,s){var l=t+" Iterator";return e.prototype=o(n,{next:i(+!s,r)}),a(e,l,!1,!0),u[l]=c,e}},92334:function(e,t,r){"use strict";var n=r(20664),o=r(89055),i=r(78207),a=r(88341),u=r(14376),c=r(30118),s=r(26711),l=r(30173),f=r(53593),d=r(63494),h=r(46875),p=r(92469),v=r(84194),y=r(72776),m=a.PROPER,g=a.CONFIGURABLE,b=y.IteratorPrototype,w=y.BUGGY_SAFARI_ITERATORS,S=p("iterator"),E=function(){return this};e.exports=function(e,t,r,a,p,y,O){c(r,t,a);var k,_,A,T=function(e){if(e===p&&j)return j;if(!w&&e in R)return R[e];switch(e){case"keys":case"values":case"entries":return function(){return new r(this,e)}}return function(){return new r(this)}},P=t+" Iterator",x=!1,R=e.prototype,L=R[S]||R["@@iterator"]||p&&R[p],j=!w&&L||T(p),I="Array"==t&&R.entries||L;if(I&&(k=s(I.call(new e)))!==Object.prototype&&k.next&&(i||s(k)===b||(l?l(k,b):u(k[S])||h(k,S,E)),f(k,P,!0,!0),i&&(v[P]=E)),m&&"values"==p&&L&&"values"!==L.name&&(!i&&g?d(R,"name","values"):(x=!0,j=function(){return o(L,this)})),p)if(_={values:T("values"),keys:y?j:T("keys"),entries:T("entries")},O)for(A in _)(w||x||!(A in R))&&h(R,A,_[A]);else n({target:t,proto:!0,forced:w||x},_);return i&&!O||R[S]===j||h(R,S,j,{name:p}),v[t]=j,_}},72776:function(e,t,r){"use strict";var n,o,i,a=r(43100),u=r(14376),c=r(19578),s=r(28376),l=r(26711),f=r(46875),d=r(92469),h=r(78207),p=d("iterator"),v=!1;[].keys&&("next"in(i=[].keys())?(o=l(l(i)))!==Object.prototype&&(n=o):v=!0),!c(n)||a((function(){var e={};return n[p].call(e)!==e}))?n={}:h&&(n=s(n)),u(n[p])||f(n,p,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:v}},84194:function(e){e.exports={}},29481:function(e,t,r){var n=r(80609);e.exports=function(e){return n(e.length)}},36219:function(e,t,r){var n=r(43100),o=r(14376),i=r(29186),a=r(90358),u=r(88341).CONFIGURABLE,c=r(87413),s=r(72955),l=s.enforce,f=s.get,d=Object.defineProperty,h=a&&!n((function(){return 8!==d((function(){}),"length",{value:8}).length})),p=String(String).split("String"),v=e.exports=function(e,t,r){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!i(e,"name")||u&&e.name!==t)&&(a?d(e,"name",{value:t,configurable:!0}):e.name=t),h&&r&&i(r,"arity")&&e.length!==r.arity&&d(e,"length",{value:r.arity});try{r&&i(r,"constructor")&&r.constructor?a&&d(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(o){}var n=l(e);return i(n,"source")||(n.source=p.join("string"==typeof t?t:"")),e};Function.prototype.toString=v((function(){return o(this)&&f(this).source||c(this)}),"toString")},21852:function(e){var t=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(e){var n=+e;return(n>0?r:t)(n)}},2529:function(e,t,r){var n=r(8951),o=TypeError;e.exports=function(e){if(n(e))throw o("The method doesn't accept regular expressions");return e}},28376:function(e,t,r){var n,o=r(57772),i=r(73006),a=r(30364),u=r(17362),c=r(77896),s=r(44456),l=r(74798),f=l("IE_PROTO"),d=function(){},h=function(e){return"<script>"+e+"<\/script>"},p=function(e){e.write(h("")),e.close();var t=e.parentWindow.Object;return e=null,t},v=function(){try{n=new ActiveXObject("htmlfile")}catch(o){}var e,t;v="undefined"!=typeof document?document.domain&&n?p(n):((t=s("iframe")).style.display="none",c.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(h("document.F=Object")),e.close(),e.F):p(n);for(var r=a.length;r--;)delete v.prototype[a[r]];return v()};u[f]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(d.prototype=o(e),r=new d,d.prototype=null,r[f]=e):r=v(),void 0===t?r:i.f(r,t)}},73006:function(e,t,r){var n=r(90358),o=r(52764),i=r(20728),a=r(57772),u=r(76370),c=r(35815);t.f=n&&!o?Object.defineProperties:function(e,t){a(e);for(var r,n=u(t),o=c(t),s=o.length,l=0;s>l;)i.f(e,r=o[l++],n[r]);return e}},20728:function(e,t,r){var n=r(90358),o=r(1843),i=r(52764),a=r(57772),u=r(41396),c=TypeError,s=Object.defineProperty,l=Object.getOwnPropertyDescriptor;t.f=n?i?function(e,t,r){if(a(e),t=u(t),a(r),"function"===typeof e&&"prototype"===t&&"value"in r&&"writable"in r&&!r.writable){var n=l(e,t);n&&n.writable&&(e[t]=r.value,r={configurable:"configurable"in r?r.configurable:n.configurable,enumerable:"enumerable"in r?r.enumerable:n.enumerable,writable:!1})}return s(e,t,r)}:s:function(e,t,r){if(a(e),t=u(t),a(r),o)try{return s(e,t,r)}catch(n){}if("get"in r||"set"in r)throw c("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},49376:function(e,t,r){var n=r(90358),o=r(89055),i=r(14040),a=r(33022),u=r(76370),c=r(41396),s=r(29186),l=r(1843),f=Object.getOwnPropertyDescriptor;t.f=n?f:function(e,t){if(e=u(e),t=c(t),l)try{return f(e,t)}catch(r){}if(s(e,t))return a(!o(i.f,e,t),e[t])}},35035:function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=r(37897),i=r(76370),a=r(29154).f,u=r(47853),c="object"==("undefined"===typeof window?"undefined":n(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return c&&"Window"==o(e)?function(e){try{return a(e)}catch(t){return u(c)}}(e):a(i(e))}},29154:function(e,t,r){var n=r(7159),o=r(30364).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},84065:function(e,t){t.f=Object.getOwnPropertySymbols},26711:function(e,t,r){var n=r(29186),o=r(14376),i=r(857),a=r(74798),u=r(14215),c=a("IE_PROTO"),s=Object,l=s.prototype;e.exports=u?s.getPrototypeOf:function(e){var t=i(e);if(n(t,c))return t[c];var r=t.constructor;return o(r)&&t instanceof r?r.prototype:t instanceof s?l:null}},71529:function(e,t,r){var n=r(43100),o=r(19578),i=r(37897),a=r(92753),u=Object.isExtensible,c=n((function(){u(1)}));e.exports=c||a?function(e){return!!o(e)&&((!a||"ArrayBuffer"!=i(e))&&(!u||u(e)))}:u},49935:function(e,t,r){var n=r(54216);e.exports=n({}.isPrototypeOf)},7159:function(e,t,r){var n=r(54216),o=r(29186),i=r(76370),a=r(67381).indexOf,u=r(17362),c=n([].push);e.exports=function(e,t){var r,n=i(e),s=0,l=[];for(r in n)!o(u,r)&&o(n,r)&&c(l,r);for(;t.length>s;)o(n,r=t[s++])&&(~a(l,r)||c(l,r));return l}},35815:function(e,t,r){var n=r(7159),o=r(30364);e.exports=Object.keys||function(e){return n(e,o)}},14040:function(e,t){"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,o=n&&!r.call({1:2},1);t.f=o?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},30173:function(e,t,r){var n=r(54216),o=r(57772),i=r(5615);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=n(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),t=r instanceof Array}catch(a){}return function(r,n){return o(r),i(n),t?e(r,n):r.__proto__=n,r}}():void 0)},86037:function(e,t,r){"use strict";var n=r(43231),o=r(81707);e.exports=n?{}.toString:function(){return"[object "+o(this)+"]"}},22427:function(e,t,r){var n=r(89055),o=r(14376),i=r(19578),a=TypeError;e.exports=function(e,t){var r,u;if("string"===t&&o(r=e.toString)&&!i(u=n(r,e)))return u;if(o(r=e.valueOf)&&!i(u=n(r,e)))return u;if("string"!==t&&o(r=e.toString)&&!i(u=n(r,e)))return u;throw a("Can't convert object to primitive value")}},35560:function(e,t,r){var n=r(10715),o=r(54216),i=r(29154),a=r(84065),u=r(57772),c=o([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=i.f(u(e)),r=a.f;return r?c(t,r(e)):t}},88936:function(e,t,r){var n=r(68666);e.exports=n},63093:function(e,t,r){var n=r(35996),o=TypeError;e.exports=function(e){if(n(e))throw o("Can't call method on "+e);return e}},80894:function(e,t,r){"use strict";var n=r(10715),o=r(20728),i=r(92469),a=r(90358),u=i("species");e.exports=function(e){var t=n(e),r=o.f;a&&t&&!t[u]&&r(t,u,{configurable:!0,get:function(){return this}})}},53593:function(e,t,r){var n=r(20728).f,o=r(29186),i=r(92469)("toStringTag");e.exports=function(e,t,r){e&&!r&&(e=e.prototype),e&&!o(e,i)&&n(e,i,{configurable:!0,value:t})}},74798:function(e,t,r){var n=r(58585),o=r(49057),i=n("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},25018:function(e,t,r){var n=r(68666),o=r(36457),i=n["__core-js_shared__"]||o("__core-js_shared__",{});e.exports=i},58585:function(e,t,r){var n=r(78207),o=r(25018);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.25.5",mode:n?"pure":"global",copyright:"\xa9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.5/LICENSE",source:"https://github.com/zloirock/core-js"})},89512:function(e,t,r){var n=r(54216),o=r(60069),i=r(14764),a=r(63093),u=n("".charAt),c=n("".charCodeAt),s=n("".slice),l=function(e){return function(t,r){var n,l,f=i(a(t)),d=o(r),h=f.length;return d<0||d>=h?e?"":void 0:(n=c(f,d))<55296||n>56319||d+1===h||(l=c(f,d+1))<56320||l>57343?e?u(f,d):n:e?s(f,d,d+2):l-56320+(n-55296<<10)+65536}};e.exports={codeAt:l(!1),charAt:l(!0)}},52680:function(e,t,r){var n=r(88263),o=r(43100);e.exports=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},13748:function(e,t,r){var n=r(60069),o=Math.max,i=Math.min;e.exports=function(e,t){var r=n(e);return r<0?o(r+t,0):i(r,t)}},76370:function(e,t,r){var n=r(79327),o=r(63093);e.exports=function(e){return n(o(e))}},60069:function(e,t,r){var n=r(21852);e.exports=function(e){var t=+e;return t!==t||0===t?0:n(t)}},80609:function(e,t,r){var n=r(60069),o=Math.min;e.exports=function(e){return e>0?o(n(e),9007199254740991):0}},857:function(e,t,r){var n=r(63093),o=Object;e.exports=function(e){return o(n(e))}},22183:function(e,t,r){var n=r(89055),o=r(19578),i=r(94986),a=r(37811),u=r(22427),c=r(92469),s=TypeError,l=c("toPrimitive");e.exports=function(e,t){if(!o(e)||i(e))return e;var r,c=a(e,l);if(c){if(void 0===t&&(t="default"),r=n(c,e,t),!o(r)||i(r))return r;throw s("Can't convert object to primitive value")}return void 0===t&&(t="number"),u(e,t)}},41396:function(e,t,r){var n=r(22183),o=r(94986);e.exports=function(e){var t=n(e,"string");return o(t)?t:t+""}},43231:function(e,t,r){var n={};n[r(92469)("toStringTag")]="z",e.exports="[object z]"===String(n)},14764:function(e,t,r){var n=r(81707),o=String;e.exports=function(e){if("Symbol"===n(e))throw TypeError("Cannot convert a Symbol value to a string");return o(e)}},56790:function(e){var t=String;e.exports=function(e){try{return t(e)}catch(r){return"Object"}}},49057:function(e,t,r){var n=r(54216),o=0,i=Math.random(),a=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++o+i,36)}},67086:function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=r(52680);e.exports=o&&!Symbol.sham&&"symbol"==n(Symbol.iterator)},52764:function(e,t,r){var n=r(90358),o=r(43100);e.exports=n&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},12828:function(e,t,r){var n=r(68666),o=r(14376),i=n.WeakMap;e.exports=o(i)&&/native code/.test(String(i))},92469:function(e,t,r){var n=r(68666),o=r(58585),i=r(29186),a=r(49057),u=r(52680),c=r(67086),s=o("wks"),l=n.Symbol,f=l&&l.for,d=c?l:l&&l.withoutSetter||a;e.exports=function(e){if(!i(s,e)||!u&&"string"!=typeof s[e]){var t="Symbol."+e;u&&i(l,e)?s[e]=l[e]:s[e]=c&&f?f(t):d(t)}return s[e]}},75487:function(e,t,r){"use strict";var n=r(20664),o=r(857),i=r(29481),a=r(60069),u=r(11713);n({target:"Array",proto:!0},{at:function(e){var t=o(this),r=i(t),n=a(e),u=n>=0?n:r+n;return u<0||u>=r?void 0:t[u]}}),u("at")},4590:function(e,t,r){"use strict";var n=r(20664),o=r(43100),i=r(9198),a=r(19578),u=r(857),c=r(29481),s=r(70647),l=r(44136),f=r(34156),d=r(13479),h=r(92469),p=r(88263),v=h("isConcatSpreadable"),y=p>=51||!o((function(){var e=[];return e[v]=!1,e.concat()[0]!==e})),m=d("concat"),g=function(e){if(!a(e))return!1;var t=e[v];return void 0!==t?!!t:i(e)};n({target:"Array",proto:!0,arity:1,forced:!y||!m},{concat:function(e){var t,r,n,o,i,a=u(this),d=f(a,0),h=0;for(t=-1,n=arguments.length;t<n;t++)if(g(i=-1===t?a:arguments[t]))for(o=c(i),s(h+o),r=0;r<o;r++,h++)r in i&&l(d,h,i[r]);else s(h+1),l(d,h++,i);return d.length=h,d}})},11189:function(e,t,r){var n=r(20664),o=r(74630),i=r(11713);n({target:"Array",proto:!0},{copyWithin:o}),i("copyWithin")},72310:function(e,t,r){"use strict";var n=r(20664),o=r(33510).every;n({target:"Array",proto:!0,forced:!r(8594)("every")},{every:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},40781:function(e,t,r){var n=r(20664),o=r(21482),i=r(11713);n({target:"Array",proto:!0},{fill:o}),i("fill")},41929:function(e,t,r){"use strict";var n=r(20664),o=r(33510).filter;n({target:"Array",proto:!0,forced:!r(13479)("filter")},{filter:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},66202:function(e,t,r){"use strict";var n=r(20664),o=r(33510).findIndex,i=r(11713),a=!0;"findIndex"in[]&&Array(1).findIndex((function(){a=!1})),n({target:"Array",proto:!0,forced:a},{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("findIndex")},44404:function(e,t,r){"use strict";var n=r(20664),o=r(4437).findLastIndex,i=r(11713);n({target:"Array",proto:!0},{findLastIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("findLastIndex")},86031:function(e,t,r){"use strict";var n=r(20664),o=r(4437).findLast,i=r(11713);n({target:"Array",proto:!0},{findLast:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("findLast")},56617:function(e,t,r){"use strict";var n=r(20664),o=r(33510).find,i=r(11713),a=!0;"find"in[]&&Array(1).find((function(){a=!1})),n({target:"Array",proto:!0,forced:a},{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("find")},82:function(e,t,r){"use strict";var n=r(20664),o=r(49589),i=r(20261),a=r(857),u=r(29481),c=r(34156);n({target:"Array",proto:!0},{flatMap:function(e){var t,r=a(this),n=u(r);return i(e),(t=c(r,0)).length=o(t,r,r,n,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},98316:function(e,t,r){"use strict";var n=r(20664),o=r(49589),i=r(857),a=r(29481),u=r(60069),c=r(34156);n({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=i(this),r=a(t),n=c(t,0);return n.length=o(n,t,t,r,0,void 0===e?1:u(e)),n}})},6751:function(e,t,r){"use strict";var n=r(20664),o=r(58891);n({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},40239:function(e,t,r){var n=r(20664),o=r(76643);n({target:"Array",stat:!0,forced:!r(2153)((function(e){Array.from(e)}))},{from:o})},5585:function(e,t,r){"use strict";var n=r(20664),o=r(67381).includes,i=r(43100),a=r(11713);n({target:"Array",proto:!0,forced:i((function(){return!Array(1).includes()}))},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},72926:function(e,t,r){"use strict";var n=r(20664),o=r(54216),i=r(67381).indexOf,a=r(8594),u=o([].indexOf),c=!!u&&1/u([1],1,-0)<0,s=a("indexOf");n({target:"Array",proto:!0,forced:c||!s},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return c?u(this,e,t)||0:i(this,e,t)}})},25292:function(e,t,r){r(20664)({target:"Array",stat:!0},{isArray:r(9198)})},75729:function(e,t,r){"use strict";var n=r(76370),o=r(11713),i=r(84194),a=r(72955),u=r(20728).f,c=r(92334),s=r(95853),l=r(78207),f=r(90358),d=a.set,h=a.getterFor("Array Iterator");e.exports=c(Array,"Array",(function(e,t){d(this,{type:"Array Iterator",target:n(e),index:0,kind:t})}),(function(){var e=h(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,s(void 0,!0)):s("keys"==r?n:"values"==r?t[n]:[n,t[n]],!1)}),"values");var p=i.Arguments=i.Array;if(o("keys"),o("values"),o("entries"),!l&&f&&"values"!==p.name)try{u(p,"name",{value:"values"})}catch(v){}},14469:function(e,t,r){"use strict";var n=r(20664),o=r(54216),i=r(79327),a=r(76370),u=r(8594),c=o([].join),s=i!=Object,l=u("join",",");n({target:"Array",proto:!0,forced:s||!l},{join:function(e){return c(a(this),void 0===e?",":e)}})},85277:function(e,t,r){var n=r(20664),o=r(69516);n({target:"Array",proto:!0,forced:o!==[].lastIndexOf},{lastIndexOf:o})},47121:function(e,t,r){"use strict";var n=r(20664),o=r(33510).map;n({target:"Array",proto:!0,forced:!r(13479)("map")},{map:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},18021:function(e,t,r){"use strict";var n=r(20664),o=r(43100),i=r(33095),a=r(44136),u=Array;n({target:"Array",stat:!0,forced:o((function(){function e(){}return!(u.of.call(e)instanceof e)}))},{of:function(){for(var e=0,t=arguments.length,r=new(i(this)?this:u)(t);t>e;)a(r,e,arguments[e++]);return r.length=t,r}})},53171:function(e,t,r){"use strict";var n=r(20664),o=r(857),i=r(29481),a=r(66090),u=r(70647),c=r(43100)((function(){return 4294967297!==[].push.call({length:4294967296},1)})),s=!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}();n({target:"Array",proto:!0,arity:1,forced:c||s},{push:function(e){var t=o(this),r=i(t),n=arguments.length;u(r+n);for(var c=0;c<n;c++)t[r]=arguments[c],r++;return a(t,r),r}})},49471:function(e,t,r){"use strict";var n=r(20664),o=r(33538).right,i=r(8594),a=r(88263),u=r(81897);n({target:"Array",proto:!0,forced:!i("reduceRight")||!u&&a>79&&a<83},{reduceRight:function(e){return o(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},60343:function(e,t,r){"use strict";var n=r(20664),o=r(33538).left,i=r(8594),a=r(88263),u=r(81897);n({target:"Array",proto:!0,forced:!i("reduce")||!u&&a>79&&a<83},{reduce:function(e){var t=arguments.length;return o(this,e,t,t>1?arguments[1]:void 0)}})},5192:function(e,t,r){"use strict";var n=r(20664),o=r(54216),i=r(9198),a=o([].reverse),u=[1,2];n({target:"Array",proto:!0,forced:String(u)===String(u.reverse())},{reverse:function(){return i(this)&&(this.length=this.length),a(this)}})},98655:function(e,t,r){"use strict";var n=r(20664),o=r(9198),i=r(33095),a=r(19578),u=r(13748),c=r(29481),s=r(76370),l=r(44136),f=r(92469),d=r(13479),h=r(90926),p=d("slice"),v=f("species"),y=Array,m=Math.max;n({target:"Array",proto:!0,forced:!p},{slice:function(e,t){var r,n,f,d=s(this),p=c(d),g=u(e,p),b=u(void 0===t?p:t,p);if(o(d)&&(r=d.constructor,(i(r)&&(r===y||o(r.prototype))||a(r)&&null===(r=r[v]))&&(r=void 0),r===y||void 0===r))return h(d,g,b);for(n=new(void 0===r?y:r)(m(b-g,0)),f=0;g<b;g++,f++)g in d&&l(n,f,d[g]);return n.length=f,n}})},57508:function(e,t,r){"use strict";var n=r(20664),o=r(33510).some;n({target:"Array",proto:!0,forced:!r(8594)("some")},{some:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},41899:function(e,t,r){"use strict";var n=r(20664),o=r(54216),i=r(20261),a=r(857),u=r(29481),c=r(13771),s=r(14764),l=r(43100),f=r(1743),d=r(8594),h=r(78820),p=r(90936),v=r(88263),y=r(46150),m=[],g=o(m.sort),b=o(m.push),w=l((function(){m.sort(void 0)})),S=l((function(){m.sort(null)})),E=d("sort"),O=!l((function(){if(v)return v<70;if(!(h&&h>3)){if(p)return!0;if(y)return y<603;var e,t,r,n,o="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)m.push({k:t+n,v:r})}for(m.sort((function(e,t){return t.v-e.v})),n=0;n<m.length;n++)t=m[n].k.charAt(0),o.charAt(o.length-1)!==t&&(o+=t);return"DGBEFHACIJK"!==o}}));n({target:"Array",proto:!0,forced:w||!S||!E||!O},{sort:function(e){void 0!==e&&i(e);var t=a(this);if(O)return void 0===e?g(t):g(t,e);var r,n,o=[],l=u(t);for(n=0;n<l;n++)n in t&&b(o,t[n]);for(f(o,function(e){return function(t,r){return void 0===r?-1:void 0===t?1:void 0!==e?+e(t,r)||0:s(t)>s(r)?1:-1}}(e)),r=u(o),n=0;n<r;)t[n]=o[n++];for(;n<l;)c(t,n++);return t}})},57074:function(e,t,r){r(80894)("Array")},57766:function(e,t,r){"use strict";var n=r(20664),o=r(857),i=r(13748),a=r(60069),u=r(29481),c=r(66090),s=r(70647),l=r(34156),f=r(44136),d=r(13771),h=r(13479)("splice"),p=Math.max,v=Math.min;n({target:"Array",proto:!0,forced:!h},{splice:function(e,t){var r,n,h,y,m,g,b=o(this),w=u(b),S=i(e,w),E=arguments.length;for(0===E?r=n=0:1===E?(r=0,n=w-S):(r=E-2,n=v(p(a(t),0),w-S)),s(w+r-n),h=l(b,n),y=0;y<n;y++)(m=S+y)in b&&f(h,y,b[m]);if(h.length=n,r<n){for(y=S;y<w-n;y++)g=y+r,(m=y+n)in b?b[g]=b[m]:d(b,g);for(y=w;y>w-n+r;y--)d(b,y-1)}else if(r>n)for(y=w-n;y>S;y--)g=y+r-1,(m=y+n-1)in b?b[g]=b[m]:d(b,g);for(y=0;y<r;y++)b[y+S]=arguments[y+2];return c(b,w-n+r),h}})},91662:function(e,t,r){r(11713)("flatMap")},41005:function(e,t,r){r(11713)("flat")},22021:function(e,t,r){"use strict";var n=r(20664),o=r(857),i=r(29481),a=r(66090),u=r(13771),c=r(70647),s=1!==[].unshift(0),l=!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}}();n({target:"Array",proto:!0,arity:1,forced:s||l},{unshift:function(e){var t=o(this),r=i(t),n=arguments.length;if(n){c(r+n);for(var s=r;s--;){var l=s+n;s in t?t[l]=t[s]:u(t,l)}for(var f=0;f<n;f++)t[f]=arguments[f]}return a(t,r+n)}})},78626:function(e,t,r){"use strict";r(40902)("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),r(63208))},83166:function(e,t,r){r(78626)},32274:function(e,t,r){r(20664)({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})},6331:function(e,t,r){var n=r(43231),o=r(46875),i=r(86037);n||o(Object.prototype,"toString",i,{unsafe:!0})},13701:function(e,t,r){"use strict";r(40902)("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),r(63208))},5609:function(e,t,r){r(13701)},99186:function(e,t,r){"use strict";var n=r(20664),o=r(54216),i=r(2529),a=r(63093),u=r(14764),c=r(36303),s=o("".indexOf);n({target:"String",proto:!0,forced:!c("includes")},{includes:function(e){return!!~s(u(a(this)),u(i(e)),arguments.length>1?arguments[1]:void 0)}})},55842:function(e,t,r){"use strict";var n=r(89512).charAt,o=r(14764),i=r(72955),a=r(92334),u=r(95853),c=i.set,s=i.getterFor("String Iterator");a(String,"String",(function(e){c(this,{type:"String Iterator",string:o(e),index:0})}),(function(){var e,t=s(this),r=t.string,o=t.index;return o>=r.length?u(void 0,!0):(e=n(r,o),t.index+=e.length,u(e,!1))}))},15515:function(e,t,r){"use strict";var n,o=r(20664),i=r(54216),a=r(49376).f,u=r(80609),c=r(14764),s=r(2529),l=r(63093),f=r(36303),d=r(78207),h=i("".startsWith),p=i("".slice),v=Math.min,y=f("startsWith");o({target:"String",proto:!0,forced:!(!d&&!y&&!(!(n=a(String.prototype,"startsWith"))||n.writable))&&!y},{startsWith:function(e){var t=c(l(this));s(e);var r=u(v(arguments.length>1?arguments[1]:void 0,t.length)),n=c(e);return h?h(t,n,r):p(t,r,r+n.length)===n}})},71104:function(e){function t(e,t){var r,n=e[1]||"",o=e[3];if(!o)return n;if(t&&"function"===typeof btoa){var i=(r=o,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),a=o.sources.map((function(e){return"/*# sourceURL="+o.sourceRoot+e+" */"}));return[n].concat(a).concat([i]).join("\n")}return[n].join("\n")}e.exports=function(e){var r=[];return r.toString=function(){return this.map((function(r){var n=t(r,e);return r[2]?"@media "+r[2]+"{"+n+"}":n})).join("")},r.i=function(e,t){"string"===typeof e&&(e=[[null,e,""]]);for(var n={},o=0;o<this.length;o++){var i=this[o][0];"number"===typeof i&&(n[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"===typeof a[0]&&n[a[0]]||(t&&!a[2]?a[2]=t:t&&(a[2]="("+a[2]+") and ("+t+")"),r.push(a))}},r}},7507:function(e){e.exports=function(e){e||(e=window);var t=e.navigator.userAgent,r=t.indexOf("MSIE ");if(r>0)return parseInt(t.substring(r+5,t.indexOf(".",r)),10);if(t.indexOf("Trident/")>0){var n=t.indexOf("rv:");return parseInt(t.substring(n+3,t.indexOf(".",n)),10)}var o=t.indexOf("Edge/");return o>0&&parseInt(t.substring(o+5,t.indexOf(".",o)),10)}},10855:function(e){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=Array.isArray,n=Object.keys,o=Object.prototype.hasOwnProperty;e.exports=function e(i,a){if(i===a)return!0;if(i&&a&&"object"==t(i)&&"object"==t(a)){var u,c,s,l=r(i),f=r(a);if(l&&f){if((c=i.length)!=a.length)return!1;for(u=c;0!==u--;)if(!e(i[u],a[u]))return!1;return!0}if(l!=f)return!1;var d=i instanceof Date,h=a instanceof Date;if(d!=h)return!1;if(d&&h)return i.getTime()==a.getTime();var p=i instanceof RegExp,v=a instanceof RegExp;if(p!=v)return!1;if(p&&v)return i.toString()==a.toString();var y=n(i);if((c=y.length)!==n(a).length)return!1;for(u=c;0!==u--;)if(!o.call(a,y[u]))return!1;for(u=c;0!==u--;)if(!e(i[s=y[u]],a[s]))return!1;return!0}return i!==i&&a!==a}},46063:function(e){function t(){var e,t,r,n,o=document.createElement("canvas");try{e=o.getContext("webgl")||o.getContext("experimental-webgl")}catch(i){}return e&&(t=e.getExtension("WEBGL_debug_renderer_info"),r=e.getParameter(t.UNMASKED_VENDOR_WEBGL),n=e.getParameter(t.UNMASKED_RENDERER_WEBGL)),{debugInfo:t,vendor:r,renderer:n}}e.exports=t,e.exports.getGpu=t},71292:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={TALB:"album",TBPM:"bpm",TCOM:"composer",TCON:"genre",TCOP:"copyright",TDEN:"encoding-time",TDLY:"playlist-delay",TDOR:"original-release-time",TDRC:"recording-time",TDRL:"release-time",TDTG:"tagging-time",TENC:"encoder",TEXT:"writer",TFLT:"file-type",TIPL:"involved-people",TIT1:"content-group",TIT2:"title",TIT3:"subtitle",TKEY:"initial-key",TLAN:"language",TLEN:"length",TMCL:"credits",TMED:"media-type",TMOO:"mood",TOAL:"original-album",TOFN:"original-filename",TOLY:"original-writer",TOPE:"original-artist",TOWN:"owner",TPE1:"artist",TPE2:"band",TPE3:"conductor",TPE4:"remixer",TPOS:"set-part",TPRO:"produced-notice",TPUB:"publisher",TRCK:"track",TRSN:"radio-name",TRSO:"radio-owner",TSOA:"album-sort",TSOP:"performer-sort",TSOT:"title-sort",TSRC:"isrc",TSSE:"encoder-settings",TSST:"set-subtitle",TXXX:"user-defined-text-information",TYER:"year",WCOM:"url-commercial",WCOP:"url-legal",WOAF:"url-file",WOAR:"url-artist",WOAS:"url-source",WORS:"url-radio",WPAY:"url-payment",WPUB:"url-publisher",WAF:"url-file",WAR:"url-artist",WAS:"url-source",WCM:"url-commercial",WCP:"url-copyright",WPB:"url-publisher",COMM:"comments",USLT:"lyrics",APIC:"image",PIC:"image",IPLS:"involved-people-list",OWNE:"ownership"},t.FrameTypeValueMap={TXXX:"array",COMM:"array",USLT:"array"}},75046:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["Blues","Classic Rock","Country","Dance","Disco","Funk","Grunge","Hip-Hop","Jazz","Metal","New Age","Oldies","Other","Pop","R&B","Rap","Reggae","Rock","Techno","Industrial","Alternative","Ska","Death Metal","Pranks","Soundtrack","Euro-Techno","Ambient","Trip-Hop","Vocal","Jazz+Funk","Fusion","Trance","Classical","Instrumental","Acid","House","Game","Sound Clip","Gospel","Noise","AlternRock","Bass","Soul","Punk","Space","Meditative","Instrumental Pop","Instrumental Rock","Ethnic","Gothic","Darkwave","Techno-Industrial","Electronic","Pop-Folk","Eurodance","Dream","Southern Rock","Comedy","Cult","Gangsta Rap","Top 40","Christian Rap","Pop / Funk","Jungle","Native American","Cabaret","New Wave","Psychedelic","Rave","Showtunes","Trailer","Lo-Fi","Tribal","Acid Punk","Acid Jazz","Polka","Retro","Musical","Rock & Roll","Hard Rock","Folk","Folk-Rock","National Folk","Swing","Fast  Fusion","Bebob","Latin","Revival","Celtic","Bluegrass","Avantgarde","Gothic Rock","Progressive Rock","Psychedelic Rock","Symphonic Rock","Slow Rock","Big Band","Chorus","Easy Listening","Acoustic","Humour","Speech","Chanson","Opera","Chamber Music","Sonata","Symphony","Booty Bass","Primus","Porn Groove","Satire","Slow Jam","Club","Tango","Samba","Folklore","Ballad","Power Ballad","Rhythmic Soul","Freestyle","Duet","Punk Rock","Drum Solo","A Cappella","Euro-House","Dance Hall","Goa","Drum & Bass","Club-House","Hardcore","Terror","Indie","BritPop","Negerpunk","Polsk Punk","Beat","Christian Gangsta Rap","Heavy Metal","Black Metal","Crossover","Contemporary Christian","Christian Rock","Merengue","Salsa","Thrash Metal","Anime","JPop","Synthpop","Rock/Pop"]},1262:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["other","file-icon","icon","cover-front","cover-back","leaflet","media","artist-lead","artist","conductor","band","composer","lyricist-writer","recording-location","during-recording","during-performance","screen","fish","illustration","logo-band","logo-publisher"]},31430:function(e,t,r){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&(r[n[o]]=e[n[o]])}return r};Object.defineProperty(t,"__esModule",{value:!0});var i=r(65221);t.parseV1Tag=i.default;var a=r(9219);t.parseV2Tag=a.default,r(23399).default(),t.parse=function(e){var t=i.default(e),r=a.default(e);if(!r&&!t)return!1;var u={version:!1},c=r||u,s=c.version,l=o(c,["version"]),f=t||u,d=f.version,h=o(f,["version"]),p=n({version:{v1:d,v2:s}},h,l);return h.comments&&(p.comments=[{value:h.comments}].concat(l&&l.comments?l.comments:[])),p}},65221:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(75046),o=r(9082);t.default=function(e){if(!e||e.length<128)return!1;e=e.slice(e.length-128);var t={version:{major:1,minor:0}};if("TAG"!==o.readBytesToUTF8(e,3))return!1;var r=/(^[\s0]+|[\s0]+$)/;return t.title=o.readBytesToUTF8(e.slice(3),30).replace(r,""),t.artist=o.readBytesToUTF8(e.slice(33),30).replace(r,""),t.album=o.readBytesToUTF8(e.slice(63),30).replace(r,""),t.year=o.readBytesToUTF8(e.slice(93),4).replace(r,""),0===e[125]?(t.comments=o.readBytesToUTF8(e.slice(97),28).replace(r,""),t.version.minor=1,t.track=e[126]):t.comments=o.readBytesToUTF8(e.slice(97),30).replace(r,""),t.genre=n.default[e[127]]||"",t}},9219:function(e,t,r){"use strict";function n(e){return 2097152*(127&e[0])+16384*(127&e[1])+128*(127&e[2])+(127&e[3])}function o(e){return e.length<4?0:16777216*e[0]+65536*e[1]+256*e[2]+e[3]}function i(e,t,r){var n={id:null,tag:null,value:null},o={id:s.readBytesToUTF8(e,4),type:null,size:r,flags:[e[8],e[9]]};if(o.type=o.id[0],n.id=o.id,0!==o.flags[1])return n;if(!(o.id in a.default))return n;n.tag=a.default[o.id];var i=0,l=0,f=0,d=0;if("T"===o.type){if(i=e[10],"TXXX"===o.id){l=11,f=s.getEndpointOfBytes(e,i,l)-l;var h={description:s.readBytesToString(e.slice(l),i,f),value:""};l+=f+1,l=s.skipPaddingZeros(e,l),h.value=s.readBytesToString(e.slice(l),i),n.value=h}else if(n.value=s.readBytesToString(e.slice(11),i),"TCON"===o.id&&null!==n.value)if("("===n.value[0]){var p=n.value.match(/\(\d+\)/g);p&&(n.value=p.map((function(e){return u.default[+e.slice(1,-1)]})).join(","))}else{var v=parseInt(n.value,10);isNaN(v)||(n.value=u.default[v])}}else if("W"===o.type)"WXXX"===o.id&&0===e[10]?n.value=s.readBytesToISO8859(e.slice(11)):n.value=s.readBytesToISO8859(e.slice(10));else if("COMM"===o.id||"USLT"===o.id){i=e[10],l=14,f=0;var y=s.readBytesToISO8859(e.slice(11),3);f=s.getEndpointOfBytes(e,i,l)-l;var m=s.readBytesToString(e.slice(l),i,f);l=s.skipPaddingZeros(e,l+f+1),n.value={language:y,description:m,value:s.readBytesToString(e.slice(l),i)}}else if("APIC"===o.id){i=e[10];var g={type:null,mime:null,description:null,data:null};for(l=11,f=s.getEndpointOfBytes(e,0,l)-l,g.mime=s.readBytesToString(e.slice(l),0,f),g.type=c.default[e[l+f+1]]||"other",l+=f+2,f=0,d=l;;d++)if(0===e[d]){f=d-l;break}g.description=0===f?null:s.readBytesToString(e.slice(l),i,f),l=s.skipPaddingZeros(e,l+f+1),g.data=e.slice(l),n.value=g}else if("IPLS"===o.id)i=e[10],n.value=s.readBytesToString(e.slice(11),i);else if("OWNE"===o.id){i=e[10],l=11,f=s.getEndpointOfBytes(e,i,l);var b=s.readBytesToISO8859(e.slice(l),f);l+=f+1;var w=s.readBytesToISO8859(e.slice(l),8);l+=8,n.value={pricePayed:b,dateOfPurch:w,seller:s.readBytesToString(e.slice(l),i)}}return n}Object.defineProperty(t,"__esModule",{value:!0});var a=r(71292),u=r(75046),c=r(1262),s=r(9082);t.default=function(e){if(!e||e.length<20)return!1;var t=function(e){if(!e||e.length<10)return!1;if("ID3"!==s.readBytesToUTF8(e,3))return!1;var t=e[5];return{version:{major:2,minor:e[3],revision:e[4],flags:{unsync:0!==(128&t),xheader:0!==(64&t),experimental:0!==(32&t)}}}}(e.slice(0,10));if(!t)return!1;var r=t.version.flags;if(r.unsync)throw new Error("no support for unsynchronisation");var u=10;r.xheader&&(u+=n(e.slice(10,14)));var c=n(e.slice(6,10));return function(e,t){var r=0,n=t.version;for(;r<e.length;){var u=o(e.slice(r+4));if(0===u)break;var c=e.slice(r,r+10+u);if(!c.length)break;var s=i(c,n.minor,u);s.tag&&("array"===a.FrameTypeValueMap[s.id]?t[s.tag]?t[s.tag].push(s.value):t[s.tag]=[s.value]:t[s.tag]=s.value),r+=c.length}}(e.slice(u,c+u),t),t},t.calcTagSize=n,t.calcFrameSize=o},23399:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){"function"!==typeof Uint8Array||Uint8Array.prototype.slice||Object.defineProperty(Uint8Array.prototype,"slice",{value:Array.prototype.slice})}},9082:function(e,t){"use strict";function r(e,t){t=null==t||t<0?e.length:Math.min(t,e.length);var r=0;239===e[0]&&187===e[1]&&191===e[2]&&(r=3);for(var n=[],o=0;r<t;o++){var a=e[r++],u=void 0,c=void 0,s=void 0;if(0===a)break;a<128?n[o]=i(a):a>=194&&a<224?(u=e[r++],n[o]=i(((31&a)<<6)+(63&u))):a>=224&&a<240?(u=e[r++],c=e[r++],n[o]=i(((15&a)<<12)+((63&u)<<6)+(63&c))):a>=240&&a<245&&(s=((7&a)<<18)+((63&(u=e[r++]))<<12)+((63&(c=e[r++]))<<6)+(63&e[r++])-65536,n[o]=i(55296+(s>>10),56320+(1023&s)))}return n.join("")}function n(e,t,r){r=null==r||r<0?e.length:Math.min(r,e.length);var n=0,o=1,a=0;254===e[0]&&255===e[1]?(t=!0,n=2):255===e[0]&&254===e[1]&&(t=!1,n=2),t&&(o=0,a=1);for(var u,c,s,l,f=[],d=0;n<r&&(u=e[n+o],c=e[n+a],n+=2,0!==(s=(u<<8)+c));d++)u<216||u>=224?f[d]=i(s):(l=(e[n+o]<<8)+e[n+a],n+=2,f[d]=i(s,l));return f.join("")}function o(e,t){t=null==t||t<0?e.length:Math.min(t,e.length);for(var r=[],n=0;n<t;n++)r.push(i(e[n]));return r.join("")}Object.defineProperty(t,"__esModule",{value:!0});var i=String.fromCharCode;t.readBytesToUTF8=r,t.readBytesToUTF16=n,t.readBytesToISO8859=o,t.readBytesToString=function(e,t,i){return 0===t?o(e,i):3===t?r(e,i):1===t||2===t?n(e,void 0,i):null},t.getEndpointOfBytes=function(e,t,r){void 0===r&&(r=0);for(var n=0===t?function(t){return 0===e[t]}:function(t){return 0===e[t]&&0===e[t+1]},o=r;o<e.length&&!n(o);o++);return o},t.skipPaddingZeros=function(e,t){for(var r=t;0===e[r];r++)t++;return t}},7088:function(e,t,r){"use strict";function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();t.hasCookies=function(){var e=new l;try{e.setItem("__test","1");var t=e.getItem("__test");return e.removeItem("__test"),"1"===t}catch(r){return!1}};var a,u=r(61008),c=(a=u)&&a.__esModule?a:{default:a},s="lS_",l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,e),this.cookieOptions=n({path:"/"},t),s=void 0===t.prefix?s:t.prefix}return i(e,[{key:"getItem",value:function(e){var t=c.default.parse(document.cookie);return t&&t.hasOwnProperty(s+e)?t[s+e]:null}},{key:"setItem",value:function(e,t){return document.cookie=c.default.serialize(s+e,t,this.cookieOptions),t}},{key:"removeItem",value:function(e){var t=n({},this.cookieOptions,{maxAge:-1});return document.cookie=c.default.serialize(s+e,"",t),null}},{key:"clear",value:function(){var e=c.default.parse(document.cookie);for(var t in e)0===t.indexOf(s)&&this.removeItem(t.substr(s.length));return null}}]),e}();t.default=l},25544:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._data={}}return r(e,[{key:"getItem",value:function(e){return this._data.hasOwnProperty(e)?this._data[e]:null}},{key:"setItem",value:function(e,t){return this._data[e]=String(t)}},{key:"removeItem",value:function(e){return delete this._data[e]}},{key:"clear",value:function(){return this._data={}}}]),e}();t.default=n},80604:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var o=n(r(518)),i=n(r(7088)),a=n(r(25544)),u=null;u=(0,o.default)("localStorage")?window.localStorage:(0,o.default)("sessionStorage")?window.sessionStorage:(0,o.default)("cookieStorage")?new i.default:new a.default,t.ZP=u,o.default,i.default,a.default},518:function(e,t,r){"use strict";function n(e){try{var t=window[e];return t.setItem("__test","1"),t.removeItem("__test"),!0}catch(r){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"localStorage",t=String(e).replace(/storage$/i,"").toLowerCase();if("local"===t)return n("localStorage");if("session"===t)return n("sessionStorage");if("cookie"===t)return(0,o.hasCookies)();if("memory"===t)return!0;throw new Error("Storage method `"+e+"` is not available.\n    Please use one of the following: localStorage, sessionStorage, cookieStorage, memoryStorage.")};var o=r(7088)},93559:function(e){"use strict";e.exports=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(e,r)||(e[r]=t[r]);return e})},14675:function(e,t){function r(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i,a,u;!function(r,n){"object"==o(t)?n(t):(a=[t],void 0===(u="function"===typeof(i=n)?i.apply(t,a):i)||(e.exports=u))}(0,(function(e){"use strict";function t(e,t){function o(t){for(var n=[];e[f];)if(e.charCodeAt(f)==p){if(e.charCodeAt(f+1)===m){var o=f+2;if(f=e.indexOf(">",f),-1==e.substring(o,f).indexOf(t)){var i=e.substring(0,f).split("\n");throw new Error("Unexpected close tag\nLine: "+(i.length-1)+"\nColumn: "+(i[i.length-1].length+1)+"\nChar: "+e[f])}return f+1&&(f+=1),n}if(e.charCodeAt(f+1)===g){if(e.charCodeAt(f+2)==y){for(var u=f;-1!==f&&(e.charCodeAt(f)!==v||e.charCodeAt(f-1)!=y||e.charCodeAt(f-2)!=y||-1==f);)f=e.indexOf(">",f+1);-1===f&&(f=e.length),d&&n.push(e.substring(u,f+1))}else{if(e.charCodeAt(f+2)===S&&e.charCodeAt(f+8)===S&&"cdata"===e.substr(f+3,5).toLowerCase()){var s=e.indexOf("]]>",f);-1==s?(n.push(e.substr(f+9)),f=e.length):(n.push(e.substring(f+9,s)),f=s+3);continue}var l=f+1;f+=2;for(var b=!1;(e.charCodeAt(f)!==v||!0===b)&&e[f];)e.charCodeAt(f)===S?b=!0:!0===b&&e.charCodeAt(f)===E&&(b=!1),f++;n.push(e.substring(l,f))}f++;continue}var w=c();n.push(w),"?"===w.tagName[0]&&(n.push.apply(n,r(w.children)),w.children=[])}else{var O=a();if(h)O.length>0&&n.push(O);else{var k=O.trim();k.length>0&&n.push(k)}f++}return n}function a(){var t=f;return-2===(f=e.indexOf("<",f)-1)&&(f=e.length),e.slice(t,f+1)}function u(){for(var t=f;-1==="\r\n\t>/= ".indexOf(e[f])&&e[f];)f++;return e.slice(t,f)}function c(){f++;for(var t=u(),r={},n=[];e.charCodeAt(f)!==v&&e[f];){var i=e.charCodeAt(f);if(i>64&&i<91||i>96&&i<123){for(var a=u(),c=e.charCodeAt(f);c&&c!==b&&c!==w&&!(c>64&&c<91||c>96&&c<123)&&c!==v;)f++,c=e.charCodeAt(f);if(c===b||c===w){var l=s();if(-1===f)return{tagName:t,attributes:r,children:n}}else l=null,f--;r[a]=l}f++}if(e.charCodeAt(f-1)!==m)if("script"==t){var d=f+1;f=e.indexOf("<\/script>",f),n=[e.slice(d,f)],f+=9}else"style"==t?(d=f+1,f=e.indexOf("</style>",f),n=[e.slice(d,f)],f+=8):-1===O.indexOf(t)?(f++,n=o(t)):f++;else f++;return{tagName:t,attributes:r,children:n}}function s(){var t=e[f],r=f+1;return f=e.indexOf(t,r),e.slice(r,f)}var l,f=(t=t||{}).pos||0,d=!!t.keepComments,h=!!t.keepWhitespace,p="<".charCodeAt(0),v=">".charCodeAt(0),y="-".charCodeAt(0),m="/".charCodeAt(0),g="!".charCodeAt(0),b="'".charCodeAt(0),w='"'.charCodeAt(0),S="[".charCodeAt(0),E="]".charCodeAt(0),O=t.noChildNodes||["img","br","input","meta","link","hr"],k=null;if(void 0!==t.attrValue)for(t.attrName=t.attrName||"id",k=[];-1!==(void 0,l=new RegExp("\\s"+t.attrName+"\\s*=['\"]"+t.attrValue+"['\"]").exec(e),f=l?l.index:-1);)-1!==(f=e.lastIndexOf("<",f))&&k.push(c()),e=e.substr(f),f=0;else k=t.parseNode?c():o("");return t.filter&&(k=i(k,t.filter)),t.simplify?n(Array.isArray(k)?k:[k]):(t.setPos&&(k.pos=f),k)}function n(e){var t={};if(!e.length)return"";if(1===e.length&&"string"==typeof e[0])return e[0];for(var r in e.forEach((function(e){if("object"==o(e)){t[e.tagName]||(t[e.tagName]=[]);var r=n(e.children);t[e.tagName].push(r),Object.keys(e.attributes).length&&"string"!=typeof r&&(r._attributes=e.attributes)}})),t)1==t[r].length&&(t[r]=t[r][0]);return t}function i(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=[];return e.forEach((function(e,u){if("object"==o(e)&&t(e,u,r,n)&&a.push(e),e.children){var c=i(e.children,t,r+1,(n?n+".":"")+u+"."+e.tagName);a=a.concat(c)}})),a}e.filter=i,e.getElementById=function(e,r,n){var o=t(e,{attrValue:r});return n?tXml.simplify(o):o[0]},e.getElementsByClassName=function(e,r,n){var o=t(e,{attrName:"class",attrValue:"[a-zA-Z0-9- ]*"+r+"[a-zA-Z0-9- ]*"});return n?tXml.simplify(o):o},e.parse=t,e.simplify=n,e.simplifyLostLess=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={};return t.length?1===t.length&&"string"==typeof t[0]?Object.keys(r).length?{_attributes:r,value:t[0]}:t[0]:(t.forEach((function(t){if("object"==o(t)){n[t.tagName]||(n[t.tagName]=[]);var r=e(t.children||[],t.attributes);n[t.tagName].push(r),Object.keys(t.attributes).length&&(r._attributes=t.attributes)}})),n):n},e.stringify=function(e){function t(e){if(e)for(var t=0;t<e.length;t++)"string"==typeof e[t]?n+=e[t].trim():r(e[t])}function r(e){for(var r in n+="<"+e.tagName,e.attributes)null===e.attributes[r]?n+=" "+r:-1===e.attributes[r].indexOf('"')?n+=" "+r+'="'+e.attributes[r].trim()+'"':n+=" "+r+"='"+e.attributes[r].trim()+"'";"?"!==e.tagName[0]?(n+=">",t(e.children),n+="</"+e.tagName+">"):n+="?>"}var n="";return t(e),n},e.toContentString=function e(t){if(Array.isArray(t)){var r="";return t.forEach((function(t){r=(r+=" "+e(t)).trim()})),r}return"object"==o(t)?e(t.children):" "+t},Object.defineProperty(e,"__esModule",{value:!0})}))},81917:function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o="object"===("undefined"===typeof self?"undefined":n(self))?self.URL:window.URL,i=!1;try{var a=new o("b","http://a");a.pathname="c%20d",i="http://a/c%20d"===a.href}catch(c){}if(i)e.exports=o;else{var u=r(12756).J;u.createObjectURL=function(e){return o.createObjectURL(e)},u.revokeObjectURL=function(e){return o.revokeObjectURL(e)},e.exports=u}},60987:function(e,t,r){(e=r.nmd(e)).expors=window.URLSearchParams||r(12756)._},83361:function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(){for(;c.length;)c[0](),c.shift()}function n(e){this.a=s,this.b=void 0,this.f=[];var r=this;try{e((function(e){!function e(r,n){if(r.a==s){if(n==r)throw new TypeError;var o=!1;try{var u=n&&n.then;if(null!=n&&"object"===t(n)&&"function"===typeof u)return void u.call(n,(function(t){o||e(r,t),o=!0}),(function(e){o||i(r,e),o=!0}))}catch(c){return void(o||i(r,c))}r.a=0,r.b=n,a(r)}}(r,e)}),(function(e){i(r,e)}))}catch(n){i(r,n)}}function o(e){return new n((function(t){t(e)}))}function i(e,t){if(e.a==s){if(t==e)throw new TypeError;e.a=1,e.b=t,a(e)}}function a(e){!function(e){c.push(e),1==c.length&&u()}((function(){if(e.a!=s)for(;e.f.length;){var t=(o=e.f.shift())[0],r=o[1],n=o[2],o=o[3];try{0==e.a?n("function"===typeof t?t.call(void 0,e.b):e.b):1==e.a&&("function"===typeof r?n(r.call(void 0,e.b)):o(e.b))}catch(i){o(i)}}}))}var u,c=[];u=function(){setTimeout(r)};var s=2;n.prototype.g=function(e){return this.c(void 0,e)},n.prototype.c=function(e,t){var r=this;return new n((function(n,o){r.f.push([e,t,n,o]),a(r)}))},n.resolve=o,n.reject=function(e){return new n((function(t,r){r(e)}))},n.race=function(e){return new n((function(t,r){for(var n=0;n<e.length;n+=1)o(e[n]).c(t,r)}))},n.all=function(e){return new n((function(t,r){function n(r){return function(n){a[r]=n,(i+=1)==e.length&&t(a)}}var i=0,a=[];0==e.length&&t(a);for(var u=0;u<e.length;u+=1)o(e[u]).c(n(u),r)}))},n.prototype.then=n.prototype.c,n.prototype.catch=n.prototype.g,e.exports=("object"===("undefined"===typeof self?"undefined":t(self))?self.Promise:window.Promise)||n},60856:function(e,t,r){(t=e.exports=r(71104)(!1)).push([e.id,"@keyframes _1f86Je8{0%{transform:rotate(0deg)}to{transform:rotate(360deg)}}._3dwjosp{position:absolute;top:50%;left:50%;pointer-events:none}._2iJDT4A{position:absolute;top:-19px;left:-19px;width:38px;height:38px;animation-name:_1f86Je8;animation-duration:1s;animation-iteration-count:infinite;animation-timing-function:linear}",""]),t.locals={spinner:"_3dwjosp",spinner__svg:"_2iJDT4A",spinner_animation:"_1f86Je8"}},5654:function(e,t,r){(e.exports=r(71104)(!1)).push([e.id,"yaplayertag,yaplayertag:before,yaplayertag:after,yaplayertag *,yaplayertag :before,yaplayertag :after{hyphens:manual;font-size:inherit;color:inherit;background:0 0;border:0;border-radius:0;border-spacing:0;border-collapse:collapse;box-sizing:content-box;clear:none;float:none;font-variant:normal;font-weight:inherit;letter-spacing:normal;line-height:normal;margin:0;max-height:none;max-width:none;min-height:0;min-width:0;outline:0;padding:0;position:static;text-align:left;text-decoration:none;text-indent:0;text-transform:none;vertical-align:baseline;visibility:inherit;word-spacing:normal}",""])},14661:function(e,t,r){(t=e.exports=r(71104)(!1)).push([e.id,"._1gZJUfw{user-select:none;-webkit-user-select:none;-webkit-tap-highlight-color:transparent;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none;position:relative;background:#000;background-position:center;background-size:contain;background-repeat:no-repeat;width:100%;height:100%;font-family:'Helvetica Neue',Helvetica,Arial,sans-serif;overflow:hidden;text-align:left;outline:0}._2jlIyxK{width:100%;height:100%;font-family:'Helvetica Neue',Helvetica,Arial,sans-serif;overflow:hidden;user-select:none;text-align:left;outline:0;position:absolute;top:0;left:0;pointer-events:none;background:0 0}._1gZJUfw ._17DR8Wz{display:none!important}._1gZJUfw>.KNlHF8r{position:absolute;width:100%;height:100%;border:0}._1gZJUfw .xDBHr4L{position:absolute;width:100%;height:100%;pointer-events:none}._1gZJUfw video{width:100%;height:100%}._1gZJUfw video::-webkit-media-controls-start-playback-button{z-index:2147483647!important}._1gZJUfw video._33stY3F::-webkit-media-controls-start-playback-button{display:none!important}._1CaeSWZ{object-fit:cover!important}",""]),t.locals={StreamPlayer:"_1gZJUfw",StreamPlayer_ui:"_2jlIyxK",hidden:"_17DR8Wz",container:"KNlHF8r",adSkin:"xDBHr4L","hide-native-play-button":"_33stY3F",StreamPlayer_iosLandscapeWorkaround:"_1CaeSWZ"}},38024:function(e,t,r){var n=r(93379),o=r(60866);"string"===typeof(o=o.__esModule?o.default:o)&&(o=[[e.id,o,""]]);var i={injectType:"singletonStyleTag",attributes:{"data-ya-player-style":"data-ya-player-style"},insert:"head",singleton:!0};n(o,i);e.exports=o.locals||{}},93379:function(e,t,r){"use strict";function n(e){for(var t=-1,r=0;r<h.length;r++)if(h[r].identifier===e){t=r;break}return t}function o(e,t){for(var r={},o=[],i=0;i<e.length;i++){var a=e[i],u=t.base?a[0]+t.base:a[0],s=r[u]||0,l="".concat(u," ").concat(s);r[u]=s+1;var f=n(l),d={css:a[1],media:a[2],sourceMap:a[3]};-1!==f?(h[f].references++,h[f].updater(d)):h.push({identifier:l,updater:c(d,t),references:1}),o.push(l)}return o}function i(e){var t=document.createElement("style"),n=e.attributes||{};if("undefined"===typeof n.nonce){var o=r.nc;o&&(n.nonce=o)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"===typeof e.insert)e.insert(t);else{var i=d(e.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(t)}return t}function a(e,t,r,n){var o=r?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=p(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function u(e,t,r){var n=r.css,o=r.media,i=r.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&"undefined"!==typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function c(e,t){var r,n,o;if(t.singleton){var c=y++;r=v||(v=i(t)),n=a.bind(null,r,c,!1),o=a.bind(null,r,c,!0)}else r=i(t),n=u.bind(null,r,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(r)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else o()}}var s,l,f=function(){return"undefined"===typeof s&&(s=Boolean(window&&document&&document.all&&!window.atob)),s},d=function(){var e={};return function(t){if("undefined"===typeof e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(n){r=null}e[t]=r}return e[t]}}(),h=[],p=(l=[],function(e,t){return l[e]=t,l.filter(Boolean).join("\n")}),v=null,y=0;e.exports=function(e,t){(t=t||{}).singleton||"boolean"===typeof t.singleton||(t.singleton=f());var r=o(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var i=0;i<r.length;i++){var a=n(r[i]);h[a].references--}for(var u=o(e,t),c=0;c<r.length;c++){var s=n(r[c]);0===h[s].references&&(h[s].updater(),h.splice(s,1))}r=u}}}},17792:function(e){e.exports='<svg viewBox="0 0 29 29" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14.5 1.5a13 13 0 1 0 12.898 14.63" stroke="#fff" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"></path></svg>'},60310:function(e){e.exports='<svg viewBox="0 0 18 18"><path d="M14.684 3.292Q17.053 5.661 17.053 9q0 3.34-2.369 5.708Q12.34 17.053 9 17.053V18q3.742 0 6.371-2.629Q18 12.742 18 9q0-3.718-2.629-6.371Q12.742 0 9 0v.947q3.34 0 5.684 2.345z"></path></svg>'},60866:function(e,t,r){(t=e.exports=r(71104)(!1)).push([e.id,"._20Eh5WL::-webkit-media-controls{display:none!important}._1ll4Zna::-webkit-media-controls-current-time-display,._1ll4Zna::-webkit-media-controls-time-remaining-display{visibility:hidden!important}._3D52tih::-webkit-media-controls-timeline{visibility:hidden!important}._2yNfXKt::-webkit-media-controls-toggle-closed-captions-button{display:none}",""]),t.locals={video_hiddenControls:"_20Eh5WL",videoHiddenControls:"_20Eh5WL",video_hiddenTime:"_1ll4Zna",videoHiddenTime:"_1ll4Zna",video_hiddenTimeline:"_3D52tih",videoHiddenTimeline:"_3D52tih",video_hiddenSubtitlesBtn:"_2yNfXKt",videoHiddenSubtitlesBtn:"_2yNfXKt"}},40313:function(e,t){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var s={};try{new(function(e){function t(){return o(this,t),r.apply(this,arguments)}!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(t,e);var r=a(t);return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(t)}((new EventTarget).constructor)),s.EventTarget=(new EventTarget).constructor}catch(EventTarget){!function(e,t){function r(){t.set(this,i(null))}function n(e,t,r){a(e,t,{configurable:!0,writable:!0,value:r})}function o(e){var t=e.options;return t&&t.once&&e.target.removeEventListener(this.type,e.listener),"function"===typeof e.listener?e.listener.call(e.target,this):e.listener.handleEvent(this),this._stopImmediatePropagationFlag}var i=e.create,a=e.defineProperty,u=r.prototype;n(u,"addEventListener",(function(e,r,n){for(var o=t.get(this),i=o[e]||(o[e]=[]),a=0,u=i.length;a<u;a++)if(i[a].listener===r)return;i.push({target:this,listener:r,options:n})})),n(u,"dispatchEvent",(function(e){var r=t.get(this)[e.type];return r&&(n(e,"target",this),n(e,"currentTarget",this),r.slice(0).some(o,e),delete e.currentTarget,delete e.target),!0})),n(u,"removeEventListener",(function(e,r){for(var n=t.get(this),o=n[e]||(n[e]=[]),i=0,a=o.length;i<a;i++)if(o[i].listener===r)return void o.splice(i,1)})),s.EventTarget=r}(Object,new WeakMap)}t.Z=s.EventTarget},12756:function(e,t,r){"use strict";function n(e,t,r){throw(r=new TypeError(e)).code=t,r}function o(e){n("Invalid URL: "+e,"ERR_INVALID_URL")}function i(e,t,r,o){r='The "name" ',o="argument",e&&(r+='and "value" ',o+="s"),t<++e&&n(r+o+" must be specified","ERR_MISSING_ARGS")}function a(e,t){var r=0,n={next:function(){return{value:e[r++],done:r>e.length}}};return t&&(n[Symbol.iterator]=function(){return n}),n}function u(e,t){function r(e,t){for(i(1,arguments.length),t=String(t),f=!1,l=v.length;l--;)(h=v[l])[0]==e&&(f?v.splice(l,1):(h[1]=t,f=!0));f||v.push([e,t]),c()}function o(e,t){i(1,arguments.length),v.push([e,String(t)]),c()}function u(){for(h="",l=0;l<v.length;l++)h&&(h+="&"),h+=encodeURIComponent(v[l][0])+"="+encodeURIComponent(v[l][1]);return h.replace(/%20/g,"+")}function c(){t&&(t.search=v.length?"?"+u().replace(/=$/,""):"")}var s,l,f,d,h,p=this,v=[];try{d=!!Symbol.iterator}catch(y){d=!1}if(e)if(e.keys&&e.getAll)e.forEach((function(e,t){o(t,e)}));else if(e.pop)for(l=0;l<e.length;l++)o.apply(0,e[l]);else if("object"==typeof e)for(s in e)r(s,e[s]);else if("string"==typeof e)for("?"==e[0]&&(e=e.substring(1)),f=decodeURIComponent(e).split("&");s=f.shift();)~(l=s.indexOf("="))||(l=s.length),o(s.substring(0,l),s.substring(++l));return p.append=o,p.delete=function(e){for(i(0,arguments.length),l=v.length;l--;)v[l][0]==e&&v.splice(l,1);c()},p.entries=function(){return a(v,d)},p.forEach=function(e){for("function"!=typeof e&&n("Callback must be a function","ERR_INVALID_CALLBACK"),l=0;l<v.length;l++)e(v[l][1],v[l][0])},p.get=function(e){for(i(0,arguments.length),l=0;l<v.length;l++)if(v[l][0]==e)return v[l][1];return null},p.getAll=function(e){for(i(0,arguments.length),h=[],l=0;l<v.length;l++)v[l][0]==e&&h.push(v[l][1]);return h},p.has=function(e){for(i(0,arguments.length),l=0;l<v.length;l++)if(v[l][0]==e)return!0;return!1},p.keys=function(){for(h=[],l=0;l<v.length;l++)h.push(v[l][0]);return a(h,d)},p.set=r,p.sort=function(){for(f=[],h=[],l=0;l<v.length;f.push(v[l++][0]));for(f.sort();s=f.shift();)for(l=0;l<v.length;l++)if(v[l][0]==s){h.push(v.splice(l,1).shift());break}v=h,c()},p.toString=u,p.values=function(){for(h=[],l=0;l<v.length;l++)h.push(v[l][1]);return a(h,d)},d&&(p[Symbol.iterator]=p.entries),p}function c(e,t){function r(e,t,r,n){return n={enumerable:!0},t||(n.set=function(t){null!=t&&(c[e]=String(t),"href"!=e&&"search"!=e||(i=new u(c.search,c)))}),n.get=r||function(){return function(e){return a.href=c.href,a.protocol="http:","protocol"==e||"href"==e||f.test(c.protocol)?c[e]:"origin"==e?f.test(c.protocol)?c[e]:"null":a[e]}(e)},n}var n,i,a=document.createElement("a"),c=document.createElement("a"),s=document.createElement("input"),l=this,f=/(blob|ftp|wss?|https?):/;if(s.type="url",t=String(t||"").trim(),(s.value=t)&&!s.checkValidity())return o(t);if(e=String(e).trim(),s.value=e||0,s.checkValidity())c.href=e;else{if(!t)return o(e);c.href=t,e&&((i=e.match(/^\/+/))&&2==i[0].length?c.href=c.protocol+e:/[?#]/.test(e[0])?c.href+=e:"/"==e[0]||"/"==c.pathname?c.href=c.origin+"/"+e.replace(/^\/+/,""):(n=c.pathname.split("/"),t=e.replace(/^(\.\/)?/,"").split("../"),c.href=c.origin+n.slice(0,Math.max(1,n.length-t.length)).concat(t.pop()).join("/")))}return i=new u(c.search,c),l.toString=l.toJSON=c.toString.bind(c),Object.defineProperties(l,{href:r("href"),protocol:r("protocol"),username:r("username"),password:r("password"),hostname:r("hostname"),host:r("host"),port:r("port"),search:r("search"),hash:r("hash"),pathname:r("pathname"),origin:r("origin",1),searchParams:r("searchParams",1,(function(){return i}))})}r.d(t,{J:function(){return c},_:function(){return u}})}},n={};e.m=r,e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,{a:r}),r},e.d=function(t,r){for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},e.f={},e.e=function(t){return Promise.all(Object.keys(e.f).reduce((function(r,n){return e.f[n](t,r),r}),[]))},e.u=function(e){return"js/AesCbc.js"},e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t={},e.l=function(r,n,o,i){if(t[r])t[r].push(n);else{var a,u;if(void 0!==o)for(var c=document.getElementsByTagName("script"),s=0;s<c.length;s++){var l=c[s];if(l.getAttribute("src")==r||l.getAttribute("data-webpack")=="webpackStreamPlayerJsonp:"+o){a=l;break}}a||(u=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,e.nc&&a.setAttribute("nonce",e.nc),a.setAttribute("data-webpack","webpackStreamPlayerJsonp:"+o),a.src=r),t[r]=[n];var f=function(e,n){a.onerror=a.onload=null,clearTimeout(d);var o=t[r];if(delete t[r],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((function(e){return e(n)})),e)return e(n)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=f.bind(null,a.onerror),a.onload=f.bind(null,a.onload),u&&document.head.appendChild(a)}},e.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},e.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},e.p="https://storage.yandexcloud.net/videoplatform-public/player/yandex-video-player-iframe-api-bundles/1.0-12463/",function(){var t={618:0};e.f.j=function(r,n){var o=e.o(t,r)?t[r]:void 0;if(0!==o)if(o)n.push(o[2]);else{var i=new Promise((function(e,n){o=t[r]=[e,n]}));n.push(o[2]=i);var a=e.p+e.u(r),u=new Error;e.l(a,(function(n){if(e.o(t,r)&&(0!==(o=t[r])&&(t[r]=void 0),o)){var i=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;u.message="Loading chunk "+r+" failed.\n("+i+": "+a+")",u.name="ChunkLoadError",u.type=i,u.request=a,o[1](u)}}),"chunk-"+r,r)}};var r=function(r,n){var o,i,a=n[0],u=n[1],c=n[2],s=0;if(a.some((function(e){return 0!==t[e]}))){for(o in u)e.o(u,o)&&(e.m[o]=u[o]);if(c)c(e)}for(r&&r(n);s<a.length;s++)i=a[s],e.o(t,i)&&t[i]&&t[i][0](),t[i]=0},n=self.webpackChunkwebpackStreamPlayerJsonp=self.webpackChunkwebpackStreamPlayerJsonp||[];n.forEach(r.bind(null,0)),n.push=r.bind(null,n.push.bind(n))}();e(18554)}();